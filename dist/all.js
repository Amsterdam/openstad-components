window.OpenStadComponents=function(n){var o={};function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=119)}([function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(4),s=n.n(o),r=n(2),i=n.n(r);n(70);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=c(i);return t=a?(e=c(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==l(o)&&"function"!=typeof o?p(n):o}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,i.a.Component);var e,t,n,a=d(c);function c(n){var e,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var r=p(e=a.call(this,n));if(n.attributes&&Object.keys(n.attributes).forEach(function(e){var t=n.attributes[e];r[t.name]=t.value}),"string"==typeof r.config)try{r.config=JSON.parse(r.config)}catch(e){}var i=function t(n){if("object"!=l(n))return n;Object.keys(n).forEach(function(e){void 0!==n[e]&&null!=n[e]||delete n[e],"object"==l(n[e])&&(n[e]=t(n[e]))});return n}(i=n.config||{});return r.config=s.a.recursive({siteId:null,api:{url:null,headers:null,isUserLoggedIn:!1},user:{}},t,o,i),r.divId=r.divId||r.config&&r.config.divId||n.id||"openstad-component-".concat(parseInt(1e8*Math.random())),window[r.divId]=r,e}return e=c,(t=[{key:"componentDidMount",value:function(){}}])&&u(e.prototype,t),n&&u(e,n),c}()},function(e,t,n){"use strict";n(11),n(2),n(6),n(78);var o=n(4),r=n.n(o);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){var t,n,o=window.location.search.match(/(?:\?|&)jwt=([A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*)(?:&|$)/);return o&&(t=o[1],s.set("osc-jwt",t),"?"==(n=document.location.search.replace("jwt="+t,""))&&(n=""),document.location.search=n),t=s.get("osc-jwt"),e&&e.jwt&&(t=e.jwt,s.set("osc-jwt",t)),t}var c={get:function(e){var t=sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==i(t))try{t=JSON.stringify(t)}catch(e){}sessionStorage.setItem(e,t)}},remove:function(e){sessionStorage.removeItem(e)}},s=c,l={admin:["admin","moderator","editor","member","anonymous","all"],moderator:["moderator","editor","member","anonymous","all"],editor:["editor","member","anonymous","all"],member:["member","anonymous","all"],anonymous:["anonymous","all"],all:["all"],owner:null};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f={get:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==u(t))try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)}},remove:function(e){localStorage.removeItem(e)}},d={api:{getHeaders:function(e){var t=r.a.recursive({"Content-type":"application/json"},e&&e.api&&e.api.headers),n=a();return n&&(t=r.a.recursive({"X-Authorization":"Bearer "+n},t)),t}},user:{getUser:function(e,t){t=t||function(e){console.log("getUser: next not defined."),console.log(e)};var n=e.user||s.get("osc-user");if(n)return t(null,n);var o=a(e);if(!o)return t(null,{});var r="".concat(e.api.url,"/oauth/site/").concat(e.siteId,"/me"),i={"X-Authorization":"Bearer ".concat(o),"Content-Type":"application/json"};fetch(r,{headers:i}).then(function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()}).then(function(e){s.set("osc-user",e),t(null,e)}).catch(function(e){t(e)})},getJWT:a,logout:function(e,t){t=t||function(e){console.log("logout: next not defined.")};var n=e.user||s.get("osc-user");if(n)return t(null,n);var o=a(e);if(!o)return t(null,{});var r=e.api.url+"/oauth/site/"+e.siteId+"/me";fetch(r,{headers:{"X-Authorization":"Bearer "+o,"Content-Type":"application/json"}}).then(function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()}).then(function(e){s.set("osc-user",e),t(null,e)}).catch(function(e){t(e)})},hasRole:function(e,t){var n=e.role;return Object.keys(l).includes(n)||(n="all"),l[n].includes(t)}},localStorage:f,sessionStorage:s,reactTemplate:function(e){var t=e.html,n=void 0===t?"":t,o=e;delete o.html;var r=0;return Object.keys(o).forEach(function(e){var t=new RegExp("^((?:.|\n|\r)*)\\{".concat(e,"\\}((?:.|\n|\r)*)$"),"g").exec(n);t&&(r++,n=React.createElement("span",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:t[1]}}),o[e],React.createElement("span",{dangerouslySetInnerHTML:{__html:t[2]}})))}),0==r&&(n=React.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),n}};t.a=d},function(e,t){e.exports=window.React},function(n,e,t){(function(e){function t(e){return e&&e.Math==Math&&e}n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")()}).call(this,t(20))},function(e,t,n){(function(e){function t(e,t,n){var o=n[0],r=n.length;!e&&"object"===l(o)||(o={});for(var i=0;i<r;++i){var a,c=n[i];if("object"===l(c))for(var s in c){"__proto__"!==s&&(a=e?u.clone(c[s]):c[s],o[s]=t?function e(t,n){if("object"!==l(t))return n;for(var o in n)"object"===l(t[o])&&"object"===l(n[o])?t[o]=e(t[o],n[o]):t[o]=n[o];return t}(o[s],a):a)}}return o}function l(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}var n,u;n=e&&"object"==typeof e.exports&&e.exports,(u=function(e){return t(!0===e,!1,arguments)}).recursive=function(e){return t(!0===e,!0,arguments)},u.clone=function(e){var t,n,o=e,r=l(e);if("array"===r)for(o=[],n=e.length,t=0;t<n;++t)o[t]=u.clone(e[t]);else if("object"===r)for(t in o={},e)o[t]=u.clone(e[t]);return o},n?e.exports=u:window.merge=u}).call(this,n(69)(e))},function(e,t,n){"use strict";n(11),n(2),n(6),n(82);var i=n(0);n(1);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=f(i);return t=a?(e=f(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==c(o)&&"function"!=typeof o?u(n):o}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,i["a"]);var e,t,n,o=l(r);function r(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),u(t=o.call(this,e,{choices:[],name:"",placeholder:"",disabled:!1,required:!1},n)).state={value:e.value,error:null},t.onChange=e.onChange,t}return e=r,(t=[{key:"validate",value:function(e){var t=e.showErrors,n=!this.config.required||!!this.state.value,o=!n&&t?!0:"";return this.setState({isValid:n,error:o}),n}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},t.setState(e,function(){t.validate({})}),"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})}}])&&a(e.prototype,t),n&&a(e,n),r}();function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=g(i);return t=a?(e=g(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==p(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(r,d);var e,t,n,o=y(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"render",value:function(){var t=this;return React.createElement("input",{type:"hidden",value:this.props.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}})}}])&&h(e.prototype,t),n&&h(e,n),r}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=E(i);return t=a?(e=E(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==b(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(r,d);var e,t,n,o=O(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=o.call(this,e,{allowMultiple:!1,imageserver:{process:"",fetch:""}});var n=[];return(e.value||[]).forEach(function(e){n.push({source:{url:e},options:{type:"local",file:{name:e},metadata:{poster:e}}})}),t.state={uploadedFiles:n},t}return e=r,(t=[{key:"componentDidMount",value:function(){this._loadedFiles=0,this.files=["https://unpkg.com/filepond/dist/filepond.js","https://unpkg.com/filepond-polyfill/dist/filepond-polyfill.js","https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js","https://unpkg.com/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.js","https://unpkg.com/filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.js","https://unpkg.com/filepond-plugin-file-poster/dist/filepond-plugin-file-poster.js"],this.loadNextFile()}},{key:"loadNextFile",value:function(){var e,t=this,n=t.files[t._loadedFiles];n&&((e=document.createElement("script")).src=n,e.async=!0,e&&(e.onload=function(){t.loadNextFile()},document.body.appendChild(e))),t._loadedFiles==t.files.length&&t.fileUploaderInit(),t._loadedFiles++}},{key:"validate",value:function(){var t=!0;return this.imageuploader&&this.imageuploader.getFiles&&this.imageuploader.getFiles().forEach(function(e){e.serverId||(t=!1)}),t}},{key:"fileUploaderInit",value:function(){var e,t=this,n=document.querySelector(".osc-image-upload-container");n&&(FilePond.registerPlugin(FilePondPluginImagePreview),FilePond.registerPlugin(FilePondPluginFileValidateSize),FilePond.registerPlugin(FilePondPluginFileValidateType),FilePond.registerPlugin(FilePondPluginFilePoster),e={acceptedFileTypes:["image/*"],allowFileSizeValidation:!0,allowMultiple:this.config.allowMultiple,allowReorder:!0,styleItemPanelAspectRatio:1,maxFileSize:"8mb",name:"image",maxFiles:5,allowBrowse:!0,files:this.state.uploadedFiles,server:{process:this.config.imageserver.process,fetch:this.config.imageserver.fetch},imageResizeTargetWidth:80,imageResizeTargetHeight:80,imageCropAspectRatio:"1:1",labelIdle:"Sleep afbeelding(en) naar deze plek of <span class='filepond--label-action'>KLIK HIER</span>",labelInvalidField:"Field contains invalid files",labelFileWaitingForSize:"Wachtend op grootte",labelFileSizeNotAvailable:"Grootte niet beschikbaar",labelFileCountSingular:"Bestand in lijst",labelFileCountPlural:"Bestanden in lijst",labelFileLoading:"Laden",labelFileAdded:"Toegevoegd",labelFileLoadError:"Fout bij het uploaden",labelFileRemoved:"Verwijderd",labelFileRemoveError:"Fout bij het verwijderen",labelFileProcessing:"Laden",labelFileProcessingComplete:"Afbeelding geladen",labelFileProcessingAborted:"Upload cancelled",labelFileProcessingError:"Error during upload",labelFileProcessingRevertError:"Error during revert",labelTapToCancel:"tap to cancel",labelTapToRetry:"tap to retry",labelTapToUndo:"tap to undo",labelButtonRemoveItem:"Verwijderen",labelButtonAbortItemLoad:"Abort",labelButtonRetryItemLoad:"Retry",labelButtonAbortItemProcessing:"Verwijder",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Retry",labelButtonProcessItem:"Upload"},t.imageuploader=FilePond.create(n,e),document.querySelector(".filepond--root"),document.querySelector(".filepond--root").addEventListener("FilePond:processfile",function(e){e.detail&&e.detail.error&&console.log("Error uploding file: ",e.detail),t.fileUploaderUpdateCurrentInput()}),document.querySelector(".filepond--root").addEventListener("FilePond:removefile",function(e){e.detail&&e.detail.error&&console.log("Error uploding file: ",e.detail),t.fileUploaderUpdateCurrentInput()}),t.state.formfields&&t.imageuploader.addFiles(t.state.formfields.images))}},{key:"fileUploaderUpdateCurrentInput",value:function(){var n=this;n.state.value=[],this.imageuploader&&this.imageuploader.getFiles&&this.imageuploader.getFiles().forEach(function(e){try{var t="string"==typeof e.serverId?JSON.parse(e.serverId):e.serverId;n.state.value.push(t.url)}catch(e){console.log(e)}}),n.props.onChange({name:n.config.name,value:n.state.value})}},{key:"fileUploaderUploaderAddImages",value:function(e){this.imageuploader&&this.imageuploader.addFiles(e)}},{key:"render",value:function(){var e=null;return this.state.error&&(e=React.createElement("div",{className:"osc-form-error"},"Je hebt nog geen afbeelding geupload")),React.createElement("div",{className:"osc-image-upload-container"},React.createElement("input",{type:"file",className:"imageUploader-gebiedstool filepond-gebiedstool"}),e)}}])&&_(e.prototype,t),n&&_(e,n),r}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=j(i);return t=a?(e=j(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==k(o)&&"function"!=typeof o?P(n):o}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(r,i["a"]);var e,t,n,o=I(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e)).state={value:t.props.value},t.onKeyUpx=t.onKeyUpx.bind(P(t)),t}return e=r,(t=[{key:"componentDidMount",value:function(){var e=this.props.value,e=this.filterHTML(e);this.input.innerHTML=e}},{key:"filterHTML",value:function(e){return e=(e=(e=e.replace(/<(\/?\s*(?:a [^>]+|a|b|i|strong|em|p|div|br|ul|li)\s*\/?)>/g,"[[[$1]]]")).replace(/<[^>]+>/g,"")).replace(/\[\[\[([^\]]+)\]\]\]/g,"<$1>")}},{key:"executeAction",value:function(e,t,n){e.preventDefault(),e.stopPropagation(),document.execCommand(t,!1,n),this.onKeyUp()}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e),this.props.onChange&&this.props.onChange({value:this.state.value})}},{key:"onKeyUpx",value:function(){var e=this.input.innerHTML,e=this.filterHTML(e);this.setState({value:e}),this.props.onKeyUp&&this.props.onKeyUp(e)}},{key:"render",value:function(){var t=this;return React.createElement("div",{className:"osc-html-editor"},React.createElement("div",{className:"osc-html-editor-buttons"},React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-bold",onMouseDown:function(e){return t.executeAction(e,"bold")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-italic",onMouseDown:function(e){return t.executeAction(e,"italic")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-insertunorderedlist",onMouseDown:function(e){return t.executeAction(e,"insertunorderedlist")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-createlink",onMouseDown:function(e){return t.executeAction(e,"createlink",prompt("Lank naar","http://"))}}," ")),React.createElement("div",{className:"osc-html-editor-content",contentEditable:!0,onFocus:function(e){return t.onFocus(e)},onBlur:function(e){return t.onBlur(e)},onKeyUp:function(){return t.onKeyUpx()},ref:function(e){return t.input=e}}))}}])&&R(e.prototype,t),n&&R(e,n),r}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=A(i);return t=a?(e=A(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==T(o)&&"function"!=typeof o?D(n):o}}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(r,i["a"]);var e,t,n,o=N(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=D(t=o.call(this,e,{name:"tekst",inputType:"input",minLength:5,maxLength:1024,placeholder:""}));return n.id=e.id||"osc-formfields-plaintext-with-counter-"+parseInt(1e6*Math.random()),n.state={focused:!1,value:e.value||"",valueLength:e.value&&e.value.length||0},n.key=e.useKey||(n.id||"osc-input-with-counter-")+parseInt(1e7*Math.random),t.onChange=e.onChange,n.handleOnChange=n.handleOnChange.bind(D(t)),n.onInputFocus=n.onInputFocus.bind(D(t)),n.onInputBlur=n.onInputBlur.bind(D(t)),n.onInputKeyUp=n.onInputKeyUp.bind(D(t)),t}return e=r,(t=[{key:"isValid",value:function(){var e={isValid:!0,warning:null};return this.state.valueLength<this.config.minLength&&(e.warning="De tekst is te kort",e.isValid=!1),this.state.valueLength>this.config.maxLength&&(e.warning="De tekst is te lang",e.isValid=!1),this.setState(e),e.isValid}},{key:"validate",value:function(){return this.setState({showWarning:!0}),this.isValid()}},{key:"handleOnChange",value:function(e){e=e||{},this.setState(e),"function"==typeof this.onChange&&this.onChange({name:this.config.name,value:e.value})}},{key:"onInputFocus",value:function(){var e={focused:!0,showWarning:!1};this.setState(e)}},{key:"onInputBlur",value:function(){var e={focused:!1};this.setState(e)}},{key:"onInputKeyUp",value:function(e){var t={};t.value=e||this.input.value;var n=t.value.length;t.valueLength=n,t.isValid=n>=this.config.minLength&&n<=this.config.maxLength,this.setState(t)}},{key:"render",value:function(){var e,t=this,n=this,o=null,r=null;n.state.focused&&(o=n.state.valueLength<n.config.minLength?React.createElement("div",{className:"osc-form-counter osc-form-error"},"Nog minimaal ",React.createElement("span",{className:""},n.config.minLength-n.state.valueLength)," tekens"):(e=n.state.valueLength>n.config.maxLength?"osc-form-error":"",React.createElement("div",{className:"osc-form-counter "+e},"Je hebt nog ",React.createElement("span",{className:""},n.config.maxLength-n.state.valueLength)," tekens over."))),n.state.showWarning&&n.state.warning&&(r=React.createElement("div",{className:"osc-form-warning",ref:function(e){return t["form-warning"]=e}},n.state.warning));var i=null;switch(n.config.inputType){case"htmlarea":i=React.createElement(L,{value:this.state.value,onChange:n.handleOnChange,onFocus:n.onInputFocus,onBlur:n.onInputBlur,onKeyUp:n.onInputKeyUp});break;case"textarea":i=React.createElement("textarea",{key:n.key,ref:function(e){return n.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return n.handleOnChange({value:n.input.value})},onKeyUp:function(){return n.onInputKeyUp()},onFocus:function(e){return n.onInputFocus(e)},onBlur:function(e){return n.onInputBlur(e)}});break;case"input":default:i=React.createElement("input",{key:n.key,ref:function(e){return n.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return n.handleOnChange({value:n.input.value})},onKeyUp:function(){return n.onInputKeyUp()},onFocus:function(e){return n.onInputFocus(e)},onBlur:function(e){return n.onInputBlur(e)}})}return React.createElement("div",{id:n.id,ref:function(e){return n.instance=e},className:"osc-input-with-counter"},React.createElement("div",{className:"osc-form-feedback"},i,o,r))}}])&&x(e.prototype,t),n&&x(e,n),r}();function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=V(i);return t=a?(e=V(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==B(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(r,d);var e,t,n,o=H(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-radios"},t.config.choices.map(function(e){return e.dangerousDescription?React.createElement("div",{className:"osc-radio-container",key:e.value},React.createElement("div",{className:"osc-radio-input".concat(t.state.value==e.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:t.divId,value:e.value,onChange:function(){return t.handleOnChange({value:e.value})}})),React.createElement("div",{className:"osc-radio-text",dangerouslySetInnerHTML:{__html:e.dangerousDescription}})):React.createElement("div",{className:"osc-radio-container",key:e.value},React.createElement("div",{className:"osc-radio-input".concat(t.state.value==e.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:t.divId,value:e.value,onChange:function(){return t.handleOnChange({value:e.value})}})),React.createElement("div",{className:"osc-radio-text"},e.dangerousDescription?null:e.description||e.title||e.value))}),e)}}])&&U(e.prototype,t),n&&U(e,n),r}();function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=J(i);return t=a?(e=J(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==z(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(r,d);var e,t,n,o=Q(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"validate",value:function(e){var t=e.showErrors,n=!0,o="";return this.state.value&&this.state.value.match(/^\s*\d{4}\s*[a-zA-Z][a-zA-Z]\s*$/)||(n=!1,t&&(o="Dit is geen postcode")),this.config.required&&!this.state.value&&(n=!1,t&&(o="Je hebt nog niets ingevuld")),this.setState({isValid:n,error:o}),n}},{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error"},t.state.error)),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.props.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}}),e)}}])&&G(e.prototype,t),n&&G(e,n),r}();function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=te(i);return t=a?(e=te(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==$(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(r,d);var e,t,n,o=ee(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"componentDidMount",value:function(){var e=this.state.value||this.config.choices[0]&&this.config.choices[0].value;this.handleOnChange({value:e})}},{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-select"},React.createElement("select",{value:this.state.value||"",disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}},t.config.choices.map(function(e){return React.createElement("option",{value:e.value||"",key:e.value},e.description||e.title||e.value)})),e)}}])&&Y(e.prototype,t),n&&Y(e,n),r}();function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=ce(i);return t=a?(e=ce(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==oe(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(r,d);var e,t,n,o=ae(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.props.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}}),e)}}])&&re(e.prototype,t),n&&re(e,n),r}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=pe(i);return t=a?(e=pe(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==le(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(r,d);var e,t,n,o=de(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textarea"},React.createElement("textarea",{value:this.props.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}},this.state.value),e)}}])&&ue(e.prototype,t),n&&ue(e,n),r}();function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function ye(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function ge(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=we(i);return t=a?(e=we(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==me(o)&&"function"!=typeof o?_e(n):o}}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(r,i["a"]);var e,t,n,o=be(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=_e(t=o.call(this,e,{inputType:null,validateAction:null,changeAction:null,required:!1,title:null,description:null,choices:[]}));return n.config.name=n.config.name||n.config.title.toLowerCase(),n.state={value:e.value||void 0},n.handleOnChange=n.handleOnChange.bind(n),n.onChange=e.onChange,t}return e=r,(t=[{key:"validate",value:function(e){var t=e.showErrors;return!this.input||this.input.validate({showErrors:t})}},{key:"handleOnChange",value:function(e){"function"==typeof this.onChange&&this.onChange(e)}},{key:"render",value:function(){var t=this,e=null;t.config.title&&(e=React.createElement("h3",{className:"osc-form-title"},t.config.title));var n=null;t.config.description&&(n=React.createElement("div",{className:"osc-form-description",dangerouslySetInnerHTML:{__html:t.config.description}}));var o=null;switch(t.config.inputType){case"hidden":o=React.createElement(v,{config:t.config,value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"html-with-counter":case"htmlarea-with-counter":o=React.createElement(F,{config:ye(ye({},t.config),{},{inputType:"htmlarea"}),value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"image-upload":o=React.createElement(S,{config:t.config,value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"input-with-counter":case"text-with-counter":o=React.createElement(F,{config:ye({inputType:"input"},t.config),value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"postcode":o=React.createElement(Z,{config:t.config,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"radios":o=React.createElement(W,{config:t.config,value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"select":case"multiple-choice":o=React.createElement(ne,{config:t.config,value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"text":o=React.createElement(se,{config:t.config,value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"textarea":o=React.createElement(he,{config:t.config,value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"textarea-with-counter":o=React.createElement(F,{config:ye(ye({},t.config),{},{inputType:"textarea"}),value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}})}return React.createElement("div",{id:t.id,ref:function(e){return t.instance=e},className:"osc-form-field"},e,n,o)}}])&&ge(e.prototype,t),n&&ge(e,n),r}();function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=je(i);return t=a?(e=je(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==Ee(o)&&"function"!=typeof o?Pe(n):o}}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(r,i["a"]);var e,t,n,o=Ie(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=Pe(t=o.call(this,e,{title:null,intro:null,fields:[]}));return n.state={values:e.values||{}},n.handleOnChange=n.handleOnChange.bind(Pe(t)),n.fields=[],t}return e=r,(t=[{key:"getValues",value:function(){return this.state.values}},{key:"validate",value:function(e){var t=e.showErrors,n=e.scrollTo,o=!0,r=null;return this.fields.forEach(function(e){e.validate({showErrors:t})||(o=!1,r=r||e)}),n&&r&&r.instance&&r.instance.scrollIntoView&&r.instance.scrollIntoView({behavior:"smooth"}),o}},{key:"handleOnChange",value:function(e){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(n),!0).forEach(function(e){ke(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.state.values);t[e.name]=e.value,this.setState({values:t})}},{key:"render",value:function(){var n=this,e=null;n.config.title&&(e=React.createElement("h2",{className:"osc-form-title"},n.config.title));var t=null;n.config.intro&&(t=React.createElement("div",{className:"osc-form-intro",dangerouslySetInnerHTML:{__html:n.config.intro}}));var o=null;return n.config.fields&&n.config.fields.length&&(o=React.createElement("div",{className:"osc-form-fields"},n.config.fields.map(function(e,t){return React.createElement(Oe,ke({config:e,onChange:n.handleOnChange,ref:function(e){return n.input=e},key:"osc-form-field-".concat(t)},"ref",function(e){n.fields[t]=e}))}))),React.createElement("div",{id:n.divId,className:"osc-form",ref:function(e){return n.instance=e}},e,t,o)}}])&&Re(e.prototype,t),n&&Re(e,n),r}();function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=De(i);return t=a?(e=De(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==Le(o)&&"function"!=typeof o?Ne(n):o}}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ae=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(r,i["a"]);var e,t,n,o=Me(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e)).state={value:t.props.value,touched:t.props.touched||!1},t.handleChange=t.handleChange.bind(Ne(t)),t}return e=r,(t=[{key:"handleChange",value:function(e){var t=e.target.value;"function"==typeof this.props.onChange&&this.props.onChange(t),this.setState({value:t,touched:!0})}},{key:"doTouch",value:function(){"function"==typeof this.props.onChange&&this.props.onChange(50),this.setState({touched:!0})}},{key:"calcProgress",value:function(e,t,n){return 2*(n-e)/(t-e)-1}},{key:"render",value:function(){var t=this,e=t.state,n=e.value,o=e.touched,r=t.props,i=r.min,a=r.max,c=r.step;return React.createElement("div",{className:"".concat(t.props.className," osc-slider")},React.createElement("div",{className:"osc-slider-track-container"},React.createElement("div",{className:"osc-slider-track"}),React.createElement("div",{className:"osc-slider-track-progress-container"},React.createElement("div",{className:"osc-slider-track-progress",style:{transform:"scaleX("+t.calcProgress(i,a,n)+")"}})),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-left"}),React.createElement("div",{className:"osc-slider-track-dot-start osc-slider-track-dot-center"}),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-right"})),React.createElement("input",{type:"range",min:i,max:a,step:c,value:n,onClick:function(){o||t.doTouch()},onChange:t.handleChange,className:o?"osc-slider-input-range":"osc-slider-input-range osc-slider-untouched",ref:function(e){return t.input=e}}))}}])&&Te(e.prototype,t),n&&Te(e,n),r}();t.a={Form:r,FormField:Oe,Hidden:v,ImageUpload:S,InputWithCounter:F,Postcode:Z,Radios:W,Select:ne,Text:se,Textarea:he,Slider:Ae}},function(e,t){e.exports=window.ReactDOM},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var o=n(9);e.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";(function(i){var t,n,o="URLSearchParams"in self,r="Symbol"in self&&"iterator"in Symbol,c="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in self,s="ArrayBuffer"in self;function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function e(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function d(e){if(e.bodyUsed)return i.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(n){return new i(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function h(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:c&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&c&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||n(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return i.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return i.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return i.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||i.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,n,o=d(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=p(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return i.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return i.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}s&&(t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(e){return e&&-1<t.indexOf(Object.prototype.toString.call(e))}),f.prototype.append=function(e,t){e=l(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[l(e)]},f.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},f.prototype.set=function(e,t){this.map[l(e)]=u(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),e(n)},f.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},f.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),e(n)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,o,r=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",o=n.toUpperCase(),-1<g.indexOf(o)?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function b(e){var r=new FormData;return e.trim().split("&").forEach(function(e){var t,n,o;e&&(n=(t=e.split("=")).shift().replace(/\+/g," "),o=t.join("=").replace(/\+/g," "),r.append(decodeURIComponent(n),decodeURIComponent(o)))}),r}function _(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];_.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})};var O=self.DOMException;try{new O}catch(e){(O=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),O.prototype.constructor=O}function E(r,a){return new i(function(o,e){var t=new v(r,a);if(t.signal&&t.signal.aborted)return e(new O("Aborted","AbortError"));var i=new XMLHttpRequest;function n(){i.abort()}i.onload=function(){var e,r,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",r=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t,n=e.split(":"),o=n.shift().trim();o&&(t=n.join(":").trim(),r.append(o,t))}),r)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var n="response"in i?i.response:i.responseText;o(new _(n,t))},i.onerror=function(){e(new TypeError("Network request failed"))},i.ontimeout=function(){e(new TypeError("Network request failed"))},i.onabort=function(){e(new O("Aborted","AbortError"))},i.open(t.method,t.url,!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&c&&(i.responseType="blob"),t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",n),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",n)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})}E.polyfill=!0,self.fetch||(self.fetch=E,self.Headers=f,self.Request=v,self.Response=_)}).call(this,n(40))},function(e,t,n){var o=n(8),r=n(13),i=n(22);e.exports=o?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(8),r=n(24),i=n(14),a=n(23),c=Object.defineProperty;t.f=o?c:function(e,t,n){if(i(e),t=a(t,!0),i(n),r)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(10);e.exports=function(e){if(!o(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var o=n(42),r=n(44);e.exports=function(e){return o(r(e))}},function(e,t,n){var o=n(3),r=n(12);e.exports=function(t,n){try{r(o,t,n)}catch(e){o[t]=n}return n}},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return g}),n.d(t,"Image",function(){return g}),n.d(t,"IdeaImage",function(){return E});n(11);var o=n(2),c=n.n(o),r=n(6),i=n.n(r),a=(n(83),n(4)),s=n.n(a),l=n(0);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=y(i);return t=a?(e=y(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==d(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(r,l["a"]);var e,t,n,o=m(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);return(t=o.call(this,e)).config=s.a.recursive({aspectRatio:"16x9",allowMultipleImages:!1},t.config,t.props.config||{}),t.state={currentImageIndex:0,width:0},t}return e=r,(t=[{key:"componentDidMount",value:function(){var e=document.querySelector("#".concat(this.divId)).parentNode;this.setState({width:e.offsetWidth})}},{key:"setCurrentImageIndex",value:function(e){this.setState({currentImageIndex:e})}},{key:"getImagesFromProps",value:function(){var e=this.props.images;this.props.image||e[this.state.currentImageIndex];return[this.props.image,e]}},{key:"getImageSrc",value:function(e){var t=e;return"object"==d(e)&&e.src&&(t=e.src),t}},{key:"getAspectRatioFactor",value:function(){if(this.props.width&&this.props.height)return this.props.width/this.props.height;var e=this.config.aspectRatio.match(/(\d+)x(\d+)/);return e?e[1]/e[2]:16/9}},{key:"getWidthHeight",value:function(){var e=this.props.width||this.state.width;return[e,this.props.height||e*(1/this.getAspectRatioFactor())||void 0]}},{key:"render",value:function(){var i=this,e=u(i.getImagesFromProps(),2),t=e[0],n=e[1],o=u(i.getWidthHeight(),2),a=o[0],r=o[1];return i.config.allowMultipleImages&&1<n.length?c.a.createElement("div",{id:i.divId,className:"osc-multiple-images ".concat(i.props.className||"")},c.a.createElement("div",{className:"osc-image-spacer",style:{width:a,height:r}},c.a.createElement("div",{className:"osc-image",style:t?{backgroundImage:"url(".concat(i.getImageSrc(t),")")}:{},key:"image-"+i.divId})),c.a.createElement("div",{className:"osc-multiple-images-thumbs",style:{height:.1*i.state.width}},n.map(function(e,t){var n=.1*a,o=n*i.getAspectRatioFactor(),r=1.05*o*t;return c.a.createElement("div",{className:"osc-image-thumb-spacer",key:"osc-image-thumb-".concat(t),style:{left:r,width:o,height:n}},c.a.createElement("div",{className:"osc-image-thumb",style:e?{backgroundImage:"url(".concat(i.getImageSrc(e),")"),zIndex:10-t}:{},onClick:function(){return i.setCurrentImageIndex(t)}}))}))):c.a.createElement("div",{id:i.divId,className:"osc-image-spacer ".concat(i.props.className||""),style:{width:a,height:r}},c.a.createElement("div",{className:"osc-image",style:t?{backgroundImage:"url(".concat(i.getImageSrc(t),")")}:{},onClick:this.props.onClick,key:"image-"+i.divId}))}}])&&p(e.prototype,t),n&&p(e,n),r}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=O(i);return t=a?(e=O(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==v(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(r,g);var e,t,n,o=w(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"getImagesFromProps",value:function(){var e=this.props.idea;if(!e)return["",[""]];var t=e.extraData&&e.extraData.images||[];return[e.posterImage&&e.posterImage.key||e.extraData&&e.extraData.images&&e.extraData.images[this.state.currentImageIndex],t]}}])&&b(e.prototype,t),n&&b(e,n),r}();E.renderElement=function(e,t){var n=e.attributes;i.a.render(c.a.createElement(E,{attributes:n,config:t}),e)}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var o=n(8),r=n(48),i=n(22),a=n(15),c=n(23),s=n(7),l=n(24),u=Object.getOwnPropertyDescriptor;t.f=o?u:function(e,t){if(e=a(e),t=c(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(10);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var o=n(8),r=n(9),i=n(25);e.exports=!o&&!r(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(3),r=n(10),i=o.document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var o=n(27),r=Function.toString;"function"!=typeof o.inspectSource&&(o.inspectSource=function(e){return r.call(e)}),e.exports=o.inspectSource},function(e,t,n){var o=n(3),r=n(16),i="__core-js_shared__",a=o[i]||r(i,{});e.exports=a},function(e,t,n){var o=n(29),r=n(30),i=o("keys");e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var o=n(52),r=n(27);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:o?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+o).toString(36)}},function(e,t,n){function o(e){return"function"==typeof e?e:void 0}var r=n(55),i=n(3);e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var a=n(7),c=n(15),s=n(33).indexOf,l=n(17);e.exports=function(e,t){var n,o=c(e),r=0,i=[];for(n in o)!a(l,n)&&a(o,n)&&i.push(n);for(;t.length>r;)a(o,n=t[r++])&&(~s(i,n)||i.push(n));return i}},function(e,t,n){function o(c){return function(e,t,n){var o,r=s(e),i=l(r.length),a=u(n,i);if(c&&t!=t){for(;a<i;)if((o=r[a++])!=o)return!0}else for(;a<i;a++)if((c||a in r)&&r[a]===t)return c||a||0;return!c&&-1}}var s=n(15),l=n(45),u=n(57);e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?o:n)(e)}},function(e,t,n){var o=n(9);e.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},function(e,t,n){var u=n(3),f=n(21).f,d=n(12),p=n(49),h=n(16),m=n(53),y=n(59);e.exports=function(e,t){var n,o,r,i,a=e.target,c=e.global,s=e.stat,l=c?u:s?u[a]||h(a,{}):(u[a]||{}).prototype;if(l)for(n in t){if(r=t[n],o=e.noTargetGet?(i=f(l,n))&&i.value:l[n],!y(c?n:a+(s?".":"#")+n,e.forced)&&void 0!==o){if(typeof r==typeof o)continue;m(r,o)}(e.sham||o&&o.sham)&&d(r,"sham",!0),p(l,n,r,e)}}},function(e,t,n){var o=n(47),r=n(62),i=n(13),a=o("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:r(null)}),e.exports=function(e){c[a][e]=!0}},function(e,t,n){function a(e){throw e}var c=n(8),s=n(9),l=n(7),u=Object.defineProperty,f={};e.exports=function(e,t){if(l(f,e))return f[e];var n=[][e],o=!!l(t=t||{},"ACCESSORS")&&t.ACCESSORS,r=l(t,0)?t[0]:a,i=l(t,1)?t[1]:void 0;return f[e]=!!n&&!s(function(){if(o&&!c)return!0;var e={length:-1};o?u(e,1,{enumerable:!0,get:a}):e[1]=1,n.call(e,r,i)})}},function(e,t,n){var o=n(3),r=n(46),i=Function.call;e.exports=function(e,t,n){return r(i,o[e].prototype[t],n)}},function(e,t,n){e.exports=n(66).Promise},function(e,r,i){"use strict";(function(t){i.d(r,"a",function(){return e}),i.d(r,"b",function(){return n}),i.d(r,"c",function(){return o});var e=function(){return(e=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function n(e,a,c,s){return new(c=c||t)(function(n,t){function o(e){try{i(s.next(e))}catch(e){t(e)}}function r(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(o,r)}i((s=s.apply(e,a||[])).next())})}function o(n,o){var r,i,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){c.label=t[1];break}if(6===t[0]&&c.label<a[1]){c.label=a[1],a=t;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(t);break}a[2]&&c.ops.pop(),c.trys.pop();continue}t=o.call(n,c)}catch(e){t=[6,e],i=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}Object.create;Object.create}).call(this,i(40))},function(e,t,n){var o=n(9),r=n(43),i="".split;e.exports=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==r(e)?i.call(e,""):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var o=n(34),r=Math.min;e.exports=function(e){return 0<e?r(o(e),9007199254740991):0}},function(e,t,n){var i=n(60);e.exports=function(o,r,e){if(i(o),void 0===r)return o;switch(e){case 0:return function(){return o.call(r)};case 1:return function(e){return o.call(r,e)};case 2:return function(e,t){return o.call(r,e,t)};case 3:return function(e,t,n){return o.call(r,e,t,n)}}return function(){return o.apply(r,arguments)}}},function(e,t,n){var o=n(3),r=n(29),i=n(7),a=n(30),c=n(35),s=n(61),l=r("wks"),u=o.Symbol,f=s?u:u&&u.withoutSetter||a;e.exports=function(e){return i(l,e)||(c&&i(u,e)?l[e]=u[e]:l[e]=f("Symbol."+e)),l[e]}},function(e,t,n){"use strict";var o={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!o.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:o},function(e,t,n){var c=n(3),s=n(12),l=n(7),u=n(16),o=n(26),r=n(50),i=r.get,f=r.enforce,d=String(String).split("String");(e.exports=function(e,t,n,o){var r=!!o&&!!o.unsafe,i=!!o&&!!o.enumerable,a=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof t||l(n,"name")||s(n,"name",t),f(n).source=d.join("string"==typeof t?t:"")),e!==c?(r?!a&&e[t]&&(i=!0):delete e[t],i?e[t]=n:s(e,t,n)):i?e[t]=n:u(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||o(this)})},function(e,t,n){var o,r,i,a,c,s,l,u,f=n(51),d=n(3),p=n(10),h=n(12),m=n(7),y=n(28),g=n(17),v=d.WeakMap;l=f?(o=new v,r=o.get,i=o.has,a=o.set,c=function(e,t){return a.call(o,e,t),t},s=function(e){return r.call(o,e)||{}},function(e){return i.call(o,e)}):(g[u=y("state")]=!0,c=function(e,t){return h(e,u,t),t},s=function(e){return m(e,u)?e[u]:{}},function(e){return m(e,u)}),e.exports={set:c,get:s,has:l,enforce:function(e){return l(e)?s(e):c(e,{})},getterFor:function(n){return function(e){var t;if(!p(e)||(t=s(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}}},function(e,t,n){var o=n(3),r=n(26),i=o.WeakMap;e.exports="function"==typeof i&&/native code/.test(r(i))},function(e,t){e.exports=!1},function(e,t,n){var c=n(7),s=n(54),l=n(21),u=n(13);e.exports=function(e,t){for(var n=s(t),o=u.f,r=l.f,i=0;i<n.length;i++){var a=n[i];c(e,a)||o(e,a,r(t,a))}}},function(e,t,n){var o=n(31),r=n(56),i=n(58),a=n(14);e.exports=o("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var o=n(3);e.exports=o},function(e,t,n){var o=n(32),r=n(18).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},function(e,t,n){var o=n(34),r=Math.max,i=Math.min;e.exports=function(e,t){var n=o(e);return n<0?r(n+t,0):i(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){function o(e,t){var n=c[a(e)];return n==l||n!=s&&("function"==typeof t?r(t):!!t)}var r=n(9),i=/#|\.prototype\./,a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=o.data={},s=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var o=n(35);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){function o(){}function r(e){return"<script>"+e+"</"+h+">"}var i,a=n(14),c=n(63),s=n(18),l=n(17),u=n(65),f=n(25),d=n(28),p="prototype",h="script",m=d("IE_PROTO"),y=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;y=i?function(e){e.write(r("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=f("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(r("document.F=Object")),e.close(),e.F);for(var n=s.length;n--;)delete y[p][s[n]];return y()};l[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(o[p]=a(e),n=new o,o[p]=null,n[m]=e):n=y(),void 0===t?n:c(n,t)}},function(e,t,n){var o=n(8),a=n(13),c=n(14),s=n(64);e.exports=o?Object.defineProperties:function(e,t){c(e);for(var n,o=s(t),r=o.length,i=0;i<r;)a.f(e,n=o[i++],t[n]);return e}},function(e,t,n){var o=n(32),r=n(18);e.exports=Object.keys||function(e){return o(e,r)}},function(e,t,n){var o=n(31);e.exports=o("document","documentElement")},function(e,t,fe){(function(se,le){var ue;e.exports=function(){"use strict";function n(e){return typeof e==="function"||typeof e==="object"&&e!==null}function l(e){return typeof e==="function"}var e=undefined;if(!Array.isArray){e=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{e=Array.isArray}var o=e,r=0,i=undefined,a=undefined,c=function e(t,n){_[r]=t;_[r+1]=n;r+=2;if(r===2){if(a){a(w)}else{E()}}};function t(e){a=e}function s(e){c=e}var u=typeof window!=="undefined"?window:undefined,f=u||{},d=f.MutationObserver||f.WebKitMutationObserver,p=typeof self==="undefined"&&typeof se!=="undefined"&&{}.toString.call(se)==="[object process]",h=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function m(){return function(){return se.nextTick(w)}}function y(){return function(){i(w)}}function g(){var e=0;var t=new d(w);var n=document.createTextNode("");t.observe(n,{characterData:true});return function(){n.data=e=++e%2}}function v(){var e=new MessageChannel;e.port1.onmessage=w;return function(){return e.port2.postMessage(0)}}function b(){var e=setTimeout;return function(){return e(w,1)}}var _=new Array(1e3);function w(){for(var e=0;e<r;e+=2){var t=_[e];var n=_[e+1];t(n);_[e]=undefined;_[e+1]=undefined}r=0}function O(){try{var e=ue;var t=fe(68);i=t.runOnLoop||t.runOnContext;return y()}catch(e){return b()}}var E=undefined;if(p){E=m()}else if(d){E=g()}else if(h){E=v()}else if(u===undefined&&"function"==="function"){E=O()}else{E=b()}function S(e,t){var n=arguments;var o=this;var r=new this.constructor(C);if(r[R]===undefined){Y(r)}var i=o._state;if(i){(function(){var e=n[i-1];c(function(){return Q(i,r,e,o._result)})})()}else{V(o,r,e,t)}return r}function k(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var n=new t(C);B(n,e);return n}var R=Math.random().toString(36).substring(16);function C(){}var I=void 0,P=1,j=2,L=new z;function T(){return new TypeError("You cannot resolve a promise with itself")}function x(){return new TypeError("A promises callback cannot return that same promise.")}function M(e){try{return e.then}catch(e){L.error=e;return L}}function N(e,t,n,o){try{e.call(t,n,o)}catch(e){return e}}function D(e,o,r){c(function(t){var n=false;var e=N(r,o,function(e){if(n){return}n=true;if(o!==e){B(t,e)}else{q(t,e)}},function(e){if(n){return}n=true;H(t,e)},"Settle: "+(t._label||" unknown promise"));if(!n&&e){n=true;H(t,e)}},e)}function A(t,e){if(e._state===P){q(t,e._result)}else if(e._state===j){H(t,e._result)}else{V(e,undefined,function(e){return B(t,e)},function(e){return H(t,e)})}}function F(e,t,n){if(t.constructor===e.constructor&&n===S&&t.constructor.resolve===k){A(e,t)}else{if(n===L){H(e,L.error)}else if(n===undefined){q(e,t)}else if(l(n)){D(e,t,n)}else{q(e,t)}}}function B(e,t){if(e===t){H(e,T())}else if(n(t)){F(e,t,M(t))}else{q(e,t)}}function U(e){if(e._onerror){e._onerror(e._result)}W(e)}function q(e,t){if(e._state!==I){return}e._result=t;e._state=P;if(e._subscribers.length!==0){c(W,e)}}function H(e,t){if(e._state!==I){return}e._state=j;e._result=t;c(U,e)}function V(e,t,n,o){var r=e._subscribers;var i=r.length;e._onerror=null;r[i]=t;r[i+P]=n;r[i+j]=o;if(i===0&&e._state){c(W,e)}}function W(e){var t=e._subscribers;var n=e._state;if(t.length===0){return}var o=undefined,r=undefined,i=e._result;for(var a=0;a<t.length;a+=3){o=t[a];r=t[a+n];if(o){Q(n,o,r,i)}else{r(i)}}e._subscribers.length=0}function z(){this.error=null}var G=new z;function K(e,t){try{return e(t)}catch(e){G.error=e;return G}}function Q(e,t,n,o){var r=l(n),i=undefined,a=undefined,c=undefined,s=undefined;if(r){i=K(n,o);if(i===G){s=true;a=i.error;i=null}else{c=true}if(t===i){H(t,x());return}}else{i=o;c=true}if(t._state!==I){}else if(r&&c){B(t,i)}else if(s){H(t,a)}else if(e===P){q(t,i)}else if(e===j){H(t,i)}}function J(n,e){try{e(function e(t){B(n,t)},function e(t){H(n,t)})}catch(e){H(n,e)}}var Z=0;function $(){return Z++}function Y(e){e[R]=Z++;e._state=undefined;e._result=undefined;e._subscribers=[]}function X(e,t){this._instanceConstructor=e;this.promise=new e(C);if(!this.promise[R]){Y(this.promise)}if(o(t)){this._input=t;this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0){q(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){q(this.promise,this._result)}}}else{H(this.promise,ee())}}function ee(){return new Error("Array Methods must be provided an Array")}function te(e){return new X(this,e).promise}function ne(r){var i=this;if(o(r))return new i(function(e,t){for(var n=r.length,o=0;o<n;o++)i.resolve(r[o]).then(e,t)});else return new i(function(e,t){return t(new TypeError("You must pass an array to race."))})}function oe(e){var t=new this(C);return H(t,e),t}function re(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ie(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ae(e){this[R]=$();this._result=this._state=undefined;this._subscribers=[];if(C!==e){typeof e!=="function"&&re();this instanceof ae?J(this,e):ie()}}function ce(){var e=undefined;if(typeof le!=="undefined"){e=le}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if(n==="[object Promise]"&&!t.cast){return}}e.Promise=ae}return X.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===I&&n<e;n++)this._eachEntry(t[n],n)},X.prototype._eachEntry=function(t,e){var n,o,r=this._instanceConstructor,i=r.resolve;i===k?(n=M(t))===S&&t._state!==I?this._settledAt(t._state,e,t._result):"function"!=typeof n?(this._remaining--,this._result[e]=t):r===ae?(F(o=new r(C),t,n),this._willSettleAt(o,e)):this._willSettleAt(new r(function(e){return e(t)}),e):this._willSettleAt(i(t),e)},X.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===I&&(this._remaining--,e===j?H(o,n):this._result[t]=n),0===this._remaining&&q(o,this._result)},X.prototype._willSettleAt=function(e,t){var n=this;V(e,void 0,function(e){return n._settledAt(P,t,e)},function(e){return n._settledAt(j,t,e)})},ae.all=function(e){return new X(this,e).promise},ae.race=function(r){var i=this;return o(r)?new i(function(e,t){for(var n=r.length,o=0;o<n;o++)i.resolve(r[o]).then(e,t)}):new i(function(e,t){return t(new TypeError("You must pass an array to race."))})},ae.resolve=k,ae.reject=function(e){var t=new this(C);return H(t,e),t},ae._setScheduler=function(e){a=e},ae._setAsap=function(e){c=e},ae._asap=c,ae.prototype={constructor:ae,then:S,catch:function(e){return this.then(null,e)}},ce(),ae.polyfill=ce,ae.Promise=ae}()}).call(this,fe(67),fe(20))},function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var s,l=[],u=!1,f=-1;function d(){u&&s&&(u=!1,s.length?l=s.concat(l):f=-1,l.length&&p())}function p(){if(!u){var e=c(d);u=!0;for(var t=l.length;t;){for(s=l,l=[];++f<t;)s&&s[f].run();f=-1,t=l.length}s=null,u=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){n(71);var o=n(39);e.exports=o("Array","includes")},function(e,t,n){"use strict";var o=n(36),r=n(33).includes,i=n(37);o({target:"Array",proto:!0,forced:!n(38)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e,t){return r(this,e,1<arguments.length?t:void 0)}}),i("includes")},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return F}),n.d(t,"IdeasList",function(){return m}),n.d(t,"IdeasOverview",function(){return F}),n.d(t,"IdeasFilterbar",function(){return S}),n.d(t,"IdeasFilter",function(){return y.a}),n.d(t,"IdeasSort",function(){return j}),n.d(t,"IdeasSearch",function(){return g.a});n(11);var o=n(2),r=n.n(o),i=n(6),a=n.n(i),c=(n(107),n(0)),s=n(1),l=n(84);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=h(i);return t=a?(e=h(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==u(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,c["a"]);var e,t,n,o=p(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e,{display:{title:"Inzendingen",type:"tiles",columns:3,onMouseOverTileFadeOthers:!1},idea:{titleField:"title",summaryField:"summary"},sort:{sortOptions:[{value:"createdtime,desc",label:"Nieuwste eerst"},{value:"createdtime,asc",label:"Oudste eerst"}],showSort:!0,defaultValue:"createdtime,desc"},types:[]})).state={highLightIdeaId:null},t}return e=r,(t=[{key:"componentDidMount",value:function(){var t=this;t.ideaTileMouseOverListener=function(e){t.onTileMouseOver(e.detail)},document.addEventListener("osc-idea-tile-mouse-over",t.ideaTileMouseOverListener),t.ideaTileMouseOutListener=function(e){t.onTileMouseOut(e.detail)},document.addEventListener("osc-idea-tile-mouse-out",t.ideaTileMouseOutListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-idea-tile-mouse-over",this.ideaTileMouseOverListener),document.removeEventListener("osc-idea-tile-mouse-out",this.ideaTileMouseOutListener)}},{key:"onTileMouseOver",value:function(e){var t=e.idea;this.setState({highLightIdeaId:t.id})}},{key:"onTileMouseOut",value:function(e){e.idea;this.setState({highLightIdeaId:null})}},{key:"render",value:function(){var n=this,o=this,e=o.props.ideas||[];return React.createElement("div",{className:"osc-tile-list-container ".concat(o.props.className||"")},React.createElement("div",{className:"osc-tile-list"},e.map(function(e,t){return React.createElement(l.a,{config:o.config,idea:e,className:"osc-".concat(o.config.display.columns,"-columns").concat(n.config.display.onMouseOverTileFadeOthers&&o.state.highLightIdeaId&&o.state.highLightIdeaId!=e.id?" osc-opacity-65":""),key:"osc-idea-tile-".concat(e.id)})})))}}])&&f(e.prototype,t),n&&f(e,n),r}(),y=n(76),g=n(77);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=E(i);return t=a?(e=E(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==v(o)&&"function"!=typeof o?O(n):o}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(r,c["a"]);var e,t,n,o=w(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e,{display:{}})).doNextPendingResetAction=t.doNextPendingResetAction.bind(O(t)),t.state={pendingResetActions:[]},t}return e=r,(t=[{key:"componentDidMount",value:function(){var t=this;t.ideasSearchOnchangeListener=function(e){t.doNextPendingResetAction()},document.addEventListener("osc-ideas-search-onchange",t.ideasSearchOnchangeListener),t.ideasFilterOnchangeListener=function(e){t.hideMobileActiveSelector(),t.doNextPendingResetAction()},document.addEventListener("osc-ideas-filter-onchange",t.ideasFilterOnchangeListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-ideas-search-onchange",this.ideasSearchOnchangeListener),document.removeEventListener("osc-ideas-filter-onchange",this.ideasFilterOnchangeListener)}},{key:"toggleMobileActiveSelector",value:function(e){this.state.mobileActiveSelector!=e?this.showMobileActiveSelector(e):this.hideMobileActiveSelector()}},{key:"showMobileActiveSelector",value:function(e){this.setState({mobileActiveSelector:e})}},{key:"hideMobileActiveSelector",value:function(){this.setState({mobileActiveSelector:null})}},{key:"resetAll",value:function(){var t=this;t.search&&t.state.pendingResetActions.push(t.search.setSearch),t.filters&&t.filters.forEach(function(e){t.state.pendingResetActions.push(e.setFilter)});var e=new window.CustomEvent("osc-ideas-filter-reset-all",{detail:{}});document.dispatchEvent(e),t.doNextPendingResetAction()}},{key:"doNextPendingResetAction",value:function(){var e=this.state.pendingResetActions.shift();e&&e({value:""})}},{key:"render",value:function(){var n=this;if(!(void 0!==n.props.showFilterbar?n.props.showFilterbar:n.config.display.showFilterbar))return null;var e=null;n.config.search&&(e=React.createElement("div",{className:"osc-ideas-search-container"},React.createElement("div",{className:"osc-ideas-search-button",onClick:function(){return n.toggleMobileActiveSelector("search")}}),React.createElement(g.a,{config:n.config.search,className:"".concat("search"==n.state.mobileActiveSelector?" osc-is-active":""),ref:function(e){return n.search=e}})));var t,o=React.createElement("button",{value:"reset",onClick:function(){return n.resetAll()},className:"osc-button osc-reset-button"},"Alles tonen"),r=null;n.config.filter.length&&(t=n.filters&&n.filters.find(function(e){return e.state.currentValue}),n.filters=[],r=React.createElement("div",{className:"osc-ideas-filters-and-button-container"},React.createElement("div",{className:"osc-ideas-filter-button".concat(t?" osc-active":""),onClick:function(){return n.toggleMobileActiveSelector("filters")}}),React.createElement("div",{className:"osc-ideas-filters-container".concat("filters"==n.state.mobileActiveSelector?" osc-is-active":"")},n.config.filter.map(function(e,t){return React.createElement(y.a,{config:e,className:"osc-align-right-container",key:"osc-ideas-filter-".concat(t),ref:function(e){return n.filters[t]=e}})})),o));var i=React.createElement("div",{className:"osc-ideas-filters-and-reset-button-container"},r);return React.createElement("div",{className:"osc-ideas-filterbar ".concat(n.props.className||"")},e,i)}}])&&b(e.prototype,t),n&&b(e,n),r}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=P(i);return t=a?(e=P(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==k(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(r,c["a"]);var e,t,n,o=I(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e,{label:null,sortOptions:[{value:"createdtime,desc",label:"Nieuwste eerst"},{value:"createdtime,asc",label:"Oudste eerst"},{value:"title",label:"Titel"},{value:"random",label:"Willekeurig"},{value:"likes,desc",label:"Meeste likes"},{value:"likes,asc",label:"Minste likes"},{value:"args,desc",label:"Meeste reacties"},{value:"args,asc",label:"Minste reacties"},{value:"ranking,asc",label:"Ranglijst"}],defaultValue:"createdtime,desc",showSort:!0,center:{latitude:52.37104644463586,longitude:4.900402911007405}})).state={currentValue:t.config.defaultValue},t}return e=r,(t=[{key:"doSort",value:function(e){var t=e.ideas,n=e.sortOrder,o=e.center;switch(n=n||this.state.currentValue){case"title":t=t.sort(function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:t.title.toLowerCase()<e.title.toLowerCase()?1:0});break;case"ranking,asc":t=t.sort(function(e,t){return e.ranking-t.ranking});break;case"likes,asc":t=t.sort(function(e,t){return e.yes-t.yes});break;case"likes,desc":t=t.sort(function(e,t){return t.yes-e.yes});break;case"createdtime,desc":t=t.sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()});break;case"createdtime,asc":t=t.sort(function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()});break;case"distance":o=o||this.config.center,t=t.map(function(e){return e._distance=Math.sqrt(Math.pow(e.location.coordinates[0]-o.lat,2)+Math.pow(e.location.coordinates[1]-o.lng,2)),e}).sort(function(e,t){return e._distance-t._distance});break;case"args,desc":t=t.sort(function(e,t){return t.argCount-e.argCount});break;case"args,asc":t=t.sort(function(e,t){return e.argCount-t.argCount});break;case"random":default:t=t.sort(function(e,t){return Math.random()-.5})}return t}},{key:"setSortOrder",value:function(e){var t=e.sortOrder,n=this.props.ideas||[],n=this.doSort({ideas:n,sortOrder:t});this.setState({ideas:n,currentValue:t},function(){var e=new window.CustomEvent("osc-ideas-sort-onchange",{detail:n});document.dispatchEvent(e)})}},{key:"render",value:function(){var t=this;t.props.ideas;if(!(void 0!==t.props.showSort?t.props.showSort:t.config.showSort))return null;var e=null;return t.config.label&&(e=React.createElement("div",{className:"osc-sort-label"},t.config.label,":")),React.createElement("div",{className:"osc-ideas-sort ".concat(t.props.className||"")},e,React.createElement("select",{defaultValue:t.state.currentValue,onChange:function(){return t.setSortOrder({sortOrder:t.sortSelector.value})},className:"osc-default-select",ref:function(e){return t.sortSelector=e}},t.config.sortOptions.map(function(e,t){return React.createElement("option",{value:e.value,key:"sort-option-"+t},e.label)})))}}])&&R(e.prototype,t),n&&R(e,n),r}();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function x(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?T(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=A(i);return t=a?(e=A(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==L(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(r,c["a"]);var e,t,n,o=D(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e,{siteId:null,title:"Inzendingen",display:{showFilterbar:!0},idea:{titleField:"title",summaryField:"summary"},sort:{showSort:!0,defaultValue:"createdtime,desc"},filter:[],types:[],typeLabel:"Thema"})).state={ideas:t.props.ideas||[],filters:{},search:null},t}return e=r,(t=[{key:"componentDidMount",value:function(){var t=this;t.ideasFilterOnchangeListener=function(e){t.updateFilter(e.detail)},document.addEventListener("osc-ideas-filter-onchange",t.ideasFilterOnchangeListener),t.ideasSearchOnchangeListener=function(e){t.updateSearch(e.detail)},document.addEventListener("osc-ideas-search-onchange",t.ideasSearchOnchangeListener),t.ideasSortOnchangeListener=function(e){t.updateSort(e.detail)},document.addEventListener("osc-ideas-sort-onchange",t.ideasSortOnchangeListener),void 0===t.props.ideas&&t.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-ideas-filter-onchange",this.ideasFilterOnchangeListener),document.removeEventListener("osc-ideas-search-onchange",this.ideasSearchOnchangeListener),document.removeEventListener("osc-ideas-sort-onchange",this.ideasSortOnchangeListener)}},{key:"fetchData",value:function(){var n=this,e="".concat(n.config.api.url,"/api/site/").concat(n.config.siteId,"/idea?summary=1&includeVoteCount=1&includeArgsCount=1"),t=s.a.api.getHeaders(n.config);fetch(e,{headers:t}).then(function(e){if(!e.ok)throw Error("Error fechting detail");return e.json()}).then(function(e){var t=e,t=n.sorter.doSort({ideas:t});n.setState({ideas:t},function(){})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"updateFilter",value:function(e){var t=x({},this.state.filters);e.value?t[e.fieldName]={value:e.value,doFilter:e.doFilter}:delete t[e.fieldName],this.setState({filters:t})}},{key:"updateSearch",value:function(e){e=e.value?{value:e.value,doSearch:e.doSearch}:null,this.setState({search:e})}},{key:"updateSort",value:function(e){this.setState({ideas:e})}},{key:"render",value:function(){var n=this,e=void 0!==n.props.ideas?n.props.ideas:n.state.ideas||[],o=e;Object.keys(n.state.filters).forEach(function(e){var t=n.state.filters[e];o=t.doFilter(o)}),n.state.search&&(o=n.state.search.doSearch(o)),this.props.maxLength&&(o=e.slice(0,this.props.maxLength));var t=React.createElement("h3",{className:"osc-title"},n.config.title," (",o.length,")");return React.createElement("div",{id:n.id,className:"osc-ideas-overview ".concat(n.props.className||"")},React.createElement(S,{config:n.config,showFilterbar:n.props.showFilterbar,className:"osc-ideas-filterbar"}),React.createElement(j,{config:x({},n.config.sort),ideas:e,showSort:!n.props.hideSortButton,className:"osc-align-right-container",ref:function(e){return n.sorter=e}}),t,React.createElement(m,{config:n.config,ideas:o,className:""}))}}])&&M(e.prototype,t),n&&M(e,n),r}();F.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(F,{attributes:n,config:t}),e)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OpenStadComponentLightbox});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var OpenStadComponentLightbox=function(_OpenStadComponent){_inherits(OpenStadComponentLightbox,_OpenStadComponent);var _super=_createSuper(OpenStadComponentLightbox);function OpenStadComponentLightbox(e){var t;return _classCallCheck(this,OpenStadComponentLightbox),(t=_super.call(this,e)).state={images:[],startIndex:0},t.recalcSizes=t.recalcSizes.bind(_assertThisInitialized(t)),t}return _createClass(OpenStadComponentLightbox,[{key:"componentDidMount",value:function(){var t=this;t.showLightBoxListener=function(e){t.showLightbox(e.detail)},document.addEventListener("osc-show-light-box",t.showLightBoxListener),document.body.appendChild(this.instance)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-show-light-box",this.showLightBoxListener)}},{key:"showLightbox",value:function showLightbox(data){var self=this,aspectRatio;try{aspectRatio=eval(data.aspectRatio.replace&&data.aspectRatio.replace("x","/"))}catch(e){}"number"!=typeof aspectRatio&&(aspectRatio=16/9),self.setState({images:data.images,startIndex:data.startIndex,aspectRatio:aspectRatio},function(){self.instance.style.display="block",self.recalcSizes()}),window.addEventListener("resize",self.recalcSizes)}},{key:"hideLightbox",value:function(){this.instance.style.display="none",window.removeEventListener("resize",this.recalcSizes)}},{key:"showImage",value:function(e,t){e.stopPropagation(),this.mainImage.src=t}},{key:"recalcSizes",value:function(){var e,t,n,o,r,i,a=this;a.mainContainer&&((e=a.mainContainer.offsetWidth)/(t=a.mainContainer.offsetHeight)>a.state.aspectRatio?(n=.8*t,a.mainImageContainer.style.height=n+"px",a.mainImageContainer.style.width=a.state.aspectRatio*n+"px",a.mainImageContainer.style.top=(t-n)/2+"px",a.mainImageContainer.style.left=(e-a.state.aspectRatio*n)/2+"px"):(o=e,a.mainImageContainer.style.width=o+"px",a.mainImageContainer.style.height=1/a.state.aspectRatio*o+"px",a.mainImageContainer.style.top=(t-1/a.state.aspectRatio*o)/2+"px",a.mainImageContainer.style.left=0),a.mainImage.style.width=a.mainImageContainer.style.width,a.mainImage.style.height=a.mainImageContainer.style.height,r=a.state.aspectRatio*a.navigationContainer.offsetHeight,(i=a.state.images.length*r+20*a.state.images.length)>a.navigationContainer.offsetWidth&&(i=a.navigationContainer.offsetWidth,r=i/a.state.images.length-20),a.navigationContainer.style.width=i+"px",a.state.images.map(function(e,t){var n=parseInt(r);a["lighbox-image-container-".concat(t)].style.width=n+"px",a["lighbox-image-container-".concat(t)].style.height=parseInt(1/a.state.aspectRatio*n)+"px",a["lighbox-image-".concat(t)].style.width=a["lighbox-image-container-".concat(t)].style.width,a["lighbox-image-".concat(t)].style.height=a["lighbox-image-container-".concat(t)].style.height}))}},{key:"getImageSrc",value:function(e){var t=e;return"object"==_typeof(e)&&e.src&&(t=e.src),t}},{key:"render",value:function(){var e=this,o=this;return React.createElement("div",{className:"osc-lightbox",onClick:function(){e.hideLightbox()},ref:function(e){return o.instance=e}},React.createElement("div",{className:"osc-close-button",onClick:function(e){return o.hideLightbox(e)}}),React.createElement("div",{className:"osc-lightbox-main-container",ref:function(e){return o.mainContainer=e}},React.createElement("div",{className:"osc-image-container",ref:function(e){return o.mainImageContainer=e}},React.createElement("img",{src:o.state.images[o.state.startIndex]&&o.getImageSrc(o.state.images[o.state.startIndex]),ref:function(e){return o.mainImage=e}}))),React.createElement("div",{className:"osc-lightbox-navigation-container"},React.createElement("div",{className:"osc-lightbox-navigation",ref:function(e){return o.navigationContainer=e}},o.state.images.map(function(t,n){return React.createElement("div",{className:"osc-image-container",style:{backgroundImage:"url(".concat(o.getImageSrc(t),")")},onClick:function(e){return o.showImage(e,o.getImageSrc(t))},key:"lighbox-image-container-".concat(n),ref:function(e){return o["lighbox-image-container-".concat(n)]=e}},React.createElement("img",{src:o.getImageSrc(t),ref:function(e){return o["lighbox-image-".concat(n)]=e}}))}))))}}]),OpenStadComponentLightbox}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OpenStadComponentNLMap});var merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),merge__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_0__),_component_index_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_lib_amaps_cluster_icon_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(92);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var OpenStadComponentNLMap=function(_OpenStadComponent){_inherits(OpenStadComponentNLMap,_OpenStadComponent);var _super=_createSuper(OpenStadComponentNLMap);function OpenStadComponentNLMap(e,t){var n;_classCallCheck(this,OpenStadComponentNLMap);var o=_assertThisInitialized(n=_super.call(this,e,t,{style:"standaard",marker:!1,search:!1,center:{latitude:52.37104644463586,longitude:4.900402911007405},zoom:14,zoomposition:"bottomleft",disableDefaultUI:!0,polygon:null,autoZoomAndCenter:!1}));switch(o.config.target=o.divId,o._loadedFiles=0,o.files=[{type:"css",href:"https://unpkg.com/leaflet@1.0.3/dist/leaflet.css"},{type:"script",src:"https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"}],o.config.variant){case"amaps":o.files.push({type:"script",src:"https://map.data.amsterdam.nl/dist/amaps.iife.js"});break;default:o.files.push({type:"css",href:"https://nlmaps.nl/dist/assets/css/nlmaps.css"}),o.files.push({type:"script",src:"https://nlmaps.nl/dist/nlmaps.iife.js"})}return o.files.push({type:"css",href:"https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css"}),o.files.push({type:"script",src:"https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"}),o.markers=o.config.markers||[],n}return _createClass(OpenStadComponentNLMap,[{key:"componentDidMount",value:function(){var t=this;t.loadNextFile(function(){t.createMap(),t.mapIsReady=!0;var e=new CustomEvent("osc-map-is-ready",{detail:{id:t.divId}});document.dispatchEvent(e)})}},{key:"loadNextFile",value:function(e){var t,n=this,o=n.files[n._loadedFiles];o&&("script"===o.type&&((t=document.createElement("script")).src=o.src,t.async=!0),"css"===o.type&&((t=document.createElement("link")).href=o.href,t.rel="stylesheet"),t&&(t.onload=function(){n.loadNextFile(e)},this.instance.appendChild(t))),n._loadedFiles==n.files.length&&e(),n._loadedFiles++}},{key:"createMap",value:function createMap(){var self=this,iconCreateFunction,centerOn;switch(self.config.variant){case"amaps":self.map=amaps.createMap(_objectSpread({},self.config));break;default:self.map=nlmaps.createMap(self.config)}0==self.config.zoomControl&&self.map.removeControl(self.map.zoomControl),self.config.clustering&&self.config.clustering.isActive&&L.markerClusterGroup&&(iconCreateFunction=self.config.clustering.iconCreateFunction||_lib_amaps_cluster_icon_js__WEBPACK_IMPORTED_MODULE_2__.a.bind(self),iconCreateFunction&&"string"==typeof iconCreateFunction&&(iconCreateFunction=eval(iconCreateFunction)),self.markerClusterGroup=L.markerClusterGroup({iconCreateFunction:iconCreateFunction,showCoverageOnHover:self.config.clustering.showCoverageOnHover,maxClusterRadius:self.config.clustering.maxClusterRadius||80}),self.markerClusterGroup.on("clusterclick",self.onClusterClick),self.markerClusterGroup.on("animationend",self.onClusterAnimationEnd),self.map.addLayer(self.markerClusterGroup)),self.map.on("click",self.onMapClick),self.config.polygon&&self.createCutoutPolygon(self.config.polygon),self.markers.length&&self.markers.forEach(function(e){self.addMarker(e)}),self.config.autoZoomAndCenter&&(centerOn="polygon"==self.config.autoZoomAndCenter&&self.config.polygon||self.markers&&self.markers.length&&self.markers,self.editorMarker&&(centerOn=self.editorMarker.position?[self.editorMarker]:self.config.polygon),centerOn&&self.setBoundsAndCenter(centerOn))}},{key:"addMarkers",value:function(e){var t=this;e.forEach(function(e){t.addMarker(e)})}},{key:"addMarker",value:function addMarker(markerData){var self=this,icon=markerData.icon,iconCreateFunction,marker;icon||(iconCreateFunction=self.config.iconCreateFunction,iconCreateFunction&&"string"==typeof iconCreateFunction&&(iconCreateFunction=eval(iconCreateFunction),icon=iconCreateFunction())),marker=icon?L.marker([markerData.lat,markerData.lng],{icon:icon}):L.marker([markerData.lat,markerData.lng]),marker.visible=!0,marker.data=markerData.data,marker.doNotCluster=markerData.doNotCluster,markerData.href&&(markerData.onClick=function(){document.location.href=markerData.href});var onClick=self.onMarkerClick;return onClick&&("string"==typeof onClick&&(onClick=eval(onClick)),marker.on("click",onClick)),self.markerClusterGroup&&!markerData.doNotCluster?self.markerClusterGroup.addLayer(marker):self.map.addLayer(marker),self.markers.push(marker),marker}},{key:"removeMarker",value:function(e){var t;!e||-1<(t=this.markers.indexOf(e))&&(this.markers.splice(t,1),this.map.removeLayer(e),this.markerClusterGroup.removeLayer(e))}},{key:"updateMarker",value:function(e,t){var n;t.location&&(n=new L.LatLng(t.location.lat,t.location.lng),e.setLatLng(n))}},{key:"createClusterIcon",value:function(e){var t=e.getChildCount();return L.divIcon({html:t,className:"osc-nlmap-icon-cluster",iconSize:L.point(20,20),iconAnchor:[20,10]})}},{key:"createCutoutPolygon",value:function(e){var i=L.polygon(e).getBounds().getCenter(),a=0,c=0;e.forEach(function(e,t){var n=Math.sin(e.lng-i.lng)*Math.cos(e.lat),o=Math.cos(i.lat)*Math.sin(e.lat)-Math.sin(i.lat)*Math.cos(e.lat)*Math.cos(e.lng-i.lng),r=180*Math.atan2(n,o)/Math.PI;45-r<a&&(a=45-r,c=t)});var t=e.slice(0,c);e=e.slice(c,e.length).concat(t);var n=[{lat:-85,lng:-179.99},{lat:-85,lng:0},{lat:-85,lng:179.99},{lat:0,lng:179.99},{lat:85,lng:179.99},{lat:85,lng:0},{lat:85,lng:-179.99},{lat:85,lng:-179.99},{lat:0,lng:-179.99}],o=merge__WEBPACK_IMPORTED_MODULE_0___default()({color:"#d00",fillColor:"#000",fillOpacity:.15},this.config.polygonStyle),r=L.polygon([n,e],o);return this.map.addLayer(r),r}},{key:"removePolygon",value:function(e){e&&this.map.removeLayer(e)}},{key:"setBoundsAndCenter",value:function(e){var t,n,o=this;Array.isArray(e)?(t=[],e.forEach(function(e){e._latlng?e=e._latlng:e.position&&(e=e.position.coordinates?{lat:e.position.coordinates[0],lng:e.position.coordinates[1]}:e.position),t.push(e)}),1==t.length?o.map.panTo(new L.LatLng(t[0].lat,t[0].lng)):(n=L.latLngBounds(t),o.map.fitBounds(n))):o.map.panTo(new L.LatLng(o.config.center.latitude,o.config.center.longitude))}},{key:"showMarkers",value:function(e){var t=this;e.forEach(function(e){t.showMarker(e)})}},{key:"showMarker",value:function(e){e.visible=!0,this.markerClusterGroup&&!e.doNotCluster?this.markerClusterGroup.addLayer(e):e.addTo(this.map)}},{key:"hideMarkers",value:function(e){var t=this;e.forEach(function(e){t.hideMarker(e)})}},{key:"hideMarker",value:function(e){e.visible=!1,this.markerClusterGroup&&!e.doNotCluster?this.markerClusterGroup.removeLayer(e):e.remove(this.map)}},{key:"setFilter",value:function(e){this.filterFunction=e,this.applyFilter()}},{key:"applyFilter",value:function(){var t=this;t.filterFunction?t.markers.forEach(function(e){t.filterFunction(e)?t.showMarker(e):t.hideMarker(e)}):t.markers.forEach(function(e){t.showMarker(e)})}},{key:"isPointInPolygon",value:function(e,t){if(!e)return!1;if(!t)return!0;for(var n=e.lat,o=e.lng,r=!1,i=0,a=t.length-1;i<t.length;a=i++){var c=t[i].lat,s=t[i].lng,l=t[a].lat,u=t[a].lng;o<s!=o<u&&n<(l-c)*(o-s)/(u-s)+c&&(r=!r)}return r}},{key:"getPointInfo",value:function(o,r,i){var e="https://geodata.nationaalgeoregister.nl/locatieserver/v3/free?lat=[[lat]]5&lon=[[lng]]&fq=type:adres&rows=1".replace(/\[\[lat\]\]/,(o=o||{}).lat).replace(/\[\[lng\]\]/,o.lng);fetch(e).then(function(e){if(!e.ok)throw Error(e);return e.json()}).then(function(e){var t=e.response&&e.response.docs&&e.response.docs[0];if(!t)throw new Error("Niets gevonden");var n={_display:"".concat(t.straatnaam," ").concat(t.huisnummer)};return n.lat=o.lat,n.lng=o.lng,i?i(n,r):n}).catch(function(e){console.log("Zoek adres: niet goed"),console.log(e),i&&i({},r)})}},{key:"onMapClick",value:function(e){var t=new CustomEvent("osc-map-click",{detail:e});document.dispatchEvent(t)}},{key:"onMarkerClick",value:function(e){var t=new CustomEvent("osc-map-marker-click",{detail:e});document.dispatchEvent(t)}},{key:"onClusterClick",value:function(e){var t=new CustomEvent("osc-map-cluster-click",{detail:e});document.dispatchEvent(t)}},{key:"onClusterAnimationEnd",value:function(e){var t=new CustomEvent("osc-map-cluster-animation-end",{detail:e});document.dispatchEvent(t)}},{key:"render",value:function(){var t=this;return React.createElement("div",{id:this.divId,className:this.props.className||"osc-nlmap",ref:function(e){return t.instance=e}},React.createElement("div",{id:this.divId+"-map"}))}}]),OpenStadComponentNLMap}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdeasDetails});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_poll_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(81),_reactions_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(80),_vote_button_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(93),_image_index_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(19);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasDetails=function(_OpenStadComponent){_inherits(IdeasDetails,_OpenStadComponent);var _super=_createSuper(IdeasDetails);function IdeasDetails(e){var t;return _classCallCheck(this,IdeasDetails),(t=_super.call(this,e,{siteId:null,ideaId:null,idea:{showVoteButtons:!0,showLabels:!1,allowMultipleImages:!1,shareChannelsSelection:["facebook","twitter","mail","whatsapp"],metaDataTemplate:null},argument:{isActive:!0,formIntro:"Mijn reactie op deze inzending is ...",ignoreReactionsForIdeaIds:"",closeReactionsForIdeaIds:""},poll:{canAddPolls:!1},labels:{},types:null,typeField:"typeId",typeLabel:"Thema"})).state={idea:t.props.idea,ideaId:e.idea&&e.idea.id||t.config.ideaId,showPollForm:!1},t}return _createClass(IdeasDetails,[{key:"componentDidMount",value:function(){var t=this;t.reactionAddedListener=function(e){t.onReactionStored(e.detail,!0)},document.addEventListener("osc-new-reaction-stored",t.reactionAddedListener),t.reactionEditedListener=function(e){t.onReactionStored(e.detail)},document.addEventListener("osc-reaction-edited",t.reactionEditedListener),t.reactionDeletedListener=function(e){t.onReactionDeleted(e.detail)},document.addEventListener("osc-reaction-deleted",t.reactionDeletedListener),t.pollCreatedListener=function(e){t.onPollCreated(e.detail)},document.addEventListener("osc-new-poll-stored",t.pollCreatedListener),t.pollDeletedListener=function(e){t.onPollDeleted(e.detail)},document.addEventListener("osc-poll-deleted",t.pollDeletedListener),t.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.reactionAddedListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener),document.removeEventListener("osc-reaction-deleted",this.reactionDeletedListener),document.removeEventListener("osc-new-poll-stored",this.pollCreatedListener),document.removeEventListener("osc-poll-deleted",this.pollDeletedListener)}},{key:"dispatchEditIdeaClick",value:function(e){var t;e.stopPropagation(),this.config.editIdeaLink?document.location.href=this.config.editIdeaLink:(t=new window.CustomEvent("osc-edit-idea-click",{detail:this.state.idea}),document.dispatchEvent(t))}},{key:"showPollForm",value:function(){this.setState({showPollForm:!0})}},{key:"hidePollForm",value:function(){this.setState({showPollForm:!1})}},{key:"dispatchAddPollClick",value:function(e){e.stopPropagation(),this.showPollForm()}},{key:"onReactionStored",value:function(e,t){t&&this.state.idea.argCount++,this.setState({idea:this.state.idea})}},{key:"onReactionDeleted",value:function(){this.state.idea.argCount--,this.setState({idea:this.state.idea})}},{key:"onPollCreated",value:function(){this.hidePollForm(),this.fetchData()}},{key:"onPollDeleted",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e,t,n=this,o=n.state.ideaId||this.state.idea&&this.state.idea.id;o&&(e="".concat(n.config.api.url,"/api/site/").concat(n.config.siteId,"/idea/").concat(o,"?includeVoteCount=1&includeArguments=1&includeArgsCount=1&includeUser=1&includeUserVote=1"),n.config.poll.canAddPolls&&(e+="&includePoll=1"),t=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.api.getHeaders(n.config),fetch(e,{headers:t}).then(function(e){if(!e.ok)throw Error("Error fechting detail");return e.json()}).then(function(e){n.setState({idea:e},function(){_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.localStorage.get("osc-reactions-login-pending")&&(window.location.hash="#reactions",_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.localStorage.set("osc-reactions-login-pending",!1))})}).catch(function(e){console.log("Niet goed"),console.log(e)}))}},{key:"deleteIdea",value:function(){var e,t,n,o=this,r=this;r.config.user&&r.config.user.role&&"admin"==r.config.user.role&&(this.state.idea||this.state.idea.id)&&(e="".concat(r.config.api.url,"/api/site/").concat(r.config.siteId,"/idea/").concat(this.state.idea.id),t=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.api.getHeaders(r.config),n=this.state.idea.id,fetch(e,{method:"DELETE",headers:t}).then(function(e){if(!e.ok)throw Error("Error deleting idea");return e.json()}).then(function(e){var t;o.config.afterDeleteIdeaLink?document.location.href=o.config.afterDeleteIdeaLink:(t=new window.CustomEvent("osc-idea-deleted",{detail:{ideaId:n}}),document.dispatchEvent(t))}).catch(function(e){console.log("Niet goed"),console.log(e)}))}},{key:"render",value:function render(){var self=this,idea=self.state.idea;if(!idea)return null;var labelHTML=null,typeId,typeDef,labelText,backgroundColor,textColor,labelHTML;self.config.idea.showLabels&&(typeId=eval("idea.".concat(self.config.typeField)),typeDef=self.config.types&&self.config.types.find(function(e){return e.id==typeId||e.value==typeId}),typeDef&&(labelText=typeDef.label,backgroundColor=typeDef.backgroundColor,textColor=typeDef.textColor,labelHTML=React.createElement("div",{className:"osc-idea-label",style:{color:textColor,backgroundColor:backgroundColor}},labelText)));var pollHTML=null,addPollButtonHTML=null;self.config.poll.canAddPolls&&(idea.poll||self.state.showPollForm?pollHTML=React.createElement("div",null,React.createElement("div",{id:"poll",className:"osc-poll-header"},React.createElement("h3",null,self.config.poll.title||"Poll")),React.createElement(_poll_index_jsx__WEBPACK_IMPORTED_MODULE_2__.default,{config:_objectSpread(_objectSpread(_objectSpread({},self.config),self.config.poll),{},{ideaId:self.state.ideaId}),poll:idea.poll})):idea.can&&idea.can.edit&&(addPollButtonHTML=React.createElement("div",{className:"osc-editbuttons-container"},React.createElement("button",{className:"osc-idea-details-editbutton osc-edit",onClick:function(e){return self.dispatchAddPollClick(e)}},"Poll toevoegen"))));var voteButtonsHTML=null;self.config.idea.showVoteButtons&&(voteButtonsHTML=React.createElement("div",{className:"osc-details-vote-buttons-container"},React.createElement("h3",null,"Likes"),React.createElement(_vote_button_jsx__WEBPACK_IMPORTED_MODULE_4__.a,{config:{text:"eens",opinion:"yes",api:this.config.api,user:this.config.user,siteId:this.config.siteId},idea:this.state.idea,name:"likebutton",value:idea.yes})));var editButtonsHTML=null;idea.can&&idea.can.edit&&(editButtonsHTML=React.createElement("div",{className:"osc-editbuttons-container"},React.createElement("button",{className:"osc-idea-details-editbutton osc-edit",onClick:function(e){return self.dispatchEditIdeaClick(e)}},"Bewerk idee"),React.createElement("button",{className:"osc-idea-details-editbutton osc-delete",onClick:function(e){confirm("Weet je het zeker")&&self.deleteIdea(e)}},"Verwijder idee")));var modBreakHTML=null;idea&&idea.modBreak&&(modBreakHTML=React.createElement("div",{className:"osc-modbreak"},idea.modBreakDateHumanized,React.createElement("br",null),React.createElement("br",null),idea.modBreak));var reactionsCountHTML=null;self.config.argument.isActive&&(reactionsCountHTML=React.createElement("div",null,React.createElement("h3",null,"Reacties"),React.createElement("a",{href:"#reactions",className:"osc-no-of-reactions"},idea.argCount||0," reacties")));var reactionsHTML=null,config;self.config.argument.isActive&&(config=_objectSpread({},self.config),config.argument.isActive=this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)"))),config.argument.isClosed=this.config.argument.isClosed||this.config.argument.closeReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)"))),reactionsHTML=React.createElement("div",null,React.createElement("div",{id:"reactions",className:"osc-reactions-header"},React.createElement("h3",null,self.config.argument.title||"Reacties")),React.createElement(_reactions_index_jsx__WEBPACK_IMPORTED_MODULE_3__.default,{config:_objectSpread(_objectSpread({},self.config.argument),{},{title:void 0,api:self.config.api,user:self.config.user,siteId:self.config.siteId,ideaId:idea.id,loginUrl:self.config.loginUrl})})));var shareButtonsHTML=null,facebookButtonHTML,twitterButtonHTML,mailButtonHTML,whatsappButtonHTML,shareButtonsHTML;self.config.idea.shareChannelsSelection.length&&(facebookButtonHTML=self.config.idea.shareChannelsSelection.includes("facebook")?React.createElement("li",null,React.createElement("a",{className:"osc-share-facebook",target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(document.location.href)},"Facebook")):null,twitterButtonHTML=self.config.idea.shareChannelsSelection.includes("twitter")?React.createElement("li",null,React.createElement("a",{className:"osc-share-twitter",target:"_blank",href:"https://twitter.com/intent/tweet?text="+encodeURIComponent(document.location.href)},"Twitter")):null,mailButtonHTML=self.config.idea.shareChannelsSelection.includes("mail")?React.createElement("li",null,React.createElement("a",{className:"osc-share-email",target:"_blank",href:"mailto:?subject="+encodeURIComponent(eval("idea.".concat(self.config.titleField)))+"&body="+encodeURIComponent(document.location.href)},"Email")):null,whatsappButtonHTML=self.config.idea.shareChannelsSelection.includes("whatsapp")?React.createElement("li",null,React.createElement("a",{className:"osc-share-whatsapp",target:"_blank",href:"https://wa.me/?text="+encodeURIComponent(document.location.href)},"WhatsApp")):null,shareButtonsHTML=React.createElement("div",{className:"osc-details-sharebuttons"},React.createElement("ul",null,facebookButtonHTML,twitterButtonHTML,mailButtonHTML,whatsappButtonHTML)));var authorHTML=idea.user.nickName||idea.user.fullName||idea.user.firstName+" "+idea.user.lastName;this.config.linkToUserPageUrl&&(authorHTML=React.createElement("a",{href:this.config.linkToUserPageUrl+"/"+idea.user.id,className:"osc-author-link"},authorHTML));var metaDataHTML=self.config.idea.metaDataTemplate;return metaDataHTML&&(metaDataHTML=metaDataHTML.replace(/\{createDate\}/,idea.createDateHumanized),metaDataHTML=metaDataHTML.replace(/\{theme\}/,idea.extraData.theme),metaDataHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.reactTemplate({html:metaDataHTML,username:authorHTML})),React.createElement("div",{id:self.id,className:self.props.className||"osc-info-block-idea-details",ref:function(e){return self.instance=e}},React.createElement("div",{className:"osc-spacer"}),React.createElement("div",{className:"osc-idea-details-container"},React.createElement("div",{className:"osc-idea-details"},React.createElement("h2",null,eval("idea.".concat(self.config.titleField))),React.createElement("div",{className:"osc-details-image-and-stats"},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_5__.IdeaImage,{config:{allowMultipleImages:self.config.idea.allowMultipleImages},idea:idea})),labelHTML,shareButtonsHTML,React.createElement("div",{className:"osc-details-stats"},voteButtonsHTML,reactionsCountHTML,editButtonsHTML)),React.createElement("p",{className:""},metaDataHTML),modBreakHTML,React.createElement("p",{className:"osc-details-summary"},idea.summary),React.createElement("p",{className:"osc-details-description",dangerouslySetInnerHTML:{__html:idea.description}}),addPollButtonHTML),pollHTML,reactionsHTML,React.createElement("div",{className:"osc-bottom-spacer"})))}}]),IdeasDetails}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdeasFilter});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasFilter=function(_OpenStadComponent){_inherits(IdeasFilter,_OpenStadComponent);var _super=_createSuper(IdeasFilter);function IdeasFilter(e){var t;return _classCallCheck(this,IdeasFilter),(t=_super.call(this,e)).doFilter=t.doFilter.bind(_assertThisInitialized(t)),t.setFilter=t.setFilter.bind(_assertThisInitialized(t)),t.state={currentValue:t.config.defaultValue},t}return _createClass(IdeasFilter,[{key:"componentDidMount",value:function(){this.state.currentValue&&this.setFilter({value:this.state.currentValue})}},{key:"doFilter",value:function doFilter(ideas,value){var self=this;return value=value||this.state.currentValue,ideas=ideas.filter(function(idea){var fieldName=self.config.fieldName,fieldValue=eval("idea.".concat(fieldName));return fieldValue==value}),ideas}},{key:"setFilter",value:function(e){var t=e.value,n=this;this.setState({currentValue:t},function(){var e=new window.CustomEvent("osc-ideas-filter-onchange",{detail:{fieldName:n.config.fieldName,value:t,doFilter:n.doFilter}});document.dispatchEvent(e)})}},{key:"render",value:function(){var t=this;if(0==t.config.showFilter)return null;var e=null;return t.config.label&&(e=React.createElement("div",{className:"osc-filter-label"},t.config.label,":")),React.createElement("div",{className:"osc-ideas-filter ".concat(t.props.className||"")},e,React.createElement("select",{value:t.state.currentValue,onChange:function(){return t.setFilter({value:t.filterSelector.value})},className:"osc-default-select",ref:function(e){return t.filterSelector=e}},t.config.filterOptions.map(function(e,t){return React.createElement("option",{value:e.value,key:"filter-option-"+t},e.label)})))}}]),IdeasFilter}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdeasSearch});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasSearch=function(_OpenStadComponent){_inherits(IdeasSearch,_OpenStadComponent);var _super=_createSuper(IdeasSearch);function IdeasSearch(e){var t;return _classCallCheck(this,IdeasSearch),(t=_super.call(this,e,{placeholder:"Zoeken",fieldNames:["title","summary"],showSearch:!0,showButton:!1,showSuggestions:!1,defaultValue:""})).doSearch=t.doSearch.bind(_assertThisInitialized(t)),t.setSearch=t.setSearch.bind(_assertThisInitialized(t)),t.state={currentValue:t.config.defaultValue},t}return _createClass(IdeasSearch,[{key:"componentDidMount",value:function(){this.state.currentValue&&this.setFilter({value:this.state.currentValue})}},{key:"doSearch",value:function doSearch(ideas,value){var self=this;return value=value||this.state.currentValue,ideas=ideas.filter(function(idea){var found=!1;return self.config.fieldNames.forEach(function(fieldName){var fieldValue=eval("idea.".concat(fieldName));fieldValue.match(new RegExp(value,"i"))&&(found=!0)}),found}),ideas}},{key:"setSearch",value:function(e){var t=e.value,n=this;this.setState({currentValue:t},function(){var e=new window.CustomEvent("osc-ideas-search-onchange",{detail:{value:t,doSearch:n.doSearch}});document.dispatchEvent(e)})}},{key:"showSuggestions",value:function(){}},{key:"hideSuggestions",value:function(){}},{key:"render",value:function(){var t=this;if(0==t.config.showSearch)return null;var e=null;t.config.label&&(e=React.createElement("div",{className:"osc-search-label"},t.config.label,":"));var n=null;return React.createElement("div",{className:"osc-ideas-search ".concat(t.props.className||"")},e,n,React.createElement("input",{type:"text",value:this.state.currentValue,placeholder:t.config.placeholder,onChange:function(){return t.setSearch({value:t.searchInput.value})},onBlur:function(){return t.hideSuggestions()},onFocus:function(){return t.showSuggestions()},className:"osc-default-input osc-ideas-search-input",ref:function(e){return t.searchInput=e}}),React.createElement("button",{className:"osc-ideas-search-button".concat(this.state.currentValue?" osc-active":""),onClick:function(){return t.setSearch({value:""})},ref:function(e){return t.resetButton=e}}))}}]),IdeasSearch}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return p}),n.d(t,"PreviousNextButtonBlock",function(){return p});n(11);var o=n(2),r=n.n(o),i=n(6),a=n.n(i),c=(n(105),n(0));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=d(i);return t=a?(e=d(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==s(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,c["a"]);var e,t,n,o=f(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.call(this,e,{})}return e=r,(t=[{key:"render",value:function(){var e,t,n=this,o=this,r=this.props.previousAction;this.props.previousUrl&&(r=function(){document.location.href="".concat(n.props.previousUrl)}),r&&(e=React.createElement("div",{className:"osc-previous-button".concat(this.props.previousIsDisabled?" osc-disabled":""),onClick:function(e){return r(e)}},this.props.previousLabel));var i=this.props.nextAction;return this.props.nextUrl&&(i=function(){document.location.href="".concat(n.props.nextUrl)}),i&&(t=React.createElement("div",{className:"osc-next-button".concat(this.props.nextIsDisabled?" osc-disabled":""),onClick:function(e){return i(e)}},this.props.nextLabel)),React.createElement("div",{className:"osc-previous-next-button-block",ref:function(e){return o.instance=e}},e,t)}}])&&l(e.prototype,t),n&&l(e,n),r}();p.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(p,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return L}),n.d(t,"Reactions",function(){return L});n(11);var o=n(2),r=n.n(o),i=n(6),a=n.n(i),c=(n(96),n(0)),d=n(1),s=n(5);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=h(i);return t=a?(e=h(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==l(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,c["a"]);var e,t,n,o=p(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e,{argumentId:null,api:{url:null,headers:null},user:{},descriptionMinLength:30,descriptionMaxLength:500,requiredUserRole:"member",formIntro:"",placeholder:""})).config.loginUrl=t.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),t.state={description:t.config.description||"",isValid:!1,isBusy:!1},t}return e=r,(t=[{key:"handleOnChange",value:function(e){(e=e||{}).description&&(e.isValid=this.description.isValid()),this.setState(e)}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.props.user||{};return d.a.user.hasRole(t,e)}},{key:"submitForm",value:function(){var r=this;r.setState({isBusy:!0},function(){if(r.description.validate({showWarning:!0})){if(!r.canSubmit())return alert("Je bent niet ingelogd");var e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/idea/").concat(r.config.ideaId,"/argument").concat(r.config.argumentId?"/".concat(r.config.argumentId):""),t=d.a.api.getHeaders(r.config),n=r.config.argumentId?"PUT":"POST",o={parentId:r.config.parentId,sentiment:r.config.sentiment,description:r.state.description};fetch(e,{method:n,headers:t,body:JSON.stringify(o)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(n){"function"==typeof r.config.onSubmit&&r.config.onSubmit({description:r.state.description}),r.setState({description:"",isBusy:!1,isValid:!1},function(){var e,t;r.description.handleOnChange({value:""}),r.config.argumentId?(e=new CustomEvent("osc-reaction-edited",{detail:n}),document.dispatchEvent(e)):(t=new CustomEvent("osc-new-reaction-stored",{detail:n}),document.dispatchEvent(t))})}).catch(function(e){e.then(function(e){return alert(e),console.log(e)}),r.setState({isBusy:!1,isValid:!1})})}else r.setState({isBusy:!1,isValid:!1})})}},{key:"render",value:function(){var t=this,e={descriptionMinLength:t.config.descriptionMinLength||30,descriptionMaxLength:t.config.descriptionMaxLength||500},n=null;t.config.formIntro&&(n=React.createElement("div",{className:"osc-intro"},t.config.formIntro));var o=null,o=t.canSubmit()?React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(){t.state.isBusy||t.submitForm()},className:"osc-button-blue".concat(!t.state.isValid||t.state.isBusy?" osc-disabled":"")},"Verzenden")):React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(){d.a.localStorage.set("osc-reactions-login-pending",!0),document.location.href=t.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"));return React.createElement("div",{id:t.divId,className:"",ref:function(e){return t.instance=e}},n,React.createElement(s.a.InputWithCounter,{disabled:!this.canSubmit()||null,config:{inputType:"textarea",minLength:e.descriptionMinLength,maxLength:e.descriptionMaxLength,placeholder:t.config.placeholder},value:t.state.description,onChange:function(e){return t.handleOnChange({description:e.value})},ref:function(e){return t.description=e}}),o)}}])&&u(e.prototype,t),n&&u(e,n),r}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function v(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=O(i);return t=a?(e=O(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==y(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(f,c["a"]);var e,t,n,o=w(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=o.call(this,e,{siteId:null,ideaId:null,title:null,descriptionMinLength:30,descriptionMaxLength:500,api:{url:null,headers:null},requiredUserRole:"member"})).state={user:e.user,isMenuActive:!1,isReplyFromActive:!1,editMode:!1},t}return e=f,(t=[{key:"componentDidMount",value:function(){var t=this;t.newReactionStoredListener=function(e){t.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",t.newReactionStoredListener),t.reactionEditedListener=function(e){t.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",t.reactionEditedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener)}},{key:"showMenu",value:function(){this.setState({isMenuActive:!0})}},{key:"toggleReplyForm",value:function(){this.setState({isReplyFromActive:!this.state.isReplyFromActive})}},{key:"toggleEditForm",value:function(){this.setState({editMode:!this.state.editMode})}},{key:"canEdit",value:function(){return this.props.data.can.edit}},{key:"canDelete",value:function(){return this.props.data.can.delete}},{key:"canLike",value:function(){if(this.config.isClosed)return!1;var e=this.config.requiredUserRole,t=this.props.user&&this.props.user.role;return"anonymous"==e&&t||"member"==e&&("member"==t||"editor"==t||"moderator"==t||"admin"==t)||"editor"==e&&("editor"==t||"moderator"==t||"admin"==t)||"moderator"==e&&("moderator"==t||"admin"==t)||"admin"==e&&"admin"==t}},{key:"canReply",value:function(){return this.props.data.can.reply}},{key:"submitDelete",value:function(){var n=this;if(!n.canDelete())return alert("U kunt deze reactie niet verwijderen");var e="".concat(n.config.api&&n.config.api.url,"/api/site/").concat(n.config.siteId,"/idea/").concat(n.config.ideaId,"/argument/").concat(n.props.data.id),t=d.a.api.getHeaders(n.config);fetch(e,{method:"DELETE",headers:t,body:JSON.stringify({})}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){n.setState({isDeleted:!0});var t=new CustomEvent("osc-reaction-deleted",{detail:{ideaId:n.config.ideaId}});document.dispatchEvent(t)}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"submitLike",value:function(){var t=this;if(!t.canLike())return alert("U kunt deze reactie niet liken");var e="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/argument/").concat(t.props.data.id,"/vote"),n=d.a.api.getHeaders(t.config);fetch(e,{method:"POST",headers:n,body:JSON.stringify({})}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){t.setState({yes:e.yes,hasUserVoted:e.hasUserVoted})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"onNewReactionStored",value:function(){this.setState({isMenuActive:!1,isReplyFromActive:!1})}},{key:"onReactionEdited",value:function(e){e.id==this.props.data.id&&this.setState({editMode:!1,isMenuActive:!1})}},{key:"render",value:function(){var n=this,e=n.props.data||{can:{}};if(e.isDeleted)return null;var t=d.a.user.hasRole(e.user,"editor")?"osc-is-admin":"",o=React.createElement("div",{className:"osc-reaction-user ".concat(t)},e.user.nickName||e.user.fullName||"".concat(e.user.firstName," ").concat(e.user.lastName)),r=null;n.canEdit()&&n.canDelete()&&(r=React.createElement("div",{className:"osc-reaction-menu".concat(n.state.isMenuActive?" osc-reaction-hamburger-active":""),onClick:function(){n.showMenu()}},React.createElement("a",{className:"osc-reaction-delete",title:"Argument verwijderen",onClick:function(){confirm("Weet je het zeker?")&&n.submitDelete()}}),React.createElement("a",{className:"osc-reaction-edit",title:"Argument bewerken",onClick:function(){return n.toggleEditForm()}})));var i=React.createElement("div",{className:"osc-reaction-description"},e.description);n.state.editMode&&(i=React.createElement("div",{className:"osc-reaction-description"},React.createElement(m,{config:v(v({},n.config),{},{description:e.description,argumentId:e.id}),user:n.state.user,ref:function(e){return n.editForm=e}})));var a=null;e.parentId||(a=React.createElement("a",{className:"osc-reaction-like-button".concat((void 0!==n.state.hasUserVoted?n.state.hasUserVoted:e.hasUserVoted)?" osc-reaction-like-button-hasvoted":""),onClick:function(){return n.submitLike()}},"Mee eens (",React.createElement("span",null,0|(void 0!==n.state.yes?n.state.yes:e.yes)),")"));var c,s=null,l=null;n.canReply()&&!n.config.isClosed&&(s=React.createElement("a",{onClick:function(){return n.toggleReplyForm()},className:"osc-reply-button"},"Reageren"),n.state.isReplyFromActive&&((c=v(v({},n.config),{},{parentId:e.id})).formIntro="",l=React.createElement("div",{id:"osc-reaction-".concat(e.id),className:"osc-reply"},React.createElement(m,{config:c,user:n.state.user,ref:function(e){return n.editForm=e}}))));var u=null;return e.reactions&&e.reactions.length&&(u=React.createElement("ul",{className:"osc-reactions-list"},e.reactions.map(function(e){var t="osc-reaction-key-".concat(e.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:t},React.createElement(f,{config:n.config,className:"osc-reply",user:n.state.user,data:e}))}))),React.createElement("div",null,React.createElement("div",{id:"osc-reaction-".concat(e.id),className:n.props.className||"osc-reaction"},r,o,React.createElement("div",{className:"osc-reaction-date"},e.createDateHumanized),i,a,s),l,u)}}])&&b(e.prototype,t),n&&b(e,n),f}();function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function R(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?k(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=j(i);return t=a?(e=j(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==S(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(r,c["a"]);var e,t,n,o=P(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e,{scrollToNewReaction:!0,isClosed:!1,closedText:"De reactiemogelijkheid is gesloten",sentiment:void 0,siteId:null,ideaId:null,title:null,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",placeholder:"",formIntro:""})).state={user:t.config.user,reactions:[]},t}return e=r,(t=[{key:"componentDidMount",value:function(){var n=this;n.state.user&&n.state.user.role?n.fetchData():d.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},function(e,t){n.setState({user:t},function(){n.fetchData()})}),n.newReactionStoredListener=function(e){n.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",n.newReactionStoredListener),n.reactionEditedListener=function(e){n.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",n.reactionEditedListener),n.reactionDeletedListener=function(e){n.onReactionDeleted(e.detail)},document.addEventListener("osc-reaction-deleted",n.reactionDeletedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener),document.removeEventListener("osc-reaction-deleted",this.reactionDeletedListener)}},{key:"fetchData",value:function(n){var o=this,e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/idea/").concat(o.config.ideaId,"/argument?sentiment=").concat(o.config.sentiment,"&withUser=1&withUserVote=1&withVoteCount=1&includeReactionsOnReactions=1"),t=d.a.api.getHeaders(o.config);fetch(e,{headers:t}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=R({},o.state);t.reactions=e,t.reactions.sort(function(e,t){return e.createdAt<t.createdAt}),o.setState(t,function(){if(n)return n()})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"onNewReactionStored",value:function(e){var t=this;this.fetchData(function(){t.config.scrollToNewReaction&&document.getElementById("osc-reaction-".concat(e.id))&&document.getElementById("osc-reaction-".concat(e.id)).scrollIntoView()})}},{key:"onReactionEdited",value:function(){this.fetchData()}},{key:"onReactionDeleted",value:function(){this.fetchData()}},{key:"render",value:function(){var t=this,n=this,e=React.createElement("ul",{className:"osc-reactions-list"},n.state.reactions.map(function(e){var t="osc-reaction-key-".concat(e.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:t},React.createElement(E,{config:n.config,user:n.state.user,data:R({},e)}))})),o=n.config.title?React.createElement("h3",null,n.config.title):null,r=React.createElement(m,{config:n.config,user:n.state.user});return n.config.isClosed&&(r=n.config.closedText?React.createElement("div",{className:"osc-closed-text"},n.config.closedText):null),React.createElement("div",{id:this.id,className:n.props.className||"osc-reactions",ref:function(e){t.instance=e}},o,r,e,React.createElement("br",null),React.createElement("br",null))}}])&&C(e.prototype,t),n&&C(e,n),r}();L.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(L,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return R}),n.d(t,"Poll",function(){return R});n(11);var o=n(2),r=n.n(o),i=n(6),a=n.n(i),c=(n(95),n(0)),p=n(1),h=n(5);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function u(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=y(i);return t=a?(e=y(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==s(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,c["a"]);var e,t,n,o=m(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e,{user:{},questionMinLength:30,questionMaxLength:500,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,allowChoiceTitles:!0})).state={user:e.user,pollId:e.pollId,poll:e.poll,isBusy:!1},t}return e=r,(t=[{key:"componentDidMount",value:function(){var n=this;n.state.user&&n.state.user.role?n.state.poll||n.fetchData():p.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},function(e,t){n.setState({user:t},function(){n.state.poll||n.fetchData()})})}},{key:"fetchData",value:function(n){var o=this;if(!o.state.pollId)return o.setState({poll:{question:"",choices:{1:{},2:{}}}});var e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/idea/").concat(o.config.ideaId,"/poll/").concat(o.config.pollId,"?withUser=1&withVotes=1"),t=p.a.api.getHeaders(o.config);fetch(e,{headers:t}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=u({},o.state);t.poll=e,o.setState(t,function(){if(n)return n()})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"validatedResult",value:function(){var o=this,e=o.state.poll,t=o["question-input"],r=t.validate(),i={question:t.state.value,choices:{}};return Object.keys(e.choices).forEach(function(e){var t=o["title-input-".concat(e)],n=o["description-input-".concat(e)];(t&&t.state.value||n.state.value)&&(i.choices[e]={},o.config.allowChoiceTitles&&t.state.value&&(i.choices[e].title=t.state.value,t.validate()||(r=!1)),n.state.value&&(i.choices[e].description=n.state.value,n.validate()||(r=!1)))}),!r||Object.keys(i.choices).length<2?null:i}},{key:"handleOnChange",value:function(e){var t=u({},this.state.poll);e.choice&&(t.choices[e.choice.id]={title:this.config.allowChoiceTitles&&e.choice.title,description:e.choice.description}),e.question&&(t.question=e.question),this.setState({poll:t},function(){})}},{key:"addChoice",value:function(){var e=u({},this.state.poll),t=Object.keys(e.choices).sort(),n=parseInt(t[t.length-1])+1;e.choices[n]={},this.setState({poll:e})}},{key:"canSubmit",value:function(){if(this.state.poll&&this.state.poll.can)return this.state.poll.can.edit;var e=this.config.requiredUserRole,t="moderator";return("anonymous"==e?t:"member"==e&&!0)||"editor"==e&&!0||"moderator"==e&&!0||"admin"==e&&!1}},{key:"submitForm",value:function(){var i=this;i.setState({isBusy:!0},function(){var n=i.validatedResult();if(n){if(!i.canSubmit())return alert("Je bent niet ingelogd");var o=!0,e="".concat(i.config.api&&i.config.api.url,"/api/site/").concat(i.config.siteId,"/idea/").concat(i.config.ideaId,"/poll"),t="POST";i.state.poll&&i.state.poll.id&&(e+="/".concat(i.state.poll.id),o=!(t="PUT"));var r=p.a.api.getHeaders(i.config);fetch(e,{method:t,headers:r,body:JSON.stringify(n)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=new CustomEvent("osc-new-poll-stored",{detail:e});o||(t=new CustomEvent("osc-poll-edited",{detail:e})),document.dispatchEvent(t),"function"==typeof i.config.onFinished&&i.config.onFinished(n)}).catch(function(e){console.log(e),e.then(function(e){return alert(e),console.log(e)}),i.setState({isBusy:!1})})}else i.setState({isBusy:!1})})}},{key:"render",value:function(){var e=this,o=this,r=o.state.poll||{},t=null;o.config.formIntro&&(t=React.createElement("div",{className:"osc-intro"},o.config.formIntro));var n=null,n=o.canSubmit()?React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{className:"osc-button-blue",onClick:function(){o.config.onFinished&&o.config.onFinished()}},"Terug"),React.createElement("button",{onClick:function(){o.state.isBusy||o.submitForm()},className:"osc-button-blue osc-margin-left".concat(o.state.isBusy?" osc-disabled":"")},"Verzenden")):React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{className:"osc-button-blue",onClick:function(){o.config.onFinished&&o.config.onFinished()}},"Terug"),React.createElement("button",{onClick:function(){p.a.localStorage.set("osc-reactions-login-pending",!0),document.location.href=o.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button osc-margin-left"},"Inloggen"));return React.createElement("div",{id:o.divId,className:"osc-form",ref:function(e){return o.instance=e}},t,React.createElement("h4",null,"Vraag"),React.createElement(h.a.InputWithCounter,{config:{inputType:"text",minLength:o.config.questionMinLength,maxLength:o.config.questionMaxLength,placeholder:"Vraag"},value:r.question,onChange:function(e){return o.handleOnChange({question:e.value})},ref:function(e){return o["question-input"]=e}}),React.createElement("h4",null,"Keuzemogelijkheden"),React.createElement("ol",{className:"osc-poll-form-choices"},r&&r.choices&&Object.keys(r.choices).sort().map(function(t){var e=r.choices[t],n=null;return o.config.allowChoiceTitles&&(n=React.createElement(h.a.InputWithCounter,{config:{inputType:"text",minLength:o.config.titleMinLength,maxLength:o.config.titleMaxLength,placeholder:"Titel"},value:e.title,onChange:function(e){return o.handleOnChange({choice:{id:t,title:e.value}})},ref:function(e){return o["title-input-".concat(t)]=e}})),React.createElement("li",{className:"osc-poll-form-choice",key:"osc-key-".concat(t)},n,React.createElement(h.a.InputWithCounter,{config:{inputType:"text",minLength:o.config.descriptionMinLength,maxLength:o.config.descriptionMaxLength,placeholder:"Beschrijving"},value:e.description,onChange:function(e){return o.handleOnChange({choice:{id:t,description:e.value}})},ref:function(e){return o["description-input-".concat(t)]=e}}))})),React.createElement("a",{className:"osc-add-choice-button",onClick:function(){return e.addChoice()}},"Nog een keuzemogelijkheid toevoegen"),n)}}])&&f(e.prototype,t),n&&f(e,n),r}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=k(i);return t=a?(e=k(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==v(o)&&"function"!=typeof o?S(n):o}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(r,c["a"]);var e,t,n,o=E(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=S(t=o.call(this,e,{siteId:null,ideaId:null,title:null,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",withPercentage:!0,allowChoiceTitles:!0,allowShowResultsIfNotVoted:!1}));return n.config.loginUrl=n.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),n.hideEditForm=n.hideEditForm.bind(n),n.state={user:n.config.user,poll:e.poll,pollId:e.poll&&e.poll.id||n.config.pollId,selectedChoice:null,showResult:!1,showQuestion:!1,editMode:!1,showVoteSucceeded:!1},n.state.poll&&(n.parseVoteCount(n.state.poll),n.state.poll.userVote&&(n.state.selectedChoice=n.state.poll.userVote)),t}return e=r,(t=[{key:"componentDidMount",value:function(){var n=this;n.state.user&&n.state.user.role?!n.state.poll&&n.config.ideaId&&n.fetchData():p.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},function(e,t){n.setState({user:t},function(){!n.state.poll&&n.config.ideaId&&n.fetchData()})})}},{key:"fetchData",value:function(n){var o=this;if(!o.state.pollId)return o.setState({editMode:!0},function(){});var e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/idea/").concat(o.config.ideaId,"/poll/").concat(o.state.pollId,"?withUser=1&withUserVote=1&withVoteCount=1&withVotes=1"),t=p.a.api.getHeaders(o.config);fetch(e,{headers:t}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=_(_({},o.state),{},{showResult:!1,showQuestion:!1});t.poll=e,t.pollId=e.id,o.parseVoteCount(t.poll),t.poll.userVote&&(t.selectedChoice=t.poll.userVote),o.setState(t,function(){if(n)return n()})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"parseVoteCount",value:function(n){n.voteCount&&Object.keys(n.choices).sort().forEach(function(e){var t=n.choices[e];t.votesAbs=n.voteCount[e],t.votesPrc=parseInt(n.voteCount[e]/n.voteCount.total*100),t.votesPrc=t.votesPrc||0})}},{key:"showEditForm",value:function(){this.setState({editMode:!0})}},{key:"hideEditForm",value:function(){this.setState({editMode:!1},function(){this.fetchData()})}},{key:"setShowResult",value:function(){this.setState({showResult:!0})}},{key:"setShowQuestion",value:function(){this.setState({showQuestion:!0})}},{key:"selectChoice",value:function(e){this.setState({selectedChoice:e.choice})}},{key:"onReactionEdited",value:function(){this.fetchData()}},{key:"isValid",value:function(){return!!this.state.selectedChoice}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.state.user&&this.state.user.role;return"anonymous"==e&&t||"member"==e&&("member"==t||"admin"==t)||"admin"==e&&"admin"==t}},{key:"submitVote",value:function(){var o=this;o.setState({isBusy:!0},function(){if(o.isValid()){if(!o.canSubmit())return alert("Je bent niet ingelogd");var e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/idea/").concat(o.config.ideaId,"/poll/").concat(o.state.poll.id,"/vote"),t=p.a.api.getHeaders(o.config),n={choice:o.state.selectedChoice};fetch(e,{method:"POST",headers:t,body:JSON.stringify(n)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(t){o.fetchData(function(){o.setState({isBusy:!1,showVoteSucceeded:!0},function(){var e=new CustomEvent("osc-poll-voted",{detail:t});document.dispatchEvent(e)})}),"function"==typeof o.config.onSubmit&&o.config.onSubmit({description:o.state.description})}).catch(function(e){e.then(function(e){return alert(e),console.log(e)}),o.setState({isBusy:!1,isValid:!1})})}else o.setState({isBusy:!1,isValid:!1})})}},{key:"deletePoll",value:function(){var o=this;o.setState({isBusy:!0},function(){var e=o.state.poll;if(!(e&&e.can&&e.can.delete))return alert("U kunt deze poll niet verwijderen");if(!e||!e.id)return alert("U kunt deze poll niet verwijderen");var t="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/idea/").concat(o.config.ideaId,"/poll/").concat(o.state.poll.id),n=p.a.api.getHeaders(o.config);fetch(t,{method:"DELETE",headers:n}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=new CustomEvent("osc-poll-deleted",{detail:e});document.dispatchEvent(t)}).catch(function(e){console.log(e),e.then(function(e){return alert(e),console.log(e)}),o.setState({isBusy:!1})})})}},{key:"render",value:function(){var t=this,a=this,c=a.state.poll||{};if(a.state.editMode)return React.createElement("div",{id:this.id,className:a.props.className||"osc-poll",ref:function(e){t.instance=e}},React.createElement(g,{config:_(_({},a.config),{},{onFinished:a.hideEditForm}),pollId:a.state.poll&&a.state.poll.id,poll:a.state.poll,user:a.state.user}));var n,e,o,r=null;(c&&c.choices&&!c.userVote||a.state.showQuestion)&&(n={name:"pollChoice",choices:[]},Object.keys(c.choices).sort().map(function(e){var t=a.config.allowChoiceTitles&&c.choices[e].title?"<h4>".concat(c.choices[e].title,"</h4>"):"";t+=c.choices[e].description||"",n.choices.push({dangerousDescription:t,value:e})}),e=null,e=a.canSubmit()?React.createElement("button",{onClick:function(){a.state.isBusy||a.submitVote()},className:"osc-button-blue".concat(a.isValid()?"":" osc-disabled")},"Stemmen"):React.createElement("button",{onClick:function(){p.a.localStorage.set("osc-poll-login-pending",!0),document.location.href=a.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"),o=null,!a.config.allowShowResultsIfNotVoted||c.userVote||a.state.showResult||(o=React.createElement("a",{className:"osc-show-result-button",onClick:function(){return t.setShowResult()}},"Resultaat bekijken")),r=React.createElement("div",{className:"osc-poll-question osc-form"},React.createElement(h.a.Radios,{config:n,value:a.state.selectedChoice,onChange:function(e){return a.selectChoice({choice:e.value})},ref:function(e){return a.description=e}}),React.createElement("div",{className:"osc-poll-question-buttons"},e,o)));var i,s,l,u=null;c&&(c.userVote||a.state.showResult)&&(i=null,a.state.showQuestion||c&&c.choices&&!c.userVote||(i=React.createElement("a",{className:"osc-show-question-button",onClick:function(){return t.setShowQuestion()}},"Stem aanpassen")),l=null,c.voteCount&&c.voteCount.total&&(s=1==c.voteCount.total?"stem":"stemmen",l=React.createElement("div",null,"Totaal ",c.voteCount.total," ",s,React.createElement("br",null),React.createElement("br",null))),u=React.createElement("ul",{className:"osc-choices"},Object.keys(c.choices).sort().map(function(e){var t=c.choices[e],n=null;a.config.allowChoiceTitles&&t.title&&(n=React.createElement("h4",null,t.title));var o=null;t.description&&(o=React.createElement("div",null,t.description));var r=null;a.config.withPercentage&&(r=React.createElement("div",{className:"osc-percentage"},t.votesPrc,"%"));var i=React.createElement("div",{className:"osc-choice-default"},n,o,React.createElement("div",{className:"osc-choice-bar".concat(a.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-mask"}),React.createElement("div",{className:"osc-choice-bar-progress",style:{width:(t.votesPrc||0)+"%"}})),r);return React.createElement("li",{className:"osc-choice",key:"osc-key-".concat(e)},i)}),l,i));var f=null;a.state.poll&&a.state.poll.can&&a.state.poll.can.edit&&(f=React.createElement("div",{className:"osc-editbuttons"},React.createElement("button",{className:"osc-editbutton osc-edit",onClick:function(){return a.showEditForm()}},"Bewerk poll"),React.createElement("button",{className:"osc-editbutton osc-delete",onClick:function(){confirm("Weet u het zeker")&&a.deletePoll()}},"Verwijder poll")));var d=null;return a.state.showVoteSucceeded&&(d=React.createElement("div",{className:"osc-vote-succeeded"},"Uw stem is opgeslagen")),React.createElement("div",{id:this.id,className:a.props.className||"osc-poll",ref:function(e){t.instance=e}},f,d,React.createElement("h4",null,c.question),r,u,React.createElement("br",null),React.createElement("br",null))}}])&&w(e.prototype,t),n&&w(e,n),r}();R.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(R,{attributes:n,config:t}),e)}},function(e,t,n){},function(e,t,n){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdeasOverview});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_image_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasOverview=function(_OpenStadComponent){_inherits(IdeasOverview,_OpenStadComponent);var _super=_createSuper(IdeasOverview);function IdeasOverview(e){var t;_classCallCheck(this,IdeasOverview);var n={idea:{showVoteButtons:!0,titleField:"title",summaryField:"summary"},argument:{isActive:!0,ignoreReactionsForIdeaIds:""},vote:{isViewable:!0,voteValues:[{value:"yes"},{value:"no"}]},types:[],typeField:"typeId"};switch(e.config.display&&e.config.display.type){case"list":n.display={columns:1,showStatusLabel:!1,showTheme:!1,showArea:!1,showVoteProgressbar:!1,showStats:!0,showTypeIcon:!0};break;case"grid":n.display={columns:3,showStatusLabel:!1,showTheme:!0,showArea:!0,showVoteProgressbar:!1,showStats:!1,showTypeIcon:!1};break;default:n.display={type:"tiles",columns:4,showStatusLabel:!0,showTheme:!1,showArea:!1,showVoteProgressbar:!0,showStats:!0,showTypeIcon:!1}}return(t=_super.call(this,e,n)).state={idea:t.props.idea||{}},t}return _createClass(IdeasOverview,[{key:"dispatchIdeaTileClick",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("osc-idea-tile-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchIdeaTileMouseOver",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("osc-idea-tile-mouse-over",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchIdeaTileMouseOut",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("osc-idea-tile-mouse-out",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"render",value:function render(){var self=this,idea=self.state.idea,statusLabelHTML=null;self.config.display.showStatusLabel;var themeAndAreaHTML=null,areaHTML;(self.config.display.showTheme||self.config.display.showArea)&&(areaHTML=null,self.config.display.showArea&&idea.extraData.area&&(areaHTML=React.createElement("div",{className:"osc-area"},idea.extraData.area)),themeAndAreaHTML=React.createElement("div",{className:"osc-theme-and-area"},self.config.display.showTheme&&idea.extraData.theme&&React.createElement("div",{className:"osc-theme"},idea.extraData.theme),self.config.display.showTheme&&idea.extraData.theme&&self.config.display.showArea&&idea.extraData.area&&React.createElement("div",{className:"osc-divider"}),self.config.display.showArea&&idea.extraData.area&&React.createElement("div",{className:"osc-area"},idea.extraData.area)));var statsHTML=null,stats,argcountHTML;self.config.display.showStats&&(stats=[],this.config.idea.showVoteButtons&&1==this.config.vote.isViewable&&this.config.vote.voteValues.find(function(e){return"yes"===e.value})&&stats.push(React.createElement("div",{className:"osc-yes-votes"},idea.yes||0)),this.config.idea.showVoteButtons&&1==this.config.vote.isViewable&&this.config.vote.voteValues.find(function(e){return"no"===e.value})&&stats.push(React.createElement("div",{className:"osc-no-votes"},idea.no||0)),argcountHTML=null,this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)")))&&stats.push(React.createElement("div",{className:"osc-reactions"},idea.argCount||0)),statsHTML=React.createElement("div",{className:"osc-idea-stats-container"},stats.map(function(e,t){return React.createElement("div",{className:"osc-stat",key:"osc-stat-".concat(idea.id,"-").concat(t)},e)})));var voteProgressHTML=null;self.config.display.showVoteProgressbar&&(voteProgressHTML=React.createElement("div",null,"GENOEGSTEMMNBALK"));var typeIconHTML=null,ideaTypeValue;if(self.config.display.showTypeIcon){try{ideaTypeValue=eval("idea.".concat(self.config.typeField))}catch(e){ideaTypeValue=""}var typeDef=self.config.types.find(function(e){return ideaTypeValue&&(e.id==ideaTypeValue||e.name==ideaTypeValue)});typeDef&&typeDef.listicon||(typeDef={listicon:{html:""}});try{"string"==typeof typeDef.listicon&&(typeDef.listicon=JSON.parse(typeDef.listicon))}catch(e){}typeDef.listicon.html&&(typeIconHTML=React.createElement("div",{className:"osc-typeicon"},React.createElement("div",{className:"osc-typeicon-content",dangerouslySetInnerHTML:{__html:typeDef.listicon.html}})))}return React.createElement("div",{id:self.divId,className:"osc-idea-tile osc-displaytype-".concat(self.config.display.type," ").concat(self.props.className||""),onClick:function(e){return self.dispatchIdeaTileClick(e,idea)},onMouseOver:function(e){return self.dispatchIdeaTileMouseOver(e,idea)},onMouseOut:function(e){return self.dispatchIdeaTileMouseOut(e,idea)}},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_2__.IdeaImage,{config:{},idea:idea,key:"image-"+idea.id})),React.createElement("div",{className:"osc-idea-tile-content"},statusLabelHTML,React.createElement("h4",{className:"osc-title"},eval("idea.".concat(self.config.idea.titleField))),themeAndAreaHTML,React.createElement("div",{className:"osc-summary"},eval("idea.".concat(self.config.idea.summaryField))),voteProgressHTML,statsHTML),typeIconHTML)}}]),IdeasOverview}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OpenStadComponentIdeasOnMap});var react_device_detect__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(91),react_device_detect__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react_device_detect__WEBPACK_IMPORTED_MODULE_0__),_filterbar_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(97),_infobar_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86),_preview_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(90),_map_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(112),_component_index_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1);function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var OpenStadComponentIdeasOnMap=function(_OpenStadComponent){_inherits(OpenStadComponentIdeasOnMap,_OpenStadComponent);var _super=_createSuper(OpenStadComponentIdeasOnMap);function OpenStadComponentIdeasOnMap(e){var t;_classCallCheck(this,OpenStadComponentIdeasOnMap);var n=_assertThisInitialized(t=_super.call(this,e,{display:{type:"complete",width:null,height:null},canSelectLocation:!0,types:[],typeField:null,titleField:"title",summaryField:"summary",user:{},api:{url:null,headers:null,isUserLoggedIn:!1},idea:{canAddNewIdeas:!0},content:{},search:{addresssesMunicipality:"amsterdam"}}));return n.config.ideaName=n.config.ideaName||"Inzendingen",n.config.doSearchFunction=n.config.doSearchFunction||n.doSearch.bind(n),n.config.typeField=n.config.typeField||"extraData.theme",n.config.types&&n.config.types.length&&n.config.types.forEach(function(t){if(t.value&&!t.name&&(t.name=t.value),t.mapicon&&"string"==typeof t.mapicon)try{t.mapicon=JSON.parse(t.mapicon)}catch(e){console.log(t),console.log(e)}if(t.listicon&&"string"==typeof t.listicon)try{t.listicon=JSON.parse(t.listicon)}catch(e){console.log(t),console.log(e)}if(t.buttonicon&&"string"==typeof t.buttonicon)try{t.buttonicon=JSON.parse(t.buttonicon)}catch(e){console.log(t),console.log(e)}}),n.state={ideas:[],visibleIdeas:[],listedIdeas:[],status:"default",infobarOnMobileIsOpen:!1,editIdea:null,selectedIdea:null,selectedLocation:null},t}return _createClass(OpenStadComponentIdeasOnMap,[{key:"componentDidMount",value:function(){var r=this;window.addEventListener("hashchange",function(e){var t,n,o=window.location.hash.match(/(\w)(\d+)/);o&&(t=o[2],n=r.state.ideas&&r.state.ideas.find(function(e){return e.id==t}),"D"==o[1]&&r.showIdeaDetails(n),o[1])},!1),document.addEventListener("osc-map-is-ready",function(e){r.fetchData({}),r.map.map.on("zoomend",function(){r.onChangeMapBoundaries()}),r.map.map.on("moveend",function(){r.onChangeMapBoundaries()})}),document.addEventListener("osc-map-click",function(e){r.onMapClick(e.detail)}),document.addEventListener("osc-map-marker-click",function(e){r.onMarkerClick(e.detail)}),document.addEventListener("osc-map-cluster-click",function(e){r.onClusterClick(e.detail)}),document.addEventListener("osc-ideas-filter-onchange",function(e){r.onChangeFilter(e.detail)}),document.addEventListener("osc-set-selected-idea",function(e){r.onUpdateSelectedIdea(e.detail)}),document.addEventListener("osc-set-selected-location",function(e){r.setSelectedLocation(e.detail)}),document.addEventListener("osc-new-idea-click",function(e){r.onNewIdeaClick({idea:e.detail.idea})}),document.addEventListener("osc-selected-idea-click",function(e){r.onSelectedIdeaClick({idea:e.detail.idea})}),document.addEventListener("osc-click-mobile-switcher",function(e){r.onClickMobileSwitcher()}),document.addEventListener("osc-idea-tile-click",function(e){r.onIdeaClick(e.detail.idea)}),document.addEventListener("osc-idea-tile-mouse-over",function(e){r.onTileMouseOver(e.detail.idea)}),document.addEventListener("osc-idea-tile-mouse-out",function(e){r.onTileMouseOut(e.detail.idea)}),document.addEventListener("osc-idea-liked",function(e){r.onIdeaLiked(e.detail)}),document.addEventListener("osc-new-reaction-stored",function(e){r.onReactionStored(e.detail,!0)}),document.addEventListener("osc-reaction-edited",function(e){r.onReactionStored(e.detail)}),document.addEventListener("osc-reaction-deleted",function(e){r.onReactionDeleted(e.detail)}),document.addEventListener("osc-edit-idea-click",function(e){r.onEditIdeaClick(e.detail)}),document.addEventListener("osc-idea-deleted",function(e){r.onIdeaDeleted(e.detail)}),document.addEventListener("osc-idea-stored",function(e){document.location.href="#",r.onIdeaStored(e.detail.idea)}),document.addEventListener("osc-update-edit-idea",function(e){r.onUpdateEditIdea(e.detail.idea)})}},{key:"fetchData",value:function(e){for(var n=e.showIdeaDetails,o=e.showIdeaSelected,i=this,t="".concat(i.config.api.url,"/api/site/").concat(i.config.siteId,"/idea?includeVoteCount=1&includeArgsCount=1&includeUser=1"),r=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_6__.a.api.getHeaders(i.config);0<i.map.markers.length;){var a=i.map.markers[0];i.map.removeMarker(a)}i.map.markers=[],fetch(t,{headers:r}).then(function(e){return e.json()}).then(function(e){n=n||window.location.hash.match(/^#D(\d+)/)&&window.location.hash.match(/^#D(\d+)/)[1],o=o||window.location.hash.match(/^#S(\d+)/)&&window.location.hash.match(/^#S(\d+)/)[1];var t=e.filter(function(e){return e.location});t.map(function(e){e.id==n&&(n=e),e.id==o&&(o=e),e.image=e.posterImage&&e.posterImage.key||e.extraData&&e.extraData.images&&e.extraData.images[0]||"https://stemvanwest.amsterdam.nl/img/placeholders/idea.jpg",i.map.addIdea(e)}),i.map.setBoundsAndCenter(),i.setState({ideas:t},function(){var e,r;i.setInfobarOnMobileIsOpen(i.config.startWithListOpenOnMobile),"object"==_typeof(o)&&null!=o&&(i.setNewIdea(null),i.setSelectedIdea(o,function(){i.setState({status:"idea-selected"}),i.map.showMarkers({})})),"object"==_typeof(n)&&null!=n&&(i.setNewIdea(null),i.showIdeaDetails(n)),window.location.hash.match(/^#newidea/)&&(e=window.location.hash.match(/&([^&]+)=([^&]+)/g),r={},e&&e.forEach(function(e){var t=_slicedToArray(e.split("="),2),n=t[0],o=t[1],n=n.substring(1,n.length);r[n]=decodeURIComponent(o)}),i.setNewIdea(r),i.showIdeaForm(r)),i.onChangeMapBoundaries()})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"showIdeaDetails",value:function(e){var t=this;t.setSelectedIdea(e),t.openInfobarOnMobile(),t.setState({status:"idea-details"},function(){t.map.hideMarkers({exception:{location:{lat:e.location.coordinates[0],lng:e.location.coordinates[1]}}})})}},{key:"hideIdeaDetails",value:function(){var e=this;e.setState({status:"idea-selected"},function(){var t=e.state.selectedIdea;t&&e.infobar.updateIdeas({ideas:e.state.ideas.filter(function(e){return e.id!=t.id}),sortOrder:"distance",hideSortButton:!0,center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5}),e.map.showMarkers({})})}},{key:"showIdeaForm",value:function(e,t){var n,o=this;o.config.idea.formUrl?(n=(n=(n=(n=(n=o.config.idea.formUrl).replace(/:ideaId/,"number"==typeof e.id?e.id:"")).replace(/:location/,e.location?JSON.stringify({lat:e.location.coordinates[0],lng:e.location.coordinates[1]}):"")).replace(/:typeId/,e.typeId)).replace(/:address/,e.address),document.location.href=n):o.setState({status:"idea-form",editIdea:e},function(){o.map.map.invalidateSize(),o.map.hideMarkers({exception:{location:e&&e.location?{lat:e.location.coordinates[0],lng:e.location.coordinates[1]}:o.map.selectedLocation}}),t&&t()})}},{key:"hideIdeaForm",value:function(){var e,t=this;this.state.editIdea&&"number"==typeof this.state.editIdea.id?(e=t.state.ideas.find(function(e){return e.id==t.state.editIdea.id}),t.showIdeaDetails(e),document.location.href="#D"+e.id):(document.location.href="#",t.state.editIdea&&t.state.editIdea.location?t.setState({status:"location-selected"},function(){t.map.showMarkers({}),t.setNewIdea(t.state.editIdea)}):t.setState({status:"default"},function(){t.map.showMarkers({}),t.setNewIdea(null)}))}},{key:"setInfobarOnMobileIsOpen",value:function setInfobarOnMobileIsOpen(what,callback){this.setState({infobarOnMobileIsOpen:what}),callback&&eval(callback())}},{key:"openInfobarOnMobile",value:function openInfobarOnMobile(callback){this.setState({infobarOnMobileIsOpen:!0}),callback&&eval(callback())}},{key:"closeInfobarOnMobile",value:function closeInfobarOnMobile(callback){this.setState({infobarOnMobileIsOpen:!1}),callback&&eval(callback())}},{key:"doSearch",value:function doSearch(searchValue,callback){var self=this,searchValueLc=searchValue.toLowerCase(),searchResult={ideas:[],locations:[]};function onClickAddress(e){fetch("https://geodata.nationaalgeoregister.nl/locatieserver/v3/lookup?fq=gemeentenaam:".concat(self.config.search.addresssesMunicipality,"&&id=").concat(e),{headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){var t;e&&e.response&&e.response.docs&&e.response.docs[0]&&(t=e.response.docs[0].centroide_ll.match(/POINT\((\d+\.\d+) (\d+\.\d+)\)/),self.map.map.panTo(new L.LatLng(t[2],t[1])),self.onMapClick({latlng:{lat:t[2],lng:t[1]}},!0))}).catch(function(e){console.log("Search failed:",e),callback(searchValue,searchResult)})}this.state.ideas.forEach(function(idea){var title=eval("idea.".concat(self.config.titleField))||"",titlelLc=title.toLowerCase(),summary=eval("idea.".concat(self.config.summaryField))||"",summaryLc=summary.toLowerCase();(titlelLc.match(searchValueLc)||summaryLc.match(searchValueLc))&&searchResult.ideas.push({text:title,onClick:function(){self.onUpdateSelectedIdea(idea)}})}),fetch("https://geodata.nationaalgeoregister.nl/locatieserver/v3/suggest?rows=5&fq=gemeentenaam:".concat(self.config.search.addresssesMunicipality,"&fq=*:*&q=").concat(searchValueLc),{headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e&&e.response&&e.response.docs&&e.response.docs.length&&(searchResult.locations=e.response.docs.map(function(e){return{text:e.weergavenaam,onClick:function(){onClickAddress(e.id)}}})),callback(searchValue,searchResult)}).catch(function(e){console.log("Search failed:",e),callback(searchValue,searchResult)})}},{key:"getVisibleIdeas",value:function(){var e=this.map.getVisibleIdeas();return this.setState({visibleIdeas:e}),e}},{key:"setSelectedLocation",value:function(o){var r=this;r.map&&r.map.setSelectedLocation(o),o?r.infobar.ideaform&&(r.infobar.ideaform.handleLocationChange({location:o,address:"Bezig met adresgegevens ophalen..."}),r.map.getPointInfo(o,null,function(e,t){var n=e&&e._display||"Geen adres gevonden";r.state.editIdea.address=n,r.infobar.ideaform.handleLocationChange({location:o,address:n})})):(r.map&&r.map.unfadeAllMarkers(),r.setSelectedIdea(null),this.setState({status:"default",newIdea:null,editIdea:null},function(){}))}},{key:"setNewIdea",value:function(t){var r=this;t&&(t.isPointInPolygon=t.location&&r.map.isPointInPolygon({lat:t.location.coordinates[0],lng:t.location.coordinates[1]},r.config.map.polygon)),r.setState({editIdea:t},function(){t?(r.map.fadeMarkers({exception:[t.location]}),t.location&&r.setSelectedLocation({lat:t.location.coordinates[0],lng:t.location.coordinates[1]}),r.infobar&&(r.setState({editIdea:r.state.editIdea}),t.location?(r.infobar.setNewIdea(_objectSpread(_objectSpread({},r.state.editIdea),{},{address:"Bezig met adresgegevens ophalen..."})),r.map.getPointInfo({lat:t.location.coordinates[0],lng:t.location.coordinates[1]},null,function(e,t){var n=e&&e._display||"Geen adres gevonden",o=r.state.editIdea;o.address=n,r.setState({editIdea:o}),r.infobar.setNewIdea(_objectSpread(_objectSpread({},r.state.editIdea),{},{address:n}))})):r.infobar.setNewIdea(_objectSpread(_objectSpread({},r.state.editIdea),{},{address:"Geen locatie geselecteerd..."})),r.infobar.updateIdeas({ideas:r.state.ideas.filter(function(e){return e.id!=t.id}),sortOrder:"distance",hideSortButton:!0,center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5}))):(r.map.unfadeAllMarkers(),r.infobar&&(r.infobar.setNewIdea(null),r.infobar.updateIdeas({ideas:r.getVisibleIdeas(),hideSortButton:!1})))})}},{key:"setSelectedIdea",value:function(t,e){var n=this;n.setState({selectedIdea:t},function(){if(t?(n.map.fadeMarkers({exception:t}),n.infobar&&(n.infobar.setSelectedIdea(t),n.infobar.updateIdeas({ideas:n.state.ideas.filter(function(e){return e.id!=t.id}),sortOrder:"distance",hideSortButton:!0,center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5}))):(n.map&&n.map.unfadeAllMarkers(),n.infobar&&(n.infobar.setSelectedIdea(null),n.infobar.updateIdeas({ideas:n.getVisibleIdeas(),hideSortButton:!1}))),"function"==typeof e)return e()})}},{key:"onMapClick",value:function(e,t){if(1==this.state.infobarOnMobileIsOpen&&react_device_detect__WEBPACK_IMPORTED_MODULE_0__.isMobile)this.closeInfobarOnMobile(function(e){});else switch(this.state.status){case"idea-details":break;case"idea-form":this.map.isPointInPolygon(e.latlng,this.config.map.polygon)&&this.setSelectedLocation(e.latlng);break;default:if(this.setSelectedIdea(null),!this.state.selectedIdea&&!this.map.selectedLocation||t){if(!this.config.canSelectLocation)break;this.setState(_objectSpread(_objectSpread({},this.state),{},{status:"location-selected"}));var n={id:"New Idea",location:{coordinates:[e.latlng.lat,e.latlng.lng]}};this.setNewIdea(n)}else this.setState(_objectSpread(_objectSpread({},this.state),{},{status:"default"})),document.location.href="#",this.setSelectedLocation(null),this.setNewIdea(null),this.infobar.updateIdeas({ideas:this.getVisibleIdeas(),hideSortButton:!1});this.map.updateFading(),document.querySelector("#osc-ideas-on-map-info").scrollTo(0,0)}}},{key:"onMarkerClick",value:function(e){var t=this;if(1==this.state.infobarOnMobileIsOpen&&react_device_detect__WEBPACK_IMPORTED_MODULE_0__.isMobile)this.closeInfobarOnMobile(function(e){});else switch(this.state.status){case"idea-details":case"idea-form":break;default:this.state.editIdea?(this.setSelectedIdea(null),this.setState({status:"default"}),this.setNewIdea(null),this.onUpdateSelectedIdea(null)):this.setSelectedIdea(e.target.data,function(){t.setState({status:"idea-selected"}),t.setNewIdea(null),t.onUpdateSelectedIdea(e.target.data)}),document.querySelector("#osc-ideas-on-map-info").scrollTo(0,0)}}},{key:"onClusterClick",value:function(){1==this.state.infobarOnMobileIsOpen&&react_device_detect__WEBPACK_IMPORTED_MODULE_0__.isMobile?this.closeInfobarOnMobile(function(e){}):(this.setState({status:"default"}),this.setNewIdea(null),this.setSelectedIdea(null))}},{key:"onChangeMapBoundaries",value:function(){var t,e=this;if(e.map)switch(e.map.updateFading(),e.state.status){case"idea-details":case"idea-form":break;case"idea-selected":case"location-selected":!e.infobar||(t=e.state.selectedIdea||e.state.editIdea)&&e.infobar.updateIdeas({ideas:e.state.ideas.filter(function(e){return e.id!=t.id}),sortOrder:"distance",hideSortButton:!0,center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5});break;default:e.infobar&&e.infobar.updateIdeas({ideas:e.getVisibleIdeas(),hideSortButton:!1})}}},{key:"onUpdateEditIdea",value:function(e){this.setSelectedIdea(e),this.setState({editIdea:_objectSpread({},e)})}},{key:"onUpdateSelectedIdea",value:function(e){this.state.editIdea&&this.setNewIdea(null);var t=e?"idea-selected":"default";document.location.href=e?"#S"+e.id:"#",this.setState({status:t},function(){this.setSelectedIdea(e)})}},{key:"onIdeaClick",value:function(e){var t=this;this.state.editIdea&&this.setNewIdea(null),this.setSelectedIdea(e,function(){t.setState({status:"idea-selected"},function(){document.location.href="#D"+e.id})})}},{key:"onEditIdeaClick",value:function(e){var o=this,r={lat:e.location.coordinates[0],lng:e.location.coordinates[1]};o.showIdeaForm(e,function(){o.infobar.ideaform.handleLocationChange({location:r,address:"Bezig met adresgegevens ophalen..."}),o.map.getPointInfo(r,null,function(e,t){var n=e&&e._display||"Geen adres gevonden";o.state.editIdea.address=n,o.infobar.ideaform.handleLocationChange({location:r,address:n})})})}},{key:"onIdeaDeleted",value:function(){var e=this;e.setNewIdea(null),e.setSelectedIdea(null),e.setSelectedLocation(null),e.setState({status:"default"},function(){e.map.setBoundsAndCenter(),e.fetchData({})})}},{key:"onDeleteIdeaClick",value:function(e){console.log("Delete idea",e.id)}},{key:"onSelectedIdeaClick",value:function(e){var t=e.idea;document.location.href="#D"+t.id}},{key:"onNewIdeaClick",value:function(e){var t=this,n=e.idea,r=this,o=this.state.editIdea||{};o.typeId=n.typeId,r.showIdeaForm(o,function(){var o;t.state.editIdea&&t.state.editIdea.location&&(o={lat:t.state.editIdea.location.coordinates[0],lng:t.state.editIdea.location.coordinates[1]},r.infobar.ideaform.handleLocationChange({location:o,address:"Bezig met adresgegevens ophalen..."}),r.map.getPointInfo(o,null,function(e,t){var n=e&&e._display||"Geen adres gevonden";r.state.editIdea.address=n,r.infobar.ideaform.handleLocationChange({location:o,address:n})}))})}},{key:"onIdeaStored",value:function(e){this.setNewIdea(null),this.fetchData({showIdeaDetails:e.id})}},{key:"onIdeaLiked",value:function(t){this.state.ideas.find(function(e){return e.id==t.ideaId}).yes+=t.change}},{key:"onReactionStored",value:function(t,e){e&&this.state.ideas.find(function(e){return e.id==t.ideaId}).argCount++}},{key:"onReactionDeleted",value:function(t){this.state.ideas.find(function(e){return e.id==t.ideaId}).argCount--}},{key:"onChangeFilter",value:function(){this.setSelectedIdea(null),this.setNewIdea(null),this.setSelectedLocation(null),this.setState({status:"default"}),this.onChangeMapBoundaries()}},{key:"onTileMouseOver",value:function(e){this.map.fadeMarkers({exception:e}),this.map.updateFading()}},{key:"onTileMouseOut",value:function(){this.map.unfadeAllMarkers(),this.state.selectedIdea&&this.map.fadeMarkers({exception:this.state.selectedIdea}),this.map.selectedLocation&&this.map.fadeMarkers({}),this.map.updateFading()}},{key:"onClickBackToOverview",value:function(){this.hideIdeaDetails(),document.location.href="#S"+this.state.selectedIdea.id}},{key:"onClickMobileSwitcher",value:function(){var t=this,n=this;n.setInfobarOnMobileIsOpen(!this.state.infobarOnMobileIsOpen,function(e){"location-selected"!=n.state.status&&"idea-selected"!=t.state.status||(n.state.selectedIdea||n.state.editIdea,n.map.setBoundsAndCenter())})}},{key:"render",value:function render(){var _this6=this,infoHTML=null,filterHTML=null,mobilePopupHTML=null;switch(this.state.status){case"idea-details":infoHTML=React.createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_2__.a,{config:this.config,displayType:"details",idea:this.state.selectedIdea,className:"osc-ideas-on-map-info",ref:function(e){return _this6.infobar=e}}),filterHTML=React.createElement("div",{className:"osc-ideas-filterbar"},React.createElement("div",{className:"osc-backbutton",onClick:function(){return _this6.onClickBackToOverview()}},"Terug naar overzicht"));break;case"idea-form":infoHTML=React.createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_2__.a,{config:this.config,displayType:"form",idea:_objectSpread(_objectSpread({},this.state.editIdea),{},{user:this.state.editIdea&&this.state.editIdea.user||this.config.user}),className:"osc-ideas-on-map-info",ref:function(e){return _this6.infobar=e}}),filterHTML=React.createElement("div",{className:"osc-ideas-filterbar"},React.createElement("div",{className:"osc-backbutton",onClick:function(){return _this6.hideIdeaForm()}},"Terug naar ",this.state.editIdea&&"number"==typeof this.state.editIdea.id?"idee":"overzicht"));break;case"location-selected":case"idea-selected":"location-selected"==this.state.status?this.state.editIdea&&this.state.editIdea.isPointInPolygon&&(mobilePopupHTML=React.createElement(_preview_jsx__WEBPACK_IMPORTED_MODULE_3__.a,{config:_objectSpread(_objectSpread({},this.config),{},{display:{type:"mobilePreview"}}),selectedLocation:this.state.editIdea})):mobilePopupHTML=React.createElement("div",{className:"osc-mobile-popup osc-clickable",onClick:function(){_this6.openInfobarOnMobile(),document.location.href="#D"+_this6.state.selectedIdea.id}},React.createElement("div",{className:"osc-image",style:{backgroundImage:"url(".concat(this.state.selectedIdea&&this.state.selectedIdea.image,")")}}),eval(this.state.selectedIdea&&"this.state.selectedIdea.".concat(this.config.titleField))),infoHTML=React.createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_2__.a,{config:this.config,id:"osc-ideas-on-map-info",className:"osc-ideas-on-map-info",infobarOnMobileIsOpen:this.state.infobarOnMobileIsOpen,ref:function(e){return _this6.infobar=e}}),filterHTML=React.createElement(_filterbar_jsx__WEBPACK_IMPORTED_MODULE_1__.a,{config:this.config,className:"osc-ideas-filterbar"});break;default:infoHTML=React.createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_2__.a,{config:this.config,id:"osc-ideas-on-map-info",className:"osc-ideas-on-map-info",infobarOnMobileIsOpen:this.state.infobarOnMobileIsOpen,ref:function(e){return _this6.infobar=e}}),filterHTML=React.createElement(_filterbar_jsx__WEBPACK_IMPORTED_MODULE_1__.a,{config:this.config,className:"osc-ideas-filterbar"}),mobilePopupHTML=null}var divStyle={},simpleHTML=null,buttonHTML;return"simple"==this.config.display.type&&(filterHTML=null,infoHTML=null,mobilePopupHTML=null,buttonHTML=null,this.config.linkToCompleteUrl&&(buttonHTML=React.createElement("button",{onClick:function(){document.location.href=_this6.config.linkToCompleteUrl},className:"osc-button-blue",style:{position:"absolute",top:20,right:20}},"Bekijk de volledige kaart")),simpleHTML=React.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1e3}},buttonHTML),this.config.display.width&&(divStyle.width=this.config.display.width),this.config.display.height&&(divStyle.height=this.config.display.height)),React.createElement("div",{id:this.divId,className:"osc-ideas-on-map osc-ideas-on-map-".concat(this.state.status," osc-mobile-").concat(this.state.infobarOnMobileIsOpen?"opened":"closed"),style:divStyle,ref:function(e){return _this6.instance=e}},filterHTML,infoHTML,React.createElement("div",{className:"osc-ideas-on-map-map osc-ideas-on-map-map-".concat(this.config.display.type)},React.createElement(_map_jsx__WEBPACK_IMPORTED_MODULE_4__.a,{id:this.divId+"-map",config:_objectSpread(_objectSpread({},this.config.map),{},{types:this.config.types,typeField:this.config.typeField,zoomControl:"simple"!=this.config.display.type}),ref:function(e){return _this6.map=e}})),simpleHTML,mobilePopupHTML)}}]),OpenStadComponentIdeasOnMap}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_5__.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(0),a=n(72);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function s(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=d(i);return t=a?(e=d(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==c(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,a["IdeasOverview"]);var e,t,n,o=f(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"render",value:function(){var t=this,e=void 0!==t.props.ideas?t.props.ideas:t.state.ideas||[],n=React.createElement("h3",{className:"osc-title"},t.config.title," (",e.length,")");return React.createElement("div",{id:t.id,className:"osc-ideas-overview ".concat(t.props.className||"")},React.createElement(a.IdeasFilterbar,{config:t.config,showFilterbar:t.props.showFilterbar,className:"osc-ideas-filterbar"}),React.createElement(a.IdeasSort,{config:s({},t.config.sort),ideas:e,showSort:!t.props.hideSortButton,className:"osc-align-right-container",ref:function(e){return t.sorter=e}}),n,React.createElement(a.IdeasList,{config:t.config,ideas:e,className:""}))}}])&&l(e.prototype,t),n&&l(e,n),r}(),h=n(89),m=n(111),y=n(90);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function b(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=E(i);return t=a?(e=E(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==g(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(r,i["a"]);var e,t,n,o=O(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e,{display:{columns:1,showFilterbar:!1},idea:{canAddNewIdeas:!0,showVoteButtons:!0},argument:{isActive:!0,ignoreReactionsForIdeaIds:""},types:[]})).config.loginUrl=t.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),e.config.content.noSelectionHTML&&!e.config.content.noSelectionLoggedInHTML&&(t.config.content.noSelectionLoggedInHTML=e.config.content.noSelectionHTML),e.config.content.noSelectionHTML&&!e.config.content.noSelectionNotLoggedInHTML&&(t.config.content.noSelectionNotLoggedInHTML=e.config.content.noSelectionHTML),t.state={currentSortOrder:t.config.defaultValue,selectedIdea:void 0,newIdea:void 0,ideas:[],infobarOnMobileIsOpen:e.infobarOnMobileIsOpen||!1},t}return e=r,(t=[{key:"componentDidMount",value:function(){var t=this;t.setSelectedIdeaListener=function(e){t.setSelectedIdea(e.detail)},document.addEventListener("osc-set-selected-idea",t.setSelectedIdeaListener),t.setSelectedLocationListener=function(e){t.setNewIdea(e.detail)},document.addEventListener("osc-set-selected-location",t.setSelectedLocationListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-set-selected-idea",this.setSelectedIdeaListener),document.removeEventListener("osc-set-selected-location",this.setSelectedLocationListener)}},{key:"updateIdeas",value:function(e){var t=e.ideas,n=void 0===t?this.state.ideas:t,o=e.sortOrder,r=void 0===o?this.state.currentSortOrder:o,i=(e.hideSortButton,e.center),a=void 0===i?{lat:52.37104644463586,lng:4.900402911007405}:i,c=e.maxLength,n=this.list?this.list.sorter.doSort({ideas:n,sortOrder:r,center:a}):[];c&&(n=n.splice(0,c)),this.setState({ideas:n})}},{key:"setSelectedIdea",value:function(e){this.setState(b(b({},this.state),{},{selectedIdea:e,newIdea:null}))}},{key:"setNewIdea",value:function(e){this.setState(b(b({},this.state),{},{newIdea:e,selectedIdea:null}))}},{key:"dispatchClickMobileSwitcher",value:function(e){e.stopPropagation();var t=new window.CustomEvent("osc-click-mobile-switcher",{detail:{}});document.dispatchEvent(t)}},{key:"render",value:function(){var t=this,n=this,e=b({},n.config);if(e.display.type="list",this.props.idea&&this.props.idea.extraData&&this.props.idea.extraData.type&&("Kans"==this.props.idea.extraData.type||"Knelpunt"==this.props.idea.extraData.type)&&(e.types=[{name:"Kans",label:"Dit gaat goed",value:"Kans",buttonLabel:"Ik wil een idee posten",backgroundColor:"#bed200",textColor:"black"},{name:"Knelpunt",label:"Dit kan beter",value:"Knelpunt",backgroundColor:"#ff9100",textColor:"black"}],e.typeField="extraData.type",e.showLabels=!0),"details"==n.props.displayType)return React.createElement(h.default,{config:e,idea:this.props.idea,className:n.props.className||"osc-infobar-idea-details",ref:function(e){return t.ideadetails=e}});if("form"==n.props.displayType)return React.createElement(m.a,{config:e,idea:this.props.idea,className:"osc-ideas-on-map-info",ref:function(e){return t.ideaform=e}});n.state.ideas;var o,r="",i="",a=null,c=!1;n.state.newIdea&&(r="in de buurt",i="Meer details en acties",a=5,c=!0),n.state.selectedIdea&&(r="in de buurt",i="Meer details",a=5,c=!0),r=r||"in dit gebied",n.state.newIdea||n.state.selectedIdea||(i="".concat(e.ideaName," in dit gebied (").concat(n.state.ideas&&n.state.ideas.length||0,")")),n.state.infobarOnMobileIsOpen&&(i="Terug naar de kaart"),o=React.createElement("div",{className:"osc-mobile-switcher",onClick:function(e){return n.dispatchClickMobileSwitcher(e)}},i);var s=e.ideaName+" "+r;return e.display.onMouseOverTileFadeOthers=!0,React.createElement("div",{id:n.props.id,className:n.props.className||"osc-infobar",ref:function(e){return n.instance=e}},o,React.createElement("div",{className:"osc-info-content"},React.createElement(y.a,{config:e,selectedIdea:n.state.selectedIdea,selectedLocation:n.state.newIdea}),React.createElement(p,{config:e,ideas:n.state.ideas,maxLength:a,hideSortButton:c,title:s,ref:function(e){return n.list=e}})))}}])&&_(e.prototype,t),n&&_(e,n),r}()},function(e,t,n){"use strict";n.r(t);n(11),n(102);var o=n(2),r=n.n(o),i=n(6),a=n.n(i),c=(n(104),n(73));n.d(t,"default",function(){return c.a}),n.d(t,"Lightbox",function(){return c.a}),c.a.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(c.a,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t);n(11);var o=n(2),r=n.n(o),i=n(6),a=n.n(i),c=(n(106),n(74));n.d(t,"default",function(){return c.a}),n.d(t,"NLMap",function(){return c.a}),c.a.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(c.a,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t);n(11);var o=n(2),r=n.n(o),i=n(6),a=n.n(i),c=(n(108),n(75));n.d(t,"default",function(){return c.a}),n.d(t,"IdeaDetails",function(){return c.a}),c.a.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(c.a,{attributes:n,config:t}),e)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Preview});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_image_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Preview=function(_OpenStadComponent){_inherits(Preview,_OpenStadComponent);var _super=_createSuper(Preview);function Preview(e){var t;return _classCallCheck(this,Preview),(t=_super.call(this,e,{display:{type:"idea-selection"},api:{},content:{noSelectionLoggedInHTML:"",noSelectionNotLoggedInHTML:"",selectionActiveLoggedInHTML:"Ingelogd: er is een punt geselecteerd binnen de polygon, met een adres: {address} en {addButton}.",selectionInactiveLoggedInHTML:"Ingelogd: er is een punt geselecteerd buiten de polygon, met een {address}",selectionActiveNotLoggedInHTML:'Niet ingelogd: er is een punt geselecteerd binnen de polygon, met een adres: {address} en {loginButton} of <a href="{loginLink}">login link</a>.',selectionInactiveNotLoggedInHTML:"Niet ingelogd: er is een punt geselecteerd buiten de polygon, met een {address}",mobilePreviewLoggedInHTML:"Een locatie vlakbij <h4>{address}</h4>{addButton}",mobilePreviewNotLoggedInHTML:'Een locatie vlakbij <h4>{address}</h4><div>Wilt u een nieuw punt toevoegen? Dan moet u eerst <a href="{loginLink}">inloggen</a>.</div>',showNoSelectionOnMobile:!1},idea:{canAddNewIdeas:!0,showVoteButtons:!0}})).config.loginUrl=t.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),e.config.content=e.config.content||{},e.config.content.noSelectionHTML&&!e.config.content.noSelectionLoggedInHTML&&(t.config.content.noSelectionLoggedInHTML=e.config.content.noSelectionHTML),e.config.content.noSelectionHTML&&!e.config.content.noSelectionNotLoggedInHTML&&(t.config.content.noSelectionNotLoggedInHTML=e.config.content.noSelectionHTML),t.state={},t}return _createClass(Preview,[{key:"dispatchOnButtonIdeaClick",value:function(e,t){var n=new window.CustomEvent("osc-selection-button-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchNewIdeaClick",value:function(e,t){var n=new window.CustomEvent("osc-new-idea-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchSelectedIdeaClick",value:function(e,t){var n=new window.CustomEvent("osc-selected-idea-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchClosePreview",value:function(e,t){var n;e.stopPropagation(),"idea"==t&&(n=new window.CustomEvent("osc-set-selected-idea",{detail:null})),"location"==t&&(n=new window.CustomEvent("osc-set-selected-location",{detail:null})),document.dispatchEvent(n)}},{key:"render",value:function render(){var _this2=this,self=this;if("mobilePreview"==self.config.display.type){var contentHTML=this.config.api.isUserLoggedIn?this.config.content.mobilePreviewLoggedInHTML:this.config.content.mobilePreviewNotLoggedInHTML,_addButton=null,_loginButton=null,_loginLink=null;return this.config.api.isUserLoggedIn?this.config.idea.canAddNewIdeas&&(_addButton=React.createElement("button",{className:"osc-button osc-button-blue",onClick:function(e){_this2.onClickMobileSwitcher(e),_this2.onNewIdeaClick(e)},ref:function(e){return self.newIdeaButton=e}},"Nieuw punt toevoegen")):this.config.idea.canAddNewIdeas&&(_loginButton=React.createElement("button",{onClick:function(){document.location.href="/oauth/login?returnTo="+encodeURIComponent(document.location.href)},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"),_loginLink="javascript: document.location.href = '/oauth/login?returnTo=' + encodeURIComponent(document.location.href)"),contentHTML=contentHTML.replace(/\{address\}/g,this.props.selectedLocation.address||""),contentHTML=contentHTML.replace(/\{loginLink\}/g,_loginLink),contentHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.reactTemplate({html:contentHTML,addButton:_addButton,loginButton:_loginButton}),React.createElement("div",{className:"osc-mobile-popup"},contentHTML)}var selectedLocationHTML=null,selectedIdeaHTML=null,titleAddition="",mobileSwitcherHTML=null,mobileTitle="",addButton=null,loginButton=null,loginLink=null,_contentHTML,_contentHTML;if(self.config.idea.canAddNewIdeas&&(addButton=self.config.types&&"typeId"==self.config.typeField?React.createElement("span",{className:"osc-new-idea-buttons"},self.config.types.map(function(e,t){var n=e;if(!n.auth||n.auth.createableBy&&_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.user.hasRole(self.config.user,n.auth.createableBy)){var o=n?React.createElement("div",{className:"osc-button-background-image",dangerouslySetInnerHTML:{__html:n.buttonicon&&n.buttonicon.html||""}}):null;return React.createElement("button",{className:"osc-button osc-button-white"+(n&&n.auth&&n.auth.createableBy?" osc-button-required-role-is-".concat(n.auth.createableBy):""),onClick:function(e){return self.dispatchNewIdeaClick(e,{typeId:n.id||n.name})},key:"osc-button-".concat(t)},o,n&&n.buttonLabel||"Nieuw punt toevoegen")}return null})):React.createElement("button",{className:"osc-button osc-button-blue",onClick:function(e){return self.dispatchNewIdeaClick(e)}},"Nieuw punt toevoegen"),loginButton=React.createElement("button",{onClick:function(){document.location.href=_this2.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"),loginLink="javascript: document.location.href = '".concat(this.config.loginUrl,"'")),self.props.selectedLocation&&(_contentHTML=null,_contentHTML=self.props.selectedLocation.isPointInPolygon?self.config.api.isUserLoggedIn?self.config.content.selectionActiveLoggedInHTML:self.config.content.selectionActiveNotLoggedInHTML:self.config.api.isUserLoggedIn?self.config.content.selectionInactiveLoggedInHTML:self.config.content.selectionInactiveNotLoggedInHTML,console.log(_contentHTML),_contentHTML=_contentHTML.replace(/\{address\}/g,self.props.selectedLocation.address||""),_contentHTML=_contentHTML.replace(/\{loginLink\}/g,loginLink),_contentHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.reactTemplate({html:_contentHTML,addButton:addButton,loginButton:loginButton}),console.log(_contentHTML),selectedLocationHTML=React.createElement("div",{className:"osc-infobar-new-idea"},React.createElement("button",{className:"osc-close-button-black",onClick:function(e){return self.dispatchClosePreview(e,"location")},ref:function(e){return self.resetButton=e}}),_contentHTML),titleAddition="in de buurt",mobileTitle="Meer details en acties"),self.props.selectedIdea){var idea=self.props.selectedIdea,ideaTypeValue;try{ideaTypeValue=eval("idea.".concat(self.config.typeField))}catch(e){ideaTypeValue=""}var typeDef=self.config.types.find(function(e){return e.name==ideaTypeValue||e.id==ideaTypeValue});typeDef&&typeDef.listicon||(typeDef={listicon:{html:""}});var voteCountHTML=null;this.config.idea.showVoteButtons&&(voteCountHTML=React.createElement("div",{className:"osc-likes"},idea.yes||0));var argcountHTML=null;this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)")))&&(argcountHTML=React.createElement("div",{className:"osc-reactions"},idea.argCount||0)),selectedIdeaHTML=React.createElement("div",{className:"osc-infobar-selected-idea",onClick:function(e){return self.dispatchSelectedIdeaClick(e,self.props.selectedIdea)}},React.createElement("button",{className:"osc-close-button-black",onClick:function(e){return self.dispatchClosePreview(e,"idea")},ref:function(e){return self.resetButton=e}}),React.createElement("h3",null,"Geselecteerd"),React.createElement("div",{className:"osc-infobar-selected-idea-idea"},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_2__.IdeaImage,{config:{},idea:idea,key:"image-"+idea.id})),React.createElement("div",{className:"osc-content"},React.createElement("h4",null,eval("idea.".concat(self.config.titleField))),React.createElement("div",{className:"osc-summary"},eval("idea.".concat(self.config.summaryField))),React.createElement("div",{className:"osc-stats"},voteCountHTML,argcountHTML,React.createElement("div",{className:"osc-type"},React.createElement("div",{className:"osc-type-content",dangerouslySetInnerHTML:{__html:typeDef.listicon.html}})))),React.createElement("div",{className:"osc-clear-both"}))),titleAddition="in de buurt",mobileTitle="Meer details"}var defaultBlockHTML=null,noSelectionHTML,noSelectionHTML;return selectedLocationHTML||selectedIdeaHTML||(noSelectionHTML=self.config.api.isUserLoggedIn?self.config.content.noSelectionLoggedInHTML:self.config.content.noSelectionNotLoggedInHTML,noSelectionHTML=noSelectionHTML||null,noSelectionHTML&&(noSelectionHTML=noSelectionHTML.replace(/\{loginLink\}/g,loginLink),noSelectionHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.reactTemplate({html:noSelectionHTML,addButton:addButton,loginButton:loginButton}),defaultBlockHTML=React.createElement("div",{className:"osc-infobar-default-block".concat(self.config.content.showNoSelectionOnMobile?" osc-visible-on-mobile":"")},noSelectionHTML)),mobileTitle="".concat(self.config.ideaName," in dit gebied (").concat(self.state.ideas&&self.state.ideas.length||0,")")),selectedLocationHTML||selectedIdeaHTML||defaultBlockHTML?React.createElement("div",{className:"osc-selection-block"},defaultBlockHTML,selectedLocationHTML,selectedIdeaHTML):null}}]),Preview}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function b(e,t){return e||(1<arguments.length&&void 0!==t?t:"none")}function o(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)}function r(e){var t=o();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&1<t.maxTouchPoints&&!window.MSStream)}var i,a=n(2),c=(i=a)&&"object"==typeof i&&"default"in i?i.default:i,s=new(n(118)),_=s.getBrowser(),w=(s.getCPU(),s.getDevice()),O=s.getEngine(),E=s.getOS(),S=s.getUA();function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function d(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function p(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(i,!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):d(i).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n,o){return p({},e,{vendor:b(t.vendor),model:b(t.model),os:b(n.name),osVersion:b(n.version),ua:b(o)})}var g="mobile",v="tablet",R="smarttv",C="console",I="wearable",P=void 0,j="Chrome",L="Firefox",T="Opera",x="Yandex",M="Safari",N="Internet Explorer",D="Edge",A="Chromium",F="IE",B="Mobile Safari",U="MIUI Browser",q="iOS",H="Android",V="Windows Phone",W="Windows",z="Mac OS",G={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},K=function(e){switch(e){case g:return{isMobile:!0};case v:return{isTablet:!0};case R:return{isSmartTV:!0};case C:return{isConsole:!0};case I:return{isWearable:!0};case P:return{isBrowser:!0};default:return G}}(w.type);function Q(){return"string"==typeof S&&-1!==S.indexOf("Edg/")}function J(){return _.name===D}function Z(){return r("iPad")}var $,Y,X,ee=w.type===R,te=w.type===C,ne=w.type===I,oe=_.name===B||Z(),re=_.name===A,ie=function(){switch(w.type){case g:case v:return!0;default:return!1}}()||Z(),ae=w.type===g,ce=w.type===v||Z(),se=w.type===P,le=E.name===H,ue=E.name===V,fe=E.name===q||Z(),de=_.name===j,pe=_.name===L,he=_.name===M||_.name===B,me=_.name===T,ye=_.name===N||_.name===F,ge=b(E.version),ve=b(E.name),be=b(_.version),_e=b(_.major),we=b(_.name),Oe=b(w.vendor),Ee=b(w.model),Se=b(O.name),ke=b(O.version),Re=b(S),Ce=J()||Q(),Ie=_.name===x,Pe=b(w.type,"browser"),je=($=o())&&(/iPad|iPhone|iPod/.test($.platform)||"MacIntel"===$.platform&&1<$.maxTouchPoints)&&!window.MSStream,Le=Z(),Te=r("iPhone"),xe=r("iPod"),Me=(Y=o(),"string"==typeof(X=Y&&Y.userAgent.toLowerCase())&&/electron/.test(X)),Ne=Q(),De=J()&&!Q(),Ae=E.name===W,Fe=E.name===z,Be=_.name===U;t.AndroidView=function(e){var t=e.renderWithFragment,n=e.children,o=e.viewClassName,r=e.style;return le?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:o,style:r},n):null},t.BrowserView=function(e){var t=e.renderWithFragment,n=e.children,o=e.viewClassName,r=e.style;return se?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:o,style:r},n):null},t.ConsoleView=function(e){var t=e.renderWithFragment,n=e.children,o=e.viewClassName,r=e.style;return te?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:o,style:r},n):null},t.CustomView=function(e){var t=e.renderWithFragment,n=e.children,o=e.viewClassName,r=e.style;return e.condition?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:o,style:r},n):null},t.IEView=function(e){var t=e.renderWithFragment,n=e.children,o=e.viewClassName,r=e.style;return ye?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:o,style:r},n):null},t.IOSView=function(e){var t=e.renderWithFragment,n=e.children,o=e.viewClassName,r=e.style;return fe?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:o,style:r},n):null},t.MobileOnlyView=function(e){var t=e.renderWithFragment,n=e.children,o=e.viewClassName,r=e.style;return ae?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:o,style:r},n):null},t.MobileView=function(e){var t=e.renderWithFragment,n=e.children,o=e.viewClassName,r=e.style;return ie?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:o,style:r},n):null},t.SmartTVView=function(e){var t=e.renderWithFragment,n=e.children,o=e.viewClassName,r=e.style;return ee?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:o,style:r},n):null},t.TabletView=function(e){var t=e.renderWithFragment,n=e.children,o=e.viewClassName,r=e.style;return ce?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:o,style:r},n):null},t.WearableView=function(e){var t=e.renderWithFragment,n=e.children,o=e.viewClassName,r=e.style;return ne?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:o,style:r},n):null},t.WinPhoneView=function(e){var t=e.renderWithFragment,n=e.children,o=e.viewClassName,r=e.style;return ue?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:o,style:r},n):null},t.browserName=we,t.browserVersion=_e,t.deviceDetect=function(){var e,t,n,o,r,i,a,c,s,l,u,f,d,p=K.isBrowser,h=K.isMobile,m=K.isTablet,y=K.isSmartTV,g=K.isConsole,v=K.isWearable;return p?(t=O,n=E,o=S,{isBrowser:p,browserMajorVersion:b((e=_).major),browserFullVersion:b(e.version),browserName:b(e.name),engineName:b(t.name),engineVersion:b(t.version),osName:b(n.name),osVersion:b(n.version),userAgent:b(o)}):y?(i=E,a=S,{isSmartTV:y,engineName:b((r=O).name),engineVersion:b(r.version),osName:b(i.name),osVersion:b(i.version),userAgent:b(a)}):g?(s=E,l=S,{isConsole:g,engineName:b((c=O).name),engineVersion:b(c.version),osName:b(s.name),osVersion:b(s.version),userAgent:b(l)}):h||m?k(K,w,E,S):v?(f=E,d=S,{isWearable:v,engineName:b((u=O).name),engineVersion:b(u.version),osName:b(f.name),osVersion:b(f.version),userAgent:b(d)}):void 0},t.deviceType=Pe,t.engineName=Se,t.engineVersion=ke,t.fullBrowserVersion=be,t.getUA=Re,t.isAndroid=le,t.isBrowser=se,t.isChrome=de,t.isChromium=re,t.isConsole=te,t.isEdge=Ce,t.isEdgeChromium=Ne,t.isElectron=Me,t.isFirefox=pe,t.isIE=ye,t.isIOS=fe,t.isIOS13=je,t.isIPad13=Le,t.isIPhone13=Te,t.isIPod13=xe,t.isLegacyEdge=De,t.isMIUI=Be,t.isMacOs=Fe,t.isMobile=ie,t.isMobileOnly=ae,t.isMobileSafari=oe,t.isOpera=me,t.isSafari=he,t.isSmartTV=ee,t.isTablet=ce,t.isWearable=ne,t.isWinPhone=ue,t.isWindows=Ae,t.isYandex=Ie,t.mobileModel=Ee,t.mobileVendor=Oe,t.osName=ve,t.osVersion=ge,t.withOrientationChange=function(o){return function(){function r(e){var t,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,(t=!(o=h(r).call(this,e))||"object"!=typeof o&&"function"!=typeof o?y(n):o).isEventListenerAdded=!1,t.handleOrientationChange=t.handleOrientationChange.bind(y(t)),t.onOrientationChange=t.onOrientationChange.bind(y(t)),t.onPageLoad=t.onPageLoad.bind(y(t)),t.state={isLandscape:!1,isPortrait:!1},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(r,c.Component),e=r,(t=[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var e=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:0==e,isLandscape:90==e})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){void 0!==("undefined"==typeof window?"undefined":l(window))&&ie&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return c.createElement(o,f({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}])&&u(e.prototype,t),n&&u(e,n),r}()}},function(module,__webpack_exports__,__webpack_require__){"use strict";function amapsCreateClusterIcon(cluster){var self=this,count=cluster.getChildCount(),markers=cluster.getAllChildMarkers(),colors={},total=markers.length,isFaded=!1;markers.forEach(function(entry){var type=entry.data&&eval("entry.data.".concat(self.config.typeField)),tmp=self.config.types.find(function(e){return type&&(e.id==type||e.name==type)}),color=tmp&&(tmp.color||tmp.backgroundColor)||"#164995";null==type&&(type="undef"),colors[color]||(colors[color]=0),colors[color]++,entry.data&&entry.data.isFaded&&(isFaded=!0)});var html='<svg viewBox="0 0 36 36"><circle cx="18" cy="18" r="14" fill="white"/>',soFar=0;return Object.keys(colors).forEach(function(e){var t=e,n=100*colors[e]/total;html+='  <path\n             d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"\n             fill="none"\n             transform="rotate('.concat(soFar/100*360,', 18, 18)"\n             stroke="').concat(t,'"\n             stroke-width="4"\n             stroke-dasharray="').concat(n,', 100"\n             />'),soFar+=n}),html+='<text x="18" y="21" text-anchor="middle" class="openstad-component-ideas-on-map-icon openstad-component-ideas-on-map-icon-text">'+count+"</text></svg>",L.divIcon({html:html,className:"openstad-component-ideas-on-map-icon-cluster",iconSize:L.point(36,36),iconAnchor:[18,18],isFaded:isFaded})}__webpack_require__.d(__webpack_exports__,"a",function(){return amapsCreateClusterIcon})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(0),a=n(1);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=f(i);return t=a?(e=f(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==c(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,i["a"]);var e,t,n,o=u(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e,{name:"likebutton",backgroundColor:"#164995",color:"#fff",text:"like",opinion:"yes"})).state={value:t.props.value,busy:!1},t}return e=r,(t=[{key:"componentDidMount",value:function(){a.a.localStorage.get("osc-ideas-on-map-vote-pending")&&(this.doVote(),a.a.localStorage.remove("osc-ideas-on-map-vote-pending"))}},{key:"doVote",value:function(e){var r=this;if(e&&e.stopPropagation(),!this.state.busy){this.setState({busy:!0});var i=this,t="".concat(i.config.api.url,"/api/site/").concat(i.config.siteId,"/vote"),n=a.a.api.getHeaders(i.config);if(!i.config.user||!i.config.user.role){a.a.localStorage.set("osc-ideas-on-map-vote-pending",!0);var o="/oauth/login?returnTo="+encodeURIComponent(document.location.href)+"&useOauth=anonymous";return document.location.href=o}fetch(t,{method:"post",headers:n,body:JSON.stringify({ideaId:i.props.idea.id,opinion:i.config.opinion})}).then(function(e){if(!e.ok)throw Error("Stemmen is niet gelukt");return e.json()}).then(function(e){var t=e.length?1:-1,n=i.state.value+t;i.setState({value:n}),i.props.idea.userVote=e.length&&e||null,r.setState({busy:!1});var o=new window.CustomEvent("osc-idea-liked",{detail:{ideaId:i.props.idea.id,change:t}});document.dispatchEvent(o)}).catch(function(e){alert(e.message)})}}},{key:"render",value:function(){var t=this,e=parseInt(t.state.value)||0,n=parseInt(e/100)||0,o=parseInt((e-100*n)/10)||0,r=e-100*n-10*o;return React.createElement("div",{id:t.id,className:t.props.className||"osc-vote-button osc-number-button",ref:function(e){return t.instance=e}},React.createElement("div",{className:"osc-number-plates",style:{color:this.config.color,backgroundColor:this.config.backgroundColor}},React.createElement("div",{id:"".concat(this.config.name,"-number-plate-000"),className:"osc-number-plate"},n),React.createElement("div",{id:"".concat(this.config.name,"-number-plate-00"),className:"osc-number-plate"},o),React.createElement("div",{id:"".concat(this.config.name,"-number-plate-0"),className:"osc-number-plate"},r)),React.createElement("div",{className:"osc-number-button-text ".concat(this.config.name,"-name ").concat(this.props.idea.userVote?" osc-user-has-voted":""," ").concat(this.state.busy?" osc-busy":""),style:{color:this.config.color,backgroundColor:this.config.backgroundColor},onClick:function(e){return t.doVote(e)}},t.config.text),React.createElement("div",{className:"osc-clear-both"}))}}])&&s(e.prototype,t),n&&s(e,n),r}()},function(e,t,n){function o(p){var h=1==p,m=2==p,y=3==p,g=4==p,v=6==p,b=5==p||v;return function(e,t,n,o){for(var r,i,a=O(e),c=w(a),s=_(t,n,3),l=E(c.length),u=0,f=o||S,d=h?f(e,l):m?f(e,0):void 0;u<l;u++)if((b||u in c)&&(i=s(r=c[u],u,a),p))if(h)d[u]=i;else if(i)switch(p){case 3:return!0;case 5:return r;case 6:return u;case 2:k.call(d,r)}else if(g)return!1;return v?-1:y||g?g:d}}var _=n(46),w=n(42),O=n(99),E=n(45),S=n(100),k=[].push;e.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(0),a=n(72),o=(n(4),n(2)),c=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function u(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=m(i);return t=a?(e=m(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==s(o)&&"function"!=typeof o?h(n):o}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,i["a"]);var e,t,n,o=p(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e,{searchIn:["ideas","addresses"]})).config.doSearchFunction=t.config.doSearchFunction||t.doSearchx.bind(h(t)),t.state={searchValue:"",searchResult:{locations:[],ideas:[]},showSuggestions:!1},t.updateSearchResult=t.updateSearchResult.bind(h(t)),t}return e=r,(t=[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){this.updateSearchValue(e),3<=e.length&&this.config.doSearchFunction(e,this.updateSearchResult)}},{key:"handleButtonClick",value:function(){var e=this;e.state.searchValue&&e.setState({searchValue:""},function(){e.inputfield.focus()})}},{key:"updateSearchValue",value:function(e){this.setState({searchValue:e,showSuggestions:3<=e.length})}},{key:"showSuggestions",value:function(){this.setState({showSuggestions:3<=this.state.searchValue.length})}},{key:"hideSuggestions",value:function(){var e=this;setTimeout(function(){e.setState({showSuggestions:!1})},500)}},{key:"updateSearchResult",value:function(e,t){this.setState(u(u({},this.state),{},{searchResult:t,showSuggestions:3<=e.length}))}},{key:"doSearchx",value:function(){console.log("search function not defined")}},{key:"onSuggestionClick",value:function(e,t,n){this.updateSearchValue(e),n&&n(t)}},{key:"render",value:function(){var e,t,n,o=this,r=null;return o.state.showSuggestions&&(e=null,this.config.searchIn.includes("ideas")&&this.config.searchIn.includes("addresses")&&(e=c.a.createElement("div",{className:"osc-search-suggestions-hr"})),t=null,this.config.searchIn.includes("addresses")&&(t=c.a.createElement("div",null,"Adressen:",o.state.searchResult.locations.map(function(t,e){var n=t.text.replace(new RegExp(o.state.searchValue,"ig"),function(e){return"<strong>"+e+"</strong>"});return c.a.createElement("div",{className:"osc-search-suggestion osc-search-suggestion-idea",onClick:function(e){return o.onSuggestionClick(t.text,e,t.onClick)},key:"search-result-"+e,dangerouslySetInnerHTML:{__html:n}})}))),n=null,this.config.searchIn.includes("ideas")&&(n=c.a.createElement("div",null,this.config.ideaName,":",o.state.searchResult.ideas.map(function(t,e){var n=t.text.replace(new RegExp(o.state.searchValue,"ig"),function(e){return"<strong>"+e+"</strong>"});return c.a.createElement("div",{className:"osc-search-suggestion osc-search-suggestion-idea",onClick:function(e){return o.onSuggestionClick(t.text,e,t.onClick)},key:"search-result-"+e,dangerouslySetInnerHTML:{__html:n}})}))),r=c.a.createElement("div",{className:"osc-search-suggestions",ref:function(e){return o.suggestions=e}},t,e,n)),c.a.createElement("div",{id:o.id,className:o.props.className||"osc-search",ref:function(e){return o.instance=e}},r,c.a.createElement("input",{type:"text",value:this.state.searchValue,placeholder:o.config.placeholder,onChange:function(){return o.handleChange(o.inputfield.value)},onBlur:function(){return o.hideSuggestions()},onFocus:function(){return o.showSuggestions()},className:"osc-default-input osc-search-input",ref:function(e){return o.inputfield=e}}),c.a.createElement("button",{className:"osc-search-button".concat(this.state.searchValue?" osc-active":""),onClick:function(e){return o.handleButtonClick(e)},ref:function(e){return o.resetButton=e}}))}}])&&f(e.prototype,t),n&&f(e,n),r}();function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function b(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=E(i);return t=a?(e=E(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==g(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(r,a["IdeasFilterbar"]);var e,t,n,o=O(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"render",value:function(){var n=this,e=null;n.config.search&&(e=React.createElement("div",{className:"osc-search-container"},React.createElement("div",{className:"osc-search-button",onClick:function(){return n.toggleMobileActiveSelector("search")}}),React.createElement(y,{config:b({},this.config),className:"osc-search".concat("search"==n.state.mobileActiveSelector?" osc-is-active":"")})));var t,o=React.createElement("button",{value:"reset",onClick:function(){return n.resetAll()},className:"osc-button osc-reset-button"},"Alles tonen"),r=null;n.config.filter.length&&(t=n.filters&&n.filters.find(function(e){return e.state.currentValue}),n.filters=[],r=React.createElement("div",{className:"osc-ideas-filters-and-button-container"},React.createElement("div",{className:"osc-ideas-filter-button".concat(t?" osc-active":""),onClick:function(){return n.toggleMobileActiveSelector("filters")}}),React.createElement("div",{className:"osc-ideas-filters-container".concat("filters"==n.state.mobileActiveSelector?" osc-is-active":"")},n.config.filter.map(function(e,t){return React.createElement(a.IdeasFilter,{config:e,className:"osc-align-right-container",key:"osc-ideas-filter-".concat(t),ref:function(e){return n.filters[t]=e}})})),o));var i=React.createElement("div",{className:"osc-ideas-filters-and-reset-button-container"},r);return React.createElement("div",{className:"osc-ideas-filterbar ".concat(n.props.className||"")},e,i)}}])&&_(e.prototype,t),n&&_(e,n),r}()},function(e,t){!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){function t(e,t){var n,o;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o=n.preventDefault,n.preventDefault=function(){o.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n}t.prototype=window.Event.prototype,window.CustomEvent=t}}()},function(e,t,n){var o=n(44);e.exports=function(e){return Object(o(e))}},function(e,t,n){var o=n(10),r=n(101),i=n(47)("species");e.exports=function(e,t){var n;return r(e)&&("function"==typeof(n=e.constructor)&&(n===Array||r(n.prototype))||o(n)&&null===(n=n[i]))&&(n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var o=n(43);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){n(103);var o=n(39);e.exports=o("Array","findIndex")},function(e,t,n){"use strict";var o=n(36),r=n(94).findIndex,i=n(37),a=n(38),c="findIndex",s=!0,l=a(c);c in[]&&Array(1)[c](function(){s=!1}),o({target:"Array",proto:!0,forced:s||!l},{findIndex:function(e,t){return r(this,e,1<arguments.length?t:void 0)}}),i(c)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return ce}),n.d(t,"ChoicesGuide",function(){return ce}),n.d(t,"ChoicesGuideResult",function(){return ve});n(11),n(113),n(98);var o=n(2),r=n.n(o),i=n(6),a=n.n(i),c=(n(116),n(4)),s=n.n(c),l=n(0),u=n(1),_=n(19),w=n(5);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=m(i);return t=a?(e=m(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==O(o)&&"function"!=typeof o?h(n):o}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,l["a"]);var e,t,n,o=p(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e)).config.aspectRatio=t.config.aspectRatio||"16x9",t.questionId=e.data.id,t.state={value:50,isAnswered:!1},t.onChangeHandler=t.onChangeHandler.bind(h(t)),t.showLightbox=t.showLightbox.bind(h(t)),t}return e=r,(t=[{key:"onChangeHandler",value:function(e){var t=this,n={value:e,isAnswered:!0,error:void 0};this.setState(n,function(){t.liveUpdates()})}},{key:"isValid",value:function(){return!(void 0===(this.props.data||{}).value&&!this.state.isAnswered)||(this.setState({error:"Je hebt nog geen keuze gemaakt"}),!1)}},{key:"getAnswer",value:function(){if(this.state.isAnswered){var e,t=this.props.data||{},n=t.dimensions;try{n=JSON.parse(n)}catch(e){}return n=n||["x"],"number"==typeof this.state.value||"string"==typeof this.state.value?(e={},n.includes("x")&&(e.x=this.state.value),n.includes("y")&&(e.y=this.state.value),n.includes("z")&&(e.z=this.state.value)):(e={},n.includes("x")&&(e.x=this.state.value.x),n.includes("y")&&(e.y=this.state.value.y),n.includes("z")&&(e.z=this.state.value.z)),e}}},{key:"liveUpdates",value:function(){var e=new window.CustomEvent("osc-choices-guide-live-updates");document.dispatchEvent(e)}},{key:"showLightbox",value:function(t){var e=this.props.data||{},n=[e.values&&e.values.A&&e.values.A.questionImage||"",e.values&&e.values.B&&e.values.B.questionImage||""],o=n.findIndex(function(e){return e==t}),r=new window.CustomEvent("osc-show-light-box",{detail:{images:n,startIndex:o,aspectRatio:this.config.aspectRatio}});document.dispatchEvent(r)}},{key:"render",value:function(){var r=this,i=this,a=i.props.data||{},e=!1;i.state.error&&(e=!0);var t=i.state.isAnswered,n="object"==O(a.value)?a.value.x:void 0!==a.value?a.value:"not defined";"not defined"===n?n=this.state.value:t=!0;var o,c=null,s=a.images;s&&(Array.isArray(s)||(s=[s]),o=s[0],c=React.createElement("div",{className:"osc-question-image-container"},React.createElement(_.Image,{config:{aspectRatio:i.config.aspectRatio},image:o})));var l=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:a.description}})),u=null;switch(a.type){case"continuous":u=React.createElement("div",{className:"osc-question-selector"},React.createElement(w.a.Slider,{min:"0",max:"100",step:"1",value:n,className:"osc-question-selector-slider",config:{},touched:t,onChange:function(e){return i.onChangeHandler(e)},ref:function(e){return i.selector=e}}),React.createElement("div",{className:"osc-question-selector-minlabel",dangerouslySetInnerHTML:{__html:a.minLabel}}),React.createElement("div",{className:"osc-question-selector-maxlabel",dangerouslySetInnerHTML:{__html:a.maxLabel}}));break;case"a-to-b":var f=a.values&&a.values.A&&a.values.A.label||"A",d=a.values&&a.values.B&&a.values.B.label||"B",p=a.values&&a.values.A&&a.values.A.questionText,h=a.values&&a.values.B&&a.values.B.questionText,m=null,y=null;p&&h&&(m=React.createElement("div",{className:"osc-question-description-text"},React.createElement("div",{className:"osc-question-description-label"},f),React.createElement("div",{className:"osc-question-description-labeled-text"},p)),y=React.createElement("div",{className:"osc-question-description-text"},React.createElement("div",{className:"osc-question-description-label"},d),React.createElement("div",{className:"osc-question-description-labeled-text"},h)),l=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:a.description}}),m,y));var g=a.values&&a.values.A&&a.values.A.questionImage,v=a.values&&a.values.B&&a.values.B.questionImage;g&&v&&(l=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:a.description}}),React.createElement("div",{className:"osc-question-description-image-container osc-question-description-image-container-a"},React.createElement("div",{className:"osc-question-description-label osc-question-description-label-a"},f),React.createElement("div",{className:"osc-question-image-container osc-question-image-aspect-".concat(i.config.aspectRatio)},React.createElement(_.Image,{config:{aspectRatio:i.config.aspectRatio},image:g,onClick:function(){return i.showLightbox(g)}}))),React.createElement("div",{className:"osc-question-description-image-container osc-question-description-image-container-b"},React.createElement("div",{className:"osc-question-description-label osc-question-description-label-b"},d),React.createElement("div",{className:"osc-question-image-container osc-question-image-aspect-".concat(i.config.aspectRatio)},React.createElement(_.Image,{config:{aspectRatio:i.config.aspectRatio},image:v,onClick:function(){return i.showLightbox(v)}}))),React.createElement("div",{style:{clear:"both",height:15}}),m,y)),u=React.createElement("div",{className:"osc-question-selector"},React.createElement("div",{className:"osc-question-selector-label-a"},f),React.createElement("div",{className:"osc-question-selector-label-b"},d),React.createElement(w.a.Slider,{min:"0",max:"100",step:"1",value:n,className:"osc-question-selector-slider",config:{},touched:t,onChange:function(e){return i.onChangeHandler(e)},ref:function(e){return i.selector=e}}),React.createElement("div",{className:"osc-question-selector-minlabel",dangerouslySetInnerHTML:{__html:a.minLabel}}),React.createElement("div",{className:"osc-question-selector-maxlabel",dangerouslySetInnerHTML:{__html:a.maxLabel}}));break;case"enum-radio":u=React.createElement("div",{className:"osc-question-selector"},a.values&&a.values.map(function(t,e){var n=parseInt(1e6*Math.random()),o=!1;"object"==O(a.value)?(o=!0,Object.keys(a.value).forEach(function(e){a.value[e]!==t.value[e]&&(o=!1)})):a.value===t.value&&(o=!0);"undefined"!=a.value?a.value:r.state.value;return React.createElement("div",{key:"div-value-".concat(n),className:"osc-radio-container"},React.createElement("div",{className:"osc-radio-input".concat(o?" osc-radio-input-checked":"")},React.createElement("input",{name:"enum-radio-".concat(a.id),type:"radio",onChange:function(){return i.onChangeHandler(t.value)},key:"button-value-".concat(n)})),React.createElement("div",{className:"osc-radio-text"},t.text))}));break;case"enum-buttons":u=React.createElement("div",{className:"osc-question-selector"},a.values&&a.values.map(function(e,t){return React.createElement("button",{onClick:function(){return i.onChangeHandler(e.value)},key:"button-value-".concat(t)},e.text)}));break;default:u=React.createElement("div",null,"Type ",a.type," is (nog) niet geimplementeerd.")}var b=null;return e&&(b=React.createElement("div",{className:"osc-error-text"},i.state.error)),React.createElement("div",{id:i.props.config.divId,className:"osc-question osc-question-".concat(a.type).concat(e?" osc-error":"")},c,React.createElement("div",{className:"osc-question-content",id:i.props.config.divId+"-content"},React.createElement("h3",{className:"osc-question-title"}," ",a.title),l,u,b))}}])&&f(e.prototype,t),n&&f(e,n),r}();function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function b(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=R(i);return t=a?(e=R(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==g(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(r,l["a"]);var e,t,n,o=k(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e)).noOfQuestionsToShow=t.config.noOfQuestionsToShow||1,t.questionElements=[],t.state={currentQuestion:0,values:{}},t}return e=r,(t=[{key:"componentDidMount",value:function(){}},{key:"isValid",value:function(){var n=this,o=!0,e=n.props.data.questions.slice(n.state.currentQuestion,n.state.currentQuestion+n.noOfQuestionsToShow),r=!1;return e.forEach(function(e,t){n.questionElements[t].isValid()||(r||setTimeout(function(){document.querySelector("#".concat(n.questionElements[t].config.divId,"-content")).scrollIntoView({behavior:"smooth"})},250),o=!(r=!0))}),o}},{key:"getAnswers",value:function(){var o=this,r=s()({},this.props.data&&this.props.data.values,o.state.values);return o.props.data&&o.props.data.questions.forEach(function(t,e){var n=o.questionElements.find(function(e){return e&&e.questionId==t.id});n&&void 0!==n.getAnswer()&&(r[t.id]=n.getAnswer())}),o.setState({values:r}),r}},{key:"gotoNextQuestion",value:function(){if(this.isValid()){var e=this.state.currentQuestion+this.noOfQuestionsToShow;return e>=this.props.data.questions.length?(e=0,this.setState({currentQuestion:e}),{isReady:!0,currentQuestion:e}):(this.setState({currentQuestion:e}),{isReady:!1,currentQuestion:e})}}},{key:"gotoPreviousQuestion",value:function(){var e=this.state.currentQuestion-this.noOfQuestionsToShow;return e<0?(e=0,this.setState({currentQuestion:e}),{isBeginning:!0,currentQuestion:e}):(this.setState({currentQuestion:e}),{isBeginning:!1,currentQuestion:e})}},{key:"render",value:function(){var n=this,e=n.props.data||{questions:[]},t=e.questions.slice(n.state.currentQuestion,n.state.currentQuestion+n.noOfQuestionsToShow),o=s()({},this.props.data&&this.props.data.values,n.state.values),r=React.createElement("div",{className:"osc-questions"},t.map(function(e,t){return React.createElement(y,{config:b(b({},n.config),{},{divId:"osc-question-".concat(e.id)}),data:b(b({},e),{},{value:o[e.id]}),key:"question-".concat(e.id),ref:function(e){n.questionElements[t]=e}})}));return React.createElement("div",{id:this.id,className:"osc-question-group"},React.createElement("h3",{className:"osc-question-group-title"},e.title),React.createElement("div",{className:"osc-question-group-description",dangerouslySetInnerHTML:{__html:e.description}}),r)}}])&&E(e.prototype,t),n&&E(e,n),r}();function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=T(i);return t=a?(e=T(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==I(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(r,l["a"]);var e,t,n,o=L(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),null==(t=o.call(this,e,{type:"default",withPercentage:!1,minLabel:null,maxLabel:null,barColor:{default:"#bed200",min:"#ff9100",max:"#bed200"}})).config.barColor.min&&(t.config.barColor.min="#ff9100"),null==t.config.barColor.max&&(t.config.barColor.max="#bed200"),t.answers=e.data&&e.data.answers||{},Object.keys(t.answers).forEach(function(e){t.answers[e]==parseInt(t.answers[e])&&(t.answers[e]={x:parseInt(t.answers[e])})}),t.state={score:t.props.score||0},t}return e=r,(t=[{key:"getTitle",value:function(){return this.props.data&&this.props.data.title}},{key:"calculateScore",value:function(e){var r=this,i=this.answers,a=e||{},c=(Object.keys(i).length,{});Object.keys(i).forEach(function(e){var t=i[e]||{},n=a[e]||(r.config.startWithAllQuestionsAnswered?{x:50,y:50,z:50}:{}),o=c[e]={};["x","y","z"].forEach(function(e){if(void 0!==t[e]&&void 0!==n[e])return o[e]=100-Math.abs(t[e]-n[e])})});var n={};return Object.keys(i).forEach(function(t){["x","y","z"].forEach(function(e){n[e]=n[e]||{score:[],noOfAnswers:0},void 0!==c[t][e]&&n[e].score.push(c[t][e]),i[t]&&void 0!==i[t][e]&&n[e].noOfAnswers++})}),Object.keys(n).forEach(function(e){n[e]=n[e].score.length?n[e].score.reduce(function(e,t){return e+t})/n[e].noOfAnswers:void 0}),this.setState({score:n}),n}},{key:"render",value:function(){var e=this,t=e.state.score,n=null;switch(this.config.type){case"plane":var o,r,i=null,a=this.props.data&&this.props.data.images;return a&&(Array.isArray(a)||(a=[a]),"object"==I(r=o=a[0])&&(r=o.src),i=React.createElement("img",{className:"osc-choice-plane-background-image",src:r,style:{width:this.props.baseSize/2,height:this.props.baseSize/2}})),React.createElement("div",{className:"osc-choice-plane",style:{width:this.props.baseSize/2,height:this.props.baseSize/2}},i);case"minus-to-plus-100":var c=null,s=parseInt(2*(t.x-50));e.config.withPercentage&&(c=React.createElement("div",{className:"osc-percentage"},s,"%"));var l=e.config.barColor.max.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i),u=e.config.barColor.min.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i),f=parseInt(u[1],16)+(parseInt(l[1],16)-parseInt(u[1],16))*(t.x/100),d=parseInt(u[2],16)+(parseInt(l[2],16)-parseInt(u[2],16))*(t.x/100),p=parseInt(u[3],16)+(parseInt(l[3],16)-parseInt(u[3],16))*(t.x/100),h={backgroundColor:"rgb(".concat(f,",").concat(d,",").concat(p,")")};0<=s&&(h.width=s/2+"%",h.left="50%",h.right="auto"),s<0&&(h.width=-s/2+"%",h.left="auto",h.right="50%"),n=React.createElement("div",{className:"osc-choice-default"},React.createElement("h4",null,e.props.data.title),React.createElement("div",{className:"osc-choice-bar osc-from-center".concat(e.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-progress",style:h})),c);break;case"zero-to-100":default:var m,y=null;e.config.withPercentage&&(m=parseInt(t.x),y=React.createElement("div",{className:"osc-percentage"},m,"%")),h={width:(t.x||0)+"%",backgroundColor:e.config.barColor.default},n=React.createElement("div",{className:"osc-choice-default"},React.createElement("h4",null,e.props.data.title),React.createElement("div",{className:"osc-choice-bar".concat(e.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-mask"}),React.createElement("div",{className:"osc-choice-bar-progress",style:h})),y)}var g=null;return(e.config.minLabel||e.config.maxLabel)&&(g=React.createElement("div",{className:"osc-minmax-labels"},React.createElement("div",{className:"osc-min-label"},e.config.minLabel),React.createElement("div",{className:"osc-max-label"},e.config.maxLabel))),React.createElement("li",{className:"osc-choice"},n,g)}}])&&P(e.prototype,t),n&&P(e,n),r}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function D(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?N(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=U(i);return t=a?(e=U(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==M(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(r,l["a"]);var e,t,n,o=B(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e,{type:"default",withPercentage:!1,minLabel:null,maxLabel:null})).choiceElements=[],t.state={title:"Je hebt nog geen keuze gemaakt",scores:e.scores,planePos:{x:50,y:50}},t}return e=r,(t=[{key:"componentDidMount",value:function(){var t=this;t.choicesClickListener=function(e){t.setState({random:Math.random()})},document.addEventListener("osc-choices-click",t.choicesClickListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-choices-click",self.choicesClickListener)}},{key:"calculateScores",value:function(n){var t={};this.choiceElements.forEach(function(e){t[e.config.divId]=e.calculateScore(n)});var e,o,r={x:50,y:50};return!this.config.type||(e=Object.keys(n)).length&&(r={x:0,y:0},o={x:0,y:0,z:0},e.forEach(function(e){var t=n[e];["x","y","z"].forEach(function(e){void 0!==t[e]&&(r[e]+=parseInt(t[e])||0,o[e]++)})}),r.x=o.x?parseInt(r.x/o.x):void 0,r.y=o.y?parseInt(r.y/o.y):void 0),this.setState({answers:n,scores:t,planePos:r}),{answers:n,scores:t,planePos:r}}},{key:"getPreferedChoice",value:function(e){var n=e.scores,t=e.planePos,n=n||this.state.scores;switch(this.config.type){case"plane":return(t=t||this.state.planePos).x<50&&t.y<50?this.choiceElements[0]:50<t.x&&t.y<50?this.choiceElements[1]:t.x<50&&50<t.y?this.choiceElements[2]:50<t.x&&50<t.y?this.choiceElements[3]:null;default:var o=Object.keys(n).sort(function(e,t){return n[t].x-n[e].x})[0];return this.choiceElements.find(function(e){return e&&e.config.divId==o})}}},{key:"render",value:function(){var o=this;switch(this.config.type){case"plane":var r=document.querySelector("#".concat(this.divId))&&document.querySelector("#".concat(this.divId)).offsetWidth-1||180,e=(void 0===o.state.planePos.y?50:o.state.planePos.y)*(r/100),t=(void 0===o.state.planePos.x?50:o.state.planePos.x)*(r/100);return React.createElement("div",{id:this.divId,className:"osc-choices osc-choice-plane-plane",ref:function(e){o.planePlaneElement=e}},Object.keys(o.props.choices).map(function(e,t){var n=o.props.choices[e];return React.createElement(x,{config:D({divId:"choice-".concat(n.id)},o.config),data:n,score:o.props.scores&&o.props.scores["choice-".concat(n.id)],key:"choice-".concat(n.id),baseSize:r,ref:function(e){o.choiceElements[t]=e}})}),React.createElement("div",{className:"osc-point",style:{top:e,left:t}}),React.createElement("div",{style:{clear:"both"}}));case"zero-to-100":case"minus-to-plus-100":default:return React.createElement("ul",{className:"osc-choices"},Object.keys(o.props.choices).map(function(e,t){var n=o.props.choices[e];return React.createElement(x,{config:D({divId:"choice-".concat(n.id)},o.config),data:n,score:o.props.scores&&o.props.scores["choice-".concat(n.id)],key:"choice-".concat(n.id),ref:function(e){o.choiceElements[t]=e}})}))}}}])&&A(e.prototype,t),n&&A(e,n),r}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=G(i);return t=a?(e=G(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==H(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(r,l["a"]);var e,t,n,o=z(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e,{siteId:null,loginUrl:null,noOfQuestionsToShow:1,api:{url:null}})).state={choicesGuideId:t.props.data.choicesGuideId,currentTarget:{},busy:!1},t.onFinished=t.props.onFinished,t}return e=r,(t=[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var n=this,e="".concat(n.config.api&&n.config.api.url,"/api/site/").concat(n.config.siteId,"/choicesguide/").concat(n.config.choicesGuideId,"?includeChoices=1&includeQuestions=1"),t=u.a.api.getHeaders();fetch(e,{headers:t}).then(function(e){return e.json()}).then(function(e){var t={};t.choicesGuideId=e.id,t.title=e.title,t.description=e.description,t.images=e.images,t.choices=e.choices||[],t.questionGroups=e.questiongroups||[],t.busy=!1,n.setState(t,function(){n.setCurrentForm({what:"choices-guide"})})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"handleFieldChange",value:function(t){var n=this.state.currentTarget;Object.keys(t).forEach(function(e){n[e]=t[e]}),this.setState({currentTarget:n})}},{key:"setCurrentForm",value:function(t){var e,n,o;switch(t.what){case"choices-guide":t.title=this.state.title,t.description=this.state.description,t.images=this.state.images?JSON.stringify(this.state.images):"";break;case"choice":n=t.questionGroupId?(e=this.state.questionGroups.find(function(e){return e.id==t.questionGroupId})||{}).choices&&e.choices.find(function(e){return e.id==t.choiceId})||{}:this.state.choices.find(function(e){return e.id==t.choicesId})||{},t.title=n.title,t.description=n.description,t.images=n.images?JSON.stringify(n.images):"",t.answers=n.answers?JSON.stringify(n.answers):"",t.seqnr=n.seqnr||0;break;case"question-group":e=this.state.questionGroups.find(function(e){return e.id==t.questionGroupId})||{},t.title=e.title,t.description=e.description,t.images=e.images?JSON.stringify(e.images):"",t.seqnr=e.seqnr||0;break;case"question":o=(e=this.state.questionGroups.find(function(e){return e.id==t.questionGroupId})||{}).questions&&e.questions.find(function(e){return e.id==t.questionId})||{},t.title=o.title,t.description=o.description,t.images=o.images?JSON.stringify(o.images):"",t.minLabel=o.minLabel,t.maxLabel=o.maxLabel,t.type=o.type,t.dimensions=o.dimensions,t.values=o.values?JSON.stringify(o.values):"",t.seqnr=o.seqnr||0}this.setState({currentTarget:t})}},{key:"submitForm",value:function(){var r=this;r.setState({busy:!0},function(){var e,t,n;if(0,!r.config.user||!r.config.user.role||"admin"!=r.config.user.role)return alert("Je mag dit niet");switch(r.state.currentTarget.what){case"choices-guide":n=r.state.choicesGuideId,e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/choicesguide"),t={title:r.state.currentTarget.title,description:r.state.currentTarget.description,images:r.state.currentTarget.images};break;case"choice":n=r.state.currentTarget.choiceId,e=r.state.currentTarget.questionGroupId?"".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/choicesguide/").concat(r.state.choicesGuideId,"/questiongroup/").concat(r.state.currentTarget.questionGroupId,"/choice"):"".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/choicesguide/").concat(r.state.choicesGuideId,"/choice"),t={title:r.state.currentTarget.title,description:r.state.currentTarget.description,images:r.state.currentTarget.images,answers:r.state.currentTarget.answers?JSON.parse(r.state.currentTarget.answers):"",seqnr:r.state.currentTarget.seqnr};break;case"question-group":n=r.state.currentTarget.questionGroupId,e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/choicesguide/").concat(r.state.choicesGuideId,"/questiongroup"),t={title:r.state.currentTarget.title,description:r.state.currentTarget.description,images:r.state.currentTarget.images,seqnr:r.state.currentTarget.seqnr};break;case"question":n=r.state.currentTarget.questionId,e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/choicesguide/").concat(r.state.choicesGuideId,"/questiongroup/").concat(r.state.currentTarget.questionGroupId,"/question"),t={title:r.state.currentTarget.title,description:r.state.currentTarget.description,images:r.state.currentTarget.images,minLabel:r.state.currentTarget.minLabel,maxLabel:r.state.currentTarget.maxLabel,type:r.state.currentTarget.type,dimensions:r.state.currentTarget.dimensions,values:r.state.currentTarget.values?JSON.parse(r.state.currentTarget.values):"",seqnr:r.state.currentTarget.seqnr}}e+=n?"/".concat(n):"";var o=u.a.api.getHeaders(r.config);fetch(e,{method:n?"PUT":"POST",headers:o,body:JSON.stringify(t)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){r.fetchData()}).catch(function(e){e.then(function(e){return console.log(e)}),r.setState({busy:!1})})})}},{key:"deleteElement",value:function(e){var t,n=e.what,o=e.questionGroupId,r=e.choiceId,i=e.questionId,a=e.title,c=this;if(confirm("Je gaat "+n+" "+a+" verwijderen. Weet je het zeker?")){switch(n){case"question-group":t="".concat(c.config.api&&c.config.api.url,"/api/site/").concat(c.config.siteId,"/choicesguide/").concat(c.state.choicesGuideId,"/questiongroup/").concat(o);break;case"choice":t="".concat(c.config.api&&c.config.api.url,"/api/site/").concat(c.config.siteId,"/choicesguide/").concat(c.state.choicesGuideId,"/questiongroup/").concat(o,"/choice/").concat(r);break;case"question":t="".concat(c.config.api&&c.config.api.url,"/api/site/").concat(c.config.siteId,"/choicesguide/").concat(c.state.choicesGuideId,"/questiongroup/").concat(o,"/question/").concat(i)}var s=u.a.api.getHeaders(c.config);fetch(t,{method:"DELETE",headers:s}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){c.fetchData()}).catch(function(e){e.then(function(e){return console.log(e)}),c.setState({busy:!1})})}}},{key:"render",value:function(){var a=this,e=null,t=null,n=null,o=React.createElement("button",{onClick:function(){a.setCurrentForm({what:"choices-guide"})}},"Terug"),r=React.createElement("button",{onClick:function(){return a.submitForm()}},"Submit");switch(a.state.currentTarget.what){case"choices-guide":e="Bewerk keuzewijzer",t=React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(w.a.InputWithCounter,{key:"x1",config:{inputType:"input",minLength:1,maxLength:1e3},value:a.state.currentTarget.title,onChange:function(e){return a.handleFieldChange({title:e.value})},ref:function(e){a.titleField=e}}),React.createElement("h3",null,"Beschrijving"),React.createElement(w.a.InputWithCounter,{key:"x2",config:{inputType:"textarea",minLength:1,maxLength:1e3},value:a.state.currentTarget.description,onChange:function(e){return a.handleFieldChange({description:e.value})},ref:function(e){return a.descriptionField=e}}),React.createElement("h3",null,"Afbeeldingen"),React.createElement(w.a.Textarea,{key:"i1",config:{},value:a.state.currentTarget.images,onChange:function(e){return a.handleFieldChange({images:e.value})},ref:function(e){return a.imagesField=e}})),n=React.createElement("div",{className:"openstad-form"},React.createElement("h4",null,"Vraaggroepen"),Object.keys(a.state.questionGroups).map(function(e,t){var n,o=a.state.questionGroups[e],r=React.createElement("ul",null,Object.keys(o.questions).map(function(e,t){var n=o.questions[e];return React.createElement("li",null,"(",n.id,") - ",n.title," - ",n.seqnr,"-",React.createElement("a",{href:"#",onClick:function(){return a.setCurrentForm({what:"question",questionGroupId:o.id,questionId:n.id})}},"Bewerk"),"-",React.createElement("a",{href:"#",onClick:function(){return a.deleteElement({what:"question",questionGroupId:o.id,questionId:n.id,title:n.title})}},"Verwijder"))}),React.createElement("li",null,React.createElement("a",{href:"#",onClick:function(){return a.setCurrentForm({what:"question",questionGroupId:o.id})}},"Nieuwe vraag"))),i=React.createElement("ul",null,Object.keys(o.choices).map(function(e,t){var n=o.choices[e];return React.createElement("li",null,n.title," - ",n.seqnr,"- ",React.createElement("a",{href:"#",onClick:function(){return a.setCurrentForm({what:"choice",questionGroupId:o.id,choiceId:n.id})}},"Bewerk"),"- ",React.createElement("a",{href:"#",onClick:function(){return a.deleteElement({what:"choice",questionGroupId:o.id,choiceId:n.id,title:n.title})}},"Verwijder"))}),React.createElement("li",null,React.createElement("a",{href:"#",onClick:function(){return a.setCurrentForm({what:"choice",questionGroupId:o.id})}},"Nieuwe keuze")));return 0==Object.keys(o.choices).length&&0==Object.keys(o.questions).length&&(n=React.createElement("a",{href:"#",onClick:function(){return a.deleteElement({what:"question-group",questionGroupId:o.id,title:o.title})}},"Verwijder")),React.createElement("div",null,o.title," - ",o.seqnr,"- ",React.createElement("a",{href:"#",onClick:function(){return a.setCurrentForm({what:"question-group",questionGroupId:o.id})}},"Bewerk"),"- ",n,r,i)}),React.createElement("a",{href:"#",onClick:function(){return a.setCurrentForm({what:"question-group"})}},"Nieuwe groep")),o=React.createElement("button",{onClick:function(){a.onFinished&&a.onFinished()}},"Terug");break;case"choice":e="Bewerk Keuze",t=React.createElement("div",null,React.createElement("h3",null,"Titel"),React.createElement(w.a.InputWithCounter,{config:{inputType:"input",minLength:1,maxLength:1e3},value:a.state.currentTarget.title,onChange:function(e){return a.handleFieldChange({title:e.value})},ref:function(e){return a.titleField=e}}),React.createElement("h3",null,"Beschrijving"),React.createElement(w.a.InputWithCounter,{config:{inputType:"textarea",minLength:1,maxLength:1e3},value:a.state.currentTarget.description,onChange:function(e){return a.handleFieldChange({description:e.value})},ref:function(e){return a.descriptionField=e}}),React.createElement("h3",null,"Afbeeldingen"),React.createElement(w.a.Textarea,{key:"i2",config:{},value:a.state.currentTarget.images,onChange:function(e){return a.handleFieldChange({images:e.value})},ref:function(e){return a.imagesField=e}}),React.createElement("h3",null,"Antwoorden"),React.createElement(w.a.Text,{config:{},value:a.state.currentTarget.answers,onChange:function(e){return a.handleFieldChange({answers:e.value})},ref:function(e){return a.answersField=e}}),React.createElement("h3",null,"Volgorde nummer"),React.createElement(w.a.Text,{config:{},value:a.state.currentTarget.seqnr,onChange:function(e){return a.handleFieldChange({seqnr:e.value})},ref:function(e){return a.seqnrField=e}}));break;case"question-group":e="Bewerk Vragengroep",t=React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(w.a.InputWithCounter,{config:{inputType:"input",minLength:1,maxLength:1e3},value:a.state.currentTarget.title,onChange:function(e){return a.handleFieldChange({title:e.value})},ref:function(e){return a.titleField=e}}),React.createElement("h3",null,"Beschrijving"),React.createElement(w.a.InputWithCounter,{config:{inputType:"textarea",minLength:1,maxLength:1e3},value:a.state.currentTarget.description,onChange:function(e){return a.handleFieldChange({description:e.value})},ref:function(e){return a.descriptionField=e}}),React.createElement("h3",null,"Afbeeldingen"),React.createElement(w.a.Textarea,{key:"i3",config:{},value:a.state.currentTarget.images,onChange:function(e){return a.handleFieldChange({images:e.value})},ref:function(e){return a.imagesField=e}}),React.createElement("h3",null,"Volgorde nummer"),React.createElement(w.a.Text,{config:{},value:a.state.currentTarget.seqnr,onChange:function(e){return a.handleFieldChange({seqnr:e.value})},ref:function(e){return a.seqnrField=e}}));break;case"question":e="Bewerk Vraag ".concat(a.state.currentTarget.questionId),t=React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(w.a.InputWithCounter,{config:{inputType:"input",minLength:1,maxLength:1e3},value:a.state.currentTarget.title,onChange:function(e){return a.handleFieldChange({title:e.value})},ref:function(e){return a.titleField=e}}),React.createElement("h3",null,"Beschrijving"),React.createElement(w.a.InputWithCounter,{config:{inputType:"textarea",minLength:1,maxLength:1e3},value:a.state.currentTarget.description,onChange:function(e){return a.handleFieldChange({description:e.value})},ref:function(e){return a.descriptionField=e}}),React.createElement("h3",null,"Afbeeldingen"),React.createElement(w.a.Textarea,{key:"i4",config:{},value:a.state.currentTarget.images,onChange:function(e){return a.handleFieldChange({images:e.value})},ref:function(e){return a.imagesField=e}}),React.createElement("h3",null,"Label minimale waarde"),React.createElement(w.a.InputWithCounter,{config:{inputType:"input",minLength:1,maxLength:1e3},value:a.state.currentTarget.minLabel,onChange:function(e){return a.handleFieldChange({minLabel:e.value})},ref:function(e){return a.minLabelField=e}}),React.createElement("h3",null,"Label maximale waarde"),React.createElement(w.a.InputWithCounter,{config:{inputType:"input",minLength:1,maxLength:1e3},value:a.state.currentTarget.maxLabel,onChange:function(e){return a.handleFieldChange({maxLabel:e.value})},ref:function(e){return a.maxLabelField=e}}),React.createElement("h3",null,"Type"),React.createElement("select",{key:"dezemoetnogweg".concat(a.state.currentTarget.questionGroupId),value:a.state.currentTarget.type,onChange:function(){return a.handleFieldChange({type:a.typeField.value})},ref:function(e){return a.typeField=e}},React.createElement("option",{value:"continuous"},"continue"),React.createElement("option",{value:"a-to-b"},"van a naar b"),React.createElement("option",{value:"enum-buttons"},"multiple choice - buttons"),React.createElement("option",{value:"enum-radio"},"multiple choice - radio")),React.createElement("h3",null,"Dimensions"),React.createElement(w.a.Text,{config:{},value:a.state.currentTarget.dimensions,onChange:function(e){return a.handleFieldChange({dimensions:e.value})},ref:function(e){return a.dimensionsField=e}}),React.createElement("h3",null,"Waarden"),React.createElement(w.a.Textarea,{config:{},value:a.state.currentTarget.values,onChange:function(e){return a.handleFieldChange({values:e.value})},ref:function(e){return a.valuesField=e}}),React.createElement("h3",null,"Volgorde nummer"),React.createElement(w.a.Text,{config:{},value:a.state.currentTarget.seqnr,onChange:function(e){return a.handleFieldChange({seqnr:e.value})},ref:function(e){return a.seqnrField=e}}));break;default:o=React.createElement("button",{onClick:function(){a.onFinished&&a.onFinished()}},"Terug"),r=null}return React.createElement("div",{id:this.divId,className:"osc-form".concat(this.state.busy?" osc-busy":"")},React.createElement("h2",null,e),t,React.createElement("br",null),React.createElement("br",null),o,r,n)}}])&&V(e.prototype,t),n&&V(e,n),r}(),Q=n(87),J=n(79);function Z(e){var t=e.config,n="".concat(t.api&&t.api.url,"/api/site/").concat(t.siteId,"/choicesguide/").concat(t.choicesGuideId,"?includeChoices=1&includeQuestions=1"),o=u.a.api.getHeaders();return fetch(n,{headers:o}).then(function(e){return e.json()}).then(function(e){return{choicesGuideId:e.id,images:e.images,choicesGuideConfig:e.config,title:e.title,description:e.description,choices:e.choices||[],questionGroups:e.questiongroups||[],status:"active"}})}function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ee(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function te(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ee(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function ne(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=ae(i);return t=a?(e=ae(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==$(o)&&"function"!=typeof o?ie(n):o}}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ce=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(a,l["a"]);var e,t,n,i=re(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=ie(t=i.call(this,e,{siteId:null,loginUrl:null,noOfQuestionsToShow:1,api:{url:null},choices:{title:{noPreferenceYet:"Je hebt nog geen keuze gemaakt",preference:"<b>Jouw voorkeur:</b>{preferredChoice}",inBetween:"Je staat precies tussen meerdere voorkeuren in"},withPercentage:!1,minLabel:null,maxLabel:null}}));!n.config.aspectRatio&&n.config.choices&&n.config.choices.type&&"plane"==n.config.choices.type&&(n.config.aspectRatio="10x7");var o=u.a.localStorage.get("osc-choices-guide.values")||{},r=u.a.localStorage.get("osc-choices-guide.scores")||{};return n.state={title:"Loading....",questionGroups:[],choices:[],currentQuestionGroupIndex:void 0,currentQuestion:void 0,status:"init",values:o[n.config.choicesGuideId],scores:r[n.config.choicesGuideId]},n.liveUpdates=n.liveUpdates.bind(ie(t)),n.hideEditForm=n.hideEditForm.bind(ie(t)),t}return e=a,(t=[{key:"componentDidMount",value:function(){var t=this;t.liveUpdateListener=function(e){t.liveUpdates(e.detail)},document.addEventListener("osc-choices-guide-live-updates",t.liveUpdateListener),t.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-choices-guide-live-updates",self.liveUpdateListener)}},{key:"fetchData",value:function(){var t=this;Z({config:t.config}).then(function(e){t.setState(e,function(){t.startGuide()})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"startGuide",value:function(){var t=this,e={currentQuestionGroupIndex:0};t.setState(e,function(){t.liveUpdates();var e=new window.CustomEvent("osc-choices-guide-is-ready");document.dispatchEvent(e)})}},{key:"showEditForm",value:function(){this.setState({status:"edit"})}},{key:"hideEditForm",value:function(){var e=u.a.localStorage.get("osc-choices-guide.values")||{},t=u.a.localStorage.get("osc-choices-guide.scores")||{};this.setState({title:"Loading....",questionGroups:[],choices:[],currentQuestionGroupIndex:void 0,status:"init",values:e[this.config.choicesGuideId],scores:t[this.config.choicesGuideId]},function(){this.fetchData()})}},{key:"gotoNextQuestion",value:function(){var e=this,t={};t.values=s()(e.state.values||{},e.questionGroupElement.getAnswers()),e.setState(t),e.choicesElement.calculateScores(t.values),e.userPreference&&e.userPreference.calculateScores();var n=e.questionGroupElement.gotoNextQuestion(),o=n.isReady,r=n.currentQuestion;e.setState({currentQuestion:r},function(){o?e.gotoNextGroup():window.scrollTo(0,0)})}},{key:"gotoPreviousQuestion",value:function(){var e=this;if("result"==this.state.status)return this.gotoPreviousGroup();var t={};t.values=s()(this.state.values||{},this.questionGroupElement.getAnswers()),this.setState(t),this.choicesElement.calculateScores(t.values),self.userPreference&&self.userPreference.calculateScores();var n=this.questionGroupElement.gotoPreviousQuestion(),o=n.isBeginning,r=n.currentQuestion;this.setState({currentQuestion:r},function(){o?e.gotoPreviousGroup():window.scrollTo(0,0)})}},{key:"gotoNextGroup",value:function(){var e=this,t=te({},this.state);t.currentQuestionGroupIndex<t.questionGroups.length-1?(t.values=s()(t.values||{},this.questionGroupElement.getAnswers()),t.currentQuestionGroupIndex++,this.setState(t,function(){e.liveUpdates(),window.scrollTo(0,0)})):this.gotoResult()}},{key:"gotoPreviousGroup",value:function(){var e=this,t={};t.currentQuestionGroupIndex=this.state.currentQuestionGroupIndex-1,"result"==this.state.status&&(t.currentQuestionGroupIndex=this.state.questionGroups.length-1,t.status="active"),this.setState(t,function(){e.liveUpdates(),window.scrollTo(0,0)})}},{key:"gotoResult",value:function(){document.location.href=this.config.afterUrl}},{key:"liveUpdates",value:function(){var n=this,o=s()(n.state.values||{},n.questionGroupElement.getAnswers()),r=n.choicesElement.calculateScores(o).scores;n.userPreference&&n.userPreference.calculateScores(o),n.setState({scores:r,firstAnswerGiven:0<Object.keys(o).length},function(){var e=u.a.localStorage.get("osc-choices-guide.values")||{};e[n.config.choicesGuideId]=o,u.a.localStorage.set("osc-choices-guide.values",e);var t=u.a.localStorage.get("osc-choices-guide.scores")||{};t[n.config.choicesGuideId]=r,u.a.localStorage.set("osc-choices-guide.scores",t),n.updateChoicesTitle()})}},{key:"updateChoicesTitle",value:function(){var e=this.config.choices.title.noPreferenceYet,t=this.choicesElement&&this.choicesElement.getPreferedChoice({});this.state.firstAnswerGiven&&(e=t?this.config.choices.title.preference.replace("{preferredChoice}",t&&t.getTitle(this.state.scores[t.config.divId])||e):this.config.choices.title.inBetween),this.setState({choicesTitle:e})}},{key:"onChoicesClick",value:function(){this.choicesAccordeon.className.match(" osc-closed")?this.choicesAccordeon.className=this.choicesAccordeon.className.replace(" osc-closed"," osc-open"):this.choicesAccordeon.className=this.choicesAccordeon.className.replace(" osc-open"," osc-closed");var e=new window.CustomEvent("osc-choices-click",{detail:{}});document.dispatchEvent(e)}},{key:"render",value:function(){var e,t=this,n=t.state.choices;0<=t.state.currentQuestionGroupIndex&&(e=t.state.questionGroups[t.state.currentQuestionGroupIndex])&&(e.values=t.state.values||{},e&&e.choices&&(n=e.choices));var o=null,r=t.state.images;r&&(Array.isArray(r)||(r=[r]),o=React.createElement(_.Image,{className:"osc-top-image-spacer",width:"100%",image:r[0]}));var i,a,c,s,l,u,f,d,p,h=null;return h="edit"==t.state.status?React.createElement("div",{className:"osc-choices-guide-content"},React.createElement(K,{config:t.config,onFinished:t.hideEditForm,data:te({},t.state)})):"init"==t.state.status?React.createElement("div",{className:"osc-choices-guide-content"},React.createElement("div",{className:"osc-intro"},"Laden...")):(i=React.createElement("div",{id:"osc-choices-container-"+this.divId,className:"osc-choices-container osc-accordeon osc-closed ".concat("osc-type-"+t.config.choices.type),ref:function(e){t.choicesAccordeon=e}},React.createElement("div",{onClick:function(e){return t.onChoicesClick(e)},className:"osc-accordeon-button",dangerouslySetInnerHTML:{__html:t.state.choicesTitle}}),React.createElement("div",{className:"osc-accordeon-content"},React.createElement(q,{config:te(te({},t.config.choices),{},{startWithAllQuestionsAnswered:this.config.startWithAllQuestionsAnswered}),choices:Y(n),scores:te({},t.state.scores),firstAnswerGiven:!!t.state.firstAnswerGiven,ref:function(e){t.choicesElement=e},key:"choices"}))),a=React.createElement(C,{config:t.config,data:e,ref:function(e){t.questionGroupElement=e},key:"group".concat(t.state.currentQuestionsGroupIndex)}),c=null,t.config.user&&t.config.user.role&&"admin"==t.config.user.role&&(c=React.createElement("button",{className:"osc-editbutton osc-edit",onClick:function(){return t.showEditForm()}},"Bewerk keuzewijzer")),u=l=s=null,0<t.state.currentQuestionGroupIndex||0<t.state.currentQuestion?(l=function(){t.gotoPreviousQuestion()},u="Terug"):t.config.beforeUrl&&(s=t.config.beforeUrl,u="Introductie"),d=f=null,d="init"==t.state.status?f=null:(f=function(){t.gotoNextQuestion()},"Volgende"),p=null,(u||d)&&(p=React.createElement(J.default,{previousAction:l,previousUrl:s,previousLabel:u,nextAction:f,nextUrl:null,nextLabel:d})),React.createElement("div",{className:"osc-choices-guide-content"},c,i,a,p)),React.createElement("div",{id:this.divId,className:"osc-choices-guide"},React.createElement(Q.default,null),o,h)}}])&&ne(e.prototype,t),n&&ne(e,n),a}(),se=n(110);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function de(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function pe(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?de(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):de(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function he(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=ge(i);return t=a?(e=ge(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==le(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(i,l["a"]);var e,t,n,r=ye(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e,{type:"default",submission:{type:"none",requireLoginSettings:{title:"Stemcode",description:"Om te kunnen stemmen vul je de stemcode in die je per post hebt ontvangen. Wij controleren je stemcode op geldigheid. Als dat gelukt is kun je stemmen.",buttonTextLogin:"Vul je stemcode in",buttonTextLoggedIn:"Geldige stemcode",buttonTextAlreadySubmitted:"Ongeldige stemcode",changeLoginLinkText:"Vul een andere stemcode in",loggedInMessage:"Het controleren van je stemcode is gelukt! Klik op onderstaande knop om je keuze in te sturen.",alreadySubmittedMessage:"Deze stemcode is al gebruikt om te stemmen. Een stemcode kan maar één keer gebruikt worden."}},choices:{title:{noPreferenceYet:"Je hebt nog geen keuze gemaakt",preference:"Jouw voorkeur is {preferredChoice}",inBetween:"Je staat precies tussen meerdere voorkeuren in"},withPercentage:!0,minLabel:null,maxLabel:null}})).config.loginUrl=t.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href);var n=u.a.localStorage.get("osc-choices-guide.values")||{},o=u.a.localStorage.get("osc-choices-guide.scores")||{};return t.state={title:"",answers:n[t.config.choicesGuideId],scores:o[t.config.choicesGuideId]},t}return e=i,(t=[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var t=this;Z({config:t.config}).then(function(e){t.setState(e,function(){t.startGuide()})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"startGuide",value:function(){var e,t,n=this,o=n.choicesElement&&n.choicesElement.calculateScores(n.state.answers),r=(o.scores,o.planePos),i="",a=-1;n.choicesElement&&((e=n.choicesElement.getPreferedChoice({planePos:r}))?(i=n.config.choices.title.preference.replace("{preferredChoice}",e&&e.getTitle(n.state.scores[e.config.divId])||i),a=e.divId):i=n.config.choices.title.inBetween,n.setState({title:i}),t=new window.CustomEvent("osc-choices-guide-result-is-ready",{detail:{preferredChoice:{name:void 0,title:i,preferredChoiceId:a},answers:n.state.answers,scores:n.state.scores}}),document.dispatchEvent(t),"auto"==n.config.submission.type&&n.submitResult())}},{key:"submitResult",value:function(){var e,i=this;if("form"==i.config.submission.type){var a=i.form.getValues();if(!i.form.validate({showErrors:!0,scrollTo:!0}))return}!!(!i.state.choicesGuideConfig||!i.state.choicesGuideConfig.requiredUserRole)||i.isUserLoggedIn()?se.a.load().then(function(e){e.get().then(function(e){var t=e.visitorId,n="".concat(i.config.api&&i.config.api.url,"/api/site/").concat(i.config.siteId,"/choicesguide/").concat(i.config.choicesGuideId,"/result"),o=u.a.api.getHeaders(i.config),r={result:{answers:i.state.answers,scores:i.state.scores},extraData:a,userFingerprint:t};fetch(n,{method:"POST",headers:o,body:JSON.stringify(r)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){"form"==i.config.submission.type&&(document.location.href=i.config.afterUrl)}).catch(function(e){e.then(function(e){try{e=JSON.parse(e)}catch(e){}var t=Array.isArray(e)&&e[0]&&e[0].message||e[0]||e.message||e;i.setState({submissionError:{message:t.toString(),type:"Je hebt je mening al ingestuurd"==t?"alreadySubmitted":"unknown"}},function(){return console.log(e)})})})})}):(e=document.querySelector(".osc-require-login"))&&e.scrollIntoView({behavior:"smooth"})}},{key:"isUserLoggedIn",value:function(){return this.config.user&&this.config.user.role&&"anonymous"!=this.config.user.role}},{key:"render",value:function(){var e,t=this,n=(t.props&&t.props.data,t.state.choices);t.state.questionGroups&&(e=t.state.questionGroups.find(function(e){return e.id==t.config.questionGroupId}))&&(e.values=t.state.values||{},e&&e.choices&&(n=e.choices));var o=!(!t.state.choicesGuideConfig||!t.state.choicesGuideConfig.requiredUserRole),r=null;n&&(r=React.createElement(q,{config:pe({},t.config.choices),scores:pe({},t.state.scores),choices:ue(n),firstAnswerGiven:!0,ref:function(e){t.choicesElement=e},key:"choices"}));var i=null;t.config.moreInfoUrl&&t.config.moreInfoLabel&&(i=React.createElement("div",{className:"osc-more-info-link"},React.createElement("a",{href:t.config.moreInfoUrl},t.config.moreInfoLabel)));var a,c,s,l,u,f,d,p=null,h=null,m=null;"form"==t.config.submission.type&&(p=React.createElement(w.a.Form,{config:t.config.submission.form,ref:function(e){t.form=e}}),o&&(h=t.isUserLoggedIn()?(a="osc-success",c=t.config.submission.requireLoginSettings.buttonTextLoggedIn,s=t.config.submission.requireLoginSettings.loggedInMessage,t.state.submissionError&&(a="osc-error",s="alreadySubmitted"==t.state.submissionError.type?(c=t.config.submission.requireLoginSettings.buttonTextAlreadySubmitted,t.config.submission.requireLoginSettings.alreadySubmittedMessage):t.state.submissionError.message),React.createElement("div",{className:"osc-require-login osc-logged-in osc-logged-in ".concat(a)},React.createElement("h2",null,t.config.submission.requireLoginSettings.title),React.createElement("div",{className:"osc-gray-block"},React.createElement("button",{onClick:function(){return document.location.href=t.config.loginUrl},className:"osc-button osc-button-white"},c),React.createElement("div",{className:"change-login-link-text"},React.createElement("a",{href:"javascript: document.location.href = '".concat(t.config.loginUrl,"'")},t.config.submission.requireLoginSettings.changeLoginLinkText)),React.createElement("div",{className:"osc-message"},s)))):React.createElement("div",{className:"osc-require-login osc-not-yet-logged-in"},React.createElement("h2",null,t.config.submission.requireLoginSettings.title),React.createElement("div",{className:"osc-gray-block"},t.config.submission.requireLoginSettings.description,React.createElement("br",null),React.createElement("br",null),React.createElement("button",{onClick:function(){return document.location.href=t.config.loginUrl},className:"osc-button osc-button-white"},t.config.submission.requireLoginSettings.buttonTextLogin)))),u=l=null,t.config.beforeUrl&&(l=t.config.beforeUrl,u=t.config.beforeLabel||"Vorige"),f=t.config.afterLabel||"Opslaan",d="form"==t.config.submission.type&&t.form&&!t.form.validate({})||o&&!t.isUserLoggedIn(),(u||f)&&(m=React.createElement(J.default,{previousAction:null,previousUrl:l,previousLabel:u,nextAction:function(){t.submitResult()},nextUrl:null,nextLabel:f,nextIsDisabled:d})));var y=null;return t.state.submissionError&&!o&&(y=React.createElement("div",{className:"osc-message osc-error"},t.state.submissionError.message,";")),React.createElement("div",{className:"osc-choices-guide"},React.createElement("div",{className:"osc-result"},React.createElement("div",{className:"osc-result-content"},React.createElement("div",{className:"osc-choices-container ".concat("osc-type-"+t.config.choices.type)},React.createElement("h3",{dangerouslySetInnerHTML:{__html:t.state.title}}),r),i,p,h,y)),m)}}])&&he(e.prototype,t),n&&he(e,n),i}();ce.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(ce,{attributes:n,config:t}),e)},ve.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(ve,{attributes:n,config:t}),e)}},function(e,B,U){"use strict";(function(s){var p=U(41);function f(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function d(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function h(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function m(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function y(e,t){return[e[0]^t[0],e[1]^t[1]]}function g(e){return e=y(e,[0,e[0]>>>1]),e=y(e=d(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=y(e=d(e,[3301882366,444984403]),[0,e[0]>>>1])}function t(e,t){t=t||0;for(var n=(e=e||"").length%16,o=e.length-n,r=[0,t],i=[0,t],a=[0,0],c=[0,0],s=[2277735313,289559509],l=[1291169091,658871167],u=0;u<o;u+=16)a=[255&e.charCodeAt(u+4)|(255&e.charCodeAt(u+5))<<8|(255&e.charCodeAt(u+6))<<16|(255&e.charCodeAt(u+7))<<24,255&e.charCodeAt(u)|(255&e.charCodeAt(u+1))<<8|(255&e.charCodeAt(u+2))<<16|(255&e.charCodeAt(u+3))<<24],c=[255&e.charCodeAt(u+12)|(255&e.charCodeAt(u+13))<<8|(255&e.charCodeAt(u+14))<<16|(255&e.charCodeAt(u+15))<<24,255&e.charCodeAt(u+8)|(255&e.charCodeAt(u+9))<<8|(255&e.charCodeAt(u+10))<<16|(255&e.charCodeAt(u+11))<<24],a=h(a=d(a,s),31),r=f(r=h(r=y(r,a=d(a,l)),27),i),r=f(d(r,[0,5]),[0,1390208809]),c=h(c=d(c,l),33),i=f(i=h(i=y(i,c=d(c,s)),31),r),i=f(d(i,[0,5]),[0,944331445]);switch(a=[0,0],c=[0,0],n){case 15:c=y(c,m([0,e.charCodeAt(u+14)],48));case 14:c=y(c,m([0,e.charCodeAt(u+13)],40));case 13:c=y(c,m([0,e.charCodeAt(u+12)],32));case 12:c=y(c,m([0,e.charCodeAt(u+11)],24));case 11:c=y(c,m([0,e.charCodeAt(u+10)],16));case 10:c=y(c,m([0,e.charCodeAt(u+9)],8));case 9:c=d(c=y(c,[0,e.charCodeAt(u+8)]),l),i=y(i,c=d(c=h(c,33),s));case 8:a=y(a,m([0,e.charCodeAt(u+7)],56));case 7:a=y(a,m([0,e.charCodeAt(u+6)],48));case 6:a=y(a,m([0,e.charCodeAt(u+5)],40));case 5:a=y(a,m([0,e.charCodeAt(u+4)],32));case 4:a=y(a,m([0,e.charCodeAt(u+3)],24));case 3:a=y(a,m([0,e.charCodeAt(u+2)],16));case 2:a=y(a,m([0,e.charCodeAt(u+1)],8));case 1:a=d(a=y(a,[0,e.charCodeAt(u)]),s),r=y(r,a=d(a=h(a,31),l))}return r=f(r=y(r,[0,e.length]),i=y(i,[0,e.length])),i=f(i,r),r=f(r=g(r),i=g(i)),i=f(i,r),("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)+("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)}var r=window;function v(e,t){return!function(e,t){for(var n=0,o=e.length;n<o;++n)if(e[n]===t)return 1}(e,t)}function n(e){return parseInt(e)}function o(e){return parseFloat(e)}function l(e){return e.reduce(function(e,t){return e+(t?1:0)},0)}var u=window,b=navigator;document;function a(){return 4<=l(["MSCSSMatrix"in u,"msSetImmediate"in u,"msIndexedDB"in u,"msMaxTouchPoints"in b,"msPointerEnabled"in b])}var _=window,w=document;function O(e,t,n){var o;(o=t)&&"function"==typeof o.setValueAtTime&&t.setValueAtTime(n,e.currentTime)}function E(e){var t=new Error(e);return t.name=e,t}var S=document,k=["monospace","sans-serif","serif"],R=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"],C={fontStyle:"normal",fontWeight:"normal",letterSpacing:"normal",lineBreak:"auto",lineHeight:"normal",textTransform:"none",textAlign:"left",textDecoration:"none",textShadow:"none",whiteSpace:"normal",wordBreak:"normal",wordSpacing:"normal",position:"absolute",left:"-9999px",fontSize:"48px"};var i=navigator,c=window;var I=navigator;var P=window;var j=window;var L=window;var T=document;var e={osCpu:function(){return navigator.oscpu},languages:function(){var e,t=[],n=I.language||I.userLanguage||I.browserLanguage||I.systemLanguage;return void 0!==n&&t.push([n]),Array.isArray(I.languages)?5<=l(["webkitPersistentStorage"in b,"webkitTemporaryStorage"in b,0===b.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in u,"BatteryManager"in u,"webkitMediaStream"in u,"webkitSpeechGrammar"in u])&&3<=l([!("MediaSettingsRange"in u),"RTCEncodedAudioFrame"in u,""+u.Intl=="[object Intl]",""+u.Reflect=="[object Reflect]"])||t.push(I.languages):"string"!=typeof I.languages||(e=I.languages)&&t.push(e.split(",")),t},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return e=o(navigator.deviceMemory),t=void 0,"number"==typeof e&&isNaN(e)?t:e;var e,t},screenResolution:function(){var e=[n(P.screen.width),n(P.screen.height)];return e.sort().reverse(),e},availableScreenResolution:function(){if(j.screen.availWidth&&j.screen.availHeight){var e=[n(j.screen.availWidth),n(j.screen.availHeight)];return e.sort().reverse(),e}},hardwareConcurrency:function(){try{var e=n(navigator.hardwareConcurrency);return isNaN(e)?1:e}catch(e){return 1}},timezoneOffset:function(){var e=(new Date).getFullYear();return Math.max(o(new Date(e,0,1).getTimezoneOffset()),o(new Date(e,6,1).getTimezoneOffset()))},timezone:function(){var e;if(null!==(e=L.Intl)&&void 0!==e&&e.DateTimeFormat)return(new L.Intl.DateTimeFormat).resolvedOptions().timeZone},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!(a()||3<=l(["msWriteProfilerMark"in u,"MSStream"in u,"msLaunchUri"in b,"msSaveBlob"in b])&&!a()))try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){return navigator.platform},plugins:function(){if(a())return[];if(navigator.plugins){for(var e=[],t=0;t<navigator.plugins.length;++t){var n=navigator.plugins[t];if(n){for(var o=[],r=0;r<n.length;++r){var i=n[r];o.push({type:i.type,suffixes:i.suffixes})}e.push({name:n.name,description:n.description,mimeTypes:o})}}return e}},canvas:function(){var e,t,n=((e=document.createElement("canvas")).width=240,e.height=140,e.style.display="inline",[e,e.getContext("2d")]),o=n[0],r=n[1];if(t=o,!r||!t.toDataURL)return{winding:!1,data:""};r.rect(0,0,10,10),r.rect(2,2,6,6);var i=!r.isPointInPath(5,5,"evenodd");r.textBaseline="alphabetic",r.fillStyle="#f60",r.fillRect(125,1,62,20),r.fillStyle="#069",r.font="11pt no-real-font-123";var a="Cwm fjordbank 😃 gly";return r.fillText(a,2,15),r.fillStyle="rgba(102, 204, 0, 0.2)",r.font="18pt Arial",r.fillText(a,4,45),r.globalCompositeOperation="multiply",r.fillStyle="rgb(255,0,255)",r.beginPath(),r.arc(50,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(0,255,255)",r.beginPath(),r.arc(100,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,255,0)",r.beginPath(),r.arc(75,100,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,0,255)",r.arc(75,75,75,0,2*Math.PI,!0),r.arc(75,75,25,0,2*Math.PI,!0),r.fill("evenodd"),{winding:i,data:o.toDataURL()}},touchSupport:function(){var t,e=0;void 0!==i.maxTouchPoints?e=n(i.maxTouchPoints):void 0!==i.msMaxTouchPoints&&(e=i.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){t=!1}return{maxTouchPoints:e,touchEvent:t,touchStart:"ontouchstart"in c}},fonts:function(){function a(){var e=S.createElement("span");e.textContent="mmMwWLliI0O&1";for(var t=0,n=Object.keys(C);t<n.length;t++){var o=n[t];e.style[o]=C[o]}return e}var e=S.body,n=S.createElement("div"),c=S.createElement("div"),o={},r={},t=k.map(function(e){var t=a();return t.style.fontFamily=e,n.appendChild(t),t});e.appendChild(n);for(var i=0,s=k.length;i<s;i++)o[k[i]]=t[i].offsetWidth,r[k[i]]=t[i].offsetHeight;var l=function(){for(var e={},t=function(i){e[i]=k.map(function(e){var t,n,o,r=(t=i,n=e,(o=a()).style.fontFamily="'"+t+"',"+n,o);return c.appendChild(r),r})},n=0,o=R;n<o.length;n++){t(o[n])}return e}();e.appendChild(c);for(var u=[],f=0,d=R.length;f<d;f++)!function(n){return k.some(function(e,t){return n[t].offsetWidth!==o[e]||n[t].offsetHeight!==r[e]})}(l[R[f]])||u.push(R[f]);return e.removeChild(c),e.removeChild(n),u},audio:function(){return Object(p.b)(this,void 0,void 0,function(){var t,n,o,i,a,c;return Object(p.c)(this,function(e){switch(e.label){case 0:if(!(t=_.OfflineAudioContext||_.webkitOfflineAudioContext))return[2,-2];if(4<=l(["ApplePayError"in u,"CSSPrimitiveValue"in u,"Counter"in u,0===b.vendor.indexOf("Apple"),"getStorageUpdates"in b,"WebKitMediaKeys"in u])&&!(3<=l(["safari"in u,!("DeviceMotionEvent"in u),!("ongestureend"in u),!("standalone"in b)]))&&!(3<=l(["DOMRectList"in u,"RTCPeerConnectionIceEvent"in u,"SVGGeometryElement"in u,"ontransitioncancel"in u])))return[2,-1];n=new t(1,44100,44100),(o=n.createOscillator()).type="triangle",O(n,o.frequency,1e4),i=n.createDynamicsCompressor(),O(n,i.threshold,-50),O(n,i.knee,40),O(n,i.ratio,12),O(n,i.reduction,-20),O(n,i.attack,0),O(n,i.release,.25),o.connect(i),i.connect(n.destination),o.start(0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,(r=n,new s(function(t,e){r.oncomplete=function(e){return t(e.renderedBuffer)};var n=3,o=function(){switch(r.startRendering(),r.state){case"running":setTimeout(function(){return e(E("timeout"))},1e3);break;case"suspended":w.hidden||n--,0<n?setTimeout(o,500):e(E("suspended"))}};o()}))];case 2:return a=e.sent(),[3,5];case 3:if("timeout"===(c=e.sent()).name||"suspended"===c.name)return[2,-3];throw c;case 4:return o.disconnect(),i.disconnect(),[7];case 5:return[2,function(e){for(var t=0,n=4500;n<5e3;++n)t+=Math.abs(e[n]);return t}(a.getChannelData(0))]}var r})})},pluginsSupport:function(){return void 0!==navigator.plugins},productSub:function(){return navigator.productSub},emptyEvalLength:function(){return eval.toString().length},errorFF:function(){try{throw"a"}catch(e){try{return e.toSource(),!0}catch(e){return!1}}},vendor:function(){return navigator.vendor},chrome:function(){return void 0!==window.chrome},cookiesEnabled:function(){try{T.cookie="cookietest=1; SameSite=Strict;";var e=-1!==T.cookie.indexOf("cookietest=");return T.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}}};function x(){return function(u,f,d){return Object(p.b)(this,void 0,void 0,function(){var t,n,o,r,i,a,c,s,l;return Object(p.c)(this,function(e){switch(e.label){case 0:t=Date.now(),n={},o=0,r=Object.keys(u),e.label=1;case 1:if(!(o<r.length))return[3,7];if(i=r[o],!v(d,i))return[3,6];a=void 0,e.label=2;case 2:return e.trys.push([2,4,,5]),l={},[4,u[i](f)];case 3:return l.value=e.sent(),a=l,[3,5];case 4:return c=e.sent(),a=c&&"object"==typeof c&&"message"in c?{error:c}:{error:{message:c}},[3,5];case 5:s=Date.now(),n[i]=Object(p.a)(Object(p.a)({},a),{duration:s-t}),t=s,e.label=6;case 6:return o++,[3,1];case 7:return[2,n]}})})}(e,void 0,[])}function M(e){return JSON.stringify(e,function(e,t){return t instanceof Error?(n=t,Object(p.a)({name:n.name,message:n.message,stack:null===(o=n.stack)||void 0===o?void 0:o.split("\n")},n)):t;var n,o},2)}function N(e){return t(function(e){for(var t="",n=0,o=Object.keys(e);n<o.length;n++){var r=o[n],i=e[r],a=i.error?"error":JSON.stringify(i.value);t+=(t?"|":"")+r.replace(/([:|\\])/g,"\\$1")+":"+a}return t}(e))}var D=(A.prototype.get=function(r){return void 0===r&&(r={}),Object(p.b)(this,void 0,void 0,function(){var n,o;return Object(p.c)(this,function(e){switch(e.label){case 0:return[4,x()];case 1:return n=e.sent(),o={components:n,get visitorId(){return void 0===t&&(t=N(this.components)),t},set visitorId(e){t=e}},r.debug&&console.log("Copy the text below to get the debug data:\n\n```\nversion: 3.0.5\nuserAgent: "+navigator.userAgent+"\ngetOptions: "+JSON.stringify(r,void 0,2)+"\nvisitorId: "+o.visitorId+"\ncomponents: "+M(n)+"\n```"),[2,o]}var t})})},A);function A(){}var F={load:function(e){var t=(void 0===e?{}:e).delayFallback,o=void 0===t?50:t;return Object(p.b)(this,void 0,void 0,function(){return Object(p.c)(this,function(e){switch(e.label){case 0:return[4,(void 0===(n=2*(t=o))&&(n=1/0),new s(function(e){r.requestIdleCallback?r.requestIdleCallback(function(){return e()},{timeout:n}):setTimeout(e,Math.min(t,n))}))];case 1:return e.sent(),[2,new D]}var t,n})})},hashComponents:N,componentsToDebugString:M};B.a=F}).call(this,U(40))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdeasForm});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_forms_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasForm=function(_OpenStadComponent){_inherits(IdeasForm,_OpenStadComponent);var _super=_createSuper(IdeasForm);function IdeasForm(props){var _this;_classCallCheck(this,IdeasForm),_this=_super.call(this,props,{user:{},ideaId:null,idea:{titleMinLength:10,titleMaxLength:20,summaryMinLength:20,summaryMaxLength:140,descriptionMinLength:140,descriptionMaxLength:5e3,fields:[]}});var self=_assertThisInitialized(_this),fields=self.config.idea.fields=_toConsumableArray(self.config.idea.fields);self.props.idea.extraData||(self.props.idea.extraData={});var state={formfields:{id:self.props.idea.id||"",user:self.props.idea.user||{}},showFormErrorsWarning:!1,isBusy:!1};fields.forEach(function(field){field.name&&(state.formfields[field.name]=eval("self.props.idea."+field.name),field.value=eval("self.props.idea."+field.name))});var titleField=fields.find(function(e){return"title"==e.name});titleField&&(titleField.minLength=self.config.idea.titleMinLength,titleField.maxLength=self.config.idea.titleMaxLength);var summaryField=fields.find(function(e){return"summary"==e.name});summaryField&&(summaryField.minLength=self.config.idea.summaryMinLength,summaryField.maxLength=self.config.idea.summaryMaxLength);var descriptionField=fields.find(function(e){return"description"==e.name});descriptionField&&(descriptionField.minLength=self.config.idea.descriptionMinLength,descriptionField.maxLength=self.config.idea.descriptionMaxLength);var imageField=fields.find(function(e){return"image-upload"==e.inputType}),choices;return imageField&&(imageField.imageserver=self.config.imageserver),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.user.hasRole(self.config.user,"editor")?(self.config.types&&"typeId"==self.config.typeField&&(choices=[],self.config.types.forEach(function(e){var t=e;(!t.auth||t.auth.createableBy&&_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.user.hasRole(self.config.user,t.auth.createableBy))&&choices.push({title:t.name,value:t.id||t.value})}),self.config.idea.fields.push({name:"typeId",title:"Type inzending",value:self.props.idea.typeId,inputType:"multiple-choice",choices:choices}),state.formfields.typeId=self.props.idea.typeId),self.config.idea.fields.push({name:"modBreak",title:"Moderator reactie",value:self.props.idea.modBreak,inputType:"textarea-with-counter",minLength:0,maxLength:2e3}),state.formfields.modBreak=self.props.idea.modBreak):self.config.types&&"typeId"==self.config.typeField&&(self.config.idea.fields.push({name:"typeId",value:self.props.idea.typeId,inputType:"hidden"}),state.formfields.typeId=self.props.idea.typeId),self.state=state,_this}return _createClass(IdeasForm,[{key:"componentDidMount",value:function(){}},{key:"handleLocationChange",value:function(e){var t=e.location,n=e.address,o=_objectSpread({},this.state);o.formfields.location={coordinates:[t.lat,t.lng]},o.formfields.address=n,this.setState(o),this.dispatchUpdateEditIdea(o.formfields)}},{key:"dispatchUpdateEditIdea",value:function(e){var t=new window.CustomEvent("osc-update-edit-idea",{detail:{idea:e}});document.dispatchEvent(t)}},{key:"validateIdea",value:function(){var e=!0;return this.state.formfields.location?this["form-warning-location"].style.display="none":(console.log("xxx"),e=!(this["form-warning-location"].style.display="block")),e}},{key:"submitIdea",value:function(){var a=this,c=this;c.setState({isBusy:!0},function(){var n=c.form.getValues(),e=c.form.validate({showErrors:!0,scrollTo:!0});if(c.validateIdea()&&e){if(c.setState({showFormErrorsWarning:!1}),!c.config.api.isUserLoggedIn)return alert("Je bent niet ingelogd");var t=c.config.api.url+"/api/site/"+c.config.siteId+"/idea",o=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.api.getHeaders(c.config),r={location:JSON.stringify(_objectSpread({type:"Point"},c.state.formfields.location))};Object.keys(n).forEach(function(e){var t=e.match(/^extraData\.(.+)/);t?(r.extraData||(r.extraData={}),r.extraData[t[1]]=n[e]):r[e]=n[e]});var i="POST";"number"==typeof a.state.formfields.id&&(i="PUT",t=t+"/"+a.state.formfields.id),fetch(t,{method:i,headers:o,body:JSON.stringify(r)}).then(function(e){if(!e.ok)throw e;return e.json()}).then(function(t){c.setState({isBusy:!1},function(){var e=new window.CustomEvent("osc-idea-stored",{detail:{idea:t}});document.dispatchEvent(e)})}).catch(function(e){console.log("Niet goed"),console.log(e),"function"==typeof e.json?e.json().then(function(e){return c.setState({isBusy:!1,showFormErrorsWarning:e.message})}):c.setState({isBusy:!1,showFormErrorsWarning:e.message||e})})}else c.setState({isBusy:!1,showFormErrorsWarning:!0})})}},{key:"render",value:function(){var e,t=this,n=this,o=null;n.state.showFormErrorsWarning&&(e="Niet alle velden zijn correct ingevuld. Scroll naar boven om te zien wat er mis gaat.","string"==typeof n.state.showFormErrorsWarning&&(e=n.state.showFormErrorsWarning),o=React.createElement("div",{className:"osc-form-errors-warning"},e));var r=React.createElement(_forms_index_jsx__WEBPACK_IMPORTED_MODULE_2__.a.Form,{config:{fields:n.config.idea.fields},values:{typeId:n.state.formfields.typeId},ref:function(e){n.form=e}});return React.createElement("div",{id:n.id,className:n.props.className||"osc-infobar-idea-form",ref:function(e){return n.instance=e}},React.createElement("div",{className:"osc-spacer"}),React.createElement("form",{className:"osc-form"},React.createElement("h1",null,"Nieuw punt toevoegen"),React.createElement("div",{className:"osc-form-group"},React.createElement("h2",null,"Naam"),n.state.formfields.user&&n.state.formfields.user.fullName),React.createElement("div",{className:"osc-form-group"},React.createElement("h2",null,"Een locatie vlakbij"),n.state.formfields.address||"Geen adres gevonden",React.createElement("div",{className:"osc-form-warning",style:{display:"none"},ref:function(e){return t["form-warning-location"]=e}},"Geen locatie geselecteerd")),r,React.createElement("br",null),o,React.createElement("br",null),React.createElement("a",{className:"osc-button osc-button-blue".concat(n.state.isBusy?" osc-disabled":""),onClick:function(){n.state.isBusy||n.submitIdea()},ref:function(e){return n.submitButton=e}},"Versturen"),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null)))}}]),IdeasForm}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Map});var _nlmap_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(88);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=_superPropBase(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Map=function(_OpenStadComponentNLM){_inherits(Map,_OpenStadComponentNLM);var _super=_createSuper(Map);function Map(e){var t;return _classCallCheck(this,Map),(t=_super.call(this,e,{clustering:{maxClusterRadius:100,showCoverageOnHover:!1},locationIcon:{html:'<svg width="39" height="50" viewBox="0 0 39 50" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.1038 0C29.6577 0 38.2075 8.46671 38.2075 18.9181C38.2075 33.1786 21.7544 47.7273 21.0432 48.3035L19.1038 50L17.1643 48.3035C16.4532 47.7273 0 33.1786 0 18.9181C0 8.46831 8.54983 0 19.1038 0ZM32.3245 18.9181C32.3083 11.6837 26.4091 5.84187 19.1038 5.82586C11.7984 5.84187 5.89922 11.6837 5.88306 18.9181C5.88306 27.3367 14.1581 37.2439 19.0876 42.1095C23.1767 38.1242 32.3245 27.993 32.3245 18.9181Z" fill="#EC0000"/><path d="M19.104 5.82568C26.4093 5.84169 32.3086 11.6836 32.3247 18.9179C32.3247 27.9928 23.1769 38.124 19.0879 42.1093C14.1584 37.2437 5.8833 27.3366 5.8833 18.9179C5.89946 11.6836 11.7987 5.84169 19.104 5.82568ZM25.5689 18.9179C25.5689 15.3807 22.6759 12.5158 19.104 12.5158C15.5322 12.5158 12.6391 15.3807 12.6391 18.9179C12.6391 22.455 15.5322 25.3199 19.104 25.3199C22.6759 25.3199 25.5689 22.455 25.5689 18.9179Z" fill="white"/><path d="M19.1038 25.3202C22.6743 25.3202 25.5687 22.4539 25.5687 18.9182C25.5687 15.3824 22.6743 12.5161 19.1038 12.5161C15.5333 12.5161 12.6389 15.3824 12.6389 18.9182C12.6389 22.4539 15.5333 25.3202 19.1038 25.3202Z" fill="#EC0000"/></svg>',className:"osc-ideas-on-map-icon",width:39,height:50,iconAnchor:[20,50]},types:[]})).config.polygon=t.config.polygon,t.config.autoZoomAndCenter=t.config.autoZoomAndCenter||"polygon",t.ideas=[],t.state={filters:{}},t}return _createClass(Map,[{key:"componentDidMount",value:function(e,t){_get(_getPrototypeOf(Map.prototype),"componentDidMount",this).call(this,e,t);var n=this;n.mapClusterAnimationEndListener=function(e){n.onMapClusterAnimationEnd(e.detail)},document.addEventListener("osc-map-cluster-animation-end",n.mapClusterAnimationEndListener),n.ideasFilterOnchangeListener=function(e){n.onChangeFilter(e.detail)},document.addEventListener("osc-ideas-filter-onchange",n.ideasFilterOnchangeListener),n.ideasFilterResetAllListener=function(e){n.onResetFilters(e.detail)},document.addEventListener("osc-ideas-filter-reset-all",n.ideasFilterResetAllListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-map-cluster-animation-end",this.mapClusterAnimationEndListener),document.removeEventListener("osc-ideas-filter-onchange",this.ideasFilterOnchangeListener),document.removeEventListener("osc-ideas-filter-reset-all",this.ideasFilterResetAllListener)}},{key:"addIdea",value:function addIdea(idea){var self=this;self.ideas.push(idea);var typename=idea&&self.config.typeField?eval("idea.".concat(self.config.typeField)):"typeId",typeDef=self.config.types.find(function(e){return typename&&(e.id==typename||e.name==typename)}),typeDef=typeDef||{},color=typeDef.color||typeDef.backgroundColor||"#164995",icondef=typeDef.mapicon||typeDef.icon||{html:'<svg viewBox="0 0 26 26"><circle cx="13" cy="13" r="13" fill="'.concat(color,'"/></svg>'),width:26,height:26,anchor:[13,13]},icon=L.divIcon({html:icondef.html,className:"osc-ideas-on-map-icon",iconSize:L.point(icondef.width,icondef.height),iconAnchor:icondef.anchor});self.addMarker({lat:idea.location.coordinates[0],lng:idea.location.coordinates[1],data:idea,icon:icon})}},{key:"getVisibleIdeas",value:function(){var t=this,e=t.markers.filter(function(e){return e.visible&&e.data&&t.map.getBounds().contains(e.getLatLng())}).map(function(e){return e.data});return t.setState({visibleIdeas:e}),e}},{key:"setSelectedLocation",value:function(e){var t;this.selectedLocation=e,this.selectedLocation?this.selectedLocationMarker?this.updateMarker(this.selectedLocationMarker,{location:e}):(t=L.divIcon({html:this.config.locationIcon.html,className:"osc-ideas-on-map-icon",iconSize:L.point(this.config.locationIcon.width,this.config.locationIcon.height),iconAnchor:this.config.locationIcon.anchor}),this.selectedLocationMarker=this.addMarker(_objectSpread(_objectSpread({},e),{},{icon:t,doNotCluster:!0}))):(this.selectedLocationMarker&&this.removeMarker(this.selectedLocationMarker),this.selectedLocationMarker=null)}},{key:"setBoundsAndCenter",value:function(e){_get(_getPrototypeOf(Map.prototype),"setBoundsAndCenter",this).call(this,e||"polygon"==this.config.autoZoomAndCenter&&this.config.polygon||this.markers)}},{key:"showMarkers",value:function(e){e.keepCenter;var t=this;t.markers.forEach(function(e){t.showMarker(e)})}},{key:"hideMarkers",value:function(e){var t=e.exception,n=this;t&&t.location&&n.setBoundsAndCenter([t.location]),n.markers.forEach(function(e){t&&t.location&&t.location.lat==e._latlng.lat&&t.location.lng==e._latlng.lng||n.hideMarker(e)})}},{key:"fadeMarkers",value:function(e){var n=e.exception,o=this;o.markers.forEach(function(e){var t;n&&e.data&&e.data.id&&n.id==e.data.id?e.data&&(e.data.isFaded=!1):(e.data&&(e.data.isFaded=!0),(t=o.markerClusterGroup&&o.markerClusterGroup.getVisibleParent(e))&&t.getAllChildMarkers&&t.getAllChildMarkers().find(function(e){return e.data&&!1===e.data.isFaded})||!t||t.setOpacity(.3))})}},{key:"updateFading",value:function(){var o=this;o.markers.forEach(function(e){var t,n=o.markerClusterGroup&&o.markerClusterGroup.getVisibleParent(e);n&&e.visible&&(t=n&&n.getAllChildMarkers&&n.getAllChildMarkers().find(function(e){return e.data&&!1===e.data.isFaded}),n.setOpacity(!t&&e.data&&e.data.isFaded?.3:1))})}},{key:"unfadeAllMarkers",value:function(){var n=this;n.markers.forEach(function(e){e.data&&(e.data.isFaded=!1);var t=n.markerClusterGroup&&n.markerClusterGroup.getVisibleParent(e);t&&t.setOpacity(1)})}},{key:"onMapClusterAnimationEnd",value:function(){this.updateFading()}},{key:"onChangeFilter",value:function onChangeFilter(filter){var self=this,filters=self.state.filters;filters[filter.fieldName]=filter,self.setState({filters:filters},function(){self.setFilter(function(marker){var result=!0;return Object.keys(self.state.filters).forEach(function(fieldName){var filter=self.state.filters[fieldName];filter.value&&"0"!==filter.value&&(marker.data&&!eval("marker.data.".concat(filter.fieldName))||eval("marker.data.".concat(filter.fieldName))!=filter.value)&&(result=!1)}),result})})}},{key:"onResetFilters",value:function(){this.setBoundsAndCenter()}}]),Map}(_nlmap_index_jsx__WEBPACK_IMPORTED_MODULE_0__.default)},function(e,t,n){n(115);var o=n(39);e.exports=o("Array","find")},function(e,t,n){"use strict";n.r(t);n(11),n(98);var o=n(2),r=n.n(o),i=n(6),a=n.n(i),c=(n(117),n(85));n.d(t,"default",function(){return c.a}),n.d(t,"IdeasOnMap",function(){return c.a}),c.a.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(c.a,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";var o=n(36),r=n(94).find,i=n(37),a=n(38),c="find",s=!0,l=a(c);c in[]&&Array(1).find(function(){s=!1}),o({target:"Array",proto:!0,forced:s||!l},{find:function(e,t){return r(this,e,1<arguments.length?t:void 0)}}),i(c)},function(e,t,n){},function(e,t,n){},function(_,w,O){var E;!function(r,f){"use strict";var e="model",t="name",n="type",o="vendor",i="version",a="architecture",c="console",s="mobile",l="tablet",u="smarttv",d="wearable",p={extend:function(e,t){var n={};for(var o in e)t[o]&&t[o].length%2==0?n[o]=t[o].concat(e[o]):n[o]=e[o];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:f},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},h={rgx:function(e,t){for(var n,o,r,i,a,c=0;c<t.length&&!i;){for(var s=t[c],l=t[c+1],u=n=0;u<s.length&&!i;)if(i=s[u++].exec(e))for(o=0;o<l.length;o++)a=i[++n],"object"==typeof(r=l[o])&&0<r.length?2==r.length?"function"==typeof r[1]?this[r[0]]=r[1].call(this,a):this[r[0]]=r[1]:3==r.length?"function"!=typeof r[1]||r[1].exec&&r[1].test?this[r[0]]=a?a.replace(r[1],r[2]):f:this[r[0]]=a?r[1].call(this,a,r[2]):f:4==r.length&&(this[r[0]]=a?r[3].call(this,a.replace(r[1],r[2])):f):this[r]=a||f;c+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&0<t[n].length){for(var o=0;o<t[n].length;o++)if(p.has(t[n][o],e))return"?"===n?f:n}else if(p.has(t[n],e))return"?"===n?f:n;return e}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},y={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[t,i],[/(opios)[\/\s]+([\w\.]+)/i],[[t,"Opera Mini"],i],[/\s(opr)\/([\w\.]+)/i],[[t,"Opera"],i],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[t,i],[/(konqueror)\/([\w\.]+)/i],[[t,"Konqueror"],i],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[t,"IE"],i],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[t,"Edge"],i],[/(yabrowser)\/([\w\.]+)/i],[[t,"Yandex"],i],[/(Avast)\/([\w\.]+)/i],[[t,"Avast Secure Browser"],i],[/(AVG)\/([\w\.]+)/i],[[t,"AVG Secure Browser"],i],[/(puffin)\/([\w\.]+)/i],[[t,"Puffin"],i],[/(focus)\/([\w\.]+)/i],[[t,"Firefox Focus"],i],[/(opt)\/([\w\.]+)/i],[[t,"Opera Touch"],i],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[t,"UCBrowser"],i],[/(comodo_dragon)\/([\w\.]+)/i],[[t,/_/g," "],i],[/(windowswechat qbcore)\/([\w\.]+)/i],[[t,"WeChat(Win) Desktop"],i],[/(micromessenger)\/([\w\.]+)/i],[[t,"WeChat"],i],[/(brave)\/([\w\.]+)/i],[[t,"Brave"],i],[/(whale)\/([\w\.]+)/i],[[t,"Whale"],i],[/(qqbrowserlite)\/([\w\.]+)/i],[t,i],[/(QQ)\/([\d\.]+)/i],[t,i],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[t,i],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[t,i],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[t,i],[/(MetaSr)[\/\s]?([\w\.]+)/i],[t],[/(LBBROWSER)/i],[t],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[i,[t,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[i,[t,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[t,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[t,i],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[i,[t,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[t,/(.+)/,"$1 WebView"],i],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[t,/(.+(?:g|us))(.+)/,"$1 $2"],i],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[i,[t,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[t,"Sailfish Browser"],i],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[t,i],[/(dolfin)\/([\w\.]+)/i],[[t,"Dolphin"],i],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[t,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[t,"Chrome"],i],[/(coast)\/([\w\.]+)/i],[[t,"Opera Coast"],i],[/fxios\/([\w\.-]+)/i],[i,[t,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[i,[t,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[i,t],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[t,"GSA"],i],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[t,[i,h.str,m.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[t,i],[/(navigator|netscape)\/([\w\.-]+)/i],[[t,"Netscape"],i],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[t,i]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[a,"amd64"]],[/(ia32(?=;))/i],[[a,p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[a,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[a,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[a,/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[[a,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[a,p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[e,o,[n,l]],[/applecoremedia\/[\w\.]+ \((ipad)/],[e,[o,"Apple"],[n,l]],[/(apple\s{0,1}tv)/i],[[e,"Apple TV"],[o,"Apple"],[n,u]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[o,e,[n,l]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[e,[o,"Amazon"],[n,l]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[e,h.str,m.device.amazon.model],[o,"Amazon"],[n,s]],[/android.+aft([bms])\sbuild/i],[e,[o,"Amazon"],[n,u]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[e,o,[n,s]],[/\((ip[honed|\s\w*]+);/i],[e,[o,"Apple"],[n,s]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[o,e,[n,s]],[/\(bb10;\s(\w+)/i],[e,[o,"BlackBerry"],[n,s]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[e,[o,"Asus"],[n,l]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[o,"Sony"],[e,"Xperia Tablet"],[n,l]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[e,[o,"Sony"],[n,s]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[o,e,[n,c]],[/android.+;\s(shield)\sbuild/i],[e,[o,"Nvidia"],[n,c]],[/(playstation\s[34portablevi]+)/i],[e,[o,"Sony"],[n,c]],[/(sprint\s(\w+))/i],[[o,h.str,m.device.sprint.vendor],[e,h.str,m.device.sprint.model],[n,s]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[o,[e,/_/g," "],[n,s]],[/(nexus\s9)/i],[e,[o,"HTC"],[n,l]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[e,[o,"Huawei"],[n,s]],[/android.+(bah2?-a?[lw]\d{2})/i],[e,[o,"Huawei"],[n,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[o,e,[n,s]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[e,[o,"Microsoft"],[n,c]],[/(kin\.[onetw]{3})/i],[[e,/\./g," "],[o,"Microsoft"],[n,s]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[e,[o,"Motorola"],[n,s]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[e,[o,"Motorola"],[n,l]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[o,p.trim],[e,p.trim],[n,u]],[/hbbtv.+maple;(\d+)/i],[[e,/^/,"SmartTV"],[o,"Samsung"],[n,u]],[/\(dtv[\);].+(aquos)/i],[e,[o,"Sharp"],[n,u]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[o,"Samsung"],e,[n,l]],[/smart-tv.+(samsung)/i],[o,[n,u],e],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[o,"Samsung"],e,[n,s]],[/sie-(\w*)/i],[e,[o,"Siemens"],[n,s]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[o,"Nokia"],e,[n,s]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[e,[o,"Acer"],[n,l]],[/android.+([vl]k\-?\d{3})\s+build/i],[e,[o,"LG"],[n,l]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[o,"LG"],e,[n,l]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[o,"LG"],e,[n,u]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[e,[o,"LG"],[n,s]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[o,e,[n,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[e,[o,"Lenovo"],[n,l]],[/(lenovo)[_\s-]?([\w-]+)/i],[o,e,[n,s]],[/linux;.+((jolla));/i],[o,e,[n,s]],[/((pebble))app\/[\d\.]+\s/i],[o,e,[n,d]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[o,e,[n,s]],[/crkey/i],[[e,"Chromecast"],[o,"Google"],[n,u]],[/android.+;\s(glass)\s\d/i],[e,[o,"Google"],[n,d]],[/android.+;\s(pixel c)[\s)]/i],[e,[o,"Google"],[n,l]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[e,[o,"Google"],[n,s]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[e,/_/g," "],[o,"Xiaomi"],[n,s]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[e,/_/g," "],[o,"Xiaomi"],[n,l]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[e,[o,"Meizu"],[n,s]],[/(mz)-([\w-]{2,})/i],[[o,"Meizu"],e,[n,s]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[e,[o,"OnePlus"],[n,s]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[e,[o,"RCA"],[n,l]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[e,[o,"Dell"],[n,l]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[e,[o,"Verizon"],[n,l]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[o,"Barnes & Noble"],e,[n,l]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[e,[o,"NuVision"],[n,l]],[/android.+;\s(k88)\sbuild/i],[e,[o,"ZTE"],[n,l]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[e,[o,"Swiss"],[n,s]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[e,[o,"Swiss"],[n,l]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[e,[o,"Zeki"],[n,l]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[o,"Dragon Touch"],e,[n,l]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[e,[o,"Insignia"],[n,l]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[e,[o,"NextBook"],[n,l]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[o,"Voice"],e,[n,s]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[o,"LvTel"],e,[n,s]],[/android.+;\s(PH-1)\s/i],[e,[o,"Essential"],[n,s]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[e,[o,"Envizen"],[n,l]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[o,e,[n,l]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[e,[o,"MachSpeed"],[n,l]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[o,e,[n,l]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[e,[o,"Rotor"],[n,l]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[o,e,[n,l]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[e,[n,s]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[e,[n,l]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[n,p.lowerize],o,e],[/[\s\/\(](smart-?tv)[;\)]/i],[[n,u]],[/(android[\w\.\s\-]{0,9});.+build/i],[e,[o,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[i,[t,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[i,[t,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[t,i],[/rv\:([\w\.]{1,9}).+(gecko)/i],[i,t]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[t,i],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[t,[i,h.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[t,"Windows"],[i,h.str,m.os.windows.version]],[/\((bb)(10);/i],[[t,"BlackBerry"],i],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[t,i],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[t,"Symbian"],i],[/\((series40);/i],[t],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[t,"Firefox OS"],i],[/crkey\/([\d\.]+)/i],[i,[t,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[t,i],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[t,"Chromium OS"],i],[/(sunos)\s?([\w\.\d]*)/i],[[t,"Solaris"],i],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[t,i],[/(haiku)\s(\w+)/i],[t,i],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[i,/_/g,"."],[t,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[t,"Mac OS"],[i,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[t,i]]},g=function(e,t){if("object"==typeof e&&(t=e,e=f),!(this instanceof g))return new g(e,t).getResult();var n=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),o=t?p.extend(y,t):y;return this.getBrowser=function(){var e={name:f,version:f};return h.rgx.call(e,n,o.browser),e.major=p.major(e.version),e},this.getCPU=function(){var e={architecture:f};return h.rgx.call(e,n,o.cpu),e},this.getDevice=function(){var e={vendor:f,model:f,type:f};return h.rgx.call(e,n,o.device),e},this.getEngine=function(){var e={name:f,version:f};return h.rgx.call(e,n,o.engine),e},this.getOS=function(){var e={name:f,version:f};return h.rgx.call(e,n,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};g.VERSION="0.7.23",g.BROWSER={NAME:t,MAJOR:"major",VERSION:i},g.CPU={ARCHITECTURE:a},g.DEVICE={MODEL:e,VENDOR:o,TYPE:n,CONSOLE:c,MOBILE:s,SMARTTV:u,TABLET:l,WEARABLE:d,EMBEDDED:"embedded"},g.ENGINE={NAME:t,VERSION:i},g.OS={NAME:t,VERSION:i},void 0!==w?(void 0!==_&&_.exports&&(w=_.exports=g),w.UAParser=g):(E=function(){return g}.call(w,O,w,_))===f||(_.exports=E);var v,b=r&&(r.jQuery||r.Zepto);b&&!b.ua&&(v=new g,b.ua=v.getResult(),b.ua.get=function(){return v.getUA()},b.ua.set=function(e){v.setUA(e);var t=v.getResult();for(var n in t)b.ua[n]=t[n]})}("object"==typeof window?window:this)},function(e,t,n){"use strict";n.r(t);n(113),n(11),n(2),n(6),n(120);var o=n(0);n.d(t,"Component",function(){return o.a});var r=n(1);n.d(t,"Libs",function(){return r.a});var i=n(5);n.d(t,"Forms",function(){return i.a});var a=n(109);n.d(t,"ChoicesGuide",function(){return a.ChoicesGuide}),n.d(t,"ChoicesGuideResult",function(){return a.ChoicesGuideResult});var c=n(88);n.d(t,"NLMap",function(){return c.default});var s=n(87);n.d(t,"Lightbox",function(){return s.default});var l=n(114);n.d(t,"IdeasOnMap",function(){return l.default});var u=n(89);n.d(t,"IdeaDetails",function(){return u.default});var f=n(72);n.d(t,"IdeasOverview",function(){return f.default});var d=n(19);n.d(t,"IdeasImage",function(){return d.default});var p=n(79);n.d(t,"PreviousNextButtonBlock",function(){return p.default});var h=n(81);n.d(t,"Poll",function(){return h.default});var m=n(80);n.d(t,"Reactions",function(){return m.default})},function(e,t,n){}]);