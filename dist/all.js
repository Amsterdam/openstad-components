window.OpenStadComponents=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=451)}([function(e,t,n){var v=n(2),m=n(22),g=n(14),y=n(15),b=n(23),_="prototype",E=function(e,t,n){var r,o,i,a,c=e&E.F,s=e&E.G,u=e&E.S,l=e&E.P,f=e&E.B,d=s?v:u?v[t]||(v[t]={}):(v[t]||{})[_],p=s?m:m[t]||(m[t]={}),h=p[_]||(p[_]={});for(r in s&&(n=t),n)i=((o=!c&&d&&void 0!==d[r])?d:n)[r],a=f&&o?b(i,v):l&&"function"==typeof i?b(Function.call,i):i,d&&y(d,r,i,e&E.U),p[r]!=i&&g(p,r,a),l&&h[r]!=i&&(h[r]=i)};v.core=m,E.F=1,E.G=2,E.S=4,E.P=8,E.B=16,E.W=32,E.U=64,E.R=128,e.exports=E},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(57)("wks"),o=n(40),i=n(2).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(25),o=Math.min;e.exports=function(e){return 0<e?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(21),s=n.n(r),o=n(12),i=n.n(o);n(374);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=c(i);return t=a?(e=c(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==u(r)&&"function"!=typeof r?p(n):r}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,i.a.Component);var e,t,n,a=d(c);function c(n){var e,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var o=p(e=a.call(this,n));if(n.attributes&&Object.keys(n.attributes).forEach(function(e){var t=n.attributes[e];o[t.name]=t.value}),"string"==typeof o.config)try{o.config=JSON.parse(o.config)}catch(e){}var i=function t(n){if("object"!=u(n))return n;Object.keys(n).forEach(function(e){void 0!==n[e]&&null!=n[e]||delete n[e],"object"==u(n[e])&&(n[e]=t(n[e]))});return n}(i=n.config||{});return o.config=s.a.recursive({siteId:null,api:{url:null,headers:null,isUserLoggedIn:!1},user:{}},t,r,i),o.divId=o.divId||o.config&&o.config.divId||n.id||"openstad-component-".concat(parseInt(1e8*Math.random())),o.config.divId=null,window[o.divId]=o,e}return e=c,(t=[{key:"componentDidMount",value:function(){}}])&&l(e.prototype,t),n&&l(e,n),c}()},function(e,t,n){e.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(1),o=n(114),i=n(28),a=Object.defineProperty;t.f=n(8)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";n(12),n(38),n(416);var r=n(21),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){var t,n,r=window.location.search.match(/(?:\?|&)jwt=([A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*)(?:&|$)/);return r&&(t=r[1],s.set("osc-jwt",t),"?"==(n=document.location.search.replace("jwt="+t,""))&&(n=""),document.location.search=n),t=s.get("osc-jwt"),e&&e.jwt&&(t=e.jwt,s.set("osc-jwt",t)),t}var c={get:function(e){var t=sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==i(t))try{t=JSON.stringify(t)}catch(e){}sessionStorage.setItem(e,t)}},remove:function(e){sessionStorage.removeItem(e)}},s=c,u={admin:["admin","moderator","editor","member","anonymous","all"],moderator:["moderator","editor","member","anonymous","all"],editor:["editor","member","anonymous","all"],member:["member","anonymous","all"],anonymous:["anonymous","all"],all:["all"],owner:null};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f={get:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==l(t))try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)}},remove:function(e){localStorage.removeItem(e)}},d={api:{getHeaders:function(e){var t=o.a.recursive({"Content-type":"application/json"},e&&e.api&&e.api.headers),n=a();return n&&(t=o.a.recursive({"X-Authorization":"Bearer "+n},t)),t}},user:{getUser:function(e,t){t=t||function(e){console.log("getUser: next not defined."),console.log(e)};var n=e.user||s.get("osc-user");if(n)return t(null,n);var r=a(e);if(!r)return t(null,{});var o="".concat(e.api.url,"/oauth/site/").concat(e.siteId,"/me"),i={"X-Authorization":"Bearer ".concat(r),"Content-Type":"application/json"};fetch(o,{headers:i}).then(function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()}).then(function(e){s.set("osc-user",e),t(null,e)}).catch(function(e){t(e)})},getJWT:a,logout:function(e,t){t=t||function(e){console.log("logout: next not defined.")};var n=e.user||s.get("osc-user");if(n)return t(null,n);var r=a(e);if(!r)return t(null,{});var o=e.api.url+"/oauth/site/"+e.siteId+"/me";fetch(o,{headers:{"X-Authorization":"Bearer "+r,"Content-Type":"application/json"}}).then(function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()}).then(function(e){s.set("osc-user",e),t(null,e)}).catch(function(e){t(e)})},hasRole:function(e,t){var n=e.role;return Object.keys(u).includes(n)||(n="all"),u[n].includes(t)}},ideasSort:function(e){var t=e.ideas,n=e.sortOrder,r=e.center;switch(n=n||"random"){case"title":t=t.sort(function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:t.title.toLowerCase()<e.title.toLowerCase()?1:0});break;case"ranking,asc":t=t.sort(function(e,t){return e.ranking-t.ranking});break;case"likes,asc":t=t.sort(function(e,t){return e.yes-t.yes});break;case"likes,desc":t=t.sort(function(e,t){return t.yes-e.yes});break;case"createdtime,desc":t=t.sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()});break;case"createdtime,asc":t=t.sort(function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()});break;case"distance":(r=r||{lat:52.37104644463586,lng:900402911007405}).coordinates&&(r.lat=r.coordinates[0],r.lng=r.coordinates[1]),t=t.map(function(e){return e._distance=Math.sqrt(Math.pow(e.location.coordinates[0]-r.lat,2)+Math.pow(e.location.coordinates[1]-r.lng,2)),e}).sort(function(e,t){return e._distance-t._distance});break;case"args,desc":t=t.sort(function(e,t){return t.argCount-e.argCount});break;case"args,asc":t=t.sort(function(e,t){return e.argCount-t.argCount});break;case"random":default:t=t.sort(function(e,t){return Math.random()-.5})}return t},localStorage:f,sessionStorage:s,reactTemplate:function(e){var t=e.html,n=void 0===t?"":t,r=e;delete r.html;var o=0;return Object.keys(r).forEach(function(e){var t=new RegExp("^((?:.|\n|\r)*)\\{".concat(e,"\\}((?:.|\n|\r)*)$"),"g").exec(n);t&&(o++,n=React.createElement("span",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:t[1]}}),r[e],React.createElement("span",{dangerouslySetInnerHTML:{__html:t[2]}})))}),0==o&&(n=React.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),n}};t.a=d},function(e,t,n){var r=n(29);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=window.React},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(9),o=n(39);e.exports=n(8)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(2),a=n(14),c=n(17),s=n(40)("src"),r=n(170),o="toString",u=(""+r).split(o);n(22).inspectSource=function(e){return r.call(e)},(e.exports=function(e,t,n,r){var o="function"==typeof n;o&&(c(n,"name")||a(n,"name",t)),e[t]!==n&&(o&&(c(n,s)||a(n,s,e[t]?""+e[t]:u.join(String(t)))),e===i?e[t]=n:r?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,o,function(){return"function"==typeof this&&this[s]||r.call(this)})},function(e,t,n){function r(e,t,n,r){var o=String(a(e)),i="<"+t;return""!==n&&(i+=" "+n+'="'+String(r).replace(c,"&quot;")+'"'),i+">"+o+"</"+t+">"}var o=n(0),i=n(3),a=n(29),c=/"/g;e.exports=function(t,e){var n={};n[t]=e(r),o(o.P+o.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",n)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(58),o=n(29);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(59),o=n(39),i=n(18),a=n(28),c=n(17),s=n(114),u=Object.getOwnPropertyDescriptor;t.f=n(8)?u:function(e,t){if(e=i(e),t=a(t,!0),s)try{return u(e,t)}catch(e){}if(c(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(17),o=n(11),i=n(84)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){(function(e){function t(e,t,n){var r=n[0],o=n.length;!e&&"object"===u(r)||(r={});for(var i=0;i<o;++i){var a,c=n[i];if("object"===u(c))for(var s in c){"__proto__"!==s&&(a=e?l.clone(c[s]):c[s],r[s]=t?function e(t,n){if("object"!==u(t))return n;for(var r in n)"object"===u(t[r])&&"object"===u(n[r])?t[r]=e(t[r],n[r]):t[r]=n[r];return t}(r[s],a):a)}}return r}function u(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}var n,l;n=e&&"object"==typeof e.exports&&e.exports,(l=function(e){return t(!0===e,!1,arguments)}).recursive=function(e){return t(!0===e,!0,arguments)},l.clone=function(e){var t,n,r=e,o=u(e);if("array"===o)for(r=[],n=e.length,t=0;t<n;++t)r[t]=l.clone(e[t]);else if("object"===o)for(t in r={},e)r[t]=l.clone(e[t]);return r},n?e.exports=l:window.merge=l}).call(this,n(373)(e))},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(13);e.exports=function(r,o,e){if(i(r),void 0===o)return r;switch(e){case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(n,e,t){(function(e){function t(e){return e&&e.Math==Math&&e}n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")()}).call(this,t(63))},function(e,t,n){var o=n(4);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var o=n(0),i=n(22),a=n(3);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],r={};r[e]=t(n),o(o.S+o.F*a(function(){n(1)}),"Object",r)}},function(e,t,n){var b=n(23),_=n(58),E=n(11),w=n(6),r=n(100);e.exports=function(f,e){var d=1==f,p=2==f,h=3==f,v=4==f,m=6==f,g=5==f||m,y=e||r;return function(e,t,n){for(var r,o,i=E(e),a=_(i),c=b(t,n,3),s=w(a.length),u=0,l=d?y(e,s):p?y(e,0):void 0;u<s;u++)if((g||u in a)&&(o=c(r=a[u],u,i),f))if(d)l[u]=o;else if(o)switch(f){case 3:return!0;case 5:return r;case 6:return u;case 2:l.push(r)}else if(v)return!1;return m?-1:h||v?v:l}}},function(e,t,n){"use strict";n(12),n(38),n(421);var a=n(7);n(10);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=f(i);return t=a?(e=f(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==c(r)&&"function"!=typeof r?l(n):r}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,a["a"]);var e,t,n,r=u(o);function o(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),l(t=r.call(this,e,{choices:[],name:"",placeholder:"",disabled:!1,required:!1},n)).state={value:null!=c(e.value)?e.value:"",error:null},t.onChange=e.onChange,t}return e=o,(t=[{key:"validate",value:function(e){var t=e.showErrors,n=!this.config.required||!!this.state.value,r=!n&&t?!0:"";return this.setState({isValid:n,error:r}),n}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},t.setState(e,function(){t.validate({})}),"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})}}])&&i(e.prototype,t),n&&i(e,n),o}();function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=g(i);return t=a?(e=g(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==p(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(o,d);var e,t,n,r=m(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var t=this;return React.createElement("input",{type:"hidden",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}})}}])&&h(e.prototype,t),n&&h(e,n),o}(),r=n(404),o=(n(423),n(406)),b=n.n(o),_=n(407),E=n.n(_),w=n(408),O=n.n(w),I=n(409),T=n.n(I);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=k(i);return t=a?(e=k(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==S(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object(r.registerPlugin)(b.a,E.a,O.a,T.a);var L=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(i,d);var e,t,n,o=C(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e,{name:"image",allowMultiple:!1,image:{server:{process:"/image",fetch:"/image"}}});var n=[],r=e.value||[];return Array.isArray(r)||(r=[r]),r.forEach(function(e){var t="object"==S(e)?e.src:e;n.push({source:{url:t},options:{type:"local",file:{name:t},metadata:{poster:t}}})}),t.state={uploadedFiles:n},t}return e=i,(t=[{key:"validate",value:function(){var t=!0;return this.imageuploader&&this.imageuploader.getFiles&&this.imageuploader.getFiles().forEach(function(e){e.serverId||(t=!1)}),t}},{key:"init",value:function(){}},{key:"updateUploadedFiles",value:function(e){e.addFile;var t,n=e.removeFile,r=e.next;this.imageuploader&&this.imageuploader.getFiles&&(t=this.imageuploader.getFiles(),n&&(t=t.filter(function(e){return e.serverId!=n.serverId})),this.setState({uploadedFiles:t.map(function(e){return e.file})},function(){r&&r(t)}))}},{key:"updateValue",value:function(e){var n=[],r=this.config.as&&"json"==this.config.as;e.forEach(function(e){try{var t="string"==typeof e.serverId?JSON.parse(e.serverId):e.serverId;n.push(r?{src:t.url}:t.url)}catch(e){console.log(e)}}),this.handleOnChange({name:this.config.name,value:n})}},{key:"render",value:function(){var t=this,n=this;return React.createElement(r.FilePond,{ref:function(e){return t.imageuploader=e},files:this.state.uploadedFiles,oninit:n.init,onprocessfile:function(e,t){return n.updateUploadedFiles({addFile:t,next:function(e){return n.updateValue(e)}})},onremovefile:function(e,t){return n.updateUploadedFiles({removeFile:t,next:function(e){return n.updateValue(e)}})},name:"image",server:this.config.image.server.process,allowMultiple:this.config.allowMultiple,acceptedFileTypes:["image/*"],allowFileSizeValidation:"true",allowReorder:!0,styleItemPanelAspectRatio:"1",maxFileSize:"8mb",maxFiles:"5",allowBrowse:"true",imageResizeTargetWidth:"80",imageResizeTargetHeight:"80",imageCropAspectRatio:"16:9",labelIdle:"Sleep afbeelding(en) naar deze plek of <span class='filepond--label-action'>KLIK HIER</span>",labelInvalidField:"Field contains invalid files",labelFileWaitingForSize:"Wachtend op grootte",labelFileSizeNotAvailable:"Grootte niet beschikbaar",labelFileCountSingular:"Bestand in lijst",labelFileCountPlural:"Bestanden in lijst",labelFileLoading:"Laden",labelFileAdded:"Toegevoegd",labelFileLoadError:"Fout bij het uploaden",labelFileRemoved:"Verwijderd",labelFileRemoveError:"Fout bij het verwijderen",labelFileProcessing:"Laden",labelFileProcessingComplete:"Afbeelding geladen",labelFileProcessingAborted:"Upload cancelled",labelFileProcessingError:"Error during upload",labelFileProcessingRevertError:"Error during revert",labelTapToCancel:"tap to cancel",labelTapToRetry:"tap to retry",labelTapToUndo:"tap to undo",labelButtonRemoveItem:"Verwijderen",labelButtonAbortItemLoad:"Abort",labelButtonRetryItemLoad:"Retry",labelButtonAbortItemProcessing:"Verwijder",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Retry",labelButtonProcessItem:"Upload"})}}])&&R(e.prototype,t),n&&R(e,n),i}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=N(i);return t=a?(e=N(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==M(r)&&"function"!=typeof r?j(n):r}}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(o,a["a"]);var e,t,n,r=A(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={value:t.props.value},t.onKeyUpx=t.onKeyUpx.bind(j(t)),t}return e=o,(t=[{key:"componentDidMount",value:function(){var e=this.props.value,e=this.filterHTML(e);this.input.innerHTML=e}},{key:"filterHTML",value:function(e){return e=(e=(e=e.replace(/<(\/?\s*(?:a [^>]+|a|b|i|strong|em|p|div|br|ul|li)\s*\/?)>/g,"[[[$1]]]")).replace(/<[^>]+>/g,"")).replace(/\[\[\[([^\]]+)\]\]\]/g,"<$1>")}},{key:"executeAction",value:function(e,t,n){e.preventDefault(),e.stopPropagation(),document.execCommand(t,!1,n),this.onKeyUp()}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e),this.props.onChange&&this.props.onChange({value:this.state.value})}},{key:"onKeyUpx",value:function(){var e=this.input.innerHTML,e=this.filterHTML(e);this.setState({value:e}),this.props.onKeyUp&&this.props.onKeyUp(e)}},{key:"render",value:function(){var t=this;return React.createElement("div",{className:"osc-html-editor"},React.createElement("div",{className:"osc-html-editor-buttons"},React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-bold",onMouseDown:function(e){return t.executeAction(e,"bold")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-italic",onMouseDown:function(e){return t.executeAction(e,"italic")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-insertunorderedlist",onMouseDown:function(e){return t.executeAction(e,"insertunorderedlist")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-createlink",onMouseDown:function(e){return t.executeAction(e,"createlink",prompt("Lank naar","http://"))}}," ")),React.createElement("div",{className:"osc-html-editor-content",contentEditable:!0,onFocus:function(e){return t.onFocus(e)},onBlur:function(e){return t.onBlur(e)},onKeyUp:function(){return t.onKeyUpx()},ref:function(e){return t.input=e}}))}}])&&x(e.prototype,t),n&&x(e,n),o}();function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=H(i);return t=a?(e=H(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==G(r)&&"function"!=typeof r?V(n):r}}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(o,a["a"]);var e,t,n,r=U(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=V(t=r.call(this,e,{name:"tekst",inputType:"input",minLength:5,maxLength:1024,placeholder:""}));return n.id=e.id||"osc-formfields-plaintext-with-counter-"+parseInt(1e6*Math.random()),n.state={focused:!1,value:e.value||"",valueLength:e.value&&e.value.length||0},n.key=e.useKey||(n.id||"osc-input-with-counter-")+parseInt(1e7*Math.random),t.onChange=e.onChange,n.handleOnChange=n.handleOnChange.bind(V(t)),n.onInputFocus=n.onInputFocus.bind(V(t)),n.onInputBlur=n.onInputBlur.bind(V(t)),n.onInputKeyUp=n.onInputKeyUp.bind(V(t)),t}return e=o,(t=[{key:"isValid",value:function(){var e={isValid:!0,warning:null};return this.state.value.length<this.config.minLength&&(e.warning="De tekst is te kort",e.isValid=!1),this.state.value.length>this.config.maxLength&&(e.warning="De tekst is te lang",e.isValid=!1),this.setState(e),e.isValid}},{key:"validate",value:function(){return this.setState({showWarning:!0}),this.isValid()}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},this.setState(e,function(){"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})})}},{key:"onInputFocus",value:function(){var e={focused:!0,showWarning:!1};this.setState(e)}},{key:"onInputBlur",value:function(){var e={focused:!1};this.setState(e)}},{key:"onInputKeyUp",value:function(e){var t={};t.value=e||this.input.value,t.isValid=t.value.length>=this.config.minLength&&t.value.length<=this.config.maxLength,this.setState(t)}},{key:"render",value:function(){var e,t=this,n=this,r=null,o=null;n.state.focused&&(r=n.state.value.length<n.config.minLength?React.createElement("div",{className:"osc-form-counter osc-form-error"},"Nog minimaal ",React.createElement("span",{className:""},n.config.minLength-n.state.value.length)," tekens"):(e=n.state.value.length>n.config.maxLength?"osc-form-error":"",React.createElement("div",{className:"osc-form-counter "+e},"Je hebt nog ",React.createElement("span",{className:""},n.config.maxLength-n.state.value.length)," tekens over."))),n.state.showWarning&&n.state.warning&&(o=React.createElement("div",{className:"osc-form-warning",ref:function(e){return t["form-warning"]=e}},n.state.warning));var i=null;switch(n.config.inputType){case"htmlarea":i=React.createElement(F,{value:this.state.value,onChange:n.handleOnChange,onFocus:n.onInputFocus,onBlur:n.onInputBlur,onKeyUp:n.onInputKeyUp});break;case"textarea":i=React.createElement("textarea",{key:n.key,ref:function(e){return n.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return n.handleOnChange({value:n.input.value})},onKeyUp:function(){return n.onInputKeyUp()},onFocus:function(e){return n.onInputFocus(e)},onBlur:function(e){return n.onInputBlur(e)}});break;case"input":default:i=React.createElement("input",{key:n.key,ref:function(e){return n.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return n.handleOnChange({value:n.input.value})},onKeyUp:function(){return n.onInputKeyUp()},onFocus:function(e){return n.onInputFocus(e)},onBlur:function(e){return n.onInputBlur(e)}})}return React.createElement("div",{id:n.id,ref:function(e){return n.instance=e},className:"osc-input-with-counter"},React.createElement("div",{className:"osc-form-feedback"},i,r,o))}}])&&B(e.prototype,t),n&&B(e,n),o}();function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=Q(i);return t=a?(e=Q(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==z(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(o,d);var e,t,n,r=X(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-radios"},t.config.choices.map(function(e){return e.dangerousDescription?React.createElement("div",{className:"osc-radio-container",key:e.value},React.createElement("div",{className:"osc-radio-input".concat(t.state.value==e.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:t.divId,value:e.value,onChange:function(){return t.handleOnChange({value:e.value})}})),React.createElement("div",{className:"osc-radio-text",dangerouslySetInnerHTML:{__html:e.dangerousDescription}})):React.createElement("div",{className:"osc-radio-container",key:e.value},React.createElement("div",{className:"osc-radio-input".concat(t.state.value==e.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:t.divId,value:e.value,onChange:function(){return t.handleOnChange({value:e.value})}})),React.createElement("div",{className:"osc-radio-text"},e.dangerousDescription?null:e.description||e.title||e.value))}),e)}}])&&Y(e.prototype,t),n&&Y(e,n),o}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=ne(i);return t=a?(e=ne(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==Z(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(o,d);var e,t,n,r=te(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return e=o,(t=[{key:"validate",value:function(e){var t=e.showErrors,n=!0,r="";return this.state.value&&this.state.value.match(/^\s*\d{4}\s*[a-zA-Z][a-zA-Z]\s*$/)||(n=!1,t&&(r="Dit is geen postcode")),this.config.required&&!this.state.value&&(n=!1,t&&(r="Je hebt nog niets ingevuld")),this.setState({isValid:n,error:r}),n}},{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},t.state.error)),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}}),e)}}])&&$(e.prototype,t),n&&$(e,n),o}();function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=se(i);return t=a?(e=se(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==oe(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(o,d);var e,t,n,r=ce(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return e=o,(t=[{key:"componentDidMount",value:function(){var e=this.state.value||this.config.choices[0]&&this.config.choices[0].value;this.handleOnChange({value:e})}},{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-select"},React.createElement("select",{value:this.state.value||"",disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}},t.config.choices.map(function(e,t){var n=e.description||e.title||e.value;return React.createElement("option",{value:e.value||"",key:"".concat(n,"-").concat(e.value,"-").concat(t)},n)})),e)}}])&&ie(e.prototype,t),n&&ie(e,n),o}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=he(i);return t=a?(e=he(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==le(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(o,d);var e,t,n,r=pe(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}}),e)}}])&&fe(e.prototype,t),n&&fe(e,n),o}();function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=_e(i);return t=a?(e=_e(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==me(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ee=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(o,d);var e,t,n,r=be(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textarea"},React.createElement("textarea",{value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}},this.state.value),e)}}])&&ge(e.prototype,t),n&&ge(e,n),o}();function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ie(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):Oe(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=Ce(i);return t=a?(e=Ce(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==we(r)&&"function"!=typeof r?Pe(n):r}}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(o,a["a"]);var e,t,n,r=Re(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=Pe(t=r.call(this,e,{inputType:null,validateAction:null,changeAction:null,required:!1,title:null,description:null,choices:[]}));return n.config.name=n.config.name||n.config.title.toLowerCase(),n.state={value:e.initValue||void 0},n.handleOnChange=n.handleOnChange.bind(n),n.onChange=e.onChange,t}return e=o,(t=[{key:"validate",value:function(e){var t=e.showErrors;return!this.input||this.input.validate({showErrors:t})}},{key:"handleOnChange",value:function(e){"function"==typeof this.onChange&&this.onChange(e)}},{key:"render",value:function(){var t=this,e=null;t.config.title&&(e=React.createElement("h3",{className:"osc-form-title"},t.config.title));var n=null;t.config.description&&(n=React.createElement("div",{className:"osc-form-description",dangerouslySetInnerHTML:{__html:t.config.description}}));var r=null;switch(t.config.inputType){case"hidden":r=React.createElement(y,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"html-with-counter":case"htmlarea-with-counter":r=React.createElement(W,{config:Ie(Ie({},t.config),{},{inputType:"htmlarea"}),value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"image-upload":r=React.createElement(L,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"input-with-counter":case"text-with-counter":r=React.createElement(W,{config:Ie({inputType:"input"},t.config),value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"postcode":r=React.createElement(re,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"radios":r=React.createElement(J,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"select":case"multiple-choice":r=React.createElement(ue,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"text":r=React.createElement(ve,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"textarea":r=React.createElement(Ee,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"textarea-with-counter":r=React.createElement(W,{config:Ie(Ie({},t.config),{},{inputType:"textarea"}),value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;default:console.log("Form field "+t.config.inputType+"not yet implemented")}return React.createElement("div",{id:t.id,ref:function(e){return t.instance=e},className:"osc-form-field"},e,n,r)}}])&&Te(e.prototype,t),n&&Te(e,n),o}();function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=Fe(i);return t=a?(e=Fe(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==Le(r)&&"function"!=typeof r?Ne(n):r}}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ge=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(i,a["a"]);var e,t,n,o=je(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=Ne(t=o.call(this,e,{title:null,intro:null,fields:[]})),r=e.values;return!r&&n.config.fields&&n.config.fields.length&&(r={},n.config.fields.map(function(e,t){var n=e.name||e.title.toLowerCase();r[n]=e.value})),n.state={values:r||{}},n.handleOnChange=n.handleOnChange.bind(Ne(t)),n.fields=[],t}return e=i,(t=[{key:"getValues",value:function(){return this.state.values}},{key:"validate",value:function(e){var t=e.showErrors,n=e.scrollTo,r=!0,o=null;return this.fields.forEach(function(e){e.validate({showErrors:t})||(r=!1,o=o||e)}),n&&o&&o.instance&&o.instance.scrollIntoView&&o.instance.scrollIntoView({behavior:"smooth"}),r}},{key:"handleOnChange",value:function(e){var t=this,n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Me(Object(n),!0).forEach(function(e){xe(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.state.values);n[e.name]=e.value,this.setState({values:n},function(){"function"==typeof t.props.onChange&&t.props.onChange(e)})}},{key:"render",value:function(){var n=this,e=null;n.config.title&&(e=React.createElement("h2",{className:"osc-form-title"},n.config.title));var t=null;n.config.intro&&(t=React.createElement("div",{className:"osc-form-intro",dangerouslySetInnerHTML:{__html:n.config.intro}}));var r=null;return n.config.fields&&n.config.fields.length&&(r=React.createElement("div",{className:"osc-form-fields"},n.config.fields.map(function(e,t){return React.createElement(ke,xe({config:e,initValue:e.value,onChange:n.handleOnChange,ref:function(e){return n.input=e},key:"osc-form-field-".concat(t)},"ref",function(e){n.fields[t]=e}))}))),React.createElement("div",{id:n.divId,className:"osc-form",ref:function(e){return n.instance=e}},e,t,r)}}])&&De(e.prototype,t),n&&De(e,n),i}();function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=We(i);return t=a?(e=We(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==Be(r)&&"function"!=typeof r?He(n):r}}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ze=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(o,a["a"]);var e,t,n,r=Ve(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={value:t.props.value,touched:t.props.touched||!1},t.handleChange=t.handleChange.bind(He(t)),t}return e=o,(t=[{key:"handleChange",value:function(e){var t=e.target.value;"function"==typeof this.props.onChange&&this.props.onChange(t),this.setState({value:t,touched:!0})}},{key:"doTouch",value:function(){"function"==typeof this.props.onChange&&this.props.onChange(50),this.setState({touched:!0})}},{key:"calcProgress",value:function(e,t,n){return 2*(n-e)/(t-e)-1}},{key:"render",value:function(){var t=this,e=t.state,n=e.value,r=e.touched,o=t.props,i=o.min,a=o.max,c=o.step;return React.createElement("div",{className:"".concat(t.props.className," osc-slider")},React.createElement("div",{className:"osc-slider-track-container"},React.createElement("div",{className:"osc-slider-track"}),React.createElement("div",{className:"osc-slider-track-progress-container"},React.createElement("div",{className:"osc-slider-track-progress",style:{transform:"scaleX("+t.calcProgress(i,a,n)+")"}})),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-left"}),React.createElement("div",{className:"osc-slider-track-dot-start osc-slider-track-dot-center"}),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-right"})),React.createElement("input",{type:"range",min:i,max:a,step:c,value:n,onClick:function(){r||t.doTouch()},onChange:t.handleChange,className:r?"osc-slider-input-range":"osc-slider-input-range osc-slider-untouched",ref:function(e){return t.input=e}}))}}])&&qe(e.prototype,t),n&&qe(e,n),o}();t.a={Form:Ge,FormField:ke,Hidden:y,ImageUpload:L,InputWithCounter:W,Postcode:re,Radios:J,Select:ue,Text:ve,Textarea:Ee,Slider:ze}},function(e,t,n){"use strict";var g,y,b,_,E,r,h,w,o,O,i,a,I,T,c,s,u,S,R,v,m,P,C,k,L,l,f,d,p,M,x,D,A,j,N,F,G,B,q,U,V,H,W,z,Y,K,X,Q,J,Z,$,ee,te,ne,re,oe,ie,ae,ce,se,ue,le,fe,de,pe,he,ve,me,ge,ye,be,_e,Ee,we,Oe,Ie,Te,Se,Re,Pe,Ce,ke,Le,Me,xe,De,Ae,je,Ne,Fe,Ge,Be,qe,Ue,Ve,He,We,ze;n(8)?(g=n(35),y=n(2),b=n(3),_=n(0),E=n(74),r=n(108),h=n(23),w=n(46),o=n(39),O=n(14),i=n(48),a=n(25),I=n(6),T=n(142),c=n(42),s=n(28),u=n(17),S=n(52),R=n(4),v=n(11),m=n(97),P=n(43),C=n(20),k=n(44).f,L=n(99),l=n(40),f=n(5),d=n(31),p=n(64),M=n(61),x=n(102),D=n(54),A=n(69),j=n(45),N=n(101),F=n(131),G=n(9),B=n(19),q=G.f,U=B.f,V=y.RangeError,H=y.TypeError,W=y.Uint8Array,Y="Shared"+(z="ArrayBuffer"),K="BYTES_PER_ELEMENT",X="prototype",Q=Array[X],J=r.ArrayBuffer,Z=r.DataView,$=d(0),ee=d(2),te=d(3),ne=d(4),re=d(5),oe=d(6),ie=p(!0),ae=p(!1),ce=x.values,se=x.keys,ue=x.entries,le=Q.lastIndexOf,fe=Q.reduce,de=Q.reduceRight,pe=Q.join,he=Q.sort,ve=Q.slice,me=Q.toString,ge=Q.toLocaleString,ye=f("iterator"),be=f("toStringTag"),_e=l("typed_constructor"),Ee=l("def_constructor"),we=E.CONSTR,Oe=E.TYPED,Ie=E.VIEW,Te="Wrong length!",Se=d(1,function(e,t){return Le(M(e,e[Ee]),t)}),Re=b(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),Pe=!!W&&!!W[X].set&&b(function(){new W(1).set({})}),Ce=function(e,t){var n=a(e);if(n<0||n%t)throw V("Wrong offset!");return n},ke=function(e){if(R(e)&&Oe in e)return e;throw H(e+" is not a typed array!")},Le=function(e,t){if(!(R(e)&&_e in e))throw H("It is not a typed array constructor!");return new e(t)},Me=function(e,t){return xe(M(e,e[Ee]),t)},xe=function(e,t){for(var n=0,r=t.length,o=Le(e,r);n<r;)o[n]=t[n++];return o},De=function(e,t,n){q(e,t,{get:function(){return this._d[n]}})},Ae=function(e,t,n){var r,o,i,a,c,s,u=v(e),l=arguments.length,f=1<l?t:void 0,d=void 0!==f,p=L(u);if(null!=p&&!m(p)){for(s=p.call(u),i=[],r=0;!(c=s.next()).done;r++)i.push(c.value);u=i}for(d&&2<l&&(f=h(f,n,2)),r=0,o=I(u.length),a=Le(this,o);r<o;r++)a[r]=d?f(u[r],r):u[r];return a},je=function(){for(var e=0,t=arguments.length,n=Le(this,t);e<t;)n[e]=arguments[e++];return n},Ne=!!W&&b(function(){ge.call(new W(1))}),Fe=function(){return ge.apply(Ne?ve.call(ke(this)):ke(this),arguments)},Ge={copyWithin:function(e,t,n){return F.call(ke(this),e,t,2<arguments.length?n:void 0)},every:function(e,t){return ne(ke(this),e,1<arguments.length?t:void 0)},fill:function(e){return N.apply(ke(this),arguments)},filter:function(e,t){return Me(this,ee(ke(this),e,1<arguments.length?t:void 0))},find:function(e,t){return re(ke(this),e,1<arguments.length?t:void 0)},findIndex:function(e,t){return oe(ke(this),e,1<arguments.length?t:void 0)},forEach:function(e,t){$(ke(this),e,1<arguments.length?t:void 0)},indexOf:function(e,t){return ae(ke(this),e,1<arguments.length?t:void 0)},includes:function(e,t){return ie(ke(this),e,1<arguments.length?t:void 0)},join:function(e){return pe.apply(ke(this),arguments)},lastIndexOf:function(e){return le.apply(ke(this),arguments)},map:function(e,t){return Se(ke(this),e,1<arguments.length?t:void 0)},reduce:function(e){return fe.apply(ke(this),arguments)},reduceRight:function(e){return de.apply(ke(this),arguments)},reverse:function(){for(var e,t=this,n=ke(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e,t){return te(ke(this),e,1<arguments.length?t:void 0)},sort:function(e){return he.call(ke(this),e)},subarray:function(e,t){var n=ke(this),r=n.length,o=c(e,r);return new(M(n,n[Ee]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,I((void 0===t?r:c(t,r))-o))}},Be=function(e,t){return Me(this,ve.call(ke(this),e,t))},qe=function(e,t){ke(this);var n=Ce(t,1),r=this.length,o=v(e),i=I(o.length),a=0;if(r<i+n)throw V(Te);for(;a<i;)this[n+a]=o[a++]},Ue={entries:function(){return ue.call(ke(this))},keys:function(){return se.call(ke(this))},values:function(){return ce.call(ke(this))}},Ve=function(e,t){return R(e)&&e[Oe]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},He=function(e,t){return Ve(e,t=s(t,!0))?o(2,e[t]):U(e,t)},We=function(e,t,n){return!(Ve(e,t=s(t,!0))&&R(n)&&u(n,"value"))||u(n,"get")||u(n,"set")||n.configurable||u(n,"writable")&&!n.writable||u(n,"enumerable")&&!n.enumerable?q(e,t,n):(e[t]=n.value,e)},we||(B.f=He,G.f=We),_(_.S+_.F*!we,"Object",{getOwnPropertyDescriptor:He,defineProperty:We}),b(function(){me.call({})})&&(me=ge=function(){return pe.call(this)}),ze=i({},Ge),i(ze,Ue),O(ze,ye,Ue.values),i(ze,{slice:Be,set:qe,constructor:function(){},toString:me,toLocaleString:Fe}),De(ze,"buffer","b"),De(ze,"byteOffset","o"),De(ze,"byteLength","l"),De(ze,"length","e"),q(ze,be,{get:function(){return this[Oe]}}),e.exports=function(e,f,t,i){function d(e,o){q(e,o,{get:function(){return e=o,(t=this._d).v[n](e*f+t.o,Re);var e,t},set:function(e){return t=o,n=e,r=this._d,i&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),void r.v[a](t*f+r.o,n,Re);var t,n,r},enumerable:!0})}var p=e+((i=!!i)?"Clamped":"")+"Array",n="get"+e,a="set"+e,h=y[p],c=h||{},r=h&&C(h),o=!h||!E.ABV,s={},u=h&&h[X];o?(h=t(function(e,t,n,r){w(e,h,p,"_d");var o,i,a,c,s=0,u=0;if(R(t)){if(!(t instanceof J||(c=S(t))==z||c==Y))return Oe in t?xe(h,t):Ae.call(h,t);o=t,u=Ce(n,f);var l=t.byteLength;if(void 0===r){if(l%f)throw V(Te);if((i=l-u)<0)throw V(Te)}else if(l<(i=I(r)*f)+u)throw V(Te);a=i/f}else a=T(t),o=new J(i=a*f);for(O(e,"_d",{b:o,o:u,l:i,e:a,v:new Z(o)});s<a;)d(e,s++)}),u=h[X]=P(ze),O(u,"constructor",h)):b(function(){h(1)})&&b(function(){new h(-1)})&&A(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=t(function(e,t,n,r){var o;return w(e,h,p),R(t)?t instanceof J||(o=S(t))==z||o==Y?void 0!==r?new c(t,Ce(n,f),r):void 0!==n?new c(t,Ce(n,f)):new c(t):Oe in t?xe(h,t):Ae.call(h,t):new c(T(t))}),$(r!==Function.prototype?k(c).concat(k(r)):k(c),function(e){e in h||O(h,e,c[e])}),h[X]=u,g||(u.constructor=h));var l=u[ye],v=!!l&&("values"==l.name||null==l.name),m=Ue.values;O(h,_e,!0),O(u,Oe,p),O(u,Ie,!0),O(u,Ee,h),(i?new h(1)[be]==p:be in u)||q(u,be,{get:function(){return p}}),s[p]=h,_(_.G+_.W+_.F*(h!=c),s),_(_.S,p,{BYTES_PER_ELEMENT:f}),_(_.S+_.F*b(function(){c.of.call(h,1)}),p,{from:Ae,of:je}),K in u||O(u,K,f),_(_.P,p,Ge),j(p),_(_.P+_.F*Pe,p,{set:qe}),_(_.P+_.F*!v,p,Ue),g||u.toString==me||(u.toString=me),_(_.P+_.F*b(function(){new h(1).slice()}),p,{slice:Be}),_(_.P+_.F*(b(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!b(function(){u.toLocaleString.call([1,2])})),p,{toLocaleString:Fe}),D[p]=v?l:m,g||v||O(u,ye,m)}):e.exports=function(){}},function(e,t,n){function o(e,t,n){var r=c.get(e);if(!r){if(!n)return;c.set(e,r=new i)}var o=r.get(t);if(!o){if(!n)return;r.set(t,o=new i)}return o}var i=n(137),r=n(0),a=n(57)("metadata"),c=a.store||(a.store=new(n(140)));e.exports={store:c,map:o,has:function(e,t,n){var r=o(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=o(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){o(n,r,!0).set(e,t)},keys:function(e,t){var n=o(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){r(r.S,"Reflect",e)}}},function(e,t){e.exports=!1},function(e,t,n){function r(e){c(e,o,{value:{i:"O"+ ++s,w:{}}})}var o=n(40)("meta"),i=n(4),a=n(17),c=n(9).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(3)(function(){return u(Object.preventExtensions({}))}),f=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,o)){if(!u(e))return"F";if(!t)return"E";r(e)}return e[o].i},getWeak:function(e,t){if(!a(e,o)){if(!u(e))return!0;if(!t)return!1;r(e)}return e[o].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!a(e,o)&&r(e),e}}},function(e,t,n){var r=n(5)("unscopables"),o=Array.prototype;null==o[r]&&n(14)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t){e.exports=window.ReactDOM},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(116),o=n(85);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(25),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,r){function o(){}var i=r(1),a=r(117),c=r(85),s=r(84)("IE_PROTO"),u="prototype",l=function(){var e,t=r(82)("iframe"),n=c.length;for(t.style.display="none",r(86).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[u][c[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(o[u]=i(e),n=new o,o[u]=null,n[s]=e):n=l(),void 0===t?n:a(n,t)}},function(e,t,n){var r=n(116),o=n(85).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){"use strict";var r=n(2),o=n(9),i=n(8),a=n(5)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var d=n(23),p=n(129),h=n(97),v=n(1),m=n(6),g=n(99),y={},b={};(t=e.exports=function(e,t,n,r,o){var i,a,c,s,u=o?function(){return e}:g(e),l=d(n,r,t?2:1),f=0;if("function"!=typeof u)throw TypeError(e+" is not iterable!");if(h(u)){for(i=m(e.length);f<i;f++)if((s=t?l(v(a=e[f])[0],a[1]):l(e[f]))===y||s===b)return s}else for(c=u.call(e);!(a=c.next()).done;)if((s=p(c,l,a.value,t))===y||s===b)return s}).BREAK=y,t.RETURN=b},function(e,t,n){var o=n(15);e.exports=function(e,t,n){for(var r in t)o(e,r,t[r],n);return e}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(9).f,o=n(17),i=n(5)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var o=n(24),i=n(5)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){function r(e,t,n){var r={},o=c(function(){return!!s[e]()||"​"!="​"[e]()}),i=r[e]=o?t(f):s[e];n&&(r[n]=i),a(a.P+a.F*o,"String",r)}var a=n(0),o=n(29),c=n(3),s=n(88),i="["+s+"]",u=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),f=r.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=r},function(e,t){e.exports={}},function(e,t,n){var r=n(56);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(22),o=n(2),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(35)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(24);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var r=n(1);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var o=n(1),i=n(13),a=n(5)("species");e.exports=function(e,t){var n,r=o(e).constructor;return void 0===r||null==(n=o(r)[a])?t:i(n)}},function(e,t,n){e.exports=n(366).Promise},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var s=n(18),u=n(6),l=n(42);e.exports=function(c){return function(e,t,n){var r,o=s(e),i=u(o.length),a=l(n,i);if(c&&t!=t){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((c||a in o)&&o[a]===t)return c||a||0;return!c&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(24);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var s=n(25),u=n(29);e.exports=function(c){return function(e,t){var n,r,o=String(u(e)),i=s(t),a=o.length;return i<0||a<=i?c?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?c?o.charAt(i):n:c?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){var r=n(4),o=n(24),i=n(5)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var i=n(5)("iterator"),a=!1;try{var r=[7][i]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],o=r[i]();o.next=function(){return{done:n=!0}},r[i]=function(){return o},e(r)}catch(e){}return n}},function(e,t,n){"use strict";var o=n(52),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==o(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){"use strict";n(133);var l=n(15),f=n(14),d=n(3),p=n(29),h=n(5),v=n(103),m=h("species"),g=!d(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),y=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(n,e,t){var i,r,o,a,c=h(n),s=!d(function(){var e={};return e[c]=function(){return 7},7!=""[n](e)}),u=s?!d(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===n&&(t.constructor={},t.constructor[m]=function(){return t}),t[c](""),!e}):void 0;s&&u&&("replace"!==n||g)&&("split"!==n||y)||(i=/./[c],o=(r=t(p,c,""[n],function(e,t,n,r,o){return t.exec===v?s&&!o?{done:!0,value:i.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}))[0],a=r[1],l(String.prototype,n,o),f(RegExp.prototype,c,2==e?function(e,t){return a.call(e,this,t)}:function(e){return a.call(e,this)}))}},function(e,t,n){var r=n(2).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var g=n(2),y=n(0),b=n(15),_=n(48),E=n(36),w=n(47),O=n(46),I=n(4),T=n(3),S=n(69),R=n(51),P=n(89);e.exports=function(r,e,t,n,o,i){function a(e){var n=v[e];b(v,e,"delete"==e?function(e){return!(i&&!I(e))&&n.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!I(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!I(e)?void 0:n.call(this,0===e?0:e)}:"add"==e?function(e){return n.call(this,0===e?0:e),this}:function(e,t){return n.call(this,0===e?0:e,t),this})}var c,s,u,l,f,d=g[r],p=d,h=o?"set":"add",v=p&&p.prototype,m={};return"function"==typeof p&&(i||v.forEach&&!T(function(){(new p).entries().next()}))?(s=(c=new p)[h](i?{}:-0,1)!=c,u=T(function(){c.has(1)}),l=S(function(e){new p(e)}),f=!i&&T(function(){for(var e=new p,t=5;t--;)e[h](t,t);return!e.has(-0)}),l||(((p=e(function(e,t){O(e,p,r);var n=P(new d,e,p);return null!=t&&w(t,o,n[h],n),n})).prototype=v).constructor=p),(u||f)&&(a("delete"),a("has"),o&&a("get")),(f||s)&&a(h),i&&v.clear&&delete v.clear):(p=n.getConstructor(e,r,o,h),_(p.prototype,t),E.NEED=!0),R(p,r),m[r]=p,y(y.G+y.W+y.F*(p!=d),m),i||n.setStrong(p,r,o),p}},function(e,t,n){for(var r,o=n(2),i=n(14),a=n(40),c=a("typed_array"),s=a("view"),u=!(!o.ArrayBuffer||!o.DataView),l=u,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=o[d[f++]])?(i(r.prototype,c,!0),i(r.prototype,s,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:c,VIEW:s}},function(e,t,n){"use strict";e.exports=n(35)||!n(3)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(2)[e]})},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(0),s=n(13),u=n(23),l=n(47);e.exports=function(e){r(r.S,e,{from:function(e,t,n){var r,o,i,a,c=t;return s(this),(r=void 0!==c)&&s(c),null==e?new this:(o=[],r?(i=0,a=u(c,n,2),l(e,!1,function(e){o.push(a(e,i++))})):l(e,!1,o.push,o),new this(o))}})}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(55),o=n(80),i=n(151);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(55),o=n(153),i=n(81),a=n(152),c=Object.defineProperty;t.f=r?c:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(78);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(4),o=n(2).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(2),o=n(22),i=n(35),a=n(115),c=n(9).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=!i&&r.Symbol||{});"_"==e.charAt(0)||e in t||c(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(57)("keys"),o=n(40);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(2).document;e.exports=r&&r.documentElement},function(e,t,o){function i(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=o(4),r=o(1);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=o(23)(Function.call,o(19).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return i(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:i}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var i=n(4),a=n(87).set;e.exports=function(e,t,n){var r,o=t.constructor;return o!==n&&"function"==typeof o&&(r=o.prototype)!==n.prototype&&i(r)&&a&&a(e,r),e}},function(e,t,n){"use strict";var o=n(25),i=n(29);e.exports=function(e){var t=String(i(this)),n="",r=o(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){"use strict";function b(){return this}var _=n(35),E=n(0),w=n(15),O=n(14),I=n(54),T=n(94),S=n(51),R=n(20),P=n(5)("iterator"),C=!([].keys&&"next"in[].keys()),k="values";e.exports=function(e,t,n,r,o,i,a){T(n,t,r);function c(e){if(!C&&e in h)return h[e];switch(e){case"keys":case k:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var s,u,l,f=t+" Iterator",d=o==k,p=!1,h=e.prototype,v=h[P]||h["@@iterator"]||o&&h[o],m=v||c(o),g=o?d?c("entries"):m:void 0,y="Array"==t&&h.entries||v;if(y&&(l=R(y.call(new e)))!==Object.prototype&&l.next&&(S(l,f,!0),_||"function"==typeof l[P]||O(l,P,b)),d&&v&&v.name!==k&&(p=!0,m=function(){return v.call(this)}),_&&!a||!C&&!p&&h[P]||O(h,P,m),I[t]=m,I[f]=b,o)if(s={values:d?m:c(k),keys:i?m:c("keys"),entries:g},a)for(u in s)u in h||w(h,u,s[u]);else E(E.P+E.F*(C||p),t,s);return s}},function(e,t,n){"use strict";var r=n(43),o=n(39),i=n(51),a={};n(14)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(68),o=n(29);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(5)("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(e){}}return!0}},function(e,t,n){var r=n(54),o=n(5)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){"use strict";var r=n(9),o=n(39);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(52),o=n(5)("iterator"),i=n(54);e.exports=n(22).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(259);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var u=n(11),l=n(42),f=n(6);e.exports=function(e,t,n){for(var r=u(this),o=f(r.length),i=arguments.length,a=l(1<i?t:void 0,o),c=2<i?n:void 0,s=void 0===c?o:l(c,o);a<s;)r[a++]=e;return r}},function(e,t,n){"use strict";var r=n(37),o=n(132),i=n(54),a=n(18);e.exports=n(93)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r,o,a=n(60),c=RegExp.prototype.exec,s=String.prototype.replace,i=c,u="lastIndex",l=(r=/a/,o=/b*/g,c.call(r,"a"),c.call(o,"a"),0!==r[u]||0!==o[u]),f=void 0!==/()??/.exec("")[1];(l||f)&&(i=function(e){var t,n,r,o,i=this;return f&&(n=new RegExp("^"+i.source+"$(?!\\s)",a.call(i))),l&&(t=i[u]),r=c.call(i,e),l&&r&&(i[u]=i.global?r.index+r[0].length:t),f&&r&&1<r.length&&s.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}),e.exports=i},function(e,t,n){"use strict";var r=n(67)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){function r(){var e,t=+this;b.hasOwnProperty(t)&&(e=b[t],delete b[t],e())}function o(e){r.call(e.data)}var i,a,c,s=n(23),u=n(122),l=n(86),f=n(82),d=n(2),p=d.process,h=d.setImmediate,v=d.clearImmediate,m=d.MessageChannel,g=d.Dispatch,y=0,b={},_="onreadystatechange";h&&v||(h=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return b[++y]=function(){u("function"==typeof e?e:Function(e),t)},i(y),y},v=function(e){delete b[e]},"process"==n(24)(p)?i=function(e){p.nextTick(s(r,e,1))}:g&&g.now?i=function(e){g.now(s(r,e,1))}:m?(c=(a=new m).port2,a.port1.onmessage=o,i=s(c.postMessage,c,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(i=function(e){d.postMessage(e+"","*")},d.addEventListener("message",o,!1)):i=_ in f("script")?function(e){l.appendChild(f("script"))[_]=function(){l.removeChild(this),r.call(e)}}:function(e){setTimeout(s(r,e,1),0)}),e.exports={set:h,clear:v}},function(e,t,n){var c=n(2),s=n(105).set,u=c.MutationObserver||c.WebKitMutationObserver,l=c.process,f=c.Promise,d="process"==n(24)(l);e.exports=function(){function e(){var e,t;for(d&&(e=l.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?o():r=void 0,e}}r=void 0,e&&e.enter()}var n,r,t,o,i,a;return o=d?function(){l.nextTick(e)}:!u||c.navigator&&c.navigator.standalone?f&&f.resolve?(t=f.resolve(void 0),function(){t.then(e)}):function(){s.call(c,e)}:(i=!0,a=document.createTextNode(""),new u(e).observe(a,{characterData:!0}),function(){a.data=i=!i}),function(e){var t={fn:e,next:void 0};r&&(r.next=t),n||(n=t,o()),r=t}}},function(e,t,n){"use strict";var o=n(13);function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=o(n),this.reject=o(r)}e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";var r=n(2),o=n(8),i=n(35),a=n(74),c=n(14),s=n(48),u=n(3),l=n(46),f=n(25),d=n(6),p=n(142),h=n(44).f,v=n(9).f,m=n(101),g=n(51),y="ArrayBuffer",b="DataView",_="prototype",E="Wrong index!",w=r[y],O=r[b],I=r.Math,T=r.RangeError,S=r.Infinity,R=w,P=I.abs,C=I.pow,k=I.floor,L=I.log,M=I.LN2,x="byteLength",D="byteOffset",A=o?"_b":"buffer",j=o?"_l":x,N=o?"_o":D;function F(e,t,n){var r,o,i,a=new Array(n),c=8*n-t-1,s=(1<<c)-1,u=s>>1,l=23===t?C(2,-24)-C(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=P(e))!=e||e===S?(o=e!=e?1:0,r=s):(r=k(L(e)/M),e*(i=C(2,-r))<1&&(r--,i*=2),2<=(e+=1<=r+u?l/i:l*C(2,1-u))*i&&(r++,i/=2),s<=r+u?(o=0,r=s):1<=r+u?(o=(e*i-1)*C(2,t),r+=u):(o=e*C(2,u-1)*C(2,t),r=0));8<=t;a[f++]=255&o,o/=256,t-=8);for(r=r<<t|o,c+=t;0<c;a[f++]=255&r,r/=256,c-=8);return a[--f]|=128*d,a}function G(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,c=o-7,s=n-1,u=e[s--],l=127&u;for(u>>=7;0<c;l=256*l+e[s],s--,c-=8);for(r=l&(1<<-c)-1,l>>=-c,c+=t;0<c;r=256*r+e[s],s--,c-=8);if(0===l)l=1-a;else{if(l===i)return r?NaN:u?-S:S;r+=C(2,t),l-=a}return(u?-1:1)*r*C(2,l-t)}function B(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function q(e){return[255&e]}function U(e){return[255&e,e>>8&255]}function V(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function H(e){return F(e,52,8)}function W(e){return F(e,23,4)}function z(e,t,n){v(e[_],t,{get:function(){return this[n]}})}function Y(e,t,n,r){var o=p(+n);if(o+t>e[j])throw T(E);var i=e[A]._b,a=o+e[N],c=i.slice(a,a+t);return r?c:c.reverse()}function K(e,t,n,r,o,i){var a=p(+n);if(a+t>e[j])throw T(E);for(var c=e[A]._b,s=a+e[N],u=r(+o),l=0;l<t;l++)c[s+l]=u[i?l:t-l-1]}if(a.ABV){if(!u(function(){w(1)})||!u(function(){new w(-1)})||u(function(){return new w,new w(1.5),new w(NaN),w.name!=y})){for(var X,Q=(w=function(e){return l(this,w),new R(p(e))})[_]=R[_],J=h(R),Z=0;J.length>Z;)(X=J[Z++])in w||c(w,X,R[X]);i||(Q.constructor=w)}var $=new O(new w(2)),ee=O[_].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||s(O[_],{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else w=function(e){l(this,w,y);var t=p(e);this._b=m.call(new Array(t),0),this[j]=t},O=function(e,t,n){l(this,O,b),l(e,w,b);var r=e[j],o=f(t);if(o<0||r<o)throw T("Wrong offset!");if(r<o+(n=void 0===n?r-o:d(n)))throw T("Wrong length!");this[A]=e,this[N]=o,this[j]=n},o&&(z(w,x,"_l"),z(O,"buffer","_b"),z(O,x,"_l"),z(O,D,"_o")),s(O[_],{getInt8:function(e){return Y(this,1,e)[0]<<24>>24},getUint8:function(e){return Y(this,1,e)[0]},getInt16:function(e,t){var n=Y(this,2,e,t);return(n[1]<<8|n[0])<<16>>16},getUint16:function(e,t){var n=Y(this,2,e,t);return n[1]<<8|n[0]},getInt32:function(e,t){return B(Y(this,4,e,t))},getUint32:function(e,t){return B(Y(this,4,e,t))>>>0},getFloat32:function(e,t){return G(Y(this,4,e,t),23,4)},getFloat64:function(e,t){return G(Y(this,8,e,t),52,8)},setInt8:function(e,t){K(this,1,e,q,t)},setUint8:function(e,t){K(this,1,e,q,t)},setInt16:function(e,t,n){K(this,2,e,U,t,n)},setUint16:function(e,t,n){K(this,2,e,U,t,n)},setInt32:function(e,t,n){K(this,4,e,V,t,n)},setUint32:function(e,t,n){K(this,4,e,V,t,n)},setFloat32:function(e,t,n){K(this,4,e,W,t,n)},setFloat64:function(e,t,n){K(this,8,e,H,t,n)}});g(w,y),g(O,b),c(O[_],a.VIEW,!0),t[y]=w,t[b]=O},function(e,t,n){var r=n(378),o=n(380);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(27),o=n(79);e.exports=function(t,n){try{o(r,t,n)}catch(e){r[t]=n}return n}},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return g}),n.d(t,"Image",function(){return g}),n.d(t,"IdeaImage",function(){return O});var r=n(12),u=n.n(r),o=n(38),i=n.n(o),a=(n(424),n(21)),c=n.n(a),s=n(7);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=m(i);return t=a?(e=m(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==l(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(o,s["a"]);var e,t,n,r=v(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);return(t=r.call(this,e)).config=c.a.recursive({image:{server:{},aspectRatio:"16x9",allowMultipleImages:!1}},t.config,t.props.config||{}),t.state={currentImageIndex:0,width:0},t}return e=o,(t=[{key:"componentDidMount",value:function(){var e=document.querySelector("#".concat(this.divId)).parentNode;this.setState({width:e.offsetWidth})}},{key:"setCurrentImageIndex",value:function(e){this.setState({currentImageIndex:e})}},{key:"getImagesFromProps",value:function(){var e=this.props.images||[];this.props.image||this.state.currentImageIndex;return[this.props.image,e]}},{key:"getImageSrc",value:function(e){var t,n=f(this.getWidthHeight(),2),r=n[0],o=n[1];return r&&o&&("object"==l(t=e)&&e.src&&(t=e.src),(t=t||this.config.image.placeholderImageSrc)&&this.config.image.server.srcExtension&&t.match(this.config.image.server.fetch)&&(t+=this.config.image.server.srcExtension.replace(/\[\[width\]\]/g,r).replace(/\[\[height\]\]/g,o))),t}},{key:"getAspectRatioFactor",value:function(){if(this.props.width&&this.props.height)return this.props.width/this.props.height;var e=this.config.image.aspectRatio.match(/(\d+)x(\d+)/);return e?e[1]/e[2]:16/9}},{key:"getWidthHeight",value:function(){var e=document.querySelector("#".concat(this.divId))&&document.querySelector("#".concat(this.divId)).parentNode,t=this.props.width||this.state.width||e&&e.offsetWidth;return[t,this.props.height||t*(1/this.getAspectRatioFactor())||void 0]}},{key:"render",value:function(){var a=this,e=f(a.getImagesFromProps(),2),t=e[0],n=e[1],r=f(a.getWidthHeight(),2),c=r[0],o=r[1];if(a.config.image.allowMultipleImages&&1<n.length){var i=a.getImageSrc(t);return u.a.createElement("div",{id:a.divId,className:"osc-multiple-images ".concat(a.props.className||"")},u.a.createElement("div",{className:"osc-image-spacer",style:{width:c,height:o}},u.a.createElement("div",{className:"osc-image",style:i?{backgroundImage:"url(".concat(i,")")}:{},key:"image-"+a.divId})),u.a.createElement("div",{className:"osc-multiple-images-thumbs",style:{height:.1*a.state.width}},n.map(function(e,t){var n=.1*c,r=n*a.getAspectRatioFactor(),o=1.05*r*t,i=a.getImageSrc(e);return u.a.createElement("div",{className:"osc-image-thumb-spacer",key:"osc-image-thumb-".concat(t),style:{left:o,width:r,height:n}},u.a.createElement("div",{className:"osc-image-thumb",style:i?{backgroundImage:"url(".concat(i,")"),zIndex:10-t}:{},onClick:function(){return a.setCurrentImageIndex(t)}}))})))}var s=a.getImageSrc(t);return u.a.createElement("div",{id:a.divId,className:"osc-image-spacer ".concat(a.props.className||""),style:{width:c,height:o}},u.a.createElement("div",{className:"osc-image",style:s?{backgroundImage:"url(".concat(s,")")}:{},onClick:this.props.onClick,key:"image-"+a.divId}))}}])&&p(e.prototype,t),n&&p(e,n),o}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=w(i);return t=a?(e=w(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==y(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(o,g);var e,t,n,r=E(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return e=o,(t=[{key:"getImagesFromProps",value:function(){var e=this.props.idea;if(!e)return["",[""]];var t=e.extraData&&e.extraData.images||[];return[e.posterImage&&e.posterImage.key||e.extraData&&e.extraData.images&&e.extraData.images[this.state.currentImageIndex],t]}}])&&b(e.prototype,t),n&&b(e,n),o}();O.renderElement=function(e,t){var n=e.attributes;i.a.render(u.a.createElement(O,{attributes:n,config:t}),e)}},function(e,t,n){e.exports=!n(8)&&!n(3)(function(){return 7!=Object.defineProperty(n(82)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(5)},function(e,t,n){var a=n(17),c=n(18),s=n(64)(!1),u=n(84)("IE_PROTO");e.exports=function(e,t){var n,r=c(e),o=0,i=[];for(n in r)n!=u&&a(r,n)&&i.push(n);for(;t.length>o;)a(r,n=t[o++])&&(~s(i,n)||i.push(n));return i}},function(e,t,n){var a=n(9),c=n(1),s=n(41);e.exports=n(8)?Object.defineProperties:function(e,t){c(e);for(var n,r=s(t),o=r.length,i=0;i<o;)a.f(e,n=r[i++],t[n]);return e}},function(e,t,n){var r=n(18),o=n(44).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){"use strict";var d=n(8),p=n(41),h=n(65),v=n(59),m=n(11),g=n(58),o=Object.assign;e.exports=!o||n(3)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=o({},e)[n]||Object.keys(o({},t)).join("")!=r})?function(e,t){for(var n=m(e),r=arguments.length,o=1,i=h.f,a=v.f;o<r;)for(var c,s=g(arguments[o++]),u=i?p(s).concat(i(s)):p(s),l=u.length,f=0;f<l;)c=u[f++],d&&!a.call(s,c)||(n[c]=s[c]);return n}:o},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var i=n(13),a=n(4),c=n(122),s=[].slice,u={};e.exports=Function.bind||function(t){var n=i(this),r=s.call(arguments,1),o=function(){var e=r.concat(s.call(arguments));return this instanceof o?function(e,t,n){if(!(t in u)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";u[t]=Function("F,a","return new F("+r.join(",")+")")}return u[t](e,n)}(n,e.length,e):c(n,e,t)};return a(n.prototype)&&(o.prototype=n.prototype),o}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(2).parseInt,o=n(53).trim,i=n(88),a=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(2).parseFloat,o=n(53).trim;e.exports=1/r(n(88)+"-0")!=-1/0?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(24);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(4),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var i=n(91),r=Math.pow,a=r(2,-52),c=r(2,-23),s=r(2,127)*(2-c),u=r(2,-126);e.exports=Math.fround||function(e){var t,n,r=Math.abs(e),o=i(e);return r<u?o*(r/u/c+1/a-1/a)*u*c:s<(n=(t=(1+c/a)*r)-(t-r))||n!=n?o*(1/0):o*n}},function(e,t,n){var i=n(1);e.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(e,t,n){var l=n(13),f=n(11),d=n(58),p=n(6);e.exports=function(e,t,n,r,o){l(t);var i=f(e),a=d(i),c=p(i.length),s=o?c-1:0,u=o?-1:1;if(n<2)for(;;){if(s in a){r=a[s],s+=u;break}if(s+=u,o?s<0:c<=s)throw TypeError("Reduce of empty array with no initial value")}for(;o?0<=s:s<c;s+=u)s in a&&(r=t(r,a[s],s,i));return r}},function(e,t,n){"use strict";var l=n(11),f=n(42),d=n(6);e.exports=[].copyWithin||function(e,t,n){var r=l(this),o=d(r.length),i=f(e,o),a=f(t,o),c=2<arguments.length?n:void 0,s=Math.min((void 0===c?o:f(c,o))-a,o-i),u=1;for(a<i&&i<a+s&&(u=-1,a+=s-1,i+=s-1);0<s--;)a in r?r[i]=r[a]:delete r[i],i+=u,a+=u;return r}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(103);n(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){n(8)&&"g"!=/./g.flags&&n(9).f(RegExp.prototype,"flags",{configurable:!0,get:n(60)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(1),o=n(4),i=n(107);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(138),o=n(49);e.exports=n(73)("Map",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{get:function(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";function a(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n}var c=n(9).f,s=n(43),u=n(48),l=n(23),f=n(46),d=n(47),r=n(93),o=n(132),i=n(45),p=n(8),h=n(36).fastKey,v=n(49),m=p?"_s":"size";e.exports={getConstructor:function(e,i,n,r){var o=e(function(e,t){f(e,o,i,"_i"),e._t=i,e._i=s(null),e._f=void 0,e._l=void 0,e[m]=0,null!=t&&d(t,n,e[r],e)});return u(o.prototype,{clear:function(){for(var e=v(this,i),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var t,n,r=v(this,i),o=a(r,e);return o&&(t=o.n,n=o.p,delete r._i[o.i],o.r=!0,n&&(n.n=t),t&&(t.p=n),r._f==o&&(r._f=t),r._l==o&&(r._l=n),r[m]--),!!o},forEach:function(e,t){v(this,i);for(var n,r=l(e,1<arguments.length?t:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!a(v(this,i),e)}}),p&&c(o.prototype,"size",{get:function(){return v(this,i)[m]}}),o},def:function(e,t,n){var r,o,i=a(e,t);return i?i.v=n:(e._l=i={i:o=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[m]++,"F"!==o&&(e._i[o]=i)),e},getEntry:a,setStrong:function(e,n,t){r(e,n,function(e,t){this._t=v(e,n),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?o(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,o(1))},t?"entries":"values",!t,!0),i(n)}}},function(e,t,n){"use strict";var r=n(138),o=n(49);e.exports=n(73)("Set",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";function r(t){return function(e){return t(this,0<arguments.length?e:void 0)}}var i,o=n(2),a=n(31)(0),c=n(15),s=n(36),u=n(119),l=n(141),f=n(4),d=n(49),p=n(49),h=!o.ActiveXObject&&"ActiveXObject"in o,v="WeakMap",m=s.getWeak,g=Object.isExtensible,y=l.ufstore,b={get:function(e){if(f(e)){var t=m(e);return!0===t?y(d(this,v)).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,v),e,t)}},_=e.exports=n(73)(v,r,b,l,!0,!0);p&&h&&(u((i=l.getConstructor(r,v)).prototype,b),s.NEED=!0,a(["delete","has","get","set"],function(r){var e=_.prototype,o=e[r];c(e,r,function(e,t){if(!f(e)||g(e))return o.call(this,e,t);this._f||(this._f=new i);var n=this._f[r](e,t);return"set"==r?this:n})}))},function(e,t,n){"use strict";function a(e){return e._l||(e._l=new g)}function r(e,t){return h(e.a,function(e){return e[0]===t})}var c=n(48),s=n(36).getWeak,o=n(1),u=n(4),l=n(46),f=n(47),i=n(31),d=n(17),p=n(49),h=i(5),v=i(6),m=0,g=function(){this.a=[]};g.prototype={get:function(e){var t=r(this,e);if(t)return t[1]},has:function(e){return!!r(this,e)},set:function(e,t){var n=r(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(t){var e=v(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,n,r,o){var i=e(function(e,t){l(e,i,n,"_i"),e._t=n,e._i=m++,e._l=void 0,null!=t&&f(t,r,e[o],e)});return c(i.prototype,{delete:function(e){if(!u(e))return!1;var t=s(e);return!0===t?a(p(this,n)).delete(e):t&&d(t,this._i)&&delete t[this._i]},has:function(e){if(!u(e))return!1;var t=s(e);return!0===t?a(p(this,n)).has(e):t&&d(t,this._i)}}),i},def:function(e,t,n){var r=s(o(t),!0);return!0===r?a(e).set(t,n):r[e._i]=n,e},ufstore:a}},function(e,t,n){var r=n(25),o=n(6);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(44),o=n(65),i=n(1),a=n(2).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var h=n(66),v=n(4),m=n(6),g=n(23),y=n(5)("isConcatSpreadable");e.exports=function e(t,n,r,o,i,a,c,s){for(var u,l,f=i,d=0,p=!!c&&g(c,s,3);d<o;){if(d in r){if(u=p?p(r[d],d,n):r[d],l=!1,v(u)&&(l=void 0!==(l=u[y])?!!l:h(u)),l&&0<a)f=e(t,n,u,m(u.length),f,a-1)-1;else{if(9007199254740991<=f)throw TypeError();t[f]=u}f++}d++}return f}},function(e,t,n){var l=n(6),f=n(90),d=n(29);e.exports=function(e,t,n,r){var o=String(d(e)),i=o.length,a=void 0===n?" ":String(n),c=l(t);if(c<=i||""==a)return o;var s=c-i,u=f.call(a,Math.ceil(s/a.length));return u.length>s&&(u=u.slice(0,s)),r?u+o:o+u}},function(e,t,n){var s=n(8),u=n(41),l=n(18),f=n(59).f;e.exports=function(c){return function(e){for(var t,n=l(e),r=u(n),o=r.length,i=0,a=[];i<o;)t=r[i++],s&&!f.call(n,t)||a.push(c?[t,n[t]]:n[t]);return a}}},function(e,t,n){var r=n(52),o=n(148);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},function(e,t,n){var r=n(47);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,r,o){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||o!=o?NaN:e===1/0||e===-1/0?e:(e-t)*(o-r)/(n-t)+r}},function(e,t,n){var r=n(55),o=n(377),i=n(151),a=n(109),c=n(152),s=n(50),u=n(153),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=c(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var o=n(78);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(55),o=n(56),i=n(154);e.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(27),o=n(78),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(156),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(27),o=n(110),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},function(e,t,n){var r=n(158),o=n(159),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,n){var r=n(384),o=n(156);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){function r(e){return"function"==typeof e?e:void 0}var o=n(387),i=n(27);e.exports=function(e,t){return arguments.length<2?r(o[e])||r(i[e]):o[e]&&o[e][t]||i[e]&&i[e][t]}},function(e,t,n){var a=n(50),c=n(109),s=n(162).indexOf,u=n(111);e.exports=function(e,t){var n,r=c(e),o=0,i=[];for(n in r)!a(u,n)&&a(r,n)&&i.push(n);for(;t.length>o;)a(r,n=t[o++])&&(~s(i,n)||i.push(n));return i}},function(e,t,n){function r(c){return function(e,t,n){var r,o=s(e),i=u(o.length),a=l(n,i);if(c&&t!=t){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((c||a in o)&&o[a]===t)return c||a||0;return!c&&-1}}var s=n(109),u=n(389),l=n(390);e.exports={includes:r(!0),indexOf:r(!1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){var r=n(56);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return F}),n.d(t,"IdeasList",function(){return v}),n.d(t,"IdeasOverview",function(){return F}),n.d(t,"IdeasFilterbar",function(){return I}),n.d(t,"IdeasFilter",function(){return m.a}),n.d(t,"IdeasSort",function(){return k}),n.d(t,"IdeasSearch",function(){return g.a}),n.d(t,"IdeaTile",function(){return u.a});var r=n(12),o=n.n(r),i=n(38),a=n.n(i),c=(n(441),n(7)),s=n(10),u=n(405);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=h(i);return t=a?(e=h(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==l(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,c["a"]);var e,t,n,r=p(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n={idea:{titleField:"title",summaryField:"summary"},sort:{sortOptions:[{value:"createdtime,desc",label:"Nieuwste eerst"},{value:"createdtime,asc",label:"Oudste eerst"}],showSort:!0,defaultValue:"createdtime,desc"},types:[]};switch(e.config.display&&e.config.display.type){case"list":n.display={title:"Inzendingen",columns:1,showStatusLabel:!1,showTheme:!1,showArea:!1,showVoteProgressbar:!1,showStats:!0,showTypeIcon:!0,onMouseOverTileFadeOthers:!1};break;case"grid":n.display={title:"Inzendingen",columns:3,showStatusLabel:!1,showTheme:!0,showArea:!0,showVoteProgressbar:!1,showStats:!1,showTypeIcon:!1,onMouseOverTileFadeOthers:!1};break;default:n.display={title:"Inzendingen",type:"tiles",columns:4,showStatusLabel:!0,showTheme:!1,showArea:!1,showVoteProgressbar:!0,showStats:!0,showTypeIcon:!1,onMouseOverTileFadeOthers:!1}}return(t=r.call(this,e,n)).state={highLightIdeaId:null},t}return e=o,(t=[{key:"componentDidMount",value:function(){var t=this;t.ideaTileMouseOverListener=function(e){t.onTileMouseOver(e.detail)},document.addEventListener("osc-idea-tile-mouse-over",t.ideaTileMouseOverListener),t.ideaTileMouseOutListener=function(e){t.onTileMouseOut(e.detail)},document.addEventListener("osc-idea-tile-mouse-out",t.ideaTileMouseOutListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-idea-tile-mouse-over",this.ideaTileMouseOverListener),document.removeEventListener("osc-idea-tile-mouse-out",this.ideaTileMouseOutListener)}},{key:"onTileMouseOver",value:function(e){var t=e.idea;this.setState({highLightIdeaId:t.id})}},{key:"onTileMouseOut",value:function(e){e.idea;this.setState({highLightIdeaId:null})}},{key:"render",value:function(){var n=this,r=this,e=r.props.ideas||[];return React.createElement("div",{className:"osc-tile-list-container osc-columns-container ".concat(r.props.className||"")},React.createElement("div",{className:"osc-tile-list osc-columns"},e.map(function(e,t){return React.createElement(u.a,{config:r.config,idea:e,className:"".concat(n.config.display.onMouseOverTileFadeOthers&&r.state.highLightIdeaId&&r.state.highLightIdeaId!=e.id?" osc-opacity-65":""),key:"osc-idea-tile-".concat(e.id)})})))}}])&&f(e.prototype,t),n&&f(e,n),o}(),m=n(413),g=n(414);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=O(i);return t=a?(e=O(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==y(r)&&"function"!=typeof r?w(n):r}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(o,c["a"]);var e,t,n,r=E(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e,{display:{}})).doNextPendingResetAction=t.doNextPendingResetAction.bind(w(t)),t.state={pendingResetActions:[]},t}return e=o,(t=[{key:"componentDidMount",value:function(){var t=this;t.ideasSearchOnchangeListener=function(e){t.doNextPendingResetAction()},document.addEventListener("osc-ideas-search-onchange",t.ideasSearchOnchangeListener),t.ideasFilterOnchangeListener=function(e){t.hideMobileActiveSelector(),t.doNextPendingResetAction()},document.addEventListener("osc-ideas-filter-onchange",t.ideasFilterOnchangeListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-ideas-search-onchange",this.ideasSearchOnchangeListener),document.removeEventListener("osc-ideas-filter-onchange",this.ideasFilterOnchangeListener)}},{key:"toggleMobileActiveSelector",value:function(e){this.state.mobileActiveSelector!=e?this.showMobileActiveSelector(e):this.hideMobileActiveSelector()}},{key:"showMobileActiveSelector",value:function(e){this.setState({mobileActiveSelector:e})}},{key:"hideMobileActiveSelector",value:function(){this.setState({mobileActiveSelector:null})}},{key:"resetAll",value:function(){var t=this;t.search&&t.state.pendingResetActions.push(t.search.setSearch),t.filters&&t.filters.forEach(function(e){t.state.pendingResetActions.push(e.setFilter)});var e=new window.CustomEvent("osc-ideas-filter-reset-all",{detail:{}});document.dispatchEvent(e),t.doNextPendingResetAction()}},{key:"doNextPendingResetAction",value:function(){var e=this.state.pendingResetActions.shift();e&&e({value:""})}},{key:"render",value:function(){var n=this;if(!(void 0!==n.props.showFilterbar?n.props.showFilterbar:n.config.display.showFilterbar))return null;var e=null;n.config.search&&(e=React.createElement("div",{className:"osc-ideas-search-container"},React.createElement("div",{className:"osc-ideas-search-button",onClick:function(){return n.toggleMobileActiveSelector("search")}}),React.createElement(g.a,{config:n.config.search,className:"".concat("search"==n.state.mobileActiveSelector?" osc-is-active":""),ref:function(e){return n.search=e}})));var t,r=React.createElement("button",{value:"reset",onClick:function(){return n.resetAll()},className:"osc-button osc-reset-button"},"Alles tonen"),o=null;n.config.filter.length&&(t=n.filters&&n.filters.find(function(e){return e.state.currentValue}),n.filters=[],o=React.createElement("div",{className:"osc-ideas-filters-and-button-container"},React.createElement("div",{className:"osc-ideas-filter-button".concat(t?" osc-active":""),onClick:function(){return n.toggleMobileActiveSelector("filters")}}),React.createElement("div",{className:"osc-ideas-filters-container".concat("filters"==n.state.mobileActiveSelector?" osc-is-active":"")},n.config.filter.map(function(e,t){return React.createElement(m.a,{config:e,className:"osc-align-right-container",key:"osc-ideas-filter-".concat(t),ref:function(e){return n.filters[t]=e}})})),r));var i=React.createElement("div",{className:"osc-ideas-filters-and-reset-button-container"},o);return React.createElement("div",{className:"osc-ideas-filterbar ".concat(n.props.className||"")},e,i)}}])&&b(e.prototype,t),n&&b(e,n),o}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=C(i);return t=a?(e=C(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==T(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(o,c["a"]);var e,t,n,r=P(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e,{label:null,sortOptions:[{value:"createdtime,desc",label:"Nieuwste eerst"},{value:"createdtime,asc",label:"Oudste eerst"},{value:"title",label:"Titel"},{value:"random",label:"Willekeurig"},{value:"likes,desc",label:"Meeste likes"},{value:"likes,asc",label:"Minste likes"},{value:"args,desc",label:"Meeste reacties"},{value:"args,asc",label:"Minste reacties"},{value:"ranking,asc",label:"Ranglijst"}],defaultValue:"createdtime,desc",showSort:!0,center:{latitude:52.37104644463586,longitude:4.900402911007405}})).state={currentValue:t.config.defaultValue},t}return e=o,(t=[{key:"doSort",value:function(e){var t=e.ideas,n=e.sortOrder,r=e.center,n=n||this.state.currentValue,r=r||this.config.center;return s.a.ideasSort({ideas:t,sortOrder:n,center:r})}},{key:"setSortOrder",value:function(e){var t=e.sortOrder,n=this.props.ideas||[],n=this.doSort({ideas:n,sortOrder:t});this.setState({ideas:n,currentValue:t},function(){var e=new window.CustomEvent("osc-ideas-sort-onchange",{detail:n});document.dispatchEvent(e)})}},{key:"render",value:function(){var t=this;t.props.ideas;if(!(t.config.sortOptions&&t.config.sortOptions.length&&(void 0!==t.props.showSort?t.props.showSort:t.config.showSort)))return null;var e=null;return t.config.label&&(e=React.createElement("div",{className:"osc-sort-label"},t.config.label,":")),React.createElement("div",{className:"osc-ideas-sort ".concat(t.props.className||"")},e,React.createElement("select",{defaultValue:t.state.currentValue,onChange:function(){return t.setSortOrder({sortOrder:t.sortSelector.value})},className:"osc-default-select",ref:function(e){return t.sortSelector=e}},t.config.sortOptions.map(function(e,t){return React.createElement("option",{value:e.value,key:"sort-option-"+t},e.label)})))}}])&&S(e.prototype,t),n&&S(e,n),o}();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function x(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?M(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=N(i);return t=a?(e=N(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==L(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(o,c["a"]);var e,t,n,r=j(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e,{siteId:null,title:"Inzendingen",display:{showFilterbar:!0},idea:{titleField:"title",summaryField:"summary"},sort:{showSort:!0,defaultValue:"createdtime,desc"},filter:[],types:[],typeLabel:"Thema"})).state={ideas:t.props.ideas||[],filters:{},search:null},t}return e=o,(t=[{key:"componentDidMount",value:function(){var t=this;t.ideasFilterOnchangeListener=function(e){t.updateFilter(e.detail)},document.addEventListener("osc-ideas-filter-onchange",t.ideasFilterOnchangeListener),t.ideasSearchOnchangeListener=function(e){t.updateSearch(e.detail)},document.addEventListener("osc-ideas-search-onchange",t.ideasSearchOnchangeListener),t.ideasSortOnchangeListener=function(e){t.updateSort(e.detail)},document.addEventListener("osc-ideas-sort-onchange",t.ideasSortOnchangeListener),void 0===t.props.ideas&&t.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-ideas-filter-onchange",this.ideasFilterOnchangeListener),document.removeEventListener("osc-ideas-search-onchange",this.ideasSearchOnchangeListener),document.removeEventListener("osc-ideas-sort-onchange",this.ideasSortOnchangeListener)}},{key:"fetchData",value:function(){var n=this,e="".concat(n.config.api.url,"/api/site/").concat(n.config.siteId,"/idea?summary=1&includeVoteCount=1&includeArgsCount=1"),t=s.a.api.getHeaders(n.config);fetch(e,{headers:t}).then(function(e){if(!e.ok)throw Error("Error fechting detail");return e.json()}).then(function(e){var t=e,t=n.sorter.doSort({ideas:t});n.setState({ideas:t},function(){})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"updateFilter",value:function(e){var t=x({},this.state.filters);e.value?t[e.fieldName]={value:e.value,doFilter:e.doFilter}:delete t[e.fieldName],this.setState({filters:t})}},{key:"updateSearch",value:function(e){e=e.value?{value:e.value,doSearch:e.doSearch}:null,this.setState({search:e})}},{key:"updateSort",value:function(e){this.setState({ideas:e})}},{key:"render",value:function(){var n=this,e=void 0!==n.props.ideas?n.props.ideas:n.state.ideas||[],r=e;Object.keys(n.state.filters).forEach(function(e){var t=n.state.filters[e];r=t.doFilter(r)}),n.state.search&&(r=n.state.search.doSearch(r)),this.props.maxLength&&(r=e.slice(0,this.props.maxLength));var t=React.createElement("h3",{className:"osc-title"},n.config.title," (",r.length,")");return React.createElement("div",{id:n.id,className:"osc-ideas-overview ".concat(n.props.className||"")},React.createElement(I,{config:n.config,showFilterbar:n.props.showFilterbar,className:"osc-ideas-filterbar"}),React.createElement(k,{config:x({},n.config.sort),ideas:e,showSort:!n.props.hideSortButton,className:"osc-align-right-container",ref:function(e){return n.sorter=e}}),t,React.createElement(v,{config:n.config,ideas:r,className:""}))}}])&&D(e.prototype,t),n&&D(e,n),o}();F.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(F,{attributes:n,config:t}),e)}},function(e,o,i){"use strict";(function(t){i.d(o,"a",function(){return e}),i.d(o,"b",function(){return n}),i.d(o,"c",function(){return r});var e=function(){return(e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function n(e,a,c,s){return new(c=c||t)(function(n,t){function r(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((s=s.apply(e,a||[])).next())})}function r(n,r){var o,i,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){c.label=t[1];break}if(6===t[0]&&c.label<a[1]){c.label=a[1],a=t;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(t);break}a[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(n,c)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}Object.create;Object.create}).call(this,i(62))},function(e,t,n){"use strict";(function(e){if(n(168),n(365),n(369),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;function t(e,t,n){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:n})}t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(this,n(63))},function(e,t,n){n(169),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(249),n(250),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(102),n(273),n(133),n(274),n(134),n(275),n(276),n(277),n(278),n(279),n(137),n(139),n(140),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),e.exports=n(22)},function(e,t,n){"use strict";function r(e){var t=Y[e]=k(G[U]);return t._k=e,t}function o(e,t){I(e);for(var n,r=w(t=R(t)),o=0,i=r.length;o<i;)te(e,n=r[o++],t[n]);return e}function i(e){var t=W.call(this,e=P(e,!0));return!(this===X&&l(Y,e)&&!l(K,e))&&(!(t||!l(this,e)||!l(Y,e)||l(this,V)&&this[V][e])||t)}function a(e,t){if(e=R(e),t=P(t,!0),e!==X||!l(Y,t)||l(K,t)){var n=j(e,t);return!n||!l(Y,t)||l(e,V)&&e[V][t]||(n.enumerable=!0),n}}function c(e){for(var t,n=F(R(e)),r=[],o=0;n.length>o;)l(Y,t=n[o++])||t==V||t==h||r.push(t);return r}function s(e){for(var t,n=e===X,r=F(n?K:R(e)),o=[],i=0;r.length>i;)!l(Y,t=r[i++])||n&&!l(X,t)||o.push(Y[t]);return o}var u=n(2),l=n(17),f=n(8),d=n(0),p=n(15),h=n(36).KEY,v=n(3),m=n(57),g=n(51),y=n(40),b=n(5),_=n(115),E=n(83),w=n(171),O=n(66),I=n(1),T=n(4),S=n(11),R=n(18),P=n(28),C=n(39),k=n(43),L=n(118),M=n(19),x=n(65),D=n(9),A=n(41),j=M.f,N=D.f,F=L.f,G=u.Symbol,B=u.JSON,q=B&&B.stringify,U="prototype",V=b("_hidden"),H=b("toPrimitive"),W={}.propertyIsEnumerable,z=m("symbol-registry"),Y=m("symbols"),K=m("op-symbols"),X=Object[U],Q="function"==typeof G&&!!x.f,J=u.QObject,Z=!J||!J[U]||!J[U].findChild,$=f&&v(function(){return 7!=k(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=j(X,t);r&&delete X[t],N(e,t,n),r&&e!==X&&N(X,t,r)}:N,ee=Q&&"symbol"==typeof G.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof G},te=function(e,t,n){return e===X&&te(K,t,n),I(e),t=P(t,!0),I(n),l(Y,t)?(n.enumerable?(l(e,V)&&e[V][t]&&(e[V][t]=!1),n=k(n,{enumerable:C(0,!1)})):(l(e,V)||N(e,V,C(1,{})),e[V][t]=!0),$(e,t,n)):N(e,t,n)};Q||(p((G=function(e){if(this instanceof G)throw TypeError("Symbol is not a constructor!");var t=y(0<arguments.length?e:void 0),n=function(e){this===X&&n.call(K,e),l(this,V)&&l(this[V],t)&&(this[V][t]=!1),$(this,t,C(1,e))};return f&&Z&&$(X,t,{configurable:!0,set:n}),r(t)})[U],"toString",function(){return this._k}),M.f=a,D.f=te,n(44).f=L.f=c,n(59).f=i,x.f=s,f&&!n(35)&&p(X,"propertyIsEnumerable",i,!0),_.f=function(e){return r(b(e))}),d(d.G+d.W+d.F*!Q,{Symbol:G});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)b(ne[re++]);for(var oe=A(b.store),ie=0;oe.length>ie;)E(oe[ie++]);d(d.S+d.F*!Q,"Symbol",{for:function(e){return l(z,e+="")?z[e]:z[e]=G(e)},keyFor:function(e){if(!ee(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),d(d.S+d.F*!Q,"Object",{create:function(e,t){return void 0===t?k(e):o(k(e),t)},defineProperty:te,defineProperties:o,getOwnPropertyDescriptor:a,getOwnPropertyNames:c,getOwnPropertySymbols:s});var ae=v(function(){x.f(1)});d(d.S+d.F*ae,"Object",{getOwnPropertySymbols:function(e){return x.f(S(e))}}),B&&d(d.S+d.F*(!Q||v(function(){var e=G();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;o<arguments.length;)r.push(arguments[o++]);if(n=t=r[1],(T(t)||void 0!==e)&&!ee(e))return O(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ee(t))return t}),r[1]=t,q.apply(B,r)}}),G[U][H]||n(14)(G[U],H,G[U].valueOf),g(G,"Symbol"),g(Math,"Math",!0),g(u.JSON,"JSON",!0)},function(e,t,n){e.exports=n(57)("native-function-to-string",Function.toString)},function(e,t,n){var c=n(41),s=n(65),u=n(59);e.exports=function(e){var t=c(e),n=s.f;if(n)for(var r,o=n(e),i=u.f,a=0;o.length>a;)i.call(e,r=o[a++])&&t.push(r);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(43)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(8),"Object",{defineProperty:n(9).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(8),"Object",{defineProperties:n(117)})},function(e,t,n){var r=n(18),o=n(19).f;n(30)("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},function(e,t,n){var r=n(11),o=n(20);n(30)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){var r=n(11),o=n(41);n(30)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){n(30)("getOwnPropertyNames",function(){return n(118).f})},function(e,t,n){var r=n(4),o=n(36).onFreeze;n(30)("freeze",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(e,t,n){var r=n(4),o=n(36).onFreeze;n(30)("seal",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(e,t,n){var r=n(4),o=n(36).onFreeze;n(30)("preventExtensions",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(e,t,n){var r=n(4);n(30)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(e,t,n){var r=n(4);n(30)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(e,t,n){var r=n(4);n(30)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(119)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(120)})},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(87).set})},function(e,t,n){"use strict";var r=n(52),o={};o[n(5)("toStringTag")]="z",o+""!="[object z]"&&n(15)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(121)})},function(e,t,n){var r=n(9).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(8)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(4),o=n(20),i=n(5)("hasInstance"),a=Function.prototype;i in a||n(9).f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),o=n(123);r(r.G+r.F*(parseInt!=o),{parseInt:o})},function(e,t,n){var r=n(0),o=n(124);r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},function(e,t,n){"use strict";function r(e){var t=l(e,!1);if("string"==typeof t&&2<t.length){var n,r,o,i=(t=b?t.trim():p(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,c=t.slice(2),s=0,u=c.length;s<u;s++)if((a=c.charCodeAt(s))<48||o<a)return NaN;return parseInt(c,r)}}return+t}var o=n(2),i=n(17),a=n(24),c=n(89),l=n(28),s=n(3),u=n(44).f,f=n(19).f,d=n(9).f,p=n(53).trim,h="Number",v=o[h],m=v,g=v.prototype,y=a(n(43)(g))==h,b="trim"in String.prototype;if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof v&&(y?s(function(){g.valueOf.call(n)}):a(n)!=h)?c(new m(r(t)),n,v):r(t)};for(var _,E=n(8)?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;E.length>w;w++)i(m,_=E[w])&&!i(v,_)&&d(v,_,f(m,_));(v.prototype=g).constructor=v,n(15)(o,h,v)}},function(e,t,n){"use strict";function u(e,t){for(var n=-1,r=t;++n<6;)r+=e*a[n],a[n]=r%1e7,r=i(r/1e7)}function l(e){for(var t=6,n=0;0<=--t;)n+=a[t],a[t]=i(n/e),n=n%e*1e7}function f(){for(var e,t=6,n="";0<=--t;){""===n&&0!==t&&0===a[t]||(e=String(a[t]),n=""===n?e:n+h.call("0",7-e.length)+e)}return n}var r=n(0),d=n(25),p=n(125),h=n(90),o=1..toFixed,i=Math.floor,a=[0,0,0,0,0,0],v="Number.toFixed: incorrect invocation!",m=function(e,t,n){return 0===t?n:t%2==1?m(e,t-1,n*e):m(e*e,t/2,n)};r(r.P+r.F*(!!o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){o.call({})})),"Number",{toFixed:function(e){var t,n,r,o,i=p(this,v),a=d(e),c="",s="0";if(a<0||20<a)throw RangeError(v);if(i!=i)return"NaN";if(i<=-1e21||1e21<=i)return String(i);if(i<0&&(c="-",i=-i),1e-21<i)if(n=(t=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}(i*m(2,69,1))-69)<0?i*m(2,-t,1):i/m(2,t,1),n*=4503599627370496,0<(t=52-t)){for(u(0,n),r=a;7<=r;)u(1e7,0),r-=7;for(u(m(10,r,1),0),r=t-1;23<=r;)l(1<<23),r-=23;l(1<<r),u(1,1),l(2),s=f()}else u(0,n),u(1<<-t,0),s=f()+h.call("0",a);return s=0<a?c+((o=s.length)<=a?"0."+h.call("0",a-o)+s:s.slice(0,o-a)+"."+s.slice(o-a)):c+s}})},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(125),a=1..toPrecision;r(r.P+r.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),o=n(2).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(126)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),o=n(126),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),o=n(124);r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(e,t,n){var r=n(0),o=n(123);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(e,t,n){var r=n(0),o=n(127),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,t,n){var r=n(0),o=Math.asinh;r(r.S+r.F*!(o&&0<1/o(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(0),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),o=n(91);r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},function(e,t,n){var r=n(0),o=n(92);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(128)})},function(e,t,n){var r=n(0),s=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,i=0,a=arguments.length,c=0;i<a;)c<(n=s(arguments[i++]))?(o=o*(r=c/n)*r+1,c=n):o+=0<n?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(o)}})},function(e,t,n){var r=n(0),o=Math.imul;r(r.S+r.F*n(3)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=+e,r=+t,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(127)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(91)})},function(e,t,n){var r=n(0),o=n(92),i=Math.exp;r(r.S+r.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),o=n(92),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),i=n(42),a=String.fromCharCode,o=String.fromCodePoint;r(r.S+r.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;o<r;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(0),a=n(18),c=n(6);r(r.S,"String",{raw:function(e){for(var t=a(e.raw),n=c(t.length),r=arguments.length,o=[],i=0;i<n;)o.push(String(t[i++])),i<r&&o.push(String(arguments[i]));return o.join("")}})},function(e,t,n){"use strict";n(53)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(67)(!0);n(93)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(0),o=n(67)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,n){"use strict";var r=n(0),c=n(6),s=n(95),u="endsWith",l=""[u];r(r.P+r.F*n(96)(u),"String",{endsWith:function(e,t){var n=s(this,e,u),r=1<arguments.length?t:void 0,o=c(n.length),i=void 0===r?o:Math.min(c(r),o),a=String(e);return l?l.call(n,a,i):n.slice(i-a.length,i)===a}})},function(e,t,n){"use strict";var r=n(0),o=n(95);r(r.P+r.F*n(96)("includes"),"String",{includes:function(e,t){return!!~o(this,e,"includes").indexOf(e,1<arguments.length?t:void 0)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(90)})},function(e,t,n){"use strict";var r=n(0),i=n(6),a=n(95),c="startsWith",s=""[c];r(r.P+r.F*n(96)(c),"String",{startsWith:function(e,t){var n=a(this,e,c),r=i(Math.min(1<arguments.length?t:void 0,n.length)),o=String(e);return s?s.call(n,o,r):n.slice(r,r+o.length)===o}})},function(e,t,n){"use strict";n(16)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(e,t,n){"use strict";n(16)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(16)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(16)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(16)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(16)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(e,t,n){"use strict";n(16)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(e,t,n){"use strict";n(16)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(16)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(e,t,n){"use strict";n(16)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(16)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(16)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(16)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(28);r(r.P+r.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(){var e=o(this),t=i(e);return"number"!=typeof t||isFinite(t)?e.toISOString():null}})},function(e,t,n){var r=n(0),o=n(248);r(r.P+r.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(e,t,n){"use strict";function r(e){return 9<e?e:"0"+e}var o=n(3),i=Date.prototype.getTime,a=Date.prototype.toISOString;e.exports=o(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!o(function(){a.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":9999<e?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"."+(99<t?t:"0"+r(t))+"Z"}:a},function(e,t,n){var r=Date.prototype,o="Invalid Date",i=r.toString,a=r.getTime;new Date(NaN)+""!=o&&n(15)(r,"toString",function(){var e=a.call(this);return e==e?i.call(this):o})},function(e,t,n){var r=n(5)("toPrimitive"),o=Date.prototype;r in o||n(14)(o,r,n(251))},function(e,t,n){"use strict";var r=n(1),o=n(28);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(r(this),"number"!=e)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(66)})},function(e,t,n){"use strict";var h=n(23),r=n(0),v=n(11),m=n(129),g=n(97),y=n(6),b=n(98),_=n(99);r(r.S+r.F*!n(69)(function(e){Array.from(e)}),"Array",{from:function(e,t,n){var r,o,i,a,c=v(e),s="function"==typeof this?this:Array,u=arguments.length,l=1<u?t:void 0,f=void 0!==l,d=0,p=_(c);if(f&&(l=h(l,2<u?n:void 0,2)),null==p||s==Array&&g(p))for(o=new s(r=y(c.length));d<r;d++)b(o,d,f?l(c[d],d):c[d]);else for(a=p.call(c),o=new s;!(i=a.next()).done;d++)b(o,d,f?m(a,l,[i.value,d],!0):i.value);return o.length=d,o}})},function(e,t,n){"use strict";var r=n(0),o=n(98);r(r.S+r.F*n(3)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);e<t;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(0),o=n(18),i=[].join;r(r.P+r.F*(n(58)!=Object||!n(26)(i)),"Array",{join:function(e){return i.call(o(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),o=n(86),u=n(24),l=n(42),f=n(6),d=[].slice;r(r.P+r.F*n(3)(function(){o&&d.call(o)}),"Array",{slice:function(e,t){var n=f(this.length),r=u(this);if(t=void 0===t?n:t,"Array"==r)return d.call(this,e,t);for(var o=l(e,n),i=l(t,n),a=f(i-o),c=new Array(a),s=0;s<a;s++)c[s]="String"==r?this.charAt(o+s):this[o+s];return c}})},function(e,t,n){"use strict";var r=n(0),o=n(13),i=n(11),a=n(3),c=[].sort,s=[1,2,3];r(r.P+r.F*(a(function(){s.sort(void 0)})||!a(function(){s.sort(null)})||!n(26)(c)),"Array",{sort:function(e){return void 0===e?c.call(i(this)):c.call(i(this),o(e))}})},function(e,t,n){"use strict";var r=n(0),o=n(31)(0),i=n(26)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(e,t){return o(this,e,t)}})},function(e,t,n){var r=n(4),o=n(66),i=n(5)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(0),o=n(31)(1);r(r.P+r.F*!n(26)([].map,!0),"Array",{map:function(e,t){return o(this,e,t)}})},function(e,t,n){"use strict";var r=n(0),o=n(31)(2);r(r.P+r.F*!n(26)([].filter,!0),"Array",{filter:function(e,t){return o(this,e,t)}})},function(e,t,n){"use strict";var r=n(0),o=n(31)(3);r(r.P+r.F*!n(26)([].some,!0),"Array",{some:function(e,t){return o(this,e,t)}})},function(e,t,n){"use strict";var r=n(0),o=n(31)(4);r(r.P+r.F*!n(26)([].every,!0),"Array",{every:function(e,t){return o(this,e,t)}})},function(e,t,n){"use strict";var r=n(0),o=n(130);r(r.P+r.F*!n(26)([].reduce,!0),"Array",{reduce:function(e,t){return o(this,e,arguments.length,t,!1)}})},function(e,t,n){"use strict";var r=n(0),o=n(130);r(r.P+r.F*!n(26)([].reduceRight,!0),"Array",{reduceRight:function(e,t){return o(this,e,arguments.length,t,!0)}})},function(e,t,n){"use strict";var r=n(0),o=n(64)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(26)(i)),"Array",{indexOf:function(e,t){return a?i.apply(this,arguments)||0:o(this,e,t)}})},function(e,t,n){"use strict";var r=n(0),i=n(18),a=n(25),c=n(6),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(26)(s)),"Array",{lastIndexOf:function(e,t){if(u)return s.apply(this,arguments)||0;var n=i(this),r=c(n.length),o=r-1;for(1<arguments.length&&(o=Math.min(o,a(t))),o<0&&(o=r+o);0<=o;o--)if(o in n&&n[o]===e)return o||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(131)}),n(37)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(101)}),n(37)("fill")},function(e,t,n){"use strict";var r=n(0),o=n(31)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e,t){return o(this,e,1<arguments.length?t:void 0)}}),n(37)("find")},function(e,t,n){"use strict";var r=n(0),o=n(31)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e,t){return o(this,e,1<arguments.length?t:void 0)}}),n(37)(i)},function(e,t,n){n(45)("Array")},function(e,t,n){var r=n(2),i=n(89),o=n(9).f,a=n(44).f,c=n(68),s=n(60),u=r.RegExp,l=u,f=u.prototype,d=/a/g,p=/a/g,h=new u(d)!==d;if(n(8)&&(!h||n(3)(function(){return p[n(5)("match")]=!1,u(d)!=d||u(p)==p||"/a/i"!=u(d,"i")}))){u=function(e,t){var n=this instanceof u,r=c(e),o=void 0===t;return!n&&r&&e.constructor===u&&o?e:i(h?new l(r&&!o?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&o?s.call(e):t),n?this:f,u)};for(var v=a(l),m=0;v.length>m;)!function(t){t in u||o(u,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})}(v[m++]);(f.constructor=u).prototype=f,n(15)(r,"RegExp",u)}n(45)("RegExp")},function(e,t,n){"use strict";n(134);function r(e){n(15)(RegExp.prototype,c,e,!0)}var o=n(1),i=n(60),a=n(8),c="toString",s=/./[c];n(3)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?r(function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):void 0)}):s.name!=c&&r(function(){return s.call(this)})},function(e,t,n){"use strict";var f=n(1),d=n(6),p=n(104),h=n(70);n(71)("match",1,function(r,o,u,l){return[function(e){var t=r(this),n=null==e?void 0:e[o];return void 0!==n?n.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=l(u,e,this);if(t.done)return t.value;var n=f(e),r=String(this);if(!n.global)return h(n,r);for(var o,i=n.unicode,a=[],c=n.lastIndex=0;null!==(o=h(n,r));){var s=String(o[0]);""===(a[c]=s)&&(n.lastIndex=p(r,d(n.lastIndex),i)),c++}return 0===c?null:a}]})},function(e,t,n){"use strict";var O=n(1),I=n(11),T=n(6),S=n(25),R=n(104),P=n(70),C=Math.max,k=Math.min,L=Math.floor,M=/\$([$&`']|\d\d?|<[^>]*>)/g,x=/\$([$&`']|\d\d?)/g;n(71)("replace",2,function(o,i,E,w){return[function(e,t){var n=o(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,n,t):E.call(String(n),e,t)},function(e,t){var n=w(E,e,this,t);if(n.done)return n.value;var r=O(e),o=String(this),i="function"==typeof t;i||(t=String(t));var a,c=r.global;c&&(a=r.unicode,r.lastIndex=0);for(var s=[];;){var u=P(r,o);if(null===u)break;if(s.push(u),!c)break;""===String(u[0])&&(r.lastIndex=R(o,T(r.lastIndex),a))}for(var l,f="",d=0,p=0;p<s.length;p++){u=s[p];for(var h=String(u[0]),v=C(k(S(u.index),o.length),0),m=[],g=1;g<u.length;g++)m.push(void 0===(l=u[g])?l:String(l));var y,b=u.groups,_=i?(y=[h].concat(m,v,o),void 0!==b&&y.push(b),String(t.apply(void 0,y))):function(i,a,c,s,u,e){var l=c+i.length,f=s.length,t=x;void 0!==u&&(u=I(u),t=M);return E.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return i;case"`":return a.slice(0,c);case"'":return a.slice(l);case"<":n=u[t.slice(1,-1)];break;default:var r=+t;if(0==r)return e;if(f<r){var o=L(r/10);return 0===o?e:o<=f?void 0===s[o-1]?t.charAt(1):s[o-1]+t.charAt(1):e}n=s[r-1]}return void 0===n?"":n})}(h,o,v,m,b,t);d<=v&&(f+=o.slice(d,v)+_,d=v+h.length)}return f+o.slice(d)}]})},function(e,t,n){"use strict";var s=n(1),u=n(120),l=n(70);n(71)("search",1,function(r,o,a,c){return[function(e){var t=r(this),n=null==e?void 0:e[o];return void 0!==n?n.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=c(a,e,this);if(t.done)return t.value;var n=s(e),r=String(this),o=n.lastIndex;u(o,0)||(n.lastIndex=0);var i=l(n,r);return u(n.lastIndex,o)||(n.lastIndex=o),null===i?-1:i.index}]})},function(e,t,n){"use strict";var f=n(68),b=n(1),_=n(61),E=n(104),w=n(6),O=n(70),d=n(103),r=n(3),I=Math.min,p=[].push,a="split",h="length",v="lastIndex",T=4294967295,S=!r(function(){RegExp(T,"y")});n(71)("split",2,function(o,i,m,g){var y="c"=="abbc"[a](/(b)*/)[1]||4!="test"[a](/(?:)/,-1)[h]||2!="ab"[a](/(?:ab)*/)[h]||4!="."[a](/(.?)(.?)/)[h]||1<"."[a](/()()/)[h]||""[a](/.?/)[h]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!f(e))return m.call(n,e,t);for(var r,o,i,a=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),s=0,u=void 0===t?T:t>>>0,l=new RegExp(e.source,c+"g");(r=d.call(l,n))&&!(s<(o=l[v])&&(a.push(n.slice(s,r.index)),1<r[h]&&r.index<n[h]&&p.apply(a,r.slice(1)),i=r[0][h],s=o,a[h]>=u));)l[v]===r.index&&l[v]++;return s===n[h]?!i&&l.test("")||a.push(""):a.push(n.slice(s)),a[h]>u?a.slice(0,u):a}:"0"[a](void 0,0)[h]?function(e,t){return void 0===e&&0===t?[]:m.call(this,e,t)}:m;return[function(e,t){var n=o(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,n,t):y.call(String(n),e,t)},function(e,t){var n=g(y,e,this,t,y!==m);if(n.done)return n.value;var r=b(e),o=String(this),i=_(r,RegExp),a=r.unicode,c=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(S?"y":"g"),s=new i(S?r:"^(?:"+r.source+")",c),u=void 0===t?T:t>>>0;if(0==u)return[];if(0===o.length)return null===O(s,o)?[o]:[];for(var l=0,f=0,d=[];f<o.length;){s.lastIndex=S?f:0;var p,h=O(s,S?o:o.slice(f));if(null===h||(p=I(w(s.lastIndex+(S?0:f)),o.length))===l)f=E(o,f,a);else{if(d.push(o.slice(l,f)),d.length===u)return d;for(var v=1;v<=h.length-1;v++)if(d.push(h[v]),d.length===u)return d;f=l=p}}return d.push(o.slice(l)),d}]})},function(e,t,n){"use strict";function r(){}function f(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t}function o(l,t){var n;l._n||(l._n=!0,n=l._c,w(function(){for(var s=l._v,u=1==l._s,e=0;n.length>e;)!function(e){var t,n,r,o=u?e.ok:e.fail,i=e.resolve,a=e.reject,c=e.domain;try{o?(u||(2==l._h&&F(l),l._h=1),!0===o?t=s:(c&&c.enter(),t=o(s),c&&(c.exit(),r=!0)),t===e.promise?a(P("Promise-chain cycle")):(n=f(t))?n.call(t,i,a):i(t)):a(s)}catch(e){c&&!r&&c.exit(),a(e)}}(n[e++]);l._c=[],l._n=!1,t&&!l._h&&j(l)}))}function i(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),o(t,!0))}var a,c,s,u,l=n(35),d=n(2),p=n(23),h=n(52),v=n(0),m=n(4),g=n(13),y=n(46),b=n(47),_=n(61),E=n(105).set,w=n(106)(),O=n(107),I=n(135),T=n(72),S=n(136),R="Promise",P=d.TypeError,C=d.process,k=C&&C.versions,L=k&&k.v8||"",M=d[R],x="process"==h(C),D=c=O.f,A=!!function(){try{var e=M.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(r,r)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(r)instanceof t&&0!==L.indexOf("6.6")&&-1===T.indexOf("Chrome/66")}catch(e){}}(),j=function(i){E.call(d,function(){var e,t,n,r=i._v,o=N(i);if(o&&(e=I(function(){x?C.emit("unhandledRejection",r,i):(t=d.onunhandledrejection)?t({promise:i,reason:r}):(n=d.console)&&n.error&&n.error("Unhandled promise rejection",r)}),i._h=x||N(i)?2:1),i._a=void 0,o&&e.e)throw e.v})},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},F=function(t){E.call(d,function(){var e;x?C.emit("rejectionHandled",t):(e=d.onrejectionhandled)&&e({promise:t,reason:t._v})})},G=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw P("Promise can't be resolved itself");(n=f(e))?w(function(){var t={_w:r,_d:!1};try{n.call(e,p(G,t,1),p(i,t,1))}catch(e){i.call(t,e)}}):(r._v=e,r._s=1,o(r,!1))}catch(e){i.call({_w:r,_d:!1},e)}}};A||(M=function(e){y(this,M,R,"_h"),g(e),a.call(this);try{e(p(G,this,1),p(i,this,1))}catch(e){i.call(this,e)}},(a=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(48)(M.prototype,{then:function(e,t){var n=D(_(this,M));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=x?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&o(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new a;this.promise=e,this.resolve=p(G,e,1),this.reject=p(i,e,1)},O.f=D=function(e){return e===M||e===u?new s:c(e)}),v(v.G+v.W+v.F*!A,{Promise:M}),n(51)(M,R),n(45)(R),u=n(22)[R],v(v.S+v.F*!A,R,{reject:function(e){var t=D(this);return(0,t.reject)(e),t.promise}}),v(v.S+v.F*(l||!A),R,{resolve:function(e){return S(l&&this===u?M:this,e)}}),v(v.S+v.F*!(A&&n(69)(function(e){M.all(e).catch(r)})),R,{all:function(e){var a=this,t=D(a),c=t.resolve,s=t.reject,n=I(function(){var r=[],o=0,i=1;b(e,!1,function(e){var t=o++,n=!1;r.push(void 0),i++,a.resolve(e).then(function(e){n||(n=!0,r[t]=e,--i||c(r))},s)}),--i||c(r)});return n.e&&s(n.v),t.promise},race:function(e){var t=this,n=D(t),r=n.reject,o=I(function(){b(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){"use strict";var r=n(141),o=n(49);n(73)("WeakSet",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{add:function(e){return r.def(o(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(0),o=n(74),i=n(108),u=n(1),l=n(42),f=n(6),a=n(4),c=n(2).ArrayBuffer,d=n(61),p=i.ArrayBuffer,h=i.DataView,s=o.ABV&&c.isView,v=p.prototype.slice,m=o.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(c!==p),{ArrayBuffer:p}),r(r.S+r.F*!o.CONSTR,g,{isView:function(e){return s&&s(e)||a(e)&&m in e}}),r(r.P+r.U+r.F*n(3)(function(){return!new p(2).slice(1,void 0).byteLength}),g,{slice:function(e,t){if(void 0!==v&&void 0===t)return v.call(u(this),e);for(var n=u(this).byteLength,r=l(e,n),o=l(void 0===t?n:t,n),i=new(d(this,p))(f(o-r)),a=new h(this),c=new h(i),s=0;r<o;)c.setUint8(s++,a.getUint8(r++));return i}}),n(45)(g)},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(74).ABV,{DataView:n(108).DataView})},function(e,t,n){n(33)("Int8",1,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(33)("Uint8",1,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(33)("Uint8",1,function(r){return function(e,t,n){return r(this,e,t,n)}},!0)},function(e,t,n){n(33)("Int16",2,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(33)("Uint16",2,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(33)("Int32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(33)("Uint32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(33)("Float32",4,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(33)("Float64",8,function(r){return function(e,t,n){return r(this,e,t,n)}})},function(e,t,n){var r=n(0),i=n(13),a=n(1),c=(n(2).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(3)(function(){c(function(){})}),"Reflect",{apply:function(e,t,n){var r=i(e),o=a(n);return c?c(r,t,o):s.call(r,t,o)}})},function(e,t,n){var r=n(0),s=n(43),u=n(13),l=n(1),f=n(4),o=n(3),d=n(121),p=(n(2).Reflect||{}).construct,h=o(function(){function e(){}return!(p(function(){},[],e)instanceof e)}),v=!o(function(){p(function(){})});r(r.S+r.F*(h||v),"Reflect",{construct:function(e,t,n){u(e),l(t);var r=arguments.length<3?e:u(n);if(v&&!h)return p(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var o=[null];return o.push.apply(o,t),new(d.apply(e,o))}var i=r.prototype,a=s(f(i)?i:Object.prototype),c=Function.apply.call(e,a,t);return f(c)?c:a}})},function(e,t,n){var r=n(9),o=n(0),i=n(1),a=n(28);o(o.S+o.F*n(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),o=n(19).f,i=n(1);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";function r(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)}var o=n(0),i=n(1);n(94)(r,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),o(o.S,"Reflect",{enumerate:function(e){return new r(e)}})},function(e,t,n){var a=n(19),c=n(20),s=n(17),r=n(0),u=n(4),l=n(1);r(r.S,"Reflect",{get:function e(t,n){var r,o,i=arguments.length<3?t:arguments[2];return l(t)===i?t[n]:(r=a.f(t,n))?s(r,"value")?r.value:void 0!==r.get?r.get.call(i):void 0:u(o=c(t))?e(o,n,i):void 0}})},function(e,t,n){var r=n(19),o=n(0),i=n(1);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(0),o=n(20),i=n(1);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),o=n(1),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(143)})},function(e,t,n){var r=n(0),o=n(1),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,n){var s=n(9),u=n(19),l=n(20),f=n(17),r=n(0),d=n(39),p=n(1),h=n(4);r(r.S,"Reflect",{set:function e(t,n,r){var o,i,a=arguments.length<4?t:arguments[3],c=u.f(p(t),n);if(!c){if(h(i=l(t)))return e(i,n,r,a);c=d(0)}if(f(c,"value")){if(!1===c.writable||!h(a))return!1;if(o=u.f(a,n)){if(o.get||o.set||!1===o.writable)return!1;o.value=r,s.f(a,n,o)}else s.f(a,n,d(0,r));return!0}return void 0!==c.set&&(c.set.call(a,r),!0)}})},function(e,t,n){var r=n(0),o=n(87);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(0),o=n(64)(!0);r(r.P,"Array",{includes:function(e,t){return o(this,e,1<arguments.length?t:void 0)}}),n(37)("includes")},function(e,t,n){"use strict";var r=n(0),i=n(144),a=n(11),c=n(6),s=n(13),u=n(100);r(r.P,"Array",{flatMap:function(e,t){var n,r,o=a(this);return s(e),n=c(o.length),r=u(o,0),i(r,o,o,n,0,1,e,t),r}}),n(37)("flatMap")},function(e,t,n){"use strict";var r=n(0),i=n(144),a=n(11),c=n(6),s=n(25),u=n(100);r(r.P,"Array",{flatten:function(e){var t=e,n=a(this),r=c(n.length),o=u(n,0);return i(o,n,n,r,0,void 0===t?1:s(t)),o}}),n(37)("flatten")},function(e,t,n){"use strict";var r=n(0),o=n(67)(!0),i=n(3)(function(){return"𠮷"!=="𠮷".at(0)});r(r.P+r.F*i,"String",{at:function(e){return o(this,e)}})},function(e,t,n){"use strict";var r=n(0),o=n(145),i=n(72),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*a,"String",{padStart:function(e,t){return o(this,e,1<arguments.length?t:void 0,!0)}})},function(e,t,n){"use strict";var r=n(0),o=n(145),i=n(72),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*a,"String",{padEnd:function(e,t){return o(this,e,1<arguments.length?t:void 0,!1)}})},function(e,t,n){"use strict";n(53)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(53)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";function o(e,t){this._r=e,this._s=t}var r=n(0),i=n(29),a=n(6),c=n(68),s=n(60),u=RegExp.prototype;n(94)(o,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(i(this),!c(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=a(e.lastIndex),new o(r,t)}})},function(e,t,n){n(83)("asyncIterator")},function(e,t,n){n(83)("observable")},function(e,t,n){var r=n(0),s=n(143),u=n(18),l=n(19),f=n(98);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=u(e),o=l.f,i=s(r),a={},c=0;i.length>c;)void 0!==(n=o(r,t=i[c++]))&&f(a,t,n);return a}})},function(e,t,n){var r=n(0),o=n(146)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){var r=n(0),o=n(146)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(13),a=n(9);n(8)&&r(r.P+n(75),"Object",{__defineGetter__:function(e,t){a.f(o(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(13),a=n(9);n(8)&&r(r.P+n(75),"Object",{__defineSetter__:function(e,t){a.f(o(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(28),a=n(20),c=n(19).f;n(8)&&r(r.P+n(75),"Object",{__lookupGetter__:function(e){var t,n=o(this),r=i(e,!0);do{if(t=c(n,r))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(28),a=n(20),c=n(19).f;n(8)&&r(r.P+n(75),"Object",{__lookupSetter__:function(e){var t,n=o(this),r=i(e,!0);do{if(t=c(n,r))return t.set}while(n=a(n))}})},function(e,t,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(147)("Map")})},function(e,t,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(147)("Set")})},function(e,t,n){n(76)("Map")},function(e,t,n){n(76)("Set")},function(e,t,n){n(76)("WeakMap")},function(e,t,n){n(76)("WeakSet")},function(e,t,n){n(77)("Map")},function(e,t,n){n(77)("Set")},function(e,t,n){n(77)("WeakMap")},function(e,t,n){n(77)("WeakSet")},function(e,t,n){var r=n(0);r(r.G,{global:n(2)})},function(e,t,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(e,t,n){var r=n(0),o=n(24);r(r.S,"Error",{isError:function(e){return"Error"===o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(0),o=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*o}})},function(e,t,n){var r=n(0),i=n(149),a=n(128);r(r.S,"Math",{fscale:function(e,t,n,r,o){return a(i(e,t,n,r,o))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{iaddh:function(e,t,n,r){var o=e>>>0,i=n>>>0;return(t>>>0)+(r>>>0)+((o&i|(o|i)&~(o+i>>>0))>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{isubh:function(e,t,n,r){var o=e>>>0,i=n>>>0;return(t>>>0)-(r>>>0)-((~o&i|~(o^i)&o-i>>>0)>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{imulh:function(e,t){var n=+e,r=+t,o=65535&n,i=65535&r,a=n>>16,c=r>>16,s=(a*i>>>0)+(o*i>>>16);return a*c+(s>>16)+((o*c>>>0)+(65535&s)>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(0),o=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*o}})},function(e,t,n){var r=n(0);r(r.S,"Math",{scale:n(149)})},function(e,t,n){var r=n(0);r(r.S,"Math",{umulh:function(e,t){var n=+e,r=+t,o=65535&n,i=65535&r,a=n>>>16,c=r>>>16,s=(a*i>>>0)+(o*i>>>16);return a*c+(s>>>16)+((o*c>>>0)+(65535&s)>>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:0<e}})},function(e,t,n){"use strict";var r=n(0),o=n(22),i=n(2),a=n(61),c=n(136);r(r.P+r.R,"Promise",{finally:function(t){var n=a(this,o.Promise||i.Promise),e="function"==typeof t;return this.then(e?function(e){return c(n,t()).then(function(){return e})}:t,e?function(e){return c(n,t()).then(function(){throw e})}:t)}})},function(e,t,n){"use strict";var r=n(0),o=n(107),i=n(135);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var r=n(34),o=n(1),i=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,o(n),i(r))}})},function(e,t,n){var r=n(34),a=n(1),c=r.key,s=r.map,u=r.store;r.exp({deleteMetadata:function(e,t,n){var r=arguments.length<3?void 0:c(n),o=s(a(t),r,!1);if(void 0===o||!o.delete(e))return!1;if(o.size)return!0;var i=u.get(t);return i.delete(r),!!i.size||u.delete(t)}})},function(e,t,n){var r=n(34),o=n(1),i=n(20),a=r.has,c=r.get,s=r.key,u=function(e,t,n){if(a(e,t,n))return c(e,t,n);var r=i(t);return null!==r?u(e,r,n):void 0};r.exp({getMetadata:function(e,t,n){return u(e,o(t),arguments.length<3?void 0:s(n))}})},function(e,t,n){var i=n(139),a=n(148),r=n(34),o=n(1),c=n(20),s=r.keys,u=r.key,l=function(e,t){var n=s(e,t),r=c(e);if(null===r)return n;var o=l(r,t);return o.length?n.length?a(new i(n.concat(o))):o:n};r.exp({getMetadataKeys:function(e,t){return l(o(e),arguments.length<2?void 0:u(t))}})},function(e,t,n){var r=n(34),o=n(1),i=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t,n){return i(e,o(t),arguments.length<3?void 0:a(n))}})},function(e,t,n){var r=n(34),o=n(1),i=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e,t){return i(o(e),arguments.length<2?void 0:a(t))}})},function(e,t,n){var r=n(34),o=n(1),i=n(20),a=r.has,c=r.key,s=function(e,t,n){if(a(e,t,n))return!0;var r=i(t);return null!==r&&s(e,r,n)};r.exp({hasMetadata:function(e,t,n){return s(e,o(t),arguments.length<3?void 0:c(n))}})},function(e,t,n){var r=n(34),o=n(1),i=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t,n){return i(e,o(t),arguments.length<3?void 0:a(n))}})},function(e,t,n){var r=n(34),o=n(1),i=n(13),a=r.key,c=r.set;r.exp({metadata:function(n,r){return function(e,t){c(n,r,(void 0!==t?o:i)(e),a(t))}}})},function(e,t,n){var r=n(0),o=n(106)(),i=n(2).process,a="process"==n(24)(i);r(r.G,{asap:function(e){var t=a&&i.domain;o(t?t.bind(e):e)}})},function(e,t,n){"use strict";function o(e){return null==e?void 0:p(e)}function i(e){var t=e._c;t&&(e._c=void 0,t())}function a(e){return void 0===e._o}function c(e){a(e)||(e._o=void 0,i(e))}function r(t,e){h(t),this._c=void 0,this._o=t,t=new _(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:p(n),this._c=n)}catch(e){return void t.error(e)}a(this)&&i(this)}var s=n(0),u=n(2),l=n(22),f=n(106)(),d=n(5)("observable"),p=n(13),h=n(1),v=n(46),m=n(48),g=n(14),y=n(47),b=y.RETURN;r.prototype=m({},{unsubscribe:function(){c(this)}});var _=function(e){this._s=e};_.prototype=m({},{next:function(e){var t=this._s;if(!a(t)){var n=t._o;try{var r=o(n.next);if(r)return r.call(n,e)}catch(e){try{c(t)}finally{throw e}}}},error:function(e){var t=this._s;if(a(t))throw e;var n=t._o;t._o=void 0;try{var r=o(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{i(t)}finally{throw e}}return i(t),e},complete:function(e){var t=this._s;if(!a(t)){var n=t._o;t._o=void 0;try{var r=o(n.complete);e=r?r.call(n,e):void 0}catch(e){try{i(t)}finally{throw e}}return i(t),e}}});var E=function(e){v(this,E,"Observable","_f")._f=p(e)};m(E.prototype,{subscribe:function(e){return new r(e,this._f)},forEach:function(r){var o=this;return new(l.Promise||u.Promise)(function(e,t){p(r);var n=o.subscribe({next:function(e){try{return r(e)}catch(e){t(e),n.unsubscribe()}},error:t,complete:e})})}}),m(E,{from:function(e){var t="function"==typeof this?this:E,n=o(h(e)[d]);if(n){var r=h(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return f(function(){if(!n){try{if(y(e,!1,function(e){if(t.next(e),n)return b})===b)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,r=new Array(t);e<t;)r[e]=arguments[e++];return new("function"==typeof this?this:E)(function(t){var n=!1;return f(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),g(E.prototype,d,function(){return this}),s(s.G,{Observable:E}),n(45)("Observable")},function(e,t,n){function r(o){return function(e,t){var n=2<arguments.length,r=n&&c.call(arguments,2);return o(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,t)}}var o=n(2),i=n(0),a=n(72),c=[].slice,s=/MSIE .\./.test(a);i(i.G+i.B+i.F*s,{setTimeout:r(o.setTimeout),setInterval:r(o.setInterval)})},function(e,t,n){var r=n(0),o=n(105);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(e,t,n){for(var r=n(102),o=n(41),i=n(15),a=n(2),c=n(14),s=n(54),u=n(5),l=u("iterator"),f=u("toStringTag"),d=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(p),v=0;v<h.length;v++){var m,g=h[v],y=p[g],b=a[g],_=b&&b.prototype;if(_&&(_[l]||c(_,l,d),_[f]||c(_,f,g),s[g]=d,y))for(m in r)_[m]||i(_,m,r[m],!0)}},function(M,e,t){(function(e,L){!function(e){"use strict";var f,d,p,h,v,m,t,n,r,o,i=Object.prototype,u=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag",g="object"==typeof M,y=e.regeneratorRuntime;function b(e,t,n,r){var i,a,c,s,o=t&&t.prototype instanceof E?t:E,u=Object.create(o.prototype),l=new P(r||[]);return u._invoke=(i=e,a=n,c=l,s=d,function(e,t){if(s===h)throw new Error("Generator is already running");if(s===v){if("throw"===e)throw t;return k()}for(c.method=e,c.arg=t;;){var n=c.delegate;if(n){var r=function e(t,n){var r=t.iterator[n.method];if(r===f){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=f,e(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=_(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=f),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}(n,c);if(r){if(r===m)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===d)throw s=v,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=h;var o=_(i,a,c);if("normal"===o.type){if(s=c.done?v:p,o.arg===m)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s=v,c.method="throw",c.arg=o.arg)}}),u}function _(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function E(){}function w(){}function O(){}function I(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(c){function s(e,t,n,r){var o=_(c[e],c,t);if("throw"!==o.type){var i=o.arg,a=i.value;return a&&"object"==typeof a&&u.call(a,"__await")?L.resolve(a.__await).then(function(e){s("next",e,n,r)},function(e){s("throw",e,n,r)}):L.resolve(a).then(function(e){i.value=e,n(i)},r)}r(o.arg)}var t;"object"==typeof e.process&&e.process.domain&&(s=e.process.domain.bind(s)),this._invoke=function(n,r){function e(){return new L(function(e,t){s(n,r,e,t)})}return t=t?t.then(e,e):e()}}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=f,e.done=!0,e};return r.next=r}}return{next:k}}function k(){return{value:f,done:!0}}y?g&&(M.exports=y):((y=e.regeneratorRuntime=g?M.exports:{}).wrap=b,d="suspendedStart",p="suspendedYield",h="executing",v="completed",m={},(t={})[c]=function(){return this},(r=(n=Object.getPrototypeOf)&&n(n(C([]))))&&r!==i&&u.call(r,c)&&(t=r),o=O.prototype=E.prototype=Object.create(t),(w.prototype=o.constructor=O).constructor=w,O[l]=w.displayName="GeneratorFunction",y.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},y.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,O):(e.__proto__=O,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(o),e},y.awrap=function(e){return{__await:e}},I(T.prototype),T.prototype[s]=function(){return this},y.AsyncIterator=T,y.async=function(e,t,n,r){var o=new T(b(e,t,n,r));return y.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},I(o),o[l]="Generator",o[c]=function(){return this},o.toString=function(){return"[object Generator]"},y.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},y.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=f)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return i.type="throw",i.arg=n,r.next=e,t&&(r.method="next",r.arg=f),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=u.call(o,"catchLoc"),c=u.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,R(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=f),m}})}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,t(63),t(62))},function(e,t,fe){(function(se,ue){var le;e.exports=function(){"use strict";function n(e){return typeof e==="function"||typeof e==="object"&&e!==null}function u(e){return typeof e==="function"}var e=undefined;if(!Array.isArray){e=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{e=Array.isArray}var r=e,o=0,i=undefined,a=undefined,c=function e(t,n){_[o]=t;_[o+1]=n;o+=2;if(o===2){if(a){a(E)}else{O()}}};function t(e){a=e}function s(e){c=e}var l=typeof window!=="undefined"?window:undefined,f=l||{},d=f.MutationObserver||f.WebKitMutationObserver,p=typeof self==="undefined"&&typeof se!=="undefined"&&{}.toString.call(se)==="[object process]",h=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function v(){return function(){return se.nextTick(E)}}function m(){return function(){i(E)}}function g(){var e=0;var t=new d(E);var n=document.createTextNode("");t.observe(n,{characterData:true});return function(){n.data=e=++e%2}}function y(){var e=new MessageChannel;e.port1.onmessage=E;return function(){return e.port2.postMessage(0)}}function b(){var e=setTimeout;return function(){return e(E,1)}}var _=new Array(1e3);function E(){for(var e=0;e<o;e+=2){var t=_[e];var n=_[e+1];t(n);_[e]=undefined;_[e+1]=undefined}o=0}function w(){try{var e=le;var t=fe(368);i=t.runOnLoop||t.runOnContext;return m()}catch(e){return b()}}var O=undefined;if(p){O=v()}else if(d){O=g()}else if(h){O=y()}else if(l===undefined&&"function"==="function"){O=w()}else{O=b()}function I(e,t){var n=arguments;var r=this;var o=new this.constructor(R);if(o[S]===undefined){Z(o)}var i=r._state;if(i){(function(){var e=n[i-1];c(function(){return K(i,o,e,r._result)})})()}else{V(r,o,e,t)}return o}function T(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var n=new t(R);G(n,e);return n}var S=Math.random().toString(36).substring(16);function R(){}var P=void 0,C=1,k=2,L=new W;function M(){return new TypeError("You cannot resolve a promise with itself")}function x(){return new TypeError("A promises callback cannot return that same promise.")}function D(e){try{return e.then}catch(e){L.error=e;return L}}function A(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function j(e,r,o){c(function(t){var n=false;var e=A(o,r,function(e){if(n){return}n=true;if(r!==e){G(t,e)}else{q(t,e)}},function(e){if(n){return}n=true;U(t,e)},"Settle: "+(t._label||" unknown promise"));if(!n&&e){n=true;U(t,e)}},e)}function N(t,e){if(e._state===C){q(t,e._result)}else if(e._state===k){U(t,e._result)}else{V(e,undefined,function(e){return G(t,e)},function(e){return U(t,e)})}}function F(e,t,n){if(t.constructor===e.constructor&&n===I&&t.constructor.resolve===T){N(e,t)}else{if(n===L){U(e,L.error)}else if(n===undefined){q(e,t)}else if(u(n)){j(e,t,n)}else{q(e,t)}}}function G(e,t){if(e===t){U(e,M())}else if(n(t)){F(e,t,D(t))}else{q(e,t)}}function B(e){if(e._onerror){e._onerror(e._result)}H(e)}function q(e,t){if(e._state!==P){return}e._result=t;e._state=C;if(e._subscribers.length!==0){c(H,e)}}function U(e,t){if(e._state!==P){return}e._state=k;e._result=t;c(B,e)}function V(e,t,n,r){var o=e._subscribers;var i=o.length;e._onerror=null;o[i]=t;o[i+C]=n;o[i+k]=r;if(i===0&&e._state){c(H,e)}}function H(e){var t=e._subscribers;var n=e._state;if(t.length===0){return}var r=undefined,o=undefined,i=e._result;for(var a=0;a<t.length;a+=3){r=t[a];o=t[a+n];if(r){K(n,r,o,i)}else{o(i)}}e._subscribers.length=0}function W(){this.error=null}var z=new W;function Y(e,t){try{return e(t)}catch(e){z.error=e;return z}}function K(e,t,n,r){var o=u(n),i=undefined,a=undefined,c=undefined,s=undefined;if(o){i=Y(n,r);if(i===z){s=true;a=i.error;i=null}else{c=true}if(t===i){U(t,x());return}}else{i=r;c=true}if(t._state!==P){}else if(o&&c){G(t,i)}else if(s){U(t,a)}else if(e===C){q(t,i)}else if(e===k){U(t,i)}}function X(n,e){try{e(function e(t){G(n,t)},function e(t){U(n,t)})}catch(e){U(n,e)}}var Q=0;function J(){return Q++}function Z(e){e[S]=Q++;e._state=undefined;e._result=undefined;e._subscribers=[]}function $(e,t){this._instanceConstructor=e;this.promise=new e(R);if(!this.promise[S]){Z(this.promise)}if(r(t)){this._input=t;this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0){q(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){q(this.promise,this._result)}}}else{U(this.promise,ee())}}function ee(){return new Error("Array Methods must be provided an Array")}function te(e){return new $(this,e).promise}function ne(o){var i=this;if(r(o))return new i(function(e,t){for(var n=o.length,r=0;r<n;r++)i.resolve(o[r]).then(e,t)});else return new i(function(e,t){return t(new TypeError("You must pass an array to race."))})}function re(e){var t=new this(R);return U(t,e),t}function oe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ie(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ae(e){this[S]=J();this._result=this._state=undefined;this._subscribers=[];if(R!==e){typeof e!=="function"&&oe();this instanceof ae?X(this,e):ie()}}function ce(){var e=undefined;if(typeof ue!=="undefined"){e=ue}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if(n==="[object Promise]"&&!t.cast){return}}e.Promise=ae}return $.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===P&&n<e;n++)this._eachEntry(t[n],n)},$.prototype._eachEntry=function(t,e){var n,r,o=this._instanceConstructor,i=o.resolve;i===T?(n=D(t))===I&&t._state!==P?this._settledAt(t._state,e,t._result):"function"!=typeof n?(this._remaining--,this._result[e]=t):o===ae?(F(r=new o(R),t,n),this._willSettleAt(r,e)):this._willSettleAt(new o(function(e){return e(t)}),e):this._willSettleAt(i(t),e)},$.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===P&&(this._remaining--,e===k?U(r,n):this._result[t]=n),0===this._remaining&&q(r,this._result)},$.prototype._willSettleAt=function(e,t){var n=this;V(e,void 0,function(e){return n._settledAt(C,t,e)},function(e){return n._settledAt(k,t,e)})},ae.all=function(e){return new $(this,e).promise},ae.race=function(o){var i=this;return r(o)?new i(function(e,t){for(var n=o.length,r=0;r<n;r++)i.resolve(o[r]).then(e,t)}):new i(function(e,t){return t(new TypeError("You must pass an array to race."))})},ae.resolve=T,ae.reject=function(e){var t=new this(R);return U(t,e),t},ae._setScheduler=function(e){a=e},ae._setAsap=function(e){c=e},ae._asap=c,ae.prototype={constructor:ae,then:I,catch:function(e){return this.then(null,e)}},ce(),ae.polyfill=ce,ae.Promise=ae}()}).call(this,fe(367),fe(63))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,u=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?u=s.concat(u):f=-1,u.length&&p())}function p(){if(!l){var e=c(d);l=!0;for(var t=u.length;t;){for(s=u,u=[];++f<t;)s&&s[f].run();f=-1,t=u.length}s=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){},function(e,t,n){n(370),e.exports=n(22).RegExp.escape},function(e,t,n){var r=n(0),o=n(371)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return o(e)}})},function(e,t){e.exports=function(t,n){var r=n===Object(n)?function(e){return n[e]}:n;return function(e){return String(e).replace(t,r)}}},function(e,_,E){"use strict";E.r(_),function(i){E.d(_,"Headers",function(){return s}),E.d(_,"Request",function(){return h}),E.d(_,"Response",function(){return m}),E.d(_,"DOMException",function(){return y}),E.d(_,"fetch",function(){return b});var t,n,c={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function e(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return c.iterable&&(e[Symbol.iterator]=function(){return e}),e}function s(t){this.map={},t instanceof s?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function a(e){if(e.bodyUsed)return i.reject(new TypeError("Already read"));e.bodyUsed=!0}function u(n){return new i(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function l(e){var t=new FileReader,n=u(t);return t.readAsArrayBuffer(e),n}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){var t;(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:c.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:c.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c.arrayBuffer&&c.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||n(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return i.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return i.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return i.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||i.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e,t,n,r=a(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=u(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return i.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return i.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}c.arrayBuffer&&(t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(e){return e&&-1<t.indexOf(Object.prototype.toString.call(e))}),s.prototype.append=function(e,t){e=r(e),t=o(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},s.prototype.delete=function(e){delete this.map[r(e)]},s.prototype.get=function(e){return e=r(e),this.has(e)?this.map[e]:null},s.prototype.has=function(e){return this.map.hasOwnProperty(r(e))},s.prototype.set=function(e,t){this.map[r(e)]=o(t)},s.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},s.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),e(n)},s.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},s.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),e(n)},c.iterable&&(s.prototype[Symbol.iterator]=s.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function h(e,t){var n,r,o=(t=t||{}).body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new s(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new s(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),-1<p.indexOf(r)?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function v(e){var o=new FormData;return e.trim().split("&").forEach(function(e){var t,n,r;e&&(n=(t=e.split("=")).shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," "),o.append(decodeURIComponent(n),decodeURIComponent(r)))}),o}function m(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new s(t.headers),this.url=t.url||"",this._initBody(e)}h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},d.call(h.prototype),d.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];m.redirect=function(e,t){if(-1===g.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})};var y=self.DOMException;try{new y}catch(e){(y=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),y.prototype.constructor=y}function b(o,a){return new i(function(r,e){var t=new h(o,a);if(t.signal&&t.signal.aborted)return e(new y("Aborted","AbortError"));var i=new XMLHttpRequest;function n(){i.abort()}i.onload=function(){var e,o,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",o=new s,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t,n=e.split(":"),r=n.shift().trim();r&&(t=n.join(":").trim(),o.append(r,t))}),o)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var n="response"in i?i.response:i.responseText;r(new m(n,t))},i.onerror=function(){e(new TypeError("Network request failed"))},i.ontimeout=function(){e(new TypeError("Network request failed"))},i.onabort=function(){e(new y("Aborted","AbortError"))},i.open(t.method,t.url,!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&c.blob&&(i.responseType="blob"),t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",n),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",n)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})}b.polyfill=!0,self.fetch||(self.fetch=b,self.Headers=s,self.Request=h,self.Response=m)}.call(this,E(62))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){n(375);var r=n(401);e.exports=r("Array","includes")},function(e,t,n){"use strict";var r=n(376),o=n(162).includes,i=n(393);r({target:"Array",proto:!0,forced:!n(400)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e,t){return o(this,e,1<arguments.length?t:void 0)}}),i("includes")},function(e,t,n){var l=n(27),f=n(150).f,d=n(79),p=n(381),h=n(110),v=n(385),m=n(392);e.exports=function(e,t){var n,r,o,i,a=e.target,c=e.global,s=e.stat,u=c?l:s?l[a]||h(a,{}):(l[a]||{}).prototype;if(u)for(n in t){if(o=t[n],r=e.noTargetGet?(i=f(u,n))&&i.value:u[n],!m(c?n:a+(s?".":"#")+n,e.forced)&&void 0!==r){if(typeof o==typeof r)continue;v(o,r)}(e.sham||r&&r.sham)&&d(o,"sham",!0),p(u,n,o,e)}}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(56),o=n(379),i="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var c=n(27),s=n(79),u=n(50),l=n(110),r=n(155),o=n(382),i=o.get,f=o.enforce,d=String(String).split("String");(e.exports=function(e,t,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||u(n,"name")||s(n,"name",t),f(n).source=d.join("string"==typeof t?t:"")),e!==c?(o?!a&&e[t]&&(i=!0):delete e[t],i?e[t]=n:s(e,t,n)):i?e[t]=n:l(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||r(this)})},function(e,t,n){var r,o,i,a,c,s,u,l,f=n(383),d=n(27),p=n(78),h=n(79),v=n(50),m=n(157),g=n(111),y=d.WeakMap;u=f?(r=new y,o=r.get,i=r.has,a=r.set,c=function(e,t){return a.call(r,e,t),t},s=function(e){return o.call(r,e)||{}},function(e){return i.call(r,e)}):(g[l=m("state")]=!0,c=function(e,t){return h(e,l,t),t},s=function(e){return v(e,l)?e[l]:{}},function(e){return v(e,l)}),e.exports={set:c,get:s,has:u,enforce:function(e){return u(e)?s(e):c(e,{})},getterFor:function(n){return function(e){var t;if(!p(e)||(t=s(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}}},function(e,t,n){var r=n(27),o=n(155),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t){e.exports=!1},function(e,t,n){var c=n(50),s=n(386),u=n(150),l=n(80);e.exports=function(e,t){for(var n=s(t),r=l.f,o=u.f,i=0;i<n.length;i++){var a=n[i];c(e,a)||r(e,a,o(t,a))}}},function(e,t,n){var r=n(160),o=n(388),i=n(391),a=n(81);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(27);e.exports=r},function(e,t,n){var r=n(161),o=n(112).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(163),o=Math.min;e.exports=function(e){return 0<e?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(163),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){function r(e,t){var n=c[a(e)];return n==u||n!=s&&("function"==typeof t?o(t):!!t)}var o=n(56),i=/#|\.prototype\./,a=r.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=r.data={},s=r.NATIVE="N",u=r.POLYFILL="P";e.exports=r},function(e,t,n){var r=n(394),o=n(396),i=n(80),a=r("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:o(null)}),e.exports=function(e){c[a][e]=!0}},function(e,t,n){var r=n(27),o=n(158),i=n(50),a=n(159),c=n(164),s=n(395),u=o("wks"),l=r.Symbol,f=s?l:l&&l.withoutSetter||a;e.exports=function(e){return i(u,e)||(c&&i(l,e)?u[e]=l[e]:u[e]=f("Symbol."+e)),u[e]}},function(e,t,n){var r=n(164);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){function r(){}function o(e){return"<script>"+e+"</"+h+">"}var i,a=n(81),c=n(397),s=n(112),u=n(111),l=n(399),f=n(154),d=n(157),p="prototype",h="script",v=d("IE_PROTO"),m=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;m=i?function(e){e.write(o("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=f("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(o("document.F=Object")),e.close(),e.F);for(var n=s.length;n--;)delete m[p][s[n]];return m()};u[v]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(r[p]=a(e),n=new r,r[p]=null,n[v]=e):n=m(),void 0===t?n:c(n,t)}},function(e,t,n){var r=n(55),a=n(80),c=n(81),s=n(398);e.exports=r?Object.defineProperties:function(e,t){c(e);for(var n,r=s(t),o=r.length,i=0;i<o;)a.f(e,n=r[i++],t[n]);return e}},function(e,t,n){var r=n(161),o=n(112);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(160);e.exports=r("document","documentElement")},function(e,t,n){function a(e){throw e}var c=n(55),s=n(56),u=n(50),l=Object.defineProperty,f={};e.exports=function(e,t){if(u(f,e))return f[e];var n=[][e],r=!!u(t=t||{},"ACCESSORS")&&t.ACCESSORS,o=u(t,0)?t[0]:a,i=u(t,1)?t[1]:void 0;return f[e]=!!n&&!s(function(){if(r&&!c)return!0;var e={length:-1};r?l(e,1,{enumerable:!0,get:a}):e[1]=1,n.call(e,o,i)})}},function(e,t,n){var r=n(27),o=n(402),i=Function.call;e.exports=function(e,t,n){return o(i,r[e].prototype[t],n)}},function(e,t,n){var i=n(403);e.exports=function(r,o,e){if(i(r),void 0===o)return r;switch(e){case 0:return function(){return r.call(o)};case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilePond=t.FileStatus=t.registerPlugin=void 0;var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,u=n(12),a=(i=u)&&i.__esModule?i:{default:i},c=n(422);t.registerPlugin=c.registerPlugin,t.FileStatus=c.FileStatus;var s=(0,c.supported)(),l=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"];t.FilePond=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,a.default.Component),r(f,[{key:"componentDidMount",value:function(){var e,t,n=this;s&&((e=Object.assign({},this.props)).onupdatefiles&&(t=e.onupdatefiles,e.onupdatefiles=function(e){n.allowFilesSync=!1,t(e)}),this._pond=(0,c.create)(this._element,e),Object.keys(this._pond).filter(function(e){return!l.includes(e)}).forEach(function(e){n[e]=n._pond[e]}))}},{key:"componentWillUnmount",value:function(){this._pond&&(this._pond.destroy(),this.allowFilesSync=!0)}},{key:"shouldComponentUpdate",value:function(){return!!this.allowFilesSync||!(this.allowFilesSync=!0)}},{key:"componentDidUpdate",value:function(){var e;this._pond&&(delete(e=Object.assign({},this.props)).onupdatefiles,this._pond.setOptions(e))}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,r=e.name,o=e.className,i=e.allowMultiple,a=e.required,c=e.captureMethod,s=e.acceptedFileTypes;return(0,u.createElement)("div",{className:"filepond--wrapper"},(0,u.createElement)("input",{type:"file",name:r,id:n,accept:s,multiple:i,required:a,className:o,capture:c,ref:function(e){return t._element=e}}))}}]),f);function f(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.allowFilesSync=!0,t}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdeasOverview});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),_image_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(113);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasOverview=function(_OpenStadComponent){_inherits(IdeasOverview,_OpenStadComponent);var _super=_createSuper(IdeasOverview);function IdeasOverview(e){var t;return _classCallCheck(this,IdeasOverview),(t=_super.call(this,e,{idea:{showVoteButtons:!0,titleField:"title",summaryField:"summary",minimumYesVotes:void 0},display:{type:"tiles",columns:4,showStatusLabel:!1,showTheme:!1,showArea:!1,showVoteProgressbar:!1,showStats:!1,showTypeIcon:!1,onMouseOverTileFadeOthers:!1},image:{},argument:{isActive:!0,ignoreReactionsForIdeaIds:""},vote:{isViewable:!0,voteValues:[{value:"yes"},{value:"no"}]},types:[],typeField:"typeId"})).config.image.allowMultipleImages=!1,t.state={idea:t.props.idea||{}},t}return _createClass(IdeasOverview,[{key:"dispatchIdeaTileClick",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("osc-idea-tile-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchIdeaTileMouseOver",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("osc-idea-tile-mouse-over",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchIdeaTileMouseOut",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("osc-idea-tile-mouse-out",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"render",value:function render(){var self=this,idea=self.state.idea,statusLabelHTML=null;self.config.display.showStatusLabel;var themeAndAreaHTML=null,areaHTML;(self.config.display.showTheme||self.config.display.showArea)&&(areaHTML=null,self.config.display.showArea&&idea.extraData.area&&(areaHTML=React.createElement("div",{className:"osc-area"},idea.extraData.area)),themeAndAreaHTML=React.createElement("div",{className:"osc-theme-and-area"},self.config.display.showTheme&&idea.extraData.theme&&React.createElement("div",{className:"osc-theme"},idea.extraData.theme),self.config.display.showTheme&&idea.extraData.theme&&self.config.display.showArea&&idea.extraData.area&&React.createElement("div",{className:"osc-divider"}),self.config.display.showArea&&idea.extraData.area&&React.createElement("div",{className:"osc-area"},idea.extraData.area)));var statsHTML=null,stats,argcountHTML;self.config.display.showStats&&(stats=[],this.config.idea.showVoteButtons&&1==this.config.vote.isViewable&&this.config.vote.voteValues.find(function(e){return"yes"===e.value})&&stats.push(React.createElement("div",{className:"osc-yes-votes"},idea.yes||0)),this.config.idea.showVoteButtons&&1==this.config.vote.isViewable&&this.config.vote.voteValues.find(function(e){return"no"===e.value})&&stats.push(React.createElement("div",{className:"osc-no-votes"},idea.no||0)),argcountHTML=null,this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)")))&&stats.push(React.createElement("div",{className:"osc-reactions"},idea.argCount||0)),statsHTML=React.createElement("div",{className:"osc-idea-stats-container"},stats.map(function(e,t){return React.createElement("div",{className:"osc-stat",key:"osc-stat-".concat(idea.id,"-").concat(t)},e)})));var voteProgressHTML=null;self.config.display.showVoteProgressbar&&(console.log(idea.progress),voteProgressHTML=React.createElement("div",{className:"osc-progress-container"},React.createElement("div",{className:"osc-progress"},React.createElement("div",{className:"osc-progress-bar osc-status-open",style:{width:idea.progress+"%"}}),React.createElement("div",{className:"osc-progress-target"},self.config.idea.minimumYesVotes))));var typeIconHTML=null,ideaTypeValue;if(self.config.display.showTypeIcon){try{ideaTypeValue=eval("idea.".concat(self.config.typeField))}catch(e){ideaTypeValue=""}var typeDef=self.config.types.find(function(e){return ideaTypeValue&&(e.id==ideaTypeValue||e.name==ideaTypeValue)});typeDef&&typeDef.listicon||(typeDef={listicon:{html:""}});try{"string"==typeof typeDef.listicon&&(typeDef.listicon=JSON.parse(typeDef.listicon))}catch(e){}typeDef.listicon.html&&(typeIconHTML=React.createElement("div",{className:"osc-typeicon"},React.createElement("div",{className:"osc-typeicon-content",dangerouslySetInnerHTML:{__html:typeDef.listicon.html}})))}return React.createElement("div",{id:self.divId,className:"osc-idea-tile osc-displaytype-".concat(self.config.display.type," osc-column osc-").concat(self.config.display.columns,"-columns ").concat(self.props.className||""),onClick:function(e){return self.dispatchIdeaTileClick(e,idea)},onMouseOver:function(e){return self.dispatchIdeaTileMouseOver(e,idea)},onMouseOut:function(e){return self.dispatchIdeaTileMouseOut(e,idea)}},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_2__.IdeaImage,{config:this.config,idea:idea,key:"image-"+idea.id})),React.createElement("div",{className:"osc-idea-tile-content"},statusLabelHTML,React.createElement("h4",{className:"osc-title"},eval("idea.".concat(self.config.idea.titleField))),themeAndAreaHTML,React.createElement("div",{className:"osc-summary"},eval("idea.".concat(self.config.idea.summaryField))),voteProgressHTML,statsHTML),React.createElement("div",{className:"osc-idea-tile-content-alt"},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_2__.IdeaImage,{config:this.config,idea:idea,key:"image-"+idea.id})),React.createElement("h4",{className:"osc-title"},eval("idea.".concat(self.config.idea.titleField))),eval("idea.".concat(self.config.idea.summaryField)),statsHTML),typeIconHTML)}}]),IdeasOverview}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(e,t,n){(function(zt){e.exports=function(){"use strict";var v=function e(t){return/^image/.test(t.type)},u;function t(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){(function(e){return typeof e})}else{(function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})}return t(e)}function e(e,t,n,r){if(!u){typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103}var o=e&&e.defaultProps;var i=arguments.length-3;if(!t&&i!==0){({children:void 0})}if(t&&o){for(var a in o){if(t[a]===void 0){t[a]=o[a]}}}else if(!t){o||{}}if(i===1){t.children=r}else if(i>1){var c=new Array(i);for(var s=0;s<i;s++){c[s]=arguments[s+3]}t.children=c}return{$$typeof:u,type:e,key:n===undefined?null:""+n,ref:null,props:t,_owner:null}}function n(e){var t;if(typeof Symbol==="function"){if(Symbol.asyncIterator){e[Symbol.asyncIterator];if(t!=null)return t.call(e)}if(Symbol.iterator){e[Symbol.iterator];if(t!=null)return t.call(e)}}throw new TypeError("Object is not async iterable")}function l(e){this.wrapped=e}function r(i){var a,c;function e(r,o){return new zt(function(e,t){var n={key:r,arg:o,resolve:e,reject:t,next:null};if(c){c=c.next=n}else{a=c=n;s(r,o)}})}function s(e,t){try{var n=i[e](t);var r=n.value;var o=r instanceof l;zt.resolve(o?r.wrapped:r).then(function(e){if(o){s("next",e);return}u(n.done?"return":"normal",e)},function(e){s("throw",e)})}catch(e){u("throw",e)}}function u(e,t){switch(e){case"return":a.resolve({value:t,done:true});break;case"throw":a.reject(t);break;default:a.resolve({value:t,done:false});break}a=a.next;if(a){s(a.key,a.arg)}else{c=null}}this._invoke=e;if(typeof i.return!=="function"){this.return=undefined}}if(typeof Symbol==="function"&&Symbol.asyncIterator){r.prototype[Symbol.asyncIterator]=function(){return this}}function o(e){return function(){return new r(e.apply(this,arguments))}}function i(e){return new l(e)}function a(r,e){var t={},n=false;function o(t,n){true;new zt(function(e){e(r[t](n))});return{done:false,value:e(n)}}if(typeof Symbol==="function"&&Symbol.iterator){t[Symbol.iterator]=function(){return this}}t.next=function(e){if(n){false;return e}return o("next",e)};if(typeof r.throw==="function"){t.throw=function(e){if(n){false;throw e}return o("throw",e)}}if(typeof r.return==="function"){t.return=function(e){return o("return",e)}}return t}function s(e,t,n,r,o,i,a){try{var c=e[i](a);var s=c.value}catch(e){n(e);return}if(c.done){t(s)}else{zt.resolve(s).then(r,o)}}function c(c){return function(){var e=this,a=arguments;return new zt(function(t,n){var r=c.apply(e,a);function o(e){s(r,t,n,o,i,"next",e)}function i(e){s(r,t,n,o,i,"throw",e)}o(undefined)})}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function p(e,t,n){if(t)d(e.prototype,t);if(n)d(e,n);return e}function h(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=true;if("value"in r)r.writable=true;Object.defineProperty(e,n,r)}if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(var i=0;i<o.length;i++){var a=o[i];var r=t[a];r.configurable=r.enumerable=true;if("value"in r)r.writable=true;Object.defineProperty(e,a,r)}}return e}function m(e,t){var n=Object.getOwnPropertyNames(t);for(var r=0;r<n.length;r++){var o=n[r];var i=Object.getOwnPropertyDescriptor(t,o);if(i&&i.configurable&&e[o]===undefined){Object.defineProperty(e,o,i)}}return e}function g(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function y(){Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};return y.apply(this,arguments)}function b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var r=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))}r.forEach(function(e){g(t,e,n[e])})}return t}function _(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)O(e,t)}function E(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}function w(e){Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return w(e)}function O(e,t){Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return O(e,t)}function I(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function T(e,t,n){if(I()){Reflect.construct}else{(function e(t,n,r){var o=[null];o.push.apply(o,n);var i=Function.bind.apply(t,o);var a=new i;if(r)O(a,r.prototype);return a})}return T.apply(null,arguments)}function S(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function R(e){var r=typeof Map==="function"?new Map:undefined;(function e(t){if(t===null||!S(t))return t;if(typeof t!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof r!=="undefined"){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return T(t,arguments,w(this).constructor)}Object.create(t.prototype,{constructor:{value:n,enumerable:false,writable:true,configurable:true}});return O(n,t)});return R(e)}function P(e,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return t[Symbol.hasInstance](e)}else{return e instanceof t}}function C(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(r.get||r.set){Object.defineProperty(t,n,r)}else{t[n]=e[n]}}}}t.default=e;return t}}function L(e,t){if(e!==t){throw new TypeError("Cannot instantiate an arrow function")}}function M(e){if(e==null)throw new TypeError("Cannot destructure undefined")}function x(e,t){if(e==null)return{};var n={};var r=Object.keys(e);var o,i;for(0;i<r.length;i++){r[i];if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function D(e,t){if(e==null)return{};var n=x(e,t);var r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(0;o<i.length;o++){i[o];if(t.indexOf(r)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,r))continue;n[r]=e[r]}}return n}function A(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return A(e)}function N(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){w(e);if(e===null)break}return e}function F(e,t,n){if(typeof Reflect!=="undefined"&&Reflect.get){Reflect.get}else{(function e(t,n,r){var o=N(t,n);if(!o)return;var i=Object.getOwnPropertyDescriptor(o,n);if(i.get){return i.get.call(r)}return i.value})}return F(e,t,n||e)}function G(e,t,n,r){if(typeof Reflect!=="undefined"&&Reflect.set){Reflect.set}else{(function e(t,n,r,o){var i=N(t,n);var a;if(i){Object.getOwnPropertyDescriptor(i,n);if(a.set){a.set.call(o,r);return true}else if(!a.writable){return false}}Object.getOwnPropertyDescriptor(o,n);if(a){if(!a.writable){return false}a.value=r;Object.defineProperty(o,n,a)}else{g(o,n,r)}return true})}return G(e,t,n,r)}function B(e,t,n,r,o){var i=G(e,t,n,r||e);if(!i&&o){throw new Error("failed to set property")}return n}function q(e,t){if(!t){e.slice(0)}return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function U(e,t){if(!t){e.slice(0)}e.raw=t;return e}function V(e,t){if(e===z){throw new ReferenceError(t+" is not defined - temporal dead zone")}else{return e}}function H(e){throw new Error('"'+e+'" is read-only')}function W(e){throw new Error('Class "'+e+'" cannot be referenced in computed property keys.')}r.prototype.next=function(e){return this._invoke("next",e)},r.prototype.throw=function(e){return this._invoke("throw",e)},r.prototype.return=function(e){return this._invoke("return",e)};var z={};function Y(e,t){return Z(e)||ee(e,t)||re()}function K(e,t){return Z(e)||te(e,t)||re()}function X(e){return Z(e)||$(e)||re()}function Q(e){return J(e)||$(e)||ne()}function J(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function Z(e){if(Array.isArray(e))return e}function $(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function ee(e,t){var n=[];var r=true;var o=false;var i=undefined;try{for(var a=e[Symbol.iterator](),c;!(r=(c=a.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(e){o=true;i=e}finally{try{if(!r&&a["return"]!=null)a["return"]()}finally{if(o)throw i}}return n}function te(e,t){var n=[];for(var r=e[Symbol.iterator](),o;!r.next().done;){n.push(o.value);if(t&&n.length===t)break}return n}function ne(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function re(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function oe(t){return function(){var e=t.apply(this,arguments);e.next();return e}}function ie(e,t){if(typeof e!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if(typeof r!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ae(e){var t=ie(e,"string");return typeof t==="symbol"?t:String(t)}function ce(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and set to use loose mode. "+"To use proposal-class-properties in spec mode with decorators, wait for "+"the next major version of decorators in stage 2.")}function se(e,t,n,r){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ue(n,r,e,t,o){var i={};Object.keys(t).forEach(function(e){i[e]=t[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}e.slice().reverse().reduce(function(e,t){return t(n,r,e)||e},i);if(o&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(o):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(n,r,i);null}return i}var le=0;function fe(e){return"__private_"+le+++"_"+e}function de(e,t){if(!Object.prototype.hasOwnProperty.call(e,t)){throw new TypeError("attempted to use private field on non-instance")}return e}function pe(e,t){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}var n=t.get(e);if(n.get){return n.get.call(e)}return n.value}function he(e,t,n){if(!t.has(e)){throw new TypeError("attempted to set private field on non-instance")}var r=t.get(e);if(r.set){r.set.call(e,n)}else{if(!r.writable){throw new TypeError("attempted to set read only private field")}r.value=n}return n}function ve(e,t,n){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return n.value}function me(e,t,n,r){if(e!==t){throw new TypeError("Private static access of wrong provenance")}if(!n.writable){throw new TypeError("attempted to set read only private field")}n.value=r;return r}function ge(e,t,n){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return n}function ye(){throw new TypeError("attempted to set read only static private field")}function be(e,t,n,r){var o=_e();if(r){for(var i=0;i<r.length;i++){r[i](o)}}var a=t(function e(t){o.initializeInstanceElements(t,c.elements)},n);var c=o.decorateClass(Oe(a.d.map(Ee)),e);o.initializeClassElements(a.F,c.elements);return o.runClassFinishers(a.F,c.finishers)}function _e(){(function(){return e});var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(n,e){["method","field"].forEach(function(t){e.forEach(function(e){if(e.kind===t&&e.placement==="own"){this.defineClassElement(n,e)}},this)},this)},initializeClassElements:function(o,e){var i=o.prototype;["method","field"].forEach(function(r){e.forEach(function(e){var t=e.placement;if(e.kind===r&&(t==="static"||t==="prototype")){var n=t==="static"?o:i;this.defineClassElement(n,e)}},this)},this)},defineClassElement:function(e,t){var n=t.descriptor;if(t.kind==="field"){var r=t.initializer;({enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:r===void 0?void 0:r.call(e)})}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[];var r=[];var o={static:[],prototype:[],own:[]};e.forEach(function(e){this.addElementPlacement(e,o)},this);e.forEach(function(e){if(!Ie(e))return n.push(e);var t=this.decorateElement(e,o);n.push(t.element);n.push.apply(n,t.extras);r.push.apply(r,t.finishers)},this);if(!t){return{elements:n,finishers:r}}var i=this.decorateConstructor(n,t);r.push.apply(r,i.finishers);i.finishers=r;return i},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&r.indexOf(e.key)!==-1){throw new TypeError("Duplicated element ("+e.key+")")}r.push(e.key)},decorateElement:function(e,t){var n=[];var r=[];for(var o=e.decorators,i=o.length-1;i>=0;i--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var c=this.fromElementDescriptor(e);var s=this.toElementFinisherExtras((0,o[i])(c)||c);s.element;this.addElementPlacement(e,t);if(s.finisher){r.push(s.finisher)}var u=s.extras;if(u){for(var l=0;l<u.length;l++){this.addElementPlacement(u[l],t)}n.push.apply(n,u)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){var n=[];for(var r=t.length-1;r>=0;r--){var o=this.fromClassDescriptor(e);var i=this.toClassDescriptor((0,t[r])(o)||o);if(i.finisher!==undefined){n.push(i.finisher)}if(i.elements!==undefined){i.elements;for(var a=0;a<e.length-1;a++){for(var c=a+1;c<e.length;c++){if(e[a].key===e[c].key&&e[a].placement===e[c].placement){throw new TypeError("Duplicated element ("+e[a].key+")")}}}}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};var n={value:"Descriptor",configurable:true};Object.defineProperty(t,Symbol.toStringTag,n);if(e.kind==="field")t.initializer=e.initializer;return t},toElementDescriptors:function(e){if(e===undefined)return;return X(e).map(function(e){var t=this.toElementDescriptor(e);this.disallowProperty(e,"finisher","An element descriptor");this.disallowProperty(e,"extras","An element descriptor");return t},this)},toElementDescriptor:function(e){var t=String(e.kind);if(t!=="method"&&t!=="field"){throw new TypeError('An element descriptor\'s .kind property must be either "method" or'+' "field", but a decorator created an element descriptor with'+' .kind "'+t+'"')}var n=ae(e.key);var r=String(e.placement);if(r!=="static"&&r!=="prototype"&&r!=="own"){throw new TypeError('An element descriptor\'s .placement property must be one of "static",'+' "prototype" or "own", but a decorator created an element descriptor'+' with .placement "'+r+'"')}var o=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var i={kind:t,key:n,placement:r,descriptor:Object.assign({},o)};if(t!=="field"){this.disallowProperty(e,"initializer","A method descriptor")}else{this.disallowProperty(o,"get","The property descriptor of a field descriptor");this.disallowProperty(o,"set","The property descriptor of a field descriptor");this.disallowProperty(o,"value","The property descriptor of a field descriptor");i.initializer=e.initializer}return i},toElementFinisherExtras:function(e){var t=this.toElementDescriptor(e);var n=Se(e,"finisher");var r=this.toElementDescriptors(e.extras);return{element:t,finisher:n,extras:r}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};var n={value:"Descriptor",configurable:true};Object.defineProperty(t,Symbol.toStringTag,n);return t},toClassDescriptor:function(e){var t=String(e.kind);if(t!=="class"){throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator'+' created a class descriptor with .kind "'+t+'"')}this.disallowProperty(e,"key","A class descriptor");this.disallowProperty(e,"placement","A class descriptor");this.disallowProperty(e,"descriptor","A class descriptor");this.disallowProperty(e,"initializer","A class descriptor");this.disallowProperty(e,"extras","A class descriptor");var n=Se(e,"finisher");var r=this.toElementDescriptors(e.elements);return{elements:r,finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(r!==undefined){if(typeof r!=="function"){throw new TypeError("Finishers must return a constructor.")}r}}return e},disallowProperty:function(e,t,n){if(e[t]!==undefined){throw new TypeError(n+" can't have a ."+t+" property.")}}};return e}function Ee(e){var t=ae(e.key);var n;if(e.kind==="method"){({value:e.value,writable:true,configurable:true,enumerable:false})}else if(e.kind==="get"){({get:e.value,configurable:true,enumerable:false})}else if(e.kind==="set"){({set:e.value,configurable:true,enumerable:false})}else if(e.kind==="field"){({configurable:true,writable:true,enumerable:true})}var r={kind:e.kind==="field"?"field":"method",key:t,placement:e.static?"static":e.kind==="field"?"own":"prototype",descriptor:n};if(e.decorators)r.decorators=e.decorators;if(e.kind==="field")r.initializer=e.value;return r}function we(e,t){if(e.descriptor.get!==undefined){t.descriptor.get=e.descriptor.get}else{t.descriptor.set=e.descriptor.set}}function Oe(e){var t=[];var n=function(e){return e.kind==="method"&&e.key===o.key&&e.placement===o.placement};for(var r=0;r<e.length;r++){var o=e[r];var i;if(o.kind==="method"&&t.find(n)){if(Te(o.descriptor)||Te(i.descriptor)){if(Ie(o)||Ie(i)){throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.")}i.descriptor=o.descriptor}else{if(Ie(o)){if(Ie(i)){throw new ReferenceError("Decorators can't be placed on different accessors with for "+"the same property ("+o.key+").")}i.decorators=o.decorators}we(o,i)}}else{t.push(o)}}return t}function Ie(e){return e.decorators&&e.decorators.length}function Te(e){return e!==undefined&&!(e.value===undefined&&e.writable===undefined)}function Se(e,t){var n=e[t];if(n!==undefined&&typeof n!=="function"){throw new TypeError("Expected '"+t+"' to be a function")}return n}function Re(e,t,n){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return n}function Pe(){throw new TypeError("attempted to reassign private method")}function Ce(e,t){(function(e,t){return new n(e,t)});var r=R(RegExp);var o=RegExp.prototype;var i=new WeakMap;function n(e,t){var n=r.call(this,e);i.set(n,t);return n}_(n,r);(function(e){var t=o.exec.call(this,e);if(t)t.groups=a(t,this);return t});Symbol.replace,function(e,t){if(typeof t==="string"){var n=i.get(this);return o[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+n[t]}))}else if(typeof t==="function"){var r=this;return o[Symbol.replace].call(this,e,function(){var e=[];e.push.apply(e,arguments);if(typeof e[e.length-1]!=="object"){e.push(a(e,r))}return t.apply(this,e)})}else{return o[Symbol.replace].call(this,e,t)}};function a(n,e){var r=i.get(e);return Object.keys(r).reduce(function(e,t){e[t]=n[r[t]];return e},Object.create(null))}return Ce.apply(this,arguments)}var ke=function e(t,n){return De(t.x*n,t.y*n)},Le=function e(t,n){return De(t.x+n.x,t.y+n.y)},Me=function e(t){var n=Math.sqrt(t.x*t.x+t.y*t.y);if(n===0){return{x:0,y:0}}return De(t.x/n,t.y/n)},xe=function e(t,n,r){var o=Math.cos(n);var i=Math.sin(n);var a=De(t.x-r.x,t.y-r.y);return De(r.x+o*a.x-i*a.y,r.y+i*a.x+o*a.y)},De=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return{x:t,y:n}},Ae=function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var o=arguments.length>3?arguments[3]:undefined;if(typeof t==="string"){return parseFloat(t)*r}if(typeof t==="number"){return t*(o?n[o]:Math.min(n.width,n.height))}return},je=function e(t,n,r){var o=t.borderStyle||t.lineStyle||"solid";var i=t.backgroundColor||t.fontColor||"transparent";var a=t.borderColor||t.lineColor||"transparent";var c=Ae(t.borderWidth||t.lineWidth,n,r);var s=t.lineCap||"round";var u=t.lineJoin||"round";var l=typeof o==="string"?"":o.map(function(e){return Ae(e,n,r)}).join(",");var f=t.opacity||1;return{"stroke-linecap":s,"stroke-linejoin":u,"stroke-width":c||0,"stroke-dasharray":l,stroke:a,fill:i,opacity:f}},Ne=function e(t){return t!=null},Fe=function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var o=Ae(t.x,n,r,"width")||Ae(t.left,n,r,"width");var i=Ae(t.y,n,r,"height")||Ae(t.top,n,r,"height");var a=Ae(t.width,n,r,"width");var c=Ae(t.height,n,r,"height");var s=Ae(t.right,n,r,"width");var u=Ae(t.bottom,n,r,"height");if(!Ne(i)){if(Ne(c)&&Ne(u)){i=n.height-c-u}else{i=u}}if(!Ne(o)){if(Ne(a)&&Ne(s)){o=n.width-a-s}else{o=s}}if(!Ne(a)){if(Ne(o)&&Ne(s)){a=n.width-o-s}else{a=0}}if(!Ne(c)){if(Ne(i)&&Ne(u)){c=n.height-i-u}else{c=0}}return{x:o||0,y:i||0,width:a||0,height:c||0}},Ge=function e(t){return t.map(function(e,t){return"".concat(t===0?"M":"L"," ").concat(e.x," ").concat(e.y)}).join(" ")},Be=function e(t,n){return Object.keys(n).forEach(function(e){return t.setAttribute(e,n[e])})},qe="http://www.w3.org/2000/svg",Ue=function e(t,n){var r=document.createElementNS(qe,t);if(n){Be(r,n)}return r},Ve,He,We={contain:"xMidYMid meet",cover:"xMidYMid slice"},ze,Ye={left:"start",center:"middle",right:"end"},Ke,Xe,Qe,Je=function e(t){return function(e){return Ue(t,{id:e.id})}},Ze,$e,et={image:function e(t){var n=Ue("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});n.onload=function(){n.setAttribute("opacity",t.opacity||1)};n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src);return n},rect:Je("rect"),ellipse:Je("ellipse"),text:Je("text"),path:Je("path"),line:function e(t){var n=Ue("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"});var r=Ue("line");n.appendChild(r);var o=Ue("path");n.appendChild(o);var i=Ue("path");n.appendChild(i);return n}},tt={rect:function e(t){return Be(t,Object.assign({},t.rect,t.styles))},ellipse:function e(t){var n=t.rect.x+t.rect.width*.5;var r=t.rect.y+t.rect.height*.5;var o=t.rect.width*.5;var i=t.rect.height*.5;return Be(t,Object.assign({cx:n,cy:r,rx:o,ry:i},t.styles))},image:function e(t,n){Be(t,Object.assign({},t.rect,t.styles,{preserveAspectRatio:We[n.fit]||"none"}))},text:function e(t,n,r,o){var i=Ae(n.fontSize,r,o);var a=n.fontFamily||"sans-serif";var c=n.fontWeight||"normal";var s=Ye[n.textAlign]||"start";Be(t,Object.assign({},t.rect,t.styles,{"stroke-width":0,"font-weight":c,"font-size":i,"font-family":a,"text-anchor":s}));if(t.text!==n.text){t.text=n.text;t.textContent=n.text.length?n.text:" "}},path:function e(t,n,r,o){Be(t,Object.assign({},t.styles,{fill:"none",d:Ge(n.points.map(function(e){return{x:Ae(e.x,r,o,"width"),y:Ae(e.y,r,o,"height")}}))}))},line:function e(t,n,r,o){Be(t,Object.assign({},t.rect,t.styles,{fill:"none"}));var i=t.childNodes[0];var a=t.childNodes[1];var c=t.childNodes[2];var s=t.rect;var u={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};Be(i,{x1:s.x,y1:s.y,x2:u.x,y2:u.y});if(!n.lineDecoration)return;a.style.display="none";c.style.display="none";var l=Me({x:u.x-s.x,y:u.y-s.y});var f=Ae(.05,r,o);if(n.lineDecoration.indexOf("arrow-begin")!==-1){var d=ke(l,f);var p=Le(s,d);var h=xe(s,2,p);var v=xe(s,-2,p);Be(a,{style:"display:block;",d:"M".concat(h.x,",").concat(h.y," L").concat(s.x,",").concat(s.y," L").concat(v.x,",").concat(v.y)})}if(n.lineDecoration.indexOf("arrow-end")!==-1){var m=ke(l,-f);var g=Le(u,m);var y=xe(u,2,g);var b=xe(u,-2,g);Be(c,{style:"display:block;",d:"M".concat(y.x,",").concat(y.y," L").concat(u.x,",").concat(u.y," L").concat(b.x,",").concat(b.y)})}}},nt=function e(t,n){return et[t](n)},rt=function e(t,n,r,o,i){if(n!=="path"){t.rect=Fe(r,o,i)}t.styles=je(r,o,i);tt[n](t,r,o,i)},ot=["x","y","left","top","right","bottom","width","height"],it=function e(t){return typeof t==="string"&&/%/.test(t)?parseFloat(t)/100:t},at=function e(t){var n=Y(t,2),r=n[0],o=n[1];var i=o.points?{}:ot.reduce(function(e,t){e[t]=it(o[t]);return e},{});return[r,Object.assign({zIndex:0},o,i)]},ct=function e(t,n){if(t[1].zIndex>n[1].zIndex){return 1}if(t[1].zIndex<n[1].zIndex){return-1}return 0},st=function e(t){return t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:true,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function e(t){var i=t.root,n=t.props;if(!n.dirty)return;var r=n.crop,o=n.resize,a=n.markup;var c=n.width;var s=n.height;var u=r.width;var l=r.height;if(o){var f=o.size;var d=f&&f.width;var p=f&&f.height;var h=o.mode;var v=o.upscale;if(d&&!p)p=d;if(p&&!d)d=p;var m=u<d&&l<p;if(!m||m&&v){var g=d/u;var y=p/l;if(h==="force"){u=d;l=p}else{var b;if(h==="cover"){b=Math.max(g,y)}else if(h==="contain"){b=Math.min(g,y)}u=u*b;l=l*b}}}var _={width:c,height:s};i.element.setAttribute("width",_.width);i.element.setAttribute("height",_.height);var E=Math.min(c/u,s/l);i.element.innerHTML="";var w=i.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");a.filter(w).map(at).sort(ct).forEach(function(e){var t=Y(e,2),n=t[0],r=t[1];var o=nt(n,r);rt(o,n,r,_,E);i.element.appendChild(o)})}})},ut=function e(t,n){return{x:t,y:n}},lt=function e(t,n){return t.x*n.x+t.y*n.y},ft=function e(t,n){return ut(t.x-n.x,t.y-n.y)},dt=function e(t,n){return lt(ft(t,n),ft(t,n))},pt=function e(t,n){return Math.sqrt(dt(t,n))},ht=function e(t,n){var r=t;var o=1.5707963267948966;var i=n;var a=1.5707963267948966-n;var c=Math.sin(o);var s=Math.sin(i);var u=Math.sin(a);var l=Math.cos(a);var f=r/c;var d=f*s;var p=f*u;return ut(l*d,l*p)},vt=function e(t,n){var r=t.width;var o=t.height;var i=ht(r,n);var a=ht(o,n);var c=ut(t.x+Math.abs(i.x),t.y-Math.abs(i.y));var s=ut(t.x+t.width+Math.abs(a.y),t.y+Math.abs(a.x));var u=ut(t.x-Math.abs(a.y),t.y+t.height-Math.abs(a.x));return{width:pt(c,s),height:pt(c,u)}},mt=function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var o=t.height/t.width;var i=1;var a=n;var c=1;var s=o;if(s>a){s=a;c=s/o}var u=Math.max(i/c,a/s);var l=t.width/(r*u*c);var f=l*n;return{width:l,height:f}},gt=function e(t,n,r,o){var i=o.x>.5?1-o.x:o.x;var a=o.y>.5?1-o.y:o.y;var c=i*2*t.width;var s=a*2*t.height;var u=vt(n,r);return Math.max(u.width/c,u.height/s)},yt=function e(t,n){var r=t.width;var o=r*n;if(o>t.height){o=t.height;r=o/n}var i=(t.width-r)*.5;var a=(t.height-o)*.5;return{x:i,y:a,width:r,height:o}},bt=function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=n.zoom,o=n.rotation,i=n.center,a=n.aspectRatio;if(!a)a=t.height/t.width;var c=mt(t,a,r);var s={x:c.width*.5,y:c.height*.5};var u={x:0,y:0,width:c.width,height:c.height,center:s};var l=typeof n.scaleToFit==="undefined"||n.scaleToFit;var f=gt(t,yt(u,a),o,l?i:{x:.5,y:.5});var d=r*f;return{widthFloat:c.width/d,heightFloat:c.height/d,width:Math.round(c.width/d),height:Math.round(c.height/d)}},_t={type:"spring",stiffness:.5,damping:.45,mass:10},Et=function e(t){return t.utils.createView({name:"image-bitmap",ignoreRect:true,mixins:{styles:["scaleX","scaleY"]},create:function e(t){var n=t.root,r=t.props;n.appendChild(r.image)}})},wt=function e(o){return o.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:true,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:_t,originY:_t,scaleX:_t,scaleY:_t,translateX:_t,translateY:_t,rotateZ:_t}},create:function e(t){var n=t.root,r=t.props;r.width=r.image.width;r.height=r.image.height;n.ref.bitmap=n.appendChildView(n.createChildView(Et(o),{image:r.image}))},write:function e(t){var n=t.root,r=t.props;var o=r.crop.flip;var i=n.ref.bitmap;i.scaleX=o.horizontal?-1:1;i.scaleY=o.vertical?-1:1}})},Ot=function e(i){return i.utils.createView({name:"image-clip",tag:"div",ignoreRect:true,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function e(t){var n=t.root,r=t.props;if(!r.background)return;n.element.style.backgroundColor=r.background},create:function e(t){var n=t.root,r=t.props;n.ref.image=n.appendChildView(n.createChildView(wt(i),Object.assign({},r)));n.ref.createMarkup=function(){if(n.ref.markup)return;n.ref.markup=n.appendChildView(n.createChildView(st(i),Object.assign({},r)))};n.ref.destroyMarkup=function(){if(!n.ref.markup)return;n.removeChildView(n.ref.markup);n.ref.markup=null};var o=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");if(o===null)return;if(o==="grid"){n.element.dataset.transparencyIndicator=o}else{n.element.dataset.transparencyIndicator="color"}},write:function e(t){var n=t.root,r=t.props,o=t.shouldOptimize;var i=r.crop,a=r.markup,c=r.resize,s=r.dirty,u=r.width,l=r.height;n.ref.image.crop=i;var f={x:0,y:0,width:u,height:l,center:{x:u*.5,y:l*.5}};var d={width:n.ref.image.width,height:n.ref.image.height};var p={x:i.center.x*d.width,y:i.center.y*d.height};var h={x:f.center.x-d.width*i.center.x,y:f.center.y-d.height*i.center.y};var v=Math.PI*2+i.rotation%(Math.PI*2);var m=i.aspectRatio||d.height/d.width;var g=typeof i.scaleToFit==="undefined"||i.scaleToFit;var y=gt(d,yt(f,m),v,g?i.center:{x:.5,y:.5});var b=i.zoom*y;if(a&&a.length){n.ref.createMarkup();n.ref.markup.width=u;n.ref.markup.height=l;n.ref.markup.resize=c;n.ref.markup.dirty=s;n.ref.markup.markup=a;n.ref.markup.crop=bt(d,i)}else if(n.ref.markup){n.ref.destroyMarkup()}var _=n.ref.image;if(o){_.originX=null;_.originY=null;_.translateX=null;_.translateY=null;_.rotateZ=null;_.scaleX=null;_.scaleY=null;return}_.originX=p.x;_.originY=p.y;_.translateX=h.x;_.translateY=h.y;_.rotateZ=v;_.scaleX=b;_.scaleY=b}})},It=function e(o){return o.utils.createView({name:"image-preview",tag:"div",ignoreRect:true,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:_t,scaleY:_t,translateY:_t,opacity:{type:"tween",duration:400}}},create:function e(t){var n=t.root,r=t.props;n.ref.clip=n.appendChildView(n.createChildView(Ot(o),{id:r.id,image:r.image,crop:r.crop,markup:r.markup,resize:r.resize,dirty:r.dirty,background:r.background}))},write:function e(t){var n=t.root,r=t.props,o=t.shouldOptimize;var i=n.ref.clip;var a=r.image,c=r.crop,s=r.markup,u=r.resize,l=r.dirty;i.crop=c;i.markup=s;i.resize=u;i.dirty=l;i.opacity=o?0:1;if(o||n.rect.element.hidden)return;var f=a.height/a.width;var d=c.aspectRatio||f;var p=n.rect.inner.width;var h=n.rect.inner.height;var v=n.query("GET_IMAGE_PREVIEW_HEIGHT");var m=n.query("GET_IMAGE_PREVIEW_MIN_HEIGHT");var g=n.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");var y=n.query("GET_PANEL_ASPECT_RATIO");var b=n.query("GET_ALLOW_MULTIPLE");if(y&&!b){v=p*y;d=y}var _=v!==null?v:Math.max(m,Math.min(p*d,g));var E=_/d;if(E>p){E=p;_=E*d}if(_>h){_=h;E=h/d}i.width=E;i.height=_}})},Tt='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',St=false,Rt=0,Pt=function e(t){return t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:true,create:function e(t){var n=t.root,r=t.props;if(!St&&document.querySelector("base")){Tt=Tt.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#");St=true}Rt++;n.element.classList.add("filepond--image-preview-overlay-".concat(r.status));n.element.innerHTML=Tt.replace(/__UID__/g,Rt)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},Ct=function e(){self.onmessage=function(t){createImageBitmap(t.data.message.file).then(function(e){self.postMessage({id:t.data.id,message:e},[e])})}},kt=function e(){self.onmessage=function(e){var t=e.data.message.imageData;var n=e.data.message.colorMatrix;var r=t.data;var o=r.length;var i=n[0];var a=n[1];var c=n[2];var s=n[3];var u=n[4];var l=n[5];var f=n[6];var d=n[7];var p=n[8];var h=n[9];var v=n[10];var m=n[11];var g=n[12];var y=n[13];var b=n[14];var _=n[15];var E=n[16];var w=n[17];var O=n[18];var I=n[19];var T=0,S=0,R=0,P=0,C=0;for(;T<o;T+=4){S=r[T]/255;R=r[T+1]/255;P=r[T+2]/255;C=r[T+3]/255;r[T]=Math.max(0,Math.min((S*i+R*a+P*c+C*s+u)*255,255));r[T+1]=Math.max(0,Math.min((S*l+R*f+P*d+C*p+h)*255,255));r[T+2]=Math.max(0,Math.min((S*v+R*m+P*g+C*y+b)*255,255));r[T+3]=Math.max(0,Math.min((S*_+R*E+P*w+C*O+I)*255,255))}self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},Lt=function e(t,n){var r=new Image;r.onload=function(){var e=r.naturalWidth;var t=r.naturalHeight;r=null;n(e,t)};r.src=t},Mt={1:function e(){return[1,0,0,1,0,0]},2:function e(t){return[-1,0,0,1,t,0]},3:function e(t,n){return[-1,0,0,-1,t,n]},4:function e(t,n){return[1,0,0,-1,0,n]},5:function e(){return[0,1,1,0,0,0]},6:function e(t,n){return[0,1,-1,0,n,0]},7:function e(t,n){return[0,-1,-1,0,n,t]},8:function e(t){return[0,-1,1,0,0,t]}},xt=function e(t,n,r,o){if(o===-1){return}t.transform.apply(t,Mt[o](n,r))},Dt=function e(t,n,r,o){n=Math.round(n);r=Math.round(r);var i=document.createElement("canvas");i.width=n;i.height=r;var a=i.getContext("2d");if(o>=5&&o<=8){var c=[r,n];n=c[0];r=c[1]}xt(a,n,r,o);a.drawImage(t,0,0,n,r);return i},At=function e(t){return/^image/.test(t.type)&&!/svg/.test(t.type)},jt=10,Nt=10,Ft=function e(t){var n=Math.min(jt/t.width,Nt/t.height);var r=document.createElement("canvas");var o=r.getContext("2d");var i=r.width=Math.ceil(t.width*n);var a=r.height=Math.ceil(t.height*n);o.drawImage(t,0,0,i,a);var c=null;try{c=o.getImageData(0,0,i,a).data}catch(e){return null}var s=c.length;var u=0;var l=0;var f=0;var d=0;for(;d<s;d+=4){u+=c[d]*c[d];l+=c[d+1]*c[d+1];f+=c[d+2]*c[d+2]}u=Gt(u,s);l=Gt(l,s);f=Gt(f,s);return{r:u,g:l,b:f}},Gt=function e(t,n){return Math.floor(Math.sqrt(t/(n/4)))},Bt=function e(t,n){n=n||document.createElement("canvas");n.width=t.width;n.height=t.height;var r=n.getContext("2d");r.drawImage(t,0,0);return n},qt=function e(t){var n;try{n=new ImageData(t.width,t.height)}catch(e){var r=document.createElement("canvas");var o=r.getContext("2d");n=o.createImageData(t.width,t.height)}n.data.set(new Uint8ClampedArray(t.data));return n},Ut=function e(r){return new zt(function(e,t){var n=new Image;n.crossOrigin="Anonymous";n.onload=function(){e(n)};n.onerror=function(e){t(e)};n.src=r})},Vt=function e(t){var r=Pt(t);var p=It(t);var a=t.utils.createWorker;var w=function e(r,o,i){return new zt(function(t){if(!r.ref.imageData){r.ref.imageData=i.getContext("2d").getImageData(0,0,i.width,i.height)}var e=qt(r.ref.imageData);if(!o||o.length!==20){i.getContext("2d").putImageData(e,0,0);return t()}var n=a(kt);n.post({imageData:e,colorMatrix:o},function(e){i.getContext("2d").putImageData(e,0,0);n.terminate();t()},[e.data.buffer])})};var o=function e(t,n){t.removeChildView(n);n.image.width=1;n.image.height=1;n._destroy()};var l=function e(t){var n=t.root;var r=n.ref.images.shift();r.opacity=0;r.translateY=-15;n.ref.imageViewBin.push(r);return r};var O=function e(t){var n=t.root,r=t.props,o=t.image;var i=r.id;var a=n.query("GET_ITEM",{id:i});if(!a)return;var c=a.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:false,vertical:false},zoom:1,rotation:0,aspectRatio:null};var s=n.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");var u;var l;var f=false;if(n.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")){u=a.getMetadata("markup")||[];l=a.getMetadata("resize");f=true}var d=n.appendChildView(n.createChildView(p,{id:i,image:o,crop:c,resize:l,markup:u,dirty:f,background:s,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),n.childViews.length);n.ref.images.push(d);d.opacity=1;d.scaleX=1;d.scaleY=1;d.translateY=0;setTimeout(function(){n.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:i})},250)};var f=function e(t){var n=t.root,r=t.props;var o=n.query("GET_ITEM",{id:r.id});if(!o)return;var i=n.ref.images[n.ref.images.length-1];i.crop=o.getMetadata("crop");i.background=n.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");if(n.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")){i.dirty=true;i.resize=o.getMetadata("resize");i.markup=o.getMetadata("markup")}};var n=function e(t){var n=t.root,r=t.props,o=t.action;if(!/crop|filter|markup|resize/.test(o.change.key))return;if(!n.ref.images.length)return;var i=n.query("GET_ITEM",{id:r.id});if(!i)return;if(/filter/.test(o.change.key)){var a=n.ref.images[n.ref.images.length-1];w(n,o.change.value,a.image);return}if(/crop|markup|resize/.test(o.change.key)){var c=i.getMetadata("crop");var s=n.ref.images[n.ref.images.length-1];if(Math.abs(c.aspectRatio-s.crop.aspectRatio)>1e-5){var u=l({root:n});O({root:n,props:r,image:Bt(u.image)})}else{f({root:n,props:r})}}};var c=function e(t){var n=window.navigator.userAgent;var r=n.match(/Firefox\/([0-9]+)\./);var o=r?parseInt(r[1]):null;if(o<=58)return false;return"createImageBitmap"in window&&At(t)};var i=function e(t){var n=t.root,r=t.props;var o=r.id;var i=n.query("GET_ITEM",o);if(!i)return;var a=URL.createObjectURL(i.file);Lt(a,function(e,t){n.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:o,width:e,height:t})})};var s=function e(t){var y=t.root,b=t.props;var n=b.id;var _=y.query("GET_ITEM",n);if(!_)return;var E=URL.createObjectURL(_.file);var r=function e(){Ut(E).then(o)};var o=function e(n){URL.revokeObjectURL(E);var t=_.getMetadata("exif")||{};var r=t.orientation||-1;var o=n.width,i=n.height;if(!o||!i)return;if(r>=5&&r<=8){var a=[i,o];o=a[0];i=a[1]}var c=Math.max(1,window.devicePixelRatio*.75);var s=y.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR");var u=s*c;var l=i/o;var f=y.rect.element.width;var d=y.rect.element.height;var p=f;var h=p*l;if(l>1){p=Math.min(o,f*u);h=p*l}else{h=Math.min(i,d*u);p=h/l}var v=Dt(n,p,h,r);var m=function e(){var t=y.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?Ft(data):null;_.setMetadata("color",t,true);if("close"in n){n.close()}y.ref.overlayShadow.opacity=1;O({root:y,props:b,image:v})};var g=_.getMetadata("filter");if(g){w(y,g,v).then(m)}else{m()}};if(c(_.file)){var i=a(Ct);i.post({file:_.file},function(e){i.terminate();if(!e){r();return}o(e)})}else{r()}};var u=function e(t){var n=t.root;var r=n.ref.images[n.ref.images.length-1];r.translateY=0;r.scaleX=1;r.scaleY=1;r.opacity=1};var d=function e(t){var n=t.root;n.ref.overlayShadow.opacity=1;n.ref.overlayError.opacity=0;n.ref.overlaySuccess.opacity=0};var h=function e(t){var n=t.root;n.ref.overlayShadow.opacity=.25;n.ref.overlayError.opacity=1};var v=function e(t){var n=t.root;n.ref.overlayShadow.opacity=.25;n.ref.overlaySuccess.opacity=1};var m=function e(t){var n=t.root;n.ref.images=[];n.ref.imageData=null;n.ref.imageViewBin=[];n.ref.overlayShadow=n.appendChildView(n.createChildView(r,{opacity:0,status:"idle"}));n.ref.overlaySuccess=n.appendChildView(n.createChildView(r,{opacity:0,status:"success"}));n.ref.overlayError=n.appendChildView(n.createChildView(r,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:m,styles:["height"],apis:["height"],destroy:function e(t){var n=t.root;n.ref.images.forEach(function(e){e.image.width=1;e.image.height=1})},didWriteView:function e(t){var n=t.root;n.ref.images.forEach(function(e){e.dirty=false})},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:u,DID_IMAGE_PREVIEW_CONTAINER_CREATE:i,DID_FINISH_CALCULATE_PREVIEWSIZE:s,DID_UPDATE_ITEM_METADATA:n,DID_THROW_ITEM_LOAD_ERROR:h,DID_THROW_ITEM_PROCESSING_ERROR:h,DID_THROW_ITEM_INVALID:h,DID_COMPLETE_ITEM_PROCESSING:v,DID_START_ITEM_PROCESSING:d,DID_REVERT_ITEM_PROCESSING:d},function(e){var t=e.root;var n=t.ref.imageViewBin.filter(function(e){return e.opacity===0});t.ref.imageViewBin=t.ref.imageViewBin.filter(function(e){return e.opacity>0});n.forEach(function(e){return o(t,e)});n.length=0})})},Ht=function e(t){var n=t.addFilter,r=t.utils;var o=r.Type,c=r.createRoute,p=r.isFile;var h=Vt(t);n("CREATE_VIEW",function(e){var t=e.is,f=e.view,d=e.query;if(!t("file")||!d("GET_ALLOW_IMAGE_PREVIEW"))return;var n=function e(t){var n=t.root,r=t.props;var o=r.id;var i=d("GET_ITEM",o);if(!i||!p(i.file)||i.archived)return;var a=i.file;if(!v(a))return;if(!d("GET_IMAGE_PREVIEW_FILTER_ITEM")(i))return;var c="createImageBitmap"in(window||{});var s=d("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!c&&s&&a.size>s)return;n.ref.imagePreview=f.appendChildView(f.createChildView(h,{id:o}));var u=n.query("GET_IMAGE_PREVIEW_HEIGHT");if(u){n.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:i.id,height:u})}var l=!c&&a.size>d("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");n.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:o},l)};var r=function e(t,n){if(!t.ref.imagePreview)return;var r=n.id;var o=t.query("GET_ITEM",{id:r});if(!o)return;var i=t.query("GET_PANEL_ASPECT_RATIO");var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO");var c=t.query("GET_IMAGE_PREVIEW_HEIGHT");if(i||a||c)return;var s=t.ref,u=s.imageWidth,l=s.imageHeight;if(!u||!l)return;var f=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT");var d=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");var p=o.getMetadata("exif")||{};var h=p.orientation||-1;if(h>=5&&h<=8){var v=[l,u];u=v[0];l=v[1]}if(!At(o.file)||t.query("GET_IMAGE_PREVIEW_UPSCALE")){var m=2048/u;u*=m;l*=m}var g=l/u;var y=(o.getMetadata("crop")||{}).aspectRatio||g;var b=Math.max(f,Math.min(l,d));var _=t.rect.element.width;var E=Math.min(_*y,b);t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:o.id,height:E})};var o=function e(t){var n=t.root;n.ref.shouldRescale=true};var i=function e(t){var n=t.root,r=t.action;if(r.change.key!=="crop")return;n.ref.shouldRescale=true};var a=function e(t){var n=t.root,r=t.action;n.ref.imageWidth=r.width;n.ref.imageHeight=r.height;n.ref.shouldRescale=true;n.ref.shouldDrawPreview=true;n.dispatch("KICK")};f.registerWriter(c({DID_RESIZE_ROOT:o,DID_STOP_RESIZE:o,DID_LOAD_ITEM:n,DID_IMAGE_PREVIEW_CALCULATE_SIZE:a,DID_UPDATE_ITEM_METADATA:i},function(e){var t=e.root,n=e.props;if(!t.ref.imagePreview)return;if(t.rect.element.hidden)return;if(t.ref.shouldRescale){r(t,n);t.ref.shouldRescale=false}if(t.ref.shouldDrawPreview){requestAnimationFrame(function(){t.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})});t.ref.shouldDrawPreview=false}}))});return{options:{allowImagePreview:[true,o.BOOLEAN],imagePreviewFilterItem:[function(){return true},o.FUNCTION],imagePreviewHeight:[null,o.INT],imagePreviewMinHeight:[44,o.INT],imagePreviewMaxHeight:[256,o.INT],imagePreviewMaxFileSize:[null,o.INT],imagePreviewZoomFactor:[2,o.INT],imagePreviewUpscale:[false,o.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,o.INT],imagePreviewTransparencyIndicator:[null,o.STRING],imagePreviewCalculateAverageImageColor:[false,o.BOOLEAN],imagePreviewMarkupShow:[true,o.BOOLEAN],imagePreviewMarkupFilter:[function(){return true},o.FUNCTION]}}},Wt;if(typeof window!=="undefined"&&typeof window.document!=="undefined"){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Ht}))}return Ht}()}).call(this,n(62))},function(e,t,n){(function(v){e.exports=function(){"use strict";var e=function e(t){var n=t.addFilter,r=t.utils;var o=r.Type,i=r.isString,s=r.replaceInString,a=r.guesstimateMimeType,c=r.getExtensionFromFilename,u=r.getFilenameFromURL;var l=function e(t,n){var r=(/^[^/]+/.exec(t)||[]).pop();var o=n.slice(0,-2);return r===o};var f=function e(t,n){return t.some(function(e){if(/\*$/.test(e)){return l(n,e)}return e===n})};var d=function e(t){var n="";if(i(t)){var r=u(t);var o=c(r);if(o){n=a(o)}}else{n=t.type}return n};var p=function e(r,o,i){if(o.length===0){return true}var a=d(r);if(!i){return f(o,a)}return new v(function(t,n){i(r,a).then(function(e){if(f(o,e)){t()}else{n()}}).catch(n)})};var h=function e(t){return function(e){return t[e]===null?false:t[e]||e}};n("SET_ATTRIBUTE_TO_OPTION_MAP",function(e){return Object.assign(e,{accept:"acceptedFileTypes"})});n("ALLOW_HOPPER_ITEM",function(e,t){var n=t.query;if(!n("GET_ALLOW_FILE_TYPE_VALIDATION")){return true}return p(e,n("GET_ACCEPTED_FILE_TYPES"))});n("LOAD_FILE",function(a,e){var c=e.query;return new v(function(e,n){if(!c("GET_ALLOW_FILE_TYPE_VALIDATION")){e(a);return}var r=c("GET_ACCEPTED_FILE_TYPES");var t=c("GET_FILE_VALIDATE_TYPE_DETECT_TYPE");var o=p(a,r,t);var i=function e(){var t=r.map(h(c("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(function(e){return e!==false});n({status:{main:c("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:s(c("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:t.join(", "),allButLastType:t.slice(0,-1).join(", "),lastType:t[t.length-1]})}})};if(typeof o==="boolean"){if(!o){return i()}return e(a)}o.then(function(){e(a)}).catch(i)})});return{options:{allowFileTypeValidation:[true,o.BOOLEAN],acceptedFileTypes:[[],o.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",o.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",o.STRING],fileValidateTypeLabelExpectedTypesMap:[{},o.OBJECT],fileValidateTypeDetectType:[null,o.FUNCTION]}}},t;if(typeof window!=="undefined"&&typeof window.document!=="undefined"){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e}))}return e}()}).call(this,n(62))},function(e,t,n){(function(i){e.exports=function(){"use strict";var e=function e(t){var n=t.addFilter,r=t.utils;var o=r.Type,u=r.replaceInString,l=r.toNaturalFileSize;n("ALLOW_HOPPER_ITEM",function(e,t){var n=t.query;if(!n("GET_ALLOW_FILE_SIZE_VALIDATION")){return true}var r=n("GET_MAX_FILE_SIZE");if(r!==null&&e.size>=r){return false}var o=n("GET_MIN_FILE_SIZE");if(o!==null&&e.size<=o){return false}return true});n("LOAD_FILE",function(c,e){var s=e.query;return new i(function(e,t){if(!s("GET_ALLOW_FILE_SIZE_VALIDATION")){return e(c)}var n=s("GET_FILE_VALIDATE_SIZE_FILTER");if(n&&!n(c)){return e(c)}var r=s("GET_MAX_FILE_SIZE");if(r!==null&&c.size>=r){t({status:{main:s("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:u(s("GET_LABEL_MAX_FILE_SIZE"),{filesize:l(r)})}});return}var o=s("GET_MIN_FILE_SIZE");if(o!==null&&c.size<=o){t({status:{main:s("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:u(s("GET_LABEL_MIN_FILE_SIZE"),{filesize:l(o)})}});return}var i=s("GET_MAX_TOTAL_FILE_SIZE");if(i!==null){var a=s("GET_ACTIVE_ITEMS").reduce(function(e,t){return e+t.fileSize},0);if(a>i){t({status:{main:s("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:u(s("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:l(i)})}});return}}e(c)})});return{options:{allowFileSizeValidation:[true,o.BOOLEAN],maxFileSize:[null,o.INT],minFileSize:[null,o.INT],maxTotalFileSize:[null,o.INT],fileValidateSizeFilter:[null,o.FUNCTION],labelMinFileSizeExceeded:["File is too small",o.STRING],labelMinFileSize:["Minimum file size is {filesize}",o.STRING],labelMaxFileSizeExceeded:["File is too large",o.STRING],labelMaxFileSize:["Maximum file size is {filesize}",o.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",o.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",o.STRING]}}},t;if(typeof window!=="undefined"&&typeof window.document!=="undefined"){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e}))}return e}()}).call(this,n(62))},function(e,t,n){(function(w){e.exports=function(){"use strict";var n={type:"spring",stiffness:.5,damping:.45,mass:10},l=function e(t){return t.utils.createView({name:"file-poster",tag:"div",ignoreRect:true,create:function e(t){var n=t.root;n.ref.image=document.createElement("img");n.element.appendChild(n.ref.image)},write:t.utils.createRoute({DID_FILE_POSTER_LOAD:function e(t){var n=t.root,r=t.props;var o=r.id;var i=n.query("GET_ITEM",{id:r.id});if(!i)return;var a=i.getMetadata("poster");n.ref.image.src=a;n.dispatch("DID_FILE_POSTER_DRAW",{id:o})}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:n,scaleY:n,opacity:{type:"tween",duration:750}}}})},o=function e(t,n){n.width=t.width;n.height=t.height;var r=n.getContext("2d");r.drawImage(t,0,0)},f=function e(t){return t.utils.createView({name:"file-poster-overlay",tag:"canvas",ignoreRect:true,create:function e(t){var n=t.root,r=t.props;o(r.template,n.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},d=function e(t,n){var r=new Image;r.onload=function(){var e=r.naturalWidth;var t=r.naturalHeight;r=null;n(e,t)};r.src=t},p=function e(t){return-.5*(Math.cos(Math.PI*t)-1)},u=function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:p;var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:10;var a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var c=1-a;var s=n.join(",");for(var u=0;u<=i;u++){var l=u/i;var f=a+c*l;t.addColorStop(f,"rgba(".concat(s,", ").concat(o(l)*r,")"))}},h=10,v=10,m=function e(t){var n=Math.min(h/t.width,v/t.height);var r=document.createElement("canvas");var o=r.getContext("2d");var i=r.width=Math.ceil(t.width*n);var a=r.height=Math.ceil(t.height*n);o.drawImage(t,0,0,i,a);var c=null;try{c=o.getImageData(0,0,i,a).data}catch(e){return null}var s=c.length;var u=0;var l=0;var f=0;var d=0;for(;d<s;d+=4){u+=c[d]*c[d];l+=c[d+1]*c[d+1];f+=c[d+2]*c[d+2]}u=g(u,s);l=g(l,s);f=g(f,s);return{r:u,g:l,b:f}},g=function e(t,n){return Math.floor(Math.sqrt(t/(n/4)))},e=function e(t,n,r,o,i){t.width=n;t.height=r;var a=t.getContext("2d");var c=n*.5;var s=a.createRadialGradient(c,r+110,r-100,c,r+110,r+100);u(s,o,i,undefined,8,.4);a.save();a.translate(-n*.5,0);a.scale(2,1);a.fillStyle=s;a.fillRect(0,0,n,r);a.restore()},t=typeof navigator!=="undefined",r=500,i=200,y=t&&document.createElement("canvas"),b=t&&document.createElement("canvas"),_=t&&document.createElement("canvas");if(t){e(y,r,i,[40,40,40],.85);e(b,r,i,[196,78,71],1);e(_,r,i,[54,151,99],1)}var E=function e(r,o){return new w(function(e,t){var n=new Image;if(typeof crossOrigin==="string"){n.crossOrigin=o}n.onload=function(){e(n)};n.onerror=function(e){t(e)};n.src=r})},a=function e(i){var a=f(i);var t=function e(t){var r=t.root,n=t.props;var o=n.id;var i=r.query("GET_ITEM",o);if(!i)return;var a=i.getMetadata("poster");var c=function e(t){var n=r.query("GET_FILE_POSTER_CALCULATE_AVERAGE_IMAGE_COLOR")?m(t):null;i.setMetadata("color",n,true);r.dispatch("DID_FILE_POSTER_LOAD",{id:o,data:t})};d(a,function(e,t){r.dispatch("DID_FILE_POSTER_CALCULATE_SIZE",{id:o,width:e,height:t});E(a,r.query("GET_FILE_POSTER_CROSS_ORIGIN_ATTRIBUTE_VALUE")).then(c)})};var n=function e(t){var n=t.root;n.ref.overlayShadow.opacity=1};var r=function e(t){var n=t.root;var r=n.ref.image;r.scaleX=1;r.scaleY=1;r.opacity=1};var o=function e(t){var n=t.root;n.ref.overlayShadow.opacity=1;n.ref.overlayError.opacity=0;n.ref.overlaySuccess.opacity=0};var c=function e(t){var n=t.root;n.ref.overlayShadow.opacity=.25;n.ref.overlayError.opacity=1};var s=function e(t){var n=t.root;n.ref.overlayShadow.opacity=.25;n.ref.overlaySuccess.opacity=1};var u=function e(t){var n=t.root,r=t.props;var o=l(i);n.ref.image=n.appendChildView(n.createChildView(o,{id:r.id,scaleX:1.25,scaleY:1.25,opacity:0}));n.ref.overlayShadow=n.appendChildView(n.createChildView(a,{template:y,opacity:0}));n.ref.overlaySuccess=n.appendChildView(n.createChildView(a,{template:_,opacity:0}));n.ref.overlayError=n.appendChildView(n.createChildView(a,{template:b,opacity:0}))};return i.utils.createView({name:"file-poster-wrapper",create:u,write:i.utils.createRoute({DID_FILE_POSTER_LOAD:n,DID_FILE_POSTER_DRAW:r,DID_FILE_POSTER_CONTAINER_CREATE:t,DID_THROW_ITEM_LOAD_ERROR:c,DID_THROW_ITEM_PROCESSING_ERROR:c,DID_THROW_ITEM_INVALID:c,DID_COMPLETE_ITEM_PROCESSING:s,DID_START_ITEM_PROCESSING:o,DID_REVERT_ITEM_PROCESSING:o})})},c=function e(t){var n=t.addFilter,r=t.utils;var o=r.Type,u=r.createRoute;var l=a(t);n("CREATE_VIEW",function(e){var t=e.is,i=e.view,a=e.query;if(!t("file")||!a("GET_ALLOW_FILE_POSTER"))return;var n=function e(t){var n=t.root,r=t.props;c(n,r)};var r=function e(t){var n=t.root,r=t.props,o=t.action;if(!/poster/.test(o.change.key))return;c(n,r)};var c=function e(t,n){var r=n.id;var o=a("GET_ITEM",r);if(!o||!o.getMetadata("poster")||o.archived)return;if(!a("GET_FILE_POSTER_FILTER_ITEM")(o))return;if(t.ref.filePoster){i.removeChildView(t.ref.filePoster)}t.ref.filePoster=i.appendChildView(i.createChildView(l,{id:r}));t.dispatch("DID_FILE_POSTER_CONTAINER_CREATE",{id:r})};var o=function e(t){var n=t.root,r=t.action;if(!n.ref.filePoster)return;n.ref.imageWidth=r.width;n.ref.imageHeight=r.height;n.ref.shouldUpdatePanelHeight=true;n.dispatch("KICK")};var s=function e(t){var n=t.root;var r=n.query("GET_FILE_POSTER_HEIGHT");if(r){return r}var o=n.query("GET_FILE_POSTER_MIN_HEIGHT");var i=n.query("GET_FILE_POSTER_MAX_HEIGHT");if(o&&n.ref.imageHeight<o){return o}var a=n.rect.element.width*(n.ref.imageHeight/n.ref.imageWidth);if(o&&a<o){return o}if(i&&a>i){return i}return a};i.registerWriter(u({DID_LOAD_ITEM:n,DID_FILE_POSTER_CALCULATE_SIZE:o,DID_UPDATE_ITEM_METADATA:r},function(e){var t=e.root,n=e.props;if(!t.ref.filePoster)return;if(t.rect.element.hidden)return;if(t.ref.shouldUpdatePanelHeight){t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:n.id,height:s({root:t})});t.ref.shouldUpdatePanelHeight=false}}))});return{options:{allowFilePoster:[true,o.BOOLEAN],filePosterHeight:[null,o.INT],filePosterMinHeight:[null,o.INT],filePosterMaxHeight:[null,o.INT],filePosterFilterItem:[function(){return true},o.FUNCTION],filePosterCalculateAverageImageColor:[false,o.BOOLEAN],filePosterCrossOriginAttributeValue:["Anonymous",o.STRING]}}},s;if(typeof window!=="undefined"&&typeof window.document!=="undefined"){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:c}))}return c}()}).call(this,n(62))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OpenStadComponentLightbox});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var OpenStadComponentLightbox=function(_OpenStadComponent){_inherits(OpenStadComponentLightbox,_OpenStadComponent);var _super=_createSuper(OpenStadComponentLightbox);function OpenStadComponentLightbox(e){var t;return _classCallCheck(this,OpenStadComponentLightbox),(t=_super.call(this,e)).state={images:[],startIndex:0},t.recalcSizes=t.recalcSizes.bind(_assertThisInitialized(t)),t}return _createClass(OpenStadComponentLightbox,[{key:"componentDidMount",value:function(){var t=this;t.showLightBoxListener=function(e){t.showLightbox(e.detail)},document.addEventListener("osc-show-light-box",t.showLightBoxListener),document.body.appendChild(this.instance)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-show-light-box",this.showLightBoxListener)}},{key:"showLightbox",value:function showLightbox(data){var self=this,aspectRatio;try{aspectRatio=eval(data.aspectRatio.replace&&data.aspectRatio.replace("x","/"))}catch(e){}"number"!=typeof aspectRatio&&(aspectRatio=16/9),self.setState({images:data.images,startIndex:data.startIndex,aspectRatio:aspectRatio},function(){self.instance.style.display="block",self.recalcSizes()}),window.addEventListener("resize",self.recalcSizes)}},{key:"hideLightbox",value:function(){this.instance.style.display="none",window.removeEventListener("resize",this.recalcSizes)}},{key:"showImage",value:function(e,t){e.stopPropagation(),this.mainImage.src=t}},{key:"recalcSizes",value:function(){var e,t,n,r,o,i,a=this;a.mainContainer&&((e=a.mainContainer.offsetWidth)/(t=a.mainContainer.offsetHeight)>a.state.aspectRatio?(n=.8*t,a.mainImageContainer.style.height=n+"px",a.mainImageContainer.style.width=a.state.aspectRatio*n+"px",a.mainImageContainer.style.top=(t-n)/2+"px",a.mainImageContainer.style.left=(e-a.state.aspectRatio*n)/2+"px"):(r=e,a.mainImageContainer.style.width=r+"px",a.mainImageContainer.style.height=1/a.state.aspectRatio*r+"px",a.mainImageContainer.style.top=(t-1/a.state.aspectRatio*r)/2+"px",a.mainImageContainer.style.left=0),a.mainImage.style.width=a.mainImageContainer.style.width,a.mainImage.style.height=a.mainImageContainer.style.height,o=a.state.aspectRatio*a.navigationContainer.offsetHeight,(i=a.state.images.length*o+20*a.state.images.length)>a.navigationContainer.offsetWidth&&(i=a.navigationContainer.offsetWidth,o=i/a.state.images.length-20),a.navigationContainer.style.width=i+"px",a.state.images.map(function(e,t){var n=parseInt(o);a["lighbox-image-container-".concat(t)].style.width=n+"px",a["lighbox-image-container-".concat(t)].style.height=parseInt(1/a.state.aspectRatio*n)+"px",a["lighbox-image-".concat(t)].style.width=a["lighbox-image-container-".concat(t)].style.width,a["lighbox-image-".concat(t)].style.height=a["lighbox-image-container-".concat(t)].style.height}))}},{key:"getImageSrc",value:function(e){var t=e;return"object"==_typeof(e)&&e.src&&(t=e.src),t}},{key:"render",value:function(){var e=this,r=this;return React.createElement("div",{className:"osc-lightbox",onClick:function(){e.hideLightbox()},ref:function(e){return r.instance=e}},React.createElement("div",{className:"osc-close-button",onClick:function(e){return r.hideLightbox(e)}}),React.createElement("div",{className:"osc-lightbox-main-container",ref:function(e){return r.mainContainer=e}},React.createElement("div",{className:"osc-image-container",ref:function(e){return r.mainImageContainer=e}},React.createElement("img",{src:r.state.images[r.state.startIndex]&&r.getImageSrc(r.state.images[r.state.startIndex]),ref:function(e){return r.mainImage=e}}))),React.createElement("div",{className:"osc-lightbox-navigation-container"},React.createElement("div",{className:"osc-lightbox-navigation",ref:function(e){return r.navigationContainer=e}},r.state.images.map(function(t,n){return React.createElement("div",{className:"osc-image-container",style:{backgroundImage:"url(".concat(r.getImageSrc(t),")")},onClick:function(e){return r.showImage(e,r.getImageSrc(t))},key:"lighbox-image-container-".concat(n),ref:function(e){return r["lighbox-image-container-".concat(n)]=e}},React.createElement("img",{src:r.getImageSrc(t),ref:function(e){return r["lighbox-image-".concat(n)]=e}}))}))))}}]),OpenStadComponentLightbox}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OpenStadComponentMap});var merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21),merge__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_0__),_component_index_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_lib_amaps_cluster_icon_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(433),_lib_search_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(415);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var OpenStadComponentMap=function(_OpenStadComponent){_inherits(OpenStadComponentMap,_OpenStadComponent);var _super=_createSuper(OpenStadComponentMap);function OpenStadComponentMap(e,t){var n;_classCallCheck(this,OpenStadComponentMap);var r=_assertThisInitialized(n=_super.call(this,e,t,{style:"standaard",marker:!1,search:!1,center:{lat:52.37104644463586,lng:4.900402911007405},zoom:14,zoomposition:"bottomleft",disableDefaultUI:!0,polygon:null,autoZoomAndCenter:!1}));return r.config.target=r.divId,r.config.center.lat=e.config&&e.config.center&&e.config.center.latitude||r.config.center.lat,r.config.center.lng=e.config&&e.config.center&&e.config.center.longitude||r.config.center.lng,r._loadedFiles=0,r.files=[{type:"css",href:"https://unpkg.com/leaflet@1.0.3/dist/leaflet.css"},{type:"script",src:"https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"}],r.files.push({type:"css",href:"https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css"}),r.files.push({type:"script",src:"https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"}),r.searchAddressByLatLng=_lib_search_js__WEBPACK_IMPORTED_MODULE_3__.b.bind(r),r.suggestAddresses=_lib_search_js__WEBPACK_IMPORTED_MODULE_3__.c.bind(r),r.LookupLatLngByAddressId=_lib_search_js__WEBPACK_IMPORTED_MODULE_3__.a.bind(r),r.markers=r.config.markers||[],n}return _createClass(OpenStadComponentMap,[{key:"componentDidMount",value:function(){var t=this;t.loadNextFile(function(){t.createMap(),t.mapIsReady=!0;var e=new CustomEvent("osc-map-is-ready",{detail:{id:t.divId}});document.dispatchEvent(e)})}},{key:"loadNextFile",value:function(e){var t,n=this,r=n.files[n._loadedFiles];r&&("script"===r.type&&((t=document.createElement("script")).src=r.src,t.async=!0),"css"===r.type&&((t=document.createElement("link")).href=r.href,t.rel="stylesheet"),t&&(t.onload=function(){n.loadNextFile(e)},this.instance.appendChild(t))),n._loadedFiles==n.files.length&&e(),n._loadedFiles++}},{key:"createMap",value:function createMap(){var self=this,iconCreateFunction,centerOn;switch(self.map=L.map(self.config.target,_objectSpread({},self.config)),self.config.variant){case"n9r":L.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{maxZoom:19,subdomains:"abcd"}).addTo(self.map);break;case"amaps":L.tileLayer("https://t{s}.data.amsterdam.nl/topo_wm/{z}/{x}/{y}.png",{subdomains:"1234",minZoom:11,maxZoom:21}).addTo(self.map);break;case"custom":L.tileLayer(self.config.mapTilesUrl,{maxZoom:19,subdomains:self.config.mapTilesSubdomains}).addTo(self.map);break;default:L.tileLayer("https://geodata.nationaalgeoregister.nl/tiles/service/wmts/brtachtergrondkaart/EPSG:3857/{z}/{x}/{y}.png",{minZoom:6,maxZoom:19,bounds:[[50.5,3.25],[54,7.6]],attribution:'Kaartgegevens &copy; <a href="kadaster.nl">Kadaster</a>'}).addTo(self.map)}self.config.clustering&&self.config.clustering.isActive&&L.markerClusterGroup&&(iconCreateFunction=self.config.clustering.iconCreateFunction||_lib_amaps_cluster_icon_js__WEBPACK_IMPORTED_MODULE_2__.a.bind(self),iconCreateFunction&&"string"==typeof iconCreateFunction&&(iconCreateFunction=eval(iconCreateFunction)),self.markerClusterGroup=L.markerClusterGroup({iconCreateFunction:iconCreateFunction,showCoverageOnHover:self.config.clustering.showCoverageOnHover,maxClusterRadius:self.config.clustering.maxClusterRadius||80}),self.markerClusterGroup.on("clusterclick",self.onClusterClick),self.markerClusterGroup.on("animationend",self.onClusterAnimationEnd),self.map.addLayer(self.markerClusterGroup)),self.map.on("click",self.onMapClick),self.config.polygon&&self.createCutoutPolygon(self.config.polygon),self.markers.length&&self.markers.forEach(function(e){self.addMarker(e)}),self.config.autoZoomAndCenter&&(centerOn="polygon"==self.config.autoZoomAndCenter&&self.config.polygon||self.markers&&self.markers.length&&self.markers,self.editorMarker&&(centerOn=self.editorMarker.position?[self.editorMarker]:self.config.polygon),centerOn&&self.setBoundsAndCenter(centerOn))}},{key:"addMarkers",value:function(e){var t=this;e.forEach(function(e){t.addMarker(e)})}},{key:"addMarker",value:function addMarker(markerData){var self=this,icon=markerData.icon,iconCreateFunction,marker;icon||(iconCreateFunction=self.config.iconCreateFunction,iconCreateFunction&&"string"==typeof iconCreateFunction&&(iconCreateFunction=eval(iconCreateFunction),icon=iconCreateFunction())),marker=icon?L.marker([markerData.lat,markerData.lng],{icon:icon}):L.marker([markerData.lat,markerData.lng]),marker.visible=!0,marker.data=markerData.data,marker.doNotCluster=markerData.doNotCluster,markerData.href&&(markerData.onClick=function(){document.location.href=markerData.href});var onClick=self.onMarkerClick;return onClick&&("string"==typeof onClick&&(onClick=eval(onClick)),marker.on("click",onClick)),self.markerClusterGroup&&!markerData.doNotCluster?self.markerClusterGroup.addLayer(marker):self.map.addLayer(marker),self.markers.push(marker),marker}},{key:"removeMarker",value:function(e){var t;!e||-1<(t=this.markers.indexOf(e))&&(this.markers.splice(t,1),this.map.removeLayer(e),this.markerClusterGroup.removeLayer(e))}},{key:"updateMarker",value:function(e,t){var n;t.location&&(n=new L.LatLng(t.location.lat,t.location.lng),e.setLatLng(n))}},{key:"createClusterIcon",value:function(e){var t=e.getChildCount();return L.divIcon({html:t,className:"osc-map-icon-cluster",iconSize:L.point(20,20),iconAnchor:[20,10]})}},{key:"createCutoutPolygon",value:function(e){var i=L.polygon(e).getBounds().getCenter(),a=0,c=0;e.forEach(function(e,t){var n=Math.sin(e.lng-i.lng)*Math.cos(e.lat),r=Math.cos(i.lat)*Math.sin(e.lat)-Math.sin(i.lat)*Math.cos(e.lat)*Math.cos(e.lng-i.lng),o=180*Math.atan2(n,r)/Math.PI;45-o<a&&(a=45-o,c=t)});var t=e.slice(0,c);e=e.slice(c,e.length).concat(t);var n=[{lat:-85,lng:-179.99},{lat:-85,lng:0},{lat:-85,lng:179.99},{lat:0,lng:179.99},{lat:85,lng:179.99},{lat:85,lng:0},{lat:85,lng:-179.99},{lat:85,lng:-179.99},{lat:0,lng:-179.99}],r=merge__WEBPACK_IMPORTED_MODULE_0___default()({color:"#d00",fillColor:"#000",fillOpacity:.15},this.config.polygonStyle),o=L.polygon([n,e],r);return this.map.addLayer(o),o}},{key:"removePolygon",value:function(e){e&&this.map.removeLayer(e)}},{key:"setBoundsAndCenter",value:function(e){var t,n;Array.isArray(e)?(t=[],e.forEach(function(e){e._latlng?e=e._latlng:e.position&&(e=e.position.coordinates?{lat:e.position.coordinates[0],lng:e.position.coordinates[1]}:e.position),t.push(e)}),1==t.length?this.map.panTo(new L.LatLng(t[0].lat,t[0].lng)):(n=L.latLngBounds(t),this.map.fitBounds(n))):this.map.panTo(new L.LatLng(this.config.center.latitude,this.config.center.longitude))}},{key:"showMarkers",value:function(e){var t=this;e.forEach(function(e){t.showMarker(e)})}},{key:"showMarker",value:function(e){e.visible=!0,this.markerClusterGroup&&!e.doNotCluster?this.markerClusterGroup.addLayer(e):e.addTo(this.map)}},{key:"hideMarkers",value:function(e){var t=this;e.forEach(function(e){t.hideMarker(e)})}},{key:"hideMarker",value:function(e){e.visible=!1,this.markerClusterGroup&&!e.doNotCluster?this.markerClusterGroup.removeLayer(e):e.remove(this.map)}},{key:"setFilter",value:function(e){this.filterFunction=e,this.applyFilter()}},{key:"applyFilter",value:function(){var t=this;t.filterFunction?t.markers.forEach(function(e){t.filterFunction(e)?t.showMarker(e):t.hideMarker(e)}):t.markers.forEach(function(e){t.showMarker(e)})}},{key:"isPointInPolygon",value:function(e,t){if(!e)return!1;if(!t)return!0;for(var n=e.lat,r=e.lng,o=!1,i=0,a=t.length-1;i<t.length;a=i++){var c=t[i].lat,s=t[i].lng,u=t[a].lat,l=t[a].lng;r<s!=r<l&&n<(u-c)*(r-s)/(l-s)+c&&(o=!o)}return o}},{key:"onMapClick",value:function(e){var t=new CustomEvent("osc-map-click",{detail:e});document.dispatchEvent(t)}},{key:"onMarkerClick",value:function(e){var t=new CustomEvent("osc-map-marker-click",{detail:e});document.dispatchEvent(t)}},{key:"onClusterClick",value:function(e){var t=new CustomEvent("osc-map-cluster-click",{detail:e});document.dispatchEvent(t)}},{key:"onClusterAnimationEnd",value:function(e){var t=new CustomEvent("osc-map-cluster-animation-end",{detail:e});document.dispatchEvent(t)}},{key:"render",value:function(){var t=this;return React.createElement("div",{id:this.divId,className:this.props.className||"osc-map",ref:function(e){return t.instance=e}},React.createElement("div",{id:this.divId+"-map"}))}}]),OpenStadComponentMap}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdeasDetails});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),_poll_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(420),_reactions_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(419),_vote_button_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(434),_image_index_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(113);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasDetails=function(_OpenStadComponent){_inherits(IdeasDetails,_OpenStadComponent);var _super=_createSuper(IdeasDetails);function IdeasDetails(e){var t;return _classCallCheck(this,IdeasDetails),(t=_super.call(this,e,{siteId:null,ideaId:null,idea:{showVoteButtons:!0,showLabels:!1,shareChannelsSelection:["facebook","twitter","mail","whatsapp"],metaDataTemplate:null},image:{allowMultipleImages:!1},argument:{isActive:!0,formIntro:"Mijn reactie op deze inzending is ...",ignoreReactionsForIdeaIds:"",closeReactionsForIdeaIds:""},poll:{canAddPolls:!1},labels:{},types:null,typeField:"typeId",typeLabel:"Thema"})).state={idea:t.props.idea,ideaId:e.idea&&e.idea.id||t.config.ideaId,showPollForm:!1},t}return _createClass(IdeasDetails,[{key:"componentDidMount",value:function(){var t=this;t.reactionAddedListener=function(e){t.onReactionStored(e.detail,!0)},document.addEventListener("osc-new-reaction-stored",t.reactionAddedListener),t.reactionEditedListener=function(e){t.onReactionStored(e.detail)},document.addEventListener("osc-reaction-edited",t.reactionEditedListener),t.reactionDeletedListener=function(e){t.onReactionDeleted(e.detail)},document.addEventListener("osc-reaction-deleted",t.reactionDeletedListener),t.pollCreatedListener=function(e){t.onPollCreated(e.detail)},document.addEventListener("osc-new-poll-stored",t.pollCreatedListener),t.pollDeletedListener=function(e){t.onPollDeleted(e.detail)},document.addEventListener("osc-poll-deleted",t.pollDeletedListener),t.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.reactionAddedListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener),document.removeEventListener("osc-reaction-deleted",this.reactionDeletedListener),document.removeEventListener("osc-new-poll-stored",this.pollCreatedListener),document.removeEventListener("osc-poll-deleted",this.pollDeletedListener)}},{key:"dispatchEditIdeaButtonClick",value:function(e){var t;e.stopPropagation(),this.config.editIdeaLink?document.location.href=this.config.editIdeaLink:(t=new window.CustomEvent("osc-edit-idea-button-click",{detail:this.state.idea}),document.dispatchEvent(t))}},{key:"showPollForm",value:function(){this.setState({showPollForm:!0})}},{key:"hidePollForm",value:function(){this.setState({showPollForm:!1})}},{key:"dispatchAddPollClick",value:function(e){e.stopPropagation(),this.showPollForm()}},{key:"onReactionStored",value:function(e,t){t&&this.state.idea.argCount++,this.setState({idea:this.state.idea})}},{key:"onReactionDeleted",value:function(){this.state.idea.argCount--,this.setState({idea:this.state.idea})}},{key:"onPollCreated",value:function(){this.hidePollForm(),this.fetchData()}},{key:"onPollDeleted",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e,t,n=this,r=n.state.ideaId||this.state.idea&&this.state.idea.id;r&&(e="".concat(n.config.api.url,"/api/site/").concat(n.config.siteId,"/idea/").concat(r,"?includeVoteCount=1&includeArguments=1&includeArgsCount=1&includeUser=1&includeUserVote=1"),n.config.poll.canAddPolls&&(e+="&includePoll=1"),t=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.api.getHeaders(n.config),fetch(e,{headers:t}).then(function(e){if(!e.ok)throw Error("Error fechting detail");return e.json()}).then(function(e){n.setState({idea:e},function(){_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.localStorage.get("osc-login-pending-scroll-to-reactions")&&(document.getElementById("reactions")&&document.getElementById("reactions").scrollIntoView(),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.localStorage.set("osc-login-pending-scroll-to-reactions",!1))})}).catch(function(e){console.log("Niet goed"),console.log(e)}))}},{key:"deleteIdea",value:function(){var e,t,n,r=this;this.config.user&&this.config.user.role&&"admin"==this.config.user.role&&(this.state.idea||this.state.idea.id)&&(e="".concat(this.config.api.url,"/api/site/").concat(this.config.siteId,"/idea/").concat(this.state.idea.id),t=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.api.getHeaders(this.config),n=this.state.idea.id,fetch(e,{method:"DELETE",headers:t}).then(function(e){if(!e.ok)throw Error("Error deleting idea");return e.json()}).then(function(e){var t;r.config.afterDeleteIdeaLink?document.location.href=r.config.afterDeleteIdeaLink:(t=new window.CustomEvent("osc-idea-deleted",{detail:{ideaId:n}}),document.dispatchEvent(t))}).catch(function(e){console.log("Niet goed"),console.log(e)}))}},{key:"render",value:function render(){var self=this,idea=self.state.idea;if(!idea)return null;var labelHTML=null,typeId,typeDef,labelText,backgroundColor,textColor,labelHTML;self.config.idea.showLabels&&(typeId=eval("idea.".concat(self.config.typeField)),typeDef=self.config.types&&self.config.types.find(function(e){return e.id==typeId||e.value==typeId}),typeDef&&(labelText=typeDef.label,backgroundColor=typeDef.backgroundColor,textColor=typeDef.textColor,labelHTML=React.createElement("div",{className:"osc-idea-label",style:{color:textColor,backgroundColor:backgroundColor}},labelText)));var pollHTML=null,addPollButtonHTML=null;self.config.poll.canAddPolls&&(idea.poll||self.state.showPollForm?pollHTML=React.createElement("div",null,React.createElement("div",{id:"poll",className:"osc-poll-header"},React.createElement("h3",null,self.config.poll.title||"Poll")),React.createElement(_poll_index_jsx__WEBPACK_IMPORTED_MODULE_2__.default,{config:_objectSpread(_objectSpread(_objectSpread({},self.config),self.config.poll),{},{ideaId:self.state.ideaId}),poll:idea.poll})):idea.can&&idea.can.edit&&(addPollButtonHTML=React.createElement("div",{className:"osc-editbuttons-container"},React.createElement("button",{className:"osc-idea-details-editbutton osc-edit",onClick:function(e){return self.dispatchAddPollClick(e)}},"Poll toevoegen"))));var voteButtonsHTML=null;self.config.idea.showVoteButtons&&(voteButtonsHTML=React.createElement("div",{className:"osc-details-vote-buttons-container"},React.createElement("h3",null,"Likes"),React.createElement(_vote_button_jsx__WEBPACK_IMPORTED_MODULE_4__.a,{config:{text:"eens",opinion:"yes",api:this.config.api,user:this.config.user,siteId:this.config.siteId},idea:this.state.idea,name:"likebutton",value:idea.yes})));var editButtonsHTML=null;idea.can&&idea.can.edit&&(editButtonsHTML=React.createElement("div",{className:"osc-editbuttons-container"},React.createElement("button",{className:"osc-idea-details-editbutton osc-edit",onClick:function(e){return self.dispatchEditIdeaButtonClick(e)}},"Bewerk idee"),React.createElement("button",{className:"osc-idea-details-editbutton osc-delete",onClick:function(e){confirm("Weet je het zeker")&&self.deleteIdea(e)}},"Verwijder idee")));var modBreakHTML=null;idea&&idea.modBreak&&(modBreakHTML=React.createElement("div",{className:"osc-modbreak"},idea.modBreakDateHumanized,React.createElement("br",null),React.createElement("br",null),idea.modBreak));var reactionsCountHTML=null;self.config.argument.isActive&&(reactionsCountHTML=React.createElement("div",null,React.createElement("h3",null,"Reacties"),React.createElement("a",{href:"#reactions",className:"osc-no-of-reactions"},idea.argCount||0," reacties")));var reactionsHTML=null,config;self.config.argument.isActive&&(config=_objectSpread({},self.config),config.argument.isActive=this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)"))),config.argument.isClosed=this.config.argument.isClosed||this.config.argument.closeReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)"))),reactionsHTML=React.createElement("div",null,React.createElement("div",{id:"reactions",className:"osc-reactions-header"},React.createElement("h3",null,self.config.argument.title||"Reacties")),React.createElement(_reactions_index_jsx__WEBPACK_IMPORTED_MODULE_3__.default,{config:_objectSpread(_objectSpread({},self.config.argument),{},{title:void 0,api:self.config.api,user:self.config.user,siteId:self.config.siteId,ideaId:idea.id,loginUrl:self.config.loginUrl})})));var shareButtonsHTML=null,facebookButtonHTML,twitterButtonHTML,mailButtonHTML,whatsappButtonHTML,shareButtonsHTML;self.config.idea.shareChannelsSelection.length&&(facebookButtonHTML=self.config.idea.shareChannelsSelection.includes("facebook")?React.createElement("li",null,React.createElement("a",{className:"osc-share-facebook",target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(document.location.href)},"Facebook")):null,twitterButtonHTML=self.config.idea.shareChannelsSelection.includes("twitter")?React.createElement("li",null,React.createElement("a",{className:"osc-share-twitter",target:"_blank",href:"https://twitter.com/intent/tweet?text="+encodeURIComponent(document.location.href)},"Twitter")):null,mailButtonHTML=self.config.idea.shareChannelsSelection.includes("mail")?React.createElement("li",null,React.createElement("a",{className:"osc-share-email",target:"_blank",href:"mailto:?subject="+encodeURIComponent(eval("idea.".concat(self.config.titleField)))+"&body="+encodeURIComponent(document.location.href)},"Email")):null,whatsappButtonHTML=self.config.idea.shareChannelsSelection.includes("whatsapp")?React.createElement("li",null,React.createElement("a",{className:"osc-share-whatsapp",target:"_blank",href:"https://wa.me/?text="+encodeURIComponent(document.location.href)},"WhatsApp")):null,shareButtonsHTML=React.createElement("div",{className:"osc-details-sharebuttons"},React.createElement("ul",null,facebookButtonHTML,twitterButtonHTML,mailButtonHTML,whatsappButtonHTML)));var authorHTML=idea.user.nickName||idea.user.fullName||idea.user.firstName+" "+idea.user.lastName;this.config.linkToUserPageUrl&&(authorHTML=React.createElement("a",{href:this.config.linkToUserPageUrl+"/"+idea.user.id,className:"osc-author-link"},authorHTML));var metaDataHTML=self.config.idea.metaDataTemplate;return metaDataHTML&&(metaDataHTML=metaDataHTML.replace(/\{createDate\}/,idea.createDateHumanized),metaDataHTML=metaDataHTML.replace(/\{theme\}/,idea.extraData.theme),metaDataHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.reactTemplate({html:metaDataHTML,username:authorHTML})),React.createElement("div",{id:self.id,className:self.props.className||"osc-info-block-idea-details",ref:function(e){return self.instance=e}},React.createElement("div",{className:"osc-spacer"}),React.createElement("div",{className:"osc-idea-details-container"},React.createElement("div",{className:"osc-idea-details"},React.createElement("h2",null,eval("idea.".concat(self.config.titleField))),React.createElement("div",{className:"osc-details-image-and-stats"},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_5__.IdeaImage,{config:self.config,idea:idea})),labelHTML,shareButtonsHTML,React.createElement("div",{className:"osc-details-stats"},voteButtonsHTML,reactionsCountHTML,editButtonsHTML)),React.createElement("p",{className:""},metaDataHTML),modBreakHTML,React.createElement("p",{className:"osc-details-summary"},idea.summary),React.createElement("p",{className:"osc-details-description",dangerouslySetInnerHTML:{__html:idea.description}}),addPollButtonHTML),pollHTML,reactionsHTML,React.createElement("div",{className:"osc-bottom-spacer"})))}}]),IdeasDetails}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdeasFilter});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasFilter=function(_OpenStadComponent){_inherits(IdeasFilter,_OpenStadComponent);var _super=_createSuper(IdeasFilter);function IdeasFilter(e){var t;return _classCallCheck(this,IdeasFilter),(t=_super.call(this,e)).doFilter=t.doFilter.bind(_assertThisInitialized(t)),t.setFilter=t.setFilter.bind(_assertThisInitialized(t)),t.state={currentValue:t.config.defaultValue},t}return _createClass(IdeasFilter,[{key:"componentDidMount",value:function(){this.state.currentValue&&this.setFilter({value:this.state.currentValue})}},{key:"doFilter",value:function doFilter(ideas,value){var self=this;return value=value||this.state.currentValue,ideas=ideas.filter(function(idea){var fieldName=self.config.fieldName,fieldValue=eval("idea.".concat(fieldName));return fieldValue==value}),ideas}},{key:"setFilter",value:function(e){var t=e.value,n=this;this.setState({currentValue:t},function(){var e=new window.CustomEvent("osc-ideas-filter-onchange",{detail:{fieldName:n.config.fieldName,value:t,doFilter:n.doFilter}});document.dispatchEvent(e)})}},{key:"render",value:function(){var t=this;if(0==t.config.showFilter)return null;var e=null;return t.config.label&&(e=React.createElement("div",{className:"osc-filter-label"},t.config.label,":")),React.createElement("div",{className:"osc-ideas-filter ".concat(t.props.className||"")},e,React.createElement("select",{value:t.state.currentValue,onChange:function(){return t.setFilter({value:t.filterSelector.value})},className:"osc-default-select",ref:function(e){return t.filterSelector=e}},t.config.filterOptions.map(function(e,t){return React.createElement("option",{value:e.value,key:"filter-option-"+t},e.label)})))}}]),IdeasFilter}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdeasSearch});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasSearch=function(_OpenStadComponent){_inherits(IdeasSearch,_OpenStadComponent);var _super=_createSuper(IdeasSearch);function IdeasSearch(e){var t;return _classCallCheck(this,IdeasSearch),(t=_super.call(this,e,{placeholder:"Zoeken",fieldNames:["title","summary"],showSearch:!0,showButton:!1,showSuggestions:!1,defaultValue:""})).doSearch=t.doSearch.bind(_assertThisInitialized(t)),t.setSearch=t.setSearch.bind(_assertThisInitialized(t)),t.state={currentValue:t.config.defaultValue},t}return _createClass(IdeasSearch,[{key:"componentDidMount",value:function(){this.state.currentValue&&this.setFilter({value:this.state.currentValue})}},{key:"doSearch",value:function doSearch(ideas,value){var self=this;return value=value||this.state.currentValue,ideas=ideas.filter(function(idea){var found=!1;return self.config.fieldNames.forEach(function(fieldName){var fieldValue=eval("idea.".concat(fieldName));fieldValue.match(new RegExp(value,"i"))&&(found=!0)}),found}),ideas}},{key:"setSearch",value:function(e){var t=e.value,n=this;this.setState({currentValue:t},function(){var e=new window.CustomEvent("osc-ideas-search-onchange",{detail:{value:t,doSearch:n.doSearch}});document.dispatchEvent(e)})}},{key:"showSuggestions",value:function(){}},{key:"hideSuggestions",value:function(){}},{key:"render",value:function(){var t=this;if(0==t.config.showSearch)return null;var e=null;t.config.label&&(e=React.createElement("div",{className:"osc-search-label"},t.config.label,":"));var n=null;return React.createElement("div",{className:"osc-ideas-search ".concat(t.props.className||"")},e,n,React.createElement("input",{type:"text",value:this.state.currentValue,placeholder:t.config.placeholder,onChange:function(){return t.setSearch({value:t.searchInput.value})},onBlur:function(){return t.hideSuggestions()},onFocus:function(){return t.showSuggestions()},className:"osc-default-input osc-ideas-search-input",ref:function(e){return t.searchInput=e}}),React.createElement("button",{className:"osc-ideas-search-button".concat(this.state.currentValue?" osc-active":""),onClick:function(){return t.setSearch({value:""})},ref:function(e){return t.resetButton=e}}))}}]),IdeasSearch}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i});var r=function(e){var r=e.latlng,t=e.addresssesMunicipality,o=e.next,n="https://geodata.nationaalgeoregister.nl/locatieserver/v3/free?lat=[[lat]]5&lon=[[lng]]&fq=type:adres&rows=1";t&&(n+="&fq=gemeentenaam:".concat(t)),r=r||{};var i=n.replace(/\[\[lat\]\]/,r.lat).replace(/\[\[lng\]\]/,r.lng);fetch(i).then(function(e){if(!e.ok)throw Error(e);return e.json()}).then(function(e){var t=e.response&&e.response.docs&&e.response.docs[0];if(!t)throw new Error("Niets gevonden");var n={address:"".concat(t.straatnaam," ").concat(t.huisnummer)};return n.lat=r.lat,n.lng=r.lng,o?o(n):n}).catch(function(e){console.log("Zoek adres: niet goed"),console.log(e),o&&o({})})},o=function(e){var t=e.searchValue,n=e.addresssesMunicipality,r=e.next;fetch("https://geodata.nationaalgeoregister.nl/locatieserver/v3/suggest?rows=5&fq=gemeentenaam:".concat(n,"&fq=*:*&q=").concat(t),{headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){var t=[];return e&&e.response&&e.response.docs&&e.response.docs.length&&(t=e.response.docs.map(function(e){return{id:e.id,text:e.weergavenaam}})),r?r(t):t}).catch(function(e){console.log("Search failed:",e),r&&r({})})},i=function(e){var t=e.id,n=e.addresssesMunicipality,r=e.next;fetch("https://geodata.nationaalgeoregister.nl/locatieserver/v3/lookup?fq=gemeentenaam:".concat(n,"&&id=").concat(t),{headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){var t={};return e&&e.response&&e.response.docs&&e.response.docs[0]&&(t=e.response.docs[0]),r?r(t):t}).catch(function(e){console.log("Search failed:",e),r&&r({})})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return v}),n.d(t,"ModalPopup",function(){return v});var r=n(12),o=n.n(r),i=n(38),a=n.n(i),c=(n(427),n(7));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=h(i);return t=a?(e=h(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==s(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,c["a"]);var e,t,n,r=p(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e,{})).state={width:300,height:200,title:"Titel",text:"Tekst",buttonAction:function(){return alert("Knop actie")},buttonText:"Knop tekst",cancelText:"Annuleren"},t}return e=o,(t=[{key:"componentDidMount",value:function(){var t=this;t.showModalPopupListener=function(e){t.showModalPopup(e.detail)},document.addEventListener("osc-show-modal-popup",t.showModalPopupListener),document.body.appendChild(this.instance)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-show-modal-popup",this.showModalPopupListener)}},{key:"showModalPopup",value:function(e){var t=this;t.setState(l({},e),function(){t.instance.style.display="block"})}},{key:"hideModalPopup",value:function(){this.instance.style.display="none"}},{key:"render",value:function(){var t=this,e=(e=t.state.content||null)||React.createElement("div",{className:"osc-modal-popup-content"},React.createElement("div",{className:"osc-modal-popup-header"},t.state.title),React.createElement("div",{className:"osc-modal-popup-text"},t.state.text),React.createElement("div",{className:"osc-modal-popup-buttons"},React.createElement("button",{onClick:t.state.buttonAction,className:"osc-button-blue"},t.state.buttonText),React.createElement("button",{onClick:function(){return t.hideModalPopup()},className:"osc-button-white"},"Annuleren")));return React.createElement("div",{id:"osc-modal-popup-container",ref:function(e){return t.instance=e}},React.createElement("div",{id:"osc-modal-popup",style:{top:"calc(50% - ( ".concat(t.state.height2," / 2 )px)"),left:"calc(50% - ( ".concat(t.state.width," / 2 )px)"),width:t.state.width,height:t.state.height}},e,React.createElement("div",{className:"osc-close-button",onClick:function(){return t.hideModalPopup()}})))}}])&&f(e.prototype,t),n&&f(e,n),o}();v.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(v,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return p}),n.d(t,"PreviousNextButtonBlock",function(){return p});var r=n(12),o=n.n(r),i=n(38),a=n.n(i),c=(n(439),n(7));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=d(i);return t=a?(e=d(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==s(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(o,c["a"]);var e,t,n,r=f(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e,{})}return e=o,(t=[{key:"render",value:function(){var e,t,n=this,r=this.props.previousAction||this.config.previousAction,o=this.props.previousUrl||this.config.previousUrl,i=this.props.previousIsDisabled||this.config.previousIsDisabled,a=this.props.previousLabel||this.config.previousLabel;o&&(r=function(){document.location.href="".concat(o)}),r&&(e=React.createElement("div",{className:"osc-previous-button".concat(i?" osc-disabled":""),onClick:function(e){return r(e)}},a));var c=this.props.nextAction||this.config.nextAction,s=this.props.nextUrl||this.config.nextUrl,u=this.props.nextIsDisabled||this.config.nextIsDisabled,l=this.props.nextLabel||this.config.nextLabel;return s&&(c=function(){document.location.href="".concat(s)}),c&&(t=React.createElement("div",{className:"osc-next-button".concat(u?" osc-disabled":""),onClick:function(e){return c(e)}},l)),React.createElement("div",{className:"osc-previous-next-button-block",ref:function(e){return n.instance=e}},e,t)}}])&&u(e.prototype,t),n&&u(e,n),o}();p.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(p,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return G}),n.d(t,"Reactions",function(){return G});var r=n(12),o=n.n(r),i=n(38),a=n.n(i),c=(n(436),n(7)),d=n(10),s=n(32);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=h(i);return t=a?(e=h(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==u(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,c["a"]);var e,t,n,r=p(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e,{argumentId:null,api:{url:null,headers:null},user:{},descriptionMinLength:30,descriptionMaxLength:500,requiredUserRole:"member",formIntro:"",placeholder:""})).config.loginUrl=t.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),t.state={description:t.config.description||"",isValid:!1,isBusy:!1},t}return e=o,(t=[{key:"handleOnChange",value:function(e){(e=e||{}).description&&(e.isValid=this.description.isValid()),this.setState(e)}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.props.user||{};return d.a.user.hasRole(t,e)}},{key:"submitForm",value:function(){var o=this;o.setState({isBusy:!0},function(){if(o.description.validate({showWarning:!0})){if(!o.canSubmit())return alert("Je bent niet ingelogd");var e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/idea/").concat(o.config.ideaId,"/argument").concat(o.config.argumentId?"/".concat(o.config.argumentId):""),t=d.a.api.getHeaders(o.config),n=o.config.argumentId?"PUT":"POST",r={parentId:o.config.parentId,sentiment:o.config.sentiment,description:o.state.description};fetch(e,{method:n,headers:t,body:JSON.stringify(r)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(n){"function"==typeof o.config.onSubmit&&o.config.onSubmit({description:o.state.description}),o.setState({description:"",isBusy:!1,isValid:!1},function(){var e,t;o.description.handleOnChange({value:""}),o.config.argumentId?(e=new CustomEvent("osc-reaction-edited",{detail:n}),document.dispatchEvent(e)):(t=new CustomEvent("osc-new-reaction-stored",{detail:n}),document.dispatchEvent(t))})}).catch(function(e){e.then(function(e){return alert(e),console.log(e)}),o.setState({isBusy:!1,isValid:!1})})}else o.setState({isBusy:!1,isValid:!1})})}},{key:"render",value:function(){var t=this,e={descriptionMinLength:t.config.descriptionMinLength||30,descriptionMaxLength:t.config.descriptionMaxLength||500},n=null;t.config.formIntro&&(n=React.createElement("div",{className:"osc-intro"},t.config.formIntro));var r=null,o=null,o=t.canSubmit()?(r=React.createElement(s.a.InputWithCounter,{config:{inputType:"textarea",minLength:e.descriptionMinLength,maxLength:e.descriptionMaxLength,placeholder:t.config.placeholder},value:t.state.description,onChange:function(e){return t.handleOnChange({description:e.value})},ref:function(e){return t.description=e}}),React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(){t.state.isBusy||t.submitForm()},className:"osc-button-blue".concat(!t.state.isValid||t.state.isBusy?" osc-disabled":"")},"Verzenden"))):(r=React.createElement("div",{style:{position:"relative"}},React.createElement(s.a.InputWithCounter,{disabled:!0,config:{inputType:"textarea",minLength:e.descriptionMinLength,maxLength:e.descriptionMaxLength,placeholder:t.config.placeholder},value:t.state.description,ref:function(e){return t.description=e}}),React.createElement("div",{onClick:function(){return t.config.showNotLoggedInPopup()},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})),React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(){d.a.localStorage.set("osc-login-pending-scroll-to-reactions",!0),d.a.localStorage.set("osc-login-pending-show-details",t.config.ideaId),document.location.href=t.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen")));return React.createElement("div",{id:t.divId,className:""},n,r,o)}}])&&l(e.prototype,t),n&&l(e,n),o}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function y(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=w(i);return t=a?(e=w(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==m(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(f,c["a"]);var e,t,n,r=E(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=r.call(this,e,{siteId:null,ideaId:null,title:null,descriptionMinLength:30,descriptionMaxLength:500,api:{url:null,headers:null},requiredUserRole:"member"})).state={user:e.user,isMenuActive:!1,isReplyFromActive:!1,editMode:!1},t}return e=f,(t=[{key:"componentDidMount",value:function(){var t=this;t.newReactionStoredListener=function(e){t.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",t.newReactionStoredListener),t.reactionEditedListener=function(e){t.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",t.reactionEditedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener)}},{key:"showMenu",value:function(){this.setState({isMenuActive:!0})}},{key:"toggleReplyForm",value:function(){this.setState({isReplyFromActive:!this.state.isReplyFromActive})}},{key:"toggleEditForm",value:function(){this.setState({editMode:!this.state.editMode})}},{key:"canEdit",value:function(){return this.props.data.can.edit}},{key:"canDelete",value:function(){return this.props.data.can.delete}},{key:"canLike",value:function(){if(this.config.isClosed)return!1;var e=this.config.requiredUserRole,t=this.props.user&&this.props.user.role;return"anonymous"==e&&t||"member"==e&&("member"==t||"editor"==t||"moderator"==t||"admin"==t)||"editor"==e&&("editor"==t||"moderator"==t||"admin"==t)||"moderator"==e&&("moderator"==t||"admin"==t)||"admin"==e&&"admin"==t}},{key:"canReply",value:function(){return this.props.data.can.reply}},{key:"submitDelete",value:function(){var n=this;if(!n.canDelete())return alert("U kunt deze reactie niet verwijderen");var e="".concat(n.config.api&&n.config.api.url,"/api/site/").concat(n.config.siteId,"/idea/").concat(n.config.ideaId,"/argument/").concat(n.props.data.id),t=d.a.api.getHeaders(n.config);fetch(e,{method:"DELETE",headers:t,body:JSON.stringify({})}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){n.setState({isDeleted:!0});var t=new CustomEvent("osc-reaction-deleted",{detail:{ideaId:n.config.ideaId}});document.dispatchEvent(t)}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"submitLike",value:function(){var t=this;if(!t.canLike())return t.config.showNotLoggedInPopup();var e="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/argument/").concat(t.props.data.id,"/vote"),n=d.a.api.getHeaders(t.config);fetch(e,{method:"POST",headers:n,body:JSON.stringify({})}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){t.setState({yes:e.yes,hasUserVoted:e.hasUserVoted})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"onNewReactionStored",value:function(){this.setState({isMenuActive:!1,isReplyFromActive:!1})}},{key:"onReactionEdited",value:function(e){e.id==this.props.data.id&&this.setState({editMode:!1,isMenuActive:!1})}},{key:"render",value:function(){var n=this,e=n.props.data||{can:{}};if(e.isDeleted)return null;var t=d.a.user.hasRole(e.user,"editor")?"osc-is-admin":"",r=React.createElement("div",{className:"osc-reaction-user ".concat(t)},e.user.nickName||e.user.fullName||"".concat(e.user.firstName," ").concat(e.user.lastName)),o=null;n.canEdit()&&n.canDelete()&&(o=React.createElement("div",{className:"osc-reaction-menu".concat(n.state.isMenuActive?" osc-reaction-hamburger-active":""),onClick:function(){n.showMenu()}},React.createElement("a",{className:"osc-reaction-delete",title:"Argument verwijderen",onClick:function(){confirm("Weet je het zeker?")&&n.submitDelete()}}),React.createElement("a",{className:"osc-reaction-edit",title:"Argument bewerken",onClick:function(){return n.toggleEditForm()}})));var i=React.createElement("div",{className:"osc-reaction-description"},e.description);n.state.editMode&&(i=React.createElement("div",{className:"osc-reaction-description"},React.createElement(v,{config:y(y({},n.config),{},{description:e.description,argumentId:e.id}),user:n.state.user,ref:function(e){return n.editForm=e}})));var a=null;e.parentId||(a=React.createElement("a",{className:"osc-reaction-like-button".concat((void 0!==n.state.hasUserVoted?n.state.hasUserVoted:e.hasUserVoted)?" osc-reaction-like-button-hasvoted":""),onClick:function(){return n.submitLike()}},"Mee eens (",React.createElement("span",null,0|(void 0!==n.state.yes?n.state.yes:e.yes)),")"));var c,s=null,u=null;n.canReply()&&!n.config.isClosed&&(s=React.createElement("a",{onClick:function(){return n.toggleReplyForm()},className:"osc-reply-button"},"Reageren"),n.state.isReplyFromActive&&((c=y(y({},n.config),{},{parentId:e.id})).formIntro="",u=React.createElement("div",{id:"osc-reaction-".concat(e.id),className:"osc-reply"},React.createElement(v,{config:c,user:n.state.user,ref:function(e){return n.editForm=e}}))));var l=null;return e.reactions&&e.reactions.length&&(l=React.createElement("ul",{className:"osc-reactions-list"},e.reactions.map(function(e){var t="osc-reaction-key-".concat(e.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:t},React.createElement(f,{config:n.config,className:"osc-reply",user:n.state.user,data:e}))}))),React.createElement("div",null,React.createElement("div",{id:"osc-reaction-".concat(e.id),className:n.props.className||"osc-reaction"},o,r,React.createElement("div",{className:"osc-reaction-date"},e.createDateHumanized),i,a,s),u,l)}}])&&b(e.prototype,t),n&&b(e,n),f}(),I=n(417);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=C(i);return t=a?(e=C(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==T(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(o,c["a"]);var e,t,n,r=P(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e,{loginUrl:""})}return e=o,(t=[{key:"showPopup",value:function(){var e=this,t=this,n=new window.CustomEvent("osc-show-modal-popup",{detail:{title:"Login om verder te gaan",text:"Login om een argument te plaatsen, te reageren of een argument te liken",buttonAction:function(){d.a.localStorage.set("osc-login-pending-scroll-to-reactions",!0),d.a.localStorage.set("osc-login-pending-show-details",t.config.ideaId),document.location.href=e.config.loginUrl},buttonText:"Inloggen"}});document.dispatchEvent(n)}},{key:"render",value:function(){return React.createElement(I.default,{ref:function(e){return self.modalPopup=e}})}}])&&S(e.prototype,t),n&&S(e,n),o}();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function x(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?M(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=F(i);return t=a?(e=F(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==L(r)&&"function"!=typeof r?N(n):r}}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(o,c["a"]);var e,t,n,r=j(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e,{scrollToNewReaction:!0,isClosed:!1,closedText:"De reactiemogelijkheid is gesloten",sentiment:void 0,siteId:null,ideaId:null,title:null,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",placeholder:"",formIntro:""})).showNotLoggedInPopup=t.showNotLoggedInPopup.bind(N(t)),t.state={user:t.config.user,reactions:[]},t}return e=o,(t=[{key:"componentDidMount",value:function(){var n=this;n.state.user&&n.state.user.role?n.fetchData():d.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},function(e,t){n.setState({user:t},function(){n.fetchData()})}),n.newReactionStoredListener=function(e){n.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",n.newReactionStoredListener),n.reactionEditedListener=function(e){n.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",n.reactionEditedListener),n.reactionDeletedListener=function(e){n.onReactionDeleted(e.detail)},document.addEventListener("osc-reaction-deleted",n.reactionDeletedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener),document.removeEventListener("osc-reaction-deleted",this.reactionDeletedListener)}},{key:"fetchData",value:function(n){var r=this,e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/idea/").concat(r.config.ideaId,"/argument?sentiment=").concat(r.config.sentiment,"&withUser=1&withUserVote=1&withVoteCount=1&includeReactionsOnReactions=1"),t=d.a.api.getHeaders(r.config);fetch(e,{headers:t}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=x({},r.state);t.reactions=e,t.reactions.sort(function(e,t){return e.createdAt<t.createdAt}),r.setState(t,function(){if(n)return n()})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"onNewReactionStored",value:function(e){var t=this;this.fetchData(function(){t.config.scrollToNewReaction&&document.getElementById("osc-reaction-".concat(e.id))&&document.getElementById("osc-reaction-".concat(e.id)).scrollIntoView()})}},{key:"onReactionEdited",value:function(){this.fetchData()}},{key:"onReactionDeleted",value:function(){this.fetchData()}},{key:"userIsModerator",value:function(){return d.a.user.hasRole(this.config.user,"moderator")}},{key:"showNotLoggedInPopup",value:function(){this.notLoggedInPopup.showPopup()}},{key:"render",value:function(){var t=this,n=this,e=React.createElement("ul",{className:"osc-reactions-list"},n.state.reactions.map(function(e){var t="osc-reaction-key-".concat(e.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:t},React.createElement(O,{config:x(x({},n.config),{},{showNotLoggedInPopup:n.showNotLoggedInPopup}),user:n.state.user,data:x({},e)}))})),r=n.config.title?React.createElement("h3",null,n.config.title):null,o=React.createElement(v,{config:x(x({},n.config),{},{showNotLoggedInPopup:n.showNotLoggedInPopup}),user:n.state.user});return n.config.isClosed&&!n.userIsModerator()&&(o=n.config.closedText?React.createElement("div",{className:"osc-closed-text"},n.config.closedText):null),React.createElement("div",{id:this.id,className:n.props.className||"osc-reactions",ref:function(e){t.instance=e}},React.createElement(k,{config:n.config,ref:function(e){return n.notLoggedInPopup=e}}),r,o,e,React.createElement("br",null),React.createElement("br",null))}}])&&D(e.prototype,t),n&&D(e,n),o}();G.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(G,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return S}),n.d(t,"Poll",function(){return S});var r=n(12),o=n.n(r),i=n(38),a=n.n(i),c=(n(435),n(7)),p=n(10),h=n(32);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=m(i);return t=a?(e=m(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==s(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,c["a"]);var e,t,n,r=v(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e,{user:{},questionMinLength:30,questionMaxLength:500,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,allowChoiceTitles:!0})).state={user:e.user,pollId:e.pollId,poll:e.poll,isBusy:!1},t}return e=o,(t=[{key:"componentDidMount",value:function(){var n=this;n.state.user&&n.state.user.role?n.state.poll||n.fetchData():p.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},function(e,t){n.setState({user:t},function(){n.state.poll||n.fetchData()})})}},{key:"fetchData",value:function(n){var r=this;if(!r.state.pollId)return r.setState({poll:{question:"",choices:{1:{},2:{}}}});var e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/idea/").concat(r.config.ideaId,"/poll/").concat(r.config.pollId,"?withUser=1&withVotes=1"),t=p.a.api.getHeaders(r.config);fetch(e,{headers:t}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=l({},r.state);t.poll=e,r.setState(t,function(){if(n)return n()})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"validatedResult",value:function(){var r=this,e=r.state.poll,t=r["question-input"],o=t.validate(),i={question:t.state.value,choices:{}};return Object.keys(e.choices).forEach(function(e){var t=r["title-input-".concat(e)],n=r["description-input-".concat(e)];(t&&t.state.value||n.state.value)&&(i.choices[e]={},r.config.allowChoiceTitles&&t.state.value&&(i.choices[e].title=t.state.value,t.validate()||(o=!1)),n.state.value&&(i.choices[e].description=n.state.value,n.validate()||(o=!1)))}),!o||Object.keys(i.choices).length<2?null:i}},{key:"handleOnChange",value:function(e){var t=l({},this.state.poll);e.choice&&(t.choices[e.choice.id]={title:this.config.allowChoiceTitles&&e.choice.title,description:e.choice.description}),e.question&&(t.question=e.question),this.setState({poll:t},function(){})}},{key:"addChoice",value:function(){var e=l({},this.state.poll),t=Object.keys(e.choices).sort(),n=parseInt(t[t.length-1])+1;e.choices[n]={},this.setState({poll:e})}},{key:"canSubmit",value:function(){if(this.state.poll&&this.state.poll.can)return this.state.poll.can.edit;var e=this.config.requiredUserRole,t="moderator";return("anonymous"==e?t:"member"==e&&!0)||"editor"==e&&!0||"moderator"==e&&!0||"admin"==e&&!1}},{key:"submitForm",value:function(){var i=this;i.setState({isBusy:!0},function(){var n=i.validatedResult();if(n){if(!i.canSubmit())return alert("Je bent niet ingelogd");var r=!0,e="".concat(i.config.api&&i.config.api.url,"/api/site/").concat(i.config.siteId,"/idea/").concat(i.config.ideaId,"/poll"),t="POST";i.state.poll&&i.state.poll.id&&(e+="/".concat(i.state.poll.id),r=!(t="PUT"));var o=p.a.api.getHeaders(i.config);fetch(e,{method:t,headers:o,body:JSON.stringify(n)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=new CustomEvent("osc-new-poll-stored",{detail:e});r||(t=new CustomEvent("osc-poll-edited",{detail:e})),document.dispatchEvent(t),"function"==typeof i.config.onFinished&&i.config.onFinished(n)}).catch(function(e){console.log(e),e.then(function(e){return alert(e),console.log(e)}),i.setState({isBusy:!1})})}else i.setState({isBusy:!1})})}},{key:"render",value:function(){var e=this,r=this,o=r.state.poll||{},t=null;r.config.formIntro&&(t=React.createElement("div",{className:"osc-intro"},r.config.formIntro));var n=null,n=r.canSubmit()?React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{className:"osc-button-blue",onClick:function(){r.config.onFinished&&r.config.onFinished()}},"Terug"),React.createElement("button",{onClick:function(){r.state.isBusy||r.submitForm()},className:"osc-button-blue osc-margin-left".concat(r.state.isBusy?" osc-disabled":"")},"Verzenden")):React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{className:"osc-button-blue",onClick:function(){r.config.onFinished&&r.config.onFinished()}},"Terug"),React.createElement("button",{onClick:function(){document.location.href=r.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button osc-margin-left"},"Inloggen"));return React.createElement("div",{id:r.divId,className:"osc-form",ref:function(e){return r.instance=e}},t,React.createElement("h4",null,"Vraag"),React.createElement(h.a.InputWithCounter,{config:{inputType:"text",minLength:r.config.questionMinLength,maxLength:r.config.questionMaxLength,placeholder:"Vraag"},value:o.question,onChange:function(e){return r.handleOnChange({question:e.value})},ref:function(e){return r["question-input"]=e}}),React.createElement("h4",null,"Keuzemogelijkheden"),React.createElement("ol",{className:"osc-poll-form-choices"},o&&o.choices&&Object.keys(o.choices).sort().map(function(t){var e=o.choices[t],n=null;return r.config.allowChoiceTitles&&(n=React.createElement(h.a.InputWithCounter,{config:{inputType:"text",minLength:r.config.titleMinLength,maxLength:r.config.titleMaxLength,placeholder:"Titel"},value:e.title,onChange:function(e){return r.handleOnChange({choice:{id:t,title:e.value}})},ref:function(e){return r["title-input-".concat(t)]=e}})),React.createElement("li",{className:"osc-poll-form-choice",key:"osc-key-".concat(t)},n,React.createElement(h.a.InputWithCounter,{config:{inputType:"text",minLength:r.config.descriptionMinLength,maxLength:r.config.descriptionMaxLength,placeholder:"Beschrijving"},value:e.description,onChange:function(e){return r.handleOnChange({choice:{id:t,description:e.value}})},ref:function(e){return r["description-input-".concat(t)]=e}}))})),React.createElement("a",{className:"osc-add-choice-button",onClick:function(){return e.addChoice()}},"Nog een keuzemogelijkheid toevoegen"),n)}}])&&f(e.prototype,t),n&&f(e,n),o}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=T(i);return t=a?(e=T(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==y(r)&&"function"!=typeof r?I(n):r}}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(o,c["a"]);var e,t,n,r=O(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=I(t=r.call(this,e,{siteId:null,ideaId:null,title:null,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",withPercentage:!0,allowChoiceTitles:!0,allowShowResultsIfNotVoted:!1}));return n.config.loginUrl=n.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),n.hideEditForm=n.hideEditForm.bind(n),n.state={user:n.config.user,poll:e.poll,pollId:e.poll&&e.poll.id||n.config.pollId,selectedChoice:null,showResult:!1,showQuestion:!1,editMode:!1,showVoteSucceeded:!1},n.state.poll&&(n.parseVoteCount(n.state.poll),n.state.poll.userVote&&(n.state.selectedChoice=n.state.poll.userVote)),t}return e=o,(t=[{key:"componentDidMount",value:function(){var n=this;n.state.user&&n.state.user.role?!n.state.poll&&n.config.ideaId&&n.fetchData():p.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},function(e,t){n.setState({user:t},function(){!n.state.poll&&n.config.ideaId&&n.fetchData()})})}},{key:"fetchData",value:function(n){var r=this;if(!r.state.pollId)return r.setState({editMode:!0},function(){});var e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/idea/").concat(r.config.ideaId,"/poll/").concat(r.state.pollId,"?withUser=1&withUserVote=1&withVoteCount=1&withVotes=1"),t=p.a.api.getHeaders(r.config);fetch(e,{headers:t}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=_(_({},r.state),{},{showResult:!1,showQuestion:!1});t.poll=e,t.pollId=e.id,r.parseVoteCount(t.poll),t.poll.userVote&&(t.selectedChoice=t.poll.userVote),r.setState(t,function(){if(n)return n()})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"parseVoteCount",value:function(n){n.voteCount&&Object.keys(n.choices).sort().forEach(function(e){var t=n.choices[e];t.votesAbs=n.voteCount[e],t.votesPrc=parseInt(n.voteCount[e]/n.voteCount.total*100),t.votesPrc=t.votesPrc||0})}},{key:"showEditForm",value:function(){this.setState({editMode:!0})}},{key:"hideEditForm",value:function(){this.setState({editMode:!1},function(){this.fetchData()})}},{key:"setShowResult",value:function(){this.setState({showResult:!0})}},{key:"setShowQuestion",value:function(){this.setState({showQuestion:!0})}},{key:"selectChoice",value:function(e){this.setState({selectedChoice:e.choice})}},{key:"onReactionEdited",value:function(){this.fetchData()}},{key:"isValid",value:function(){return!!this.state.selectedChoice}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.state.user&&this.state.user.role;return"anonymous"==e&&t||"member"==e&&("member"==t||"admin"==t)||"admin"==e&&"admin"==t}},{key:"submitVote",value:function(){var r=this;r.setState({isBusy:!0},function(){if(r.isValid()){if(!r.canSubmit())return alert("Je bent niet ingelogd");var e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/idea/").concat(r.config.ideaId,"/poll/").concat(r.state.poll.id,"/vote"),t=p.a.api.getHeaders(r.config),n={choice:r.state.selectedChoice};fetch(e,{method:"POST",headers:t,body:JSON.stringify(n)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(t){r.fetchData(function(){r.setState({isBusy:!1,showVoteSucceeded:!0},function(){var e=new CustomEvent("osc-poll-voted",{detail:t});document.dispatchEvent(e)})}),"function"==typeof r.config.onSubmit&&r.config.onSubmit({description:r.state.description})}).catch(function(e){e.then(function(e){return alert(e),console.log(e)}),r.setState({isBusy:!1,isValid:!1})})}else r.setState({isBusy:!1,isValid:!1})})}},{key:"deletePoll",value:function(){var r=this;r.setState({isBusy:!0},function(){var e=r.state.poll;if(!(e&&e.can&&e.can.delete))return alert("U kunt deze poll niet verwijderen");if(!e||!e.id)return alert("U kunt deze poll niet verwijderen");var t="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/idea/").concat(r.config.ideaId,"/poll/").concat(r.state.poll.id),n=p.a.api.getHeaders(r.config);fetch(t,{method:"DELETE",headers:n}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=new CustomEvent("osc-poll-deleted",{detail:e});document.dispatchEvent(t)}).catch(function(e){console.log(e),e.then(function(e){return alert(e),console.log(e)}),r.setState({isBusy:!1})})})}},{key:"render",value:function(){var t=this,a=this,c=a.state.poll||{};if(a.state.editMode)return React.createElement("div",{id:this.id,className:a.props.className||"osc-poll",ref:function(e){t.instance=e}},React.createElement(g,{config:_(_({},a.config),{},{onFinished:a.hideEditForm}),pollId:a.state.poll&&a.state.poll.id,poll:a.state.poll,user:a.state.user}));var n,e,r,o=null;(c&&c.choices&&!c.userVote||a.state.showQuestion)&&(n={name:"pollChoice",choices:[]},Object.keys(c.choices).sort().map(function(e){var t=a.config.allowChoiceTitles&&c.choices[e].title?"<h4>".concat(c.choices[e].title,"</h4>"):"";t+=c.choices[e].description||"",n.choices.push({dangerousDescription:t,value:e})}),e=null,e=a.canSubmit()?React.createElement("button",{onClick:function(){a.state.isBusy||a.submitVote()},className:"osc-button-blue".concat(a.isValid()?"":" osc-disabled")},"Stemmen"):React.createElement("button",{onClick:function(){p.a.localStorage.set("osc-poll-login-pending",!0),document.location.href=a.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"),r=null,!a.config.allowShowResultsIfNotVoted||c.userVote||a.state.showResult||(r=React.createElement("a",{className:"osc-show-result-button",onClick:function(){return t.setShowResult()}},"Resultaat bekijken")),o=React.createElement("div",{className:"osc-poll-question osc-form"},React.createElement(h.a.Radios,{config:n,value:a.state.selectedChoice,onChange:function(e){return a.selectChoice({choice:e.value})},ref:function(e){return a.description=e}}),React.createElement("div",{className:"osc-poll-question-buttons"},e,r)));var i,s,u,l=null;c&&(c.userVote||a.state.showResult)&&(i=null,a.state.showQuestion||c&&c.choices&&!c.userVote||(i=React.createElement("a",{className:"osc-show-question-button",onClick:function(){return t.setShowQuestion()}},"Stem aanpassen")),u=null,c.voteCount&&c.voteCount.total&&(s=1==c.voteCount.total?"stem":"stemmen",u=React.createElement("div",null,"Totaal ",c.voteCount.total," ",s,React.createElement("br",null),React.createElement("br",null))),l=React.createElement("ul",{className:"osc-choices"},Object.keys(c.choices).sort().map(function(e){var t=c.choices[e],n=null;a.config.allowChoiceTitles&&t.title&&(n=React.createElement("h4",null,t.title));var r=null;t.description&&(r=React.createElement("div",null,t.description));var o=null;a.config.withPercentage&&(o=React.createElement("div",{className:"osc-percentage"},t.votesPrc,"%"));var i=React.createElement("div",{className:"osc-choice-default"},n,r,React.createElement("div",{className:"osc-choice-bar".concat(a.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-mask"}),React.createElement("div",{className:"osc-choice-bar-progress",style:{width:(t.votesPrc||0)+"%"}})),o);return React.createElement("li",{className:"osc-choice",key:"osc-key-".concat(e)},i)}),u,i));var f=null;a.state.poll&&a.state.poll.can&&a.state.poll.can.edit&&(f=React.createElement("div",{className:"osc-editbuttons"},React.createElement("button",{className:"osc-editbutton osc-edit",onClick:function(){return a.showEditForm()}},"Bewerk poll"),React.createElement("button",{className:"osc-editbutton osc-delete",onClick:function(){confirm("Weet u het zeker")&&a.deletePoll()}},"Verwijder poll")));var d=null;return a.state.showVoteSucceeded&&(d=React.createElement("div",{className:"osc-vote-succeeded"},"Uw stem is opgeslagen")),React.createElement("div",{id:this.id,className:a.props.className||"osc-poll",ref:function(e){t.instance=e}},f,d,React.createElement("h4",null,c.question),o,l,React.createElement("br",null),React.createElement("br",null))}}])&&E(e.prototype,t),n&&E(e,n),o}();S.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(S,{attributes:n,config:t}),e)}},function(e,t,n){},function(e,t,n){(function(zc){!function(o){"use strict";var t=function e(t){return t instanceof HTMLElement},x=function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var o=Object.assign({},t);var i=[];var a=[];var c=function e(){return Object.assign({},o)};var s=function e(){var t=[].concat(i);i.length=0;return t};var u=function e(){var t=[].concat(a);a.length=0;t.forEach(function(e){var t=e.type,n=e.data;l(t,n)})};var l=function e(t,n,r){if(r&&!document.hidden){a.push({type:t,data:n});return}if(h[t]){h[t](n)}i.push({type:t,data:n})};var f=function e(t){var n;for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++){o[i-1]=arguments[i]}return p[t]?(n=p)[t].apply(n,o):null};var d={getState:c,processActionQueue:s,processDispatchQueue:u,dispatch:l,query:f};var p={};n.forEach(function(e){p=Object.assign({},e(o),{},p)});var h={};r.forEach(function(e){h=Object.assign({},e(l,f,o),{},h)});return d},r=function e(t,n,r){if(typeof r==="function"){t[n]=r;return}Object.defineProperty(t,n,Object.assign({},r))},g=function e(t,n){for(var r in t){if(!t.hasOwnProperty(r)){continue}n(r,t[r])}},U=function e(t){var n={};g(t,function(e){r(n,e,t[e])});return n},u=function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(r===null){return t.getAttribute(n)||t.hasAttribute(n)}t.setAttribute(n,r)},i="http://www.w3.org/2000/svg",n=["svg","path"],a=function e(t){return n.includes(t)},V=function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(typeof n==="object"){r=n;n=null}var o=a(t)?document.createElementNS(i,t):document.createElement(t);if(n){if(a(t)){u(o,"class",n)}else{o.className=n}}g(r,function(e,t){u(o,e,t)});return o},H=function e(n){return function(e,t){if(typeof t!=="undefined"&&n.children[t]){n.insertBefore(e,n.children[t])}else{n.appendChild(e)}}},W=function e(t,n){return function(e,t){if(typeof t!=="undefined"){n.splice(t,0,e)}else{n.push(e)}return e}},z=function e(t,n){return function(e){n.splice(n.indexOf(e),1);if(e.element.parentNode){t.removeChild(e.element)}return e}},c=function(){return typeof window!=="undefined"&&typeof window.document!=="undefined"}(),s=function e(){return c},e,Y="children"in(s()?V("svg"):{})?function(e){return e.children.length}:function(e){return e.childNodes.length},K=function e(t,n,r,o){var i=r[0]||t.left;var a=r[1]||t.top;var c=i+t.width;var s=a+t.height*(o[1]||1);var u={element:Object.assign({},t),inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:i,top:a,right:c,bottom:s}};n.filter(function(e){return!e.isRectIgnored()}).map(function(e){return e.rect}).forEach(function(e){l(u.inner,Object.assign({},e.inner));l(u.outer,Object.assign({},e.outer))});f(u.inner);u.outer.bottom+=u.element.marginBottom;u.outer.right+=u.element.marginRight;f(u.outer);return u},l=function e(t,n){n.top+=t.top;n.right+=t.left;n.bottom+=t.top;n.left+=t.left;if(n.bottom>t.bottom){t.bottom=n.bottom}if(n.right>t.right){t.right=n.right}},f=function e(t){t.width=t.right-t.left;t.height=t.bottom-t.top},D=function e(t){return typeof t==="number"},v=function e(t,n,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:.001;return Math.abs(t-n)<o&&Math.abs(r)<o},d,p=function e(t){return t},m=function e(t){return t<.5?2*t*t:-1+(4-2*t)*t},h,y={spring:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.stiffness,o=n===void 0?.5:n,r=t.damping,i=r===void 0?.75:r,a=t.mass,c=a===void 0?10:a;var s=null;var u=null;var l=0;var f=false;var d=function e(t,n){if(f)return;if(!(D(s)&&D(u))){f=true;l=0;return}var r=-(u-s)*o;l+=r/c;u+=l;l*=i;if(v(u,s,l)||n){u=s;l=0;f=true;h.onupdate(u);h.oncomplete(u)}else{h.onupdate(u)}};var p=function e(t){if(D(t)&&!D(u)){u=t}if(s===null){s=t;u=t}s=t;if(u===s||typeof s==="undefined"){f=true;l=0;h.onupdate(u);h.oncomplete(u);return}f=false};var h=U({interpolate:d,target:{set:p,get:function e(){return s}},resting:{get:function e(){return f}},onupdate:function e(t){},oncomplete:function e(t){}});return h},tween:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.duration,r=n===void 0?500:n,o=t.easing,i=o===void 0?m:o,a=t.delay,c=a===void 0?0:a;var s=null;var u;var l;var f=true;var d=false;var p=null;var h=function e(t,n){if(f||p===null)return;if(s===null){s=t}if(t-s<c)return;u=t-s-c;if(u>=r||n){u=1;l=d?0:1;v.onupdate(l*p);v.oncomplete(l*p);f=true}else{l=u/r;v.onupdate((u>=0?i(d?1-l:l):0)*p)}};var v=U({interpolate:h,target:{get:function e(){return d?0:p},set:function e(t){if(p===null){p=t;v.onupdate(t);v.oncomplete(t);return}if(t<p){p=1;d=true}else{d=false;p=t}f=false;s=null}},resting:{get:function e(){return f}},onupdate:function e(t){},oncomplete:function e(t){}});return v}},b=function e(t,n,r){var o=t[n]&&typeof t[n][r]==="object"?t[n][r]:t[n]||t;var i=typeof o==="string"?o:o.type;var a=typeof o==="object"?Object.assign({},o):{};return y[i]?y[i](a):null},_=function e(t,n,i){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;n=Array.isArray(n)?n:[n];n.forEach(function(o){t.forEach(function(n){var e=n;var t=function e(){return i[n]};var r=function e(t){return i[n]=t};if(typeof n==="object"){e=n.key;t=n.getter||t;r=n.setter||r}if(o[e]&&!a){return}o[e]={get:t,set:r}})})},E,w=function e(n){return function(e,t){n.addEventListener(e,t)}},O=function e(n){return function(e,t){n.removeEventListener(e,t)}},I,T,S=function e(t){return t!=null},R={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},P=function e(t){var n=t.mixinConfig,r=t.viewProps,o=t.viewInternalAPI,i=t.viewExternalAPI,a=t.view;var c=Object.assign({},r);var s={};_(n,[o,i],r);var u=function e(){return[r["translateX"]||0,r["translateY"]||0]};var l=function e(){return[r["scaleX"]||0,r["scaleY"]||0]};var f=function e(){return a.rect?K(a.rect,a.childViews,u(),l()):null};o.rect={get:f};i.rect={get:f};n.forEach(function(e){r[e]=typeof c[e]==="undefined"?R[e]:c[e]});return{write:function e(){if(!C(s,r)){return}k(a.element,r);Object.assign(s,Object.assign({},r));return true},destroy:function e(){}}},C=function e(t,n){if(Object.keys(t).length!==Object.keys(n).length){return true}for(var r in n){if(n[r]!==t[r]){return true}}return false},k=function e(t,n){var r=n.opacity,o=n.perspective,i=n.translateX,a=n.translateY,c=n.scaleX,s=n.scaleY,u=n.rotateX,l=n.rotateY,f=n.rotateZ,d=n.originX,p=n.originY,h=n.width,v=n.height;var m="";var g="";if(S(d)||S(p)){g+="transform-origin: "+(d||0)+"px "+(p||0)+"px;"}if(S(o)){m+="perspective("+o+"px) "}if(S(i)||S(a)){m+="translate3d("+(i||0)+"px, "+(a||0)+"px, 0) "}if(S(c)||S(s)){m+="scale3d("+(S(c)?c:1)+", "+(S(s)?s:1)+", 1) "}if(S(f)){m+="rotateZ("+f+"rad) "}if(S(u)){m+="rotateX("+u+"rad) "}if(S(l)){m+="rotateY("+l+"rad) "}if(m.length){g+="transform:"+m+";"}if(S(r)){g+="opacity:"+r+";";if(r===0){g+="visibility:hidden;"}if(r<1){g+="pointer-events:none;"}}if(S(v)){g+="height:"+v+"px;"}if(S(h)){g+="width:"+h+"px;"}var y=t.elementCurrentStyle||"";if(g.length!==y.length||g!==y){t.style.cssText=g;t.elementCurrentStyle=g}},X={styles:P,listeners:function e(t){var n=t.mixinConfig,r=t.viewProps,o=t.viewInternalAPI,i=t.viewExternalAPI,a=t.viewState,c=t.view;var s=[];var u=w(c.element);var l=O(c.element);i.on=function(e,t){s.push({type:e,fn:t});u(e,t)};i.off=function(t,n){s.splice(s.findIndex(function(e){return e.type===t&&e.fn===n}),1);l(t,n)};return{write:function e(){return true},destroy:function e(){s.forEach(function(e){l(e.type,e.fn)})}}},animations:function o(e){var t=e.mixinConfig,i=e.viewProps,a=e.viewInternalAPI,c=e.viewExternalAPI;var s=Object.assign({},i);var o=[];g(t,function(t,e){var n=b(e);if(!n){return}n.onupdate=function(e){i[t]=e};n.target=s[t];var r={key:t,setter:function e(t){if(n.target===t){return}n.target=t},getter:function e(){return i[t]}};_([r],[a,c],i,true);o.push(n)});return{write:function e(t){var n=document.hidden;var r=true;o.forEach(function(e){if(!e.resting)r=false;e.interpolate(t,n)});return r},destroy:function e(){}}},apis:function e(t){var n=t.mixinConfig,r=t.viewProps,o=t.viewExternalAPI;_(n,o,r)}},Q=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!n.layoutCalculated){t.paddingTop=parseInt(r.paddingTop,10)||0;t.marginTop=parseInt(r.marginTop,10)||0;t.marginRight=parseInt(r.marginRight,10)||0;t.marginBottom=parseInt(r.marginBottom,10)||0;t.marginLeft=parseInt(r.marginLeft,10)||0;n.layoutCalculated=true}t.left=n.offsetLeft||0;t.top=n.offsetTop||0;t.width=n.offsetWidth||0;t.height=n.offsetHeight||0;t.right=t.left+t.width;t.bottom=t.top+t.height;t.scrollTop=n.scrollTop;t.hidden=n.offsetParent===null;return t},L=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.tag,C=n===void 0?"div":n,r=t.name,k=r===void 0?null:r,o=t.attributes,L=o===void 0?{}:o,i=t.read,M=i===void 0?function(){}:i,a=t.write,x=a===void 0?function(){}:a,c=t.create,D=c===void 0?function(){}:c,s=t.destroy,A=s===void 0?function(){}:s,u=t.filterFrameActionsForChild,j=u===void 0?function(e,t){return t}:u,l=t.didCreateView,N=l===void 0?function(){}:l,f=t.didWriteView,F=f===void 0?function(){}:f,d=t.ignoreRect,G=d===void 0?false:d,p=t.ignoreRectUpdate,B=p===void 0?false:p,h=t.mixins,q=h===void 0?[]:h;return function(e){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=V(C,"filepond--"+k,L);var o=window.getComputedStyle(r,null);var i=Q();var c=null;var t=false;var s=[];var u=[];var n={};var l={};var f=[x];var d=[M];var p=[A];var h=function e(){return r};var v=function e(){return s.concat()};var m=function e(){return n};var g=function e(n){return function(e,t){return e(n,t)}};var y=function e(){if(c){return c}c=K(i,s,[0,0],[1,1]);return c};var b=function e(){return o};var _=function e(){c=null;s.forEach(function(e){return e._read()});var t=!(B&&i.width&&i.height);if(t){Q(i,r,o)}var n={root:R,props:a,rect:i};d.forEach(function(e){return e(n)})};var E=function e(n,r,o){var i=r.length===0;f.forEach(function(e){var t=e({props:a,root:R,actions:r,timestamp:n,shouldOptimize:o});if(t===false){i=false}});u.forEach(function(e){var t=e.write(n);if(t===false){i=false}});s.filter(function(e){return!!e.element.parentNode}).forEach(function(e){var t=e._write(n,j(e,r),o);if(!t){i=false}});s.forEach(function(e,t){if(e.element.parentNode){return}R.appendChild(e.element,t);e._read();e._write(n,j(e,r),o);i=false});t=i;F({props:a,root:R,actions:r,timestamp:n});return i};var w=function e(){u.forEach(function(e){return e.destroy()});p.forEach(function(e){e({root:R,props:a})});s.forEach(function(e){return e._destroy()})};var O={element:{get:h},style:{get:b},childViews:{get:v}};var I=Object.assign({},O,{rect:{get:y},ref:{get:m},is:function e(t){return k===t},appendChild:H(r),createChildView:g(e),linkView:function e(t){s.push(t);return t},unlinkView:function e(t){s.splice(s.indexOf(t),1)},appendChildView:W(r,s),removeChildView:z(r,s),registerWriter:function e(t){return f.push(t)},registerReader:function e(t){return d.push(t)},registerDestroyer:function e(t){return p.push(t)},invalidateLayout:function e(){return r.layoutCalculated=false},dispatch:e.dispatch,query:e.query});var T={element:{get:h},childViews:{get:v},rect:{get:y},resting:{get:function e(){return t}},isRectIgnored:function e(){return G},_read:_,_write:E,_destroy:w};var S=Object.assign({},O,{rect:{get:function e(){return i}}});Object.keys(q).sort(function(e,t){if(e==="styles"){return 1}else if(t==="styles"){return-1}return 0}).forEach(function(e){var t=X[e]({mixinConfig:q[e],viewProps:a,viewState:l,viewInternalAPI:I,viewExternalAPI:T,view:U(S)});if(t){u.push(t)}});var R=U(I);D({root:R,props:a});var P=Y(r);s.forEach(function(e,t){R.appendChild(e.element,P+t)});N(R);return U(T)}},M=function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:60;var o="__framePainter";if(window[o]){window[o].readers.push(t);window[o].writers.push(n);return}window[o]={readers:[t],writers:[n]};var i=window[o];var a=1e3/r;var c=null;var s=null;var u=null;var l=null;var f=function e(){if(document.hidden){u=function e(){return window.setTimeout(function(){return d(performance.now())},a)};l=function e(){return window.clearTimeout(s)}}else{u=function e(){return window.requestAnimationFrame(d)};l=function e(){return window.cancelAnimationFrame(s)}}};document.addEventListener("visibilitychange",function(){if(l)l();f();d(performance.now())});var d=function e(t){s=u(e);if(!c){c=t}var n=t-c;if(n<=a){return}c=t-n%a;i.readers.forEach(function(e){return e()});i.writers.forEach(function(e){return e(t)})};f();d(performance.now());return{pause:function e(){l(s)}}},A=function e(c,s){return function(e){var t=e.root,n=e.props,r=e.actions,o=r===void 0?[]:r,i=e.timestamp,a=e.shouldOptimize;o.filter(function(e){return c[e.type]}).forEach(function(e){return c[e.type]({root:t,props:n,action:e.data,timestamp:i,shouldOptimize:a})});if(s){s({root:t,props:n,actions:o,timestamp:i,shouldOptimize:a})}}},j=function e(t,n){return n.parentNode.insertBefore(t,n)},N=function e(t,n){return n.parentNode.insertBefore(t,n.nextSibling)},F=function e(t){return Array.isArray(t)},B=function e(t){return t==null},G=function e(t){return t.trim()},q=function e(t){return""+t},J,Z=function e(t){return typeof t==="boolean"},$=function e(t){return Z(t)?t:t==="true"},ee=function e(t){return typeof t==="string"},te=function e(t){return D(t)?t:ee(t)?q(t).replace(/[a-z]+/gi,""):0},ne=function e(t){return parseInt(te(t),10)},re=function e(t){return parseFloat(te(t))},oe=function e(t){return D(t)&&isFinite(t)&&Math.floor(t)===t},ie=function e(t){if(oe(t)){return t}var n=q(t).trim();if(/MB$/i.test(n)){n=n.replace(/MB$i/,"").trim();return ne(n)*1e3*1e3}if(/KB/i.test(n)){n=n.replace(/KB$i/,"").trim();return ne(n)*1e3}return ne(n)},ae=function e(t){return typeof t==="function"},ce=function e(t){var n=self;var r=t.split(".");var o=null;while(o=r.shift()){n=n[o];if(!n){return null}}return n},se={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},ue=function e(t){var n={};n.url=ee(t)?t:t.url||"";n.timeout=t.timeout?parseInt(t.timeout,10):0;n.headers=t.headers?t.headers:{};g(se,function(e){n[e]=le(e,t[e],se[e],n.timeout,n.headers)});n.remove=t.remove||null;delete n.headers;return n},le=function e(t,n,r,o,i){if(n===null){return null}if(typeof n==="function"){return n}var a={url:r==="GET"||r==="PATCH"?"?"+t+"=":"",method:r,headers:i,withCredentials:false,timeout:o,onload:null,ondata:null,onerror:null};if(ee(n)){a.url=n;return a}Object.assign(a,n);if(ee(a.headers)){var c=a.headers.split(/:(.+)/);a.headers={header:c[0],value:c[1]}}a.withCredentials=$(a.withCredentials);return a},fe,de=function e(t){return t===null},pe=function e(t){return typeof t==="object"&&t!==null},he=function e(t){return pe(t)&&ee(t.url)&&pe(t.process)&&pe(t.revert)&&pe(t.restore)&&pe(t.fetch)},ve=function e(t){if(F(t)){return"array"}if(de(t)){return"null"}if(oe(t)){return"int"}if(/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)){return"bytes"}if(he(t)){return"api"}return typeof t},me=function e(t){return t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},ge={array:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:",";if(B(t)){return[]}if(F(t)){return t}return q(t).split(n).map(G).filter(function(e){return e.length})},boolean:$,int:function e(t){return ve(t)==="bytes"?ie(t):ne(t)},number:re,float:re,bytes:ie,string:function e(t){return ae(t)?t:q(t)},function:function e(t){return ce(t)},serverapi:function e(t){return ue(t)},object:function e(t){try{return JSON.parse(me(t))}catch(e){return null}}},ye=function e(t,n){return ge[n](t)},be=function e(t,n,r){if(t===n){return t}var o=ve(t);if(o!==r){var i=ye(t,r);o=ve(i);if(i===null){throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+r+'"'}else{t=i}}return t},_e=function e(n,r){var o=n;return{enumerable:true,get:function e(){return o},set:function e(t){o=be(t,n,r)}}},Ee=function e(n){var r={};g(n,function(e){var t=n[e];r[e]=_e(t[0],t[1])});return U(r)},we=function e(t){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Ee(t)}},Oe=function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"-";return t.split(/(?=[A-Z])/).map(function(e){return e.toLowerCase()}).join(n)},Ie=function e(r,t){var o={};g(t,function(n){o[n]={get:function e(){return r.getState().options[n]},set:function e(t){r.dispatch("SET_"+Oe(n,"_").toUpperCase(),{value:t})}}});return o},Te=function e(t){return function(r,e,o){var i={};g(t,function(t){var n=Oe(t,"_").toUpperCase();i["SET_"+n]=function(e){try{o.options[t]=e.value}catch(e){}r("DID_SET_"+n,{value:o.options[t]})}});return i}},Se=function e(t){return function(n){var e={};g(t,function(t){e["GET_"+Oe(t,"_").toUpperCase()]=function(e){return n.options[t]}});return e}},Re={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Pe=function e(){return Math.random().toString(36).substr(2,9)},Ce;function ke(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){(function(e){return typeof e})}else{(function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})}return ke(e)}function Le(e,t,n,r){if(!Ce){typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103}var o=e&&e.defaultProps;var i=arguments.length-3;if(!t&&i!==0){({children:void 0})}if(t&&o){for(var a in o){if(t[a]===void 0){t[a]=o[a]}}}else if(!t){o||{}}if(i===1){t.children=r}else if(i>1){var c=new Array(i);for(var s=0;s<i;s++){c[s]=arguments[s+3]}t.children=c}return{$$typeof:Ce,type:e,key:n===undefined?null:""+n,ref:null,props:t,_owner:null}}function Me(e){var t;if(typeof Symbol!=="undefined"){if(Symbol.asyncIterator){e[Symbol.asyncIterator];if(t!=null)return t.call(e)}if(Symbol.iterator){e[Symbol.iterator];if(t!=null)return t.call(e)}}throw new TypeError("Object is not async iterable")}function xe(e){this.wrapped=e}function De(i){var a,c;function e(r,o){return new zc(function(e,t){var n={key:r,arg:o,resolve:e,reject:t,next:null};if(c){c=c.next=n}else{a=c=n;s(r,o)}})}function s(e,t){try{var n=i[e](t);var r=n.value;var o=r instanceof xe;zc.resolve(o?r.wrapped:r).then(function(e){if(o){s("next",e);return}u(n.done?"return":"normal",e)},function(e){s("throw",e)})}catch(e){u("throw",e)}}function u(e,t){switch(e){case"return":a.resolve({value:t,done:true});break;case"throw":a.reject(t);break;default:a.resolve({value:t,done:false});break}a=a.next;if(a){s(a.key,a.arg)}else{c=null}}this._invoke=e;if(typeof i.return!=="function"){this.return=undefined}}if(typeof Symbol==="function"&&Symbol.asyncIterator){De.prototype[Symbol.asyncIterator]=function(){return this}}function Ae(e){return function(){return new De(e.apply(this,arguments))}}function je(e){return new xe(e)}function Ne(r,e){var t={},n=false;function o(t,n){true;new zc(function(e){e(r[t](n))});return{done:false,value:e(n)}}if(typeof Symbol==="function"&&Symbol.iterator){t[Symbol.iterator]=function(){return this}}t.next=function(e){if(n){false;return e}return o("next",e)};if(typeof r.throw==="function"){t.throw=function(e){if(n){false;throw e}return o("throw",e)}}if(typeof r.return==="function"){t.return=function(e){return o("return",e)}}return t}function Fe(e,t,n,r,o,i,a){try{var c=e[i](a);var s=c.value}catch(e){n(e);return}if(c.done){t(s)}else{zc.resolve(s).then(r,o)}}function Ge(c){return function(){var e=this,a=arguments;return new zc(function(t,n){var r=c.apply(e,a);function o(e){Fe(r,t,n,o,i,"next",e)}function i(e){Fe(r,t,n,o,i,"throw",e)}o(undefined)})}}function Be(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function Ue(e,t,n){if(t)qe(e.prototype,t);if(n)qe(e,n);return e}function Ve(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=true;if("value"in r)r.writable=true;Object.defineProperty(e,n,r)}if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(var i=0;i<o.length;i++){var a=o[i];var r=t[a];r.configurable=r.enumerable=true;if("value"in r)r.writable=true;Object.defineProperty(e,a,r)}}return e}function He(e,t){var n=Object.getOwnPropertyNames(t);for(var r=0;r<n.length;r++){var o=n[r];var i=Object.getOwnPropertyDescriptor(t,o);if(i&&i.configurable&&e[o]===undefined){Object.defineProperty(e,o,i)}}return e}function We(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function ze(){Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};return ze.apply(this,arguments)}function Ye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var r=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))}r.forEach(function(e){We(t,e,n[e])})}return t}function Ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);if(e)r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable});n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};if(e%2){Ke(n,true).forEach(function(e){We(t,e,n[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))}else{Ke(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}}return t}function Qe(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)$e(e,t)}function Je(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}function Ze(e){Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Ze(e)}function $e(e,t){Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return $e(e,t)}function et(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function tt(e,t,n){if(et()){Reflect.construct}else{(function e(t,n,r){var o=[null];o.push.apply(o,n);var i=Function.bind.apply(t,o);var a=new i;if(r)$e(a,r.prototype);return a})}return tt.apply(null,arguments)}function nt(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function rt(e){var r=typeof Map==="function"?new Map:undefined;(function e(t){if(t===null||!nt(t))return t;if(typeof t!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof r!=="undefined"){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return tt(t,arguments,Ze(this).constructor)}Object.create(t.prototype,{constructor:{value:n,enumerable:false,writable:true,configurable:true}});return $e(n,t)});return rt(e)}function ot(e,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return!!t[Symbol.hasInstance](e)}else{return e instanceof t}}function it(e){return e&&e.__esModule?e:{default:e}}function at(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(r.get||r.set){Object.defineProperty(t,n,r)}else{t[n]=e[n]}}}}t.default=e;return t}}function ct(e,t){if(e!==t){throw new TypeError("Cannot instantiate an arrow function")}}function st(e){if(e==null)throw new TypeError("Cannot destructure undefined")}function ut(e,t){if(e==null)return{};var n={};var r=Object.keys(e);var o,i;for(i=0;i<r.length;i++){o=r[i];if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function lt(e,t){if(e==null)return{};var n=ut(e,t);var r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++){r=i[o];if(t.indexOf(r)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,r))continue;n[r]=e[r]}}return n}function ft(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function dt(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return ft(e)}function pt(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){Ze(e);if(e===null)break}return e}function ht(e,t,n){if(typeof Reflect!=="undefined"&&Reflect.get){Reflect.get}else{(function e(t,n,r){var o=pt(t,n);if(!o)return;var i=Object.getOwnPropertyDescriptor(o,n);if(i.get){return i.get.call(r)}return i.value})}return ht(e,t,n||e)}function vt(e,t,n,r){if(typeof Reflect!=="undefined"&&Reflect.set){Reflect.set}else{(function e(t,n,r,o){var i=pt(t,n);var a;if(i){Object.getOwnPropertyDescriptor(i,n);if(a.set){a.set.call(o,r);return true}else if(!a.writable){return false}}Object.getOwnPropertyDescriptor(o,n);if(a){if(!a.writable){return false}a.value=r;Object.defineProperty(o,n,a)}else{We(o,n,r)}return true})}return vt(e,t,n,r)}function mt(e,t,n,r,o){var i=vt(e,t,n,r||e);if(!i&&o){throw new Error("failed to set property")}return n}function gt(e,t){if(!t){e.slice(0)}return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function yt(e,t){if(!t){e.slice(0)}e.raw=t;return e}function bt(e,t){if(e===wt){throw new ReferenceError(t+" is not defined - temporal dead zone")}else{return e}}function _t(e){throw new Error('"'+e+'" is read-only')}function Et(e){throw new Error('Class "'+e+'" cannot be referenced in computed property keys.')}De.prototype.next=function(e){return this._invoke("next",e)},De.prototype.throw=function(e){return this._invoke("throw",e)},De.prototype.return=function(e){return this._invoke("return",e)};var wt={};function Ot(e,t){return Pt(e)||kt(e,t)||xt()}function It(e,t){return Pt(e)||Lt(e,t)||xt()}function Tt(e){return Pt(e)||Ct(e)||xt()}function St(e){return Rt(e)||Ct(e)||Mt()}function Rt(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function Pt(e){if(Array.isArray(e))return e}function Ct(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function kt(e,t){var n=[];var r=true;var o=false;var i=undefined;try{for(var a=e[Symbol.iterator](),c;!a.next().done;true){n.push(c.value);if(t&&n.length===t)break}}catch(e){true;e}finally{try{if(!r&&a["return"]!=null)a["return"]()}finally{if(o)throw i}}return n}function Lt(e,t){var n=[];for(var r=e[Symbol.iterator](),o;!r.next().done;){n.push(o.value);if(t&&n.length===t)break}return n}function Mt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function xt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Dt(t){return function(){var e=t.apply(this,arguments);e.next();return e}}function At(e,t){if(typeof e!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if(typeof r!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jt(e){var t=At(e,"string");return typeof t==="symbol"?t:String(t)}function Nt(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and set to use loose mode. "+"To use proposal-class-properties in spec mode with decorators, wait for "+"the next major version of decorators in stage 2.")}function Ft(e,t,n,r){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Gt(n,r,e,t,o){var i={};Object.keys(t).forEach(function(e){i[e]=t[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}e.slice().reverse().reduce(function(e,t){return t(n,r,e)||e},i);if(o&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(o):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(n,r,i);null}return i}var Bt=0;function qt(e){return"__private_"+Bt+++"_"+e}function Ut(e,t){if(!Object.prototype.hasOwnProperty.call(e,t)){throw new TypeError("attempted to use private field on non-instance")}return e}function Vt(e,t){var n=t.get(e);if(!n){throw new TypeError("attempted to get private field on non-instance")}if(n.get){return n.get.call(e)}return n.value}function Ht(e,t,n){var r=t.get(e);if(!r){throw new TypeError("attempted to set private field on non-instance")}if(r.set){r.set.call(e,n)}else{if(!r.writable){throw new TypeError("attempted to set read only private field")}r.value=n}return n}function Wt(t,e){if(!e.has(t)){throw new TypeError("attempted to set private field on non-instance")}var n=e.get(t);if(n.set){if(!("__destrObj"in n)){n.__destrObj={set value(e){n.set.call(t,e)}}}return n.__destrObj}else{if(!n.writable){throw new TypeError("attempted to set read only private field")}return n}}function zt(e,t,n){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return n.value}function Yt(e,t,n,r){if(e!==t){throw new TypeError("Private static access of wrong provenance")}if(!n.writable){throw new TypeError("attempted to set read only private field")}n.value=r;return r}function Kt(e,t,n){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return n}function Xt(){throw new TypeError("attempted to set read only static private field")}function Qt(e,t,n,r){var o=Jt();if(r){for(var i=0;i<r.length;i++){r[i](o)}}var a=t(function e(t){o.initializeInstanceElements(t,c.elements)},n);var c=o.decorateClass(en(a.d.map(Zt)),e);o.initializeClassElements(a.F,c.elements);return o.runClassFinishers(a.F,c.finishers)}function Jt(){(function(){return e});var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(n,e){["method","field"].forEach(function(t){e.forEach(function(e){if(e.kind===t&&e.placement==="own"){this.defineClassElement(n,e)}},this)},this)},initializeClassElements:function(o,e){var i=o.prototype;["method","field"].forEach(function(r){e.forEach(function(e){var t=e.placement;if(e.kind===r&&(t==="static"||t==="prototype")){var n=t==="static"?o:i;this.defineClassElement(n,e)}},this)},this)},defineClassElement:function(e,t){var n=t.descriptor;if(t.kind==="field"){var r=t.initializer;({enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:r===void 0?void 0:r.call(e)})}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[];var r=[];var o={static:[],prototype:[],own:[]};e.forEach(function(e){this.addElementPlacement(e,o)},this);e.forEach(function(e){if(!tn(e))return n.push(e);var t=this.decorateElement(e,o);n.push(t.element);n.push.apply(n,t.extras);r.push.apply(r,t.finishers)},this);if(!t){return{elements:n,finishers:r}}var i=this.decorateConstructor(n,t);r.push.apply(r,i.finishers);i.finishers=r;return i},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&r.indexOf(e.key)!==-1){throw new TypeError("Duplicated element ("+e.key+")")}r.push(e.key)},decorateElement:function(e,t){var n=[];var r=[];for(var o=e.decorators,i=o.length-1;i>=0;i--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var c=this.fromElementDescriptor(e);var s=this.toElementFinisherExtras((0,o[i])(c)||c);s.element;this.addElementPlacement(e,t);if(s.finisher){r.push(s.finisher)}var u=s.extras;if(u){for(var l=0;l<u.length;l++){this.addElementPlacement(u[l],t)}n.push.apply(n,u)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){var n=[];for(var r=t.length-1;r>=0;r--){var o=this.fromClassDescriptor(e);var i=this.toClassDescriptor((0,t[r])(o)||o);if(i.finisher!==undefined){n.push(i.finisher)}if(i.elements!==undefined){i.elements;for(var a=0;a<e.length-1;a++){for(var c=a+1;c<e.length;c++){if(e[a].key===e[c].key&&e[a].placement===e[c].placement){throw new TypeError("Duplicated element ("+e[a].key+")")}}}}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};var n={value:"Descriptor",configurable:true};Object.defineProperty(t,Symbol.toStringTag,n);if(e.kind==="field")t.initializer=e.initializer;return t},toElementDescriptors:function(e){if(e===undefined)return;return Tt(e).map(function(e){var t=this.toElementDescriptor(e);this.disallowProperty(e,"finisher","An element descriptor");this.disallowProperty(e,"extras","An element descriptor");return t},this)},toElementDescriptor:function(e){var t=String(e.kind);if(t!=="method"&&t!=="field"){throw new TypeError('An element descriptor\'s .kind property must be either "method" or'+' "field", but a decorator created an element descriptor with'+' .kind "'+t+'"')}var n=jt(e.key);var r=String(e.placement);if(r!=="static"&&r!=="prototype"&&r!=="own"){throw new TypeError('An element descriptor\'s .placement property must be one of "static",'+' "prototype" or "own", but a decorator created an element descriptor'+' with .placement "'+r+'"')}var o=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var i={kind:t,key:n,placement:r,descriptor:Object.assign({},o)};if(t!=="field"){this.disallowProperty(e,"initializer","A method descriptor")}else{this.disallowProperty(o,"get","The property descriptor of a field descriptor");this.disallowProperty(o,"set","The property descriptor of a field descriptor");this.disallowProperty(o,"value","The property descriptor of a field descriptor");i.initializer=e.initializer}return i},toElementFinisherExtras:function(e){var t=this.toElementDescriptor(e);var n=rn(e,"finisher");var r=this.toElementDescriptors(e.extras);return{element:t,finisher:n,extras:r}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};var n={value:"Descriptor",configurable:true};Object.defineProperty(t,Symbol.toStringTag,n);return t},toClassDescriptor:function(e){var t=String(e.kind);if(t!=="class"){throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator'+' created a class descriptor with .kind "'+t+'"')}this.disallowProperty(e,"key","A class descriptor");this.disallowProperty(e,"placement","A class descriptor");this.disallowProperty(e,"descriptor","A class descriptor");this.disallowProperty(e,"initializer","A class descriptor");this.disallowProperty(e,"extras","A class descriptor");var n=rn(e,"finisher");var r=this.toElementDescriptors(e.elements);return{elements:r,finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(r!==undefined){if(typeof r!=="function"){throw new TypeError("Finishers must return a constructor.")}r}}return e},disallowProperty:function(e,t,n){if(e[t]!==undefined){throw new TypeError(n+" can't have a ."+t+" property.")}}};return e}function Zt(e){var t=jt(e.key);var n;if(e.kind==="method"){({value:e.value,writable:true,configurable:true,enumerable:false})}else if(e.kind==="get"){({get:e.value,configurable:true,enumerable:false})}else if(e.kind==="set"){({set:e.value,configurable:true,enumerable:false})}else if(e.kind==="field"){({configurable:true,writable:true,enumerable:true})}var r={kind:e.kind==="field"?"field":"method",key:t,placement:e.static?"static":e.kind==="field"?"own":"prototype",descriptor:n};if(e.decorators)r.decorators=e.decorators;if(e.kind==="field")r.initializer=e.value;return r}function $t(e,t){if(e.descriptor.get!==undefined){t.descriptor.get=e.descriptor.get}else{t.descriptor.set=e.descriptor.set}}function en(e){var t=[];var n=function(e){return e.kind==="method"&&e.key===o.key&&e.placement===o.placement};for(var r=0;r<e.length;r++){var o=e[r];var i;if(o.kind==="method"&&t.find(n)){if(nn(o.descriptor)||nn(i.descriptor)){if(tn(o)||tn(i)){throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.")}i.descriptor=o.descriptor}else{if(tn(o)){if(tn(i)){throw new ReferenceError("Decorators can't be placed on different accessors with for "+"the same property ("+o.key+").")}i.decorators=o.decorators}$t(o,i)}}else{t.push(o)}}return t}function tn(e){return e.decorators&&e.decorators.length}function nn(e){return e!==undefined&&!(e.value===undefined&&e.writable===undefined)}function rn(e,t){var n=e[t];if(n!==undefined&&typeof n!=="function"){throw new TypeError("Expected '"+t+"' to be a function")}return n}function on(e,t,n){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return n}function an(){throw new TypeError("attempted to reassign private method")}function cn(e,t){(function(e,t){return new n(e,t)});var r=rt(RegExp);var o=RegExp.prototype;var i=new WeakMap;function n(e,t){var n=r.call(this,e);i.set(n,t);return n}Qe(n,r);(function(e){var t=o.exec.call(this,e);if(t)t.groups=a(t,this);return t});Symbol.replace,function(e,t){if(typeof t==="string"){var n=i.get(this);return o[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+n[t]}))}else if(typeof t==="function"){var r=this;return o[Symbol.replace].call(this,e,function(){var e=[];e.push.apply(e,arguments);if(typeof e[e.length-1]!=="object"){e.push(a(e,r))}return t.apply(this,e)})}else{return o[Symbol.replace].call(this,e,t)}};function a(n,e){var r=i.get(e);return Object.keys(r).reduce(function(e,t){e[t]=n[r[t]];return e},Object.create(null))}return cn.apply(this,arguments)}var sn=function e(t,n){return t.splice(n,1)},un=function e(t,n){if(n){t()}else if(document.hidden){zc.resolve(1).then(t)}else{setTimeout(t,0)}},ln=function e(){var o=[];var r=function e(t,n){sn(o,o.findIndex(function(e){return e.event===t&&(e.cb===n||!n)}))};var i=function e(t,n,r){o.filter(function(e){return e.event===t}).map(function(e){return e.cb}).forEach(function(e){return un(function(){return e.apply(void 0,St(n))},r)})};return{fireSync:function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++){r[o-1]=arguments[o]}i(t,r,true)},fire:function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++){r[o-1]=arguments[o]}i(t,r,false)},on:function e(t,n){o.push({event:t,cb:n})},onOnce:function e(t,n){o.push({event:t,cb:function e(){r(t,n);n.apply(void 0,arguments)}})},off:r}},fn=function e(t,n,r){Object.getOwnPropertyNames(t).filter(function(e){return!r.includes(e)}).forEach(function(e){return Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})},dn=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],pn=function e(t){var n={};fn(t,n,dn);return n},hn=function e(n){n.forEach(function(e,t){if(e.released){sn(n,t)}})},vn={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},mn={INPUT:1,LIMBO:2,LOCAL:3},gn=function e(t){return/[^0-9]+/.exec(t)},yn=function e(){return gn(1.1.toLocaleString())[0]},bn=function e(){var t=yn();var n=1e3.toLocaleString();var r=1e3.toString();if(n!==r){return gn(n)[0]}return t==="."?",":"."},_n={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},En=[],wn=function e(o,i,a){return new zc(function(t,n){var e=En.filter(function(e){return e.key===o}).map(function(e){return e.cb});if(e.length===0){t(i);return}var r=e.shift();e.reduce(function(e,t){return e.then(function(e){return t(e,a)})},r(i,a)).then(function(e){return t(e)}).catch(function(e){return n(e)})})},On=function e(t,n,r){return En.filter(function(e){return e.key===t}).map(function(e){return e.cb(n,r)})},In=function e(t,n){return En.push({key:t,cb:n})},Tn=function e(t){return Object.assign(Pn,t)},Sn=function e(){return Object.assign({},Pn)},Rn=function e(t){g(t,function(e,t){if(!Pn[e]){return}Pn[e][0]=be(t,Pn[e][0],Pn[e][1])})},Pn={id:[null,_n.STRING],name:["filepond",_n.STRING],disabled:[false,_n.BOOLEAN],className:[null,_n.STRING],required:[false,_n.BOOLEAN],captureMethod:[null,_n.STRING],allowSyncAcceptAttribute:[true,_n.BOOLEAN],allowDrop:[true,_n.BOOLEAN],allowBrowse:[true,_n.BOOLEAN],allowPaste:[true,_n.BOOLEAN],allowMultiple:[false,_n.BOOLEAN],allowReplace:[true,_n.BOOLEAN],allowRevert:[true,_n.BOOLEAN],allowRemove:[true,_n.BOOLEAN],allowProcess:[true,_n.BOOLEAN],allowReorder:[false,_n.BOOLEAN],allowDirectoriesOnly:[false,_n.BOOLEAN],forceRevert:[false,_n.BOOLEAN],maxFiles:[null,_n.INT],checkValidity:[false,_n.BOOLEAN],itemInsertLocationFreedom:[true,_n.BOOLEAN],itemInsertLocation:["before",_n.STRING],itemInsertInterval:[75,_n.INT],dropOnPage:[false,_n.BOOLEAN],dropOnElement:[true,_n.BOOLEAN],dropValidation:[false,_n.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],_n.ARRAY],instantUpload:[true,_n.BOOLEAN],maxParallelUploads:[2,_n.INT],chunkUploads:[false,_n.BOOLEAN],chunkForce:[false,_n.BOOLEAN],chunkSize:[5e6,_n.INT],chunkRetryDelays:[[500,1e3,3e3],_n.Array],server:[null,_n.SERVER_API],labelDecimalSeparator:[yn(),_n.STRING],labelThousandsSeparator:[bn(),_n.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',_n.STRING],labelInvalidField:["Field contains invalid files",_n.STRING],labelFileWaitingForSize:["Waiting for size",_n.STRING],labelFileSizeNotAvailable:["Size not available",_n.STRING],labelFileCountSingular:["file in list",_n.STRING],labelFileCountPlural:["files in list",_n.STRING],labelFileLoading:["Loading",_n.STRING],labelFileAdded:["Added",_n.STRING],labelFileLoadError:["Error during load",_n.STRING],labelFileRemoved:["Removed",_n.STRING],labelFileRemoveError:["Error during remove",_n.STRING],labelFileProcessing:["Uploading",_n.STRING],labelFileProcessingComplete:["Upload complete",_n.STRING],labelFileProcessingAborted:["Upload cancelled",_n.STRING],labelFileProcessingError:["Error during upload",_n.STRING],labelFileProcessingRevertError:["Error during revert",_n.STRING],labelTapToCancel:["tap to cancel",_n.STRING],labelTapToRetry:["tap to retry",_n.STRING],labelTapToUndo:["tap to undo",_n.STRING],labelButtonRemoveItem:["Remove",_n.STRING],labelButtonAbortItemLoad:["Abort",_n.STRING],labelButtonRetryItemLoad:["Retry",_n.STRING],labelButtonAbortItemProcessing:["Cancel",_n.STRING],labelButtonUndoItemProcessing:["Undo",_n.STRING],labelButtonRetryItemProcessing:["Retry",_n.STRING],labelButtonProcessItem:["Upload",_n.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',_n.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',_n.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',_n.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',_n.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',_n.STRING],oninit:[null,_n.FUNCTION],onwarning:[null,_n.FUNCTION],onerror:[null,_n.FUNCTION],onactivatefile:[null,_n.FUNCTION],oninitfile:[null,_n.FUNCTION],onaddfilestart:[null,_n.FUNCTION],onaddfileprogress:[null,_n.FUNCTION],onaddfile:[null,_n.FUNCTION],onprocessfilestart:[null,_n.FUNCTION],onprocessfileprogress:[null,_n.FUNCTION],onprocessfileabort:[null,_n.FUNCTION],onprocessfilerevert:[null,_n.FUNCTION],onprocessfile:[null,_n.FUNCTION],onprocessfiles:[null,_n.FUNCTION],onremovefile:[null,_n.FUNCTION],onpreparefile:[null,_n.FUNCTION],onupdatefiles:[null,_n.FUNCTION],onreorderfiles:[null,_n.FUNCTION],beforeDropFile:[null,_n.FUNCTION],beforeAddFile:[null,_n.FUNCTION],beforeRemoveFile:[null,_n.FUNCTION],stylePanelLayout:[null,_n.STRING],stylePanelAspectRatio:[null,_n.STRING],styleItemPanelAspectRatio:[null,_n.STRING],styleButtonRemoveItemPosition:["left",_n.STRING],styleButtonProcessItemPosition:["right",_n.STRING],styleLoadIndicatorPosition:["right",_n.STRING],styleProgressIndicatorPosition:["right",_n.STRING],styleButtonRemoveItemAlign:[false,_n.BOOLEAN],files:[[],_n.ARRAY]},Cn=function e(t,n){if(B(n)){return t[0]||null}if(oe(n)){return t[n]||null}if(typeof n==="object"){n=n.id}return t.find(function(e){return e.id===n})||null},kn=function e(t){if(B(t)){return t}if(/:/.test(t)){var n=t.split(":");return n[1]/n[0]}return parseFloat(t)},Ln=function e(t){return t.filter(function(e){return!e.archived})},Mn={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},xn=[vn.LOAD_ERROR,vn.PROCESSING_ERROR,vn.PROCESSING_REVERT_ERROR],Dn=[vn.LOADING,vn.PROCESSING,vn.PROCESSING_QUEUED,vn.INIT],An=[vn.PROCESSING_COMPLETE],jn=function e(t){return xn.includes(t.status)},Nn=function e(t){return Dn.includes(t.status)},Fn=function e(t){return An.includes(t.status)},Gn=function e(c){return{GET_STATUS:function e(){var t=Ln(c.items);var n=Mn.EMPTY,r=Mn.ERROR,o=Mn.BUSY,i=Mn.IDLE,a=Mn.READY;if(t.length===0)return n;if(t.some(jn))return r;if(t.some(Nn))return o;if(t.some(Fn))return a;return i},GET_ITEM:function e(t){return Cn(c.items,t)},GET_ACTIVE_ITEM:function e(t){return Cn(Ln(c.items),t)},GET_ACTIVE_ITEMS:function e(){return Ln(c.items)},GET_ITEMS:function e(){return c.items},GET_ITEM_NAME:function e(t){var n=Cn(c.items,t);return n?n.filename:null},GET_ITEM_SIZE:function e(t){var n=Cn(c.items,t);return n?n.fileSize:null},GET_STYLES:function e(){return Object.keys(c.options).filter(function(e){return/^style/.test(e)}).map(function(e){return{name:e,value:c.options[e]}})},GET_PANEL_ASPECT_RATIO:function e(){var t=/circle/.test(c.options.stylePanelLayout);var n=t?1:kn(c.options.stylePanelAspectRatio);return n},GET_ITEM_PANEL_ASPECT_RATIO:function e(){return c.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function e(t){return Ln(c.items).filter(function(e){return e.status===t})},GET_TOTAL_ITEMS:function e(){return Ln(c.items).length},IS_ASYNC:function e(){return pe(c.options.server)&&(pe(c.options.server.process)||ae(c.options.server.process))}}},Bn=function e(t){var n=Ln(t.items).length;if(!t.options.allowMultiple){return n===0}var r=t.options.maxFiles;if(r===null){return true}if(n<r){return true}return false},qn=function e(t,n,r){return Math.max(Math.min(r,t),n)},Un=function e(t,n,r){return t.splice(n,0,r)},Vn=function e(t,n,r){if(B(n)){return null}if(typeof r==="undefined"){t.push(n);return n}r=qn(r,0,t.length);Un(t,r,n);return n},Hn=function e(t){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t)},Wn=function e(t){return t.split("/").pop().split("?").shift()},zn=function e(t){return t.split(".").pop()},Yn=function e(t){if(typeof t!=="string"){return""}var n=t.split("/").pop();if(/svg/.test(n)){return"svg"}if(/zip|compressed/.test(n)){return"zip"}if(/plain/.test(n)){return"txt"}if(/msword/.test(n)){return"doc"}if(/[a-z]+/.test(n)){if(n==="jpeg"){return"jpg"}return n}return""},Kn=function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return(n+t).slice(-n.length)},Xn=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date;return t.getFullYear()+"-"+Kn(t.getMonth()+1,"00")+"-"+Kn(t.getDate(),"00")+"_"+Kn(t.getHours(),"00")+"-"+Kn(t.getMinutes(),"00")+"-"+Kn(t.getSeconds(),"00")},Qn=function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var i=typeof r==="string"?t.slice(0,t.size,r):t.slice(0,t.size,t.type);i.lastModifiedDate=new Date;if(t._relativePath)i._relativePath=t._relativePath;if(!ee(n)){n=Xn()}if(n&&o===null&&zn(n)){i.name=n}else{o=o||Yn(i.type);i.name=n+(o?"."+o:"")}return i},Jn=function e(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},Zn=function e(t,n){var r=Jn();if(r){var o=new r;o.append(t);return o.getBlob(n)}return new Blob([t],{type:n})},$n=function e(t,n){var r=new ArrayBuffer(t.length);var o=new Uint8Array(r);for(var i=0;i<t.length;i++){o[i]=t.charCodeAt(i)}return Zn(r,n)},er=function e(t){return(/^data:(.+);/.exec(t)||[])[1]||null},tr=function e(t){var n=t.split(",")[1];return n.replace(/\s/g,"")},nr=function e(t){return atob(tr(t))},rr=function e(t){var n=er(t);var r=nr(t);return $n(r,n)},or=function e(t,n,r){return Qn(rr(t),n,null,r)},ir=function e(t){if(!/^content-disposition:/i.test(t))return null;var n=t.split(/filename=|filename\*=.+''/).splice(1).map(function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(e){return e.length});return n.length?decodeURI(n[n.length-1]):null},ar=function e(t){if(/content-length:/i.test(t)){var n=t.match(/[0-9]+/)[0];return n?parseInt(n,10):null}return null},cr=function e(t){if(/x-content-transfer-id:/i.test(t)){var n=(t.split(":")[1]||"").trim();return n||null}return null},sr=function e(t){var n={source:null,name:null,size:null};var r=t.split("\n");var o=true;var i=false;var a=undefined;try{for(var c=r[Symbol.iterator](),s;!(o=(s=c.next()).done);o=true){var u=s.value;var l=ir(u);if(l){n.name=l;continue}var f=ar(u);if(f){n.size=f;continue}var d=cr(u);if(d){n.source=d;continue}}}catch(e){i=true;a=e}finally{try{if(!o&&c.return!=null){c.return()}}finally{if(i){throw a}}}return n},ur=function e(n){var r={source:null,complete:false,progress:0,size:null,timestamp:null,duration:0,request:null};var t=function e(){return r.progress};var o=function e(){if(r.request&&r.request.abort){r.request.abort()}};var i=function e(){var t=r.source;c.fire("init",t);if(t instanceof File){c.fire("load",t)}else if(t instanceof Blob){c.fire("load",Qn(t,t.name))}else if(Hn(t)){c.fire("load",or(t))}else{a(t)}};var a=function e(t){if(!n){c.fire("error",{type:"error",body:"Can't load URL",code:400});return}r.timestamp=Date.now();r.request=n(t,function(e){r.duration=Date.now()-r.timestamp;r.complete=true;if(e instanceof Blob){e=Qn(e,e.name||Wn(t))}c.fire("load",e instanceof Blob?e:e?e.body:null)},function(e){c.fire("error",typeof e==="string"?{type:"error",code:0,body:e}:e)},function(e,t,n){if(n){r.size=n}r.duration=Date.now()-r.timestamp;if(!e){r.progress=null;return}r.progress=t/n;c.fire("progress",r.progress)},function(){c.fire("abort")},function(e){var t=sr(typeof e==="string"?e:e.headers);c.fire("meta",{size:r.size||t.size,filename:t.name,source:t.source})})};var c=Object.assign({},ln(),{setSource:function e(t){return r.source=t},getProgress:t,abort:o,load:i});return c},lr=function e(t){return/GET|HEAD/.test(t)},fr=function e(t,n,r){var o={onheaders:function e(){},onprogress:function e(){},onload:function e(){},ontimeout:function e(){},onerror:function e(){},onabort:function e(){},abort:function e(){i=true;c.abort()}};var i=false;var a=false;r=Object.assign({method:"POST",headers:{},withCredentials:false},r);n=encodeURI(n);if(lr(r.method)&&t){n=""+n+encodeURIComponent(typeof t==="string"?t:JSON.stringify(t))}var c=new XMLHttpRequest;var s=lr(r.method)?c:c.upload;s.onprogress=function(e){if(i){return}o.onprogress(e.lengthComputable,e.loaded,e.total)};c.onreadystatechange=function(){if(c.readyState<2){return}if(c.readyState===4&&c.status===0){return}if(a){return}a=true;o.onheaders(c)};c.onload=function(){if(c.status>=200&&c.status<300){o.onload(c)}else{o.onerror(c)}};c.onerror=function(){return o.onerror(c)};c.onabort=function(){i=true;o.onabort()};c.ontimeout=function(){return o.ontimeout(c)};c.open(r.method,n,true);if(oe(r.timeout)){c.timeout=r.timeout}Object.keys(r.headers).forEach(function(e){var t=unescape(encodeURIComponent(r.headers[e]));c.setRequestHeader(e,t)});if(r.responseType){c.responseType=r.responseType}if(r.withCredentials){c.withCredentials=true}c.send(t);return o},dr=function e(t,n,r,o){return{type:t,code:n,body:r,headers:o}},pr=function e(t){return function(e){t(dr("error",0,"Timeout",e.getAllResponseHeaders()))}},hr=function e(t){return/\?/.test(t)},vr=function e(){var t="";for(var n=arguments.length,r=new Array(n),o=0;o<n;o++){r[o]=arguments[o]}r.forEach(function(e){t+=hr(t)&&hr(e)?e.replace(/\?/,"&"):e});return t},mr=function e(){var c=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var s=arguments.length>1?arguments[1]:undefined;if(typeof s==="function"){return s}if(!s||!ee(s.url)){return null}var u=s.onload||function(e){return e};var l=s.onerror||function(e){return null};return function(r,o,t,e,n,i){var a=fr(r,vr(c,s.url),Object.assign({},s,{responseType:"blob"}));a.onload=function(e){var t=e.getAllResponseHeaders();var n=sr(t).name||Wn(r);o(dr("load",e.status,s.method==="HEAD"?null:Qn(u(e.response),n),t))};a.onerror=function(e){t(dr("error",e.status,l(e.response)||e.statusText,e.getAllResponseHeaders()))};a.onheaders=function(e){i(dr("headers",e.status,null,e.getAllResponseHeaders()))};a.ontimeout=pr(t);a.onprogress=e;a.onabort=n;return a}},gr={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},yr=function e(c,a,s,u,l,t,f,r,d,n,o){var p=[];var i=o.chunkTransferId,h=o.chunkServer,v=o.chunkSize,m=o.chunkRetryDelays;var g={serverId:i,aborted:false};var y=a.ondata||function(e){return e};var b=a.onload||function(e,t){return t==="HEAD"?e.getResponseHeader("Upload-Offset"):e.response};var _=a.onerror||function(e){return null};var E=function e(t){var n=new FormData;if(pe(l))n.append(s,JSON.stringify(l));var r=typeof a.headers==="function"?a.headers(u,l):Object.assign({},a.headers,{"Upload-Length":u.size});var o=Object.assign({},a,{headers:r});var i=fr(y(n),vr(c,a.url),o);i.onload=function(e){return t(b(e,o.method))};i.onerror=function(e){return f(dr("error",e.status,_(e.response)||e.statusText,e.getAllResponseHeaders()))};i.ontimeout=pr(f)};var w=function e(t){var n=vr(c,h.url,g.serverId);var r=typeof a.headers==="function"?a.headers(g.serverId):Object.assign({},a.headers);var o={headers:r,method:"HEAD"};var i=fr(null,n,o);i.onload=function(e){return t(b(e,o.method))};i.onerror=function(e){return f(dr("error",e.status,_(e.response)||e.statusText,e.getAllResponseHeaders()))};i.ontimeout=pr(f)};var O=Math.floor(u.size/v);for(var I=0;I<=O;I++){var T=I*v;var S=u.slice(T,T+v,"application/offset+octet-stream");p[I]={index:I,size:S.size,offset:T,data:S,file:u,progress:0,retries:St(m),status:gr.QUEUED,error:null,request:null,timeout:null}}var R=function e(){return t(g.serverId)};var P=function e(t){return t.status===gr.QUEUED||t.status===gr.ERROR};var C=function e(r){if(g.aborted)return;r=r||p.find(P);if(!r){if(p.every(function(e){return e.status===gr.COMPLETE})){R()}return}r.status=gr.PROCESSING;r.progress=null;var t=h.ondata||function(e){return e};var n=h.onerror||function(e){return null};var o=vr(c,h.url,g.serverId);var i=typeof h.headers==="function"?h.headers(r):Object.assign({},h.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":r.offset,"Upload-Length":u.size,"Upload-Name":u.name});var a=r.request=fr(t(r.data),o,Object.assign({},h,{headers:i}));a.onload=function(){r.status=gr.COMPLETE;r.request=null;M()};a.onprogress=function(e,t,n){r.progress=e?t:null;L()};a.onerror=function(e){r.status=gr.ERROR;r.request=null;r.error=n(e.response)||e.statusText;if(!k(r)){f(dr("error",e.status,n(e.response)||e.statusText,e.getAllResponseHeaders()))}};a.ontimeout=function(e){r.status=gr.ERROR;r.request=null;if(!k(r)){pr(f)(e)}};a.onabort=function(){r.status=gr.QUEUED;r.request=null;d()}};var k=function e(t){if(t.retries.length===0)return false;t.status=gr.WAITING;clearTimeout(t.timeout);t.timeout=setTimeout(function(){C(t)},t.retries.shift());return true};var L=function e(){var t=p.reduce(function(e,t){if(e===null||t.progress===null)return null;return e+t.progress},0);if(t===null)return r(false,0,0);var n=p.reduce(function(e,t){return e+t.size},0);r(true,t,n)};var M=function e(){var t=p.filter(function(e){return e.status===gr.PROCESSING}).length;if(t>=1)return;C()};var x=function e(){p.forEach(function(e){clearTimeout(e.timeout);if(e.request){e.request.abort()}})};if(!g.serverId){E(function(e){if(g.aborted)return;n(e);g.serverId=e;M()})}else{w(function(t){if(g.aborted)return;p.filter(function(e){return e.offset<t}).forEach(function(e){e.status=gr.COMPLETE;e.progress=e.size});M()})}return{abort:function e(){g.aborted=true;x()}}},br=function e(v,m,g,y){return function(e,t,n,r,o,i,a){if(!e)return;var c=y.chunkUploads;var s=c&&e.size>y.chunkSize;var u=c&&(s||y.chunkForce);if(e instanceof Blob&&u)return yr(v,m,g,e,t,n,r,o,i,a,y);var l=m.ondata||function(e){return e};var f=m.onload||function(e){return e};var d=m.onerror||function(e){return null};var p=new FormData;if(pe(t)){p.append(g,JSON.stringify(t))}(e instanceof Blob?[{name:null,file:e}]:e).forEach(function(e){p.append(g,e.file,e.name===null?e.file.name:""+e.name+e.file.name)});var h=fr(l(p),vr(v,m.url),m);h.onload=function(e){n(dr("load",e.status,f(e.response),e.getAllResponseHeaders()))};h.onerror=function(e){r(dr("error",e.status,d(e.response)||e.statusText,e.getAllResponseHeaders()))};h.ontimeout=pr(r);h.onprogress=o;h.onabort=i;return h}},_r=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var r=arguments.length>1?arguments[1]:undefined;var o=arguments.length>2?arguments[2]:undefined;var i=arguments.length>3?arguments[3]:undefined;if(typeof r==="function")return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}return r.apply(void 0,[o].concat(t,[i]))};if(!r||!ee(r.url))return null;return br(t,r,o,i)},Er=function e(){var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i=arguments.length>1?arguments[1]:undefined;if(typeof i==="function"){return i}if(!i||!ee(i.url)){return function(e,t){return t()}}var a=i.onload||function(e){return e};var c=i.onerror||function(e){return null};return function(e,t,n){var r=fr(e,o+i.url,i);r.onload=function(e){t(dr("load",e.status,a(e.response),e.getAllResponseHeaders()))};r.onerror=function(e){n(dr("error",e.status,c(e.response)||e.statusText,e.getAllResponseHeaders()))};r.ontimeout=pr(n);return r}},wr=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return t+Math.random()*(n-t)},Or=function e(o){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e3;var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:25;var c=arguments.length>4&&arguments[4]!==undefined?arguments[4]:250;var s=null;var u=Date.now();var n=function e(){var t=Date.now()-u;var n=wr(a,c);if(t+n>i){n=t+n-i}var r=t/i;if(r>=1||document.hidden){o(1);return}o(r);s=setTimeout(e,n)};n();return{clear:function e(){clearTimeout(s)}}},Ir=function e(i){var a={complete:false,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null};var t=function e(t,n){var r=function e(){if(a.duration===0||a.progress===null)return;s.fire("progress",s.getProgress())};var o=function e(){a.complete=true;s.fire("load-perceived",a.response.body)};s.fire("start");a.timestamp=Date.now();a.perceivedPerformanceUpdater=Or(function(e){a.perceivedProgress=e;a.perceivedDuration=Date.now()-a.timestamp;r();if(a.response&&a.perceivedProgress===1&&!a.complete){o()}},wr(750,1500));a.request=i(t,n,function(e){a.response=pe(e)?e:{type:"load",code:200,body:""+e,headers:{}};a.duration=Date.now()-a.timestamp;a.progress=1;s.fire("load",a.response.body);if(a.perceivedProgress===1){o()}},function(e){a.perceivedPerformanceUpdater.clear();s.fire("error",pe(e)?e:{type:"error",code:0,body:""+e})},function(e,t,n){a.duration=Date.now()-a.timestamp;a.progress=e?t/n:null;r()},function(){a.perceivedPerformanceUpdater.clear();s.fire("abort",a.response?a.response.body:null)},function(e){s.fire("transfer",e)})};var n=function e(){if(!a.request)return;a.perceivedPerformanceUpdater.clear();if(a.request.abort)a.request.abort();a.complete=true};var r=function e(){n();a.complete=false;a.perceivedProgress=0;a.progress=0;a.timestamp=null;a.perceivedDuration=0;a.duration=0;a.request=null;a.response=null};var o=function e(){return a.progress?Math.min(a.progress,a.perceivedProgress):null};var c=function e(){return Math.min(a.duration,a.perceivedDuration)};var s=Object.assign({},ln(),{process:t,abort:n,getProgress:o,getDuration:c,reset:r});return s},Tr=function e(t){return t.substr(0,t.lastIndexOf("."))||t},Sr=function e(t){var n=[t.name,t.size,t.type];if(t instanceof Blob||Hn(t)){n[0]=t.name||Xn()}else if(Hn(t)){n[1]=t.length;n[2]=er(t)}else if(ee(t)){n[0]=Wn(t);n[1]=0;n[2]="application/octet-stream"}return{name:n[0],size:n[1],type:n[2]}},Rr=function e(t){return!!(t instanceof File||t instanceof Blob&&t.name)},Pr=function e(t){if(!pe(t))return t;var n=F(t)?[]:{};for(var r in t){if(!t.hasOwnProperty(r))continue;var o=t[r];n[r]=o&&pe(o)?e(o):o}return n},Cr=function e(){var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var r=Pe();var i={archived:false,frozen:false,released:false,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:false,status:t?vn.PROCESSING_COMPLETE:vn.INIT,activeLoader:null,activeProcessor:null};var a=null;var s={};var c=function e(t){return i.status=t};var u=function e(t){if(i.released||i.frozen)return;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++){r[o-1]=arguments[o]}O.fire.apply(O,[t].concat(r))};var l=function e(){return zn(i.file.name)};var f=function e(){return i.file.type};var d=function e(){return i.file.size};var p=function e(){return i.file};var h=function e(t,n,r){i.source=t;O.fireSync("init");if(i.file){O.fireSync("load-skip");return}i.file=Sr(t);n.on("init",function(){u("load-init")});n.on("meta",function(e){i.file.size=e.size;i.file.filename=e.filename;if(e.source){o=mn.LIMBO;i.serverFileReference=e.source;i.status=vn.PROCESSING_COMPLETE}u("load-meta")});n.on("progress",function(e){c(vn.LOADING);u("load-progress",e)});n.on("error",function(e){c(vn.LOAD_ERROR);u("load-request-error",e)});n.on("abort",function(){c(vn.INIT);u("load-abort")});n.on("load",function(n){i.activeLoader=null;var e=function e(t){i.file=Rr(t)?t:i.file;if(o===mn.LIMBO&&i.serverFileReference){c(vn.PROCESSING_COMPLETE)}else{c(vn.IDLE)}u("load")};var t=function e(t){i.file=n;u("load-meta");c(vn.LOAD_ERROR);u("load-file-error",t)};if(i.serverFileReference){e(n);return}r(n,e,t)});n.setSource(t);i.activeLoader=n;n.load()};var v=function e(){if(!i.activeLoader){return}i.activeLoader.load()};var m=function e(){if(i.activeLoader){i.activeLoader.abort();return}c(vn.INIT);u("load-abort")};var g=function e(n,t){if(i.processingAborted){i.processingAborted=false;return}c(vn.PROCESSING);a=null;if(!(i.file instanceof Blob)){O.on("load",function(){e(n,t)});return}n.on("load",function(e){i.transferId=null;i.serverFileReference=e});n.on("transfer",function(e){i.transferId=e});n.on("load-perceived",function(e){i.activeProcessor=null;i.transferId=null;i.serverFileReference=e;c(vn.PROCESSING_COMPLETE);u("process-complete",e)});n.on("start",function(){u("process-start")});n.on("error",function(e){i.activeProcessor=null;c(vn.PROCESSING_ERROR);u("process-error",e)});n.on("abort",function(e){i.activeProcessor=null;i.transferId=null;i.serverFileReference=e;c(vn.IDLE);u("process-abort");if(a){a()}});n.on("progress",function(e){u("process-progress",e)});var r=function e(t){if(i.archived)return;n.process(t,Object.assign({},s))};var o=console.error;t(i.file,r,o);i.activeProcessor=n};var y=function e(){i.processingAborted=false;c(vn.PROCESSING_QUEUED)};var b=function e(){return new zc(function(t){if(!i.activeProcessor){i.processingAborted=true;c(vn.IDLE);u("process-abort");t();return}a=function e(){t()};i.activeProcessor.abort()})};var _=function e(r,o){return new zc(function(t,n){if(i.serverFileReference===null){t();return}r(i.serverFileReference,function(){i.serverFileReference=null;t()},function(e){if(!o){t();return}c(vn.PROCESSING_REVERT_ERROR);u("process-revert-error");n(e)});c(vn.IDLE);u("process-revert")})};var E=function e(t,n,r){var o=t.split(".");var i=o[0];var a=o.pop();var c=s;o.forEach(function(e){return c=c[e]});if(JSON.stringify(c[a])===JSON.stringify(n))return;c[a]=n;if(r)return;u("metadata-update",{key:i,value:s[i]})};var w=function e(t){return Pr(t?s[t]:s)};var O=Object.assign({id:{get:function e(){return r}},origin:{get:function e(){return o}},serverId:{get:function e(){return i.serverFileReference}},transferId:{get:function e(){return i.transferId}},status:{get:function e(){return i.status}},filename:{get:function e(){return i.file.name}},filenameWithoutExtension:{get:function e(){return Tr(i.file.name)}},fileExtension:{get:l},fileType:{get:f},fileSize:{get:d},file:{get:p},relativePath:{get:function e(){return i.file._relativePath}},source:{get:function e(){return i.source}},getMetadata:w,setMetadata:function e(t,n,r){if(pe(t)){var o=t;Object.keys(o).forEach(function(e){E(e,o[e],n)});return t}E(t,n,r);return n},extend:function e(t,n){return I[t]=n},abortLoad:m,retryLoad:v,requestProcessing:y,abortProcessing:b,load:h,process:g,revert:_},ln(),{freeze:function e(){return i.frozen=true},release:function e(){return i.released=true},released:{get:function e(){return i.released}},archive:function e(){return i.archived=true},archived:{get:function e(){return i.archived}}});var I=U(O);return I},kr=function e(t,n){if(B(n)){return 0}if(!ee(n)){return-1}return t.findIndex(function(e){return e.id===n})},Lr=function e(t,n){var r=kr(t,n);if(r<0){return}return t[r]||null},Mr=function e(r,o,t,n,i,a){var c=fr(null,r,{method:"GET",responseType:"blob"});c.onload=function(e){var t=e.getAllResponseHeaders();var n=sr(t).name||Wn(r);o(dr("load",e.status,Qn(e.response,n),t))};c.onerror=function(e){t(dr("error",e.status,e.statusText,e.getAllResponseHeaders()))};c.onheaders=function(e){a(dr("headers",e.status,null,e.getAllResponseHeaders()))};c.ontimeout=pr(t);c.onprogress=n;c.onabort=i;return c},xr=function e(t){if(t.indexOf("//")===0){t=location.protocol+t}return t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},Dr=function e(t){return(t.indexOf(":")>-1||t.indexOf("//")>-1)&&xr(location.href)!==xr(t)},Ar=function e(t){return function(){return ae(t)?t.apply(void 0,arguments):t}},jr=function e(t){return!Rr(t.file)},Nr=function e(t,n){clearTimeout(n.listUpdateTimeout);n.listUpdateTimeout=setTimeout(function(){t("DID_UPDATE_ITEMS",{items:Ln(n.items)})},0)},Fr=function e(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++){r[o-1]=arguments[o]}return new zc(function(e){if(!n){return e(true)}var t=n.apply(void 0,r);if(t==null){return e(true)}if(typeof t==="boolean"){return e(t)}if(typeof t.then==="function"){t.then(e)}})},Gr=function e(t,n){t.items.sort(function(e,t){return n(pn(e),pn(t))})},Br=function e(s,u){return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=e.query,n=e.success,r=n===void 0?function(){}:n,o=e.failure,i=o===void 0?function(){}:o,a=lt(e,["query","success","failure"]);var c=Cn(s.items,t);if(!c){i({error:dr("error",0,"Item not found"),file:null});return}u(c,r,i,a||{})}},qr=function e(I,T,S){return{ABORT_ALL:function e(){Ln(S.items).forEach(function(e){e.freeze();e.abortLoad();e.abortProcessing()})},DID_SET_FILES:function e(t){var n=t.value,r=n===void 0?[]:n;var o=r.map(function(e){return{source:e.source?e.source:e,options:e.options}});var i=Ln(S.items);i.forEach(function(t){if(!o.find(function(e){return e.source===t.source||e.source===t.file})){I("REMOVE_ITEM",{query:t,remove:false})}});i=Ln(S.items);o.forEach(function(t,e){if(i.find(function(e){return e.source===t.source||e.file===t.source}))return;I("ADD_ITEM",Object.assign({},t,{interactionMethod:Re.NONE,index:e}))})},DID_UPDATE_ITEM_METADATA:function e(t){var o=t.id;clearTimeout(S.itemUpdateTimeout);S.itemUpdateTimeout=setTimeout(function(){var n=Lr(S.items,o);if(!T("IS_ASYNC")){wn("SHOULD_PREPARE_OUTPUT",false,{item:n,query:T}).then(function(e){if(!e){return}I("REQUEST_PREPARE_OUTPUT",{query:o,item:n,success:function e(t){I("DID_PREPARE_OUTPUT",{id:o,file:t})}},true)});return}var r=function e(){setTimeout(function(){I("REQUEST_ITEM_PROCESSING",{query:o})},32)};var e=function e(t){n.revert(Er(S.options.server.url,S.options.server.revert),T("GET_FORCE_REVERT")).then(t?r:function(){}).catch(function(){})};var t=function e(t){n.abortProcessing().then(t?r:function(){})};if(n.status===vn.PROCESSING_COMPLETE){return e(S.options.instantUpload)}if(n.status===vn.PROCESSING){return t(S.options.instantUpload)}if(S.options.instantUpload){r()}},0)},MOVE_ITEM:function e(t){var n=t.query,r=t.index;var o=Cn(S.items,n);if(!o)return;var i=S.items.indexOf(o);r=qn(r,0,S.items.length-1);if(i===r)return;S.items.splice(r,0,S.items.splice(i,1)[0])},SORT:function e(t){var n=t.compare;Gr(S,n);I("DID_SORT_ITEMS",{items:T("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function e(t){var n=t.items,r=t.index,o=t.interactionMethod,i=t.success,a=i===void 0?function(){}:i,c=t.failure,s=c===void 0?function(){}:c;var u=r;if(r===-1||typeof r==="undefined"){var l=T("GET_ITEM_INSERT_LOCATION");var f=T("GET_TOTAL_ITEMS");u=l==="before"?0:f}var d=T("GET_IGNORED_FILES");var p=function e(t){return Rr(t)?!d.includes(t.name.toLowerCase()):!B(t)};var h=n.filter(p);var v=h.map(function(n){return new zc(function(e,t){I("ADD_ITEM",{interactionMethod:o,source:n.source||n,success:e,failure:t,index:u++,options:n.options||{}})})});zc.all(v).then(a).catch(s)},ADD_ITEM:function e(t){var r=t.source,n=t.index,o=n===void 0?-1:n,i=t.interactionMethod,a=t.success,c=a===void 0?function(){}:a,s=t.failure,u=s===void 0?function(){}:s,l=t.options,f=l===void 0?{}:l;if(B(r)){u({error:dr("error",0,"No source"),file:null});return}if(Rr(r)&&S.options.ignoredFiles.includes(r.name.toLowerCase())){return}if(!Bn(S)){if(S.options.allowMultiple||!S.options.allowMultiple&&!S.options.allowReplace){var d=dr("warning",0,"Max files");I("DID_THROW_MAX_FILES",{source:r,error:d});u({error:d,file:null});return}var p=Ln(S.items)[0];if(p.status===vn.PROCESSING_COMPLETE||p.status===vn.PROCESSING_REVERT_ERROR){var h=T("GET_FORCE_REVERT");p.revert(Er(S.options.server.url,S.options.server.revert),h).then(function(){if(!h)return;I("ADD_ITEM",{source:r,index:o,interactionMethod:i,success:c,failure:u,options:f})}).catch(function(){});if(h)return}I("REMOVE_ITEM",{query:p.id})}var v=f.type==="local"?mn.LOCAL:f.type==="limbo"?mn.LIMBO:mn.INPUT;var m=Cr(v,v===mn.INPUT?null:r,f.file);Object.keys(f.metadata||{}).forEach(function(e){m.setMetadata(e,f.metadata[e])});On("DID_CREATE_ITEM",m,{query:T,dispatch:I});var g=T("GET_ITEM_INSERT_LOCATION");if(!S.options.itemInsertLocationFreedom){o=g==="before"?-1:S.items.length}Vn(S.items,m,o);if(ae(g)&&r){Gr(S,g)}var y=m.id;m.on("init",function(){I("DID_INIT_ITEM",{id:y})});m.on("load-init",function(){I("DID_START_ITEM_LOAD",{id:y})});m.on("load-meta",function(){I("DID_UPDATE_ITEM_META",{id:y})});m.on("load-progress",function(e){I("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:y,progress:e})});m.on("load-request-error",function(e){var t=Ar(S.options.labelFileLoadError)(e);if(e.code>=400&&e.code<500){I("DID_THROW_ITEM_INVALID",{id:y,error:e,status:{main:t,sub:e.code+" ("+e.body+")"}});u({error:e,file:pn(m)});return}I("DID_THROW_ITEM_LOAD_ERROR",{id:y,error:e,status:{main:t,sub:S.options.labelTapToRetry}})});m.on("load-file-error",function(e){I("DID_THROW_ITEM_INVALID",{id:y,error:e.status,status:e.status});u({error:e.status,file:pn(m)})});m.on("load-abort",function(){I("REMOVE_ITEM",{query:y})});m.on("load-skip",function(){I("COMPLETE_LOAD_ITEM",{query:y,item:m,data:{source:r,success:c}})});m.on("load",function(){var e=function e(t){if(!t){I("REMOVE_ITEM",{query:y});return}m.on("metadata-update",function(e){I("DID_UPDATE_ITEM_METADATA",{id:y,change:e})});wn("SHOULD_PREPARE_OUTPUT",false,{item:m,query:T}).then(function(e){var n=function e(){I("COMPLETE_LOAD_ITEM",{query:y,item:m,data:{source:r,success:c}});Nr(I,S)};if(e){I("REQUEST_PREPARE_OUTPUT",{query:y,item:m,success:function e(t){I("DID_PREPARE_OUTPUT",{id:y,file:t});n()}},true);return}n()})};wn("DID_LOAD_ITEM",m,{query:T,dispatch:I}).then(function(){Fr(T("GET_BEFORE_ADD_FILE"),pn(m)).then(e)}).catch(function(){e(false)})});m.on("process-start",function(){I("DID_START_ITEM_PROCESSING",{id:y})});m.on("process-progress",function(e){I("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:y,progress:e})});m.on("process-error",function(e){I("DID_THROW_ITEM_PROCESSING_ERROR",{id:y,error:e,status:{main:Ar(S.options.labelFileProcessingError)(e),sub:S.options.labelTapToRetry}})});m.on("process-revert-error",function(e){I("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:y,error:e,status:{main:Ar(S.options.labelFileProcessingRevertError)(e),sub:S.options.labelTapToRetry}})});m.on("process-complete",function(e){I("DID_COMPLETE_ITEM_PROCESSING",{id:y,error:null,serverFileReference:e});I("DID_DEFINE_VALUE",{id:y,value:e})});m.on("process-abort",function(){I("DID_ABORT_ITEM_PROCESSING",{id:y})});m.on("process-revert",function(){I("DID_REVERT_ITEM_PROCESSING",{id:y});I("DID_DEFINE_VALUE",{id:y,value:null})});I("DID_ADD_ITEM",{id:y,index:o,interactionMethod:i});Nr(I,S);var b=S.options.server||{},_=b.url,E=b.load,w=b.restore,O=b.fetch;m.load(r,ur(v===mn.INPUT?ee(r)&&Dr(r)?O?mr(_,O):Mr:Mr:v===mn.LIMBO?mr(_,w):mr(_,E)),function(e,t,n){wn("LOAD_FILE",e,{query:T}).then(t).catch(n)})},REQUEST_PREPARE_OUTPUT:function e(t){var n=t.item,r=t.success,o=t.failure,i=o===void 0?function(){}:o;var a={error:dr("error",0,"Item not found"),file:null};if(n.archived)return i(a);wn("PREPARE_OUTPUT",n.file,{query:T,item:n}).then(function(e){wn("COMPLETE_PREPARE_OUTPUT",e,{query:T,item:n}).then(function(e){if(n.archived)return i(a);r(e)})})},COMPLETE_LOAD_ITEM:function e(t){var n=t.item,r=t.data;var o=r.success,i=r.source;var a=T("GET_ITEM_INSERT_LOCATION");if(ae(a)&&i){Gr(S,a)}I("DID_LOAD_ITEM",{id:n.id,error:null,serverFileReference:n.origin===mn.INPUT?null:i});o(pn(n));if(n.origin===mn.LOCAL){I("DID_LOAD_LOCAL_ITEM",{id:n.id});return}if(n.origin===mn.LIMBO){I("DID_COMPLETE_ITEM_PROCESSING",{id:n.id,error:null,serverFileReference:i});I("DID_DEFINE_VALUE",{id:n.id,value:i});return}if(T("IS_ASYNC")&&S.options.instantUpload){I("REQUEST_ITEM_PROCESSING",{query:n.id})}},RETRY_ITEM_LOAD:Br(S,function(e){e.retryLoad()}),REQUEST_ITEM_PREPARE:Br(S,function(n,r,e){I("REQUEST_PREPARE_OUTPUT",{query:n.id,item:n,success:function e(t){I("DID_PREPARE_OUTPUT",{id:n.id,file:t});r({file:n,output:t})},failure:e},true)}),REQUEST_ITEM_PROCESSING:Br(S,function(t,n,r){var e=t.status===vn.IDLE||t.status===vn.PROCESSING_ERROR;if(!e){var o=function e(){return I("REQUEST_ITEM_PROCESSING",{query:t,success:n,failure:r})};var i=function e(){return document.hidden?o():setTimeout(o,32)};if(t.status===vn.PROCESSING_COMPLETE||t.status===vn.PROCESSING_REVERT_ERROR){t.revert(Er(S.options.server.url,S.options.server.revert),T("GET_FORCE_REVERT")).then(i).catch(function(){})}else if(t.status===vn.PROCESSING){t.abortProcessing().then(i)}return}if(t.status===vn.PROCESSING_QUEUED)return;t.requestProcessing();I("DID_REQUEST_ITEM_PROCESSING",{id:t.id});I("PROCESS_ITEM",{query:t,success:n,failure:r},true)}),PROCESS_ITEM:Br(S,function(r,t,n){var e=T("GET_MAX_PARALLEL_UPLOADS");var o=T("GET_ITEMS_BY_STATUS",vn.PROCESSING).length;if(o===e){S.processingQueue.push({id:r.id,success:t,failure:n});return}if(r.status===vn.PROCESSING)return;var i=function e(){var t=S.processingQueue.shift();if(!t)return;var n=t.id,r=t.success,o=t.failure;var i=Cn(S.items,n);if(!i||i.archived){e();return}I("PROCESS_ITEM",{query:n,success:r,failure:o},true)};r.onOnce("process-complete",function(){t(pn(r));i();var e=T("GET_ITEMS_BY_STATUS",vn.PROCESSING_COMPLETE).length===S.items.length;if(e){I("DID_COMPLETE_ITEM_PROCESSING_ALL")}});r.onOnce("process-error",function(e){n({error:e,file:pn(r)});i()});var a=S.options;r.process(Ir(_r(a.server.url,a.server.process,a.name,{chunkTransferId:r.transferId,chunkServer:a.server.patch,chunkUploads:a.chunkUploads,chunkForce:a.chunkForce,chunkSize:a.chunkSize,chunkRetryDelays:a.chunkRetryDelays})),function(e,t,n){wn("PREPARE_OUTPUT",e,{query:T,item:r}).then(function(e){I("DID_PREPARE_OUTPUT",{id:r.id,file:e});t(e)}).catch(n)})}),RETRY_ITEM_PROCESSING:Br(S,function(e){I("REQUEST_ITEM_PROCESSING",{query:e})}),REQUEST_REMOVE_ITEM:Br(S,function(t){Fr(T("GET_BEFORE_REMOVE_FILE"),pn(t)).then(function(e){if(!e){return}I("REMOVE_ITEM",{query:t})})}),RELEASE_ITEM:Br(S,function(e){e.release()}),REMOVE_ITEM:Br(S,function(n,r,e,t){var o=function e(){var t=n.id;Lr(S.items,t).archive();I("DID_REMOVE_ITEM",{error:null,id:t,item:n});Nr(I,S);r(pn(n))};var i=S.options.server;if(n.origin===mn.LOCAL&&i&&ae(i.remove)&&t.remove!==false){I("DID_START_ITEM_REMOVE",{id:n.id});i.remove(n.source,function(){return o()},function(e){I("DID_THROW_ITEM_REMOVE_ERROR",{id:n.id,error:dr("error",0,e,null),status:{main:Ar(S.options.labelFileRemoveError)(e),sub:S.options.labelTapToRetry}})})}else{if(t.revert&&n.origin!==mn.LOCAL&&n.serverId!==null){n.revert(Er(S.options.server.url,S.options.server.revert),T("GET_FORCE_REVERT"))}o()}}),ABORT_ITEM_LOAD:Br(S,function(e){e.abortLoad()}),ABORT_ITEM_PROCESSING:Br(S,function(t){if(t.serverId){I("REVERT_ITEM_PROCESSING",{id:t.id});return}t.abortProcessing().then(function(){var e=S.options.instantUpload;if(e){I("REMOVE_ITEM",{query:t.id})}})}),REQUEST_REVERT_ITEM_PROCESSING:Br(S,function(n){if(!S.options.instantUpload){I("REVERT_ITEM_PROCESSING",{query:n});return}var e=function e(t){if(!t)return;I("REVERT_ITEM_PROCESSING",{query:n})};var t=T("GET_BEFORE_REMOVE_FILE");if(!t){return e(true)}var r=t(pn(n));if(r==null){return e(true)}if(typeof r==="boolean"){return e(r)}if(typeof r.then==="function"){r.then(e)}}),REVERT_ITEM_PROCESSING:Br(S,function(t){t.revert(Er(S.options.server.url,S.options.server.revert),T("GET_FORCE_REVERT")).then(function(){var e=S.options.instantUpload||jr(t);if(e){I("REMOVE_ITEM",{query:t.id})}}).catch(function(){})}),SET_OPTIONS:function e(t){var n=t.options;g(n,function(e,t){I("SET_"+Oe(e,"_").toUpperCase(),{value:t})})}}},Ur=function e(t){return t},Vr=function e(t){return document.createElement(t)},Hr=function e(t,n){var r=t.childNodes[0];if(!r){r=document.createTextNode(n);t.appendChild(r)}else if(n!==r.nodeValue){r.nodeValue=n}},Wr=function e(t,n,r,o){var i=(o%360-90)*Math.PI/180;return{x:t+r*Math.cos(i),y:n+r*Math.sin(i)}},zr=function e(t,n,r,o,i,a){var c=Wr(t,n,r,i);var s=Wr(t,n,r,o);return["M",c.x,c.y,"A",r,r,0,a,0,s.x,s.y].join(" ")},Yr=function e(t,n,r,o,i){var a=1;if(i>o&&i-o<=.5){a=0}if(o>i&&o-i>=.5){a=0}return zr(t,n,r,Math.min(.9999,o)*360,Math.min(.9999,i)*360,a)},Kr,Xr,Qr=L({tag:"div",name:"progress-indicator",ignoreRectUpdate:true,ignoreRect:true,create:function e(t){var n=t.root,r=t.props;r.spin=false;r.progress=0;r.opacity=0;var o=V("svg");n.ref.path=V("path",{"stroke-width":2,"stroke-linecap":"round"});o.appendChild(n.ref.path);n.ref.svg=o;n.appendChild(o)},write:function e(t){var n=t.root,r=t.props;if(r.opacity===0){return}if(r.align){n.element.dataset.align=r.align}var o=parseInt(u(n.ref.path,"stroke-width"),10);var i=n.rect.element.width*.5;var a=0;var c=0;if(r.spin){a=0;c=.5}else{a=0;c=r.progress}var s=Yr(i,i,i-o,a,c);u(n.ref.path,"d",s);u(n.ref.path,"stroke-opacity",r.spin||r.progress>0?1:0)},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Jr,Zr,$r=L({tag:"button",attributes:{type:"button"},ignoreRect:true,ignoreRectUpdate:true,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:true},create:function e(t){var n=t.root,r=t.props;n.element.innerHTML=(r.icon||"")+("<span>"+r.label+"</span>");r.isDisabled=false},write:function e(t){var n=t.root,r=t.props;var o=r.isDisabled;var i=n.query("GET_DISABLED")||r.opacity===0;if(i&&!o){r.isDisabled=true;u(n.element,"disabled","disabled")}else if(!i&&o){r.isDisabled=false;n.element.removeAttribute("disabled")}}}),eo=function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:".";t=Math.round(Math.abs(t));if(t<1e3){return t+" bytes"}if(t<no){return Math.floor(t/to)+" KB"}if(t<ro){return oo(t/no,1,n)+" MB"}return oo(t/ro,2,n)+" GB"},to=1e3,no=1e6,ro=1e9,oo=function e(t,n,r){return t.toFixed(n).split(".").filter(function(e){return e!=="0"}).join(r)},io,ao=function e(t){var n=t.root,r=t.props;Hr(n.ref.fileSize,eo(n.query("GET_ITEM_SIZE",r.id)));Hr(n.ref.fileName,Ur(n.query("GET_ITEM_NAME",r.id)))},co=function e(t){var n=t.root,r=t.props;if(oe(n.query("GET_ITEM_SIZE",r.id))){return}Hr(n.ref.fileSize,n.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},so=L({name:"file-info",ignoreRect:true,ignoreRectUpdate:true,write:A({DID_LOAD_ITEM:ao,DID_UPDATE_ITEM_META:ao,DID_THROW_ITEM_LOAD_ERROR:co,DID_THROW_ITEM_INVALID:co}),didCreateView:function e(t){On("CREATE_VIEW",Object.assign({},t,{view:t}))},create:function e(t){var n=t.root,r=t.props;var o=Vr("span");o.className="filepond--file-info-main";u(o,"aria-hidden","true");n.appendChild(o);n.ref.fileName=o;var i=Vr("span");i.className="filepond--file-info-sub";n.appendChild(i);n.ref.fileSize=i;Hr(i,n.query("GET_LABEL_FILE_WAITING_FOR_SIZE"));Hr(o,Ur(n.query("GET_ITEM_NAME",r.id)))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),uo=function e(t){return Math.round(t*100)},lo=function e(t){var n=t.root;var r=Vr("span");r.className="filepond--file-status-main";n.appendChild(r);n.ref.main=r;var o=Vr("span");o.className="filepond--file-status-sub";n.appendChild(o);n.ref.sub=o;fo({root:n,action:{progress:null}})},fo=function e(t){var n=t.root,r=t.action;var o=r.progress===null?n.query("GET_LABEL_FILE_LOADING"):n.query("GET_LABEL_FILE_LOADING")+" "+uo(r.progress)+"%";Hr(n.ref.main,o);Hr(n.ref.sub,n.query("GET_LABEL_TAP_TO_CANCEL"))},po,ho,vo,mo,go=function e(t){var n=t.root;Hr(n.ref.main,"");Hr(n.ref.sub,"")},yo=function e(t){var n=t.root,r=t.action;Hr(n.ref.main,r.status.main);Hr(n.ref.sub,r.status.sub)},bo=L({name:"file-status",ignoreRect:true,ignoreRectUpdate:true,write:A({DID_LOAD_ITEM:go,DID_REVERT_ITEM_PROCESSING:go,DID_REQUEST_ITEM_PROCESSING:function e(t){var n=t.root;Hr(n.ref.main,n.query("GET_LABEL_FILE_PROCESSING"));Hr(n.ref.sub,n.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function e(t){var n=t.root;Hr(n.ref.main,n.query("GET_LABEL_FILE_PROCESSING_ABORTED"));Hr(n.ref.sub,n.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function e(t){var n=t.root;Hr(n.ref.main,n.query("GET_LABEL_FILE_PROCESSING_COMPLETE"));Hr(n.ref.sub,n.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function e(t){var n=t.root,r=t.action;var o=r.progress===null?n.query("GET_LABEL_FILE_PROCESSING"):n.query("GET_LABEL_FILE_PROCESSING")+" "+uo(r.progress)+"%";Hr(n.ref.main,o);Hr(n.ref.sub,n.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:fo,DID_THROW_ITEM_LOAD_ERROR:yo,DID_THROW_ITEM_INVALID:yo,DID_THROW_ITEM_PROCESSING_ERROR:yo,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:yo,DID_THROW_ITEM_REMOVE_ERROR:yo}),didCreateView:function e(t){On("CREATE_VIEW",Object.assign({},t,{view:t}))},create:lo,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),_o={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Eo=[];g(_o,function(e){Eo.push(e)});var wo=function e(t){var n=t.ref.buttonRemoveItem.rect.element;return n.hidden?null:n.width+n.left},Oo=function e(t){var n=t.ref.buttonAbortItemLoad.rect.element;return n.width},Io=function e(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.height/4)},To=function e(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.left/2)},So,Ro,Po=function e(t){return t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},Co={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function e(t){return t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function e(t){return t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},ko={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:wo},status:{translateX:wo}},Lo={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Mo={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:wo},status:{translateX:wo,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:wo},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Po},info:{translateX:wo},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Po},buttonRemoveItem:{opacity:1},info:{translateX:wo},status:{opacity:1,translateX:wo}},DID_LOAD_ITEM:ko,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:wo},status:{translateX:wo}},DID_START_ITEM_PROCESSING:Lo,DID_REQUEST_ITEM_PROCESSING:Lo,DID_UPDATE_ITEM_PROCESS_PROGRESS:Lo,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:wo}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:wo},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:ko},xo=L({create:function e(t){var n=t.root;n.element.innerHTML=n.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:true,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Do,Ao=function e(t){var i=t.root,n=t.actions,r=t.props;jo({root:i,actions:n,props:r});var o=n.concat().filter(function(e){return/^DID_/.test(e.type)}).reverse().find(function(e){return Mo[e.type]});if(o){i.ref.activeStyles=[];var a=Mo[o.type];g(Co,function(r,e){var o=i.ref[r];g(e,function(e,t){var n=a[r]&&typeof a[r][e]!=="undefined"?a[r][e]:t;i.ref.activeStyles.push({control:o,key:e,value:n})})})}i.ref.activeStyles.forEach(function(e){var t=e.control,n=e.key,r=e.value;t[n]=typeof r==="function"?r(i):r})},jo=A({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function e(t){var n=t.root,r=t.action;n.ref.buttonAbortItemProcessing.label=r.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function e(t){var n=t.root,r=t.action;n.ref.buttonAbortItemLoad.label=r.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function e(t){var n=t.root,r=t.action;n.ref.buttonAbortItemRemoval.label=r.value},DID_REQUEST_ITEM_PROCESSING:function e(t){var n=t.root;n.ref.processProgressIndicator.spin=true;n.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function e(t){var n=t.root;n.ref.loadProgressIndicator.spin=true;n.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function e(t){var n=t.root;n.ref.processProgressIndicator.spin=true;n.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function e(t){var n=t.root,r=t.action;n.ref.loadProgressIndicator.spin=false;n.ref.loadProgressIndicator.progress=r.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function e(t){var n=t.root,r=t.action;n.ref.processProgressIndicator.spin=false;n.ref.processProgressIndicator.progress=r.progress}}),No=L({create:function e(t){var r=t.root,n=t.props;var o=n.id;var i=r.query("GET_ALLOW_REVERT");var a=r.query("GET_ALLOW_REMOVE");var c=r.query("GET_ALLOW_PROCESS");var s=r.query("GET_INSTANT_UPLOAD");var u=r.query("IS_ASYNC");var l=r.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");var f;if(u){if(c&&!i){f=function e(t){return!/RevertItemProcessing/.test(t)}}else if(!c&&i){f=function e(t){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(t)}}else if(!c&&!i){f=function e(t){return!/Process/.test(t)}}}else{f=function e(t){return!/Process/.test(t)}}var d=f?Eo.filter(f):Eo.concat();if(s&&i){_o["RevertItemProcessing"].label="GET_LABEL_BUTTON_REMOVE_ITEM";_o["RevertItemProcessing"].icon="GET_ICON_REMOVE"}if(u&&!i){var p=Mo["DID_COMPLETE_ITEM_PROCESSING"];p.info.translateX=To;p.info.translateY=Io;p.status.translateY=Io;p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(u&&!c){["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(function(e){Mo[e].status.translateY=Io});Mo["DID_THROW_ITEM_PROCESSING_ERROR"].status.translateX=Oo}if(l&&i){_o["RevertItemProcessing"].align="BUTTON_REMOVE_ITEM_POSITION";var h=Mo["DID_COMPLETE_ITEM_PROCESSING"];h.info.translateX=wo;h.status.translateY=Io;h.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(!a){_o["RemoveItem"].disabled=true}g(_o,function(e,t){var n=r.createChildView($r,{label:r.query(t.label),icon:r.query(t.icon),opacity:0});if(d.includes(e)){r.appendChildView(n)}if(t.disabled){n.element.setAttribute("disabled","disabled");n.element.setAttribute("hidden","hidden")}n.element.dataset.align=r.query("GET_STYLE_"+t.align);n.element.classList.add(t.className);n.on("click",function(e){e.stopPropagation();if(t.disabled)return;r.dispatch(t.action,{query:o})});r.ref["button"+e]=n});r.ref.processingCompleteIndicator=r.appendChildView(r.createChildView(xo));r.ref.processingCompleteIndicator.element.dataset.align=r.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION");r.ref.info=r.appendChildView(r.createChildView(so,{id:o}));r.ref.status=r.appendChildView(r.createChildView(bo,{id:o}));var v=r.appendChildView(r.createChildView(Qr,{opacity:0,align:r.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));v.element.classList.add("filepond--load-indicator");r.ref.loadProgressIndicator=v;var m=r.appendChildView(r.createChildView(Qr,{opacity:0,align:r.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));m.element.classList.add("filepond--process-indicator");r.ref.processProgressIndicator=m;r.ref.activeStyles=[]},write:Ao,didCreateView:function e(t){On("CREATE_VIEW",Object.assign({},t,{view:t}))},name:"file"}),Fo,Go,Bo=L({create:function e(t){var n=t.root,r=t.props;n.ref.fileName=Vr("legend");n.appendChild(n.ref.fileName);n.ref.file=n.appendChildView(n.createChildView(No,{id:r.id}));n.ref.data=false},ignoreRect:true,write:A({DID_LOAD_ITEM:function e(t){var n=t.root,r=t.props;Hr(n.ref.fileName,Ur(n.query("GET_ITEM_NAME",r.id)))}}),didCreateView:function e(t){On("CREATE_VIEW",Object.assign({},t,{view:t}))},tag:"fieldset",name:"file-wrapper"}),qo={type:"spring",damping:.6,mass:7},Uo=function e(t){var n=t.root,r=t.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:qo},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:qo},styles:["translateY"]}}].forEach(function(e){Vo(n,e,r.name)});n.element.classList.add("filepond--"+r.name);n.ref.scalable=null},Vo=function e(t,n,r){var o=L({name:"panel-"+n.name+" filepond--"+r,mixins:n.mixins,ignoreRectUpdate:true});var i=t.createChildView(o,n.props);t.ref[n.name]=t.appendChildView(i)},Ho,Wo=L({name:"panel",write:function e(t){var n=t.root,r=t.props;if(n.ref.scalable===null||r.scalable!==n.ref.scalable){n.ref.scalable=Z(r.scalable)?r.scalable:true;n.element.dataset.scalable=n.ref.scalable}if(!r.height)return;var o=n.ref.top.rect.element;var i=n.ref.bottom.rect.element;var a=Math.max(o.height+i.height,r.height);n.ref.center.translateY=o.height;n.ref.center.scaleY=(a-o.height-i.height)/100;n.ref.bottom.translateY=a-i.height},create:Uo,ignoreRect:true,mixins:{apis:["height","scalable"]}}),zo=function e(t){var n=t.map(function(e){return e.id});var r=undefined;return{setIndex:function e(t){r=t},getIndex:function e(){return r},getItemIndex:function e(t){return n.indexOf(t.id)}}},Yo={type:"spring",stiffness:.75,damping:.45,mass:10},Ko="spring",Xo={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Qo,Jo=A({DID_UPDATE_PANEL_HEIGHT:function e(t){var n=t.root,r=t.action;n.height=r.height}}),Zo=A({DID_GRAB_ITEM:function e(t){var n=t.root,r=t.props;r.dragOrigin={x:n.translateX,y:n.translateY}},DID_DRAG_ITEM:function e(t){var n=t.root;n.element.dataset.dragState="drag"},DID_DROP_ITEM:function e(t){var n=t.root,r=t.props;r.dragOffset=null;r.dragOrigin=null;n.element.dataset.dragState="drop"}},function(e){var t=e.root,n=e.actions,r=e.props,o=e.shouldOptimize;if(t.element.dataset.dragState==="drop"){if(t.scaleX<=1){t.element.dataset.dragState="idle"}}var i=n.concat().filter(function(e){return/^DID_/.test(e.type)}).reverse().find(function(e){return Xo[e.type]});if(i&&i.type!==r.currentState){r.currentState=i.type;t.element.dataset.filepondItemState=Xo[r.currentState]||""}var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");if(!a){Jo({root:t,actions:n,props:r});if(!t.height&&t.ref.container.rect.element.height>0){t.height=t.ref.container.rect.element.height}}else if(!o){t.height=t.rect.element.width*a}if(o){t.ref.panel.height=null}t.ref.panel.height=t.height}),$o=L({create:function e(t){var c=t.root,s=t.props;c.ref.handleClick=function(e){return c.dispatch("DID_ACTIVATE_ITEM",{id:s.id})};c.element.id="filepond--item-"+s.id;c.element.addEventListener("click",c.ref.handleClick);c.ref.container=c.appendChildView(c.createChildView(Bo,{id:s.id}));c.ref.panel=c.appendChildView(c.createChildView(Wo,{name:"item-panel"}));c.ref.panel.height=null;s.markedForRemoval=false;if(!c.query("GET_ALLOW_REORDER"))return;c.element.dataset.dragState="idle";var n=function e(t){if(!t.isPrimary)return;var r=false;var o={x:t.pageX,y:t.pageY};s.dragOrigin={x:c.translateX,y:c.translateY};s.dragCenter={x:t.offsetX,y:t.offsetY};var i=zo(c.query("GET_ACTIVE_ITEMS"));c.dispatch("DID_GRAB_ITEM",{id:s.id,dragState:i});var n=function e(t){if(!t.isPrimary)return;t.stopPropagation();t.preventDefault();s.dragOffset={x:t.pageX-o.x,y:t.pageY-o.y};var n=s.dragOffset.x*s.dragOffset.x+s.dragOffset.y*s.dragOffset.y;if(n>16&&!r){r=true;c.element.removeEventListener("click",c.ref.handleClick)}c.dispatch("DID_DRAG_ITEM",{id:s.id,dragState:i})};var a=function e(t){if(!t.isPrimary)return;document.removeEventListener("pointermove",n);document.removeEventListener("pointerup",e);s.dragOffset={x:t.pageX-o.x,y:t.pageY-o.y};c.dispatch("DID_DROP_ITEM",{id:s.id,dragState:i});if(r){setTimeout(function(){return c.element.addEventListener("click",c.ref.handleClick)},0)}};document.addEventListener("pointermove",n);document.addEventListener("pointerup",a)};c.element.addEventListener("pointerdown",n)},write:Zo,destroy:function e(t){var n=t.root,r=t.props;n.element.removeEventListener("click",n.ref.handleClick);n.dispatch("RELEASE_ITEM",{query:r.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Ko,scaleY:Ko,translateX:Yo,translateY:Yo,opacity:{type:"tween",duration:150}}}}),ei=function e(t,n,r){if(!r)return;var o=t.rect.element.width;var i=n.length;var a=null;if(i===0||r.top<n[0].rect.element.top)return-1;var c=n[0];var s=c.rect.element;var u=s.marginLeft+s.marginRight;var l=s.width+u;var f=Math.round(o/l);if(f===1){for(var d=0;d<i;d++){var p=n[d];var h=p.rect.outer.top+p.rect.element.height*.5;if(r.top<h){return d}}return i}var v=s.marginTop+s.marginBottom;var m=s.height+v;for(var g=0;g<i;g++){var y=g%f;var b=Math.floor(g/f);var _=y*l;var E=b*m;var w=E-s.marginTop;var O=_+l;var I=E+m+s.marginBottom;if(r.top<I&&r.top>w){if(r.left<O){return g}else if(g!==i-1){a=g}else{a=null}}}if(a!==null){return a}return i},ti={height:0,width:0,get getHeight(){return this.height},set setHeight(e){if(this.height===0||e===0)this.height=e},get getWidth(){return this.width},set setWidth(e){if(this.width===0||e===0)this.width=e},setDimensions:function e(t,n){if(this.height===0||t===0)this.height=t;if(this.width===0||n===0)this.width=n}},ni,ri,oi=function e(t,n,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;if(t.dragOffset){t.translateX=null;t.translateY=null;t.translateX=t.dragOrigin.x+t.dragOffset.x;t.translateY=t.dragOrigin.y+t.dragOffset.y;t.scaleX=1.025;t.scaleY=1.025}else{t.translateX=n;t.translateY=r;if(Date.now()>t.spawnDate){if(t.opacity===0){ii(t,n,r,o,i)}t.scaleX=1;t.scaleY=1;t.opacity=1}}},ii=function e(t,n,r,o,i){if(t.interactionMethod===Re.NONE){t.translateX=null;t.translateX=n;t.translateY=null;t.translateY=r}else if(t.interactionMethod===Re.DROP){t.translateX=null;t.translateX=n-o*20;t.translateY=null;t.translateY=r-i*10;t.scaleX=.8;t.scaleY=.8}else if(t.interactionMethod===Re.BROWSE){t.translateY=null;t.translateY=r-30}else if(t.interactionMethod===Re.API){t.translateX=null;t.translateX=n-30;t.translateY=null}},ai,ci=function e(t){return t.rect.element.height+t.rect.element.marginBottom*.5+t.rect.element.marginTop*.5},si=function e(t){return t.rect.element.width+t.rect.element.marginLeft*.5+t.rect.element.marginRight*.5},ui,li=A({DID_ADD_ITEM:function e(t){var n=t.root,r=t.action;var o=r.id,i=r.index,a=r.interactionMethod;n.ref.addIndex=i;var c=Date.now();var s=c;var u=1;if(a!==Re.NONE){u=0;var l=n.query("GET_ITEM_INSERT_INTERVAL");var f=c-n.ref.lastItemSpanwDate;s=f<l?c+(l-f):c}n.ref.lastItemSpanwDate=s;n.appendChildView(n.createChildView($o,{spawnDate:s,id:o,opacity:u,interactionMethod:a}),i)},DID_REMOVE_ITEM:function e(t){var n=t.root,r=t.action;var o=r.id;var i=n.childViews.find(function(e){return e.id===o});if(!i){return}i.scaleX=.9;i.scaleY=.9;i.opacity=0;i.markedForRemoval=true},DID_DRAG_ITEM:function e(t){var d=t.root,n=t.action;var r=n.id,o=n.dragState;var i=d.query("GET_ITEM",{id:r});var p=d.childViews.find(function(e){return e.id===r});var a=d.childViews.length;var c=o.getItemIndex(i);if(!p)return;var h={x:p.dragOrigin.x+p.dragOffset.x+p.dragCenter.x,y:p.dragOrigin.y+p.dragOffset.y+p.dragCenter.y};var s=ci(p);var u=si(p);var l=Math.floor(d.rect.outer.width/u);if(l>a)l=a;var f=Math.floor(a/l+1);ti.setHeight=s*f;ti.setWidth=u*l;var v={y:Math.floor(h.y/s),x:Math.floor(h.x/u),getGridIndex:function e(){if(h.y>ti.getHeight||h.y<0||h.x>ti.getWidth||h.x<0)return c;return this.y*l+this.x},getColIndex:function e(){var t=d.query("GET_ACTIVE_ITEMS");var n=d.childViews.filter(function(e){return e.rect.element.height});var r=t.map(function(t){return n.find(function(e){return e.id===t.id})});var o=r.findIndex(function(e){return e===p});var i=ci(p);var a=r.length;var c=a;var s=0;var u=0;var l=0;for(var f=0;f<a;f++){s=ci(r[f]);l=u;u=l+s;if(h.y<u){if(o>f){if(h.y<l+i){c=f;break}continue}c=f;break}}return c}};var m=l>1?v.getGridIndex():v.getColIndex();d.dispatch("MOVE_ITEM",{query:p,index:m});var g=o.getIndex();if(g===undefined||g!==m){o.setIndex(m);if(g===undefined)return;d.dispatch("DID_REORDER_ITEMS",{items:d.query("GET_ACTIVE_ITEMS"),origin:c,target:m})}}}),fi,di,pi=L({create:function e(t){var n=t.root;u(n.element,"role","list");n.ref.lastItemSpanwDate=Date.now()},write:function e(t){var n=t.root,r=t.props,o=t.actions,u=t.shouldOptimize;li({root:n,props:r,actions:o});var i=r.dragCoordinates;var a=n.rect.element.width;var c=n.childViews.filter(function(e){return e.rect.element.height});var s=n.query("GET_ACTIVE_ITEMS").map(function(t){return c.find(function(e){return e.id===t.id})}).filter(function(e){return e});var l=i?ei(n,s,i):null;var f=n.ref.addIndex||null;n.ref.addIndex=null;var d=0;var p=0;var h=0;if(s.length===0)return;var v=s[0].rect.element;var m=v.marginTop+v.marginBottom;var g=v.marginLeft+v.marginRight;var y=v.width+g;var b=v.height+m;var _=Math.round(a/y);if(_===1){var E=0;var w=0;s.forEach(function(e,t){if(l){var n=t-l;if(n===-2){w=-m*.25}else if(n===-1){w=-m*.75}else if(n===0){w=m*.75}else if(n===1){w=m*.25}else{w=0}}if(u){e.translateX=null;e.translateY=null}if(!e.markedForRemoval){oi(e,0,E+w)}var r=e.rect.element.height+m;var o=r*(e.markedForRemoval?e.opacity:1);E+=o})}else{var O=0;var I=0;s.forEach(function(e,t){if(t===l){d=1}if(t===f){h+=1}if(e.markedForRemoval&&e.opacity<.5){p-=1}var n=t+h+d+p;var r=n%_;var o=Math.floor(n/_);var i=r*y;var a=o*b;var c=Math.sign(i-O);var s=Math.sign(a-I);O=i;I=a;if(e.markedForRemoval)return;if(u){e.translateX=null;e.translateY=null}oi(e,i,a,c,s)})}},tag:"ul",name:"list",didWriteView:function e(t){var n=t.root;n.childViews.filter(function(e){return e.markedForRemoval&&e.opacity===0&&e.resting}).forEach(function(e){e._destroy();n.removeChildView(e)})},filterFrameActionsForChild:function e(t,n){return n.filter(function(e){if(e.data&&e.data.id){return t.id===e.data.id}return true})},mixins:{apis:["dragCoordinates"]}}),hi,vi,mi,gi=A({DID_DRAG:function e(t){var n=t.root,r=t.props,o=t.action;if(!n.query("GET_ITEM_INSERT_LOCATION_FREEDOM"))return;r.dragCoordinates={left:o.position.scopeLeft-n.ref.list.rect.element.left,top:o.position.scopeTop-(n.rect.outer.top+n.rect.element.marginTop+n.rect.element.scrollTop)}},DID_END_DRAG:function e(t){var n=t.props;n.dragCoordinates=null}}),yi,bi=L({create:function e(t){var n=t.root,r=t.props;n.ref.list=n.appendChildView(n.createChildView(pi));r.dragCoordinates=null;r.overflowing=false},write:function e(t){var n=t.root,r=t.props,o=t.actions;gi({root:n,props:r,actions:o});n.ref.list.dragCoordinates=r.dragCoordinates;if(r.overflowing&&!r.overflow){r.overflowing=false;n.element.dataset.state="";n.height=null}if(r.overflow){var i=Math.round(r.overflow);if(i!==n.height){r.overflowing=true;n.element.dataset.state="overflow";n.height=i}}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),_i=function e(t,n,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";if(r){u(t,n,o)}else{t.removeAttribute(n)}},Ei=function e(t){if(!t||t.value===""){return}try{t.value=""}catch(e){}if(t.value){var n=Vr("form");var r=t.parentNode;var o=t.nextSibling;n.appendChild(t);n.reset();if(o){r.insertBefore(t,o)}else{r.appendChild(t)}}},wi=function e(t){var n=t.root,r=t.props;n.element.id="filepond--browser-"+r.id;u(n.element,"name",n.query("GET_NAME"));u(n.element,"aria-controls","filepond--assistant-"+r.id);u(n.element,"aria-labelledby","filepond--drop-label-"+r.id);Oi({root:n,action:{value:n.query("GET_ACCEPTED_FILE_TYPES")}});Ii({root:n,action:{value:n.query("GET_ALLOW_MULTIPLE")}});Ti({root:n,action:{value:n.query("GET_ALLOW_DIRECTORIES_ONLY")}});Si({root:n});Ri({root:n,action:{value:n.query("GET_REQUIRED")}});Pi({root:n,action:{value:n.query("GET_CAPTURE_METHOD")}});n.ref.handleChange=function(e){if(!n.element.value){return}var t=Array.from(n.element.files).map(function(e){e._relativePath=e.webkitRelativePath;return e});setTimeout(function(){r.onload(t);Ei(n.element)},250)};n.element.addEventListener("change",n.ref.handleChange)},Oi=function e(t){var n=t.root,r=t.action;if(!n.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE"))return;_i(n.element,"accept",!!r.value,r.value?r.value.join(","):"")},Ii=function e(t){var n=t.root,r=t.action;_i(n.element,"multiple",r.value)},Ti=function e(t){var n=t.root,r=t.action;_i(n.element,"webkitdirectory",r.value)},Si=function e(t){var n=t.root;var r=n.query("GET_DISABLED");var o=n.query("GET_ALLOW_BROWSE");var i=r||!o;_i(n.element,"disabled",i)},Ri=function e(t){var n=t.root,r=t.action;if(!r.value){_i(n.element,"required",false)}else if(n.query("GET_TOTAL_ITEMS")===0){_i(n.element,"required",true)}},Pi=function e(t){var n=t.root,r=t.action;_i(n.element,"capture",!!r.value,r.value===true?"":r.value)},Ci=function e(t){var n=t.root;var r=n.element;if(n.query("GET_TOTAL_ITEMS")>0){_i(r,"required",false);_i(r,"name",false)}else{_i(r,"name",true,n.query("GET_NAME"));var o=n.query("GET_CHECK_VALIDITY");if(o){r.setCustomValidity("")}if(n.query("GET_REQUIRED")){_i(r,"required",true)}}},ki,Li=L({tag:"input",name:"browser",ignoreRect:true,ignoreRectUpdate:true,attributes:{type:"file"},create:wi,destroy:function e(t){var n=t.root;n.element.removeEventListener("change",n.ref.handleChange)},write:A({DID_LOAD_ITEM:Ci,DID_REMOVE_ITEM:Ci,DID_THROW_ITEM_INVALID:function e(t){var n=t.root;var r=n.query("GET_CHECK_VALIDITY");if(!r)return;n.element.setCustomValidity(n.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Si,DID_SET_ALLOW_BROWSE:Si,DID_SET_ALLOW_DIRECTORIES_ONLY:Ti,DID_SET_ALLOW_MULTIPLE:Ii,DID_SET_ACCEPTED_FILE_TYPES:Oi,DID_SET_CAPTURE_METHOD:Pi,DID_SET_REQUIRED:Ri})}),Mi={ENTER:13,SPACE:32},xi=function e(t){var n=t.root,r=t.props;var o=Vr("label");u(o,"for","filepond--browser-"+r.id);u(o,"id","filepond--drop-label-"+r.id);u(o,"aria-hidden","true");n.ref.handleKeyDown=function(e){var t=e.keyCode===Mi.ENTER||e.keyCode===Mi.SPACE;if(!t)return;e.preventDefault();n.ref.label.click()};n.ref.handleClick=function(e){var t=e.target===o||o.contains(e.target);if(t)return;n.ref.label.click()};o.addEventListener("keydown",n.ref.handleKeyDown);n.element.addEventListener("click",n.ref.handleClick);Di(o,r.caption);n.appendChild(o);n.ref.label=o},Di=function e(t,n){t.innerHTML=n;var r=t.querySelector(".filepond--label-action");if(r){u(r,"tabindex","0")}return n},Ai=L({name:"drop-label",ignoreRect:true,create:xi,destroy:function e(t){var n=t.root;n.ref.label.addEventListener("keydown",n.ref.handleKeyDown);n.element.removeEventListener("click",n.ref.handleClick)},write:A({DID_SET_LABEL_IDLE:function e(t){var n=t.root,r=t.action;Di(n.ref.label,r.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),ji=L({name:"drip-blob",ignoreRect:true,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Ni=function e(t){var n=t.root;var r=n.rect.element.width*.5;var o=n.rect.element.height*.5;n.ref.blob=n.appendChildView(n.createChildView(ji,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:r,translateY:o}))},Fi,Gi,Bi,qi=function e(t){var n=t.root,r=t.props,o=t.actions;Ui({root:n,props:r,actions:o});var i=n.ref.blob;if(o.length===0&&i&&i.opacity===0){n.removeChildView(i);n.ref.blob=null}},Ui=A({DID_DRAG:function e(t){var n=t.root,r=t.action;if(!n.ref.blob){Ni({root:n});return}n.ref.blob.translateX=r.position.scopeLeft;n.ref.blob.translateY=r.position.scopeTop;n.ref.blob.scaleX=1;n.ref.blob.scaleY=1;n.ref.blob.opacity=1},DID_DROP:function e(t){var n=t.root;if(!n.ref.blob){return}n.ref.blob.scaleX=2.5;n.ref.blob.scaleY=2.5;n.ref.blob.opacity=0},DID_END_DRAG:function e(t){var n=t.root;if(!n.ref.blob){return}n.ref.blob.opacity=0}}),Vi=L({ignoreRect:true,ignoreRectUpdate:true,name:"drip",write:qi}),Hi,Wi=function e(t,n){return t.ref.fields[n]},zi=function e(t){t.query("GET_ACTIVE_ITEMS").forEach(function(e){if(!t.ref.fields[e.id])return;t.element.appendChild(t.ref.fields[e.id])})},Yi=function e(t){var n=t.root;return zi(n)},Ki,Xi,Qi,Ji,Zi,$i=A({DID_SET_DISABLED:function e(t){var n=t.root;n.element.disabled=n.query("GET_DISABLED")},DID_ADD_ITEM:function e(t){var n=t.root,r=t.action;var o=Vr("input");o.type="hidden";o.name=n.query("GET_NAME");o.disabled=n.query("GET_DISABLED");n.ref.fields[r.id]=o;zi(n)},DID_LOAD_ITEM:function e(t){var n=t.root,r=t.action;var o=Wi(n,r.id);if(!o||r.serverFileReference===null)return;o.value=r.serverFileReference},DID_REMOVE_ITEM:function e(t){var n=t.root,r=t.action;var o=Wi(n,r.id);if(!o)return;o.parentNode.removeChild(o);delete n.ref.fields[r.id]},DID_DEFINE_VALUE:function e(t){var n=t.root,r=t.action;var o=Wi(n,r.id);if(!o)return;if(r.value===null){o.removeAttribute("value")}else{o.value=r.value}zi(n)},DID_REORDER_ITEMS:Yi,DID_SORT_ITEMS:Yi}),ea=L({tag:"fieldset",name:"data",create:function e(t){var n=t.root;return n.ref.fields={}},write:$i,ignoreRect:true}),ta=function e(t){return"getRootNode"in t?t.getRootNode():document},na=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],ra=["css","csv","html","txt"],oa={zip:"zip|compressed",epub:"application/epub+zip"},ia=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";t=t.toLowerCase();if(na.includes(t)){return"image/"+(t==="jpg"?"jpeg":t==="svg"?"svg+xml":t)}if(ra.includes(t)){return"text/"+t}return oa[t]||""},aa=function e(r){return new zc(function(e,t){var n=ma(r);if(n.length&&!ca(r)){return e(n)}sa(r).then(e)})},ca=function e(t){if(t.files)return t.files.length>0;return false},sa=function e(r){return new zc(function(n,e){var t=(r.items?Array.from(r.items):[]).filter(function(e){return ua(e)}).map(function(e){return la(e)});if(!t.length){n(r.files?Array.from(r.files):[]);return}zc.all(t).then(function(e){var t=[];e.forEach(function(e){t.push.apply(t,e)});n(t.filter(function(e){return e}).map(function(e){if(!e._relativePath)e._relativePath=e.webkitRelativePath;return e}))}).catch(console.error)})},ua=function e(t){if(ha(t)){var n=va(t);if(n){return n.isFile||n.isDirectory}}return t.kind==="file"},la=function e(n){return new zc(function(e,t){if(pa(n)){fa(va(n)).then(e).catch(t);return}e([n.getAsFile()])})},fa=function e(n){return new zc(function(t,o){var i=[];var a=0;var c=0;var s=function e(){if(c===0&&a===0){t(i)}};var e=function r(e){a++;var n=e.createReader();var t=function t(){n.readEntries(function(e){if(e.length===0){a--;s();return}e.forEach(function(n){if(n.isDirectory){r(n)}else{c++;n.file(function(e){var t=da(e);if(n.fullPath)t._relativePath=n.fullPath;i.push(t);c--;s()})}});t()},o)};t()};e(n)})},da=function e(t){if(t.type.length)return t;var n=t.lastModifiedDate;var r=t.name;t=t.slice(0,t.size,ia(zn(t.name)));t.name=r;t.lastModifiedDate=n;return t},pa=function e(t){return ha(t)&&(va(t)||{}).isDirectory},ha=function e(t){return"webkitGetAsEntry"in t},va=function e(t){return t.webkitGetAsEntry()},ma=function e(t){var n=[];try{n=ya(t);if(n.length){return n}n=ga(t)}catch(e){}return n},ga=function e(t){var n=t.getData("url");if(typeof n==="string"&&n.length){return[n]}return[]},ya=function e(t){var n=t.getData("text/html");if(typeof n==="string"&&n.length){var r=n.match(/src\s*=\s*"(.+?)"/);if(r){return[r[1]]}}return[]},ba=[],_a=function e(t){return{pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}},Ea=function e(t,n,r){var o=wa(n);var i={element:t,filterElement:r,state:null,ondrop:function e(){},onenter:function e(){},ondrag:function e(){},onexit:function e(){},onload:function e(){},allowdrop:function e(){}};i.destroy=o.addListener(i);return i},wa=function e(t){var n=ba.find(function(e){return e.element===t});if(n){return n}var r=Oa(t);ba.push(r);return r},Oa=function e(n){var r=[];var o={dragenter:Pa,dragover:Ca,dragleave:La,drop:ka};var i={};g(o,function(e,t){i[e]=t(n,r);n.addEventListener(e,i[e],false)});var a={element:n,addListener:function e(t){r.push(t);return function(){r.splice(r.indexOf(t),1);if(r.length===0){ba.splice(ba.indexOf(a),1);g(o,function(e){n.removeEventListener(e,i[e],false)})}}}};return a},Ia=function e(t,n){if(!("elementFromPoint"in t)){t=document}return t.elementFromPoint(n.x,n.y)},Ta=function e(t,n){var r=ta(n);var o=Ia(r,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return o===n||n.contains(o)},Sa=null,Ra=function e(t,n){try{t.dropEffect=n}catch(e){}},Pa=function e(t,n){return function(r){r.preventDefault();Sa=r.target;n.forEach(function(e){var t=e.element,n=e.onenter;if(Ta(r,t)){e.state="enter";n(_a(r))}})}},Ca=function e(t,n){return function(l){l.preventDefault();var f=l.dataTransfer;aa(f).then(function(s){var u=false;n.some(function(e){var t=e.filterElement,n=e.element,r=e.onenter,o=e.onexit,i=e.ondrag,a=e.allowdrop;Ra(f,"copy");var c=a(s);if(!c){Ra(f,"none");return}if(Ta(l,n)){u=true;if(e.state===null){e.state="enter";r(_a(l));return}e.state="over";if(t&&!c){Ra(f,"none");return}i(_a(l))}else{if(t&&!u){Ra(f,"none")}if(e.state){e.state=null;o(_a(l))}}})})}},ka=function e(t,n){return function(c){c.preventDefault();var e=c.dataTransfer;aa(e).then(function(a){n.forEach(function(e){var t=e.filterElement,n=e.element,r=e.ondrop,o=e.onexit,i=e.allowdrop;e.state=null;if(t&&!Ta(c,n))return;if(!i(a))return o(_a(c));r(_a(c),a)})})}},La=function e(t,r){return function(n){if(Sa!==n.target){return}r.forEach(function(e){var t=e.onexit;e.state=null;t(_a(n))})}},Ma=function e(t,r,n){t.classList.add("filepond--hopper");var o=n.catchesDropsOnPage,i=n.requiresDropOnElement,a=n.filterItems,c=a===void 0?function(e){return e}:a;var s=Ea(t,o?document.documentElement:t,i);var u="";var l="";s.allowdrop=function(e){return r(c(e))};s.ondrop=function(e,t){var n=c(t);if(!r(n)){f.ondragend(e);return}l="drag-drop";f.onload(n,e)};s.ondrag=function(e){f.ondrag(e)};s.onenter=function(e){l="drag-over";f.ondragstart(e)};s.onexit=function(e){l="drag-exit";f.ondragend(e)};var f={updateHopperState:function e(){if(u!==l){t.dataset.hopperState=l;u=l}},onload:function e(){},ondragstart:function e(){},ondrag:function e(){},ondragend:function e(){},destroy:function e(){s.destroy()}};return f},xa=false,Da=[],Aa=function e(t){var n=document.activeElement;if(n&&/textarea|input/i.test(n.nodeName)){var r=false;var o=n;while(o!==document.body){if(o.classList.contains("filepond--root")){r=true;break}o=o.parentNode}if(!r)return}aa(t.clipboardData).then(function(t){if(!t.length){return}Da.forEach(function(e){return e(t)})})},ja=function e(t){if(Da.includes(t)){return}Da.push(t);if(xa){return}xa=true;document.addEventListener("paste",Aa)},Na=function e(t){sn(Da,Da.indexOf(t));if(Da.length===0){document.removeEventListener("paste",Aa);xa=false}},Fa=function e(){var t=function e(t){n.onload(t)};var n={destroy:function e(){Na(t)},onload:function e(){}};ja(t);return n},Ga,Ba=null,qa=null,Ua=[],Va=function e(t,n){t.element.textContent=n},Ha=function e(t){t.element.textContent=""},Wa=function e(t,n,r){var o=t.query("GET_TOTAL_ITEMS");Va(t,r+" "+n+", "+o+" "+(o===1?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL")));clearTimeout(qa);qa=setTimeout(function(){Ha(t)},1500)},za=function e(t){return t.element.parentNode.contains(document.activeElement)},Ya,Ka,Xa,Qa=function e(t){var n=t.root,r=t.action;var o=n.query("GET_ITEM",r.id);var i=o.filename;var a=n.query("GET_LABEL_FILE_PROCESSING_ABORTED");Va(n,i+" "+a)},Ja=function e(t){var n=t.root,r=t.action;var o=n.query("GET_ITEM",r.id);var i=o.filename;Va(n,r.status.main+" "+i+" "+r.status.sub)},Za=L({create:function e(t){var n=t.root,r=t.props;n.element.id="filepond--assistant-"+r.id;u(n.element,"role","status");u(n.element,"aria-live","polite");u(n.element,"aria-relevant","additions")},ignoreRect:true,ignoreRectUpdate:true,write:A({DID_LOAD_ITEM:function e(t){var n=t.root,r=t.action;if(!za(n)){return}n.element.textContent="";var o=n.query("GET_ITEM",r.id);Ua.push(o.filename);clearTimeout(Ba);Ba=setTimeout(function(){Wa(n,Ua.join(", "),n.query("GET_LABEL_FILE_ADDED"));Ua.length=0},750)},DID_REMOVE_ITEM:function e(t){var n=t.root,r=t.action;if(!za(n)){return}var o=r.item;Wa(n,o.filename,n.query("GET_LABEL_FILE_REMOVED"))},DID_COMPLETE_ITEM_PROCESSING:function e(t){var n=t.root,r=t.action;var o=n.query("GET_ITEM",r.id);var i=o.filename;var a=n.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Va(n,i+" "+a)},DID_ABORT_ITEM_PROCESSING:Qa,DID_REVERT_ITEM_PROCESSING:Qa,DID_THROW_ITEM_REMOVE_ERROR:Ja,DID_THROW_ITEM_LOAD_ERROR:Ja,DID_THROW_ITEM_INVALID:Ja,DID_THROW_ITEM_PROCESSING_ERROR:Ja}),tag:"span",name:"assistant"}),$a=function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"-";return t.replace(new RegExp(n+".","g"),function(e){return e.charAt(1).toUpperCase()})},ec=function e(i){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:16;var c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var s=Date.now();var u=null;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}clearTimeout(u);var r=Date.now()-s;var o=function e(){s=Date.now();i.apply(void 0,t)};if(r<a){if(!c){u=setTimeout(o,a-r)}}else{o()}}},tc=1e6,nc=function e(t){return t.preventDefault()},rc,oc=function e(t){var o=t.root,n=t.props,r=t.actions;pc({root:o,props:n,actions:r});r.filter(function(e){return/^DID_SET_STYLE_/.test(e.type)}).filter(function(e){return!B(e.data.value)}).map(function(e){var t=e.type,n=e.data;var r=$a(t.substr(8).toLowerCase(),"_");o.element.dataset[r]=n.value;o.invalidateLayout()});if(o.rect.element.hidden)return;if(o.rect.element.width!==o.ref.widthPrevious){o.ref.widthPrevious=o.rect.element.width;o.ref.widthUpdated()}var i=o.ref.bounds;if(!i){i=o.ref.bounds=cc(o);o.element.removeChild(o.ref.measure);o.ref.measure=null}var a=o.ref,c=a.hopper,s=a.label,u=a.list,l=a.panel;if(c){c.updateHopperState()}var f=o.query("GET_PANEL_ASPECT_RATIO");var d=o.query("GET_ALLOW_MULTIPLE");var p=o.query("GET_TOTAL_ITEMS");var h=d?o.query("GET_MAX_FILES")||tc:1;var v=p===h;var m=r.find(function(e){return e.type==="DID_ADD_ITEM"});if(v&&m){var g=m.data.interactionMethod;s.opacity=0;if(d){s.translateY=-40}else{if(g===Re.API){s.translateX=40}else if(g===Re.BROWSE){s.translateY=40}else{s.translateY=30}}}else if(!v){s.opacity=1;s.translateX=0;s.translateY=0}var y=ic(o);var b=ac(o);var _=s.rect.element.height;var E=!d||v?0:_;var w=v?u.rect.element.marginTop:0;var O=p===0?0:u.rect.element.marginBottom;var I=E+w+b.visual+O;var T=E+w+b.bounds+O;u.translateY=Math.max(0,E-u.rect.element.marginTop)-y.top;if(f){var S=o.rect.element.width;var R=S*f;if(f!==o.ref.previousAspectRatio){o.ref.previousAspectRatio=f;o.ref.updateHistory=[]}var P=o.ref.updateHistory;P.push(S);var C=2;if(P.length>C*2){var k=P.length;var L=k-10;var M=0;for(var x=k;x>=L;x--){if(P[x]===P[x-2]){M++}if(M>=C){return}}}l.scalable=false;l.height=R;var D=R-E-(O-y.bottom)-(v?w:0);if(b.visual>D){u.overflow=D}else{u.overflow=null}o.height=R}else if(i.fixedHeight){l.scalable=false;var A=i.fixedHeight-E-(O-y.bottom)-(v?w:0);if(b.visual>A){u.overflow=A}else{u.overflow=null}}else if(i.cappedHeight){var j=I>=i.cappedHeight;var N=Math.min(i.cappedHeight,I);l.scalable=true;l.height=j?N:N-y.top-y.bottom;var F=N-E-(O-y.bottom)-(v?w:0);if(I>i.cappedHeight&&b.visual>F){u.overflow=F}else{u.overflow=null}o.height=Math.min(i.cappedHeight,T-y.top-y.bottom)}else{var G=p>0?y.top+y.bottom:0;l.scalable=true;l.height=Math.max(_,I-G);o.height=Math.max(_,T-G)}},ic=function e(t){var n=t.ref.list.childViews[0].childViews[0];return n?{top:n.rect.element.marginTop,bottom:n.rect.element.marginBottom}:{top:0,bottom:0}},ac=function e(t){var n=0;var r=0;var o=t.ref.list;var i=o.childViews[0];var a=i.childViews.filter(function(e){return e.rect.element.height});var c=t.query("GET_ACTIVE_ITEMS").map(function(t){return a.find(function(e){return e.id===t.id})}).filter(function(e){return e});if(c.length===0)return{visual:n,bounds:r};var s=i.rect.element.width;var u=ei(i,c,o.dragCoordinates);var l=c[0].rect.element;var f=l.marginTop+l.marginBottom;var d=l.marginLeft+l.marginRight;var p=l.width+d;var h=l.height+f;var v=typeof u!=="undefined"&&u>=0?1:0;var m=c.find(function(e){return e.markedForRemoval&&e.opacity<.45})?-1:0;var g=c.length+v+m;var y=Math.round(s/p);if(y===1){c.forEach(function(e){var t=e.rect.element.height+f;r+=t;n+=t*e.opacity})}else{r=Math.ceil(g/y)*h;n=r}return{visual:n,bounds:r}},cc=function e(t){var n=t.ref.measureHeight||null;var r=parseInt(t.style.maxHeight,10)||null;var o=n===0?null:n;return{cappedHeight:r,fixedHeight:o}},sc=function e(t,n){var r=t.query("GET_ALLOW_REPLACE");var o=t.query("GET_ALLOW_MULTIPLE");var i=t.query("GET_TOTAL_ITEMS");var a=t.query("GET_MAX_FILES");var c=n.length;if(!o&&c>1){return true}a=o?a:r?a:1;var s=oe(a);if(s&&i+c>a){t.dispatch("DID_THROW_MAX_FILES",{source:n,error:dr("warning",0,"Max files")});return true}return false},uc=function e(t,n,r){var o=t.childViews[0];return ei(o,n,{left:r.scopeLeft-o.rect.element.left,top:r.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},lc=function e(i){var t=i.query("GET_ALLOW_DROP");var n=i.query("GET_DISABLED");var r=t&&!n;if(r&&!i.ref.hopper){var o=Ma(i.element,function(e){if(sc(i,e))return false;var t=i.query("GET_BEFORE_DROP_FILE")||function(){return true};var n=i.query("GET_DROP_VALIDATION");return n?e.every(function(e){return On("ALLOW_HOPPER_ITEM",e,{query:i.query}).every(function(e){return e===true})&&t(e)}):true},{filterItems:function e(t){var n=i.query("GET_IGNORED_FILES");return t.filter(function(e){if(Rr(e)){return!n.includes(e.name.toLowerCase())}return true})},catchesDropsOnPage:i.query("GET_DROP_ON_PAGE"),requiresDropOnElement:i.query("GET_DROP_ON_ELEMENT")});o.onload=function(e,t){var n=i.ref.list.childViews[0];var r=n.childViews.filter(function(e){return e.rect.element.height});var o=i.query("GET_ACTIVE_ITEMS").map(function(t){return r.find(function(e){return e.id===t.id})}).filter(function(e){return e});i.dispatch("ADD_ITEMS",{items:e,index:uc(i.ref.list,o,t),interactionMethod:Re.DROP});i.dispatch("DID_DROP",{position:t});i.dispatch("DID_END_DRAG",{position:t})};o.ondragstart=function(e){i.dispatch("DID_START_DRAG",{position:e})};o.ondrag=ec(function(e){i.dispatch("DID_DRAG",{position:e})});o.ondragend=function(e){i.dispatch("DID_END_DRAG",{position:e})};i.ref.hopper=o;i.ref.drip=i.appendChildView(i.createChildView(Vi))}else if(!r&&i.ref.hopper){i.ref.hopper.destroy();i.ref.hopper=null;i.removeChildView(i.ref.drip)}},fc=function e(n,t){var r=n.query("GET_ALLOW_BROWSE");var o=n.query("GET_DISABLED");var i=r&&!o;if(i&&!n.ref.browser){n.ref.browser=n.appendChildView(n.createChildView(Li,Object.assign({},t,{onload:function e(t){if(sc(n,t))return false;n.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:Re.BROWSE})}})),0)}else if(!i&&n.ref.browser){n.removeChildView(n.ref.browser);n.ref.browser=null}},dc=function e(t){var n=t.query("GET_ALLOW_PASTE");var r=t.query("GET_DISABLED");var o=n&&!r;if(o&&!t.ref.paster){t.ref.paster=Fa();t.ref.paster.onload=function(e){t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:Re.PASTE})}}else if(!o&&t.ref.paster){t.ref.paster.destroy();t.ref.paster=null}},pc=A({DID_SET_ALLOW_BROWSE:function e(t){var n=t.root,r=t.props;fc(n,r)},DID_SET_ALLOW_DROP:function e(t){var n=t.root;lc(n)},DID_SET_ALLOW_PASTE:function e(t){var n=t.root;dc(n)},DID_SET_DISABLED:function e(t){var n=t.root,r=t.props;lc(n);dc(n);fc(n,r);var o=n.query("GET_DISABLED");if(o){n.element.dataset.disabled="disabled"}else{n.element.removeAttribute("data-disabled")}}}),hc=L({name:"root",read:function e(t){var n=t.root;if(n.ref.measure){n.ref.measureHeight=n.ref.measure.offsetHeight}},create:function e(t){var r=t.root,n=t.props;var o=r.query("GET_ID");if(o){r.element.id=o}var i=r.query("GET_CLASS_NAME");if(i){i.split(" ").filter(function(e){return e.length}).forEach(function(e){r.element.classList.add(e)})}r.ref.label=r.appendChildView(r.createChildView(Ai,Object.assign({},n,{translateY:null,caption:r.query("GET_LABEL_IDLE")})));r.ref.list=r.appendChildView(r.createChildView(bi,{translateY:null}));r.ref.panel=r.appendChildView(r.createChildView(Wo,{name:"panel-root"}));r.ref.assistant=r.appendChildView(r.createChildView(Za,Object.assign({},n)));r.ref.data=r.appendChildView(r.createChildView(ea,Object.assign({},n)));r.ref.measure=Vr("div");r.ref.measure.style.height="100%";r.element.appendChild(r.ref.measure);r.ref.bounds=null;r.query("GET_STYLES").filter(function(e){return!B(e.value)}).map(function(e){var t=e.name,n=e.value;r.element.dataset[t]=n});r.ref.widthPrevious=null;r.ref.widthUpdated=ec(function(){r.ref.updateHistory=[];r.dispatch("DID_RESIZE_ROOT")},250);r.ref.previousAspectRatio=null;r.ref.updateHistory=[];var a=window.matchMedia("(pointer: fine) and (hover: hover)").matches;var c="PointerEvent"in window;if(r.query("GET_ALLOW_REORDER")&&c&&!a){r.element.addEventListener("touchmove",nc,{passive:false});r.element.addEventListener("gesturestart",nc)}},write:oc,destroy:function e(t){var n=t.root;if(n.ref.paster){n.ref.paster.destroy()}if(n.ref.hopper){n.ref.hopper.destroy()}n.element.removeEventListener("touchmove",nc);n.element.removeEventListener("gesturestart",nc)},mixins:{styles:["height"]}}),vc=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=null;var r=Sn();var a=x(we(r),[Gn,Se(r)],[qr,Te(r)]);a.dispatch("SET_OPTIONS",{options:t});var o=function e(){if(document.hidden)return;a.dispatch("KICK")};document.addEventListener("visibilitychange",o);var i=null;var c=false;var s=false;var u=null;var l=null;var f=function e(){if(!c){c=true}clearTimeout(i);i=setTimeout(function(){c=false;u=null;l=null;if(s){s=false;a.dispatch("DID_STOP_RESIZE")}},500)};window.addEventListener("resize",f);var d=hc(a,{id:Pe()});var p=false;var h=false;var v={_read:function e(){if(c){l=window.innerWidth;if(!u){u=l}if(!s&&l!==u){a.dispatch("DID_START_RESIZE");s=true}}if(h&&p){p=d.element.offsetParent===null}if(p)return;d._read();h=d.rect.element.hidden},_write:function e(t){var n=a.processActionQueue().filter(function(e){return!/^SET_/.test(e.type)});if(p&&!n.length)return;b(n);p=d._write(t,n,s);hn(a.query("GET_ITEMS"));if(p){a.processDispatchQueue()}}};var m=function e(r){return function(e){var t={type:r};if(!e){return t}if(e.hasOwnProperty("error")){t.error=e.error?Object.assign({},e.error):null}if(e.status){t.status=Object.assign({},e.status)}if(e.file){t.output=e.file}if(e.source){t.file=e.source}else if(e.item||e.id){var n=e.item?e.item:a.query("GET_ITEM",e.id);t.file=n?pn(n):null}if(e.items){t.items=e.items.map(pn)}if(/progress/.test(r)){t.progress=e.progress}if(e.hasOwnProperty("origin")&&e.hasOwnProperty("target")){t.origin=e.origin;t.target=e.target}return t}};var g={DID_DESTROY:m("destroy"),DID_INIT:m("init"),DID_THROW_MAX_FILES:m("warning"),DID_INIT_ITEM:m("initfile"),DID_START_ITEM_LOAD:m("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:m("addfileprogress"),DID_LOAD_ITEM:m("addfile"),DID_THROW_ITEM_INVALID:[m("error"),m("addfile")],DID_THROW_ITEM_LOAD_ERROR:[m("error"),m("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[m("error"),m("removefile")],DID_PREPARE_OUTPUT:m("preparefile"),DID_START_ITEM_PROCESSING:m("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:m("processfileprogress"),DID_ABORT_ITEM_PROCESSING:m("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:m("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:m("processfiles"),DID_REVERT_ITEM_PROCESSING:m("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[m("error"),m("processfile")],DID_REMOVE_ITEM:m("removefile"),DID_UPDATE_ITEMS:m("updatefiles"),DID_ACTIVATE_ITEM:m("activatefile"),DID_REORDER_ITEMS:m("reorderfiles")};var y=function e(t){var n=Object.assign({pond:M},t);delete n.type;d.element.dispatchEvent(new CustomEvent("FilePond:"+t.type,{detail:n,bubbles:true,cancelable:true,composed:true}));var r=[];if(t.hasOwnProperty("error")){r.push(t.error)}if(t.hasOwnProperty("file")){r.push(t.file)}var o=["type","error","file"];Object.keys(t).filter(function(e){return!o.includes(e)}).forEach(function(e){return r.push(t[e])});M.fire.apply(M,[t.type].concat(r));var i=a.query("GET_ON"+t.type.toUpperCase());if(i){i.apply(void 0,r)}};var b=function e(t){if(!t.length)return;t.filter(function(e){return g[e.type]}).forEach(function(t){var e=g[t.type];(Array.isArray(e)?e:[e]).forEach(function(e){if(t.type==="DID_INIT_ITEM"){y(e(t.data))}else{setTimeout(function(){y(e(t.data))},0)}})})};var _=function e(t){return a.dispatch("SET_OPTIONS",{options:t})};var E=function e(t){return a.query("GET_ACTIVE_ITEM",t)};var w=function e(t){return new zc(function(n,r){a.dispatch("REQUEST_ITEM_PREPARE",{query:t,success:function e(t){n(t)},failure:function e(t){r(t)}})})};var O=function e(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return new zc(function(t,e){S([{source:n,options:r}],{index:r.index}).then(function(e){return t(e&&e[0])}).catch(e)})};var I=function e(t){return t.file&&t.id};var T=function e(t,n){if(typeof t==="object"&&!I(t)&&!n){n=t;t=undefined}a.dispatch("REMOVE_ITEM",Object.assign({},n,{query:t}));return a.query("GET_ACTIVE_ITEM",t)===null};var S=function e(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}return new zc(function(e,t){var n=[];var r={};if(F(i[0])){n.push.apply(n,i[0]);Object.assign(r,i[1]||{})}else{var o=i[i.length-1];if(typeof o==="object"&&!(o instanceof Blob)){Object.assign(r,i.pop())}n.push.apply(n,i)}a.dispatch("ADD_ITEMS",{items:n,index:r.index,interactionMethod:Re.API,success:e,failure:t})})};var R=function e(){return a.query("GET_ACTIVE_ITEMS")};var P=function e(t){return new zc(function(n,r){a.dispatch("REQUEST_ITEM_PROCESSING",{query:t,success:function e(t){n(t)},failure:function e(t){r(t)}})})};var C=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}var o=Array.isArray(n[0])?n[0]:n;var i=o.length?o:R();return zc.all(i.map(w))};var k=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}var o=Array.isArray(n[0])?n[0]:n;if(!o.length){var i=R().filter(function(e){return!(e.status===vn.IDLE&&e.origin===mn.LOCAL)&&e.status!==vn.PROCESSING&&e.status!==vn.PROCESSING_COMPLETE&&e.status!==vn.PROCESSING_REVERT_ERROR});return zc.all(i.map(P))}return zc.all(o.map(P))};var L=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}var o=Array.isArray(n[0])?n[0]:n;var i;if(typeof o[o.length-1]==="object"){i=o.pop()}else if(Array.isArray(n[0])){i=n[1]}var a=R();if(!o.length)return zc.all(a.map(function(e){return T(e,i)}));var c=o.map(function(e){return D(e)?a[e]?a[e].id:null:e}).filter(function(e){return e});return c.map(function(e){return T(e,i)})};var M=Object.assign({},ln(),{},v,{},Ie(a,r),{setOptions:_,addFile:O,addFiles:S,getFile:E,processFile:P,prepareFile:w,removeFile:T,moveFile:function e(t,n){return a.dispatch("MOVE_ITEM",{query:t,index:n})},getFiles:R,processFiles:k,removeFiles:L,prepareFiles:C,sort:function e(t){return a.dispatch("SORT",{compare:t})},browse:function e(){var t=d.element.querySelector("input[type=file]");if(t){t.click()}},destroy:function e(){M.fire("destroy",d.element);a.dispatch("ABORT_ALL");d._destroy();window.removeEventListener("resize",f);document.removeEventListener("visibilitychange",o);a.dispatch("DID_DESTROY")},insertBefore:function e(t){return j(d.element,t)},insertAfter:function e(t){return N(d.element,t)},appendTo:function e(t){return t.appendChild(d.element)},replaceElement:function e(t){j(d.element,t);t.parentNode.removeChild(t);n=t},restoreElement:function e(){if(!n){return}N(n,d.element);d.element.parentNode.removeChild(d.element);n=null},isAttachedTo:function e(t){return d.element===t||n===t},element:{get:function e(){return d.element}},status:{get:function e(){return a.query("GET_STATUS")}}});a.dispatch("DID_INIT");return U(M)},mc=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n={};g(Sn(),function(e,t){n[e]=t[0]});var r=vc(Object.assign({},n,{},t));return r},gc=function e(t){return t.charAt(0).toLowerCase()+t.slice(1)},yc=function e(t){return $a(t.replace(/^data-/,""))},bc=function e(c,t){g(t,function(i,a){g(c,function(e,t){var n=new RegExp(i);var r=n.test(e);if(!r){return}delete c[e];if(a===false){return}if(ee(a)){c[a]=t;return}var o=a.group;if(pe(a)&&!c[o]){c[o]={}}c[o][gc(e.replace(n,""))]=t});if(a.mapping){e(c[a.group],a.mapping)}})},_c=function e(r){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=[];g(r.attributes,function(e){n.push(r.attributes[e])});var o=n.filter(function(e){return e.name}).reduce(function(e,t){var n=u(r,t.name);e[yc(t.name)]=n===t.name?true:n;return e},{});bc(o,t);return o},Ec=function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":false,"^files$":false};On("SET_ATTRIBUTE_TO_OPTION_MAP",r);var o=Object.assign({},n);var i=_c(t.nodeName==="FIELDSET"?t.querySelector("input[type=file]"):t,r);Object.keys(i).forEach(function(e){if(pe(i[e])){if(!pe(o[e])){o[e]={}}Object.assign(o[e],i[e])}else{o[e]=i[e]}});o.files=(n.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map(function(e){return{source:e.value,options:{type:e.dataset.type}}}));var a=mc(o);if(t.files){Array.from(t.files).forEach(function(e){a.addFile(e)})}a.replaceElement(t);return a},wc=function e(){return t(arguments.length<=0?undefined:arguments[0])?Ec.apply(void 0,arguments):mc.apply(void 0,arguments)},Oc=["fire","_read","_write"],Ic=function e(t){var n={};fn(t,n,Oc);return n},Tc=function e(t,n){return t.replace(/(?:{([a-zA-Z]+)})/g,function(e,t){return n[t]})},Sc=function e(t){var n=new Blob(["(",t.toString(),")()"],{type:"application/javascript"});var r=URL.createObjectURL(n);var i=new Worker(r);return{transfer:function e(t,n){},post:function e(t,n,r){var o=Pe();i.onmessage=function(e){if(e.data.id===o){n(e.data.message)}};i.postMessage({id:o,message:t},r)},terminate:function e(){i.terminate();URL.revokeObjectURL(r)}}},Rc=function e(r){return new zc(function(e,t){var n=new Image;n.onload=function(){e(n)};n.onerror=function(e){t(e)};n.src=r})},Pc=function e(t,n){var r=t.slice(0,t.size,t.type);r.lastModifiedDate=t.lastModifiedDate;r.name=n;return r},Cc=function e(t){return Pc(t,t.name)},kc=[],Lc=function e(t){if(kc.includes(t)){return}kc.push(t);var n=t({addFilter:In,utils:{Type:_n,forin:g,isString:ee,isFile:Rr,toNaturalFileSize:eo,replaceInString:Tc,getExtensionFromFilename:zn,getFilenameWithoutExtension:Tr,guesstimateMimeType:ia,getFileFromBlob:Qn,getFilenameFromURL:Wn,createRoute:A,createWorker:Sc,createView:L,createItemAPI:pn,loadImage:Rc,copyFile:Cc,renameFile:Pc,createBlob:Zn,applyFilterChain:wn,text:Hr,getNumericAspectRatioFromString:kn},views:{fileActionButton:$r}});Tn(n.options)},Mc=function e(){return Object.prototype.toString.call(window.operamini)==="[object OperaMini]"},xc=function e(){return"Promise"in window},Dc=function e(){return"slice"in Blob.prototype},Ac=function e(){return"URL"in window&&"createObjectURL"in window.URL},jc=function e(){return"visibilityState"in document},Nc=function e(){return"performance"in window},Fc=function e(){return"supports"in(window.CSS||{})},Gc=function e(){return/MSIE|Trident/.test(window.navigator.userAgent)},Bc=function(){var e=s()&&!Mc()&&jc()&&xc()&&Dc()&&Ac()&&Nc()&&(Fc()||Gc());return function(){return e}}(),qc={apps:[]},Uc="filepond",Vc=function e(){};if(o.Status={},o.FileStatus={},o.FileOrigin={},o.OptionTypes={},o.create=Vc,o.destroy=Vc,o.parse=Vc,o.find=Vc,o.registerPlugin=Vc,o.getOptions=Vc,o.setOptions=Vc,Bc()){M(function(){qc.apps.forEach(function(e){return e._read()})},function(t){qc.apps.forEach(function(e){return e._write(t)})});var Hc=function e(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Bc,create:o.create,destroy:o.destroy,parse:o.parse,find:o.find,registerPlugin:o.registerPlugin,setOptions:o.setOptions}}));document.removeEventListener("DOMContentLoaded",e)};if(document.readyState!=="loading"){setTimeout(function(){return Hc()},0)}else{document.addEventListener("DOMContentLoaded",Hc)}var Wc=function e(){return g(Sn(),function(e,t){o.OptionTypes[e]=t[1]})};o.Status=Object.assign({},Mn);o.FileOrigin=Object.assign({},mn);o.FileStatus=Object.assign({},vn);o.OptionTypes={};Wc();o.create=function e(){var t=wc.apply(void 0,arguments);t.on("destroy",o.destroy);qc.apps.push(t);return Ic(t)};o.destroy=function e(t){var n=qc.apps.findIndex(function(e){return e.isAttachedTo(t)});if(n>=0){var r=qc.apps.splice(n,1)[0];r.restoreElement();return true}return false};o.parse=function e(t){var n=Array.from(t.querySelectorAll("."+Uc));var r=n.filter(function(t){return!qc.apps.find(function(e){return e.isAttachedTo(t)})});return r.map(function(e){return o.create(e)})};o.find=function e(t){var n=qc.apps.find(function(e){return e.isAttachedTo(t)});if(!n){return null}return Ic(n)};o.registerPlugin=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}n.forEach(Lc);Wc()};o.getOptions=function e(){var n={};g(Sn(),function(e,t){n[e]=t[0]});return n};o.setOptions=function e(t){if(pe(t)){qc.apps.forEach(function(e){e.setOptions(t)});Rn(t)}return o.getOptions()}}o.supported=Bc,Object.defineProperty(o,"__esModule",{value:true})}(t)}).call(this,n(62))},function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){"use strict";if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{value:function e(t){if(this==null){throw new TypeError('"this" is null or not defined')}var n=Object(this);var r=n.length>>>0;if(typeof t!=="function"){throw new TypeError("predicate must be a function")}var o=arguments[1];var i=0;while(i<r){var a=n[i];if(t.call(o,a,i,n)){return a}i++}return undefined}})}if(!Array.prototype.findIndex){Object.defineProperty(Array.prototype,"findIndex",{value:function e(t){if(this==null){throw new TypeError('"this" is null or not defined')}var n=Object(this);var r=n.length>>>0;if(typeof t!=="function"){throw new TypeError("predicate must be a function")}var o=arguments[1];var i=0;while(i<r){var a=n[i];if(t.call(o,a,i,n)){return i}i++}return-1}})}if(!Array.from){Array.from=function(){var n=Object.prototype.toString;var l=function e(t){return typeof t==="function"||n.call(t)==="[object Function]"};var r=function e(t){var n=Number(t);if(isNaN(n)){return 0}if(n===0||!isFinite(n)){return n}return(n>0?1:-1)*Math.floor(Math.abs(n))};var o=Math.pow(2,53)-1;var f=function e(t){var n=r(t);return Math.min(Math.max(n,0),o)};return function e(t){var n=this;var r=Object(t);if(t==null){throw new TypeError("Array.from requires an array-like object - not null or undefined")}var o=arguments.length>1?arguments[1]:void undefined;var i;if(typeof o!=="undefined"){if(!l(o)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}}var a=f(r.length);var c=l(n)?Object(new n(a)):new Array(a);var s=0;var u;while(s<a){u=r[s];if(o){c[s]=typeof i==="undefined"?o(u,s):o.call(i,u,s)}else{c[s]=u}s+=1}c.length=a;return c}}()}if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function e(t,n){if(this==null){throw new TypeError('"this" is null or not defined')}var r=Object(this);var o=r.length>>>0;if(o===0){return false}var i=n|0;var a=Math.max(i>=0?i:o-Math.abs(i),0);function c(e,t){return e===t||typeof e==="number"&&typeof t==="number"&&isNaN(e)&&isNaN(t)}while(a<o){if(c(r[a],t)){return true}a++}return false}})}if(!Array.prototype.some){Array.prototype.some=function(e){if(this==null){throw new TypeError("Array.prototype.some called on null or undefined")}if(typeof e!=="function"){throw new TypeError}var t=Object(this);var n=t.length>>>0;var r=arguments.length>=2?arguments[1]:void 0;for(var o=0;o<n;o++){if(o in t&&e.call(r,t[o],o,t)){return true}}return false}}if(!Array.prototype.every){Array.prototype.every=function(e,t){var n,r;if(this==null){throw new TypeError("this is null or not defined")}var o=Object(this);var i=o.length>>>0;if(typeof e!=="function"){throw new TypeError}if(arguments.length>1){n=t}r=0;while(r<i){var a;if(r in o){a=o[r];var c=e.call(n,a,r,o);if(!c){return false}}r++}return true}}if(typeof Object.assign!="function"){Object.defineProperty(Object,"assign",{value:function e(t,n){if(t==null){throw new TypeError("Cannot convert undefined or null to object")}var r=Object(t);for(var o=1;o<arguments.length;o++){var i=arguments[o];if(i!=null){for(var a in i){if(Object.prototype.hasOwnProperty.call(i,a)){r[a]=i[a]}}}}return r},writable:true,configurable:true})}(function(){if(typeof window==="undefined"||typeof window.CustomEvent==="function")return false;function e(e,t){t=t||{bubbles:false,cancelable:false,detail:undefined};var n=document.createEvent("CustomEvent");n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);return n}e.prototype=window.Event.prototype;window.CustomEvent=e})()})?r.call(t,n,t,e):r)||(e.exports=o)},function(e,t,n){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OpenStadComponentIdeasOnMap});var merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21),merge__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_0__),react_device_detect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(432),react_device_detect__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_device_detect__WEBPACK_IMPORTED_MODULE_1__),_filterbar_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(437),_infobar_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(426),_preview_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(431),_map_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(446),_component_index_jsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10);function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var OpenStadComponentIdeasOnMap=function(_OpenStadComponent){_inherits(OpenStadComponentIdeasOnMap,_OpenStadComponent);var _super=_createSuper(OpenStadComponentIdeasOnMap);function OpenStadComponentIdeasOnMap(e){var t;_classCallCheck(this,OpenStadComponentIdeasOnMap);var n=_assertThisInitialized(t=_super.call(this,e,{display:{type:"complete",width:null,height:null},canSelectLocation:!0,onMarkerClickAction:"selectIdea",types:[],typeField:null,titleField:"title",summaryField:"summary",user:{},sort:{},api:{url:null,headers:null,isUserLoggedIn:!1},idea:{canAddNewIdeas:!0},content:{},search:{addresssesMunicipality:"amsterdam"}}));return n.config.ideaName=n.config.ideaName||"Inzendingen",n.config.doSearchFunction=n.config.doSearchFunction||n.doSearch.bind(n),n.config.typeField=n.config.typeField||"extraData.theme",n.config.types&&n.config.types.length&&n.config.types.forEach(function(t){if(t.value&&!t.name&&(t.name=t.value),t.mapicon&&"string"==typeof t.mapicon)try{t.mapicon=JSON.parse(t.mapicon)}catch(e){console.log(t),console.log(e)}if(t.listicon&&"string"==typeof t.listicon)try{t.listicon=JSON.parse(t.listicon)}catch(e){console.log(t),console.log(e)}if(t.buttonicon&&"string"==typeof t.buttonicon)try{t.buttonicon=JSON.parse(t.buttonicon)}catch(e){console.log(t),console.log(e)}}),n.state={status:"default",infobarOnMobileIsOpen:!1,ideas:[],visibleIdeas:[],listedIdeas:[],selectedIdea:null,selectedLocation:null,currentEditIdea:null},t}return _createClass(OpenStadComponentIdeasOnMap,[{key:"componentDidMount",value:function(){var o=this;window.addEventListener("hashchange",function(e){var t,n,r=window.location.hash.match(/(\w)(\d+)$/);r?(t=r[2],n=o.state.ideas&&o.state.ideas.find(function(e){return e.id==t}),"D"==r[1]&&o.showIdeaDetails(n),"S"==r[1]&&o.hideIdeaDetails()):("idea-details"==o.state.status&&o.hideIdeaDetails(),"idea-selected"==o.state.status&&o.setSelectedIdea(null))},!1),document.addEventListener("osc-map-is-ready",function(e){o.fetchData({}),o.map.map.on("zoomend",function(){o.onChangeMapBoundaries()}),o.map.map.on("moveend",function(){o.onChangeMapBoundaries()})}),document.addEventListener("osc-map-click",function(e){o.onMapClick(e.detail)}),document.addEventListener("osc-map-marker-click",function(e){o.onMarkerClick(e.detail)}),document.addEventListener("osc-map-cluster-click",function(e){o.onClusterClick(e.detail)}),document.addEventListener("osc-ideas-filter-onchange",function(e){o.onChangeFilter(e.detail)}),document.addEventListener("osc-set-selected-idea",function(e){o.onUpdateSelectedIdea(e.detail)}),document.addEventListener("osc-set-selected-location",function(e){o.setSelectedLocation(null)}),document.addEventListener("osc-new-idea-click",function(e){o.onNewIdeaClick({idea:e.detail.idea})}),document.addEventListener("osc-selected-idea-click",function(e){o.onSelectedIdeaClick({idea:e.detail.idea})}),document.addEventListener("osc-click-mobile-switcher",function(e){o.onClickMobileSwitcher()}),document.addEventListener("osc-idea-tile-click",function(e){o.onIdeaClick(e.detail.idea)}),document.addEventListener("osc-idea-tile-mouse-over",function(e){o.onTileMouseOver(e.detail.idea)}),document.addEventListener("osc-idea-tile-mouse-out",function(e){o.onTileMouseOut(e.detail.idea)}),document.addEventListener("osc-idea-liked",function(e){o.onIdeaLiked(e.detail)}),document.addEventListener("osc-new-reaction-stored",function(e){o.onReactionStored(e.detail,!0)}),document.addEventListener("osc-reaction-edited",function(e){o.onReactionStored(e.detail)}),document.addEventListener("osc-reaction-deleted",function(e){o.onReactionDeleted(e.detail)}),document.addEventListener("osc-edit-idea-button-click",function(e){o.onEditIdeaClick(e.detail)}),document.addEventListener("osc-idea-deleted",function(e){o.onIdeaDeleted(e.detail)}),document.addEventListener("osc-idea-stored",function(e){document.location.href="#",o.onIdeaStored(e.detail.idea)})}},{key:"fetchData",value:function(e){for(var n=e.showIdeaDetails,r=e.showIdeaSelected,i=this,t="".concat(i.config.api.url,"/api/site/").concat(i.config.siteId,"/idea?includeVoteCount=1&includeArgsCount=1&includeUser=1"),o=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_7__.a.api.getHeaders(i.config);0<i.map.markers.length;){var a=i.map.markers[0];i.map.removeMarker(a)}i.map.markers=[],fetch(t,{headers:o}).then(function(e){return e.json()}).then(function(e){!(n=n||window.location.hash.match(/^#D(\d+)/)&&window.location.hash.match(/^#D(\d+)/)[1])&&_libs_index_jsx__WEBPACK_IMPORTED_MODULE_7__.a.localStorage.get("osc-login-pending-show-details")&&(n=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_7__.a.localStorage.get("osc-login-pending-show-details"),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_7__.a.localStorage.remove("osc-login-pending-show-details")),r=r||window.location.hash.match(/^#S(\d+)/)&&window.location.hash.match(/^#S(\d+)/)[1];var t=e.filter(function(e){return e.location});i.updateListedIdeas({ideas:t,sortOrder:i.config.sort.defaultValue}),t.map(function(e){e.id==n&&(n=e),e.id==r&&(r=e),e.image=e.posterImage&&e.posterImage.key||e.extraData&&e.extraData.images&&e.extraData.images[0]||"https://stemvanwest.amsterdam.nl/img/placeholders/idea.jpg",i.map.addIdea(e)}),i.map.setBoundsAndCenter(),i.setState({ideas:t},function(){var e,o;i.setInfobarOnMobileIsOpen(i.config.startWithListOpenOnMobile),"object"==_typeof(r)&&null!=r&&(i.setCurrentEditIdea(null),i.setSelectedIdea(r,function(){})),"object"==_typeof(n)&&null!=n&&i.showIdeaDetails(n),window.location.hash.match(/^#newidea/)&&(e=window.location.hash.match(/&([^&]+)=([^&]+)/g),o={},e&&e.forEach(function(e){var t=_slicedToArray(e.split("="),2),n=t[0],r=t[1],n=n.substring(1,n.length);o[n]=decodeURIComponent(r);try{o[n]=JSON.parse(o[n])}catch(e){}}),i.setCurrentEditIdea(o,function(e){e.location&&i.setSelectedLocation(e.location),i.showIdeaForm()})),i.onChangeMapBoundaries()})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"updateListedIdeas",value:function(e){var t=e.ideas,n=void 0===t?this.getVisibleIdeas():t,r=e.sortOrder,o=void 0===r?this.state.currentSortOrder:r,i=e.center,a=void 0===i?{lat:52.37104644463586,lng:4.900402911007405}:i,c=e.maxLength;o&&(n=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_7__.a.ideasSort({ideas:n,sortOrder:o,center:a})),c&&(n=n.splice(0,c)),this.setState({listedIdeas:n})}},{key:"setSelectedIdea",value:function(t,e){var n=this;n.setCurrentEditIdea(null),n.setSelectedLocation(null);var r=t?"idea-selected":n.state.status;n.setState({selectedIdea:t,status:r},function(){if(t?(n.map.fadeMarkers({exception:t}),n.updateListedIdeas({ideas:n.state.ideas.filter(function(e){return e.id!=t.id}),sortOrder:"distance",center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5})):(n.map&&n.map.unfadeAllMarkers(),n.updateListedIdeas({ideas:n.getVisibleIdeas()})),e)return e(t)})}},{key:"setSelectedLocation",value:function(t,n){var r,e,o=this;t&&t.coordinates&&(t.lat=t.coordinates[0],t.lng=t.coordinates[1]),o.map&&o.map.setSelectedLocation(t),t?(t.isPointInPolygon=o.map.isPointInPolygon(t,o.config.map.polygon),o.map.fadeMarkers({}),r=o.state.selectedIdea&&o.state.selectedIdea.id,o.updateListedIdeas({ideas:o.state.ideas.filter(function(e){return e.id!=r}),sortOrder:"distance",center:t,maxLength:5}),o.setState({selectedLocation:t},function(){o.state.currentEditIdea&&o.updateCurrentEditIdea({location:t},function(e){o.updateLocationAddress(e.location)}),n&&n(o.state.selectedLocation)}),e=new window.CustomEvent("osc-update-location",{detail:{location:t}}),document.dispatchEvent(e)):o.setState({selectedLocation:null},function(){o.map.unfadeAllMarkers(),o.updateListedIdeas({ideas:o.getVisibleIdeas()});var e=new window.CustomEvent("osc-update-location",{detail:{location:t}});document.dispatchEvent(e),n&&n(o.state.selectedLocation)})}},{key:"updateLocationAddress",value:function(n){n&&(n.coordinates&&(n.lat=n.coordinates[0],n.lng=n.coordinates[1]),this.map.searchAddressByLatLng({latlng:n,addresssesMunicipality:this.config.search.addresssesMunicipality,next:function(e){n.address=e&&e.address||"Geen adres gevonden";var t=new window.CustomEvent("osc-update-location",{detail:{location:n}});document.dispatchEvent(t)}}))}},{key:"showIdeaDetails",value:function(e){var t=this,n=this;n.setSelectedIdea(e),n.openInfobarOnMobile(),n.setState({status:"idea-details"},function(){t.map.fadeMarkers({exception:e}),n.map.map.invalidateSize(),n.map.map.panTo({lat:e.location.coordinates[0],lng:e.location.coordinates[1]})})}},{key:"hideIdeaDetails",value:function(){var e=this;e.setState({status:"idea-selected"},function(){var t=e.state.selectedIdea;t&&e.updateListedIdeas({ideas:e.state.ideas.filter(function(e){return e.id!=t.id}),sortOrder:"distance",center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5}),e.map.showMarkers({}),e.map.map.invalidateSize()})}},{key:"setCurrentEditIdea",value:function(e,t){var n=e;return this.setState({currentEditIdea:n},function(){if(t)return t(n)})}},{key:"updateCurrentEditIdea",value:function(e,t){var n=this.state.currentEditIdea,n=merge__WEBPACK_IMPORTED_MODULE_0___default.a.recursive(n,e);return this.setCurrentEditIdea(n,t)}},{key:"showIdeaForm",value:function(){var e,t=this,n=t.state.currentEditIdea;t.config.idea.formUrl?(e=(e=(e=(e=(e=t.config.idea.formUrl).replace(/:ideaId/,"number"==typeof n.id?n.id:"")).replace(/:location/,n.location?JSON.stringify({lat:n.location.coordinates[0],lng:n.location.coordinates[1]}):"")).replace(/:typeId/,n.typeId)).replace(/:address/,n.address),document.location.href=e):t.setState({status:"idea-form"},function(){t.map.map.invalidateSize(),t.map.hideMarkers({exception:{location:n&&n.location?{lat:n.location.coordinates[0],lng:n.location.coordinates[1]}:t.map.selectedLocation}});var e=n.location||t.state.selectedLocation;t.updateLocationAddress(e)})}},{key:"hideIdeaForm",value:function(){var e,t,n=this;this.state.currentEditIdea&&"number"==typeof this.state.currentEditIdea.id?(e=n.state.ideas.find(function(e){return e.id==n.state.currentEditIdea.id}),n.showIdeaDetails(e),document.location.href="#D"+e.id):(t=n.state.currentEditIdea&&n.state.currentEditIdea.location||n.state.selectedLocation)?(t.isPointInPolygon=this.map.isPointInPolygon(t,this.config.map.polygon),n.setState({status:"location-selected"},function(){n.map.showMarkers({})})):n.setState({status:"default"},function(){n.map.showMarkers({}),n.setCurrentEditIdea(null)})}},{key:"setInfobarOnMobileIsOpen",value:function(e,t){this.setState({infobarOnMobileIsOpen:e}),t&&t()}},{key:"openInfobarOnMobile",value:function(e){this.setState({infobarOnMobileIsOpen:!0}),e&&e()}},{key:"closeInfobarOnMobile",value:function(e){this.setState({infobarOnMobileIsOpen:!1}),e&&e()}},{key:"doSearch",value:function doSearch(searchValue,callback){var self=this,searchValueLc=searchValue.toLowerCase(),searchResult={ideas:[],locations:[]};function onClickAddress(e){self.map.LookupLatLngByAddressId({id:e,addresssesMunicipality:self.config.search.addresssesMunicipality,next:function(e){console.log(e);var t=e.centroide_ll.match(/POINT\((\d+\.\d+) (\d+\.\d+)\)/);self.map.map.panTo(new L.LatLng(t[2],t[1])),self.onMapClick({latlng:{lat:t[2],lng:t[1]}},!0)}})}this.state.ideas.forEach(function(idea){var title=eval("idea.".concat(self.config.titleField))||"",titlelLc=title.toLowerCase(),summary=eval("idea.".concat(self.config.summaryField))||"",summaryLc=summary.toLowerCase();(titlelLc.match(searchValueLc)||summaryLc.match(searchValueLc))&&searchResult.ideas.push({text:title,onClick:function(){self.onUpdateSelectedIdea(idea)}})}),self.map.suggestAddresses({searchValue:searchValueLc,addresssesMunicipality:self.config.search.addresssesMunicipality,next:function(e){searchResult.locations=e&&e.map(function(e){return e.onClick=function(){return onClickAddress(e.id)},e}),callback(searchValue,searchResult)}})}},{key:"getVisibleIdeas",value:function(){var e=this.map.getVisibleIdeas();return this.setState({visibleIdeas:e}),e}},{key:"onMapClick",value:function(e,t){var n=this;if(1==this.state.infobarOnMobileIsOpen&&react_device_detect__WEBPACK_IMPORTED_MODULE_1__.isMobile)this.closeInfobarOnMobile();else switch(this.state.status){case"idea-details":this.hideIdeaDetails(),document.location.href="#S"+this.state.selectedIdea.id;break;case"idea-form":this.map.isPointInPolygon(e.latlng,this.config.map.polygon)&&this.setSelectedLocation(e.latlng);break;default:if(!this.state.selectedIdea&&!this.state.selectedLocation||t){if(!this.config.canSelectLocation)break;this.setSelectedLocation(e.latlng,function(e){n.setState({status:"location-selected"}),n.updateLocationAddress(e)})}else this.setState({status:"default"}),document.location.href="#",this.setSelectedIdea(null),this.updateListedIdeas({ideas:this.getVisibleIdeas()});this.map.updateFading(),document.querySelector("#osc-ideas-on-map-info").scrollTo(0,0)}}},{key:"onMarkerClick",value:function(e){if(1==this.state.infobarOnMobileIsOpen&&react_device_detect__WEBPACK_IMPORTED_MODULE_1__.isMobile)this.closeInfobarOnMobile();else switch(this.state.status){case"idea-details":this.onUpdateSelectedIdea(e.target.data),this.showIdeaDetails(e.target.data),document.querySelector("#osc-ideas-on-map-info")&&document.querySelector("#osc-ideas-on-map-info").scrollTo(0,0);break;case"idea-form":break;default:this.state.currentEditIdea||this.state.selectedLocation?(this.setSelectedIdea(null),this.setState({status:"default"}),this.setCurrentEditIdea(null),this.onUpdateSelectedIdea(null)):(this.onUpdateSelectedIdea(e.target.data),"showIdeaDetails"==this.config.onMarkerClickAction&&this.showIdeaDetails(e.target.data)),document.querySelector("#osc-ideas-on-map-info")&&document.querySelector("#osc-ideas-on-map-info").scrollTo(0,0)}}},{key:"onClusterClick",value:function(){1==this.state.infobarOnMobileIsOpen&&react_device_detect__WEBPACK_IMPORTED_MODULE_1__.isMobile?this.closeInfobarOnMobile():(this.setState({status:"default"}),this.setCurrentEditIdea(null),this.setSelectedIdea(null))}},{key:"onChangeMapBoundaries",value:function(){var t,e=this;if(e.map)switch(e.map.updateFading(),e.state.status){case"idea-form":break;case"idea-selected":case"location-selected":!e.infobar||(t=e.state.selectedIdea||e.state.currentEditIdea)&&e.updateListedIdeas({ideas:e.state.ideas.filter(function(e){return e.id!=t.id}),sortOrder:"distance",center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5});break;default:e.infobar&&e.updateListedIdeas({ideas:e.getVisibleIdeas()})}}},{key:"onUpdateSelectedIdea",value:function(e){var t=this,n=e?"idea-selected":"default";document.location.href=e?"#S"+e.id:"#",this.setState({status:n},function(){t.setSelectedIdea(e)})}},{key:"onIdeaClick",value:function(e){document.location.href="#D"+e.id}},{key:"onEditIdeaClick",value:function(e){var t=this;t.setCurrentEditIdea(e,function(e){t.showIdeaForm()})}},{key:"onIdeaDeleted",value:function(){var e=this;e.setCurrentEditIdea(null),e.setSelectedIdea(null),e.setSelectedLocation(null),e.setState({status:"default"},function(){e.map.setBoundsAndCenter(),e.fetchData({})})}},{key:"onDeleteIdeaClick",value:function(e){console.log("Delete idea",e.id)}},{key:"onSelectedIdeaClick",value:function(e){var t=e.idea;document.location.href="#D"+t.id}},{key:"onNewIdeaClick",value:function(e){var t=e.idea,n=this,r=merge__WEBPACK_IMPORTED_MODULE_0___default.a.recursive(this.state.currentEditIdea||{},this.state.selectedLocation);r.typeId=t&&t.typeId,n.setCurrentEditIdea(r,function(e){n.showIdeaForm()})}},{key:"onIdeaStored",value:function(e){this.setCurrentEditIdea(null),this.fetchData({showIdeaDetails:e.id})}},{key:"onIdeaLiked",value:function(t){this.state.ideas.find(function(e){return e.id==t.ideaId}).yes+=t.change}},{key:"onReactionStored",value:function(t,e){e&&this.state.ideas.find(function(e){return e.id==t.ideaId}).argCount++}},{key:"onReactionDeleted",value:function(t){this.state.ideas.find(function(e){return e.id==t.ideaId}).argCount--}},{key:"onChangeFilter",value:function(){this.setSelectedIdea(null),this.setCurrentEditIdea(null),this.setSelectedLocation(null),this.setState({status:"default"}),this.onChangeMapBoundaries()}},{key:"onTileMouseOver",value:function(e){this.map.fadeMarkers({exception:e}),this.map.updateFading()}},{key:"onTileMouseOut",value:function(){this.map.unfadeAllMarkers(),this.state.selectedIdea&&this.map.fadeMarkers({exception:this.state.selectedIdea}),this.map.selectedLocation&&this.map.fadeMarkers({}),this.map.updateFading()}},{key:"onClickBackToOverview",value:function(){this.hideIdeaDetails(),document.location.href="#S"+this.state.selectedIdea.id}},{key:"onClickMobileSwitcher",value:function(){var t=this,n=this;n.setInfobarOnMobileIsOpen(!this.state.infobarOnMobileIsOpen,function(e){"location-selected"!=n.state.status&&"idea-selected"!=t.state.status||(n.state.selectedIdea||n.state.currentEditIdea,n.map.setBoundsAndCenter())})}},{key:"render",value:function render(){var _this6=this,infoHTML=null,filterHTML=null,mobilePopupHTML=null,location;switch(this.state.status){case"idea-details":infoHTML=React.createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_3__.a,{config:this.config,displayType:"details",selectedIdea:this.state.selectedIdea,idea:this.state.selectedIdea,className:"osc-ideas-on-map-info",ref:function(e){return _this6.infobar=e}}),filterHTML=React.createElement("div",{className:"osc-ideas-filterbar"},React.createElement("div",{className:"osc-backbutton",onClick:function(){return _this6.onClickBackToOverview()}},"Terug naar overzicht"));break;case"idea-form":infoHTML=React.createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_3__.a,{config:this.config,displayType:"form",selectedIdea:this.state.selectedIdea,idea:_objectSpread(_objectSpread({},this.state.currentEditIdea),{},{user:this.state.currentEditIdea&&this.state.currentEditIdea.user||this.config.user}),className:"osc-ideas-on-map-info",ref:function(e){return _this6.infobar=e}}),filterHTML=React.createElement("div",{className:"osc-ideas-filterbar"},React.createElement("div",{className:"osc-backbutton",onClick:function(){return _this6.hideIdeaForm()}},"Terug naar ",this.state.currentEditIdea&&"number"==typeof this.state.currentEditIdea.id?"idee":"overzicht"));break;case"location-selected":case"idea-selected":"location-selected"==this.state.status?(location=this.state.selectedLocation||this.state.currentEditIdea&&this.state.currentEditIdea.location||{},location.isPointInPolygon=this.map.isPointInPolygon(location,this.config.map.polygon),location.isPointInPolygon&&(mobilePopupHTML=React.createElement(_preview_jsx__WEBPACK_IMPORTED_MODULE_4__.a,{config:_objectSpread(_objectSpread({},this.config),{},{display:{type:"mobilePreview"}}),selectedLocation:location}))):mobilePopupHTML=React.createElement("div",{className:"osc-mobile-popup osc-clickable",onClick:function(){_this6.openInfobarOnMobile(),document.location.href="#D"+_this6.state.selectedIdea.id}},React.createElement("div",{className:"osc-image",style:{backgroundImage:"url(".concat(this.state.selectedIdea&&this.state.selectedIdea.image,")")}}),eval(this.state.selectedIdea&&"this.state.selectedIdea.".concat(this.config.titleField))),infoHTML=React.createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_3__.a,{config:this.config,selectedIdea:this.state.selectedIdea,selectedLocation:this.state.selectedLocation,currentEditIdea:this.state.currentEditIdea,ideas:this.state.listedIdeas,id:"osc-ideas-on-map-info",className:"osc-ideas-on-map-info",infobarOnMobileIsOpen:this.state.infobarOnMobileIsOpen,ref:function(e){return _this6.infobar=e}}),filterHTML=React.createElement(_filterbar_jsx__WEBPACK_IMPORTED_MODULE_2__.a,{config:this.config,className:"osc-ideas-filterbar"});break;default:infoHTML=React.createElement(_infobar_jsx__WEBPACK_IMPORTED_MODULE_3__.a,{config:this.config,selectedIdea:this.state.selectedIdea,ideas:this.state.listedIdeas,id:"osc-ideas-on-map-info",className:"osc-ideas-on-map-info",infobarOnMobileIsOpen:this.state.infobarOnMobileIsOpen,ref:function(e){return _this6.infobar=e}}),filterHTML=React.createElement(_filterbar_jsx__WEBPACK_IMPORTED_MODULE_2__.a,{config:this.config,className:"osc-ideas-filterbar"}),mobilePopupHTML=null}var divStyle={},simpleHTML=null,buttonHTML;return"simple"==this.config.display.type&&(filterHTML=null,infoHTML=null,mobilePopupHTML=null,buttonHTML=null,this.config.linkToCompleteUrl&&(buttonHTML=React.createElement("button",{onClick:function(){document.location.href=_this6.config.linkToCompleteUrl},className:"osc-button-blue",style:{position:"absolute",top:20,right:20}},"Bekijk de volledige kaart")),simpleHTML=React.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:400}},buttonHTML),this.config.display.width&&(divStyle.width=this.config.display.width),this.config.display.height&&(divStyle.height=this.config.display.height)),React.createElement("div",{id:this.divId,className:"osc-ideas-on-map osc-ideas-on-map-".concat(this.state.status," osc-mobile-").concat(this.state.infobarOnMobileIsOpen?"opened":"closed"),style:divStyle,ref:function(e){return _this6.instance=e}},filterHTML,infoHTML,React.createElement("div",{className:"osc-ideas-on-map-map osc-ideas-on-map-map-".concat(this.config.display.type)},React.createElement(_map_jsx__WEBPACK_IMPORTED_MODULE_5__.a,{id:this.divId+"-map",config:_objectSpread(_objectSpread({},this.config.map),{},{types:this.config.types,typeField:this.config.typeField,zoomControl:"simple"!=this.config.display.type}),ref:function(e){return _this6.map=e}})),simpleHTML,mobilePopupHTML)}}]),OpenStadComponentIdeasOnMap}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_6__.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return I});var o=n(7),i=n(165);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function a(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=f(i);return t=a?(e=f(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==c(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,i["IdeasOverview"]);var e,t,n,r=l(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var t=this,e=void 0!==t.props.ideas?t.props.ideas:t.state.ideas||[],n=React.createElement("h3",{className:"osc-title"},t.props.title||t.config.title," (",e.length,")");return React.createElement("div",{id:t.id,className:"osc-ideas-overview ".concat(t.props.className||"")},React.createElement(i.IdeasFilterbar,{config:t.config,showFilterbar:t.props.showFilterbar,className:"osc-ideas-filterbar"}),React.createElement(i.IdeasSort,{config:a({},t.config.sort),ideas:e,showSort:!t.props.hideSortButton,className:"osc-align-right-container",ref:function(e){return t.sorter=e}}),n,React.createElement(i.IdeasList,{config:t.config,ideas:e,className:""}))}}])&&s(e.prototype,t),n&&s(e,n),o}(),p=n(430),h=n(445),v=n(431);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function y(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=O(i);return t=a?(e=O(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==m(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(r,o["a"]);var n=w(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e,{display:{columns:1,showFilterbar:!1},idea:{canAddNewIdeas:!0,showVoteButtons:!0},argument:{isActive:!0,ignoreReactionsForIdeaIds:""},types:[]})).config.loginUrl=t.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),e.config.content.noSelectionHTML&&!e.config.content.noSelectionLoggedInHTML&&(t.config.content.noSelectionLoggedInHTML=e.config.content.noSelectionHTML),e.config.content.noSelectionHTML&&!e.config.content.noSelectionNotLoggedInHTML&&(t.config.content.noSelectionNotLoggedInHTML=e.config.content.noSelectionHTML),t.state={currentSortOrder:t.config.defaultValue,infobarOnMobileIsOpen:e.infobarOnMobileIsOpen||!1},t}return _(r,[{key:"updateIdeas",value:function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),console.log("updateIdeas moet weg")}}]),_(r,[{key:"componentDidMount",value:function(){var t=this;t.setSelectedLocationListener=function(e){t.setNewIdea(e.detail)},document.addEventListener("osc-set-selected-location",t.setSelectedLocationListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-set-selected-location",this.setSelectedLocationListener)}},{key:"setNewIdea",value:function(){console.log("DEZE MOET WEG"),this.setState(y(y({},this.state),{},{selectedIdea:null}))}},{key:"dispatchClickMobileSwitcher",value:function(e){e.stopPropagation();var t=new window.CustomEvent("osc-click-mobile-switcher",{detail:{}});document.dispatchEvent(t)}},{key:"render",value:function(){var t=this,n=this,e=y({},n.config);if(e.display.type="list",this.props.idea&&this.props.idea.extraData&&this.props.idea.extraData.type&&("Kans"==this.props.idea.extraData.type||"Knelpunt"==this.props.idea.extraData.type)&&(e.types=[{name:"Kans",label:"Dit gaat goed",value:"Kans",buttonLabel:"Ik wil een idee posten",backgroundColor:"#bed200",textColor:"black"},{name:"Knelpunt",label:"Dit kan beter",value:"Knelpunt",backgroundColor:"#ff9100",textColor:"black"}],e.typeField="extraData.type",e.showLabels=!0),"details"==n.props.displayType)return React.createElement(p.default,{config:e,idea:this.props.idea,className:n.props.className||"osc-infobar-idea-details",ref:function(e){return t.ideadetails=e}});if("form"==n.props.displayType)return React.createElement(h.a,{config:e,idea:this.props.idea,className:"osc-ideas-on-map-info",ref:function(e){return t.ideaform=e}});var r,o=n.props.ideas,i="",a="",c=!1;(n.props.currentEditIdea||n.props.selectedLocation)&&(i="in de buurt",a="Meer details en acties",c=!0),n.props.selectedIdea&&(i="in de buurt",a="Meer details",c=!0),i=i||"in dit gebied",n.props.currentEditIdea||n.props.selectedIdea||(a="".concat(e.ideaName," in dit gebied (").concat(o&&o.length||0,")")),n.state.infobarOnMobileIsOpen&&(a="Terug naar de kaart"),r=React.createElement("div",{className:"osc-mobile-switcher",onClick:function(e){return n.dispatchClickMobileSwitcher(e)}},a);var s=e.ideaName+" "+i;return e.display.onMouseOverTileFadeOthers=!0,React.createElement("div",{id:n.props.id,className:n.props.className||"osc-infobar",ref:function(e){return n.instance=e}},r,React.createElement("div",{className:"osc-info-content"},React.createElement(v.a,{config:e,selectedIdea:n.props.selectedIdea,selectedLocation:n.props.currentEditIdea||n.props.selectedLocation}),React.createElement(d,{config:e,ideas:o,hideSortButton:c,title:s,ref:function(e){return n.list=e}})))}}]),r}()},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(12),o=n.n(r),i=n(38),a=n.n(i),c=(n(438),n(410));n.d(t,"default",function(){return c.a}),n.d(t,"Lightbox",function(){return c.a}),c.a.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(c.a,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t);var r=n(12),o=n.n(r),i=n(38),a=n.n(i),c=(n(440),n(411));n.d(t,"default",function(){return c.a}),n.d(t,"BaseMap",function(){return c.a}),c.a.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(c.a,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t);var r=n(12),o=n.n(r),i=n(38),a=n.n(i),c=(n(442),n(412));n.d(t,"default",function(){return c.a}),n.d(t,"IdeaDetails",function(){return c.a}),c.a.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(c.a,{attributes:n,config:t}),e)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Preview});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),_image_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(113),_ideas_overview_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(165);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Preview=function(_OpenStadComponent){_inherits(Preview,_OpenStadComponent);var _super=_createSuper(Preview);function Preview(e){var t;return _classCallCheck(this,Preview),(t=_super.call(this,e,{display:{type:"idea-selection"},api:{},content:{noSelectionLoggedInHTML:"",noSelectionNotLoggedInHTML:"",selectionActiveLoggedInHTML:"Ingelogd: er is een punt geselecteerd binnen de polygon, met een adres: {address} en {addButton}.",selectionInactiveLoggedInHTML:"Ingelogd: er is een punt geselecteerd buiten de polygon, met een {address}",selectionActiveNotLoggedInHTML:'Niet ingelogd: er is een punt geselecteerd binnen de polygon, met een adres: {address} en {loginButton} of <a href="{loginLink}">login link</a>.',selectionInactiveNotLoggedInHTML:"Niet ingelogd: er is een punt geselecteerd buiten de polygon, met een {address}",mobilePreviewLoggedInHTML:"Een locatie vlakbij <h4>{address}</h4>{addButton}",mobilePreviewNotLoggedInHTML:'Een locatie vlakbij <h4>{address}</h4><div>Wilt u een nieuw punt toevoegen? Dan moet u eerst <a href="{loginLink}">inloggen</a>.</div>',showNoSelectionOnMobile:!1},idea:{canAddNewIdeas:!0,showVoteButtons:!0}})).config.loginUrl=t.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),e.config.content=e.config.content||{},e.config.content.noSelectionHTML&&!e.config.content.noSelectionLoggedInHTML&&(t.config.content.noSelectionLoggedInHTML=e.config.content.noSelectionHTML),e.config.content.noSelectionHTML&&!e.config.content.noSelectionNotLoggedInHTML&&(t.config.content.noSelectionNotLoggedInHTML=e.config.content.noSelectionHTML),t.state={},t}return _createClass(Preview,[{key:"componentDidMount",value:function(){var t=this;t.updateLocationListener=function(e){t.updateLocation(e.detail&&e.detail.location)},document.addEventListener("osc-update-location",t.updateLocationListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-update-location",this.updateLocationListener)}},{key:"updateLocation",value:function(e){e&&this.setState({location:e,address:e.address})}},{key:"dispatchOnButtonIdeaClick",value:function(e,t){var n=new window.CustomEvent("osc-selection-button-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchNewIdeaClick",value:function(e,t){var n=new window.CustomEvent("osc-new-idea-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchSelectedIdeaClick",value:function(e,t){var n=new window.CustomEvent("osc-selected-idea-click",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchClosePreview",value:function(e,t){var n;e.stopPropagation(),"idea"==t&&(n=new window.CustomEvent("osc-set-selected-idea",{detail:null})),"location"==t&&(n=new window.CustomEvent("osc-set-selected-location",{detail:null})),document.dispatchEvent(n)}},{key:"render",value:function render(){var _this2=this,self=this;if("mobilePreview"==self.config.display.type){var contentHTML=this.config.api.isUserLoggedIn?this.config.content.mobilePreviewLoggedInHTML:this.config.content.mobilePreviewNotLoggedInHTML,_addButton=null,_loginButton=null,_loginLink=null;this.config.api.isUserLoggedIn?this.config.idea.canAddNewIdeas&&(_addButton=React.createElement("button",{className:"osc-button osc-button-blue",onClick:function(e){_this2.onClickMobileSwitcher(e),_this2.onNewIdeaClick(e)},ref:function(e){return self.newIdeaButton=e}},"Nieuw punt toevoegen")):this.config.idea.canAddNewIdeas&&(_loginButton=React.createElement("button",{onClick:function(){document.location.href="/oauth/login?returnTo="+encodeURIComponent(document.location.href)},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"),_loginLink="javascript: document.location.href = '/oauth/login?returnTo=' + encodeURIComponent(document.location.href)");var address=this.state.address||this.props.selectedLocation.address||"[adres wordt gezocht...]",contentHTML=contentHTML.replace(/\{address\}/g,address||"");return contentHTML=contentHTML.replace(/\{loginLink\}/g,_loginLink),contentHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.reactTemplate({html:contentHTML,addButton:_addButton,loginButton:_loginButton}),React.createElement("div",{className:"osc-mobile-popup"},contentHTML)}var selectedLocationHTML=null,selectedIdeaHTML=null,titleAddition="",mobileSwitcherHTML=null,mobileTitle="",addButton=null,loginButton=null,loginLink=null,_contentHTML,_contentHTML,_address;if(self.config.idea.canAddNewIdeas&&(addButton=self.config.types&&"typeId"==self.config.typeField?React.createElement("span",{className:"osc-new-idea-buttons"},self.config.types.map(function(e,t){var n=e;if(!n.auth||n.auth.createableBy&&_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.user.hasRole(self.config.user,n.auth.createableBy)){var r=n?React.createElement("div",{className:"osc-button-background-image",dangerouslySetInnerHTML:{__html:n.buttonicon&&n.buttonicon.html||""}}):null;return React.createElement("button",{className:"osc-button osc-button-white"+(n&&n.auth&&n.auth.createableBy?" osc-button-required-role-is-".concat(n.auth.createableBy):""),onClick:function(e){return self.dispatchNewIdeaClick(e,{typeId:n.id||n.name})},key:"osc-button-".concat(t)},r,n&&n.buttonLabel||"Nieuw punt toevoegen")}return null})):React.createElement("button",{className:"osc-button osc-button-blue",onClick:function(e){return self.dispatchNewIdeaClick(e)}},"Nieuw punt toevoegen"),loginButton=React.createElement("button",{onClick:function(){document.location.href=_this2.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"),loginLink="javascript: document.location.href = '".concat(this.config.loginUrl,"'")),self.props.selectedLocation&&(_contentHTML=null,_contentHTML=self.props.selectedLocation.isPointInPolygon?self.config.api.isUserLoggedIn?self.config.content.selectionActiveLoggedInHTML:self.config.content.selectionActiveNotLoggedInHTML:self.config.api.isUserLoggedIn?self.config.content.selectionInactiveLoggedInHTML:self.config.content.selectionInactiveNotLoggedInHTML,_address=this.state.address||this.props.selectedLocation.address||"[adres wordt gezocht...]",_contentHTML=_contentHTML.replace(/\{address\}/g,_address||""),_contentHTML=_contentHTML.replace(/\{loginLink\}/g,loginLink),_contentHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.reactTemplate({html:_contentHTML,addButton:addButton,loginButton:loginButton}),selectedLocationHTML=React.createElement("div",{className:"osc-infobar-new-idea"},React.createElement("button",{className:"osc-close-button-black",onClick:function(e){return self.dispatchClosePreview(e,"location")},ref:function(e){return self.resetButton=e}}),_contentHTML),titleAddition="in de buurt",mobileTitle="Meer details en acties"),self.props.selectedIdea){var idea=self.props.selectedIdea,ideaTypeValue;try{ideaTypeValue=eval("idea.".concat(self.config.typeField))}catch(e){ideaTypeValue=""}var typeDef=self.config.types.find(function(e){return e.name==ideaTypeValue||e.id==ideaTypeValue});typeDef&&typeDef.listicon||(typeDef={listicon:{html:""}});var voteCountHTML=null;this.config.idea.showVoteButtons&&(voteCountHTML=React.createElement("div",{className:"osc-likes"},idea.yes||0));var argcountHTML=null;this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)")))&&(argcountHTML=React.createElement("div",{className:"osc-reactions"},idea.argCount||0));var config=_objectSpread({},self.config);config.display.showStats=!0,config.display.showTypeIcon=!0,selectedIdeaHTML=React.createElement("div",{className:"osc-infobar-selected-idea",onClick:function(e){return self.dispatchSelectedIdeaClick(e,self.props.selectedIdea)}},React.createElement("button",{className:"osc-close-button-black",onClick:function(e){return self.dispatchClosePreview(e,"idea")},ref:function(e){return self.resetButton=e}}),React.createElement("h3",null,"Geselecteerd"),React.createElement(_ideas_overview_index_jsx__WEBPACK_IMPORTED_MODULE_3__.IdeaTile,{config:config,idea:idea,className:"osc-".concat(self.config.display.columns,"-columns").concat(this.config.display.onMouseOverTileFadeOthers&&self.state.highLightIdeaId&&self.state.highLightIdeaId!=idea.id?" osc-opacity-65":""),key:"osc-idea-tile-".concat(idea.id)})),titleAddition="in de buurt",mobileTitle="Meer details"}var defaultBlockHTML=null,noSelectionHTML,noSelectionHTML;return selectedLocationHTML||selectedIdeaHTML||(noSelectionHTML=self.config.api.isUserLoggedIn?self.config.content.noSelectionLoggedInHTML:self.config.content.noSelectionNotLoggedInHTML,noSelectionHTML=noSelectionHTML||null,noSelectionHTML&&(noSelectionHTML=noSelectionHTML.replace(/\{loginLink\}/g,loginLink),noSelectionHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.reactTemplate({html:noSelectionHTML,addButton:addButton,loginButton:loginButton}),defaultBlockHTML=React.createElement("div",{className:"osc-infobar-default-block".concat(self.config.content.showNoSelectionOnMobile?" osc-visible-on-mobile":"")},noSelectionHTML)),mobileTitle="".concat(self.config.ideaName," in dit gebied (").concat(self.state.ideas&&self.state.ideas.length||0,")")),selectedLocationHTML||selectedIdeaHTML||defaultBlockHTML?React.createElement("div",{className:"osc-selection-block"},defaultBlockHTML,selectedLocationHTML,selectedIdeaHTML):null}}]),Preview}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function b(e,t){return e||(1<arguments.length&&void 0!==t?t:"none")}function r(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)}function o(e){var t=r();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&1<t.maxTouchPoints&&!window.MSStream)}var i,a=n(12),c=(i=a)&&"object"==typeof i&&"default"in i?i.default:i,s=new(n(450)),_=s.getBrowser(),E=(s.getCPU(),s.getDevice()),w=s.getEngine(),O=s.getOS(),I=s.getUA();function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function p(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(i,!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):d(i).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n,r){return p({},e,{vendor:b(t.vendor),model:b(t.model),os:b(n.name),osVersion:b(n.version),ua:b(r)})}var g="mobile",y="tablet",S="smarttv",R="console",P="wearable",C=void 0,k="Chrome",L="Firefox",M="Opera",x="Yandex",D="Safari",A="Internet Explorer",j="Edge",N="Chromium",F="IE",G="Mobile Safari",B="MIUI Browser",q="iOS",U="Android",V="Windows Phone",H="Windows",W="Mac OS",z={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},Y=function(e){switch(e){case g:return{isMobile:!0};case y:return{isTablet:!0};case S:return{isSmartTV:!0};case R:return{isConsole:!0};case P:return{isWearable:!0};case C:return{isBrowser:!0};default:return z}}(E.type);function K(){return"string"==typeof I&&-1!==I.indexOf("Edg/")}function X(){return _.name===j}function Q(){return o("iPad")}var J,Z,$,ee=E.type===S,te=E.type===R,ne=E.type===P,re=_.name===G||Q(),oe=_.name===N,ie=function(){switch(E.type){case g:case y:return!0;default:return!1}}()||Q(),ae=E.type===g,ce=E.type===y||Q(),se=E.type===C,ue=O.name===U,le=O.name===V,fe=O.name===q||Q(),de=_.name===k,pe=_.name===L,he=_.name===D||_.name===G,ve=_.name===M,me=_.name===A||_.name===F,ge=b(O.version),ye=b(O.name),be=b(_.version),_e=b(_.major),Ee=b(_.name),we=b(E.vendor),Oe=b(E.model),Ie=b(w.name),Te=b(w.version),Se=b(I),Re=X()||K(),Pe=_.name===x,Ce=b(E.type,"browser"),ke=(J=r())&&(/iPad|iPhone|iPod/.test(J.platform)||"MacIntel"===J.platform&&1<J.maxTouchPoints)&&!window.MSStream,Le=Q(),Me=o("iPhone"),xe=o("iPod"),De=(Z=r(),"string"==typeof($=Z&&Z.userAgent.toLowerCase())&&/electron/.test($)),Ae=K(),je=X()&&!K(),Ne=O.name===H,Fe=O.name===W,Ge=_.name===B;t.AndroidView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style;return ue?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:r,style:o},n):null},t.BrowserView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style;return se?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:r,style:o},n):null},t.ConsoleView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style;return te?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:r,style:o},n):null},t.CustomView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style;return e.condition?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:r,style:o},n):null},t.IEView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style;return me?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:r,style:o},n):null},t.IOSView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style;return fe?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:r,style:o},n):null},t.MobileOnlyView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style;return ae?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:r,style:o},n):null},t.MobileView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style;return ie?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:r,style:o},n):null},t.SmartTVView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style;return ee?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:r,style:o},n):null},t.TabletView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style;return ce?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:r,style:o},n):null},t.WearableView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style;return ne?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:r,style:o},n):null},t.WinPhoneView=function(e){var t=e.renderWithFragment,n=e.children,r=e.viewClassName,o=e.style;return le?t?c.createElement(a.Fragment,null,n):c.createElement("div",{className:r,style:o},n):null},t.browserName=Ee,t.browserVersion=_e,t.deviceDetect=function(){var e,t,n,r,o,i,a,c,s,u,l,f,d,p=Y.isBrowser,h=Y.isMobile,v=Y.isTablet,m=Y.isSmartTV,g=Y.isConsole,y=Y.isWearable;return p?(t=w,n=O,r=I,{isBrowser:p,browserMajorVersion:b((e=_).major),browserFullVersion:b(e.version),browserName:b(e.name),engineName:b(t.name),engineVersion:b(t.version),osName:b(n.name),osVersion:b(n.version),userAgent:b(r)}):m?(i=O,a=I,{isSmartTV:m,engineName:b((o=w).name),engineVersion:b(o.version),osName:b(i.name),osVersion:b(i.version),userAgent:b(a)}):g?(s=O,u=I,{isConsole:g,engineName:b((c=w).name),engineVersion:b(c.version),osName:b(s.name),osVersion:b(s.version),userAgent:b(u)}):h||v?T(Y,E,O,I):y?(f=O,d=I,{isWearable:y,engineName:b((l=w).name),engineVersion:b(l.version),osName:b(f.name),osVersion:b(f.version),userAgent:b(d)}):void 0},t.deviceType=Ce,t.engineName=Ie,t.engineVersion=Te,t.fullBrowserVersion=be,t.getUA=Se,t.isAndroid=ue,t.isBrowser=se,t.isChrome=de,t.isChromium=oe,t.isConsole=te,t.isEdge=Re,t.isEdgeChromium=Ae,t.isElectron=De,t.isFirefox=pe,t.isIE=me,t.isIOS=fe,t.isIOS13=ke,t.isIPad13=Le,t.isIPhone13=Me,t.isIPod13=xe,t.isLegacyEdge=je,t.isMIUI=Ge,t.isMacOs=Fe,t.isMobile=ie,t.isMobileOnly=ae,t.isMobileSafari=re,t.isOpera=ve,t.isSafari=he,t.isSmartTV=ee,t.isTablet=ce,t.isWearable=ne,t.isWinPhone=le,t.isWindows=Ne,t.isYandex=Pe,t.mobileModel=Oe,t.mobileVendor=we,t.osName=ye,t.osVersion=ge,t.withOrientationChange=function(r){return function(){function o(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=this,(t=!(r=h(o).call(this,e))||"object"!=typeof r&&"function"!=typeof r?m(n):r).isEventListenerAdded=!1,t.handleOrientationChange=t.handleOrientationChange.bind(m(t)),t.onOrientationChange=t.onOrientationChange.bind(m(t)),t.onPageLoad=t.onPageLoad.bind(m(t)),t.state={isLandscape:!1,isPortrait:!1},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(o,c.Component),e=o,(t=[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var e=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:0==e,isLandscape:90==e})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){void 0!==("undefined"==typeof window?"undefined":u(window))&&ie&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return c.createElement(r,f({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}])&&l(e.prototype,t),n&&l(e,n),o}()}},function(module,__webpack_exports__,__webpack_require__){"use strict";function amapsCreateClusterIcon(cluster){var self=this,count=cluster.getChildCount(),markers=cluster.getAllChildMarkers(),colors={},total=markers.length,isFaded=!1;markers.forEach(function(entry){var type=entry.data&&eval("entry.data.".concat(self.config.typeField)),tmp=self.config.types.find(function(e){return type&&(e.id==type||e.name==type)}),color=tmp&&(tmp.color||tmp.backgroundColor)||"#164995";null==type&&(type="undef"),colors[color]||(colors[color]=0),colors[color]++,entry.data&&entry.data.isFaded&&(isFaded=!0)});var html='<svg viewBox="0 0 36 36"><circle cx="18" cy="18" r="14" fill="white"/>',soFar=0;return Object.keys(colors).forEach(function(e){var t=e,n=100*colors[e]/total;html+='  <path\n             d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"\n             fill="none"\n             transform="rotate('.concat(soFar/100*360,', 18, 18)"\n             stroke="').concat(t,'"\n             stroke-width="4"\n             stroke-dasharray="').concat(n,', 100"\n             />'),soFar+=n}),html+='<text x="18" y="21" text-anchor="middle" class="openstad-component-ideas-on-map-icon openstad-component-ideas-on-map-icon-text">'+count+"</text></svg>",L.divIcon({html:html,className:"openstad-component-ideas-on-map-icon-cluster",iconSize:L.point(36,36),iconAnchor:[18,18],isFaded:isFaded})}__webpack_require__.d(__webpack_exports__,"a",function(){return amapsCreateClusterIcon})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(7),a=n(10);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=f(i);return t=a?(e=f(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==c(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,i["a"]);var e,t,n,r=l(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e,{name:"likebutton",backgroundColor:"#164995",color:"#fff",text:"like",opinion:"yes"})).state={value:t.props.value,busy:!1},t}return e=o,(t=[{key:"componentDidMount",value:function(){a.a.localStorage.get("osc-ideas-on-map-vote-pending")&&(this.doVote(),a.a.localStorage.remove("osc-ideas-on-map-vote-pending"))}},{key:"doVote",value:function(e){var o=this;if(e&&e.stopPropagation(),!this.state.busy){this.setState({busy:!0});var i=this,t="".concat(i.config.api.url,"/api/site/").concat(i.config.siteId,"/vote"),n=a.a.api.getHeaders(i.config);if(!i.config.user||!i.config.user.role){a.a.localStorage.set("osc-ideas-on-map-vote-pending",!0);var r="/oauth/login?returnTo="+encodeURIComponent(document.location.href)+"&useOauth=anonymous";return document.location.href=r}fetch(t,{method:"post",headers:n,body:JSON.stringify({ideaId:i.props.idea.id,opinion:i.config.opinion})}).then(function(e){if(!e.ok)throw Error("Stemmen is niet gelukt");return e.json()}).then(function(e){var t=e.length?1:-1,n=i.state.value+t;i.setState({value:n}),i.props.idea.userVote=e.length&&e||null,o.setState({busy:!1});var r=new window.CustomEvent("osc-idea-liked",{detail:{ideaId:i.props.idea.id,change:t}});document.dispatchEvent(r)}).catch(function(e){alert(e.message)})}}},{key:"render",value:function(){var t=this,e=parseInt(t.state.value)||0,n=parseInt(e/100)||0,r=parseInt((e-100*n)/10)||0,o=e-100*n-10*r;return React.createElement("div",{id:t.id,className:t.props.className||"osc-vote-button osc-number-button",ref:function(e){return t.instance=e}},React.createElement("div",{className:"osc-number-plates",style:{color:this.config.color,backgroundColor:this.config.backgroundColor}},React.createElement("div",{id:"".concat(this.config.name,"-number-plate-000"),className:"osc-number-plate"},n),React.createElement("div",{id:"".concat(this.config.name,"-number-plate-00"),className:"osc-number-plate"},r),React.createElement("div",{id:"".concat(this.config.name,"-number-plate-0"),className:"osc-number-plate"},o)),React.createElement("div",{className:"osc-number-button-text ".concat(this.config.name,"-name ").concat(this.props.idea.userVote?" osc-user-has-voted":""," ").concat(this.state.busy?" osc-busy":""),style:{color:this.config.color,backgroundColor:this.config.backgroundColor},onClick:function(e){return t.doVote(e)}},t.config.text),React.createElement("div",{className:"osc-clear-both"}))}}])&&s(e.prototype,t),n&&s(e,n),o}()},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(7),a=n(165),r=(n(21),n(12)),c=n.n(r);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=v(i);return t=a?(e=v(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==s(r)&&"function"!=typeof r?h(n):r}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,i["a"]);var e,t,n,r=p(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e,{searchIn:["ideas","addresses"]})).config.doSearchFunction=t.config.doSearchFunction||t.doSearchx.bind(h(t)),t.state={searchValue:"",searchResult:{locations:[],ideas:[]},showSuggestions:!1},t.updateSearchResult=t.updateSearchResult.bind(h(t)),t}return e=o,(t=[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){this.updateSearchValue(e),3<=e.length&&this.config.doSearchFunction(e,this.updateSearchResult)}},{key:"handleButtonClick",value:function(){var e=this;e.state.searchValue&&e.setState({searchValue:""},function(){e.inputfield.focus()})}},{key:"updateSearchValue",value:function(e){this.setState({searchValue:e,showSuggestions:3<=e.length})}},{key:"showSuggestions",value:function(){this.setState({showSuggestions:3<=this.state.searchValue.length})}},{key:"hideSuggestions",value:function(){var e=this;setTimeout(function(){e.setState({showSuggestions:!1})},500)}},{key:"updateSearchResult",value:function(e,t){this.setState(l(l({},this.state),{},{searchResult:t,showSuggestions:3<=e.length}))}},{key:"doSearchx",value:function(){console.log("search function not defined")}},{key:"onSuggestionClick",value:function(e,t,n){this.updateSearchValue(e),n&&n(t)}},{key:"render",value:function(){var e,t,n,r=this,o=null;return r.state.showSuggestions&&(e=null,this.config.searchIn.includes("ideas")&&this.config.searchIn.includes("addresses")&&(e=c.a.createElement("div",{className:"osc-search-suggestions-hr"})),t=null,this.config.searchIn.includes("addresses")&&(t=c.a.createElement("div",null,"Adressen:",r.state.searchResult.locations.map(function(t,e){var n=t.text.replace(new RegExp(r.state.searchValue,"ig"),function(e){return"<strong>"+e+"</strong>"});return c.a.createElement("div",{className:"osc-search-suggestion osc-search-suggestion-idea",onClick:function(e){return r.onSuggestionClick(t.text,e,t.onClick)},key:"search-result-"+e,dangerouslySetInnerHTML:{__html:n}})}))),n=null,this.config.searchIn.includes("ideas")&&(n=c.a.createElement("div",null,this.config.ideaName,":",r.state.searchResult.ideas.map(function(t,e){var n=t.text.replace(new RegExp(r.state.searchValue,"ig"),function(e){return"<strong>"+e+"</strong>"});return c.a.createElement("div",{className:"osc-search-suggestion osc-search-suggestion-idea",onClick:function(e){return r.onSuggestionClick(t.text,e,t.onClick)},key:"search-result-"+e,dangerouslySetInnerHTML:{__html:n}})}))),o=c.a.createElement("div",{className:"osc-search-suggestions",ref:function(e){return r.suggestions=e}},t,e,n)),c.a.createElement("div",{id:r.id,className:r.props.className||"osc-search",ref:function(e){return r.instance=e}},o,c.a.createElement("input",{type:"text",value:this.state.searchValue,placeholder:r.config.placeholder,onChange:function(){return r.handleChange(r.inputfield.value)},onBlur:function(){return r.hideSuggestions()},onFocus:function(){return r.showSuggestions()},className:"osc-default-input osc-search-input",ref:function(e){return r.inputfield=e}}),c.a.createElement("button",{className:"osc-search-button".concat(this.state.searchValue?" osc-active":""),onClick:function(e){return r.handleButtonClick(e)},ref:function(e){return r.resetButton=e}}))}}])&&f(e.prototype,t),n&&f(e,n),o}();function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function b(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=O(i);return t=a?(e=O(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==g(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(o,a["IdeasFilterbar"]);var e,t,n,r=w(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var n=this,e=null;n.config.search&&(e=React.createElement("div",{className:"osc-search-container"},React.createElement("div",{className:"osc-search-button",onClick:function(){return n.toggleMobileActiveSelector("search")}}),React.createElement(m,{config:b({},this.config),className:"osc-search".concat("search"==n.state.mobileActiveSelector?" osc-is-active":"")})));var t,r=React.createElement("button",{value:"reset",onClick:function(){return n.resetAll()},className:"osc-button osc-reset-button"},"Alles tonen"),o=null;n.config.filter.length&&(t=n.filters&&n.filters.find(function(e){return e.state.currentValue}),n.filters=[],o=React.createElement("div",{className:"osc-ideas-filters-and-button-container"},React.createElement("div",{className:"osc-ideas-filter-button".concat(t?" osc-active":""),onClick:function(){return n.toggleMobileActiveSelector("filters")}}),React.createElement("div",{className:"osc-ideas-filters-container".concat("filters"==n.state.mobileActiveSelector?" osc-is-active":"")},n.config.filter.map(function(e,t){return React.createElement(a.IdeasFilter,{config:e,className:"osc-align-right-container",key:"osc-ideas-filter-".concat(t),ref:function(e){return n.filters[t]=e}})})),r));var i=React.createElement("div",{className:"osc-ideas-filters-and-reset-button-container"},o);return React.createElement("div",{className:"osc-ideas-filterbar ".concat(n.props.className||"")},e,i)}}])&&_(e.prototype,t),n&&_(e,n),o}()},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return qe}),n.d(t,"ChoicesGuide",function(){return qe}),n.d(t,"ChoicesGuideResult",function(){return $e});var r=n(12),o=n.n(r),i=n(38),a=n.n(i),c=(n(448),n(21)),s=n.n(c),l=n(7),d=n(10),P=n(113),C=n(32);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=v(i);return t=a?(e=v(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==k(r)&&"function"!=typeof r?h(n):r}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,l["a"]);var e,t,n,r=p(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).questionId=e.data.id,t.state={value:50,isAnswered:!1},t.onChangeHandler=t.onChangeHandler.bind(h(t)),t.showLightbox=t.showLightbox.bind(h(t)),t}return e=o,(t=[{key:"onChangeHandler",value:function(e){var t=this,n={value:e,isAnswered:!0,error:void 0};this.setState(n,function(){t.liveUpdates()})}},{key:"isValid",value:function(){return!(void 0===(this.props.data||{}).value&&!this.state.isAnswered)||(this.setState({error:"Je hebt nog geen keuze gemaakt"}),!1)}},{key:"getAnswer",value:function(){if(this.state.isAnswered){var e,t=this.props.data||{},n=t.dimensions;try{n=JSON.parse(n)}catch(e){}return n=n||["x"],"number"==typeof this.state.value||"string"==typeof this.state.value?(e={},n.includes("x")&&(e.x=this.state.value),n.includes("y")&&(e.y=this.state.value),n.includes("z")&&(e.z=this.state.value)):(e={},n.includes("x")&&(e.x=this.state.value.x),n.includes("y")&&(e.y=this.state.value.y),n.includes("z")&&(e.z=this.state.value.z)),e}}},{key:"liveUpdates",value:function(){var e=new window.CustomEvent("osc-choices-guide-live-updates");document.dispatchEvent(e)}},{key:"showLightbox",value:function(t){var e=this.props.data||{},n=e.values&&e.values.A&&e.values.A.questionImage;n&&n.length&&(Array.isArray(n)||(n=[n]),n=n[0]);var r=e.values&&e.values.B&&e.values.B.questionImage;r&&r.length&&(Array.isArray(r)||(r=[r]),r=r[0]);var o=[n,r],i=o.findIndex(function(e){return e==t}),a=new window.CustomEvent("osc-show-light-box",{detail:{images:o,startIndex:i,aspectRatio:this.config.aspectRatio}});document.dispatchEvent(a)}},{key:"render",value:function(){var o=this,i=this,a=i.props.data||{},e=!1;i.state.error&&(e=!0);var t,n=i.state.isAnswered,r=void 0!==a.value?a.value:"not defined";"object"==k(a.value)&&((t=a.dimensions)&&!t.includes("x")||(r=a.value.x),t&&t.includes("y")&&(r=a.value.y),t&&t.includes("z")&&(r=a.value.z)),"not defined"===r?r=this.state.value:n=!0;var c,s=null,u=a.images||[];u&&u.length&&(Array.isArray(u)||(u=[u]),c=u[0],s=React.createElement("div",{className:"osc-question-image-container"},React.createElement(P.Image,{config:i.config,image:c})));var l,f,d=null;a.moreInfo&&(a.moreInfo.title||a.moreInfo.text)&&(l=a.moreInfo.title||"Geen titel",f=a.moreInfo.text||"Geen tekst",d=React.createElement("div",{className:"osc-accordeon"},React.createElement("div",{className:"osc-accordeon-item osc-closed"},React.createElement("div",{className:"osc-title osc-info"},l),React.createElement("div",{className:"osc-description",dangerouslySetInnerHTML:{__html:f}}))));var p=a.values&&a.values.A&&a.values.A.label||"A",h=a.values&&a.values.B&&a.values.B.label||"B",v=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:a.description}}),d),m=null;switch(a.type){case"continuous":m=React.createElement("div",{className:"osc-question-selector"},React.createElement(C.a.Slider,{min:"0",max:"100",step:"1",value:r,className:"osc-question-selector-slider",config:{},touched:n,onChange:function(e){return i.onChangeHandler(e)},ref:function(e){return i.selector=e}}),React.createElement("div",{className:"osc-question-selector-minlabel",dangerouslySetInnerHTML:{__html:p}}),React.createElement("div",{className:"osc-question-selector-maxlabel",dangerouslySetInnerHTML:{__html:h}}));break;case"a-to-b":var g=a.values&&a.values.A&&a.values.A.labelBelow||"",y=a.values&&a.values.B&&a.values.B.labelBelow||"",b=a.values&&a.values.A&&a.values.A.questionText,_=a.values&&a.values.B&&a.values.B.questionText,E=null,w=null;b&&_&&(E=React.createElement("div",{className:"osc-question-description-text"},React.createElement("div",{className:"osc-question-description-label"},p),React.createElement("div",{className:"osc-question-description-labeled-text"},b)),w=React.createElement("div",{className:"osc-question-description-text"},React.createElement("div",{className:"osc-question-description-label"},h),React.createElement("div",{className:"osc-question-description-labeled-text"},_)),v=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:a.description}}),E,w,d));var O=a.values&&a.values.A&&a.values.A.questionImage;O&&O.length&&(Array.isArray(O)||(O=[O]),O=O[0]);var I=a.values&&a.values.B&&a.values.B.questionImage;I&&I.length&&(Array.isArray(I)||(I=[I]),I=I[0]);var T=null,S=null;O&&I&&(T=React.createElement("div",{className:"osc-question-description-image-container osc-question-description-image-container-a"},React.createElement("div",{className:"osc-question-description-label osc-question-description-label-a"},p),React.createElement("div",{className:"osc-question-image-container osc-question-image-aspect-".concat(i.config.aspectRatio)},React.createElement(P.Image,{config:{aspectRatio:i.config.aspectRatio},image:O,onClick:function(){return i.showLightbox(O)}}))),S=React.createElement("div",{className:"osc-question-description-image-container osc-question-description-image-container-b"},React.createElement("div",{className:"osc-question-description-label osc-question-description-label-b"},h),React.createElement("div",{className:"osc-question-image-container osc-question-image-aspect-".concat(i.config.aspectRatio)},React.createElement(P.Image,{config:{aspectRatio:i.config.aspectRatio},image:I,onClick:function(){return i.showLightbox(I)}})))),v=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:a.description}}),E,w,d,T,S,React.createElement("div",{style:{clear:"both",height:15}})),m=React.createElement("div",{className:"osc-question-selector"},React.createElement("div",{className:"osc-question-selector-label-a"},p),React.createElement("div",{className:"osc-question-selector-label-b"},h),React.createElement(C.a.Slider,{min:"0",max:"100",step:"1",value:r,className:"osc-question-selector-slider",config:{},touched:n,onChange:function(e){return i.onChangeHandler(e)},ref:function(e){return i.selector=e}}),React.createElement("div",{className:"osc-question-selector-minlabel",dangerouslySetInnerHTML:{__html:g||""}}),React.createElement("div",{className:"osc-question-selector-maxlabel",dangerouslySetInnerHTML:{__html:y||""}}));break;case"enum-radio":m=React.createElement("div",{className:"osc-question-selector"},a.values&&a.values.map(function(t,e){var n=parseInt(1e6*Math.random()),r=!1;"object"==k(a.value)?(r=!0,Object.keys(a.value).forEach(function(e){a.value[e]!==t.value[e]&&(r=!1)})):a.value===t.value&&(r=!0);"undefined"!=a.value?a.value:o.state.value;return React.createElement("div",{key:"div-value-".concat(n),className:"osc-radio-container"},React.createElement("div",{className:"osc-radio-input".concat(r?" osc-radio-input-checked":"")},React.createElement("input",{name:"enum-radio-".concat(a.id),type:"radio",onChange:function(){return i.onChangeHandler(t.value)},key:"button-value-".concat(n)})),React.createElement("div",{className:"osc-radio-text"},t.text))}));break;case"enum-buttons":m=React.createElement("div",{className:"osc-question-selector"},a.values&&a.values.map(function(e,t){return React.createElement("button",{onClick:function(){return i.onChangeHandler(e.value)},key:"button-value-".concat(t)},e.text)}));break;default:m=React.createElement("div",null,"Type ",a.type," is (nog) niet geimplementeerd.")}var R=null;return e&&(R=React.createElement("div",{className:"osc-error-text"},i.state.error)),React.createElement("div",{id:i.props.config.divId,className:"osc-question osc-question-".concat(a.type).concat(e?" osc-error":"")},s,React.createElement("div",{className:"osc-question-content",id:i.props.config.divId+"-content"},React.createElement("h3",{className:"osc-question-title"}," ",a.title),v,m,R))}}])&&u(e.prototype,t),n&&u(e,n),o}();function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function b(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=O(i);return t=a?(e=O(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==g(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(o,l["a"]);var e,t,n,r=w(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).noOfQuestionsToShow=t.config.noOfQuestionsToShow||1,t.questionElements=[],t.state={currentQuestion:0,values:{}},t}return e=o,(t=[{key:"componentDidMount",value:function(){}},{key:"isValid",value:function(){var n=this,r=!0,e=n.props.data.questions.slice(n.state.currentQuestion,n.state.currentQuestion+n.noOfQuestionsToShow),o=!1;return e.forEach(function(e,t){n.questionElements[t].isValid()||(o||setTimeout(function(){document.querySelector("#".concat(n.questionElements[t].config.divId,"-content")).scrollIntoView({behavior:"smooth"})},250),r=!(o=!0))}),r}},{key:"getAnswers",value:function(){var r=this,o=s()({},this.props.data&&this.props.data.values,r.state.values);return r.props.data&&r.props.data.questions.forEach(function(t,e){var n=r.questionElements.find(function(e){return e&&e.questionId==t.id});n&&void 0!==n.getAnswer()&&(o[t.id]=n.getAnswer())}),r.setState({values:o}),o}},{key:"gotoNextQuestion",value:function(){if(this.isValid()){var e=this.state.currentQuestion+this.noOfQuestionsToShow;return e>=this.props.data.questions.length?(e=0,this.setState({currentQuestion:e}),{isReady:!0,currentQuestion:e}):(this.setState({currentQuestion:e}),{isReady:!1,currentQuestion:e})}}},{key:"gotoPreviousQuestion",value:function(){var e=this.state.currentQuestion-this.noOfQuestionsToShow;return e<0?(e=0,this.setState({currentQuestion:e}),{isBeginning:!0,currentQuestion:e}):(this.setState({currentQuestion:e}),{isBeginning:!1,currentQuestion:e})}},{key:"render",value:function(){var n=this,e=n.props.data||{questions:[]},t=e.questions.slice(n.state.currentQuestion,n.state.currentQuestion+n.noOfQuestionsToShow),r=s()({},this.props.data&&this.props.data.values,n.state.values),o=React.createElement("div",{className:"osc-questions"},t.map(function(e,t){return React.createElement(m,{config:b(b({},n.config),{},{divId:"osc-question-".concat(e.id)}),data:b(b({},e),{},{value:r[e.id]}),key:"question-".concat(e.id),ref:function(e){n.questionElements[t]=e}})}));return React.createElement("div",{id:this.id,className:"osc-question-group"},React.createElement("h3",{className:"osc-question-group-title"},e.title),React.createElement("div",{className:"osc-question-group-description",dangerouslySetInnerHTML:{__html:e.description}}),o)}}])&&_(e.prototype,t),n&&_(e,n),o}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=M(i);return t=a?(e=M(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==T(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(o,l["a"]);var e,t,n,r=L(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),null==(t=r.call(this,e,{type:"default",withPercentage:!1,minLabel:null,maxLabel:null,barColor:{default:"#bed200",min:"#ff9100",max:"#bed200"}})).config.barColor.min&&(t.config.barColor.min="#ff9100"),null==t.config.barColor.max&&(t.config.barColor.max="#bed200"),t.answers=e.data&&e.data.answers||{},Object.keys(t.answers).forEach(function(e){t.answers[e]==parseInt(t.answers[e])&&(t.answers[e]={x:parseInt(t.answers[e])})}),t.state={score:t.props.score||0},t}return e=o,(t=[{key:"getTitle",value:function(){return this.props.data&&this.props.data.title}},{key:"calculateScore",value:function(e){var o=this,i=this.answers,a=e||{},c=(Object.keys(i).length,{});Object.keys(i).forEach(function(e){var t=i[e]||{},n=a[e]||(o.config.startWithAllQuestionsAnswered?{x:50,y:50,z:50}:{}),r=c[e]={};["x","y","z"].forEach(function(e){if(void 0!==t[e]&&void 0!==n[e])return r[e]=100-Math.abs(t[e]-n[e])})});var n={};return Object.keys(i).forEach(function(t){["x","y","z"].forEach(function(e){n[e]=n[e]||{score:[],noOfAnswers:0},void 0!==c[t][e]&&n[e].score.push(c[t][e]),i[t]&&void 0!==i[t][e]&&n[e].noOfAnswers++})}),Object.keys(n).forEach(function(e){n[e]=n[e].score.length?n[e].score.reduce(function(e,t){return e+t})/n[e].noOfAnswers:void 0}),this.setState({score:n}),n}},{key:"render",value:function(){var e=this,t=e.state.score,n=null;switch(this.config.type){case"plane":var r,o,i=null,a=this.props.data&&this.props.data.images||[];return a&&a.length&&(Array.isArray(a)||(a=[a]),"object"==T(o=r=a[0])&&(o=r.src),i=React.createElement("img",{className:"osc-choice-plane-background-image",src:o,style:{width:this.props.baseSize/2,height:this.props.baseSize/2}})),React.createElement("div",{className:"osc-choice-plane",style:{width:this.props.baseSize/2,height:this.props.baseSize/2}},i);case"minus-to-plus-100":var c=null,s=parseInt(2*(t.x-50));e.config.withPercentage&&(c=React.createElement("div",{className:"osc-percentage"},s,"%"));var u=e.config.barColor.max.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i),l=e.config.barColor.min.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i),f=parseInt(l[1],16)+(parseInt(u[1],16)-parseInt(l[1],16))*(t.x/100),d=parseInt(l[2],16)+(parseInt(u[2],16)-parseInt(l[2],16))*(t.x/100),p=parseInt(l[3],16)+(parseInt(u[3],16)-parseInt(l[3],16))*(t.x/100),h={backgroundColor:"rgb(".concat(f,",").concat(d,",").concat(p,")")};0<=s&&(h.width=s/2+"%",h.left="50%",h.right="auto"),s<0&&(h.width=-s/2+"%",h.left="auto",h.right="50%"),n=React.createElement("div",{className:"osc-choice-default"},React.createElement("h4",null,e.props.data.title),React.createElement("div",{className:"osc-choice-bar osc-from-center".concat(e.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-progress",style:h})),c);break;case"zero-to-100":default:var v,m=null;e.config.withPercentage&&(v=parseInt(t.x),m=React.createElement("div",{className:"osc-percentage"},v,"%")),h={width:(t.x||0)+"%",backgroundColor:e.config.barColor.default},n=React.createElement("div",{className:"osc-choice-default"},React.createElement("h4",null,e.props.data.title),React.createElement("div",{className:"osc-choice-bar".concat(e.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-mask"}),React.createElement("div",{className:"osc-choice-bar-progress",style:h})),m)}var g=null;return(e.config.minLabel||e.config.maxLabel)&&(g=React.createElement("div",{className:"osc-minmax-labels"},React.createElement("div",{className:"osc-min-label"},e.config.minLabel),React.createElement("div",{className:"osc-max-label"},e.config.maxLabel))),React.createElement("li",{className:"osc-choice"},n,g)}}])&&S(e.prototype,t),n&&S(e,n),o}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function j(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?A(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=B(i);return t=a?(e=B(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==D(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(o,l["a"]);var e,t,n,r=G(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e,{type:"default",withPercentage:!1,minLabel:null,maxLabel:null})).choiceElements=[],t.state={title:"Je hebt nog geen keuze gemaakt",scores:e.scores,planePos:{x:50,y:50}},t}return e=o,(t=[{key:"componentDidMount",value:function(){var t=this;t.choicesClickListener=function(e){t.setState({random:Math.random()})},document.addEventListener("osc-choices-click",t.choicesClickListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-choices-click",self.choicesClickListener)}},{key:"calculateScores",value:function(n){var t={};this.choiceElements.forEach(function(e){t[e.config.divId]=e.calculateScore(n)});var e,r,o={x:50,y:50};return!this.config.type||(e=Object.keys(n)).length&&(o={x:0,y:0},r={x:0,y:0,z:0},e.forEach(function(e){var t=n[e];["x","y","z"].forEach(function(e){void 0!==t[e]&&(o[e]+=parseInt(t[e])||0,r[e]++)})}),o.x=r.x?parseInt(o.x/r.x):void 0,o.y=r.y?parseInt(o.y/r.y):void 0),this.setState({answers:n,scores:t,planePos:o}),{answers:n,scores:t,planePos:o}}},{key:"getPreferedChoice",value:function(e){var n=e.scores,t=e.planePos,n=n||this.state.scores;switch(this.config.type){case"plane":return(t=t||this.state.planePos).x<50&&t.y<50?this.choiceElements[0]:50<t.x&&t.y<50?this.choiceElements[1]:t.x<50&&50<t.y?this.choiceElements[2]:50<t.x&&50<t.y?this.choiceElements[3]:null;default:var r=Object.keys(n).sort(function(e,t){return n[t].x-n[e].x})[0];return this.choiceElements.find(function(e){return e&&e.config.divId==r})}}},{key:"render",value:function(){var r=this;switch(this.config.type){case"plane":var o=document.querySelector("#".concat(this.divId))&&document.querySelector("#".concat(this.divId)).offsetWidth-1||180,e=(void 0===r.state.planePos.y?50:r.state.planePos.y)*(o/100),t=(void 0===r.state.planePos.x?50:r.state.planePos.x)*(o/100);return React.createElement("div",{id:this.divId,className:"osc-choices osc-choice-plane-plane",ref:function(e){r.planePlaneElement=e}},Object.keys(r.props.choices).map(function(e,t){var n=r.props.choices[e];return React.createElement(x,{config:j({divId:"choice-".concat(n.id)},r.config),data:n,score:r.props.scores&&r.props.scores["choice-".concat(n.id)],key:"choice-".concat(n.id),baseSize:o,ref:function(e){r.choiceElements[t]=e}})}),React.createElement("div",{className:"osc-point",style:{top:e,left:t}}),React.createElement("div",{style:{clear:"both"}}));case"zero-to-100":case"minus-to-plus-100":default:return React.createElement("ul",{className:"osc-choices"},Object.keys(r.props.choices).map(function(e,t){var n=r.props.choices[e];return React.createElement(x,{config:j({divId:"choice-".concat(n.id)},r.config),data:n,score:r.props.scores&&r.props.scores["choice-".concat(n.id)],key:"choice-".concat(n.id),ref:function(e){r.choiceElements[t]=e}})}))}}}])&&N(e.prototype,t),n&&N(e,n),o}();function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=z(i);return t=a?(e=z(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==U(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(o,l["a"]);var e,t,n,r=W(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={questionEditModeIndex:null},t}return e=o,(t=[{key:"handleFieldChange",value:function(e){var t;e.questionId&&((t=s.a.recursive(!0,{},this.props.currentTarget.answers))[e.questionId]=t[e.questionId]||{},"object"!=U(t[e.questionId])&&(t[e.questionId]={x:t[e.questionId]}),t[e.questionId][e.dimension]=e.value),t=t||e,this.props.onChange({answers:t})}},{key:"toggleEditMode",value:function(e){this.setState({questionEditModeIndex:this.state.questionEditModeIndex!=e?e:null})}},{key:"render",value:function(){var a=this,e=(a.props.currentTarget.answers,React.createElement("div",{className:"osc-overview"},React.createElement("div",{className:"osc-overview-questions"},React.createElement("div",{className:"osc-overview-line"}),React.createElement("div",{className:"osc-overview-line"},React.createElement("div",{className:"osc-overview-line-content"},React.createElement("strong",null,"Vraag")),React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"X")),1<a.props.currentTarget.questionGroup.answerDimensions&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"Y")),React.createElement("div",{className:"osc-overview-line-buttons"},React.createElement("div",{style:{width:"30px"}}))),Object.keys(a.props.currentTarget.questionGroup.questions).map(function(e,r){var o=a.props.currentTarget.questionGroup.questions[e],i=[],t=o.dimensions||["x"];return(-1!=t.indexOf("x")||a.props.currentTarget.questionGroup&&1==a.props.currentTarget.questionGroup.answerDimensions)&&i.push("x"),-1!=t.indexOf("y")&&a.props.currentTarget.questionGroup&&2==a.props.currentTarget.questionGroup.answerDimensions&&i.push("y"),React.createElement("div",{className:"osc-overview-line",key:"question-".concat(o.id)},React.createElement("div",{className:"osc-overview-line-content"},o.title," (",o.id,")"),["x","y"].map(function(t,e){if(!i.includes(t))return 1==a.props.currentTarget.questionGroup.answerDimensions?null:React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field",key:"field-".concat(e)});var n=a.props.currentTarget.answers&&a.props.currentTarget.answers[o.id]&&("object"==U(a.props.currentTarget.answers[o.id])?a.props.currentTarget.answers[o.id][t]:a.props.currentTarget.answers[o.id]);return a.state.questionEditModeIndex==r?React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field",key:"field-".concat(e)},React.createElement(C.a.Text,{config:{},value:n,onChange:function(e){return a.handleFieldChange({questionId:o.id,dimension:t,value:e.value})},ref:function(e){return a.questionImageBField=e}})):React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field",key:"field-".concat(e)},n)}),React.createElement("div",{className:"osc-overview-line-buttons"},React.createElement("a",{className:"osc-edit-button",onClick:function(){return a.toggleEditMode(r)}})))})))),t=null;return a.props.currentTarget.questionGroup&&1<a.props.currentTarget.questionGroup.answerDimensions&&(t=React.createElement("div",null,React.createElement("h3",null,"Afbeelding"),React.createElement(C.a.ImageUpload,{key:"i1",config:{as:"json",imageserver:a.config.image.server},value:a.props.currentTarget.images,onChange:function(e){return a.props.onChange({images:e.value})},ref:function(e){return a.imagesField=e}}))),React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(C.a.InputWithCounter,{config:{inputType:"input",minLength:2,maxLength:255},value:a.props.currentTarget.title,onChange:function(e){return a.props.onChange({title:e.value})},ref:function(e){return a.titleField=e}}),React.createElement("h3",null,"Beschrijving"),React.createElement(C.a.InputWithCounter,{config:{inputType:"textarea",minLength:0,maxLength:5e3},value:a.props.currentTarget.description,onChange:function(e){return a.props.onChange({description:e.value})},ref:function(e){return a.descriptionField=e}}),t,React.createElement("h3",null,"Antwoorden"),e)}}])&&V(e.prototype,t),n&&V(e,n),o}();function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=Z(i);return t=a?(e=Z(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==K(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(o,l["a"]);var e,t,n,r=J(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,(t=[{key:"handleFieldChange",value:function(e){var t,n=!1;void 0!==e.isActive&&(n=this.props.currentTarget.choicesGuideConfig.isActive!=e.isActive,(t={choicesGuideConfig:s.a.recursive({},this.props.currentTarget.choicesGuideConfig)}).choicesGuideConfig.isActive=e.isActive),void 0!==e.submissionType&&(n=this.props.currentTarget.choicesGuideConfig.submissionType!=e.submissionType,(t={choicesGuideConfig:s.a.recursive({},this.props.currentTarget.choicesGuideConfig)}).choicesGuideConfig.submissionType=e.submissionType),void 0!==e.withExisting&&(n=this.props.currentTarget.choicesGuideConfig.withExisting!=e.withExisting,(t={choicesGuideConfig:s.a.recursive({},this.props.currentTarget.choicesGuideConfig)}).choicesGuideConfig.withExisting=e.withExisting),void 0!==e.requiredUserRole&&(n=this.props.currentTarget.choicesGuideConfig.requiredUserRole!=e.requiredUserRole,(t={choicesGuideConfig:s.a.recursive({},this.props.currentTarget.choicesGuideConfig)}).choicesGuideConfig.requiredUserRole=e.requiredUserRole||null),t=t||e,this.props.onChange(t,n)}},{key:"render",value:function(){var e,t,n=this,r=n.props.currentTarget.choicesGuideConfig||{},o=null;return"true"==r.isActive&&(e=null,"form"==r.submissionType&&(t=null,"member"==r.requiredUserRole&&(t=React.createElement("div",null,React.createElement("h4",null,"Als er al een inzending is voor deze gebruiker"),React.createElement(C.a.Select,{config:{choices:[{value:"replace",description:"Overschrijf het bestaande resultaat"},{value:"error",description:"Geef een foutmelding"}]},value:r.withExisting,onChange:function(e){return n.handleFieldChange({withExisting:e.value})},ref:function(e){return n.withExistingField=e}}))),e=React.createElement("div",null,React.createElement("h4",null,"Om te kunnnen insturen moet een gebruiker ingelogd zijn"),React.createElement(C.a.Select,{config:{choices:[{value:null,description:"Nee"},{value:"member",description:"Ja"}]},value:r.requiredUserRole,onChange:function(e){return n.handleFieldChange({requiredUserRole:e.value})},ref:function(e){return n.requiredUserRoleField=e}}),t)),o=React.createElement("div",null,React.createElement("h4",null,"Opslaan van de resultaten"),React.createElement(C.a.Select,{config:{choices:[{value:"none",description:"Niet opslaan"},{value:"auto",description:"Automatisch opslaan"},{value:"form",description:"Laat eerst een formulier invullen"}]},value:r.submissionType,onChange:function(e){return n.handleFieldChange({submissionType:e.value})},ref:function(e){return n.submissionTypeField=e}}),e)),React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Naam"),React.createElement("div",{className:"osc-form-description"},"Geef deze keuzewijzer een naam, zodat deze makkelijk terug te vinden is in de 'Keuzewijzer' en 'Keuzewijzer resultaat' widget."),React.createElement(C.a.InputWithCounter,{key:"x1",config:{inputType:"input",minLength:2,maxLength:255},value:n.props.currentTarget.title,onChange:function(e){return n.handleFieldChange({title:e.value})},ref:function(e){n.titleField=e}}),React.createElement("h4",null,"Deze keuzewijzer is actief"),React.createElement(C.a.Select,{config:{choices:[{value:"true",description:"Ja"},{value:"false",description:"Nee"}]},value:r.isActive,onChange:function(e){return n.handleFieldChange({isActive:e.value})},ref:function(e){return n.isActiveField=e}}),o)}}])&&X(e.prototype,t),n&&X(e,n),o}();function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=ie(i);return t=a?(e=ie(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==ee(r)&&"function"!=typeof r?oe(n):r}}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ae=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(o,l["a"]);var e,t,n,r=re(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).handleFieldChange=t.handleFieldChange.bind(oe(t)),t.state={valueEditModeIndex:null,showMoreInfoFields:t.props.currentTarget.moreInfo&&(t.props.currentTarget.moreInfo.text||t.props.currentTarget.moreInfo.title)?"yes":"no"},t}return e=o,(t=[{key:"handleFieldChange",value:function(e){var t,n,r,o=this;if(void 0!==e.type&&(r={type:e.type},o.props.currentTarget.type&&"a-to-b"!=o.props.currentTarget.type||"enum-radio"!=e.type||(r.values=[]),o.props.currentTarget.type&&"enum-radio"!=o.props.currentTarget.type||"a-to-b"!=e.type||(r.values={A:{},B:{}})),void 0!==e.moreInfoTitle&&((r={moreInfo:s.a.recursive({},o.props.currentTarget.moreInfo)}).moreInfo.title=e.moreInfoTitle),void 0!==e.moreInfoText&&((r={moreInfo:s.a.recursive({},o.props.currentTarget.moreInfo)}).moreInfo.text=e.moreInfoText),void 0!==e.questionTextA&&((r={values:s.a.recursive({},o.props.currentTarget.values)}).values.A.questionText=e.questionTextA),void 0!==e.questionImageA){r={values:s.a.recursive({},o.props.currentTarget.values)};var i=e.questionImageA;try{i=JSON.parse(i)}catch(e){}r.values.A.questionImage=i}if(void 0!==e.questionTextA&&((r={values:s.a.recursive({},o.props.currentTarget.values)}).values.A.questionText=e.questionTextA),void 0!==e.labelA&&((r={values:s.a.recursive({},o.props.currentTarget.values)}).values.A.label=e.labelA),void 0!==e.labelB&&((r={values:s.a.recursive({},o.props.currentTarget.values)}).values.B.label=e.labelB),void 0!==e.labelBelowA&&((r={values:s.a.recursive({},o.props.currentTarget.values)}).values.A.labelBelow=e.labelBelowA),void 0!==e.labelBelowB&&((r={values:s.a.recursive({},o.props.currentTarget.values)}).values.B.labelBelow=e.labelBelowB),void 0!==e.questionImageB){r={values:s.a.recursive({},o.props.currentTarget.values)};var a=e.questionImageB;try{a=JSON.parse(a)}catch(e){}r.values.B.questionImage=a}void 0!==e.questionTextB&&((r={values:s.a.recursive({},o.props.currentTarget.values)}).values.B.questionText=e.questionTextB),void 0!==e.newValue&&((r={values:o.props.currentTarget.values||[]}).values.push(e.newValue),this.setEditMode(r.values.length-1)),void 0!==e.deleteIndex&&(r={values:o.props.currentTarget.values||[]}).values.splice(e.deleteIndex,1),void 0!==e.valueIndex&&((r={values:o.props.currentTarget.values||[]}).values[e.valueIndex]=r.values[e.valueIndex]||{text:"",value:{}},e.move?("up"==e.move&&0<e.valueIndex&&(t=r.values[e.valueIndex],r.values[e.valueIndex]=r.values[e.valueIndex-1],r.values[e.valueIndex-1]=t),"down"==e.move&&e.valueIndex<r.values.length-1&&(n=r.values[e.valueIndex],console.log(n),r.values[e.valueIndex]=r.values[e.valueIndex+1],r.values[e.valueIndex+1]=n)):e.valueDimension?void 0!==e.valueValue&&("object"!=ee(r.values[e.valueIndex].value)&&(r.values[e.valueIndex].value={}),r.values[e.valueIndex].value[e.valueDimension]=e.valueValue):r.values[e.valueIndex].text=e.valueText),r=r||e,o.props.onChange(r)}},{key:"setShowMoreInfoFields",value:function(e){this.setState({showMoreInfoFields:e},function(){})}},{key:"toggleEditMode",value:function(e){var t=this.state.valueEditModeIndex!=e?e:null;this.setEditMode(t)}},{key:"setEditMode",value:function(e){var t=this;this.setState({valueEditModeIndex:e},function(){null!=t.state.valueEditModeIndex&&(t["osc-question-button-text-".concat(t.state.valueEditModeIndex)]&&t["osc-question-button-text-".concat(t.state.valueEditModeIndex)].input).focus()})}},{key:"render",value:function(){var i=this,e=(i.state.showMoreInfoFields,React.createElement("div",null,React.createElement("h3",null,"Extra info"),React.createElement("div",{className:"osc-form-description"},"Wil je een blok met uitklapbare tekst toevoegen? (bijvoorbeeld met extra uitleg)"),React.createElement(C.a.Select,{config:{choices:[{value:"yes",description:"Ja"},{value:"no",description:"Nee"}]},value:i.state.showMoreInfoFields,onChange:function(e){return i.setShowMoreInfoFields(e.value)}})));"yes"==i.state.showMoreInfoFields&&(e=React.createElement("div",null,React.createElement("h3",null,"Meer informatie titel"),React.createElement(C.a.InputWithCounter,{config:{inputType:"text",minLength:0,maxLength:255},value:i.props.currentTarget.moreInfo&&i.props.currentTarget.moreInfo.title,onChange:function(e){return i.handleFieldChange({moreInfoTitle:e.value})},ref:function(e){return i.moreInfoField=e}}),React.createElement("h3",null,"Meer informatie text"),React.createElement(C.a.InputWithCounter,{config:{inputType:"textarea",minLength:0,maxLength:5e3},value:i.props.currentTarget.moreInfo&&i.props.currentTarget.moreInfo.text,onChange:function(e){return i.handleFieldChange({moreInfoText:e.value})},ref:function(e){return i.moreInfoField=e}})));var t,n=null;"continuous"==i.props.currentTarget.type&&(n=React.createElement("div",null,React.createElement("h3",null,"Label minimale waarde"),React.createElement(C.a.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:255},value:i.props.currentTarget.minLabel,onChange:function(e){return i.props.onChange({minLabel:e.value})},ref:function(e){return i.minLabelField=e}}),React.createElement("h3",null,"Label maximale waarde"),React.createElement(C.a.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:i.props.currentTarget.maxLabel,onChange:function(e){return i.props.onChange({maxLabel:e.value})},ref:function(e){return i.maxLabelField=e}}))),"a-to-b"==i.props.currentTarget.type&&(n=React.createElement("div",{className:"osc-column-container"},React.createElement("div",{className:"osc-columns"},React.createElement("div",{className:"osc-column osc-2-columns"},React.createElement("h3",null,"Label voor A"),React.createElement(C.a.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:i.props.currentTarget.values&&i.props.currentTarget.values.A&&(void 0!==i.props.currentTarget.values.A.label?i.props.currentTarget.values.A.label:"A"),onChange:function(e){return i.handleFieldChange({labelA:e.value})},ref:function(e){return i.labelField=e}}),React.createElement("h3",null,"Label onder slider A"),React.createElement(C.a.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:i.props.currentTarget.values&&i.props.currentTarget.values.A&&(void 0!==i.props.currentTarget.values.A.labelBelow?i.props.currentTarget.values.A.labelBelow:"0"),onChange:function(e){return i.handleFieldChange({labelBelowA:e.value})},ref:function(e){return i.labelBelowField=e}}),React.createElement("h3",null,"Uitleg bij A"),React.createElement(C.a.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:i.props.currentTarget.values&&i.props.currentTarget.values.A&&i.props.currentTarget.values.A.questionText,onChange:function(e){return i.handleFieldChange({questionTextA:e.value})},ref:function(e){return i.minLabelField=e}}),React.createElement("h3",null,"Afbeelding bij A"),React.createElement(C.a.ImageUpload,{key:"i1",config:{as:"json",imageserver:i.config.image.server},value:i.props.currentTarget.values&&i.props.currentTarget.values.A&&i.props.currentTarget.values.A.questionImage,onChange:function(e){return i.handleFieldChange({questionImageA:e.value})},ref:function(e){return i.questionImageAField=e}})),React.createElement("div",{className:"osc-column osc-2-columns"},React.createElement("h3",null,"Label voor B"),React.createElement(C.a.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:i.props.currentTarget.values&&i.props.currentTarget.values.B&&(void 0!==i.props.currentTarget.values.B.label?i.props.currentTarget.values.B.label:"B"),onChange:function(e){return i.handleFieldChange({labelB:e.value})},ref:function(e){return i.labelField=e}}),React.createElement("h3",null,"Label onder slider B"),React.createElement(C.a.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:i.props.currentTarget.values&&i.props.currentTarget.values.B&&(void 0!==i.props.currentTarget.values.B.labelBelow?i.props.currentTarget.values.B.labelBelow:"100"),onChange:function(e){return i.handleFieldChange({labelBelowB:e.value})},ref:function(e){return i.labelBelowField=e}}),React.createElement("h3",null,"Uitleg bij B"),React.createElement(C.a.InputWithCounter,{config:{inputType:"input",minLength:0,maxLength:5e3},value:i.props.currentTarget.values&&i.props.currentTarget.values.B&&i.props.currentTarget.values.B.questionText,onChange:function(e){return i.handleFieldChange({questionTextB:e.value})},ref:function(e){return i.minLabelField=e}}),React.createElement("h3",null,"Afbeelding bij B"),React.createElement(C.a.ImageUpload,{key:"i1",config:{as:"json",imageserver:i.config.image.server},value:i.props.currentTarget.values&&i.props.currentTarget.values.B&&i.props.currentTarget.values.B.questionImage,onChange:function(e){return i.handleFieldChange({questionImageB:e.value})},ref:function(e){return i.questionImageBField=e}}))))),"enum-buttons"!=i.props.currentTarget.type&&"enum-radio"!=i.props.currentTarget.type||(t=i.props.currentTarget.dimensions||"['x']",n=React.createElement("div",null,React.createElement("h3",null,"Opties"),React.createElement("div",{className:"osc-overview"},React.createElement("div",{className:"osc-overview-question-options"},React.createElement("div",{className:"osc-overview-line"},React.createElement("div",{className:"osc-overview-line-content"},React.createElement("strong",null,"Tekst")),i.props.currentTarget.questionGroup&&1==i.props.currentTarget.questionGroup.answerDimensions&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"Waarde")),i.props.currentTarget.questionGroup&&1<i.props.currentTarget.questionGroup.answerDimensions&&("['x']"==t||"['x','y']"==t)&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"X")),1<(i.props.currentTarget.questionGroup&&i.props.currentTarget.questionGroup.answerDimensions)&&("['y']"==t||"['x','y']"==t)&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},React.createElement("strong",null,"Y")),React.createElement("div",{className:"osc-overview-line-buttons"},React.createElement("div",{style:{width:"60px"}}))),i.props.currentTarget.values&&i.props.currentTarget.values.map&&i.props.currentTarget.values.map(function(r,o){function e(t,n){var e=n?r[t][n]:r[t];return i.state.valueEditModeIndex==o?React.createElement(C.a.Text,{value:e,onChange:function(e){return i.handleFieldChange({valueIndex:o,valueDimension:n,valueText:e.value,valueValue:e.value})},ref:function(e){return i["osc-question-button-".concat(t,"-").concat(o)]=e}}):e}return React.createElement("div",{className:"osc-overview-line",key:"option-".concat(o)},React.createElement("div",{className:"osc-overview-line-content"},e("text")),("['x']"==t||"['x','y']"==t)&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},e("value","x")),("['y']"==t||"['x','y']"==t)&&React.createElement("div",{className:"osc-overview-line-content osc-overview-line-field"},e("value","y")),React.createElement("div",{className:"osc-overview-line-buttons"},o<i.props.currentTarget.values.length-1?React.createElement("a",{className:"osc-arrow-down-button",onClick:function(){return i.handleFieldChange({valueIndex:o,move:"down"})}}):React.createElement("div",{className:"osc-no-button"}),0<o?React.createElement("a",{className:"osc-arrow-up-button",onClick:function(){return i.handleFieldChange({valueIndex:o,move:"up"})}}):React.createElement("div",{className:"osc-no-button"}),React.createElement("a",{className:"osc-edit-button",onClick:function(){return i.toggleEditMode(o)}}),React.createElement("a",{className:"osc-delete-button",onClick:function(){return i.handleFieldChange({deleteIndex:o})}})))}),React.createElement("div",{className:"osc-overview-line"},React.createElement("a",{onClick:function(){return i.handleFieldChange({newValue:{text:"",value:{x:"50",y:"50"}}})}},"Nieuwe optie toevoegen"))))));var r=null;return i.props.currentTarget.questionGroup&&1<i.props.currentTarget.questionGroup.answerDimensions&&(r=React.createElement("div",null,React.createElement("h3",null,"Deze vraag heeft invloed in de richting"),React.createElement(C.a.Select,{config:{choices:[{value:"['x']",description:"Alleen X"},{value:"['y']",description:"Alleen Y"},{value:"['x','y']",description:"X en Y"}]},value:i.props.currentTarget.dimensions,onChange:function(e){return i.props.onChange({dimensions:e.value})},ref:function(e){return i.dimensionsField=e}}))),React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(C.a.InputWithCounter,{config:{inputType:"text",minLength:2,maxLength:255},value:i.props.currentTarget.title,onChange:function(e){return i.props.onChange({title:e.value})},ref:function(e){return i.titleField=e}}),React.createElement("h3",null,"Beschrijving"),React.createElement(C.a.InputWithCounter,{config:{inputType:"textarea",minLength:0,maxLength:5e3},value:i.props.currentTarget.description,onChange:function(e){return i.props.onChange({description:e.value})},ref:function(e){return i.descriptionField=e}}),e,React.createElement("h3",null,"Afbeelding boven de vraag"),React.createElement(C.a.ImageUpload,{key:"i1",config:{as:"json",imageserver:i.config.image.server},value:i.props.currentTarget.images,onChange:function(e){return i.props.onChange({images:e.value})},ref:function(e){return i.imagesField=e}}),React.createElement("h3",null,"Type vraag"),React.createElement(C.a.Select,{config:{choices:[{value:"",description:"Maak een keuze"},{value:"a-to-b",description:"van a naar b slider"},,{value:"enum-radio",description:"radio buttons"}],required:!0},value:i.props.currentTarget.type,onChange:function(e){return i.handleFieldChange({type:e.value})},ref:function(e){return i.typeField=e}}),n,r)}}])&&te(e.prototype,t),n&&te(e,n),o}();function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=fe(i);return t=a?(e=fe(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==ce(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(o,l["a"]);var e,t,n,r=le(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,(t=[{key:"render",value:function(){var t=this;return React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(C.a.InputWithCounter,{config:{inputType:"input",minLength:2,maxLength:255},value:t.props.currentTarget.title,onChange:function(e){return t.props.onChange({title:e.value})},ref:function(e){return t.titleField=e}}),React.createElement("h3",null,"Beschrijving"),React.createElement(C.a.InputWithCounter,{config:{inputType:"textarea",minLength:0,maxLength:5e3},value:t.props.currentTarget.description,onChange:function(e){return t.props.onChange({description:e.value})},ref:function(e){return t.descriptionField=e}}),React.createElement("h3",null,"Aantal dimensies voor antwoorden"),React.createElement(C.a.Select,{config:{choices:[{value:"1",description:"1 - Lineair"},{value:"2",description:"2 - Matrix"}]},value:t.props.currentTarget.answerDimensions,onChange:function(e){return t.props.onChange({answerDimensions:e.value})},ref:function(e){return t.answerDimensionsField=e}}),React.createElement("h3",null,"Volgorde nummer"),React.createElement(C.a.Text,{config:{},value:t.props.currentTarget.seqnr,onChange:function(e){return t.props.onChange({seqnr:e.value})},ref:function(e){return t.seqnrField=e}}))}}])&&se(e.prototype,t),n&&se(e,n),o}();function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=ge(i);return t=a?(e=ge(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==pe(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ye=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(o,l["a"]);var e,t,n,r=me(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,(t=[{key:"render",value:function(){var a=this,e=null;return(!a.props.questionGroups||a.props.questionGroups.length<1)&&(e=React.createElement("a",{href:"#",onClick:function(){return a.props.setCurrentForm({what:"question-group"})}},"Nieuwe vraaggroep")),React.createElement("div",{className:"osc-overview"},React.createElement("h2",null,"Vraaggroepen"),Object.keys(a.props.questionGroups).map(function(e,t){var r=a.props.questionGroups[e],n=React.createElement("div",{className:"osc-overview-questions"},React.createElement("div",{className:"osc-overview-line"},React.createElement("h4",null,"Vragen")),Object.keys(r.questions).map(function(e,t){var n=r.questions[e];return React.createElement("div",{className:"osc-overview-line",key:"question-".concat(n.id)},React.createElement("div",{className:"osc-overview-line-content"},n.title),React.createElement("div",{className:"osc-overview-line-buttons"},t<r.questions.length-1?React.createElement("a",{className:"osc-arrow-down-button",onClick:function(){return a.props.updateSeqnr({what:"question",move:"down",questionGroupId:r.id,questionId:n.id})}}):React.createElement("div",{className:"osc-no-button"}),0<t?React.createElement("a",{className:"osc-arrow-up-button",onClick:function(){return a.props.updateSeqnr({what:"question",move:"up",questionGroupId:r.id,questionId:n.id})}}):React.createElement("div",{className:"osc-no-button"}),React.createElement("a",{className:"osc-edit-button",onClick:function(){return a.props.setCurrentForm({what:"question",questionGroupId:r.id,questionId:n.id})}}),React.createElement("a",{className:"osc-delete-button",onClick:function(){return a.props.deleteElement({what:"question",questionGroupId:r.id,questionId:n.id,title:n.title})}})))}),React.createElement("div",{className:"osc-overview-line"},React.createElement("a",{onClick:function(){return a.props.setCurrentForm({what:"question",questionGroupId:r.id})}},"Nieuwe vraag"))),o=React.createElement("div",{className:"osc-overview-choices"},React.createElement("h4",null,"Keuze opties"),Object.keys(r.choices).map(function(e,t){var n=r.choices[e];return React.createElement("div",{className:"osc-overview-line",key:"choice-".concat(n.id)},React.createElement("div",{className:"osc-overview-line-content"},n.title),React.createElement("div",{className:"osc-overview-line-buttons"},t<r.choices.length-1?React.createElement("a",{className:"osc-arrow-down-button",onClick:function(){return a.props.updateSeqnr({what:"choice",move:"down",questionGroupId:r.id,choiceId:n.id})}}):React.createElement("div",{className:"osc-no-button"}),0<t?React.createElement("a",{className:"osc-arrow-up-button",onClick:function(){return a.props.updateSeqnr({what:"choice",move:"up",questionGroupId:r.id,choiceId:n.id})}}):React.createElement("div",{className:"osc-no-button"}),React.createElement("a",{className:"osc-edit-button",onClick:function(){return a.props.setCurrentForm({what:"choice",questionGroupId:r.id,choiceId:n.id})}}),React.createElement("a",{className:"osc-delete-button",onClick:function(){return a.props.deleteElement({what:"choice",questionGroupId:r.id,choiceId:n.id,title:n.title})}})))}),React.createElement("div",{className:"osc-overview-line",key:"choice-new"},React.createElement("a",{onClick:function(){return a.props.setCurrentForm({what:"choice",questionGroupId:r.id})}},"Nieuwe keuze optie"))),i=React.createElement("div",{className:"osc-no-button"});return 0==Object.keys(r.choices).length&&0==Object.keys(r.questions).length&&1!=a.props.questionGroups.length&&(i=React.createElement("a",{className:"osc-delete-button",onClick:function(){return a.props.deleteElement({what:"question-group",questionGroupId:r.id,title:r.title})}})),React.createElement("div",{className:"osc-overview-question-group",key:"questiongroup-".concat(r.id)},React.createElement("div",{className:"osc-overview-line"},React.createElement("div",{className:"osc-overview-line-content"},React.createElement("h3",null,r.title)),React.createElement("div",{className:"osc-overview-line-buttons"},React.createElement("a",{className:"osc-edit-button",onClick:function(){return a.props.setCurrentForm({what:"question-group",questionGroupId:r.id})}}),i)),n,o)}),React.createElement("br",null),React.createElement("br",null),e)}}])&&he(e.prototype,t),n&&he(e,n),o}();function be(e){var t=e.config,n="".concat(t.api&&t.api.url,"/api/site/").concat(t.siteId,"/choicesguide/").concat(t.choicesGuideId,"?includeChoices=1&includeQuestions=1"),r=d.a.api.getHeaders();return fetch(n,{headers:r}).then(function(e){return e.json()}).then(function(e){var t={choicesGuideId:e.id,images:e.images,choicesGuideConfig:e.config,title:e.title,description:e.description,choices:e.choices||[],questionGroups:e.questiongroups||[],status:"active"};return t.questionGroups&&t.questionGroups.map&&t.questionGroups.map(function(e){e.questions&&e.questions.map&&e.questions.map(function(e){"continuous"==e.type&&(e.type="a-to-b"),"enum-buttons"==e.type&&(e.type="enum-radio"),"a-to-b"==e.type&&(e.values&&e.values.A&&(e.values.A.labelBelow=void 0!==e.values.A.labelBelow?e.values.A.labelBelow:e.minLabel),e.values&&e.values.B&&(e.values.B.labelBelow=void 0!==e.values.B.labelBelow?e.values.B.labelBelow:e.maxLabel))})}),t.questionGroups&&t.questionGroups.map&&t.questionGroups.map(function(e){var n;e.questions&&e.questions.map&&(n=e.questions.map(function(e){return e.id}),e.choices&&e.choices.map&&e.choices.map(function(t){t.answers&&Object.keys(t.answers).map(function(e){return parseInt(e)}).filter(function(e){return-1==n.indexOf(e)}).map(function(e){return delete t.answers[e]})}))}),t})}function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function we(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):Ee(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=Re(i);return t=a?(e=Re(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==_e(r)&&"function"!=typeof r?Se(n):r}}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(o,l["a"]);var e,t,n,r=Te(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e,{siteId:null,loginUrl:null,noOfQuestionsToShow:1,api:{url:null},image:{}})).handleFieldChange=t.handleFieldChange.bind(Se(t)),t.setCurrentForm=t.setCurrentForm.bind(Se(t)),t.deleteElement=t.deleteElement.bind(Se(t)),t.updateSeqnr=t.updateSeqnr.bind(Se(t)),t.state={choicesGuideId:t.props.data.choicesGuideId,currentTarget:{},busy:!1},t.onFinished=t.props.onFinished,t}return e=o,(t=[{key:"componentDidMount",value:function(){var t=this;t.fetchData();window.addEventListener("beforeunload",function(e){return t.state.changed?(e.preventDefault(),e.returnValue="Are you sure you want to exit?",e):null},{capture:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",self.unloadListener)}},{key:"fetchData",value:function(){var t=this;be({config:t.config}).then(function(e){t.setState(we(we({},e),{},{busy:!1}),function(){t.setCurrentForm({what:"choices-guide"})})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"handleFieldChange",value:function(t,e){var n=1<arguments.length&&void 0!==e&&e,r=this,o=r.state.currentTarget;Object.keys(t).forEach(function(e){n=n||r.state.changed||o[e]!=t[e]&&"choicesGuideConfig"!=e,o[e]=t[e]}),r.setState({currentTarget:o,changed:n})}},{key:"updateSeqnr",value:function(t){var e,n,r,o,i,a,c,s,u,l,f;"choices-guide"==this.state.currentTarget.what&&(e=this.state.questionGroups,r=(n=this.state.questionGroups.find(function(e){return e.id==t.questionGroupId})||{})["".concat(t.what,"s")]&&n["".concat(t.what,"s")],o=t["".concat(t.what,"Id")],i=r&&r.findIndex(function(e){return e.id==o}),"up"==t.move&&0<i&&(a=r[i-1],c=r[i]),"down"==t.move&&i<r.length-1&&(a=r[i],c=r[i+1]),s=a.seqnr,a.seqnr=c.seqnr,c.seqnr=s,n["".concat(t.what,"s")]=r.sort(function(e,t){return e.seqnr-t.seqnr}),this.setState({questionGroups:e}),u=this.createApiUrl(we(we({},t),{},{questionId:a.id,choiceId:a.id})),l=this.createApiUrl(we(we({},t),{},{questionId:c.id,choiceId:c.id})),f=d.a.api.getHeaders(this.config),fetch(u,{method:"PUT",headers:f,body:JSON.stringify({seqnr:a.seqnr})}).then(function(e){if(e.ok)return e.json();throw e.text()}).catch(this.apiError),fetch(l,{method:"PUT",headers:f,body:JSON.stringify({seqnr:c.seqnr})}).then(function(e){if(e.ok)return e.json();throw e.text()}).catch(this.apiError))}},{key:"setCurrentForm",value:function(t){var e,n,r;switch(t.what){case"choices-guide":t.title=this.state.title,t.description=this.state.description,t.images=this.state.images?this.state.images:"",t.choicesGuideConfig=this.state.choicesGuideConfig?this.state.choicesGuideConfig:{};break;case"choice":n=t.questionGroupId?(e=this.state.questionGroups.find(function(e){return e.id==t.questionGroupId})||{}).choices&&e.choices.find(function(e){return e.id==t.choiceId})||{}:this.state.choices.find(function(e){return e.id==t.choicesId})||{},t.questionGroup=e,t.title=n.title,t.description=n.description,t.images=n.images,t.answers=n.answers,t.seqnr=void 0!==n.seqnr?n.seqnr:e.choices&&e.choices[e.choices.length-1]&&parseInt(e.choices[e.choices.length-1].seqnr)+10||10;break;case"question-group":e=this.state.questionGroups.find(function(e){return e.id==t.questionGroupId})||{},t.title=e.title,t.description=e.description,t.answerDimensions=e.answerDimensions,t.seqnr=void 0!==e.seqnr?e.seqnr:10;break;case"question":r=(e=this.state.questionGroups.find(function(e){return e.id==t.questionGroupId})||{}).questions&&e.questions.find(function(e){return e.id==t.questionId})||{},t.questionGroup=e,t.title=r.title,t.description=r.description,t.moreInfo=r.moreInfo,t.images=r.images,t.minLabel=r.minLabel,t.maxLabel=r.maxLabel,t.type=r.type,t.dimensions=r.dimensions,t.values=r.values,t.seqnr=void 0!==r.seqnr?r.seqnr:e.questions&&e.questions[e.questions.length-1]&&parseInt(e.questions[e.questions.length-1].seqnr)+10||10}this.setState({currentTarget:t,changed:!1},function(){window.scrollTo(0,0)})}},{key:"validate",value:function(e){var t=e.showErrors,n=e.scrollTo,r=!0,o=null,i=this.formfields;return Object.keys(this.state.currentTarget).forEach(function(e){i[e+"Field"]&&i[e+"Field"].validate&&!i[e+"Field"].validate({showErrors:t})&&(r=!1,o=o||e)}),n&&o&&o.instance&&o.instance.scrollIntoView&&o.instance.scrollIntoView({behavior:"smooth"}),r}},{key:"canSubmit",value:function(){var e=this.config.user||{};return d.a.user.hasRole(e,"moderator")}},{key:"createApiUrl",value:function(e){var t,n=e.what,r=e.questionGroupId,o=e.choiceId,i=e.questionId,a=this;switch(n){case"question-group":t="".concat(a.config.api&&a.config.api.url,"/api/site/").concat(a.config.siteId,"/choicesguide/").concat(a.state.choicesGuideId,"/questiongroup/").concat(r);break;case"choice":t="".concat(a.config.api&&a.config.api.url,"/api/site/").concat(a.config.siteId,"/choicesguide/").concat(a.state.choicesGuideId,"/questiongroup/").concat(r,"/choice/").concat(o);break;case"question":t="".concat(a.config.api&&a.config.api.url,"/api/site/").concat(a.config.siteId,"/choicesguide/").concat(a.state.choicesGuideId,"/questiongroup/").concat(r,"/question/").concat(i)}return t}},{key:"submitForm",value:function(){var o=this;o.setState({busy:!0,submitError:null},function(){var e,t,n;if(!o.validate({showErrors:!0,scrollTo:!0}))return o.setState({busy:!1});if(!o.canSubmit())return alert("Je mag dit niet");switch(o.state.currentTarget.what){case"choices-guide":n=o.state.choicesGuideId,e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/choicesguide"),t={title:o.state.currentTarget.title,description:o.state.currentTarget.description,images:o.state.currentTarget.images,config:o.state.currentTarget.choicesGuideConfig};break;case"choice":n=o.state.currentTarget.choiceId,e=o.state.currentTarget.questionGroupId?"".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/choicesguide/").concat(o.state.choicesGuideId,"/questiongroup/").concat(o.state.currentTarget.questionGroupId,"/choice"):"".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/choicesguide/").concat(o.state.choicesGuideId,"/choice"),t={title:o.state.currentTarget.title,description:o.state.currentTarget.description,images:o.state.currentTarget.images,answers:o.state.currentTarget.answers,seqnr:o.state.currentTarget.seqnr};try{t.answers=JSON.parse(t.answers)}catch(e){}break;case"question-group":n=o.state.currentTarget.questionGroupId,e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/choicesguide/").concat(o.state.choicesGuideId,"/questiongroup"),t={title:o.state.currentTarget.title,description:o.state.currentTarget.description,answerDimensions:o.state.currentTarget.answerDimensions,seqnr:o.state.currentTarget.seqnr};break;case"question":n=o.state.currentTarget.questionId,e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/choicesguide/").concat(o.state.choicesGuideId,"/questiongroup/").concat(o.state.currentTarget.questionGroupId,"/question"),t={title:o.state.currentTarget.title,description:o.state.currentTarget.description,moreInfo:o.state.currentTarget.moreInfo,images:o.state.currentTarget.images,minLabel:o.state.currentTarget.minLabel,maxLabel:o.state.currentTarget.maxLabel,type:o.state.currentTarget.type,dimensions:o.state.currentTarget.dimensions,values:o.state.currentTarget.values,seqnr:o.state.currentTarget.seqnr};try{t.values=JSON.parse(t.values)}catch(e){}}e+=n?"/".concat(n):"";var r=d.a.api.getHeaders(o.config);fetch(e,{method:n?"PUT":"POST",headers:r,body:JSON.stringify(t)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){"choices-guide"==o.state.currentTarget.what?o.onFinished():o.fetchData()}).catch(o.apiError)})}},{key:"deleteElement",value:function(e){var t,n,r=e.what,o=e.questionGroupId,i=e.choiceId,a=e.questionId,c=e.title,s=this;s.setState({submitError:null}),confirm("Je gaat "+r+" "+c+" verwijderen. Weet je het zeker?")&&(t=s.createApiUrl({what:r,questionGroupId:o,choiceId:i,questionId:a}),n=d.a.api.getHeaders(s.config),fetch(t,{method:"DELETE",headers:n}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){s.fetchData()}).catch(s.apiError))}},{key:"apiError",value:function(e){e.then(function(e){try{"object"==_e(e=JSON.parse(e))&&(e=e.message)}catch(e){}return self.setState({submitError:{message:e}}),console.log(e)}),self.setState({busy:!1})}},{key:"render",value:function(){var t=this,e=null,n=null,r=null,o=React.createElement("button",{className:"osc-button-white",onClick:function(){t.setCurrentForm({what:"choices-guide"})}},"Terug"),i=React.createElement("button",{className:"osc-button-blue",onClick:function(){return t.submitForm()}},"Opslaan");switch(t.state.currentTarget.what){case"choices-guide":e="Bewerk keuzewijzer",n=React.createElement($,{config:this.config,currentTarget:t.state.currentTarget,onChange:t.handleFieldChange,ref:function(e){t.formfields=e}}),r=React.createElement(ye,{questionGroups:t.state.questionGroups,setCurrentForm:t.setCurrentForm,deleteElement:t.deleteElement,updateSeqnr:t.updateSeqnr,ref:function(e){t.formfields=e}}),o=React.createElement("button",{className:"osc-button-white",onClick:function(){t.onFinished&&t.onFinished()}},"Terug");break;case"choice":e="Bewerk Keuze",n=React.createElement(Y,{config:this.config,currentTarget:t.state.currentTarget,onChange:t.handleFieldChange,ref:function(e){t.formfields=e}});break;case"question-group":e="Bewerk Vragengroep",n=React.createElement(de,{config:this.config,currentTarget:t.state.currentTarget,onChange:t.handleFieldChange,ref:function(e){t.formfields=e}});break;case"question":e="Bewerk Vraag",n=React.createElement(ae,{config:this.config,currentTarget:t.state.currentTarget,onChange:t.handleFieldChange,ref:function(e){t.formfields=e}});break;default:o=React.createElement("button",{className:"osc-button-white",onClick:function(){t.onFinished&&t.onFinished()}},"Terug"),i=null}var a=null;return t.state.submitError&&(a=React.createElement("div",{className:"osc-message osc-error"},t.state.submitError.message)),React.createElement("div",{id:this.divId,className:"osc-form".concat(this.state.busy?" osc-busy":"")},React.createElement("h2",null,e),n,r,a,React.createElement("br",null),React.createElement("br",null),o,i)}}])&&Oe(e.prototype,t),n&&Oe(e,n),o}(),Ce=n(428),ke=n(418);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ae(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?De(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):De(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=Be(i);return t=a?(e=Be(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==Le(r)&&"function"!=typeof r?Ge(n):r}}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(a,l["a"]);var e,t,n,i=Fe(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=Ge(t=i.call(this,e,{siteId:null,loginUrl:null,noOfQuestionsToShow:1,api:{url:null},choices:{title:{noPreferenceYet:"Je hebt nog geen keuze gemaakt",preference:"<b>Jouw voorkeur:</b>{preferredChoice}",inBetween:"Je staat precies tussen meerdere voorkeuren in"},withPercentage:!1,minLabel:null,maxLabel:null}}));!n.config.aspectRatio&&n.config.choices&&n.config.choices.type&&"plane"==n.config.choices.type&&(n.config.aspectRatio="10x7");var r=d.a.localStorage.get("osc-choices-guide.values")||{},o=d.a.localStorage.get("osc-choices-guide.scores")||{};return n.state={title:"Loading....",questionGroups:[],choices:[],currentQuestionGroupIndex:void 0,currentQuestion:void 0,status:"init",values:r[n.config.choicesGuideId],scores:o[n.config.choicesGuideId]},n.liveUpdates=n.liveUpdates.bind(Ge(t)),n.hideEditForm=n.hideEditForm.bind(Ge(t)),t}return e=a,(t=[{key:"componentDidMount",value:function(){var t=this;t.liveUpdateListener=function(e){t.liveUpdates(e.detail)},document.addEventListener("osc-choices-guide-live-updates",t.liveUpdateListener),t.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-choices-guide-live-updates",self.liveUpdateListener)}},{key:"fetchData",value:function(){var t=this;be({config:t.config}).then(function(e){return e.choicesGuideId?void t.setState(e,function(){t.startGuide()}):t.setState({status:"panic",message:"Er is geen keuzewijzer gevonden. Maak er één aan in het admin deel van deze site, en koppel deze dan hier in 'Bewerk keuzewijzer'."})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"startGuide",value:function(){var t=this,e={currentQuestionGroupIndex:0};t.setState(e,function(){t.liveUpdates();var e=new window.CustomEvent("osc-choices-guide-is-ready");document.dispatchEvent(e)})}},{key:"showEditForm",value:function(){this.setState({status:"edit"})}},{key:"hideEditForm",value:function(){var e=d.a.localStorage.get("osc-choices-guide.values")||{},t=d.a.localStorage.get("osc-choices-guide.scores")||{};this.setState({title:"Loading....",questionGroups:[],choices:[],currentQuestionGroupIndex:void 0,status:"init",values:e[this.config.choicesGuideId],scores:t[this.config.choicesGuideId]},function(){this.fetchData()})}},{key:"gotoNextQuestion",value:function(){var e=this,t={};t.values=s()(e.state.values||{},e.questionGroupElement.getAnswers()),e.setState(t),e.choicesElement.calculateScores(t.values),e.userPreference&&e.userPreference.calculateScores();var n=e.questionGroupElement.gotoNextQuestion(),r=n.isReady,o=n.currentQuestion;e.setState({currentQuestion:o},function(){r?e.gotoNextGroup():window.scrollTo(0,0)})}},{key:"gotoPreviousQuestion",value:function(){var e=this;if("result"==this.state.status)return this.gotoPreviousGroup();var t={};t.values=s()(this.state.values||{},this.questionGroupElement.getAnswers()),this.setState(t),this.choicesElement.calculateScores(t.values),self.userPreference&&self.userPreference.calculateScores();var n=this.questionGroupElement.gotoPreviousQuestion(),r=n.isBeginning,o=n.currentQuestion;this.setState({currentQuestion:o},function(){r?e.gotoPreviousGroup():window.scrollTo(0,0)})}},{key:"gotoNextGroup",value:function(){var e=this,t=Ae({},this.state);t.currentQuestionGroupIndex<t.questionGroups.length-1?(t.values=s()(t.values||{},this.questionGroupElement.getAnswers()),t.currentQuestionGroupIndex++,this.setState(t,function(){e.liveUpdates(),window.scrollTo(0,0)})):this.gotoResult()}},{key:"gotoPreviousGroup",value:function(){var e=this,t={};t.currentQuestionGroupIndex=this.state.currentQuestionGroupIndex-1,"result"==this.state.status&&(t.currentQuestionGroupIndex=this.state.questionGroups.length-1,t.status="active"),this.setState(t,function(){e.liveUpdates(),window.scrollTo(0,0)})}},{key:"gotoResult",value:function(){document.location.href=this.config.afterUrl}},{key:"liveUpdates",value:function(){var n=this,r=s()(n.state.values||{},n.questionGroupElement.getAnswers()),o=n.choicesElement.calculateScores(r).scores;n.userPreference&&n.userPreference.calculateScores(r),n.setState({scores:o,firstAnswerGiven:0<Object.keys(r).length},function(){var e=d.a.localStorage.get("osc-choices-guide.values")||{};e[n.config.choicesGuideId]=r,d.a.localStorage.set("osc-choices-guide.values",e);var t=d.a.localStorage.get("osc-choices-guide.scores")||{};t[n.config.choicesGuideId]=o,d.a.localStorage.set("osc-choices-guide.scores",t),n.updateChoicesTitle()})}},{key:"updateChoicesTitle",value:function(){var e=this.config.choices.title.noPreferenceYet,t=this.choicesElement&&this.choicesElement.getPreferedChoice({});this.state.firstAnswerGiven&&(e=t?this.config.choices.title.preference.replace("{preferredChoice}",t&&t.getTitle(this.state.scores[t.config.divId])||e):this.config.choices.title.inBetween),this.setState({choicesTitle:e})}},{key:"onChoicesClick",value:function(){this.choicesAccordeon.className.match(" osc-closed")?this.choicesAccordeon.className=this.choicesAccordeon.className.replace(" osc-closed"," osc-open"):this.choicesAccordeon.className=this.choicesAccordeon.className.replace(" osc-open"," osc-closed");var e=new window.CustomEvent("osc-choices-click",{detail:{}});document.dispatchEvent(e)}},{key:"render",value:function(){var e,t=this,n=t.state.choices;0<=t.state.currentQuestionGroupIndex&&(e=t.state.questionGroups[t.state.currentQuestionGroupIndex])&&(e.values=t.state.values||{},e&&e.choices&&(n=e.choices));var r=null,o=t.state.images;o&&o.length&&(Array.isArray(o)||(o=[o]),r=React.createElement(P.Image,{className:"osc-top-image-spacer",width:"100%",image:o[0]}));var i,a,c,s,u,l,f,d,p,h=null;return h="edit"==t.state.status?React.createElement("div",{className:"osc-choices-guide-content"},React.createElement(Pe,{config:t.config,onFinished:t.hideEditForm,data:Ae({},t.state)})):"panic"==t.state.status?React.createElement("div",{className:"osc-choices-guide-content"},React.createElement("div",{className:"osc-alert osc-alert-warning"},t.state.message)):"init"==t.state.status?React.createElement("div",{className:"osc-choices-guide-content"},React.createElement("div",{className:"osc-intro"},"Laden...")):(i=React.createElement("div",{id:"osc-choices-container-"+this.divId,className:"osc-choices-container osc-accordeon osc-closed ".concat("osc-type-"+t.config.choices.type),ref:function(e){t.choicesAccordeon=e}},React.createElement("div",{onClick:function(e){return t.onChoicesClick(e)},className:"osc-accordeon-button",dangerouslySetInnerHTML:{__html:t.state.choicesTitle}}),React.createElement("div",{className:"osc-accordeon-content"},React.createElement(q,{config:Ae({},t.config.choices),choices:Me(n),scores:Ae({},t.state.scores),firstAnswerGiven:!!t.state.firstAnswerGiven,ref:function(e){t.choicesElement=e},key:"choices"}))),a=React.createElement(I,{config:t.config,data:e,ref:function(e){t.questionGroupElement=e},key:"group".concat(t.state.currentQuestionsGroupIndex)}),c=null,t.config.user&&t.config.user.role&&"admin"==t.config.user.role&&(c=React.createElement("button",{className:"osc-editbutton osc-edit",onClick:function(){return t.showEditForm()}},"Bewerk keuzewijzer")),l=u=s=null,0<t.state.currentQuestionGroupIndex||0<t.state.currentQuestion?(u=function(){t.gotoPreviousQuestion()},l="Terug"):t.config.beforeUrl&&(s=t.config.beforeUrl,l="Introductie"),d=f=null,d="init"==t.state.status?f=null:(f=function(){t.gotoNextQuestion()},"Volgende"),p=null,(l||d)&&(p=React.createElement(ke.default,{previousAction:u,previousUrl:s,previousLabel:l,nextAction:f,nextUrl:null,nextLabel:d})),React.createElement("div",{className:"osc-choices-guide-content"},c,i,a,p)),React.createElement("div",{id:this.divId,className:"osc-choices-guide"},React.createElement(Ce.default,null),r,h)}}])&&je(e.prototype,t),n&&je(e,n),a}(),Ue=n(444);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e){return function(e){if(Array.isArray(e))return We(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ye(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ze(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):ze(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=Ze(i);return t=a?(e=Ze(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==Ve(r)&&"function"!=typeof r?Je(n):r}}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(u,l["a"]);var e,t,n,s=Qe(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this,e,{type:"default",submission:{type:"none",requireLoginSettings:{title:"Stemcode",description:"Om te kunnen stemmen vul je de stemcode in die je per post hebt ontvangen. Wij controleren je stemcode op geldigheid. Als dat gelukt is kun je stemmen.",buttonTextLogin:"Vul je stemcode in",buttonTextLoggedIn:"Geldige stemcode",buttonTextAlreadySubmitted:"Ongeldige stemcode",changeLoginLinkText:"Vul een andere stemcode in",loggedInMessage:"Het controleren van je stemcode is gelukt! Klik op onderstaande knop om je keuze in te sturen.",notYetLoggedInError:"Klik hierboven om je stem te valideren.",alreadySubmittedMessage:"Deze stemcode is al gebruikt om te stemmen. Een stemcode kan maar één keer gebruikt worden."}},choices:{title:{noPreferenceYet:"Je hebt nog geen keuze gemaakt",preference:"Jouw voorkeur is {preferredChoice}",inBetween:"Je staat precies tussen meerdere voorkeuren in"},withPercentage:!0,minLabel:null,maxLabel:null}})).config.loginUrl=t.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),t.config.logoutUrl=t.config.logoutUrl||"/oauth/logout?returnTo="+encodeURIComponent(document.location.href);var n,r=(r=d.a.localStorage.get("osc-choices-guide.values")||{})[t.config.choicesGuideId]||{},o=(o=d.a.localStorage.get("osc-choices-guide.scores")||{})[t.config.choicesGuideId]||{},i=(i=d.a.localStorage.get("osc-choices-guide.formvalues")||{})[t.config.choicesGuideId]||{},a=window.location.search.match(/(\?|\&)resultdata=([^\?\&]+)/);if(a){var c=window.atob(a[2]);try{c=JSON.parse(c)}catch(e){}n=c.scrollToLogin,i=c.formValues,r=c.result.answers,o=c.result.scores}return"form"==t.config.submission.type&&(t.onFormChange=t.onFormChange.bind(Je(t)),t.config.submission.form.fields.forEach(function(e){var t=e.name||e.title.toLowerCase();void 0!==i[t]&&(e.value=i[t])})),t.state={title:"",answers:r,scores:o,scrollToLogin:n,questionGroupId:t.config.questionGroupId},t}return e=u,(t=[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var n=this;be({config:n.config}).then(function(e){var t=e.questionGroups&&e.questionGroups[0]&&e.questionGroups[0].id;n.setState(Ye(Ye({},e),{},{questionGroupId:t}),function(){n.config.submission.type=e.choicesGuideConfig.submissionType||n.config.submission.type,n.startGuide()})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"startGuide",value:function(){var e,t,n,r=this,o=r.choicesElement&&r.choicesElement.calculateScores(r.state.answers),i=o.scores,a=o.planePos,c="";r.choicesElement&&(c=(e=r.choicesElement.getPreferedChoice({scores:i,planePos:a}))?r.config.choices.title.preference.replace("{preferredChoice}",e&&e.getTitle(r.state.scores[e.config.divId])||c):r.config.choices.title.inBetween,r.setState({title:c}),t=new window.CustomEvent("osc-choices-guide-result-is-ready",{detail:{preferredChoice:{name:void 0,title:c,preferredChoiceId:-1},answers:r.state.answers,scores:r.state.scores}}),document.dispatchEvent(t),!r.state.scrollToLogin||(n=document.querySelector(".osc-require-login"))&&n.scrollIntoView({behavior:"smooth"}),"auto"==r.config.submission.type&&r.submitResult())}},{key:"submitResult",value:function(){var e,t,n,i,a=this,c=!(!a.state.choicesGuideConfig||!a.state.choicesGuideConfig.requiredUserRole);c&&!a.isUserLoggedIn()&&((t=document.querySelector(".osc-require-login"))&&t.scrollIntoView({behavior:"smooth"}),e={submissionError:{message:a.config.submission.requireLoginSettings.notYetLoggedInError,type:"unknown"}}),"form"==a.config.submission.type&&(i=a.form.getValues(),a.form.validate({showErrors:!0,scrollTo:!0})||(n=!0)),e||n?a.setState(e,function(){a.form.validate({showErrors:!0,scrollTo:!0})}):Ue.a.load().then(function(e){e.get().then(function(e){var t=e.visitorId,n="".concat(a.config.api&&a.config.api.url,"/api/site/").concat(a.config.siteId,"/choicesguide/").concat(a.config.choicesGuideId,"/result"),r=d.a.api.getHeaders(a.config),o={result:{answers:a.state.answers,scores:a.state.scores},extraData:i,userFingerprint:t};fetch(n,{method:"POST",headers:r,body:JSON.stringify(o)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){if("form"==a.config.submission.type)return d.a.localStorage.remove("osc-choices-guide.values"),d.a.localStorage.remove("osc-choices-guide.scores"),d.a.localStorage.remove("osc-choices-guide.formvalues"),c?a.logout({afterUrl:a.config.afterUrl}):document.location.href=a.config.afterUrl}).catch(function(e){e.then(function(e){try{e=JSON.parse(e)}catch(e){}var t=Array.isArray(e)&&e[0]&&e[0].message||e[0]||e.message||e;a.setState({submissionError:{message:t.toString(),type:"Je hebt je mening al ingestuurd"==t?"alreadySubmitted":"unknown"}},function(){return console.log(e)})})})})})}},{key:"isUserLoggedIn",value:function(){return this.config.user&&this.config.user.role&&"anonymous"!=this.config.user.role}},{key:"gotoLoginUrl",value:function(){var e,t=this.config.loginUrl,n={scrollToLogin:!0,formValues:this.form.getValues(),result:{answers:this.state.answers,scores:this.state.scores}},r=t.match(/returnTo=([^\?\&]+)/);r?(e=decodeURIComponent(r[1]),e+=e.match(/\?/)?"&":"?",e+="resultdata="+window.btoa(JSON.stringify(n).replace(/=+$/,"")),e=encodeURIComponent(e),t=t.replace(/returnTo=[^\?\&]+/,"returnTo="+e)):(t+=t.match(/\?/)?"&":"?",t+="resultdata="+window.btoa(JSON.stringify(n)).replace(/=+$/,"")),document.location.href=t}},{key:"logout",value:function(e){var t=e.afterUrl,n=void 0===t?self.config.afterUrl:t,r=self.config.logoutUrl||"/oauth/logout";fetch(r,{headers:{"Content-type":"application/json"},method:"GET"}).then(function(e){return document.location.href=n}).catch(function(e){return document.location.href=n})}},{key:"onFormChange",value:function(){var e=d.a.localStorage.get("osc-choices-guide.formvalues")||{};e[this.config.choicesGuideId]=this.form.getValues(),d.a.localStorage.set("osc-choices-guide.formvalues",e),this.setState({random:Math.random()})}},{key:"render",value:function(){var e,t=this,n=(t.props&&t.props.data,t.state.choices);t.state.questionGroups&&(e=t.state.questionGroups.find(function(e){return e.id==t.state.questionGroupId}))&&(e.values=t.state.values||{},e&&e.choices&&(n=e.choices));var r=!(!t.state.choicesGuideConfig||!t.state.choicesGuideConfig.requiredUserRole),o=null;n&&(o=React.createElement(q,{config:Ye({},t.config.choices),scores:Ye({},t.state.scores),choices:He(n),firstAnswerGiven:!0,ref:function(e){t.choicesElement=e},key:"choices"}));var i=null;t.config.moreInfoUrl&&t.config.moreInfoLabel&&(i=React.createElement("div",{className:"osc-more-info-link"},React.createElement("a",{href:t.config.moreInfoUrl},t.config.moreInfoLabel)));var a,c,s,u,l,f,d,p,h,v=null,m=null,g=null;"form"==t.config.submission.type&&(v=React.createElement(C.a.Form,{config:t.config.submission.form,onChange:t.onFormChange,ref:function(e){t.form=e}}),r&&(m=t.isUserLoggedIn()?(a="osc-success",c=t.config.submission.requireLoginSettings.buttonTextLoggedIn,s=t.config.submission.requireLoginSettings.loggedInMessage,t.state.submissionError&&(a="osc-error",s="alreadySubmitted"==t.state.submissionError.type?(c=t.config.submission.requireLoginSettings.buttonTextAlreadySubmitted,t.config.submission.requireLoginSettings.alreadySubmittedMessage):t.state.submissionError.message),React.createElement("div",{className:"osc-require-login osc-logged-in osc-logged-in ".concat(a)},React.createElement("h2",null,t.config.submission.requireLoginSettings.title),React.createElement("div",{className:"osc-gray-block"},React.createElement("button",{onClick:function(){return t.gotoLoginUrl()},className:"osc-button osc-button-white"},c),React.createElement("div",{className:"change-login-link-text"},React.createElement("a",{onClick:function(){return t.gotoLoginUrl()}},t.config.submission.requireLoginSettings.changeLoginLinkText)),React.createElement("div",{className:"osc-message"},s)))):(l=u="",t.state.submissionError&&(u="osc-error",l=t.state.submissionError.message),React.createElement("div",{className:"osc-require-login osc-not-yet-logged-in ".concat(u)},React.createElement("h2",null,t.config.submission.requireLoginSettings.title),React.createElement("div",{className:"osc-gray-block"},t.config.submission.requireLoginSettings.description,React.createElement("br",null),React.createElement("br",null),React.createElement("button",{onClick:function(){return t.gotoLoginUrl()},className:"osc-button osc-button-white"},t.config.submission.requireLoginSettings.buttonTextLogin),React.createElement("div",{className:"osc-message"},l))))),d=f=null,t.config.beforeUrl&&(f=t.config.beforeUrl,d=t.config.beforeLabel||"Vorige"),p=t.config.afterLabel||"Opslaan",h="form"==t.config.submission.type&&t.form&&!t.form.validate({})||r&&!t.isUserLoggedIn(),(d||p)&&(g=React.createElement(ke.default,{previousAction:null,previousUrl:f,previousLabel:d,nextAction:function(){t.submitResult()},nextUrl:null,nextLabel:p,nextIsDisabled:h})));var y=null;return t.state.submissionError&&!r&&(y=React.createElement("div",{className:"osc-message osc-error"},t.state.submissionError.message)),React.createElement("div",{className:"osc-choices-guide"},React.createElement("div",{className:"osc-result"},React.createElement("div",{className:"osc-result-content"},React.createElement("div",{className:"osc-choices-container ".concat("osc-type-"+t.config.choices.type)},React.createElement("h3",{dangerouslySetInnerHTML:{__html:t.state.title}}),o),i,v,m,y)),g)}}])&&Ke(e.prototype,t),n&&Ke(e,n),u}();qe.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(qe,{attributes:n,config:t}),e)},$e.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement($e,{attributes:n,config:t}),e)}},function(e,G,B){"use strict";(function(s){var p=B(166);function f(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function d(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function h(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function v(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function m(e,t){return[e[0]^t[0],e[1]^t[1]]}function g(e){return e=m(e,[0,e[0]>>>1]),e=m(e=d(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=m(e=d(e,[3301882366,444984403]),[0,e[0]>>>1])}function t(e,t){t=t||0;for(var n=(e=e||"").length%16,r=e.length-n,o=[0,t],i=[0,t],a=[0,0],c=[0,0],s=[2277735313,289559509],u=[1291169091,658871167],l=0;l<r;l+=16)a=[255&e.charCodeAt(l+4)|(255&e.charCodeAt(l+5))<<8|(255&e.charCodeAt(l+6))<<16|(255&e.charCodeAt(l+7))<<24,255&e.charCodeAt(l)|(255&e.charCodeAt(l+1))<<8|(255&e.charCodeAt(l+2))<<16|(255&e.charCodeAt(l+3))<<24],c=[255&e.charCodeAt(l+12)|(255&e.charCodeAt(l+13))<<8|(255&e.charCodeAt(l+14))<<16|(255&e.charCodeAt(l+15))<<24,255&e.charCodeAt(l+8)|(255&e.charCodeAt(l+9))<<8|(255&e.charCodeAt(l+10))<<16|(255&e.charCodeAt(l+11))<<24],a=h(a=d(a,s),31),o=f(o=h(o=m(o,a=d(a,u)),27),i),o=f(d(o,[0,5]),[0,1390208809]),c=h(c=d(c,u),33),i=f(i=h(i=m(i,c=d(c,s)),31),o),i=f(d(i,[0,5]),[0,944331445]);switch(a=[0,0],c=[0,0],n){case 15:c=m(c,v([0,e.charCodeAt(l+14)],48));case 14:c=m(c,v([0,e.charCodeAt(l+13)],40));case 13:c=m(c,v([0,e.charCodeAt(l+12)],32));case 12:c=m(c,v([0,e.charCodeAt(l+11)],24));case 11:c=m(c,v([0,e.charCodeAt(l+10)],16));case 10:c=m(c,v([0,e.charCodeAt(l+9)],8));case 9:c=d(c=m(c,[0,e.charCodeAt(l+8)]),u),i=m(i,c=d(c=h(c,33),s));case 8:a=m(a,v([0,e.charCodeAt(l+7)],56));case 7:a=m(a,v([0,e.charCodeAt(l+6)],48));case 6:a=m(a,v([0,e.charCodeAt(l+5)],40));case 5:a=m(a,v([0,e.charCodeAt(l+4)],32));case 4:a=m(a,v([0,e.charCodeAt(l+3)],24));case 3:a=m(a,v([0,e.charCodeAt(l+2)],16));case 2:a=m(a,v([0,e.charCodeAt(l+1)],8));case 1:a=d(a=m(a,[0,e.charCodeAt(l)]),s),o=m(o,a=d(a=h(a,31),u))}return o=f(o=m(o,[0,e.length]),i=m(i,[0,e.length])),i=f(i,o),o=f(o=g(o),i=g(i)),i=f(i,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)}var o=window;function y(e,t){return!function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return 1}(e,t)}function n(e){return parseInt(e)}function r(e){return parseFloat(e)}function u(e){return e.reduce(function(e,t){return e+(t?1:0)},0)}var l=window,b=navigator;document;function a(){return 4<=u(["MSCSSMatrix"in l,"msSetImmediate"in l,"msIndexedDB"in l,"msMaxTouchPoints"in b,"msPointerEnabled"in b])}var _=window,E=document;function w(e,t,n){var r;(r=t)&&"function"==typeof r.setValueAtTime&&t.setValueAtTime(n,e.currentTime)}function O(e){var t=new Error(e);return t.name=e,t}var I=document,T=["monospace","sans-serif","serif"],S=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"],R={fontStyle:"normal",fontWeight:"normal",letterSpacing:"normal",lineBreak:"auto",lineHeight:"normal",textTransform:"none",textAlign:"left",textDecoration:"none",textShadow:"none",whiteSpace:"normal",wordBreak:"normal",wordSpacing:"normal",position:"absolute",left:"-9999px",fontSize:"48px"};var i=navigator,c=window;var P=navigator;var C=window;var k=window;var L=window;var M=document;var e={osCpu:function(){return navigator.oscpu},languages:function(){var e,t=[],n=P.language||P.userLanguage||P.browserLanguage||P.systemLanguage;return void 0!==n&&t.push([n]),Array.isArray(P.languages)?5<=u(["webkitPersistentStorage"in b,"webkitTemporaryStorage"in b,0===b.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in l,"BatteryManager"in l,"webkitMediaStream"in l,"webkitSpeechGrammar"in l])&&3<=u([!("MediaSettingsRange"in l),"RTCEncodedAudioFrame"in l,""+l.Intl=="[object Intl]",""+l.Reflect=="[object Reflect]"])||t.push(P.languages):"string"!=typeof P.languages||(e=P.languages)&&t.push(e.split(",")),t},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return e=r(navigator.deviceMemory),t=void 0,"number"==typeof e&&isNaN(e)?t:e;var e,t},screenResolution:function(){var e=[n(C.screen.width),n(C.screen.height)];return e.sort().reverse(),e},availableScreenResolution:function(){if(k.screen.availWidth&&k.screen.availHeight){var e=[n(k.screen.availWidth),n(k.screen.availHeight)];return e.sort().reverse(),e}},hardwareConcurrency:function(){try{var e=n(navigator.hardwareConcurrency);return isNaN(e)?1:e}catch(e){return 1}},timezoneOffset:function(){var e=(new Date).getFullYear();return Math.max(r(new Date(e,0,1).getTimezoneOffset()),r(new Date(e,6,1).getTimezoneOffset()))},timezone:function(){var e;if(null!==(e=L.Intl)&&void 0!==e&&e.DateTimeFormat)return(new L.Intl.DateTimeFormat).resolvedOptions().timeZone},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!(a()||3<=u(["msWriteProfilerMark"in l,"MSStream"in l,"msLaunchUri"in b,"msSaveBlob"in b])&&!a()))try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){return navigator.platform},plugins:function(){if(a())return[];if(navigator.plugins){for(var e=[],t=0;t<navigator.plugins.length;++t){var n=navigator.plugins[t];if(n){for(var r=[],o=0;o<n.length;++o){var i=n[o];r.push({type:i.type,suffixes:i.suffixes})}e.push({name:n.name,description:n.description,mimeTypes:r})}}return e}},canvas:function(){var e,t,n=((e=document.createElement("canvas")).width=240,e.height=140,e.style.display="inline",[e,e.getContext("2d")]),r=n[0],o=n[1];if(t=r,!o||!t.toDataURL)return{winding:!1,data:""};o.rect(0,0,10,10),o.rect(2,2,6,6);var i=!o.isPointInPath(5,5,"evenodd");o.textBaseline="alphabetic",o.fillStyle="#f60",o.fillRect(125,1,62,20),o.fillStyle="#069",o.font="11pt no-real-font-123";var a="Cwm fjordbank 😃 gly";return o.fillText(a,2,15),o.fillStyle="rgba(102, 204, 0, 0.2)",o.font="18pt Arial",o.fillText(a,4,45),o.globalCompositeOperation="multiply",o.fillStyle="rgb(255,0,255)",o.beginPath(),o.arc(50,50,50,0,2*Math.PI,!0),o.closePath(),o.fill(),o.fillStyle="rgb(0,255,255)",o.beginPath(),o.arc(100,50,50,0,2*Math.PI,!0),o.closePath(),o.fill(),o.fillStyle="rgb(255,255,0)",o.beginPath(),o.arc(75,100,50,0,2*Math.PI,!0),o.closePath(),o.fill(),o.fillStyle="rgb(255,0,255)",o.arc(75,75,75,0,2*Math.PI,!0),o.arc(75,75,25,0,2*Math.PI,!0),o.fill("evenodd"),{winding:i,data:r.toDataURL()}},touchSupport:function(){var t,e=0;void 0!==i.maxTouchPoints?e=n(i.maxTouchPoints):void 0!==i.msMaxTouchPoints&&(e=i.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){t=!1}return{maxTouchPoints:e,touchEvent:t,touchStart:"ontouchstart"in c}},fonts:function(){function a(){var e=I.createElement("span");e.textContent="mmMwWLliI0O&1";for(var t=0,n=Object.keys(R);t<n.length;t++){var r=n[t];e.style[r]=R[r]}return e}var e=I.body,n=I.createElement("div"),c=I.createElement("div"),r={},o={},t=T.map(function(e){var t=a();return t.style.fontFamily=e,n.appendChild(t),t});e.appendChild(n);for(var i=0,s=T.length;i<s;i++)r[T[i]]=t[i].offsetWidth,o[T[i]]=t[i].offsetHeight;var u=function(){for(var e={},t=function(i){e[i]=T.map(function(e){var t,n,r,o=(t=i,n=e,(r=a()).style.fontFamily="'"+t+"',"+n,r);return c.appendChild(o),o})},n=0,r=S;n<r.length;n++){t(r[n])}return e}();e.appendChild(c);for(var l=[],f=0,d=S.length;f<d;f++)!function(n){return T.some(function(e,t){return n[t].offsetWidth!==r[e]||n[t].offsetHeight!==o[e]})}(u[S[f]])||l.push(S[f]);return e.removeChild(c),e.removeChild(n),l},audio:function(){return Object(p.b)(this,void 0,void 0,function(){var t,n,r,i,a,c;return Object(p.c)(this,function(e){switch(e.label){case 0:if(!(t=_.OfflineAudioContext||_.webkitOfflineAudioContext))return[2,-2];if(4<=u(["ApplePayError"in l,"CSSPrimitiveValue"in l,"Counter"in l,0===b.vendor.indexOf("Apple"),"getStorageUpdates"in b,"WebKitMediaKeys"in l])&&!(3<=u(["safari"in l,!("DeviceMotionEvent"in l),!("ongestureend"in l),!("standalone"in b)]))&&!(3<=u(["DOMRectList"in l,"RTCPeerConnectionIceEvent"in l,"SVGGeometryElement"in l,"ontransitioncancel"in l])))return[2,-1];n=new t(1,44100,44100),(r=n.createOscillator()).type="triangle",w(n,r.frequency,1e4),i=n.createDynamicsCompressor(),w(n,i.threshold,-50),w(n,i.knee,40),w(n,i.ratio,12),w(n,i.reduction,-20),w(n,i.attack,0),w(n,i.release,.25),r.connect(i),i.connect(n.destination),r.start(0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,(o=n,new s(function(t,e){o.oncomplete=function(e){return t(e.renderedBuffer)};var n=3,r=function(){switch(o.startRendering(),o.state){case"running":setTimeout(function(){return e(O("timeout"))},1e3);break;case"suspended":E.hidden||n--,0<n?setTimeout(r,500):e(O("suspended"))}};r()}))];case 2:return a=e.sent(),[3,5];case 3:if("timeout"===(c=e.sent()).name||"suspended"===c.name)return[2,-3];throw c;case 4:return r.disconnect(),i.disconnect(),[7];case 5:return[2,function(e){for(var t=0,n=4500;n<5e3;++n)t+=Math.abs(e[n]);return t}(a.getChannelData(0))]}var o})})},pluginsSupport:function(){return void 0!==navigator.plugins},productSub:function(){return navigator.productSub},emptyEvalLength:function(){return eval.toString().length},errorFF:function(){try{throw"a"}catch(e){try{return e.toSource(),!0}catch(e){return!1}}},vendor:function(){return navigator.vendor},chrome:function(){return void 0!==window.chrome},cookiesEnabled:function(){try{M.cookie="cookietest=1; SameSite=Strict;";var e=-1!==M.cookie.indexOf("cookietest=");return M.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}}};function x(){return function(l,f,d){return Object(p.b)(this,void 0,void 0,function(){var t,n,r,o,i,a,c,s,u;return Object(p.c)(this,function(e){switch(e.label){case 0:t=Date.now(),n={},r=0,o=Object.keys(l),e.label=1;case 1:if(!(r<o.length))return[3,7];if(i=o[r],!y(d,i))return[3,6];a=void 0,e.label=2;case 2:return e.trys.push([2,4,,5]),u={},[4,l[i](f)];case 3:return u.value=e.sent(),a=u,[3,5];case 4:return c=e.sent(),a=c&&"object"==typeof c&&"message"in c?{error:c}:{error:{message:c}},[3,5];case 5:s=Date.now(),n[i]=Object(p.a)(Object(p.a)({},a),{duration:s-t}),t=s,e.label=6;case 6:return r++,[3,1];case 7:return[2,n]}})})}(e,void 0,[])}function D(e){return JSON.stringify(e,function(e,t){return t instanceof Error?(n=t,Object(p.a)({name:n.name,message:n.message,stack:null===(r=n.stack)||void 0===r?void 0:r.split("\n")},n)):t;var n,r},2)}function A(e){return t(function(e){for(var t="",n=0,r=Object.keys(e);n<r.length;n++){var o=r[n],i=e[o],a=i.error?"error":JSON.stringify(i.value);t+=(t?"|":"")+o.replace(/([:|\\])/g,"\\$1")+":"+a}return t}(e))}var j=(N.prototype.get=function(o){return void 0===o&&(o={}),Object(p.b)(this,void 0,void 0,function(){var n,r;return Object(p.c)(this,function(e){switch(e.label){case 0:return[4,x()];case 1:return n=e.sent(),r={components:n,get visitorId(){return void 0===t&&(t=A(this.components)),t},set visitorId(e){t=e}},o.debug&&console.log("Copy the text below to get the debug data:\n\n```\nversion: 3.0.5\nuserAgent: "+navigator.userAgent+"\ngetOptions: "+JSON.stringify(o,void 0,2)+"\nvisitorId: "+r.visitorId+"\ncomponents: "+D(n)+"\n```"),[2,r]}var t})})},N);function N(){}var F={load:function(e){var t=(void 0===e?{}:e).delayFallback,r=void 0===t?50:t;return Object(p.b)(this,void 0,void 0,function(){return Object(p.c)(this,function(e){switch(e.label){case 0:return[4,(void 0===(n=2*(t=r))&&(n=1/0),new s(function(e){o.requestIdleCallback?o.requestIdleCallback(function(){return e()},{timeout:n}):setTimeout(e,Math.min(t,n))}))];case 1:return e.sent(),[2,new j]}var t,n})})},hashComponents:A,componentsToDebugString:D};G.a=F}).call(this,B(62))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdeasForm});var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),_forms_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(32);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasForm=function(_OpenStadComponent){_inherits(IdeasForm,_OpenStadComponent);var _super=_createSuper(IdeasForm);function IdeasForm(props){var _this;_classCallCheck(this,IdeasForm),_this=_super.call(this,props,{user:{},ideaId:null,idea:{titleMinLength:10,titleMaxLength:20,summaryMinLength:20,summaryMaxLength:140,descriptionMinLength:140,descriptionMaxLength:5e3,fields:[]}});var self=_assertThisInitialized(_this),fields=self.config.idea.fields=_toConsumableArray(self.config.idea.fields);self.props.idea.extraData||(self.props.idea.extraData={});var state={formfields:{id:self.props.idea.id||"",user:self.props.idea.user||{}},showFormErrorsWarning:!1,isBusy:!1};fields.forEach(function(field){field.name&&(state.formfields[field.name]=eval("self.props.idea."+field.name),field.value=eval("self.props.idea."+field.name))});var titleField=fields.find(function(e){return"title"==e.name});titleField&&(titleField.minLength=self.config.idea.titleMinLength,titleField.maxLength=self.config.idea.titleMaxLength);var summaryField=fields.find(function(e){return"summary"==e.name});summaryField&&(summaryField.minLength=self.config.idea.summaryMinLength,summaryField.maxLength=self.config.idea.summaryMaxLength);var descriptionField=fields.find(function(e){return"description"==e.name});descriptionField&&(descriptionField.minLength=self.config.idea.descriptionMinLength,descriptionField.maxLength=self.config.idea.descriptionMaxLength);var imageField=fields.find(function(e){return"image-upload"==e.inputType}),choices;return imageField&&(imageField.config=imageField.config||{},imageField.config.image=self.config.image&&self.config.image.server),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.user.hasRole(self.config.user,"editor")?(self.config.types&&"typeId"==self.config.typeField&&(choices=[],self.config.types.forEach(function(e){var t=e;(!t.auth||t.auth.createableBy&&_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.user.hasRole(self.config.user,t.auth.createableBy))&&choices.push({title:t.name,value:t.id||t.value})}),self.config.idea.fields.push({name:"typeId",title:"Type inzending",value:self.props.idea.typeId,inputType:"multiple-choice",choices:choices}),state.formfields.typeId=self.props.idea.typeId),self.config.idea.fields.push({name:"modBreak",title:"Moderator reactie",value:self.props.idea.modBreak,inputType:"textarea-with-counter",minLength:0,maxLength:2e3}),state.formfields.modBreak=self.props.idea.modBreak):self.config.types&&"typeId"==self.config.typeField&&(self.config.idea.fields.push({name:"typeId",value:self.props.idea.typeId,inputType:"hidden"}),state.formfields.typeId=self.props.idea.typeId),self.state=state,_this}return _createClass(IdeasForm,[{key:"componentDidMount",value:function(){var t=this;t.updateLocationListener=function(e){t.updateLocation(e.detail&&e.detail.location)},document.addEventListener("osc-update-location",t.updateLocationListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-update-location",this.updateLocationListener)}},{key:"updateLocation",value:function(e){var t;e&&((t=_objectSpread({},this.state)).formfields.location={coordinates:[e.lat,e.lng]},t.formfields.address=e.address,this.setState(t))}},{key:"validateIdea",value:function(){var e=!0;return this.state.formfields.location?this["form-warning-location"].style.display="none":e=!(this["form-warning-location"].style.display="block"),e}},{key:"submitIdea",value:function(){var a=this,c=this;c.setState({isBusy:!0},function(){var n=c.form.getValues(),e=c.form.validate({showErrors:!0,scrollTo:!0});if(c.validateIdea()&&e){if(c.setState({showFormErrorsWarning:!1}),!c.config.api.isUserLoggedIn)return alert("Je bent niet ingelogd");var t=c.config.api.url+"/api/site/"+c.config.siteId+"/idea",r=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.api.getHeaders(c.config),o={location:JSON.stringify(_objectSpread({type:"Point"},c.state.formfields.location))};Object.keys(n).forEach(function(e){var t=e.match(/^extraData\.(.+)/);t?(o.extraData||(o.extraData={}),o.extraData[t[1]]=n[e]):o[e]=n[e]});var i="POST";"number"==typeof a.state.formfields.id&&(i="PUT",t=t+"/"+a.state.formfields.id),fetch(t,{method:i,headers:r,body:JSON.stringify(o)}).then(function(e){if(!e.ok)throw e;return e.json()}).then(function(t){c.setState({isBusy:!1},function(){var e=new window.CustomEvent("osc-idea-stored",{detail:{idea:t}});document.dispatchEvent(e)})}).catch(function(e){console.log("Niet goed"),console.log(e),"function"==typeof e.json?e.json().then(function(e){return c.setState({isBusy:!1,showFormErrorsWarning:e.message})}):c.setState({isBusy:!1,showFormErrorsWarning:e.message||e})})}else c.setState({isBusy:!1,showFormErrorsWarning:!0})})}},{key:"render",value:function(){var e,t=this,n=this,r=null;n.state.showFormErrorsWarning&&(e="Niet alle velden zijn correct ingevuld. Scroll naar boven om te zien wat er mis gaat.","string"==typeof n.state.showFormErrorsWarning&&(e=n.state.showFormErrorsWarning),r=React.createElement("div",{className:"osc-form-errors-warning"},e));var o=React.createElement(_forms_index_jsx__WEBPACK_IMPORTED_MODULE_2__.a.Form,{config:{fields:n.config.idea.fields},values:{typeId:n.state.formfields.typeId},ref:function(e){n.form=e}});return React.createElement("div",{id:n.id,className:n.props.className||"osc-infobar-idea-form",ref:function(e){return n.instance=e}},React.createElement("div",{className:"osc-spacer"}),React.createElement("form",{className:"osc-form"},React.createElement("h1",null,"Nieuw punt toevoegen"),React.createElement("div",{className:"osc-form-group"},React.createElement("h2",null,"Naam"),n.state.formfields.user&&n.state.formfields.user.fullName),React.createElement("div",{className:"osc-form-group"},React.createElement("h2",null,"Een locatie vlakbij"),n.state.formfields.address||"Adres wordt gezocht...",React.createElement("div",{className:"osc-form-warning",style:{display:"none"},ref:function(e){return t["form-warning-location"]=e}},"Geen locatie geselecteerd")),o,React.createElement("br",null),r,React.createElement("br",null),React.createElement("a",{className:"osc-button osc-button-blue".concat(n.state.isBusy?" osc-disabled":""),onClick:function(){n.state.isBusy||n.submitIdea()},ref:function(e){return n.submitButton=e}},"Versturen"),React.createElement("br",null),React.createElement("br",null),React.createElement("br",null)))}}]),IdeasForm}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Map});var _base_map_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(429);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Map=function(_OpenStadComponentBas){_inherits(Map,_OpenStadComponentBas);var _super=_createSuper(Map);function Map(e){var t;return _classCallCheck(this,Map),(t=_super.call(this,e,{clustering:{maxClusterRadius:100,showCoverageOnHover:!1},locationIcon:{html:'<svg width="39" height="50" viewBox="0 0 39 50" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.1038 0C29.6577 0 38.2075 8.46671 38.2075 18.9181C38.2075 33.1786 21.7544 47.7273 21.0432 48.3035L19.1038 50L17.1643 48.3035C16.4532 47.7273 0 33.1786 0 18.9181C0 8.46831 8.54983 0 19.1038 0ZM32.3245 18.9181C32.3083 11.6837 26.4091 5.84187 19.1038 5.82586C11.7984 5.84187 5.89922 11.6837 5.88306 18.9181C5.88306 27.3367 14.1581 37.2439 19.0876 42.1095C23.1767 38.1242 32.3245 27.993 32.3245 18.9181Z" fill="#EC0000"/><path d="M19.104 5.82568C26.4093 5.84169 32.3086 11.6836 32.3247 18.9179C32.3247 27.9928 23.1769 38.124 19.0879 42.1093C14.1584 37.2437 5.8833 27.3366 5.8833 18.9179C5.89946 11.6836 11.7987 5.84169 19.104 5.82568ZM25.5689 18.9179C25.5689 15.3807 22.6759 12.5158 19.104 12.5158C15.5322 12.5158 12.6391 15.3807 12.6391 18.9179C12.6391 22.455 15.5322 25.3199 19.104 25.3199C22.6759 25.3199 25.5689 22.455 25.5689 18.9179Z" fill="white"/><path d="M19.1038 25.3202C22.6743 25.3202 25.5687 22.4539 25.5687 18.9182C25.5687 15.3824 22.6743 12.5161 19.1038 12.5161C15.5333 12.5161 12.6389 15.3824 12.6389 18.9182C12.6389 22.4539 15.5333 25.3202 19.1038 25.3202Z" fill="#EC0000"/></svg>',className:"osc-ideas-on-map-icon",width:39,height:50,iconAnchor:[20,50]},types:[]})).config.polygon=t.config.polygon,t.config.autoZoomAndCenter=t.config.autoZoomAndCenter||"polygon",t.ideas=[],t.state={filters:{}},t}return _createClass(Map,[{key:"componentDidMount",value:function(e,t){_get(_getPrototypeOf(Map.prototype),"componentDidMount",this).call(this,e,t);var n=this;n.mapClusterAnimationEndListener=function(e){n.onMapClusterAnimationEnd(e.detail)},document.addEventListener("osc-map-cluster-animation-end",n.mapClusterAnimationEndListener),n.ideasFilterOnchangeListener=function(e){n.onChangeFilter(e.detail)},document.addEventListener("osc-ideas-filter-onchange",n.ideasFilterOnchangeListener),n.ideasFilterResetAllListener=function(e){n.onResetFilters(e.detail)},document.addEventListener("osc-ideas-filter-reset-all",n.ideasFilterResetAllListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-map-cluster-animation-end",this.mapClusterAnimationEndListener),document.removeEventListener("osc-ideas-filter-onchange",this.ideasFilterOnchangeListener),document.removeEventListener("osc-ideas-filter-reset-all",this.ideasFilterResetAllListener)}},{key:"addIdea",value:function addIdea(idea){var self=this;self.ideas.push(idea);var typename=idea&&self.config.typeField?eval("idea.".concat(self.config.typeField)):"typeId",typeDef=self.config.types.find(function(e){return typename&&(e.id==typename||e.name==typename)}),typeDef=typeDef||{},color=typeDef.color||typeDef.backgroundColor||"#164995",icondef=typeDef.mapicon||typeDef.icon||{html:'<svg viewBox="0 0 26 26"><circle cx="13" cy="13" r="13" fill="'.concat(color,'"/></svg>'),width:26,height:26,anchor:[13,13]},icon=L.divIcon({html:icondef.html,className:"osc-ideas-on-map-icon",iconSize:L.point(icondef.width,icondef.height),iconAnchor:icondef.anchor});self.addMarker({lat:idea.location.coordinates[0],lng:idea.location.coordinates[1],data:idea,icon:icon})}},{key:"getVisibleIdeas",value:function(){var t=this,e=t.markers.filter(function(e){return e.visible&&e.data&&t.map.getBounds().contains(e.getLatLng())}).map(function(e){return e.data});return t.setState({visibleIdeas:e}),e}},{key:"setSelectedLocation",value:function(e){var t;this.selectedLocation=e,this.selectedLocation?this.selectedLocationMarker?this.updateMarker(this.selectedLocationMarker,{location:e}):(t=L.divIcon({html:this.config.locationIcon.html,className:"osc-ideas-on-map-icon",iconSize:L.point(this.config.locationIcon.width,this.config.locationIcon.height),iconAnchor:this.config.locationIcon.iconAnchor}),this.selectedLocationMarker=this.addMarker(_objectSpread(_objectSpread({},e),{},{icon:t,doNotCluster:!0}))):(this.selectedLocationMarker&&this.removeMarker(this.selectedLocationMarker),this.selectedLocationMarker=null)}},{key:"setBoundsAndCenter",value:function(e){_get(_getPrototypeOf(Map.prototype),"setBoundsAndCenter",this).call(this,e||"polygon"==this.config.autoZoomAndCenter&&this.config.polygon||this.markers)}},{key:"showMarkers",value:function(e){e.keepCenter;var t=this;t.markers.forEach(function(e){t.showMarker(e)})}},{key:"hideMarkers",value:function(e){var t=e.exception,n=this;t&&t.location&&n.setBoundsAndCenter([t.location]),n.markers.forEach(function(e){t&&t.location&&t.location.lat==e._latlng.lat&&t.location.lng==e._latlng.lng||n.hideMarker(e)})}},{key:"fadeMarkers",value:function(e){var n=this,r=e.exception,o=this;o.markers.forEach(function(e){var t;r&&e.data&&e.data.id&&r.id==e.data.id||n.selectedLocationMarker&&n.selectedLocationMarker==e?e.data&&(e.data.isFaded=!1):(e.data&&(e.data.isFaded=!0),(t=o.markerClusterGroup&&o.markerClusterGroup.getVisibleParent(e))&&t.getAllChildMarkers&&t.getAllChildMarkers().find(function(e){return e.data&&!1===e.data.isFaded})||!t||t.setOpacity(.3))})}},{key:"updateFading",value:function(){var r=this;r.markers.forEach(function(e){var t,n=r.markerClusterGroup&&r.markerClusterGroup.getVisibleParent(e);n&&e.visible&&(t=n&&n.getAllChildMarkers&&n.getAllChildMarkers().find(function(e){return e.data&&!1===e.data.isFaded}),n.setOpacity(!t&&e.data&&e.data.isFaded?.3:1))})}},{key:"unfadeAllMarkers",value:function(){var n=this;n.markers.forEach(function(e){e.data&&(e.data.isFaded=!1);var t=n.markerClusterGroup&&n.markerClusterGroup.getVisibleParent(e);t&&t.setOpacity(1)})}},{key:"onMapClusterAnimationEnd",value:function(){this.updateFading()}},{key:"onChangeFilter",value:function onChangeFilter(filter){var self=this,filters=self.state.filters;filters[filter.fieldName]=filter,self.setState({filters:filters},function(){self.setFilter(function(marker){var result=!0;return Object.keys(self.state.filters).forEach(function(fieldName){var filter=self.state.filters[fieldName];filter.value&&"0"!==filter.value&&(marker.data&&!eval("marker.data.".concat(filter.fieldName))||eval("marker.data.".concat(filter.fieldName))!=filter.value)&&(result=!1)}),result})})}},{key:"onResetFilters",value:function(){this.setBoundsAndCenter()}}]),Map}(_base_map_index_jsx__WEBPACK_IMPORTED_MODULE_0__.default)},function(e,t,n){"use strict";n.r(t);var r=n(12),o=n.n(r),i=n(38),a=n.n(i),c=(n(449),n(425));n.d(t,"default",function(){return c.a}),n.d(t,"IdeasOnMap",function(){return c.a}),c.a.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(c.a,{attributes:n,config:t}),e)}},function(e,t,n){},function(e,t,n){},function(_,E,w){var O;!function(o,f){"use strict";var e="model",t="name",n="type",r="vendor",i="version",a="architecture",c="console",s="mobile",u="tablet",l="smarttv",d="wearable",p={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:f},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},h={rgx:function(e,t){for(var n,r,o,i,a,c=0;c<t.length&&!i;){for(var s=t[c],u=t[c+1],l=n=0;l<s.length&&!i;)if(i=s[l++].exec(e))for(r=0;r<u.length;r++)a=i[++n],"object"==typeof(o=u[r])&&0<o.length?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=a?a.replace(o[1],o[2]):f:this[o[0]]=a?o[1].call(this,a,o[2]):f:4==o.length&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):f):this[o]=a||f;c+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&0<t[n].length){for(var r=0;r<t[n].length;r++)if(p.has(t[n][r],e))return"?"===n?f:n}else if(p.has(t[n],e))return"?"===n?f:n;return e}},v={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[t,i],[/(opios)[\/\s]+([\w\.]+)/i],[[t,"Opera Mini"],i],[/\s(opr)\/([\w\.]+)/i],[[t,"Opera"],i],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[t,i],[/(konqueror)\/([\w\.]+)/i],[[t,"Konqueror"],i],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[t,"IE"],i],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[t,"Edge"],i],[/(yabrowser)\/([\w\.]+)/i],[[t,"Yandex"],i],[/(Avast)\/([\w\.]+)/i],[[t,"Avast Secure Browser"],i],[/(AVG)\/([\w\.]+)/i],[[t,"AVG Secure Browser"],i],[/(puffin)\/([\w\.]+)/i],[[t,"Puffin"],i],[/(focus)\/([\w\.]+)/i],[[t,"Firefox Focus"],i],[/(opt)\/([\w\.]+)/i],[[t,"Opera Touch"],i],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[t,"UCBrowser"],i],[/(comodo_dragon)\/([\w\.]+)/i],[[t,/_/g," "],i],[/(windowswechat qbcore)\/([\w\.]+)/i],[[t,"WeChat(Win) Desktop"],i],[/(micromessenger)\/([\w\.]+)/i],[[t,"WeChat"],i],[/(brave)\/([\w\.]+)/i],[[t,"Brave"],i],[/(whale)\/([\w\.]+)/i],[[t,"Whale"],i],[/(qqbrowserlite)\/([\w\.]+)/i],[t,i],[/(QQ)\/([\d\.]+)/i],[t,i],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[t,i],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[t,i],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[t,i],[/(MetaSr)[\/\s]?([\w\.]+)/i],[t],[/(LBBROWSER)/i],[t],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[i,[t,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[i,[t,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[t,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[t,i],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[i,[t,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[t,/(.+)/,"$1 WebView"],i],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[t,/(.+(?:g|us))(.+)/,"$1 $2"],i],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[i,[t,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[t,"Sailfish Browser"],i],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[t,i],[/(dolfin)\/([\w\.]+)/i],[[t,"Dolphin"],i],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[t,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[t,"Chrome"],i],[/(coast)\/([\w\.]+)/i],[[t,"Opera Coast"],i],[/fxios\/([\w\.-]+)/i],[i,[t,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[i,[t,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[i,t],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[t,"GSA"],i],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[t,[i,h.str,v.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[t,i],[/(navigator|netscape)\/([\w\.-]+)/i],[[t,"Netscape"],i],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[t,i]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[a,"amd64"]],[/(ia32(?=;))/i],[[a,p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[a,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[a,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[a,/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[[a,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[a,p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[e,r,[n,u]],[/applecoremedia\/[\w\.]+ \((ipad)/],[e,[r,"Apple"],[n,u]],[/(apple\s{0,1}tv)/i],[[e,"Apple TV"],[r,"Apple"],[n,l]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[r,e,[n,u]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[e,[r,"Amazon"],[n,u]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[e,h.str,v.device.amazon.model],[r,"Amazon"],[n,s]],[/android.+aft([bms])\sbuild/i],[e,[r,"Amazon"],[n,l]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[e,r,[n,s]],[/\((ip[honed|\s\w*]+);/i],[e,[r,"Apple"],[n,s]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[r,e,[n,s]],[/\(bb10;\s(\w+)/i],[e,[r,"BlackBerry"],[n,s]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[e,[r,"Asus"],[n,u]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[r,"Sony"],[e,"Xperia Tablet"],[n,u]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[e,[r,"Sony"],[n,s]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[r,e,[n,c]],[/android.+;\s(shield)\sbuild/i],[e,[r,"Nvidia"],[n,c]],[/(playstation\s[34portablevi]+)/i],[e,[r,"Sony"],[n,c]],[/(sprint\s(\w+))/i],[[r,h.str,v.device.sprint.vendor],[e,h.str,v.device.sprint.model],[n,s]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[r,[e,/_/g," "],[n,s]],[/(nexus\s9)/i],[e,[r,"HTC"],[n,u]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[e,[r,"Huawei"],[n,s]],[/android.+(bah2?-a?[lw]\d{2})/i],[e,[r,"Huawei"],[n,u]],[/(microsoft);\s(lumia[\s\w]+)/i],[r,e,[n,s]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[e,[r,"Microsoft"],[n,c]],[/(kin\.[onetw]{3})/i],[[e,/\./g," "],[r,"Microsoft"],[n,s]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[e,[r,"Motorola"],[n,s]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[e,[r,"Motorola"],[n,u]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[r,p.trim],[e,p.trim],[n,l]],[/hbbtv.+maple;(\d+)/i],[[e,/^/,"SmartTV"],[r,"Samsung"],[n,l]],[/\(dtv[\);].+(aquos)/i],[e,[r,"Sharp"],[n,l]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[r,"Samsung"],e,[n,u]],[/smart-tv.+(samsung)/i],[r,[n,l],e],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[r,"Samsung"],e,[n,s]],[/sie-(\w*)/i],[e,[r,"Siemens"],[n,s]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[r,"Nokia"],e,[n,s]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[e,[r,"Acer"],[n,u]],[/android.+([vl]k\-?\d{3})\s+build/i],[e,[r,"LG"],[n,u]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[r,"LG"],e,[n,u]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[r,"LG"],e,[n,l]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[e,[r,"LG"],[n,s]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[r,e,[n,u]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[e,[r,"Lenovo"],[n,u]],[/(lenovo)[_\s-]?([\w-]+)/i],[r,e,[n,s]],[/linux;.+((jolla));/i],[r,e,[n,s]],[/((pebble))app\/[\d\.]+\s/i],[r,e,[n,d]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[r,e,[n,s]],[/crkey/i],[[e,"Chromecast"],[r,"Google"],[n,l]],[/android.+;\s(glass)\s\d/i],[e,[r,"Google"],[n,d]],[/android.+;\s(pixel c)[\s)]/i],[e,[r,"Google"],[n,u]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[e,[r,"Google"],[n,s]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[e,/_/g," "],[r,"Xiaomi"],[n,s]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[e,/_/g," "],[r,"Xiaomi"],[n,u]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[e,[r,"Meizu"],[n,s]],[/(mz)-([\w-]{2,})/i],[[r,"Meizu"],e,[n,s]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[e,[r,"OnePlus"],[n,s]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[e,[r,"RCA"],[n,u]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[e,[r,"Dell"],[n,u]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[e,[r,"Verizon"],[n,u]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[r,"Barnes & Noble"],e,[n,u]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[e,[r,"NuVision"],[n,u]],[/android.+;\s(k88)\sbuild/i],[e,[r,"ZTE"],[n,u]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[e,[r,"Swiss"],[n,s]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[e,[r,"Swiss"],[n,u]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[e,[r,"Zeki"],[n,u]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[r,"Dragon Touch"],e,[n,u]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[e,[r,"Insignia"],[n,u]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[e,[r,"NextBook"],[n,u]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[r,"Voice"],e,[n,s]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[r,"LvTel"],e,[n,s]],[/android.+;\s(PH-1)\s/i],[e,[r,"Essential"],[n,s]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[e,[r,"Envizen"],[n,u]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[r,e,[n,u]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[e,[r,"MachSpeed"],[n,u]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[r,e,[n,u]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[e,[r,"Rotor"],[n,u]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[r,e,[n,u]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[e,[n,s]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[e,[n,u]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[n,p.lowerize],r,e],[/[\s\/\(](smart-?tv)[;\)]/i],[[n,l]],[/(android[\w\.\s\-]{0,9});.+build/i],[e,[r,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[i,[t,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[i,[t,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[t,i],[/rv\:([\w\.]{1,9}).+(gecko)/i],[i,t]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[t,i],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[t,[i,h.str,v.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[t,"Windows"],[i,h.str,v.os.windows.version]],[/\((bb)(10);/i],[[t,"BlackBerry"],i],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[t,i],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[t,"Symbian"],i],[/\((series40);/i],[t],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[t,"Firefox OS"],i],[/crkey\/([\d\.]+)/i],[i,[t,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[t,i],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[t,"Chromium OS"],i],[/(sunos)\s?([\w\.\d]*)/i],[[t,"Solaris"],i],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[t,i],[/(haiku)\s(\w+)/i],[t,i],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[i,/_/g,"."],[t,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[t,"Mac OS"],[i,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[t,i]]},g=function(e,t){if("object"==typeof e&&(t=e,e=f),!(this instanceof g))return new g(e,t).getResult();var n=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),r=t?p.extend(m,t):m;return this.getBrowser=function(){var e={name:f,version:f};return h.rgx.call(e,n,r.browser),e.major=p.major(e.version),e},this.getCPU=function(){var e={architecture:f};return h.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:f,model:f,type:f};return h.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:f,version:f};return h.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:f,version:f};return h.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};g.VERSION="0.7.23",g.BROWSER={NAME:t,MAJOR:"major",VERSION:i},g.CPU={ARCHITECTURE:a},g.DEVICE={MODEL:e,VENDOR:r,TYPE:n,CONSOLE:c,MOBILE:s,SMARTTV:l,TABLET:u,WEARABLE:d,EMBEDDED:"embedded"},g.ENGINE={NAME:t,VERSION:i},g.OS={NAME:t,VERSION:i},void 0!==E?(void 0!==_&&_.exports&&(E=_.exports=g),E.UAParser=g):(O=function(){return g}.call(E,w,E,_))===f||(_.exports=O);var y,b=o&&(o.jQuery||o.Zepto);b&&!b.ua&&(y=new g,b.ua=y.getResult(),b.ua.get=function(){return y.getUA()},b.ua.set=function(e){y.setUA(e);var t=y.getResult();for(var n in t)b.ua[n]=t[n]})}("object"==typeof window?window:this)},function(e,t,n){n(167),n(372),e.exports=n(452)},function(e,t,n){"use strict";n.r(t);n(12),n(38),n(453);var r=n(7);n.d(t,"OpenStadComponent",function(){return r.a});var o=n(10);n.d(t,"Libs",function(){return o.a});var i=n(32);n.d(t,"Forms",function(){return i.a});var a=n(443);n.d(t,"ChoicesGuide",function(){return a.ChoicesGuide}),n.d(t,"ChoicesGuideResult",function(){return a.ChoicesGuideResult});var c=n(429);n.d(t,"BaseMap",function(){return c.default});var s=n(428);n.d(t,"Lightbox",function(){return s.default});var u=n(447);n.d(t,"IdeasOnMap",function(){return u.default});var l=n(430);n.d(t,"IdeaDetails",function(){return l.default});var f=n(165);n.d(t,"IdeasOverview",function(){return f.default});var d=n(113);n.d(t,"IdeasImage",function(){return d.default});var p=n(418);n.d(t,"PreviousNextButtonBlock",function(){return p.default});var h=n(420);n.d(t,"Poll",function(){return h.default});var v=n(419);n.d(t,"Reactions",function(){return v.default})},function(e,t,n){}]);