window.OpenStadComponents=function(n){var o={};function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=114)}([function(e,t){e.exports=window.React},function(e,t,n){(function(e){function t(e,t,n){var o=n[0],r=n.length;!e&&"object"===u(o)||(o={});for(var i=0;i<r;++i){var a,c=n[i];if("object"===u(c))for(var s in c){"__proto__"!==s&&(a=e?l.clone(c[s]):c[s],o[s]=t?function e(t,n){if("object"!==u(t))return n;for(var o in n)"object"===u(t[o])&&"object"===u(n[o])?t[o]=e(t[o],n[o]):t[o]=n[o];return t}(o[s],a):a)}}return o}function u(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}var n,l;n=e&&"object"==typeof e.exports&&e.exports,(l=function(e){return t(!0===e,!1,arguments)}).recursive=function(e){return t(!0===e,!0,arguments)},l.clone=function(e){var t,n,o=e,r=u(e);if("array"===r)for(o=[],n=e.length,t=0;t<n;++t)o[t]=l.clone(e[t]);else if("object"===r)for(t in o={},e)o[t]=l.clone(e[t]);return o},n?e.exports=l:window.merge=l}).call(this,n(51)(e))},function(e,t,n){"use strict";n(10),n(0),n(3),n(78);var o=n(1),r=n.n(o);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){var t,n,o=window.location.search.match(/(?:\?|&)jwt=([A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*)(?:&|$)/);return o&&(t=o[1],s.set("osc-jwt",t),"?"==(n=document.location.search.replace("jwt="+t,""))&&(n=""),document.location.search=n),t=s.get("osc-jwt"),e&&e.jwt&&(t=e.jwt,s.set("osc-jwt",t)),t}var c={get:function(e){var t=sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==i(t))try{t=JSON.stringify(t)}catch(e){}sessionStorage.setItem(e,t)}},remove:function(e){sessionStorage.removeItem(e)}},s=c,u={admin:["admin","moderator","editor","member","anonymous","all"],moderator:["moderator","editor","member","anonymous","all"],editor:["editor","member","anonymous","all"],member:["member","anonymous","all"],anonymous:["anonymous","all"],all:["all"],owner:null};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f={get:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==l(t))try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)}},remove:function(e){localStorage.removeItem(e)}},d={api:{getHeaders:function(e){var t=r.a.recursive({"Content-type":"application/json"},e&&e.api&&e.api.headers),n=a();return n&&(t=r.a.recursive({"X-Authorization":"Bearer "+n},t)),t}},user:{getUser:function(e,t){t=t||function(e){console.log("getUser: next not defined."),console.log(e)};var n=e.user||s.get("osc-user");if(n)return t(null,n);var o=a(e);if(!o)return t(null,{});var r="".concat(e.api.url,"/oauth/site/").concat(e.siteId,"/me"),i={"X-Authorization":"Bearer ".concat(o),"Content-Type":"application/json"};fetch(r,{headers:i}).then(function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()}).then(function(e){s.set("osc-user",e),t(null,e)}).catch(function(e){t(e)})},getJWT:a,logout:function(e,t){t=t||function(e){console.log("logout: next not defined.")};var n=e.user||s.get("osc-user");if(n)return t(null,n);var o=a(e);if(!o)return t(null,{});var r=e.api.url+"/oauth/site/"+e.siteId+"/me";fetch(r,{headers:{"X-Authorization":"Bearer "+o,"Content-Type":"application/json"}}).then(function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()}).then(function(e){s.set("osc-user",e),t(null,e)}).catch(function(e){t(e)})},hasRole:function(e,t){var n=e.role;return Object.keys(u).includes(n)||(n="all"),u[n].includes(t)}},localStorage:f,sessionStorage:s,reactTemplate:function(e){var t=e.html,n=void 0===t?"":t,o=e;delete o.html;var r=0;return Object.keys(o).forEach(function(e){var t=new RegExp("^((?:.|\n|\r)*)\\{".concat(e,"\\}((?:.|\n|\r)*)$"),"g").exec(n);t&&(r++,n=React.createElement("span",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:t[1]}}),o[e],React.createElement("span",{dangerouslySetInnerHTML:{__html:t[2]}})))}),0==r&&(n=React.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),n}};t.a=d},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(0),a=n.n(o);n(73);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=d(i);return t=a?(e=d(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==c(o)&&"function"!=typeof o?f(n):o}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,a.a.Component);var e,t,n,r=l(i);function i(n){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=f(e=r.call(this,n));if(n.attributes&&Object.keys(n.attributes).forEach(function(e){var t=n.attributes[e];o[t.name]=t.value}),o.config=o.config||n.config,o.config)try{o.config=JSON.parse(o.config)}catch(e){}return o.divId=o.divId||o.config&&o.config.divId||n.id||"openstad-component-".concat(parseInt(1e8*Math.random())),window[o.divId]=f(e),e}return e=i,(t=[{key:"componentDidMount",value:function(){}}])&&s(e.prototype,t),n&&s(e,n),i}()},function(n,e,t){(function(e){function t(e){return e&&e.Math==Math&&e}n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")()}).call(this,t(19))},function(e,t,n){"use strict";n(10);var o=n(0),s=n.n(o),r=(n(3),n(79),n(1)),i=n.n(r),a=n(4);n(2);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=p(i);return t=a?(e=p(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==c(o)&&"function"!=typeof o?d(n):o}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,a["a"]);var e,t,n,o=f(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=d(t=o.call(this,e));return n.defaultConfig={choices:[],name:"",placeholder:"",disabled:!1,required:!1},n.config=i.a.recursive(n.defaultConfig,n.config,e.config||{}),n.state={value:e.value,error:null},t.onChange=e.onChange,t}return e=r,(t=[{key:"validate",value:function(e){var t=e.showErrors,n=!this.config.required||!!this.state.value,o=!n&&t?!0:"";return this.setState({isValid:n,error:o}),n}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},t.setState(e,function(){t.validate({})}),"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})}}])&&u(e.prototype,t),n&&u(e,n),r}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=v(i);return t=a?(e=v(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==m(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(r,h);var e,t,n,o=y(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"render",value:function(){var t=this;return s.a.createElement("input",{type:"hidden",value:this.props.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}})}}])&&_(e.prototype,t),n&&_(e,n),r}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=k(i);return t=a?(e=k(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==E(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(r,h);var e,t,n,o=P(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);(t=o.call(this,e)).config=i.a.recursive({allowMultiple:!1,imageserver:{process:"",fetch:""}},t.props.config,t.config||{});var n=[];return(e.value||[]).forEach(function(e){n.push({source:{url:e},options:{type:"local",file:{name:e},metadata:{poster:e}}})}),t.state={uploadedFiles:n},t}return e=r,(t=[{key:"componentDidMount",value:function(){this._loadedFiles=0,this.files=["https://unpkg.com/filepond/dist/filepond.js","https://unpkg.com/filepond-polyfill/dist/filepond-polyfill.js","https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js","https://unpkg.com/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.js","https://unpkg.com/filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.js","https://unpkg.com/filepond-plugin-file-poster/dist/filepond-plugin-file-poster.js"],this.loadNextFile()}},{key:"loadNextFile",value:function(){var e,t=this,n=t.files[t._loadedFiles];n&&((e=document.createElement("script")).src=n,e.async=!0,e&&(e.onload=function(){t.loadNextFile()},document.body.appendChild(e))),t._loadedFiles==t.files.length&&t.fileUploaderInit(),t._loadedFiles++}},{key:"validate",value:function(){var t=!0;return this.imageuploader&&this.imageuploader.getFiles&&this.imageuploader.getFiles().forEach(function(e){e.serverId||(t=!1)}),t}},{key:"fileUploaderInit",value:function(){var e,t=this,n=document.querySelector(".osc-image-upload-container");n&&(FilePond.registerPlugin(FilePondPluginImagePreview),FilePond.registerPlugin(FilePondPluginFileValidateSize),FilePond.registerPlugin(FilePondPluginFileValidateType),FilePond.registerPlugin(FilePondPluginFilePoster),e={acceptedFileTypes:["image/*"],allowFileSizeValidation:!0,allowMultiple:this.config.allowMultiple,allowReorder:!0,styleItemPanelAspectRatio:1,maxFileSize:"8mb",name:"image",maxFiles:5,allowBrowse:!0,files:this.state.uploadedFiles,server:{process:this.config.imageserver.process,fetch:this.config.imageserver.fetch},imageResizeTargetWidth:80,imageResizeTargetHeight:80,imageCropAspectRatio:"1:1",labelIdle:"Sleep afbeelding(en) naar deze plek of <span class='filepond--label-action'>KLIK HIER</span>",labelInvalidField:"Field contains invalid files",labelFileWaitingForSize:"Wachtend op grootte",labelFileSizeNotAvailable:"Grootte niet beschikbaar",labelFileCountSingular:"Bestand in lijst",labelFileCountPlural:"Bestanden in lijst",labelFileLoading:"Laden",labelFileAdded:"Toegevoegd",labelFileLoadError:"Fout bij het uploaden",labelFileRemoved:"Verwijderd",labelFileRemoveError:"Fout bij het verwijderen",labelFileProcessing:"Laden",labelFileProcessingComplete:"Afbeelding geladen",labelFileProcessingAborted:"Upload cancelled",labelFileProcessingError:"Error during upload",labelFileProcessingRevertError:"Error during revert",labelTapToCancel:"tap to cancel",labelTapToRetry:"tap to retry",labelTapToUndo:"tap to undo",labelButtonRemoveItem:"Verwijderen",labelButtonAbortItemLoad:"Abort",labelButtonRetryItemLoad:"Retry",labelButtonAbortItemProcessing:"Verwijder",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Retry",labelButtonProcessItem:"Upload"},t.imageuploader=FilePond.create(n,e),document.querySelector(".filepond--root"),document.querySelector(".filepond--root").addEventListener("FilePond:processfile",function(e){e.detail&&e.detail.error&&console.log("Error uploding file: ",e.detail),t.fileUploaderUpdateCurrentInput()}),document.querySelector(".filepond--root").addEventListener("FilePond:removefile",function(e){e.detail&&e.detail.error&&console.log("Error uploding file: ",e.detail),t.fileUploaderUpdateCurrentInput()}),t.state.formfields&&t.imageuploader.addFiles(t.state.formfields.images))}},{key:"fileUploaderUpdateCurrentInput",value:function(){var n=this;n.state.value=[],this.imageuploader&&this.imageuploader.getFiles&&this.imageuploader.getFiles().forEach(function(e){try{var t="string"==typeof e.serverId?JSON.parse(e.serverId):e.serverId;n.state.value.push(t.url)}catch(e){console.log(e)}}),n.props.onChange({name:n.config.name,value:n.state.value})}},{key:"fileUploaderUploaderAddImages",value:function(e){this.imageuploader&&this.imageuploader.addFiles(e)}},{key:"render",value:function(){var e=null;return this.state.error&&(e=s.a.createElement("div",{className:"osc-form-error"},"Je hebt nog geen afbeelding geupload")),s.a.createElement("div",{className:"osc-image-upload-container"},s.a.createElement("input",{type:"file",className:"imageUploader-gebiedstool filepond-gebiedstool"}),e)}}])&&O(e.prototype,t),n&&O(e,n),r}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=D(i);return t=a?(e=D(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==C(o)&&"function"!=typeof o?L(n):o}}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(r,s.a.Component);var e,t,n,o=R(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e)).state={value:t.props.value},t.onKeyUpx=t.onKeyUpx.bind(L(t)),t}return e=r,(t=[{key:"componentDidMount",value:function(){var e=this.props.value,e=this.filterHTML(e);this.input.innerHTML=e}},{key:"filterHTML",value:function(e){return e=(e=(e=e.replace(/<(\/?\s*(?:a [^>]+|a|b|i|strong|em|p|div|br|ul|li)\s*\/?)>/g,"[[[$1]]]")).replace(/<[^>]+>/g,"")).replace(/\[\[\[([^\]]+)\]\]\]/g,"<$1>")}},{key:"executeAction",value:function(e,t,n){e.preventDefault(),e.stopPropagation(),document.execCommand(t,!1,n),this.onKeyUp()}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e),this.props.onChange&&this.props.onChange({value:this.state.value})}},{key:"onKeyUpx",value:function(){var e=this.input.innerHTML,e=this.filterHTML(e);this.setState({value:e}),this.props.onKeyUp&&this.props.onKeyUp(e)}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"osc-html-editor"},s.a.createElement("div",{className:"osc-html-editor-buttons"},s.a.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-bold",onMouseDown:function(e){return t.executeAction(e,"bold")}}," "),s.a.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-italic",onMouseDown:function(e){return t.executeAction(e,"italic")}}," "),s.a.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-insertunorderedlist",onMouseDown:function(e){return t.executeAction(e,"insertunorderedlist")}}," "),s.a.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-createlink",onMouseDown:function(e){return t.executeAction(e,"createlink",prompt("Lank naar","http://"))}}," ")),s.a.createElement("div",{className:"osc-html-editor-content",contentEditable:!0,onFocus:function(e){return t.onFocus(e)},onBlur:function(e){return t.onBlur(e)},onKeyUp:function(){return t.onKeyUpx()},ref:function(e){return t.input=e}}))}}])&&S(e.prototype,t),n&&S(e,n),r}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=U(i);return t=a?(e=U(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==j(o)&&"function"!=typeof o?B(n):o}}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(r,s.a.Component);var e,t,n,o=N(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=B(t=o.call(this,e));return n.id=e.id||"osc-formfields-plaintext-with-counter-"+parseInt(1e6*Math.random()),n.defaultConfig={name:"tekst",inputType:"input",minLength:5,maxLength:10,placeholder:""},n.config=i.a.recursive(n.defaultConfig,n.config,e.config||{}),n.state={focused:!1,value:e.value||"",valueLength:e.value&&e.value.length||0},n.key=e.useKey||(n.id||"osc-input-with-counter-")+parseInt(1e7*Math.random),t.onChange=e.onChange,n.handleOnChange=n.handleOnChange.bind(B(t)),n.onInputFocus=n.onInputFocus.bind(B(t)),n.onInputBlur=n.onInputBlur.bind(B(t)),n.onInputKeyUp=n.onInputKeyUp.bind(B(t)),t}return e=r,(t=[{key:"isValid",value:function(){var e={isValid:!0,warning:null};return this.state.valueLength<this.config.minLength&&(e.warning="De tekst is te kort",e.isValid=!1),this.state.valueLength>this.config.maxLength&&(e.warning="De tekst is te lang",e.isValid=!1),this.setState(e),e.isValid}},{key:"validate",value:function(){return this.setState({showWarning:!0}),this.isValid()}},{key:"handleOnChange",value:function(e){e=e||{},this.setState(e),"function"==typeof this.onChange&&this.onChange({name:this.config.name,value:e.value})}},{key:"onInputFocus",value:function(){var e={focused:!0,showWarning:!1};this.setState(e)}},{key:"onInputBlur",value:function(){var e={focused:!1};this.setState(e)}},{key:"onInputKeyUp",value:function(e){var t={};t.value=e||this.input.value;var n=t.value.length;t.valueLength=n,t.isValid=n>=this.config.minLength&&n<=this.config.maxLength,this.setState(t)}},{key:"render",value:function(){var e,t=this,n=this,o=null,r=null;n.state.focused&&(o=n.state.valueLength<n.config.minLength?s.a.createElement("div",{className:"osc-form-counter osc-form-error"},"Nog minimaal ",s.a.createElement("span",{className:""},n.config.minLength-n.state.valueLength)," tekens"):(e=n.state.valueLength>n.config.maxLength?"osc-form-error":"",s.a.createElement("div",{className:"osc-form-counter "+e},"Je hebt nog ",s.a.createElement("span",{className:""},n.config.maxLength-n.state.valueLength)," tekens over."))),n.state.showWarning&&n.state.warning&&(r=s.a.createElement("div",{className:"osc-form-warning",ref:function(e){return t["form-warning"]=e}},n.state.warning));var i=null;switch(n.config.inputType){case"htmlarea":i=s.a.createElement(T,{value:this.state.value,onChange:n.handleOnChange,onFocus:n.onInputFocus,onBlur:n.onInputBlur,onKeyUp:n.onInputKeyUp});break;case"textarea":i=s.a.createElement("textarea",{key:n.key,ref:function(e){return n.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return n.handleOnChange({value:n.input.value})},onKeyUp:function(){return n.onInputKeyUp()},onFocus:function(e){return n.onInputFocus(e)},onBlur:function(e){return n.onInputBlur(e)}});break;case"input":default:i=s.a.createElement("input",{key:n.key,ref:function(e){return n.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return n.handleOnChange({value:n.input.value})},onKeyUp:function(){return n.onInputKeyUp()},onFocus:function(e){return n.onInputFocus(e)},onBlur:function(e){return n.onInputBlur(e)}})}return s.a.createElement("div",{id:n.id,ref:function(e){return n.instance=e},className:"osc-input-with-counter"},s.a.createElement("div",{className:"osc-form-feedback"},i,o,r))}}])&&x(e.prototype,t),n&&x(e,n),r}();function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=V(i);return t=a?(e=V(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==W(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(r,h);var e,t,n,o=H(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=s.a.createElement("div",{className:"osc-form-error"},"Je hebt nog geen keuze gemaakt")),s.a.createElement("div",{className:"osc-radios"},t.config.choices.map(function(e){return e.dangerousDescription?s.a.createElement("div",{className:"osc-radio-container",key:e.value},s.a.createElement("div",{className:"osc-radio-input".concat(t.state.value==e.value?" osc-radio-input-checked":"")},s.a.createElement("input",{type:"radio",name:t.divId,value:e.value,onChange:function(){return t.handleOnChange({value:e.value})}})),s.a.createElement("div",{className:"osc-radio-text",dangerouslySetInnerHTML:{__html:e.dangerousDescription}})):s.a.createElement("div",{className:"osc-radio-container",key:e.value},s.a.createElement("div",{className:"osc-radio-input".concat(t.state.value==e.value?" osc-radio-input-checked":"")},s.a.createElement("input",{type:"radio",name:t.divId,value:e.value,onChange:function(){return t.handleOnChange({value:e.value})}})),s.a.createElement("div",{className:"osc-radio-text"},e.dangerousDescription?null:e.description||e.title||e.value))}),e)}}])&&q(e.prototype,t),n&&q(e,n),r}();function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=Z(i);return t=a?(e=Z(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==z(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(r,h);var e,t,n,o=$(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"validate",value:function(e){var t=e.showErrors,n=!0,o="";return this.state.value&&this.state.value.match(/^\s*\d{4}\s*[a-zA-Z][a-zA-Z]\s*$/)||(n=!1,t&&(o="Dit is geen postcode")),this.config.required&&!this.state.value&&(n=!1,t&&(o="Je hebt nog niets ingevuld")),this.setState({isValid:n,error:o}),n}},{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=s.a.createElement("div",{className:"osc-form-error"},t.state.error)),s.a.createElement("div",{className:"osc-textinput"},s.a.createElement("input",{type:"text",value:this.props.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}}),e)}}])&&J(e.prototype,t),n&&J(e,n),r}();function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=oe(i);return t=a?(e=oe(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==X(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(r,h);var e,t,n,o=ne(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"componentDidMount",value:function(){var e=this.state.value||this.config.choices[0]&&this.config.choices[0].value;this.handleOnChange({value:e})}},{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=s.a.createElement("div",{className:"osc-form-error"},"Je hebt nog geen keuze gemaakt")),s.a.createElement("div",{className:"osc-select"},s.a.createElement("select",{value:this.state.value||"",disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}},t.config.choices.map(function(e){return s.a.createElement("option",{value:e.value||"",key:e.value},e.description||e.title||e.value)})),e)}}])&&ee(e.prototype,t),n&&ee(e,n),r}();function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=ue(i);return t=a?(e=ue(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==ie(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(r,h);var e,t,n,o=se(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=s.a.createElement("div",{className:"osc-form-error"},"Je hebt nog niets ingevuld")),s.a.createElement("div",{className:"osc-textinput"},s.a.createElement("input",{type:"text",value:this.props.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}}),e)}}])&&ae(e.prototype,t),n&&ae(e,n),r}();function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=me(i);return t=a?(e=me(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==fe(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(r,h);var e,t,n,o=he(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=s.a.createElement("div",{className:"osc-form-error"},"Je hebt nog niets ingevuld")),s.a.createElement("div",{className:"osc-textarea"},s.a.createElement("textarea",{value:this.props.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}},this.state.value),e)}}])&&de(e.prototype,t),n&&de(e,n),r}();function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function ve(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ye(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function be(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=Pe(i);return t=a?(e=Pe(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==ge(o)&&"function"!=typeof o?we(n):o}}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(r,a["a"]);var e,t,n,o=Oe(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=we(t=o.call(this,e));return n.defaultConfig={inputType:null,validateAction:null,changeAction:null,required:!1,title:null,description:null,choices:[]},n.config=i.a.recursive(n.defaultConfig,n.config,e.config||{}),n.config.name=n.config.name||n.config.title.toLowerCase(),n.state={value:e.value||void 0},n.handleOnChange=n.handleOnChange.bind(n),n.onChange=e.onChange,t}return e=r,(t=[{key:"validate",value:function(e){var t=e.showErrors;return!this.input||this.input.validate({showErrors:t})}},{key:"handleOnChange",value:function(e){"function"==typeof this.onChange&&this.onChange(e)}},{key:"render",value:function(){var t=this,e=null;t.config.title&&(e=React.createElement("h3",{className:"osc-form-title"},t.config.title));var n=null;t.config.description&&(n=React.createElement("div",{className:"osc-form-description",dangerouslySetInnerHTML:{__html:t.config.description}}));var o=null;switch(t.config.inputType){case"hidden":o=React.createElement(b,{config:t.config,value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"html-with-counter":case"htmlarea-with-counter":o=React.createElement(F,{config:ve(ve({},t.config),{},{inputType:"htmlarea"}),value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"image-upload":o=React.createElement(I,{config:t.config,value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"input-with-counter":case"text-with-counter":o=React.createElement(F,{config:ve({inputType:"input"},t.config),value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"postcode":o=React.createElement(Y,{config:t.config,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"radios":o=React.createElement(G,{config:t.config,value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"select":case"multiple-choice":o=React.createElement(re,{config:t.config,value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"text":o=React.createElement(le,{config:t.config,value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"textarea":o=React.createElement(_e,{config:t.config,value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"textarea-with-counter":o=React.createElement(F,{config:ve(ve({},t.config),{},{inputType:"textarea"}),value:this.props.value||this.config.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}})}return React.createElement("div",{id:t.id,ref:function(e){return t.instance=e},className:"osc-form-field"},e,n,o)}}])&&be(e.prototype,t),n&&be(e,n),r}();function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=Te(i);return t=a?(e=Te(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==Ie(o)&&"function"!=typeof o?De(n):o}}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var je=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(r,a["a"]);var e,t,n,o=Le(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=De(t=o.call(this,e));return n.defaultConfig={title:null,intro:null,fields:[]},n.config=i.a.recursive(n.defaultConfig,n.config,e.config||{}),n.state={values:e.values||{}},n.handleOnChange=n.handleOnChange.bind(De(t)),n.fields=[],t}return e=r,(t=[{key:"getValues",value:function(){return this.state.values}},{key:"validate",value:function(e){var t=e.showErrors,n=!0,o=null;return this.fields.forEach(function(e){e.validate({showErrors:t})||(n=!1,o=o||e)}),o&&o.instance&&o.instance.scrollIntoView&&o.instance.scrollIntoView({behavior:"smooth"}),n}},{key:"handleOnChange",value:function(e){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ce(Object(n),!0).forEach(function(e){Se(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.state.values);t[e.name]=e.value,this.setState({values:t})}},{key:"render",value:function(){var n=this,e=null;n.config.title&&(e=React.createElement("h2",{className:"osc-form-title"},n.config.title));var t=null;n.config.intro&&(t=React.createElement("div",{className:"osc-form-intro",dangerouslySetInnerHTML:{__html:n.config.intro}}));var o=null;return n.config.fields&&n.config.fields.length&&(o=React.createElement("div",{className:"osc-form-fields"},n.config.fields.map(function(e,t){return React.createElement(ke,Se({config:e,onChange:n.handleOnChange,ref:function(e){return n.input=e},key:"osc-form-field-".concat(t)},"ref",function(e){n.fields[t]=e}))}))),React.createElement("div",{id:n.divId,className:"osc-form",ref:function(e){return n.instance=e}},e,t,o)}}])&&Me(e.prototype,t),n&&Me(e,n),r}();function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=Fe(i);return t=a?(e=Fe(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==xe(o)&&"function"!=typeof o?Ue(n):o}}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var We=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(r,s.a.Component);var e,t,n,o=Be(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e)).state={value:t.props.value,touched:t.props.touched||!1},t.handleChange=t.handleChange.bind(Ue(t)),t}return e=r,(t=[{key:"handleChange",value:function(e){var t=e.target.value;"function"==typeof this.props.onChange&&this.props.onChange(t),this.setState({value:t,touched:!0})}},{key:"doTouch",value:function(){"function"==typeof this.props.onChange&&this.props.onChange(50),this.setState({touched:!0})}},{key:"calcProgress",value:function(e,t,n){return 2*(n-e)/(t-e)-1}},{key:"render",value:function(){var t=this,e=t.state,n=e.value,o=e.touched,r=t.props,i=r.min,a=r.max,c=r.step;return s.a.createElement("div",{className:"".concat(t.props.className," osc-slider")},s.a.createElement("div",{className:"osc-slider-track-container"},s.a.createElement("div",{className:"osc-slider-track"}),s.a.createElement("div",{className:"osc-slider-track-progress-container"},s.a.createElement("div",{className:"osc-slider-track-progress",style:{transform:"scaleX("+t.calcProgress(i,a,n)+")"}})),s.a.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-left"}),s.a.createElement("div",{className:"osc-slider-track-dot-start osc-slider-track-dot-center"}),s.a.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-right"})),s.a.createElement("input",{type:"range",min:i,max:a,step:c,value:n,onClick:function(){o||t.doTouch()},onChange:t.handleChange,className:o?"osc-slider-input-range":"osc-slider-input-range osc-slider-untouched",ref:function(e){return t.input=e}}))}}])&&Ae(e.prototype,t),n&&Ae(e,n),r}();t.a={Form:je,FormField:ke,Hidden:b,ImageUpload:I,InputWithCounter:F,Postcode:Y,Radios:G,Select:re,Text:le,Textarea:_e,Slider:We}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var o=n(9);e.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";(function(i){var t,n,o="URLSearchParams"in self,r="Symbol"in self&&"iterator"in Symbol,c="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in self,s="ArrayBuffer"in self;function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function e(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function d(e){if(e.bodyUsed)return i.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(n){return new i(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function h(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(e){var t;(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:c&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&c&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||n(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return i.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return i.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return i.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||i.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,n,o=d(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=p(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return i.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return i.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}s&&(t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(e){return e&&-1<t.indexOf(Object.prototype.toString.call(e))}),f.prototype.append=function(e,t){e=u(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),e(n)},f.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},f.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),e(n)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var n,o,r=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",o=n.toUpperCase(),-1<g.indexOf(o)?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function v(e){var r=new FormData;return e.trim().split("&").forEach(function(e){var t,n,o;e&&(n=(t=e.split("=")).shift().replace(/\+/g," "),o=t.join("=").replace(/\+/g," "),r.append(decodeURIComponent(n),decodeURIComponent(o)))}),r}function b(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},_.call(y.prototype),_.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];b.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var O=self.DOMException;try{new O}catch(e){(O=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),O.prototype.constructor=O}function w(r,a){return new i(function(o,e){var t=new y(r,a);if(t.signal&&t.signal.aborted)return e(new O("Aborted","AbortError"));var i=new XMLHttpRequest;function n(){i.abort()}i.onload=function(){var e,r,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",r=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t,n=e.split(":"),o=n.shift().trim();o&&(t=n.join(":").trim(),r.append(o,t))}),r)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var n="response"in i?i.response:i.responseText;o(new b(n,t))},i.onerror=function(){e(new TypeError("Network request failed"))},i.ontimeout=function(){e(new TypeError("Network request failed"))},i.onabort=function(){e(new O("Aborted","AbortError"))},i.open(t.method,t.url,!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&c&&(i.responseType="blob"),t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",n),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",n)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=f,self.Request=y,self.Response=b)}).call(this,n(36))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var o=n(8),r=n(13),i=n(21);e.exports=o?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(8),r=n(23),i=n(14),a=n(22),c=Object.defineProperty;t.f=o?c:function(e,t,n){if(i(e),t=a(t,!0),i(n),r)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(11);e.exports=function(e){if(!o(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var o=n(42),r=n(44);e.exports=function(e){return o(r(e))}},function(e,t,n){var o=n(5),r=n(12);e.exports=function(t,n){try{r(o,t,n)}catch(e){o[t]=n}return n}},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var o=n(8),r=n(52),i=n(21),a=n(15),c=n(22),s=n(7),u=n(23),l=Object.getOwnPropertyDescriptor;t.f=o?l:function(e,t){if(e=a(e),t=c(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var o=n(8),r=n(9),i=n(24);e.exports=!o&&!r(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(5),r=n(11),i=o.document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var o=n(26),r=Function.toString;"function"!=typeof o.inspectSource&&(o.inspectSource=function(e){return r.call(e)}),e.exports=o.inspectSource},function(e,t,n){var o=n(5),r=n(16),i="__core-js_shared__",a=o[i]||r(i,{});e.exports=a},function(e,t,n){var o=n(28),r=n(29),i=o("keys");e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var o=n(56),r=n(26);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:o?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+o).toString(36)}},function(e,t,n){function o(e){return"function"==typeof e?e:void 0}var r=n(59),i=n(5);e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var a=n(7),c=n(15),s=n(34).indexOf,u=n(17);e.exports=function(e,t){var n,o=c(e),r=0,i=[];for(n in o)!a(u,n)&&a(o,n)&&i.push(n);for(;t.length>r;)a(o,n=t[r++])&&(~s(i,n)||i.push(n));return i}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?o:n)(e)}},function(e,t,n){var o=n(9);e.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},function(e,t,n){function o(c){return function(e,t,n){var o,r=s(e),i=u(r.length),a=l(n,i);if(c&&t!=t){for(;a<i;)if((o=r[a++])!=o)return!0}else for(;a<i;a++)if((c||a in r)&&r[a]===t)return c||a||0;return!c&&-1}}var s=n(15),u=n(45),l=n(61);e.exports={includes:o(!0),indexOf:o(!1)}},function(e,r,i){"use strict";(function(t){i.d(r,"a",function(){return e}),i.d(r,"b",function(){return n}),i.d(r,"c",function(){return o});var e=function(){return(e=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function n(e,a,c,s){return new(c=c||t)(function(n,t){function o(e){try{i(s.next(e))}catch(e){t(e)}}function r(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(o,r)}i((s=s.apply(e,a||[])).next())})}function o(n,o){var r,i,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){c.label=t[1];break}if(6===t[0]&&c.label<a[1]){c.label=a[1],a=t;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(t);break}a[2]&&c.ops.pop(),c.trys.pop();continue}t=o.call(n,c)}catch(e){t=[6,e],i=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}Object.create;Object.create}).call(this,i(36))},function(e,t,n){e.exports=n(49).Promise},function(e,t,n){var l=n(5),f=n(20).f,d=n(12),p=n(53),h=n(16),m=n(57),_=n(63);e.exports=function(e,t){var n,o,r,i,a=e.target,c=e.global,s=e.stat,u=c?l:s?l[a]||h(a,{}):(l[a]||{}).prototype;if(u)for(n in t){if(r=t[n],o=e.noTargetGet?(i=f(u,n))&&i.value:u[n],!_(c?n:a+(s?".":"#")+n,e.forced)&&void 0!==o){if(typeof r==typeof o)continue;m(r,o)}(e.sham||o&&o.sham)&&d(r,"sham",!0),p(u,n,r,e)}}},function(e,t,n){var o=n(47),r=n(66),i=n(13),a=o("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:r(null)}),e.exports=function(e){c[a][e]=!0}},function(e,t,n){function a(e){throw e}var c=n(8),s=n(9),u=n(7),l=Object.defineProperty,f={};e.exports=function(e,t){if(u(f,e))return f[e];var n=[][e],o=!!u(t=t||{},"ACCESSORS")&&t.ACCESSORS,r=u(t,0)?t[0]:a,i=u(t,1)?t[1]:void 0;return f[e]=!!n&&!s(function(){if(o&&!c)return!0;var e={length:-1};o?l(e,1,{enumerable:!0,get:a}):e[1]=1,n.call(e,r,i)})}},function(e,t,n){var o=n(5),r=n(46),i=Function.call;e.exports=function(e,t,n){return r(i,o[e].prototype[t],n)}},function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var s,u=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?u=s.concat(u):f=-1,u.length&&p())}function p(){if(!l){var e=c(d);l=!0;for(var t=u.length;t;){for(s=u,u=[];++f<t;)s&&s[f].run();f=-1,t=u.length}s=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){var o=n(9),r=n(43),i="".split;e.exports=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==r(e)?i.call(e,""):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var o=n(32),r=Math.min;e.exports=function(e){return 0<e?r(o(e),9007199254740991):0}},function(e,t,n){var i=n(64);e.exports=function(o,r,e){if(i(o),void 0===r)return o;switch(e){case 0:return function(){return o.call(r)};case 1:return function(e){return o.call(r,e)};case 2:return function(e,t){return o.call(r,e,t)};case 3:return function(e,t,n){return o.call(r,e,t,n)}}return function(){return o.apply(r,arguments)}}},function(e,t,n){var o=n(5),r=n(28),i=n(7),a=n(29),c=n(33),s=n(65),u=r("wks"),l=o.Symbol,f=s?l:l&&l.withoutSetter||a;e.exports=function(e){return i(u,e)||(c&&i(l,e)?u[e]=l[e]:u[e]=f("Symbol."+e)),u[e]}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return g}),n.d(t,"Image",function(){return g}),n.d(t,"IdeaImage",function(){return w});n(10);var o=n(0),c=n.n(o),r=n(3),i=n.n(r),a=(n(87),n(1)),s=n.n(a),u=n(4);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=_(i);return t=a?(e=_(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==d(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(r,u["a"]);var e,t,n,o=m(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);return(t=o.call(this,e)).config=s.a.recursive({aspectRatio:"16x9",allowMultipleImages:!1},t.config,t.props.config||{}),t.state={currentImageIndex:0,width:0},t}return e=r,(t=[{key:"componentDidMount",value:function(){var e=document.querySelector("#".concat(this.divId)).parentNode;this.setState({width:e.offsetWidth})}},{key:"setCurrentImageIndex",value:function(e){this.setState({currentImageIndex:e})}},{key:"getImagesFromProps",value:function(){var e=this.props.images;this.props.image||e[this.state.currentImageIndex];return[this.props.image,e]}},{key:"getImageSrc",value:function(e){var t=e;return"object"==d(e)&&e.src&&(t=e.src),t}},{key:"getAspectRatioFactor",value:function(){if(this.props.width&&this.props.height)return this.props.width/this.props.height;var e=this.config.aspectRatio.match(/(\d+)x(\d+)/);return e?e[1]/e[2]:16/9}},{key:"getWidthHeight",value:function(){var e=this.props.width||this.state.width;return[e,this.props.height||e*(1/this.getAspectRatioFactor())]}},{key:"render",value:function(){var i=this,e=l(i.getImagesFromProps(),2),t=e[0],n=e[1],o=l(i.getWidthHeight(),2),a=o[0],r=o[1];return i.config.allowMultipleImages&&1<n.length?c.a.createElement("div",{id:i.divId,className:"osc-multiple-images ".concat(i.props.className||"")},c.a.createElement("div",{className:"osc-image-spacer",style:{width:a,height:r}},c.a.createElement("div",{className:"osc-image",style:t?{backgroundImage:"url(".concat(i.getImageSrc(t),")")}:{},key:"image-"+i.divId})),c.a.createElement("div",{className:"osc-multiple-images-thumbs",style:{height:.1*i.state.width}},n.map(function(e,t){var n=.1*a;console.log(n);var o=n*i.getAspectRatioFactor();console.log(o);var r=1.05*o*t;return c.a.createElement("div",{className:"osc-image-thumb-spacer",key:"osc-image-thumb-".concat(t),style:{left:r,width:o,height:n}},c.a.createElement("div",{className:"osc-image-thumb",style:e?{backgroundImage:"url(".concat(i.getImageSrc(e),")"),zIndex:10-t}:{},onClick:function(){return i.setCurrentImageIndex(t)}}))}))):c.a.createElement("div",{id:i.divId,className:"osc-image-spacer ".concat(i.props.className||""),style:{width:a,height:r}},c.a.createElement("div",{className:"osc-image",style:t?{backgroundImage:"url(".concat(i.getImageSrc(t),")")}:{},onClick:this.props.onClick,key:"image-"+i.divId}))}}])&&p(e.prototype,t),n&&p(e,n),r}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=O(i);return t=a?(e=O(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==y(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(r,g);var e,t,n,o=E(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return e=r,(t=[{key:"getImagesFromProps",value:function(){var e=this.props.idea;if(!e)return["",[""]];var t=e.extraData&&e.extraData.images||[];return[e.posterImage&&e.posterImage.key||e.extraData&&e.extraData.images&&e.extraData.images[this.state.currentImageIndex],t]}}])&&v(e.prototype,t),n&&v(e,n),r}();w.renderElement=function(e,t){var n=e.attributes;i.a.render(c.a.createElement(w,{attributes:n,config:t}),e)}},function(e,t,fe){(function(se,ue){var le;e.exports=function(){"use strict";function n(e){return typeof e==="function"||typeof e==="object"&&e!==null}function u(e){return typeof e==="function"}var e=undefined;if(!Array.isArray){e=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{e=Array.isArray}var o=e,r=0,i=undefined,a=undefined,c=function e(t,n){b[r]=t;b[r+1]=n;r+=2;if(r===2){if(a){a(E)}else{w()}}};function t(e){a=e}function s(e){c=e}var l=typeof window!=="undefined"?window:undefined,f=l||{},d=f.MutationObserver||f.WebKitMutationObserver,p=typeof self==="undefined"&&typeof se!=="undefined"&&{}.toString.call(se)==="[object process]",h=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function m(){return function(){return se.nextTick(E)}}function _(){return function(){i(E)}}function g(){var e=0;var t=new d(E);var n=document.createTextNode("");t.observe(n,{characterData:true});return function(){n.data=e=++e%2}}function y(){var e=new MessageChannel;e.port1.onmessage=E;return function(){return e.port2.postMessage(0)}}function v(){var e=setTimeout;return function(){return e(E,1)}}var b=new Array(1e3);function E(){for(var e=0;e<r;e+=2){var t=b[e];var n=b[e+1];t(n);b[e]=undefined;b[e+1]=undefined}r=0}function O(){try{var e=le;var t=fe(50);i=t.runOnLoop||t.runOnContext;return _()}catch(e){return v()}}var w=undefined;if(p){w=m()}else if(d){w=g()}else if(h){w=y()}else if(l===undefined&&"function"==="function"){w=O()}else{w=v()}function P(e,t){var n=arguments;var o=this;var r=new this.constructor(C);if(r[I]===undefined){Y(r)}var i=o._state;if(i){(function(){var e=n[i-1];c(function(){return J(i,r,e,o._result)})})()}else{K(o,r,e,t)}return r}function k(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var n=new t(C);U(n,e);return n}var I=Math.random().toString(36).substring(16);function C(){}var S=void 0,M=1,R=2,L=new V;function D(){return new TypeError("You cannot resolve a promise with itself")}function T(){return new TypeError("A promises callback cannot return that same promise.")}function j(e){try{return e.then}catch(e){L.error=e;return L}}function x(e,t,n,o){try{e.call(t,n,o)}catch(e){return e}}function A(e,o,r){c(function(t){var n=false;var e=x(r,o,function(e){if(n){return}n=true;if(o!==e){U(t,e)}else{W(t,e)}},function(e){if(n){return}n=true;q(t,e)},"Settle: "+(t._label||" unknown promise"));if(!n&&e){n=true;q(t,e)}},e)}function N(t,e){if(e._state===M){W(t,e._result)}else if(e._state===R){q(t,e._result)}else{K(e,undefined,function(e){return U(t,e)},function(e){return q(t,e)})}}function B(e,t,n){if(t.constructor===e.constructor&&n===P&&t.constructor.resolve===k){N(e,t)}else{if(n===L){q(e,L.error)}else if(n===undefined){W(e,t)}else if(u(n)){A(e,t,n)}else{W(e,t)}}}function U(e,t){if(e===t){q(e,D())}else if(n(t)){B(e,t,j(t))}else{W(e,t)}}function F(e){if(e._onerror){e._onerror(e._result)}H(e)}function W(e,t){if(e._state!==S){return}e._result=t;e._state=M;if(e._subscribers.length!==0){c(H,e)}}function q(e,t){if(e._state!==S){return}e._state=R;e._result=t;c(F,e)}function K(e,t,n,o){var r=e._subscribers;var i=r.length;e._onerror=null;r[i]=t;r[i+M]=n;r[i+R]=o;if(i===0&&e._state){c(H,e)}}function H(e){var t=e._subscribers;var n=e._state;if(t.length===0){return}var o=undefined,r=undefined,i=e._result;for(var a=0;a<t.length;a+=3){o=t[a];r=t[a+n];if(o){J(n,o,r,i)}else{r(i)}}e._subscribers.length=0}function V(){this.error=null}var G=new V;function z(e,t){try{return e(t)}catch(e){G.error=e;return G}}function J(e,t,n,o){var r=u(n),i=undefined,a=undefined,c=undefined,s=undefined;if(r){i=z(n,o);if(i===G){s=true;a=i.error;i=null}else{c=true}if(t===i){q(t,T());return}}else{i=o;c=true}if(t._state!==S){}else if(r&&c){U(t,i)}else if(s){q(t,a)}else if(e===M){W(t,i)}else if(e===R){q(t,i)}}function Q(n,e){try{e(function e(t){U(n,t)},function e(t){q(n,t)})}catch(e){q(n,e)}}var $=0;function Z(){return $++}function Y(e){e[I]=$++;e._state=undefined;e._result=undefined;e._subscribers=[]}function X(e,t){this._instanceConstructor=e;this.promise=new e(C);if(!this.promise[I]){Y(this.promise)}if(o(t)){this._input=t;this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0){W(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){W(this.promise,this._result)}}}else{q(this.promise,ee())}}function ee(){return new Error("Array Methods must be provided an Array")}function te(e){return new X(this,e).promise}function ne(r){var i=this;if(o(r))return new i(function(e,t){for(var n=r.length,o=0;o<n;o++)i.resolve(r[o]).then(e,t)});else return new i(function(e,t){return t(new TypeError("You must pass an array to race."))})}function oe(e){var t=new this(C);return q(t,e),t}function re(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ie(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ae(e){this[I]=Z();this._result=this._state=undefined;this._subscribers=[];if(C!==e){typeof e!=="function"&&re();this instanceof ae?Q(this,e):ie()}}function ce(){var e=undefined;if(typeof ue!=="undefined"){e=ue}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if(n==="[object Promise]"&&!t.cast){return}}e.Promise=ae}return X.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===S&&n<e;n++)this._eachEntry(t[n],n)},X.prototype._eachEntry=function(t,e){var n,o,r=this._instanceConstructor,i=r.resolve;i===k?(n=j(t))===P&&t._state!==S?this._settledAt(t._state,e,t._result):"function"!=typeof n?(this._remaining--,this._result[e]=t):r===ae?(B(o=new r(C),t,n),this._willSettleAt(o,e)):this._willSettleAt(new r(function(e){return e(t)}),e):this._willSettleAt(i(t),e)},X.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===S&&(this._remaining--,e===R?q(o,n):this._result[t]=n),0===this._remaining&&W(o,this._result)},X.prototype._willSettleAt=function(e,t){var n=this;K(e,void 0,function(e){return n._settledAt(M,t,e)},function(e){return n._settledAt(R,t,e)})},ae.all=function(e){return new X(this,e).promise},ae.race=function(r){var i=this;return o(r)?new i(function(e,t){for(var n=r.length,o=0;o<n;o++)i.resolve(r[o]).then(e,t)}):new i(function(e,t){return t(new TypeError("You must pass an array to race."))})},ae.resolve=k,ae.reject=function(e){var t=new this(C);return q(t,e),t},ae._setScheduler=function(e){a=e},ae._setAsap=function(e){c=e},ae._asap=c,ae.prototype={constructor:ae,then:P,catch:function(e){return this.then(null,e)}},ce(),ae.polyfill=ce,ae.Promise=ae}()}).call(this,fe(41),fe(19))},function(e,t){},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var o={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!o.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:o},function(e,t,n){var c=n(5),s=n(12),u=n(7),l=n(16),o=n(25),r=n(54),i=r.get,f=r.enforce,d=String(String).split("String");(e.exports=function(e,t,n,o){var r=!!o&&!!o.unsafe,i=!!o&&!!o.enumerable,a=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof t||u(n,"name")||s(n,"name",t),f(n).source=d.join("string"==typeof t?t:"")),e!==c?(r?!a&&e[t]&&(i=!0):delete e[t],i?e[t]=n:s(e,t,n)):i?e[t]=n:l(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||o(this)})},function(e,t,n){var o,r,i,a,c,s,u,l,f=n(55),d=n(5),p=n(11),h=n(12),m=n(7),_=n(27),g=n(17),y=d.WeakMap;u=f?(o=new y,r=o.get,i=o.has,a=o.set,c=function(e,t){return a.call(o,e,t),t},s=function(e){return r.call(o,e)||{}},function(e){return i.call(o,e)}):(g[l=_("state")]=!0,c=function(e,t){return h(e,l,t),t},s=function(e){return m(e,l)?e[l]:{}},function(e){return m(e,l)}),e.exports={set:c,get:s,has:u,enforce:function(e){return u(e)?s(e):c(e,{})},getterFor:function(n){return function(e){var t;if(!p(e)||(t=s(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}}},function(e,t,n){var o=n(5),r=n(25),i=o.WeakMap;e.exports="function"==typeof i&&/native code/.test(r(i))},function(e,t){e.exports=!1},function(e,t,n){var c=n(7),s=n(58),u=n(20),l=n(13);e.exports=function(e,t){for(var n=s(t),o=l.f,r=u.f,i=0;i<n.length;i++){var a=n[i];c(e,a)||o(e,a,r(t,a))}}},function(e,t,n){var o=n(30),r=n(60),i=n(62),a=n(14);e.exports=o("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var o=n(5);e.exports=o},function(e,t,n){var o=n(31),r=n(18).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},function(e,t,n){var o=n(32),r=Math.max,i=Math.min;e.exports=function(e,t){var n=o(e);return n<0?r(n+t,0):i(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){function o(e,t){var n=c[a(e)];return n==u||n!=s&&("function"==typeof t?r(t):!!t)}var r=n(9),i=/#|\.prototype\./,a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=o.data={},s=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var o=n(33);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){function o(){}function r(e){return"<script>"+e+"</"+h+">"}var i,a=n(14),c=n(67),s=n(18),u=n(17),l=n(69),f=n(24),d=n(27),p="prototype",h="script",m=d("IE_PROTO"),_=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;_=i?function(e){e.write(r("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=f("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(r("document.F=Object")),e.close(),e.F);for(var n=s.length;n--;)delete _[p][s[n]];return _()};u[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(o[p]=a(e),n=new o,o[p]=null,n[m]=e):n=_(),void 0===t?n:c(n,t)}},function(e,t,n){var o=n(8),a=n(13),c=n(14),s=n(68);e.exports=o?Object.defineProperties:function(e,t){c(e);for(var n,o=s(t),r=o.length,i=0;i<r;)a.f(e,n=o[i++],t[n]);return e}},function(e,t,n){var o=n(31),r=n(18);e.exports=Object.keys||function(e){return o(e,r)}},function(e,t,n){var o=n(30);e.exports=o("document","documentElement")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OpenStadComponentLightbox});var merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),merge__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),react_dom__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var OpenStadComponentLightbox=function(_React$Component){_inherits(OpenStadComponentLightbox,_React$Component);var _super=_createSuper(OpenStadComponentLightbox);function OpenStadComponentLightbox(e){var t;return _classCallCheck(this,OpenStadComponentLightbox),(t=_super.call(this,e)).defaultConfig={},t.config=merge__WEBPACK_IMPORTED_MODULE_0___default.a.recursive(t.defaultConfig,t.config,e.config||{}),t.state={images:[],startIndex:0},t.recalcSizes=t.recalcSizes.bind(_assertThisInitialized(t)),t}return _createClass(OpenStadComponentLightbox,[{key:"componentDidMount",value:function(){var t=this;document.addEventListener("osc-show-light-box",function(e){t.showLightbox(e.detail)}),document.body.appendChild(this.instance)}},{key:"showLightbox",value:function showLightbox(data){var self=this,aspectRatio;try{aspectRatio=eval(data.aspectRatio.replace&&data.aspectRatio.replace("x","/"))}catch(e){}"number"!=typeof aspectRatio&&(aspectRatio=16/9),self.setState({images:data.images,startIndex:data.startIndex,aspectRatio:aspectRatio},function(){self.instance.style.display="block",self.recalcSizes()}),window.addEventListener("resize",self.recalcSizes)}},{key:"hideLightbox",value:function(){this.instance.style.display="none",window.removeEventListener("resize",self.recalcSizes)}},{key:"showImage",value:function(e,t){e.stopPropagation(),this.mainImage.src=t}},{key:"recalcSizes",value:function(){var e,t,n,o,r,i,a=this;a.mainContainer&&((e=a.mainContainer.offsetWidth)/(t=a.mainContainer.offsetHeight)>a.state.aspectRatio?(n=.8*t,a.mainImageContainer.style.height=n+"px",a.mainImageContainer.style.width=a.state.aspectRatio*n+"px",a.mainImageContainer.style.top=(t-n)/2+"px",a.mainImageContainer.style.left=(e-a.state.aspectRatio*n)/2+"px"):(o=e,a.mainImageContainer.style.width=o+"px",a.mainImageContainer.style.height=1/a.state.aspectRatio*o+"px",a.mainImageContainer.style.top=(t-1/a.state.aspectRatio*o)/2+"px",a.mainImageContainer.style.left=0),a.mainImage.style.width=a.mainImageContainer.style.width,a.mainImage.style.height=a.mainImageContainer.style.height,r=a.state.aspectRatio*a.navigationContainer.offsetHeight,(i=a.state.images.length*r+20*a.state.images.length)>a.navigationContainer.offsetWidth&&(i=a.navigationContainer.offsetWidth,r=i/a.state.images.length-20),a.navigationContainer.style.width=i+"px",a.state.images.map(function(e,t){var n=parseInt(r);a["lighbox-image-container-".concat(t)].style.width=n+"px",a["lighbox-image-container-".concat(t)].style.height=parseInt(1/a.state.aspectRatio*n)+"px",a["lighbox-image-".concat(t)].style.width=a["lighbox-image-container-".concat(t)].style.width,a["lighbox-image-".concat(t)].style.height=a["lighbox-image-container-".concat(t)].style.height}))}},{key:"render",value:function(){var e=this,o=this;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-lightbox",onClick:function(){e.hideLightbox()},ref:function(e){return o.instance=e}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-close-button",onClick:function(e){return o.hideLightbox(e)}}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-lightbox-main-container",ref:function(e){return o.mainContainer=e}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-image-container",ref:function(e){return o.mainImageContainer=e}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img",{src:o.state.images[o.state.startIndex]&&o.state.images[o.state.startIndex].src,ref:function(e){return o.mainImage=e}}))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-lightbox-navigation-container"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-lightbox-navigation",ref:function(e){return o.navigationContainer=e}},o.state.images.map(function(t,n){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-image-container",style:{backgroundImage:"url(".concat(t.src,")")},onClick:function(e){return o.showImage(e,t.src)},key:"lighbox-image-container-".concat(n),ref:function(e){return o["lighbox-image-container-".concat(n)]=e}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img",{src:t.src,ref:function(e){return o["lighbox-image-".concat(n)]=e}}))}))))}}]),OpenStadComponentLightbox}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return OpenStadComponentNLMap});var merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),merge__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),react_dom__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__),_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),_lib_amaps_cluster_icon_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(84);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var OpenStadComponentNLMap=function(_OpenStadComponent){_inherits(OpenStadComponentNLMap,_OpenStadComponent);var _super=_createSuper(OpenStadComponentNLMap);function OpenStadComponentNLMap(e){var t;_classCallCheck(this,OpenStadComponentNLMap);var n=_assertThisInitialized(t=_super.call(this,e)),o={target:n.divId,style:"standaard",marker:!1,search:!1,center:{latitude:52.37104644463586,longitude:4.900402911007405},zoom:14,zoomposition:"bottomleft",disableDefaultUI:!0,polygon:null,autoZoomAndCenter:!1};switch(n.config=merge__WEBPACK_IMPORTED_MODULE_0___default.a.recursive(o,t.config,e.config||{}),n._loadedFiles=0,n.files=[{type:"css",href:"https://unpkg.com/leaflet@1.0.3/dist/leaflet.css"},{type:"script",src:"https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"}],n.config.variant){case"amaps":n.files.push({type:"script",src:"https://map.data.amsterdam.nl/dist/amaps.iife.js"});break;default:n.files.push({type:"css",href:"https://nlmaps.nl/dist/assets/css/nlmaps.css"}),n.files.push({type:"script",src:"https://nlmaps.nl/dist/nlmaps.iife.js"})}return n.files.push({type:"css",href:"https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css"}),n.files.push({type:"script",src:"https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"}),n.markers=n.config.markers||[],t}return _createClass(OpenStadComponentNLMap,[{key:"componentDidMount",value:function(){var t=this;t.loadNextFile(function(){t.createMap(),t.mapIsReady=!0;var e=new CustomEvent("osc-map-is-ready",{detail:{id:t.divId}});document.dispatchEvent(e)})}},{key:"loadNextFile",value:function(e){var t,n=this,o=n.files[n._loadedFiles];o&&("script"===o.type&&((t=document.createElement("script")).src=o.src,t.async=!0),"css"===o.type&&((t=document.createElement("link")).href=o.href,t.rel="stylesheet"),t&&(t.onload=function(){n.loadNextFile(e)},this.instance.appendChild(t))),n._loadedFiles==n.files.length&&e(),n._loadedFiles++}},{key:"createMap",value:function createMap(){var self=this,iconCreateFunction,centerOn;switch(self.config.variant){case"amaps":self.map=amaps.createMap(_objectSpread({},self.config));break;default:self.map=nlmaps.createMap(self.config)}0==self.config.zoomControl&&self.map.removeControl(self.map.zoomControl),self.config.clustering&&self.config.clustering.isActive&&L.markerClusterGroup&&(iconCreateFunction=self.config.clustering.iconCreateFunction||_lib_amaps_cluster_icon_js__WEBPACK_IMPORTED_MODULE_4__.a.bind(self),iconCreateFunction&&"string"==typeof iconCreateFunction&&(iconCreateFunction=eval(iconCreateFunction)),self.markerClusterGroup=L.markerClusterGroup({iconCreateFunction:iconCreateFunction,showCoverageOnHover:self.config.clustering.showCoverageOnHover,maxClusterRadius:self.config.clustering.maxClusterRadius||80}),self.markerClusterGroup.on("clusterclick",self.onClusterClick),self.markerClusterGroup.on("animationend",self.onClusterAnimationEnd),self.map.addLayer(self.markerClusterGroup)),self.map.on("click",self.onMapClick),self.config.polygon&&self.createCutoutPolygon(self.config.polygon),self.markers.length&&self.markers.forEach(function(e){self.addMarker(e)}),self.config.autoZoomAndCenter&&(centerOn="polygon"==self.config.autoZoomAndCenter&&self.config.polygon||self.markers&&self.markers.length&&self.markers,self.editorMarker&&(centerOn=self.editorMarker.position?[self.editorMarker]:self.config.polygon),centerOn&&self.setBoundsAndCenter(centerOn))}},{key:"addMarkers",value:function(e){var t=this;e.forEach(function(e){t.addMarker(e)})}},{key:"addMarker",value:function addMarker(markerData){var self=this,icon=markerData.icon,iconCreateFunction,marker;icon||(iconCreateFunction=self.config.iconCreateFunction,iconCreateFunction&&"string"==typeof iconCreateFunction&&(iconCreateFunction=eval(iconCreateFunction),icon=iconCreateFunction())),marker=icon?L.marker([markerData.lat,markerData.lng],{icon:icon}):L.marker([markerData.lat,markerData.lng]),marker.visible=!0,marker.data=markerData.data,marker.doNotCluster=markerData.doNotCluster,markerData.href&&(markerData.onClick=function(){document.location.href=markerData.href});var onClick=self.onMarkerClick;return onClick&&("string"==typeof onClick&&(onClick=eval(onClick)),marker.on("click",onClick)),self.markerClusterGroup&&!markerData.doNotCluster?self.markerClusterGroup.addLayer(marker):self.map.addLayer(marker),self.markers.push(marker),marker}},{key:"removeMarker",value:function(e){var t;!e||-1<(t=this.markers.indexOf(e))&&(this.markers.splice(t,1),this.map.removeLayer(e),this.markerClusterGroup.removeLayer(e))}},{key:"updateMarker",value:function(e,t){var n;t.location&&(n=new L.LatLng(t.location.lat,t.location.lng),e.setLatLng(n))}},{key:"createClusterIcon",value:function(e){var t=e.getChildCount();return L.divIcon({html:t,className:"osc-nlmap-icon-cluster",iconSize:L.point(20,20),iconAnchor:[20,10]})}},{key:"createCutoutPolygon",value:function(e){var i=L.polygon(e).getBounds().getCenter(),a=0,c=0;e.forEach(function(e,t){var n=Math.sin(e.lng-i.lng)*Math.cos(e.lat),o=Math.cos(i.lat)*Math.sin(e.lat)-Math.sin(i.lat)*Math.cos(e.lat)*Math.cos(e.lng-i.lng),r=180*Math.atan2(n,o)/Math.PI;45-r<a&&(a=45-r,c=t)});var t=e.slice(0,c);e=e.slice(c,e.length).concat(t);var n=[{lat:-85,lng:-179.99},{lat:-85,lng:0},{lat:-85,lng:179.99},{lat:0,lng:179.99},{lat:85,lng:179.99},{lat:85,lng:0},{lat:85,lng:-179.99},{lat:85,lng:-179.99},{lat:0,lng:-179.99}],o=merge__WEBPACK_IMPORTED_MODULE_0___default()({color:"#d00",fillColor:"#000",fillOpacity:.15},this.config.polygonStyle),r=L.polygon([n,e],o);return this.map.addLayer(r),r}},{key:"removePolygon",value:function(e){e&&this.map.removeLayer(e)}},{key:"setBoundsAndCenter",value:function(e){var t,n,o=this;Array.isArray(e)?(t=[],e.forEach(function(e){e._latlng?e=e._latlng:e.position&&(e=e.position.coordinates?{lat:e.position.coordinates[0],lng:e.position.coordinates[1]}:e.position),t.push(e)}),1==t.length?o.map.panTo(new L.LatLng(t[0].lat,t[0].lng)):(n=L.latLngBounds(t),o.map.fitBounds(n))):o.map.panTo(new L.LatLng(o.config.center.latitude,o.config.center.longitude))}},{key:"showMarkers",value:function(e){var t=this;e.forEach(function(e){t.showMarker(e)})}},{key:"showMarker",value:function(e){e.visible=!0,this.markerClusterGroup&&!e.doNotCluster?this.markerClusterGroup.addLayer(e):e.addTo(this.map)}},{key:"hideMarkers",value:function(e){var t=this;e.forEach(function(e){t.hideMarker(e)})}},{key:"hideMarker",value:function(e){e.visible=!1,this.markerClusterGroup&&!e.doNotCluster?this.markerClusterGroup.removeLayer(e):e.remove(this.map)}},{key:"setFilter",value:function(e){this.filterFunction=e,this.applyFilter()}},{key:"applyFilter",value:function(){var t=this;t.filterFunction?t.markers.forEach(function(e){t.filterFunction(e)?t.showMarker(e):t.hideMarker(e)}):t.markers.forEach(function(e){t.showMarker(e)})}},{key:"isPointInPolygon",value:function(e,t){if(!e)return!1;if(!t)return!0;for(var n=e.lat,o=e.lng,r=!1,i=0,a=t.length-1;i<t.length;a=i++){var c=t[i].lat,s=t[i].lng,u=t[a].lat,l=t[a].lng;o<s!=o<l&&n<(u-c)*(o-s)/(l-s)+c&&(r=!r)}return r}},{key:"getPointInfo",value:function(o,r,i){var e="https://api.data.amsterdam.nl/bag/nummeraanduiding/?format=json&locatie=[[lat]],[[lng]],50".replace(/\[\[lat\]\]/,(o=o||{}).lat).replace(/\[\[lng\]\]/,o.lng);fetch(e).then(function(e){return e.json()}).then(function(e){var t=e&&e.results&&e.results[0]&&e.results[0].landelijk_id,n="https://api.data.amsterdam.nl/bag/nummeraanduiding/[[id]]/?format=json".replace(/\[\[id\]\]/,t);fetch(n).then(function(e){return e.json()}).then(function(e){e.lat=o.lat,e.lng=o.lng,i&&i(e,r)})}).catch(function(e){console.log("Zoek adres: niet goed"),console.log(e),i&&i({},r)})}},{key:"onMapClick",value:function(e){var t=new CustomEvent("osc-map-click",{detail:e});document.dispatchEvent(t)}},{key:"onMarkerClick",value:function(e){var t=new CustomEvent("osc-map-marker-click",{detail:e});document.dispatchEvent(t)}},{key:"onClusterClick",value:function(e){var t=new CustomEvent("osc-map-cluster-click",{detail:e});document.dispatchEvent(t)}},{key:"onClusterAnimationEnd",value:function(e){var t=new CustomEvent("osc-map-cluster-animation-end",{detail:e});document.dispatchEvent(t)}},{key:"render",value:function(){var t=this;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{id:this.divId,className:this.props.className||"osc-nlmap",ref:function(e){return t.instance=e}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{id:this.divId+"-map"}))}}]),OpenStadComponentNLMap}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_3__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdeasDetails});var merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),merge__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_vote_button_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(85),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_poll_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(77),_reactions_index_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(76),_image_index_jsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(48);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasDetails=function(_React$Component){_inherits(IdeasDetails,_React$Component);var _super=_createSuper(IdeasDetails);function IdeasDetails(e){var t;_classCallCheck(this,IdeasDetails);return(t=_super.call(this,e)).config=merge__WEBPACK_IMPORTED_MODULE_0___default.a.recursive({siteId:null,ideaId:null,user:{},api:{url:null,headers:null,isUserLoggedIn:!1},argument:{isActive:!0},poll:{canAddPolls:!1},showVoteButtons:!0,showLabels:!1,labels:{},types:null,allowMultipleImages:!1},t.config,t.props.config||{}),t.config.shareChannelsSelection||(t.config.shareChannelsSelection=["facebook","twitter","mail","whatsapp"]),void 0===t.config.metaDataTemplate&&(t.config.metaDataTemplate='<span class="osc-gray-text">Door </span>{username} <span class="osc-gray-text"> op </span>{createDate} <span class="osc-gray-text">&nbsp;&nbsp;|&nbsp;&nbsp;</span> <span class="osc-gray-text">Thema: </span>{theme}'),t.state={idea:t.props.idea,ideaId:e.idea&&e.idea.id||t.config.ideaId,showPollForm:!1},t}return _createClass(IdeasDetails,[{key:"componentDidMount",value:function(){var t=this;t.reactionAddedListener=function(e){t.onReactionStored(e.detail,!0)},document.addEventListener("osc-new-reaction-stored",t.reactionAddedListener),t.reactionEditedListener=function(e){t.onReactionStored(e.detail)},document.addEventListener("osc-reaction-edited",t.reactionEditedListener),t.reactionDeletedListener=function(e){t.onReactionDeleted(e.detail)},document.addEventListener("osc-reaction-deleted",t.reactionDeletedListener),t.pollCreatedListener=function(e){t.onPollCreated(e.detail)},document.addEventListener("osc-new-poll-stored",t.pollCreatedListener),t.pollDeletedListener=function(e){t.onPollDeleted(e.detail)},document.addEventListener("osc-poll-deleted",t.pollDeletedListener),t.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.reactionAddedListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener),document.removeEventListener("osc-reaction-deleted",this.reactionDeletedListener),document.removeEventListener("osc-new-poll-stored",this.pollCreatedListener),document.removeEventListener("osc-poll-deleted",this.pollDeletedListener)}},{key:"dispatchEditIdeaClick",value:function(e){var t;e.stopPropagation(),this.config.editIdeaLink?document.location.href=this.config.editIdeaLink:(t=new window.CustomEvent("osc-edit-idea-click",{detail:this.state.idea}),document.dispatchEvent(t))}},{key:"showPollForm",value:function(){this.setState({showPollForm:!0})}},{key:"hidePollForm",value:function(){this.setState({showPollForm:!1})}},{key:"dispatchAddPollClick",value:function(e){e.stopPropagation(),this.showPollForm()}},{key:"onReactionStored",value:function(e,t){t&&this.state.idea.argCount++,this.setState({idea:this.state.idea})}},{key:"onReactionDeleted",value:function(){this.state.idea.argCount--,this.setState({idea:this.state.idea})}},{key:"onPollCreated",value:function(){this.hidePollForm(),this.fetchData()}},{key:"onPollDeleted",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e,t,n=this,o=n.state.ideaId||this.state.idea&&this.state.idea.id;o&&(e="".concat(n.config.api.url,"/api/site/").concat(n.config.siteId,"/idea/").concat(o,"?includeVoteCount=1&includeArguments=1&includeArgsCount=1&includeUser=1&includeUserVote=1"),n.config.poll.canAddPolls&&(e+="&includePoll=1"),t=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_3__.a.api.getHeaders(n.config),fetch(e,{headers:t}).then(function(e){if(!e.ok)throw Error("Error fechting detail");return e.json()}).then(function(e){n.setState({idea:e},function(){_libs_index_jsx__WEBPACK_IMPORTED_MODULE_3__.a.localStorage.get("osc-reactions-login-pending")&&(window.location.hash="#reactions",_libs_index_jsx__WEBPACK_IMPORTED_MODULE_3__.a.localStorage.set("osc-reactions-login-pending",!1))})}).catch(function(e){console.log("Niet goed"),console.log(e)}))}},{key:"deleteIdea",value:function(){var e,t,n,o=this,r=this;r.config.user&&r.config.user.role&&"admin"==r.config.user.role&&(this.state.idea||this.state.idea.id)&&(e="".concat(r.config.api.url,"/api/site/").concat(r.config.siteId,"/idea/").concat(this.state.idea.id),t=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_3__.a.api.getHeaders(r.config),n=this.state.idea.id,fetch(e,{method:"DELETE",headers:t}).then(function(e){if(!e.ok)throw Error("Error deleting idea");return e.json()}).then(function(e){var t;o.config.afterDeleteIdeaLink?document.location.href=o.config.afterDeleteIdeaLink:(t=new window.CustomEvent("osc-idea-deleted",{detail:{ideaId:n}}),document.dispatchEvent(t))}).catch(function(e){console.log("Niet goed"),console.log(e)}))}},{key:"render",value:function render(){var self=this,idea=self.state.idea;if(!idea)return null;var labelHTML=null,typeId,typeDef,labelText,backgroundColor,textColor,labelHTML;self.config.showLabels&&(typeId=idea.typeId||idea.extraData.type,typeDef=self.config.types&&self.config.types.find(function(e){return e.id==typeId||e.value==typeId}),typeDef&&(labelText=typeDef.label,backgroundColor=typeDef.backgroundColor,textColor=typeDef.textColor,labelHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"ocs-idea-label",style:{color:textColor,backgroundColor:backgroundColor}},labelText)));var pollHTML=null,addPollButtonHTML=null;self.config.poll.canAddPolls&&(idea.poll||self.state.showPollForm?pollHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{id:"poll",className:"osc-poll-header"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h3",null,self.config.poll.title||"Poll")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_poll_index_jsx__WEBPACK_IMPORTED_MODULE_4__.default,{config:_objectSpread(_objectSpread(_objectSpread({},self.config),self.config.poll),{},{ideaId:self.state.ideaId}),poll:idea.poll})):idea.can&&idea.can.edit&&(addPollButtonHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-editbuttons-container"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{className:"osc-idea-details-editbutton osc-edit",onClick:function(e){return self.dispatchAddPollClick(e)}},"Poll toevoegen"))));var voteButtonsHTML=null;self.config.showVoteButtons&&(voteButtonsHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-details-vote-buttons-container"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h3",null,"Likes"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_vote_button_jsx__WEBPACK_IMPORTED_MODULE_2__.a,{config:{text:"eens",opinion:"yes",api:this.config.api,user:this.config.user,siteId:this.config.siteId},idea:this.state.idea,name:"likebutton",value:idea.yes})));var editButtonsHTML=null;idea.can&&idea.can.edit&&(editButtonsHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-editbuttons-container"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{className:"osc-idea-details-editbutton osc-edit",onClick:function(e){return self.dispatchEditIdeaClick(e)}},"Bewerk idee"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{className:"osc-idea-details-editbutton osc-delete",onClick:function(e){confirm("Weet je het zeker")&&self.deleteIdea(e)}},"Verwijder idee")));var modBreakHTML=null;idea&&idea.modBreak&&(modBreakHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-modbreak"},idea.modBreakDateHumanized,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),idea.modBreak));var reactionsCountHTML=null;self.config.argument.isActive&&(reactionsCountHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h3",null,"Reacties"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{href:"#reactions",className:"osc-no-of-reactions"},idea.argCount||0," reacties")));var reactionsHTML=null;self.config.argument.isActive&&(reactionsHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{id:"reactions",className:"osc-reactions-header"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h3",null,self.config.argument.title||"Reacties")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_reactions_index_jsx__WEBPACK_IMPORTED_MODULE_5__.default,{config:_objectSpread(_objectSpread({},self.config.argument),{},{title:void 0,api:self.config.api,user:self.config.user,siteId:self.config.siteId,ideaId:idea.id,loginUrl:self.config.loginUrl})})));var shareButtonsHTML=null,facebookButtonHTML,twitterButtonHTML,mailButtonHTML,whatsappButtonHTML,shareButtonsHTML;self.config.shareChannelsSelection.length&&(facebookButtonHTML=self.config.shareChannelsSelection.includes("facebook")?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{className:"osc-share-facebook",target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(document.location.href)},"Facebook")):null,twitterButtonHTML=self.config.shareChannelsSelection.includes("twitter")?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{className:"osc-share-twitter",target:"_blank",href:"https://twitter.com/intent/tweet?text="+encodeURIComponent(document.location.href)},"Twitter")):null,mailButtonHTML=self.config.shareChannelsSelection.includes("mail")?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{className:"osc-share-email",target:"_blank",href:"mailto:?subject="+encodeURIComponent(eval("idea.".concat(self.config.titleField)))+"&body="+encodeURIComponent(document.location.href)},"Email")):null,whatsappButtonHTML=self.config.shareChannelsSelection.includes("whatsapp")?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{className:"osc-share-whatsapp",target:"_blank",href:"https://wa.me/?text="+encodeURIComponent(document.location.href)},"WhatsApp")):null,shareButtonsHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-details-sharebuttons"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("ul",null,facebookButtonHTML,twitterButtonHTML,mailButtonHTML,whatsappButtonHTML)));var authorHTML=idea.user.nickName||idea.user.fullName||idea.user.firstName+" "+idea.user.lastName;this.config.linkToUserPageUrl&&(authorHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{href:this.config.linkToUserPageUrl+"/"+idea.user.id,className:"osc-author-link"},authorHTML));var metaDataHTML=self.config.metaDataTemplate,metaDataHTML=metaDataHTML.replace(/\{createDate\}/,idea.createDateHumanized);return metaDataHTML=metaDataHTML.replace(/\{theme\}/,idea.extraData.theme),metaDataHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_3__.a.reactTemplate({html:metaDataHTML,username:authorHTML}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{id:self.id,className:self.props.className||"osc-info-block-idea-details",ref:function(e){return self.instance=e}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-spacer"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-idea-details-container"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-idea-details"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2",null,eval("idea.".concat(self.config.titleField))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-details-image-and-stats"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-idea-image-container"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_6__.IdeaImage,{config:{allowMultipleImages:self.config.allowMultipleImages},idea:idea})),labelHTML,shareButtonsHTML,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-details-stats"},voteButtonsHTML,reactionsCountHTML,editButtonsHTML)),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",{className:""},metaDataHTML),modBreakHTML,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",{className:"osc-details-summary"},idea.summary),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",{className:"osc-details-description",dangerouslySetInnerHTML:{__html:idea.description}}),addPollButtonHTML),pollHTML,reactionsHTML,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-bottom-spacer"})))}}]),IdeasDetails}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component)},function(e,t,n){n(74);var o=n(40);e.exports=o("Array","includes")},function(e,t,n){"use strict";var o=n(37),r=n(34).includes,i=n(38);o({target:"Array",proto:!0,forced:!n(39)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e,t){return r(this,e,1<arguments.length?t:void 0)}}),i("includes")},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return h}),n.d(t,"PreviousNextButtonBlock",function(){return h});n(10);var o=n(0),a=n.n(o),r=n(3),i=n.n(r),c=(n(96),n(1)),s=n.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=p(i);return t=a?(e=p(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==u(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,a.a.Component);var e,t,n,o=d(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e)).defaultConfig={previousAction:e.previousAction,nextAction:e.nextAction,previousUrl:e.previousUrl,nextUrl:e.nextUrl,previousLabel:e.previousLabel||"Vorige",nextLabel:e.nextLabel||"Volgende"},t.config=s.a.recursive(t.defaultConfig,t.config,e.config||{}),t}return e=r,(t=[{key:"render",value:function(){var e,t,n=this,o=this,r=this.config.previousAction;this.config.previousUrl&&(r=function(){document.location.href="".concat(n.config.previousUrl)}),r&&(e=a.a.createElement("div",{className:"osc-previous-button".concat(this.props.previousIsDisabled?" osc-disabled":""),onClick:function(e){n.props.previousIsDisabled||r(e)}},this.config.previousLabel));var i=this.config.nextAction;return this.config.nextUrl&&(i=function(){document.location.href="".concat(n.config.nextUrl)}),i&&(t=a.a.createElement("div",{className:"osc-next-button".concat(this.props.nextIsDisabled?" osc-disabled":""),onClick:function(e){n.props.nextIsDisabled||i(e)}},this.config.nextLabel)),a.a.createElement("div",{className:"osc-previous-next-button-block",ref:function(e){return o.instance=e}},e,t)}}])&&l(e.prototype,t),n&&l(e,n),r}();h.renderElement=function(e,t){var n=e.attributes;i.a.render(a.a.createElement(h,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return A}),n.d(t,"Reactions",function(){return A});n(10);var o=n(0),d=n.n(o),r=n(3),i=n.n(r),a=(n(89),n(1)),c=n.n(a),s=n(4),p=n(2),u=n(6);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=g(i);return t=a?(e=g(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==l(o)&&"function"!=typeof o?_(n):o}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(r,s["a"]);var e,t,n,o=m(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=_(t=o.call(this,e));return n.defaultConfig={argumentId:null,api:{url:null,headers:null},user:{},descriptionMinLength:30,descriptionMaxLength:500,requiredUserRole:"member",formIntro:"",placeholder:""},n.config=c.a.recursive(n.defaultConfig,e.config||{}),n.config.loginUrl=n.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),n.state={description:n.config.description||"",isValid:!1,isBusy:!1},t}return e=r,(t=[{key:"handleOnChange",value:function(e){(e=e||{}).description&&(e.isValid=this.description.isValid()),this.setState(e)}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.props.user||{};return p.a.user.hasRole(t,e)}},{key:"submitForm",value:function(){var r=this;r.setState({isBusy:!0},function(){if(r.description.validate({showWarning:!0})){if(!r.canSubmit())return alert("Je bent niet ingelogd");var e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/idea/").concat(r.config.ideaId,"/argument").concat(r.config.argumentId?"/".concat(r.config.argumentId):""),t=p.a.api.getHeaders(r.config),n=r.config.argumentId?"PUT":"POST",o={parentId:r.config.parentId,sentiment:r.config.sentiment,description:r.state.description};fetch(e,{method:n,headers:t,body:JSON.stringify(o)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(n){"function"==typeof r.config.onSubmit&&r.config.onSubmit({description:r.state.description}),r.setState({description:"",isBusy:!1,isValid:!1},function(){var e,t;r.description.handleOnChange({value:""}),r.config.argumentId?(e=new CustomEvent("osc-reaction-edited",{detail:n}),document.dispatchEvent(e)):(t=new CustomEvent("osc-new-reaction-stored",{detail:n}),document.dispatchEvent(t))})}).catch(function(e){e.then(function(e){return alert(e),console.log(e)}),r.setState({isBusy:!1,isValid:!1})})}else r.setState({isBusy:!1,isValid:!1})})}},{key:"render",value:function(){var t=this,e={descriptionMinLength:t.config.descriptionMinLength||30,descriptionMaxLength:t.config.descriptionMaxLength||500},n=null;t.config.formIntro&&(n=d.a.createElement("div",{className:"osc-intro"},t.config.formIntro));var o=null,o=t.canSubmit()?d.a.createElement("div",{className:"osc-align-right-container"},d.a.createElement("button",{onClick:function(){t.state.isBusy||t.submitForm()},className:"osc-button-blue".concat(!t.state.isValid||t.state.isBusy?" osc-disabled":"")},"Verzenden")):d.a.createElement("div",{className:"osc-align-right-container"},d.a.createElement("button",{onClick:function(){p.a.localStorage.set("osc-reactions-login-pending",!0),document.location.href=t.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"));return d.a.createElement("div",{id:t.divId,className:"",ref:function(e){return t.instance=e}},n,d.a.createElement(u.a.InputWithCounter,{disabled:!this.canSubmit()||null,config:{inputType:"textarea",minLength:e.descriptionMinLength,maxLength:e.descriptionMaxLength,placeholder:t.config.placeholder},value:t.state.description,onChange:function(e){return t.handleOnChange({description:e.value})},ref:function(e){return t.description=e}}),o)}}])&&f(e.prototype,t),n&&f(e,n),r}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function E(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=I(i);return t=a?(e=I(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==v(o)&&"function"!=typeof o?k(n):o}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(f,s["a"]);var e,t,n,o=P(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var n=k(t=o.call(this,e));return n.id=e.id||"osc-reaction-".concat(parseInt(1e6*Math.random())),n.defaultConfig={siteId:null,ideaId:null,title:null,descriptionMinLength:30,descriptionMaxLength:500,api:{url:null,headers:null},requiredUserRole:"member"},n.config=c.a.recursive(n.defaultConfig,t.config,e.config||{}),n.state={user:e.user,isMenuActive:!1,isReplyFromActive:!1,editMode:!1},t}return e=f,(t=[{key:"componentDidMount",value:function(){var t=this;this.storedListener=document.addEventListener("osc-new-reaction-stored",function(e){t.onNewReactionStored(e.detail)}),this.editedListener=document.addEventListener("osc-reaction-edited",function(e){t.onReactionEdited(e.detail)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.storedListener),document.removeEventListener("osc-reaction-edited",this.editedListener)}},{key:"showMenu",value:function(){this.setState({isMenuActive:!0})}},{key:"toggleReplyForm",value:function(){this.setState({isReplyFromActive:!this.state.isReplyFromActive})}},{key:"toggleEditForm",value:function(){this.setState({editMode:!this.state.editMode})}},{key:"canEdit",value:function(){return this.props.data.can.edit}},{key:"canDelete",value:function(){return this.props.data.can.delete}},{key:"canLike",value:function(){if(this.config.isClosed)return!1;var e=this.config.requiredUserRole,t=this.props.user&&this.props.user.role;return"anonymous"==e&&t||"member"==e&&("member"==t||"editor"==t||"moderator"==t||"admin"==t)||"editor"==e&&("editor"==t||"moderator"==t||"admin"==t)||"moderator"==e&&("moderator"==t||"admin"==t)||"admin"==e&&"admin"==t}},{key:"canReply",value:function(){return this.props.data.can.reply}},{key:"submitDelete",value:function(){var n=this;if(!n.canDelete())return alert("U kunt deze reactie niet verwijderen");var e="".concat(n.config.api&&n.config.api.url,"/api/site/").concat(n.config.siteId,"/idea/").concat(n.config.ideaId,"/argument/").concat(n.props.data.id),t=p.a.api.getHeaders(n.config);fetch(e,{method:"DELETE",headers:t,body:JSON.stringify({})}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){n.setState({isDeleted:!0});var t=new CustomEvent("osc-reaction-deleted",{detail:{ideaId:n.config.ideaId}});document.dispatchEvent(t)}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"submitLike",value:function(){var t=this;if(!t.canLike())return alert("U kunt deze reactie niet liken");var e="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/argument/").concat(t.props.data.id,"/vote"),n=p.a.api.getHeaders(t.config);fetch(e,{method:"POST",headers:n,body:JSON.stringify({})}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){t.setState({yes:e.yes,hasUserVoted:e.hasUserVoted})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"onNewReactionStored",value:function(){this.setState({isMenuActive:!1,isReplyFromActive:!1})}},{key:"onReactionEdited",value:function(e){e.id==this.props.data.id&&this.setState({editMode:!1,isMenuActive:!1})}},{key:"render",value:function(){var n=this,e=n.props.data||{can:{}};if(e.isDeleted)return null;console.log("--------------------"),console.log(e.user);var t=p.a.user.hasRole(e.user,"editor")?"osc-is-admin":"",o=d.a.createElement("div",{className:"osc-reaction-user ".concat(t)},e.user.nickName||e.user.fullName||"".concat(e.user.firstName," ").concat(e.user.lastName)),r=null;n.canEdit()&&n.canDelete()&&(r=d.a.createElement("div",{className:"osc-reaction-menu".concat(n.state.isMenuActive?" osc-reaction-hamburger-active":""),onClick:function(){n.showMenu()}},d.a.createElement("a",{className:"osc-reaction-delete",title:"Argument verwijderen",onClick:function(){confirm("Weet je het zeker?")&&n.submitDelete()}}),d.a.createElement("a",{className:"osc-reaction-edit",title:"Argument bewerken",onClick:function(){return n.toggleEditForm()}})));var i=d.a.createElement("div",{className:"osc-reaction-description"},e.description);n.state.editMode&&(i=d.a.createElement("div",{className:"osc-reaction-description"},d.a.createElement(y,{config:E(E({},n.config),{},{description:e.description,argumentId:e.id}),user:n.state.user,ref:function(e){return n.editForm=e}})));var a=null;e.parentId||(a=d.a.createElement("a",{className:"osc-reaction-like-button".concat((void 0!==n.state.hasUserVoted?n.state.hasUserVoted:e.hasUserVoted)?" osc-reaction-like-button-hasvoted":""),onClick:function(){return n.submitLike()}},"Mee eens (",d.a.createElement("span",null,0|(void 0!==n.state.yes?n.state.yes:e.yes)),")"));var c,s=null,u=null;n.canReply()&&!n.config.isClosed&&(s=d.a.createElement("a",{onClick:function(){return n.toggleReplyForm()},className:"osc-reply-button"},"Reageren"),n.state.isReplyFromActive&&((c=E(E({},n.config),{},{parentId:e.id})).formIntro="",u=d.a.createElement("div",{id:"osc-reaction-".concat(e.id),className:"osc-reply"},d.a.createElement(y,{config:c,user:n.state.user,ref:function(e){return n.editForm=e}}))));var l=null;return e.reactions&&e.reactions.length&&(l=d.a.createElement("ul",{className:"osc-reactions-list"},e.reactions.map(function(e){var t="osc-reaction-key-".concat(e.id||parseInt(1e6*Math.random()));return d.a.createElement("li",{key:t},d.a.createElement(f,{config:n.config,className:"osc-reply",user:n.state.user,data:e}))}))),d.a.createElement("div",null,d.a.createElement("div",{id:"osc-reaction-".concat(e.id),className:n.props.className||"osc-reaction"},r,o,d.a.createElement("div",{className:"osc-reaction-date"},e.createDateHumanized),i,a,s),u,l)}}])&&O(e.prototype,t),n&&O(e,n),f}();function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function R(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?M(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=x(i);return t=a?(e=x(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==S(o)&&"function"!=typeof o?j(n):o}}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(r,s["a"]);var e,t,n,o=T(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=j(t=o.call(this,e));return n.id=e.id||"osc-reactions-".concat(parseInt(1e6*Math.random())),n.defaultConfig={scrollToNewReaction:!0,isClosed:!1,closedText:"De reactiemogelijkheid is gesloten",sentiment:void 0,siteId:null,ideaId:null,title:null,descriptionMinLength:30,descriptionMaxLength:500,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",placeholder:"",formIntro:""},n.config=c.a.recursive(n.defaultConfig,n.config,e.config||{}),n.state={user:n.config.user,reactions:[]},t}return e=r,(t=[{key:"componentDidMount",value:function(){var n=this;n.state.user&&n.state.user.role?n.fetchData():p.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},function(e,t){n.setState({user:t},function(){n.fetchData()})}),this.storedListener=document.addEventListener("osc-new-reaction-stored",function(e){n.onNewReactionStored(e.detail)}),this.editedListener=document.addEventListener("osc-reaction-edited",function(e){n.onReactionEdited(e.detail)}),this.deletedListener=document.addEventListener("osc-reaction-deleted",function(e){n.onReactionDeleted(e.detail)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.storedListener),document.removeEventListener("osc-reaction-edited",this.editedListener),document.removeEventListener("osc-reaction-deleted",this.deletedListener)}},{key:"fetchData",value:function(n){var o=this,e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/idea/").concat(o.config.ideaId,"/argument?sentiment=").concat(o.config.sentiment,"&withUser=1&withUserVote=1&withVoteCount=1&includeReactionsOnReactions=1"),t=p.a.api.getHeaders(o.config);fetch(e,{headers:t}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=R({},o.state);t.reactions=e,t.reactions.sort(function(e,t){return e.createdAt<t.createdAt}),o.setState(t,function(){if(n)return n()})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"onNewReactionStored",value:function(e){var t=this;this.fetchData(function(){t.config.scrollToNewReaction&&document.getElementById("osc-reaction-".concat(e.id))&&document.getElementById("osc-reaction-".concat(e.id)).scrollIntoView()})}},{key:"onReactionEdited",value:function(){this.fetchData()}},{key:"onReactionDeleted",value:function(){this.fetchData()}},{key:"render",value:function(){var t=this,n=this,e=d.a.createElement("ul",{className:"osc-reactions-list"},n.state.reactions.map(function(e){var t="osc-reaction-key-".concat(e.id||parseInt(1e6*Math.random()));return d.a.createElement("li",{key:t},d.a.createElement(C,{config:n.config,user:n.state.user,data:R({},e)}))})),o=n.config.title?d.a.createElement("h3",null,n.config.title):null,r=d.a.createElement(y,{config:n.config,user:n.state.user});return n.config.isClosed&&(r=n.config.closedText?d.a.createElement("div",{className:"osc-closed-text"},n.config.closedText):null),d.a.createElement("div",{id:this.id,className:n.props.className||"osc-reactions",ref:function(e){t.instance=e}},o,r,e,d.a.createElement("br",null),d.a.createElement("br",null))}}])&&L(e.prototype,t),n&&L(e,n),r}();A.renderElement=function(e,t){var n=e.attributes;i.a.render(d.a.createElement(A,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return M}),n.d(t,"Poll",function(){return M});n(10);var o=n(0),p=n.n(o),r=n(3),i=n.n(r),a=(n(88),n(1)),c=n.n(a),s=n(4),h=n(2),m=n(6);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function f(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=v(i);return t=a?(e=v(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==u(o)&&"function"!=typeof o?y(n):o}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(r,s["a"]);var e,t,n,o=g(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=y(t=o.call(this,e));return n.defaultConfig={user:{},questionMinLength:30,questionMaxLength:500,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,allowChoiceTitles:!0},n.config=c.a.recursive(n.defaultConfig,e.config||{}),n.state={user:e.user,pollId:e.pollId,poll:e.poll,isBusy:!1},t}return e=r,(t=[{key:"componentDidMount",value:function(){var n=this;n.state.user&&n.state.user.role?n.state.poll||n.fetchData():h.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},function(e,t){n.setState({user:t},function(){n.state.poll||n.fetchData()})})}},{key:"fetchData",value:function(n){var o=this;if(!o.state.pollId)return o.setState({poll:{question:"",choices:{1:{},2:{}}}});var e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/idea/").concat(o.config.ideaId,"/poll/").concat(o.config.pollId,"?withUser=1&withVotes=1"),t=h.a.api.getHeaders(o.config);fetch(e,{headers:t}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=f({},o.state);t.poll=e,o.setState(t,function(){if(n)return n()})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"validatedResult",value:function(){var o=this,e=o.state.poll,t=o["question-input"],r=t.validate(),i={question:t.state.value,choices:{}};return Object.keys(e.choices).forEach(function(e){var t=o["title-input-".concat(e)],n=o["description-input-".concat(e)];(t&&t.state.value||n.state.value)&&(i.choices[e]={},o.config.allowChoiceTitles&&t.state.value&&(i.choices[e].title=t.state.value,t.validate()||(r=!1)),n.state.value&&(i.choices[e].description=n.state.value,n.validate()||(r=!1)))}),!r||Object.keys(i.choices).length<2?null:i}},{key:"handleOnChange",value:function(e){var t=f({},this.state.poll);e.choice&&(t.choices[e.choice.id]={title:this.config.allowChoiceTitles&&e.choice.title,description:e.choice.description}),e.question&&(t.question=e.question),this.setState({poll:t},function(){})}},{key:"addChoice",value:function(){var e=f({},this.state.poll),t=Object.keys(e.choices).sort(),n=parseInt(t[t.length-1])+1;e.choices[n]={},this.setState({poll:e})}},{key:"canSubmit",value:function(){if(this.state.poll&&this.state.poll.can)return this.state.poll.can.edit;var e=this.config.requiredUserRole,t="moderator";return("anonymous"==e?t:"member"==e&&!0)||"editor"==e&&!0||"moderator"==e&&!0||"admin"==e&&!1}},{key:"submitForm",value:function(){var i=this;i.setState({isBusy:!0},function(){var n=i.validatedResult();if(n){if(!i.canSubmit())return alert("Je bent niet ingelogd");var o=!0,e="".concat(i.config.api&&i.config.api.url,"/api/site/").concat(i.config.siteId,"/idea/").concat(i.config.ideaId,"/poll"),t="POST";i.state.poll&&i.state.poll.id&&(e+="/".concat(i.state.poll.id),o=!(t="PUT"));var r=h.a.api.getHeaders(i.config);fetch(e,{method:t,headers:r,body:JSON.stringify(n)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=new CustomEvent("osc-new-poll-stored",{detail:e});o||(t=new CustomEvent("osc-poll-edited",{detail:e})),document.dispatchEvent(t),"function"==typeof i.config.onFinished&&i.config.onFinished(n)}).catch(function(e){console.log(e),e.then(function(e){return alert(e),console.log(e)}),i.setState({isBusy:!1})})}else i.setState({isBusy:!1})})}},{key:"render",value:function(){var e=this,o=this,r=o.state.poll||{},t=null;o.config.formIntro&&(t=p.a.createElement("div",{className:"osc-intro"},o.config.formIntro));var n=null,n=o.canSubmit()?p.a.createElement("div",{className:"osc-align-right-container"},p.a.createElement("button",{className:"osc-button-blue",onClick:function(){o.config.onFinished&&o.config.onFinished()}},"Terug"),p.a.createElement("button",{onClick:function(){o.state.isBusy||o.submitForm()},className:"osc-button-blue osc-margin-left".concat(o.state.isBusy?" osc-disabled":"")},"Verzenden")):p.a.createElement("div",{className:"osc-align-right-container"},p.a.createElement("button",{className:"osc-button-blue",onClick:function(){o.config.onFinished&&o.config.onFinished()}},"Terug"),p.a.createElement("button",{onClick:function(){h.a.localStorage.set("osc-reactions-login-pending",!0),document.location.href=o.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button osc-margin-left"},"Inloggen"));return p.a.createElement("div",{id:o.divId,className:"osc-form",ref:function(e){return o.instance=e}},t,p.a.createElement("h4",null,"Vraag"),p.a.createElement(m.a.InputWithCounter,{config:{inputType:"text",minLength:o.config.questionMinLength,maxLength:o.config.questionMaxLength,placeholder:"Vraag"},value:r.question,onChange:function(e){return o.handleOnChange({question:e.value})},ref:function(e){return o["question-input"]=e}}),p.a.createElement("h4",null,"Keuzemogelijkheden"),p.a.createElement("ol",{className:"osc-poll-form-choices"},r&&r.choices&&Object.keys(r.choices).sort().map(function(t){var e=r.choices[t],n=null;return o.config.allowChoiceTitles&&(n=p.a.createElement(m.a.InputWithCounter,{config:{inputType:"text",minLength:o.config.titleMinLength,maxLength:o.config.titleMaxLength,placeholder:"Titel"},value:e.title,onChange:function(e){return o.handleOnChange({choice:{id:t,title:e.value}})},ref:function(e){return o["title-input-".concat(t)]=e}})),p.a.createElement("li",{className:"osc-poll-form-choice",key:"osc-key-".concat(t)},n,p.a.createElement(m.a.InputWithCounter,{config:{inputType:"text",minLength:o.config.descriptionMinLength,maxLength:o.config.descriptionMaxLength,placeholder:"Beschrijving"},value:e.description,onChange:function(e){return o.handleOnChange({choice:{id:t,description:e.value}})},ref:function(e){return o["description-input-".concat(t)]=e}}))})),p.a.createElement("a",{className:"osc-add-choice-button",onClick:function(){return e.addChoice()}},"Nog een keuzemogelijkheid toevoegen"),n)}}])&&d(e.prototype,t),n&&d(e,n),r}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function w(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?O(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=S(i);return t=a?(e=S(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==E(o)&&"function"!=typeof o?C(n):o}}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(r,s["a"]);var e,t,n,o=I(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=C(t=o.call(this,e));return n.id=e.id||"osc-poll-".concat(parseInt(1e6*Math.random())),n.defaultConfig={siteId:null,ideaId:null,title:null,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",withPercentage:!0,allowChoiceTitles:!0,allowShowResultsIfNotVoted:!1},n.config=c.a.recursive(n.defaultConfig,n.config,e.config||{}),n.config.loginUrl=n.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),n.hideEditForm=n.hideEditForm.bind(n),n.state={user:n.config.user,poll:e.poll,pollId:e.poll&&e.poll.id||n.config.pollId,selectedChoice:null,showResult:!1,showQuestion:!1,editMode:!1,showVoteSucceeded:!1},n.state.poll&&(n.parseVoteCount(n.state.poll),n.state.poll.userVote&&(n.state.selectedChoice=n.state.poll.userVote)),t}return e=r,(t=[{key:"componentDidMount",value:function(){var n=this;n.state.user&&n.state.user.role?!n.state.poll&&n.config.ideaId&&n.fetchData():h.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},function(e,t){n.setState({user:t},function(){!n.state.poll&&n.config.ideaId&&n.fetchData()})})}},{key:"fetchData",value:function(n){var o=this;if(!o.state.pollId)return o.setState({editMode:!0},function(){});var e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/idea/").concat(o.config.ideaId,"/poll/").concat(o.state.pollId,"?withUser=1&withUserVote=1&withVoteCount=1&withVotes=1"),t=h.a.api.getHeaders(o.config);fetch(e,{headers:t}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=w(w({},o.state),{},{showResult:!1,showQuestion:!1});t.poll=e,t.pollId=e.id,o.parseVoteCount(t.poll),t.poll.userVote&&(t.selectedChoice=t.poll.userVote),o.setState(t,function(){if(n)return n()})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"parseVoteCount",value:function(n){n.voteCount&&Object.keys(n.choices).sort().forEach(function(e){var t=n.choices[e];t.votesAbs=n.voteCount[e],t.votesPrc=parseInt(n.voteCount[e]/n.voteCount.total*100),t.votesPrc=t.votesPrc||0})}},{key:"showEditForm",value:function(){this.setState({editMode:!0})}},{key:"hideEditForm",value:function(){this.setState({editMode:!1},function(){this.fetchData()})}},{key:"setShowResult",value:function(){this.setState({showResult:!0})}},{key:"setShowQuestion",value:function(){this.setState({showQuestion:!0})}},{key:"selectChoice",value:function(e){this.setState({selectedChoice:e.choice})}},{key:"onReactionEdited",value:function(){this.fetchData()}},{key:"isValid",value:function(){return!!this.state.selectedChoice}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.state.user&&this.state.user.role;return"anonymous"==e&&t||"member"==e&&("member"==t||"admin"==t)||"admin"==e&&"admin"==t}},{key:"submitVote",value:function(){var o=this;o.setState({isBusy:!0},function(){if(o.isValid()){if(!o.canSubmit())return alert("Je bent niet ingelogd");var e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/idea/").concat(o.config.ideaId,"/poll/").concat(o.state.poll.id,"/vote"),t=h.a.api.getHeaders(o.config),n={choice:o.state.selectedChoice};fetch(e,{method:"POST",headers:t,body:JSON.stringify(n)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(t){o.fetchData(function(){o.setState({isBusy:!1,showVoteSucceeded:!0},function(){var e=new CustomEvent("osc-poll-voted",{detail:t});document.dispatchEvent(e)})}),"function"==typeof o.config.onSubmit&&o.config.onSubmit({description:o.state.description})}).catch(function(e){e.then(function(e){return alert(e),console.log(e)}),o.setState({isBusy:!1,isValid:!1})})}else o.setState({isBusy:!1,isValid:!1})})}},{key:"deletePoll",value:function(){var o=this;o.setState({isBusy:!0},function(){var e=o.state.poll;if(!(e&&e.can&&e.can.delete))return alert("U kunt deze poll niet verwijderen");if(!e||!e.id)return alert("U kunt deze poll niet verwijderen");var t="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/idea/").concat(o.config.ideaId,"/poll/").concat(o.state.poll.id),n=h.a.api.getHeaders(o.config);fetch(t,{method:"DELETE",headers:n}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=new CustomEvent("osc-poll-deleted",{detail:e});document.dispatchEvent(t)}).catch(function(e){console.log(e),e.then(function(e){return alert(e),console.log(e)}),o.setState({isBusy:!1})})})}},{key:"render",value:function(){var t=this,a=this,c=a.state.poll||{};if(a.state.editMode)return p.a.createElement("div",{id:this.id,className:a.props.className||"osc-poll",ref:function(e){t.instance=e}},p.a.createElement(b,{config:w(w({},a.config),{},{onFinished:a.hideEditForm}),pollId:a.state.poll&&a.state.poll.id,poll:a.state.poll,user:a.state.user}));var n,e,o,r=null;(c&&c.choices&&!c.userVote||a.state.showQuestion)&&(n={name:"pollChoice",choices:[]},Object.keys(c.choices).sort().map(function(e){var t=a.config.allowChoiceTitles&&c.choices[e].title?"<h4>".concat(c.choices[e].title,"</h4>"):"";t+=c.choices[e].description||"",n.choices.push({dangerousDescription:t,value:e})}),e=null,e=a.canSubmit()?p.a.createElement("button",{onClick:function(){a.state.isBusy||a.submitVote()},className:"osc-button-blue".concat(a.isValid()?"":" osc-disabled")},"Stemmen"):p.a.createElement("button",{onClick:function(){h.a.localStorage.set("osc-poll-login-pending",!0),document.location.href=a.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"),o=null,!a.config.allowShowResultsIfNotVoted||c.userVote||a.state.showResult||(o=p.a.createElement("a",{className:"osc-show-result-button",onClick:function(){return t.setShowResult()}},"Resultaat bekijken")),r=p.a.createElement("div",{className:"osc-poll-question osc-form"},p.a.createElement(m.a.Radios,{config:n,value:a.state.selectedChoice,onChange:function(e){return a.selectChoice({choice:e.value})},ref:function(e){return a.description=e}}),p.a.createElement("div",{className:"osc-poll-question-buttons"},e,o)));var i,s,u,l=null;c&&(c.userVote||a.state.showResult)&&(i=null,a.state.showQuestion||c&&c.choices&&!c.userVote||(i=p.a.createElement("a",{className:"osc-show-question-button",onClick:function(){return t.setShowQuestion()}},"Stem aanpassen")),u=null,c.voteCount&&c.voteCount.total&&(s=1==c.voteCount.total?"stem":"stemmen",u=p.a.createElement("div",null,"Totaal ",c.voteCount.total," ",s,p.a.createElement("br",null),p.a.createElement("br",null))),l=p.a.createElement("ul",{className:"osc-choices"},Object.keys(c.choices).sort().map(function(e){var t=c.choices[e],n=null;a.config.allowChoiceTitles&&t.title&&(n=p.a.createElement("h4",null,t.title));var o=null;t.description&&(o=p.a.createElement("div",null,t.description));var r=null;a.config.withPercentage&&(r=p.a.createElement("div",{className:"osc-percentage"},t.votesPrc,"%"));var i=p.a.createElement("div",{className:"osc-choice-default"},n,o,p.a.createElement("div",{className:"osc-choice-bar".concat(a.config.withPercentage?" osc-with-percentage":"")},p.a.createElement("div",{className:"osc-choice-bar-mask"}),p.a.createElement("div",{className:"osc-choice-bar-progress",style:{width:(t.votesPrc||0)+"%"}})),r);return p.a.createElement("li",{className:"osc-choice",key:"osc-key-".concat(e)},i)}),u,i));var f=null;a.state.poll&&a.state.poll.can&&a.state.poll.can.edit&&(f=p.a.createElement("div",{className:"osc-editbuttons"},p.a.createElement("button",{className:"osc-editbutton osc-edit",onClick:function(){return a.showEditForm()}},"Bewerk poll"),p.a.createElement("button",{className:"osc-editbutton osc-delete",onClick:function(){confirm("Weet u het zeker")&&a.deletePoll()}},"Verwijder poll")));var d=null;return a.state.showVoteSucceeded&&(d=p.a.createElement("div",{className:"osc-vote-succeeded"},"Uw stem is opgeslagen")),p.a.createElement("div",{id:this.id,className:a.props.className||"osc-poll",ref:function(e){t.instance=e}},f,d,p.a.createElement("h4",null,c.question),r,l,p.a.createElement("br",null),p.a.createElement("br",null))}}])&&P(e.prototype,t),n&&P(e,n),r}();M.renderElement=function(e,t){var n=e.attributes;i.a.render(p.a.createElement(M,{attributes:n,config:t}),e)}},function(e,t,n){},function(e,t,n){},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(setImmediate){__webpack_require__.d(__webpack_exports__,"a",function(){return OpenStadComponentIdeasOnMap});var merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),merge__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),react_dom__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__),_filterbar_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(91),_info_block_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(90),_idea_form_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(105),_map_jsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(106),_component_index_jsx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),_idea_details_index_jsx__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(83);function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var OpenStadComponentIdeasOnMap=function(_OpenStadComponent){_inherits(OpenStadComponentIdeasOnMap,_OpenStadComponent);var _super=_createSuper(OpenStadComponentIdeasOnMap);function OpenStadComponentIdeasOnMap(e){var t;_classCallCheck(this,OpenStadComponentIdeasOnMap);var n=_assertThisInitialized(t=_super.call(this,e));return n.defaultConfig={displayType:"complete",displayWidth:null,displayHeight:null,canSelectLocation:!0,types:[],typeField:null,titleField:"title",summaryField:"summary",user:{},api:{url:null,headers:null,isUserLoggedIn:!1},idea:{canAddNewIdeas:!0,showVoteButtons:!0,titleMinLength:10,titleMaxLength:20,summaryMinLength:20,summaryMaxLength:140,descriptionMinLength:140,descriptionMaxLength:5e3},argument:{isActive:!0,descriptionMinLength:30,descriptionMaxLength:500,formIntro:"Mijn reactie op deze inzending is ...",placeholder:"",requiredUserRole:"member",ignoreReactionsForIdeaIds:"",closeReactionsForIdeaIds:""},content:{mobilePreviewLoggedInHTML:"Een locatie vlakbij <h4>{address}</h4>{addButton}",mobilePreviewNotLoggedInHTML:'Een locatie vlakbij <h4>{address}</h4><div>Wilt u een nieuw punt toevoegen? Dan moet u eerst <a href="{loginLink}">inloggen</a>.</div>'},search:{}},n.config=merge__WEBPACK_IMPORTED_MODULE_0___default.a.recursive(n.defaultConfig,n.config,e.config||{}),n.config.ideaName=n.config.ideaName||"Inzendingen",n.config.search.searchIn=e.config.search&&e.config.search.searchIn||["ideas","addresses"],n.config.doSearchFunction=n.config.doSearchFunction||n.doSearch.bind(n),n.config.typeField=n.config.typeField||"extraData.theme",n.config.types&&n.config.types.length&&n.config.types.forEach(function(t){if(t.value&&!t.name&&(t.name=t.value),t.mapicon&&"string"==typeof t.mapicon)try{t.mapicon=JSON.parse(t.mapicon)}catch(e){console.log(t),console.log(e)}if(t.listicon&&"string"==typeof t.listicon)try{t.listicon=JSON.parse(t.listicon)}catch(e){console.log(t),console.log(e)}if(t.buttonicon&&"string"==typeof t.buttonicon)try{t.buttonicon=JSON.parse(t.buttonicon)}catch(e){console.log(t),console.log(e)}}),n.state={ideas:[],visibleIdeas:[],status:"default",mobileState:"closed",currentIdea:null,editIdea:null,selectedIdea:null,selectedLocation:null,currentMouseOverIdea:null},t}return _createClass(OpenStadComponentIdeasOnMap,[{key:"componentDidMount",value:function(){var r=this;window.addEventListener("hashchange",function(e){r.hideIdeaDetails();var t,n,o=window.location.hash.match(/(\w)(\d+)/);o&&(t=o[2],n=r.state.ideas&&r.state.ideas.find(function(e){return e.id==t}),"D"==o[1]&&r.showIdeaDetails(n))},!1),document.addEventListener("osc-map-is-ready",function(e){r.fetchData({}),r.map.map.on("zoomend",function(){r.onChangeMapBoundaries()}),r.map.map.on("moveend",function(){r.onChangeMapBoundaries()})}),document.addEventListener("osc-map-click",function(e){r.onMapClick(e.detail)}),document.addEventListener("osc-map-marker-click",function(e){r.onMarkerClick(e.detail)}),document.addEventListener("osc-map-cluster-click",function(e){r.onClusterClick(e.detail)}),document.addEventListener("typeFilterUpdate",function(e){r.onChangeTypeFilter(e.detail.value)}),document.addEventListener("updateSelectedIdea",function(e){r.onUpdateSelectedIdea(e.detail.idea)}),document.addEventListener("closeSelectedLocation",function(e){r.onCloseSelectedLocation(e.detail.idea)}),document.addEventListener("updateEditIdea",function(e){r.onUpdateEditIdea(e.detail.idea)}),document.addEventListener("ideaClick",function(e){r.onIdeaClick(e.detail.idea)}),document.addEventListener("selectedIdeaClick",function(e){r.onSelectedIdeaClick(e.detail.idea)}),document.addEventListener("newIdeaClick",function(e){r.onNewIdeaClick({typeId:e.detail.typeId})}),document.addEventListener("clickMobileSwitcher",function(e){r.onClickMobileSwitcher()}),document.addEventListener("mouseOverListItem",function(e){r.onMouseOverListItem(e.detail.idea)}),document.addEventListener("mouseOutListItem",function(e){r.onMouseOutListItem()}),document.addEventListener("osc-idea-liked",function(e){r.onIdeaLiked(e.detail)}),document.addEventListener("osc-new-reaction-stored",function(e){r.onReactionStored(e.detail,!0)}),document.addEventListener("osc-reaction-edited",function(e){r.onReactionStored(e.detail)}),document.addEventListener("osc-reaction-deleted",function(e){r.onReactionDeleted(e.detail)}),document.addEventListener("osc-edit-idea-click",function(e){r.onEditIdeaClick(e.detail)}),document.addEventListener("osc-idea-deleted",function(e){r.onIdeaDeleted(e.detail)}),document.addEventListener("newIdeaStored",function(e){document.location.href="#",r.onNewIdeaStored(e.detail.idea)})}},{key:"fetchData",value:function(e){for(var n=e.showIdeaDetails,o=e.showIdeaSelected,i=this,t="".concat(i.config.api.url,"/api/site/").concat(i.config.siteId,"/idea?includeVoteCount=1&includeArgsCount=1&includeUser=1"),r=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_8__.a.api.getHeaders(i.config);0<i.map.markers.length;){var a=i.map.markers[0];i.map.removeMarker(a)}i.map.markers=[],fetch(t,{headers:r}).then(function(e){return e.json()}).then(function(e){n=n||window.location.hash.match(/^#D(\d+)/)&&window.location.hash.match(/^#D(\d+)/)[1],o=o||window.location.hash.match(/^#S(\d+)/)&&window.location.hash.match(/^#S(\d+)/)[1];var t=e.filter(function(e){return e.location});t.map(function(e){e.id==n&&(n=e),e.id==o&&(o=e),e.image=e.posterImage&&e.posterImage.key||e.extraData&&e.extraData.images&&e.extraData.images[0]||"https://stemvanwest.amsterdam.nl/img/placeholders/idea.jpg",i.map.addIdea(e)}),i.map.setBoundsAndCenter(),i.setState({ideas:t},function(){var e,r;i.setState({mobileState:i.config.startWithListOpenOnMobile?"opened":"closed"}),"object"==_typeof(o)&&null!=o&&(i.setNewIdea(null),i.setSelectedIdea(o),i.setState({status:"idea-selected",currentIdea:o},function(){i.map.map.invalidateSize(),i.map.showMarkers({}),i.setSelectedIdea(i.state.currentIdea)})),"object"==_typeof(n)&&null!=n&&(i.setSelectedIdea(n),i.setNewIdea(null),i.showIdeaDetails(n)),window.location.hash.match(/^#newidea/)&&(e=window.location.hash.match(/&([^&]+)=([^&]+)/g),r={},e&&e.forEach(function(e){var t=_slicedToArray(e.split("="),2),n=t[0],o=t[1],n=n.substring(1,n.length);r[n]=decodeURIComponent(o)}),i.setNewIdea(r),i.showIdeaForm(r)),i.onChangeMapBoundaries()})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"showIdeaDetails",value:function(e){var t=this;t.setSelectedIdea(e),t.infoblock&&t.infoblock.setState({mobileState:t.state.mobileState="opened"}),t.setState({status:"idea-details",currentIdea:e},function(){t.map.map.invalidateSize(),t.map.hideMarkers({exception:{location:{lat:e.location.coordinates[0],lng:e.location.coordinates[1]}}})})}},{key:"hideIdeaDetails",value:function(){var e=this;e.setState({status:"idea-selected"},function(){e.map.map.invalidateSize(),e.map.showMarkers({}),e.setSelectedIdea(e.state.currentIdea)})}},{key:"showIdeaForm",value:function(e,t){var n,o=this;o.config.idea.formUrl?(n=(n=(n=(n=(n=o.config.idea.formUrl).replace(/:ideaId/,"number"==typeof e.id?e.id:"")).replace(/:location/,e.location?JSON.stringify({lat:e.location.coordinates[0],lng:e.location.coordinates[1]}):"")).replace(/:typeId/,e.typeId)).replace(/:address/,e.address),document.location.href=n):o.setState({status:"idea-form",editIdea:e},function(){o.map.map.invalidateSize(),o.map.hideMarkers({exception:{location:e&&e.location?{lat:e.location.coordinates[0],lng:e.location.coordinates[1]}:o.map.selectedLocation}}),t&&t()})}},{key:"hideIdeaForm",value:function(){var e,t=this;this.state.editIdea&&"number"==typeof this.state.editIdea.id?(e=t.state.ideas.find(function(e){return e.id==t.state.editIdea.id}),t.showIdeaDetails(e),document.location.href="#D"+e.id):(document.location.href="#",t.state.editIdea&&t.state.editIdea.location?t.setState({status:"location-selected"},function(){t.map.map.invalidateSize(),t.map.showMarkers({}),t.setNewIdea(t.state.editIdea)}):t.setState({status:"default"},function(){t.map.map.invalidateSize(),t.map.showMarkers({}),t.setNewIdea(null)}))}},{key:"doSearch",value:function doSearch(searchValue,callback){var self=this,searchValueLc=searchValue.toLowerCase(),searchResult={ideas:[],locations:[]};function onClickAddress(e){fetch("https://geodata.nationaalgeoregister.nl/locatieserver/v3/lookup?fq=gemeentenaam:amsterdam&&id="+e,{headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){var t;e&&e.response&&e.response.docs&&e.response.docs[0]&&(t=e.response.docs[0].centroide_ll.match(/POINT\((\d+\.\d+) (\d+\.\d+)\)/),self.map.map.panTo(new L.LatLng(t[2],t[1])),self.onMapClick({latlng:{lat:t[2],lng:t[1]}},!0))}).catch(function(e){console.log("Search failed:",e),callback(searchValue,searchResult)})}this.config.search.searchIn.includes("ideas")&&this.state.ideas.forEach(function(idea){var title=eval("idea.".concat(self.config.titleField))||"",titlelLc=title.toLowerCase(),summary=eval("idea.".concat(self.config.summaryField))||"",summaryLc=summary.toLowerCase();(titlelLc.match(searchValueLc)||summaryLc.match(searchValueLc))&&searchResult.ideas.push({text:title,onClick:function(){self.onUpdateSelectedIdea(idea)}})}),this.config.search.searchIn.includes("addresses")||setImmediate(function(){callback(searchValue,searchResult)}),fetch("https://geodata.nationaalgeoregister.nl/locatieserver/v3/suggest?rows=5&fq=gemeentenaam:amsterdam&fq=*:*&q="+searchValueLc,{headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e&&e.response&&e.response.docs&&e.response.docs.length&&(searchResult.locations=e.response.docs.map(function(e){return{text:e.weergavenaam,onClick:function(){onClickAddress(e.id)}}})),callback(searchValue,searchResult)}).catch(function(e){console.log("Search failed:",e),callback(searchValue,searchResult)})}},{key:"getVisibleIdeas",value:function(){if("opened"==this.state.mobileState)return this.state.visibleIdeas;var e=this.map.getVisibleIdeas();return this.setState({visibleIdeas:e}),e}},{key:"setSelectedLocation",value:function(o){var r=this;if(r.map.setSelectedLocation(o),r.ideaform){if(!o)return;r.ideaform.handleLocationChange({location:o,address:"Bezig met adresgegevens ophalen..."}),r.map.getPointInfo(o,null,function(e,t){var n=e&&e._display||"Geen adres gevonden";r.state.editIdea.address=n,r.ideaform.handleLocationChange({location:o,address:n})})}}},{key:"setNewIdea",value:function(t){var r=this;t&&(t.isPointInPolygon=t.location&&r.map.isPointInPolygon({lat:t.location.coordinates[0],lng:t.location.coordinates[1]},r.config.map.polygon)),r.setState({editIdea:t},function(){t?(r.map.fadeMarkers({exception:[t.location]}),t.location&&r.setSelectedLocation({lat:t.location.coordinates[0],lng:t.location.coordinates[1]}),r.infoblock&&(r.setState({editIdea:r.state.editIdea}),t.location?(r.infoblock.setNewIdea(_objectSpread(_objectSpread({},r.state.editIdea),{},{address:"Bezig met adresgegevens ophalen..."})),r.map.getPointInfo({lat:t.location.coordinates[0],lng:t.location.coordinates[1]},null,function(e,t){var n=e&&e._display||"Geen adres gevonden",o=r.state.editIdea;o.address=n,r.setState({editIdea:o}),r.infoblock.setNewIdea(_objectSpread(_objectSpread({},r.state.editIdea),{},{address:n}))})):r.infoblock.setNewIdea(_objectSpread(_objectSpread({},r.state.editIdea),{},{address:"Geen locatie geselecteerd..."})),r.infoblock.updateIdeas({ideas:r.state.ideas.filter(function(e){return e.id!=t.id}),sortOrder:"distance",hideSortButton:!0,center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5}))):(r.map.unfadeAllMarkers(),r.setSelectedLocation(null),r.infoblock&&(r.infoblock.setNewIdea(null),r.infoblock.updateIdeas({ideas:r.getVisibleIdeas(),hideSortButton:!1})))})}},{key:"setSelectedIdea",value:function(t){(this.selectedIdea=t)?(this.map.fadeMarkers({exception:t}),this.infoblock&&(this.infoblock.setSelectedIdea(t),this.infoblock.updateIdeas({ideas:this.state.ideas.filter(function(e){return e.id!=t.id}),sortOrder:"distance",hideSortButton:!0,center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5}))):(this.map.unfadeAllMarkers(),this.infoblock&&(this.infoblock.setSelectedIdea(null),this.infoblock.updateIdeas({ideas:this.getVisibleIdeas(),hideSortButton:!1})))}},{key:"onMapClick",value:function(e,t){if("opened"==this.state.mobileState)return this.infoblock.setState({mobileState:"closed"}),void this.setState({mobileState:"closed"},function(){this.map.map.invalidateSize()});switch(this.state.status){case"idea-details":break;case"idea-form":this.map.isPointInPolygon(e.latlng,this.config.map.polygon)&&this.setSelectedLocation(e.latlng);break;default:if(!this.selectedIdea&&!this.map.selectedLocation||t){if(!this.config.canSelectLocation)break;this.setState(_objectSpread(_objectSpread({},this.state),{},{status:"location-selected",currentIdea:null})),this.setSelectedIdea(null);var n={id:"New Idea",location:{coordinates:[e.latlng.lat,e.latlng.lng]}};this.setNewIdea(n)}else this.setState(_objectSpread(_objectSpread({},this.state),{},{status:"default",currentIdea:null})),document.location.href="#",this.setSelectedIdea(null),this.setNewIdea(null),this.infoblock.updateIdeas({ideas:this.getVisibleIdeas(),hideSortButton:!1});this.map.updateFading(),document.querySelector("#osc-ideas-on-map-info").scrollTo(0,0)}}},{key:"onMarkerClick",value:function(e){if("opened"==this.state.mobileState)return this.infoblock.setState({mobileState:"closed"}),void this.setState({mobileState:"closed"},function(){this.map.map.invalidateSize()});switch(this.state.status){case"idea-details":case"idea-form":break;default:this.state.editIdea?(this.setState({status:"default",currentIdea:null}),this.setNewIdea(null),this.onUpdateSelectedIdea(null)):(this.setState({status:"idea-selected",currentIdea:e.target.data}),this.setNewIdea(null),this.onUpdateSelectedIdea(e.target.data)),document.querySelector("#osc-ideas-on-map-info").scrollTo(0,0)}}},{key:"onClusterClick",value:function(){if("opened"==this.state.mobileState)return this.infoblock.setState({mobileState:"closed"}),void this.setState({mobileState:"closed"},function(){this.map.map.invalidateSize()});this.setState(_objectSpread(_objectSpread({},this.state),{},{status:"default",currentIdea:null})),this.setNewIdea(null),this.setSelectedIdea(null)}},{key:"onChangeMapBoundaries",value:function(){var t,e=this;switch(e.map.updateFading(),e.state.status){case"idea-details":case"idea-form":break;case"idea-selected":case"location-selected":!e.infoblock||(t=e.state.currentIdea||e.selectedIdea||e.state.editIdea)&&t&&e.infoblock.updateIdeas({ideas:e.state.ideas.filter(function(e){return e.id!=t.id}),sortOrder:"distance",hideSortButton:!0,center:{lat:t.location.coordinates[0],lng:t.location.coordinates[1]},maxLength:5});break;default:e.infoblock&&e.infoblock.updateIdeas({ideas:e.getVisibleIdeas(),hideSortButton:!1})}}},{key:"onUpdateEditIdea",value:function(e){this.setState(_objectSpread(_objectSpread({},this.state),{},{editIdea:_objectSpread({},e),currentIdea:e}))}},{key:"onUpdateSelectedIdea",value:function(e){this.state.editIdea&&this.setNewIdea(null);var t=e?"idea-selected":"default";document.location.href=e?"#S"+e.id:"#",this.setState(_objectSpread(_objectSpread({},this.state),{},{status:t,currentIdea:e}),function(){this.setSelectedIdea(e)})}},{key:"onCloseSelectedLocation",value:function(){this.setState(_objectSpread(_objectSpread({},this.state),{},{status:"default",currentIdea:null}),function(){this.setSelectedIdea(null),this.setNewIdea(null),this.setSelectedLocation(null)})}},{key:"onIdeaClick",value:function(e){this.state.editIdea&&this.setNewIdea(null),this.setState({status:"idea-selected",currentIdea:e},function(){this.setSelectedIdea(e),document.location.href="#D"+e.id})}},{key:"onEditIdeaClick",value:function(e){var o=this,r={lat:e.location.coordinates[0],lng:e.location.coordinates[1]};o.showIdeaForm(e,function(){o.ideaform.handleLocationChange({location:r,address:"Bezig met adresgegevens ophalen..."}),o.map.getPointInfo(r,null,function(e,t){var n=e&&e._display||"Geen adres gevonden";o.state.editIdea.address=n,o.ideaform.handleLocationChange({location:r,address:n})})})}},{key:"onIdeaDeleted",value:function(){var e=this;e.setNewIdea(null),e.setSelectedIdea(null),e.setSelectedLocation(null),e.setState({status:"default"},function(){e.map.map.invalidateSize(),e.map.setBoundsAndCenter(),e.fetchData({})})}},{key:"onDeleteIdeaClick",value:function(e){console.log("Delete idea",e.id),alert("TODO")}},{key:"onSelectedIdeaClick",value:function(e){document.location.href="#D"+e.id}},{key:"onNewIdeaClick",value:function(e){var t=this,n=e.typeId,r=this,o=this.state.editIdea||{};o.typeId=n,r.showIdeaForm(o,function(){var o={lat:t.state.editIdea.location.coordinates[0],lng:t.state.editIdea.location.coordinates[1]};r.ideaform.handleLocationChange({location:o,address:"Bezig met adresgegevens ophalen..."}),r.map.getPointInfo(o,null,function(e,t){var n=e&&e._display||"Geen adres gevonden";r.state.editIdea.address=n,r.ideaform.handleLocationChange({location:o,address:n})})})}},{key:"onNewIdeaStored",value:function(e){this.setNewIdea(null),this.showIdeaDetails(e),this.fetchData({showIdeaSelected:e.id})}},{key:"onIdeaLiked",value:function(t){this.state.ideas.find(function(e){return e.id==t.ideaId}).yes+=t.change}},{key:"onReactionStored",value:function(t,e){e&&this.state.ideas.find(function(e){return e.id==t.ideaId}).argCount++}},{key:"onReactionDeleted",value:function(t){this.state.ideas.find(function(e){return e.id==t.ideaId}).argCount--}},{key:"onChangeTypeFilter",value:function onChangeTypeFilter(value){var self=this;self.setSelectedIdea(null),self.setNewIdea(null),self.setSelectedLocation(null),self.map.setFilter(function(marker){return!value||"0"===value||marker.data&&eval("marker.data.".concat(self.config.typeField)).toLowerCase()&&eval("marker.data.".concat(self.config.typeField)).toLowerCase()==value.toLowerCase()}),self.setState({status:"default"}),self.map.setBoundsAndCenter(),self.onChangeMapBoundaries()}},{key:"onMouseOverListItem",value:function(e){this.setState({currentMouseOverIdea:e}),this.map.fadeMarkers({exception:e}),this.map.updateFading()}},{key:"onMouseOutListItem",value:function(){this.setState({currentMouseOverIdea:null}),this.map.unfadeAllMarkers(),this.selectedIdea&&this.map.fadeMarkers({exception:this.selectedIdea}),this.map.selectedLocation&&this.map.fadeMarkers({}),this.map.updateFading()}},{key:"onClickBackToOverview",value:function(){document.location.href="#S"+this.state.currentIdea.id}},{key:"onClickMobileSwitcher",value:function(){var e=this;e.infoblock&&e.infoblock.setState({mobileState:"closed"==e.state.mobileState?"opened":"closed"}),e.setState({mobileState:"closed"==e.state.mobileState?"opened":"closed"},function(){e.map.map.invalidateSize(),"location-selected"!=this.state.status&&"idea-selected"!=this.state.status||(e.state.currentIdea||e.selectedIdea||e.state.editIdea,e.map.setBoundsAndCenter())})}},{key:"render",value:function render(){var _this3=this,_React$createElement,_React$createElement2,_React$createElement3,_React$createElement4,infoHTML=null,filterHTML=null,mobilePopupHTML=null,contentHTML,addButton,loginButton,loginLink;switch(this.state.status){case"idea-details":var config={titleField:this.config.titleField,summaryField:this.config.summaryField,typeField:this.config.typeField,siteId:this.config.siteId,user:this.config.user,api:this.config.api,argument:_objectSpread({},this.config.argument),showVoteButtons:this.config.idea.showVoteButtons,poll:this.config.poll,showLabels:this.config.idea.showLabels,types:this.config.types,allowMultipleImages:this.config.idea.allowMultipleImages,metaDataTemplate:this.config.idea.metaDataTemplate,shareChannelsSelection:this.config.idea.shareChannelsSelection,loginUrl:this.config.loginUrl,linkToUserPageUrl:this.config.linkToUserPageUrl};config.argument.isActive=this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(this.state.currentIdea.id,"(?:\\D|$)"))),config.argument.isClosed=this.config.argument.isClosed||this.config.argument.closeReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(this.state.currentIdea.id,"(?:\\D|$)"))),this.config.typeLabel&&(config.typeLabel=this.config.typeLabel),this.state.currentIdea&&this.state.currentIdea.extraData&&this.state.currentIdea.extraData.type&&("Kans"==this.state.currentIdea.extraData.type||"Knelpunt"==this.state.currentIdea.extraData.type)&&(config.types=[{name:"Kans",label:"Dit gaat goed",value:"Kans",buttonLabel:"Ik wil een idee posten",backgroundColor:"#bed200",textColor:"black"},{name:"Knelpunt",label:"Dit kan beter",value:"Knelpunt",backgroundColor:"#ff9100",textColor:"black"}],config.showLabels=!0),infoHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_idea_details_index_jsx__WEBPACK_IMPORTED_MODULE_9__.default,(_React$createElement={id:this.divId+"-infoblock",config:config,idea:this.state.currentIdea},_defineProperty(_React$createElement,"id","osc-ideas-on-map-info"),_defineProperty(_React$createElement,"className","osc-ideas-on-map-info"),_defineProperty(_React$createElement,"mobileState",this.state.mobileState),_defineProperty(_React$createElement,"ref",function(e){return _this3.ideadetails=e}),_React$createElement)),filterHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-ideas-on-map-filterbar"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-backbutton",onClick:function(){return _this3.onClickBackToOverview()}},"Terug naar overzicht"));break;case"idea-form":infoHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_idea_form_jsx__WEBPACK_IMPORTED_MODULE_5__.a,(_React$createElement2={id:this.divId+"-infoblock",config:_objectSpread(_objectSpread({siteId:this.config.siteId,user:this.config.user,api:this.config.api},this.config.idea),{},{types:this.config.types,typeField:this.config.typeField}),idea:_objectSpread(_objectSpread({},this.state.editIdea),{},{user:this.state.editIdea&&this.state.editIdea.user||this.config.user})},_defineProperty(_React$createElement2,"id","osc-ideas-on-map-info"),_defineProperty(_React$createElement2,"className","osc-ideas-on-map-info"),_defineProperty(_React$createElement2,"mobileState",this.state.mobileState),_defineProperty(_React$createElement2,"ref",function(e){return _this3.ideaform=e}),_React$createElement2)),filterHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-ideas-on-map-filterbar"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-backbutton",onClick:function(){return _this3.hideIdeaForm()}},"Terug naar ",this.state.editIdea&&"number"==typeof this.state.editIdea.id?"idee":"overzicht"));break;case"location-selected":case"idea-selected":"location-selected"==this.state.status?this.state.editIdea&&this.state.editIdea.isPointInPolygon&&(contentHTML=this.config.api.isUserLoggedIn?this.config.content.mobilePreviewLoggedInHTML:this.config.content.mobilePreviewNotLoggedInHTML,addButton=null,loginButton=null,loginLink=null,this.config.api.isUserLoggedIn?this.config.idea.canAddNewIdeas&&(addButton=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{className:"osc-button osc-button-blue",onClick:function(e){_this3.onClickMobileSwitcher(e),_this3.onNewIdeaClick(e)},ref:function(e){return self.newIdeaButton=e}},"Nieuw punt toevoegen")):this.config.idea.canAddNewIdeas&&(loginButton=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{onClick:function(){document.location.href="/oauth/login?returnTo="+encodeURIComponent(document.location.href)},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"),loginLink="javascript: document.location.href = '/oauth/login?returnTo=' + encodeURIComponent(document.location.href)"),contentHTML=contentHTML.replace(/\{address\}/g,this.state.editIdea.address||""),contentHTML=contentHTML.replace(/\{loginLink\}/g,loginLink),contentHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_8__.a.reactTemplate({html:contentHTML,addButton:addButton,loginButton:loginButton}),mobilePopupHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-mobile-popup"},contentHTML)):mobilePopupHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-mobile-popup osc-clickable",onClick:function(){_this3.setState({mobileState:"opened"}),_this3.infoblock.setState({mobileState:"opened"}),document.location.href="#D"+_this3.state.currentIdea.id}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-image",style:{backgroundImage:"url(".concat(this.state.currentIdea&&this.state.currentIdea.image,")")}}),eval(this.state.currentIdea&&"this.state.currentIdea.".concat(this.config.titleField))),infoHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_info_block_jsx__WEBPACK_IMPORTED_MODULE_4__.a,(_React$createElement3={id:this.divId+"-infoblock",config:{api:this.config.api,user:this.config.user,ideaName:this.config.ideaName,titleField:this.config.titleField,summaryField:this.config.summaryField,types:this.config.types,typeField:this.config.typeField,content:this.config.content,argument:this.config.argument,idea:this.config.idea,loginUrl:this.config.loginUrl}},_defineProperty(_React$createElement3,"id","osc-ideas-on-map-info"),_defineProperty(_React$createElement3,"className","osc-ideas-on-map-info"),_defineProperty(_React$createElement3,"mobileState",this.state.mobileState),_defineProperty(_React$createElement3,"ref",function(e){return _this3.infoblock=e}),_React$createElement3)),filterHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_filterbar_jsx__WEBPACK_IMPORTED_MODULE_3__.a,{id:this.divId+"-filterbar",config:{types:this.config.types,typesFilterLabel:this.config.typesFilterLabel,typeField:this.config.typeField,areas:this.config.areas,doSearchFunction:this.config.doSearchFunction,ideaName:this.config.ideaName,search:this.config.search},className:"osc-ideas-on-map-filterbar",ref:function(e){return _this3.filterbar=e}});break;default:infoHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_info_block_jsx__WEBPACK_IMPORTED_MODULE_4__.a,(_React$createElement4={id:this.divId+"-infoblock",config:{api:this.config.api,user:this.config.user,ideaName:this.config.ideaName,titleField:this.config.titleField,summaryField:this.config.summaryField,types:this.config.types,typeField:this.config.typeField,content:this.config.content,argument:this.config.argument,idea:this.config.idea,loginUrl:this.config.loginUrl}},_defineProperty(_React$createElement4,"id","osc-ideas-on-map-info"),_defineProperty(_React$createElement4,"className","osc-ideas-on-map-info"),_defineProperty(_React$createElement4,"mobileState",this.state.mobileState),_defineProperty(_React$createElement4,"ref",function(e){return _this3.infoblock=e}),_React$createElement4)),filterHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_filterbar_jsx__WEBPACK_IMPORTED_MODULE_3__.a,{id:this.divId+"-filterbar",config:{types:this.config.types,typesFilterLabel:this.config.typesFilterLabel,typeField:this.config.typeField,areas:this.config.areas,doSearchFunction:this.config.doSearchFunction,ideaName:this.config.ideaName,search:this.config.search},className:"osc-ideas-on-map-filterbar",ref:function(e){return _this3.filterbar=e}}),mobilePopupHTML=null}var divStyle={},simpleHTML=null,buttonHTML;return"simple"==this.config.displayType&&(filterHTML=null,infoHTML=null,mobilePopupHTML=null,buttonHTML=null,this.config.linkToCompleteUrl&&(buttonHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{onClick:function(){document.location.href=_this3.config.linkToCompleteUrl},className:"osc-button-blue",style:{position:"absolute",top:20,right:20}},"Bekijk de volledige kaart")),simpleHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1e3}},buttonHTML),this.config.displayWidth&&(divStyle.width=this.config.displayWidth),this.config.displayHeight&&(divStyle.height=this.config.displayHeight)),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{id:this.divId,className:"osc-ideas-on-map osc-ideas-on-map-".concat(this.state.status," osc-mobile-").concat(this.state.mobileState),style:divStyle,ref:function(e){return _this3.instance=e}},filterHTML,infoHTML,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-ideas-on-map-map osc-ideas-on-map-map-".concat(this.config.displayType)},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_map_jsx__WEBPACK_IMPORTED_MODULE_6__.a,{id:this.divId+"-map",config:_objectSpread(_objectSpread({},this.config.map),{},{types:this.config.types,typeField:this.config.typeField,zoomControl:"simple"!=this.config.displayType}),ref:function(e){return _this3.map=e}})),simpleHTML,mobilePopupHTML)}}]),OpenStadComponentIdeasOnMap}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_7__.a)}).call(this,__webpack_require__(112).setImmediate)},function(e,t,n){"use strict";n.r(t);n(10),n(97);var o=n(0),r=n.n(o),i=n(3),a=n.n(i),c=(n(99),n(70));n.d(t,"default",function(){return c.a}),n.d(t,"Lightbox",function(){return c.a}),c.a.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(c.a,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t);n(10);var o=n(0),r=n.n(o),i=n(3),a=n.n(i),c=(n(100),n(71));n.d(t,"default",function(){return c.a}),n.d(t,"NLMap",function(){return c.a}),c.a.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(c.a,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t);n(10);var o=n(0),r=n.n(o),i=n(3),a=n.n(i),c=(n(101),n(72));n.d(t,"default",function(){return c.a}),n.d(t,"IdeaDetails",function(){return c.a}),c.a.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(c.a,{attributes:n,config:t}),e)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function amapsCreateClusterIcon(cluster){var self=this,count=cluster.getChildCount(),markers=cluster.getAllChildMarkers(),colors={},total=markers.length,isFaded=!1;markers.forEach(function(entry){var type=entry.data&&eval("entry.data.".concat(self.config.typeField)),tmp=self.config.types.find(function(e){return type&&(e.id==type||e.name==type)}),color=tmp&&(tmp.color||tmp.backgroundColor)||"#164995";null==type&&(type="undef"),colors[color]||(colors[color]=0),colors[color]++,entry.data&&entry.data.isFaded&&(isFaded=!0)});var html='<svg viewBox="0 0 36 36"><circle cx="18" cy="18" r="14" fill="white"/>',soFar=0;return Object.keys(colors).forEach(function(e){var t=e,n=100*colors[e]/total;html+='  <path\n             d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"\n             fill="none"\n             transform="rotate('.concat(soFar/100*360,', 18, 18)"\n             stroke="').concat(t,'"\n             stroke-width="4"\n             stroke-dasharray="').concat(n,', 100"\n             />'),soFar+=n}),html+='<text x="18" y="21" text-anchor="middle" class="openstad-component-ideas-on-map-icon openstad-component-ideas-on-map-icon-text">'+count+"</text></svg>",L.divIcon({html:html,className:"openstad-component-ideas-on-map-icon-cluster",iconSize:L.point(36,36),iconAnchor:[18,18],isFaded:isFaded})}__webpack_require__.d(__webpack_exports__,"a",function(){return amapsCreateClusterIcon})},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n(1),i=n.n(o),r=n(0),a=n.n(r),c=n(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=d(i);return t=a?(e=d(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==s(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,a.a.Component);var e,t,n,o=f(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);return(t=o.call(this,e)).config=i.a.recursive({name:"likebutton",backgroundColor:"#164995",color:"#fff",text:"like",opinion:"yes"},t.config,t.props.config||{}),t.state={value:t.props.value,busy:!1},t}return e=r,(t=[{key:"componentDidMount",value:function(){c.a.localStorage.get("osc-ideas-on-map-vote-pending")&&(this.doVote(),c.a.localStorage.remove("osc-ideas-on-map-vote-pending"))}},{key:"doVote",value:function(e){var r=this;if(e&&e.stopPropagation(),!this.state.busy){this.setState({busy:!0});var i=this,t="".concat(i.config.api.url,"/api/site/").concat(i.config.siteId,"/vote"),n=c.a.api.getHeaders(i.config);if(!i.config.user||!i.config.user.role){c.a.localStorage.set("osc-ideas-on-map-vote-pending",!0);var o="/oauth/login?returnTo="+encodeURIComponent(document.location.href)+"&useOauth=anonymous";return document.location.href=o}fetch(t,{method:"post",headers:n,body:JSON.stringify({ideaId:i.props.idea.id,opinion:i.config.opinion})}).then(function(e){if(!e.ok)throw Error("Stemmen is niet gelukt");return e.json()}).then(function(e){var t=e.length?1:-1,n=i.state.value+t;i.setState({value:n}),i.props.idea.userVote=e.length&&e||null,r.setState({busy:!1});var o=new window.CustomEvent("osc-idea-liked",{detail:{ideaId:i.props.idea.id,change:t}});document.dispatchEvent(o)}).catch(function(e){alert(e.message)})}}},{key:"render",value:function(){var t=this,e=parseInt(t.state.value)||0,n=parseInt(e/100)||0,o=parseInt((e-100*n)/10)||0,r=e-100*n-10*o;return a.a.createElement("div",{id:t.id,className:t.props.className||"osc-vote-button osc-number-button",ref:function(e){return t.instance=e}},a.a.createElement("div",{className:"osc-number-plates",style:{color:this.config.color,backgroundColor:this.config.backgroundColor}},a.a.createElement("div",{id:"".concat(this.config.name,"-number-plate-000"),className:"osc-number-plate"},n),a.a.createElement("div",{id:"".concat(this.config.name,"-number-plate-00"),className:"osc-number-plate"},o),a.a.createElement("div",{id:"".concat(this.config.name,"-number-plate-0"),className:"osc-number-plate"},r)),a.a.createElement("div",{className:"osc-number-button-text ".concat(this.config.name,"-name ").concat(this.props.idea.userVote?" osc-user-has-voted":""," ").concat(this.state.busy?" osc-busy":""),style:{color:this.config.color,backgroundColor:this.config.backgroundColor},onClick:function(e){return t.doVote(e)}},t.config.text),a.a.createElement("div",{className:"osc-clear-both"}))}}])&&u(e.prototype,t),n&&u(e,n),r}()},function(e,t,n){function o(p){var h=1==p,m=2==p,_=3==p,g=4==p,y=6==p,v=5==p||y;return function(e,t,n,o){for(var r,i,a=O(e),c=E(a),s=b(t,n,3),u=w(c.length),l=0,f=o||P,d=h?f(e,u):m?f(e,0):void 0;l<u;l++)if((v||l in c)&&(i=s(r=c[l],l,a),p))if(h)d[l]=i;else if(i)switch(p){case 3:return!0;case 5:return r;case 6:return l;case 2:k.call(d,r)}else if(g)return!1;return y?-1:_||g?g:d}}var b=n(46),E=n(42),O=n(93),w=n(45),P=n(94),k=[].push;e.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return InfoBlock});var merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),merge__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_ideas_list_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(104),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_image_index_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(48);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var InfoBlock=function(_React$Component){_inherits(InfoBlock,_React$Component);var _super=_createSuper(InfoBlock);function InfoBlock(e){var t;_classCallCheck(this,InfoBlock);return(t=_super.call(this,e)).config=merge__WEBPACK_IMPORTED_MODULE_0___default.a.recursive({content:{noSelectionLoggedInHTML:'<div class="osc-info-block-default-block"><div class="osc-info-block-default-block-line osc-line-1">Klik op een plek op de kaart om een nieuw punt toe te voegen.</div><div class="osc-info-block-default-block-line osc-line-2">Selecteer een inzending op de kaart om meer informatie over de inzending te bekijken.</div><div class="osc-info-block-default-block-line osc-line-3">Bekijk hieronder de inzendingen die nu zichtbaar zijn op de kaart.</div></div>',noSelectionNotLoggedInHTML:'<div class="osc-info-block-default-block"><div class="osc-info-block-default-block-line osc-line-1">Klik op een plek op de kaart om een nieuw punt toe te voegen.</div><div class="osc-info-block-default-block-line osc-line-2">Selecteer een inzending op de kaart om meer informatie over de inzending te bekijken.</div><div class="osc-info-block-default-block-line osc-line-3">Bekijk hieronder de inzendingen die nu zichtbaar zijn op de kaart.</div></div>',selectionActiveLoggedInHTML:"Ingelogd: er is een punt geselecteerd binnen de polygon, met een adres: {address} en {addButton}.",selectionInactiveLoggedInHTML:"Ingelogd: er is een punt geselecteerd buiten de polygon, met een {address}",selectionActiveNotLoggedInHTML:'Niet ingelogd: er is een punt geselecteerd binnen de polygon, met een adres: {address} en {loginButton} of <a href="{loginLink}">login link</a>.',selectionInactiveNotLoggedInHTML:"Niet ingelogd: er is een punt geselecteerd buiten de polygon, met een {address}",showNoSelectionOnMobile:!1},idea:{canAddNewIdeas:!0,showVoteButtons:!0},argument:{isActive:!0,ignoreReactionsForIdeaIds:""},types:[]},t.config,e.config||{}),t.config.loginUrl=t.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),console.log(),e.config.content.noSelectionHTML&&!e.config.content.noSelectionLoggedInHTML&&(t.config.content.noSelectionLoggedInHTML=e.config.content.noSelectionHTML),e.config.content.noSelectionHTML&&!e.config.content.noSelectionNotLoggedInHTML&&(t.config.content.noSelectionNotLoggedInHTML=e.config.content.noSelectionHTML),t.state={currentSortOrder:t.config.defaultSortOrder,selectedIdea:void 0,newIdea:void 0,ideas:[],mobileState:e.mobileState||"closed"},t}return _createClass(InfoBlock,[{key:"componentDidMount",value:function(){this.eventTarget=this.config.eventTarget||this.instance}},{key:"updateIdeas",value:function(e){var t=e.ideas,n=void 0===t?this.state.ideas:t,o=e.sortOrder,r=void 0===o?this.state.currentSortOrder:o,i=e.hideSortButton,a=e.center,c=void 0===a?{lat:52.37104644463586,lng:4.900402911007405}:a,s=e.maxLength;this.setState({ideas:n}),this.list.updateIdeas({ideas:n,sortOrder:r,hideSortButton:i,center:c,maxLength:s})}},{key:"setSelectedIdea",value:function(e){this.setState(_objectSpread(_objectSpread({},this.state),{},{selectedIdea:e,newIdea:null}))}},{key:"setNewIdea",value:function(e){this.setState(_objectSpread(_objectSpread({},this.state),{},{newIdea:e,selectedIdea:null}))}},{key:"dispatchUpdateSelectedIdea",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("updateSelectedIdea",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchCloseSelectedLocation",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("closeSelectedLocation",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchSelectedIdeaClick",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("selectedIdeaClick",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchOnIdeaClick",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("ideaClick",{detail:{idea:t}});document.dispatchEvent(n)}},{key:"dispatchNewIdeaClick",value:function(e,t){e.stopPropagation();var n=new window.CustomEvent("newIdeaClick",{detail:{typeId:t}});document.dispatchEvent(n)}},{key:"dispatchClickMobileSwitcher",value:function(e){e.stopPropagation();var t=new window.CustomEvent("clickMobileSwitcher",{detail:{}});document.dispatchEvent(t)}},{key:"render",value:function render(){var _this2=this,self=this,newIdeaHTML=null,selectedIdeaHTML=null,titleAddition="",mobileSwitcherHTML=null,mobileTitle="",addButton=null,loginButton=null,loginLink=null,contentHTML,contentHTML;if(self.config.idea.canAddNewIdeas&&(addButton=self.config.types&&"typeId"==self.config.typeField?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{className:"osc-new-idea-buttons"},self.config.types.map(function(e){var t=e;if(!t.auth||t.auth.createableBy&&_libs_index_jsx__WEBPACK_IMPORTED_MODULE_3__.a.user.hasRole(self.config.user,t.auth.createableBy)){var n=t?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-button-background-image",dangerouslySetInnerHTML:{__html:t.buttonicon&&t.buttonicon.html||""}}):null;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{className:"osc-button osc-button-white"+(t&&t.auth&&t.auth.createableBy?" osc-button-required-role-is-".concat(t.auth.createableBy):""),onClick:function(e){return self.dispatchNewIdeaClick(e,t.id||t.name)}},n,t&&t.buttonLabel||"Nieuw punt toevoegen")}return null})):react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{className:"osc-button osc-button-blue",onClick:function(e){return self.dispatchNewIdeaClick(e)}},"Nieuw punt toevoegen"),loginButton=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{onClick:function(){document.location.href=_this2.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen"),loginLink="javascript: document.location.href = '".concat(this.config.loginUrl,"'")),self.state.newIdea&&(contentHTML=null,contentHTML=self.state.newIdea.isPointInPolygon?self.config.api.isUserLoggedIn?self.config.content.selectionActiveLoggedInHTML:self.config.content.selectionActiveNotLoggedInHTML:self.config.api.isUserLoggedIn?self.config.content.selectionInactiveLoggedInHTML:self.config.content.selectionInactiveNotLoggedInHTML,contentHTML=contentHTML.replace(/\{address\}/g,self.state.newIdea.address||""),contentHTML=contentHTML.replace(/\{loginLink\}/g,loginLink),contentHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_3__.a.reactTemplate({html:contentHTML,addButton:addButton,loginButton:loginButton}),newIdeaHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-info-block-new-idea"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{className:"osc-close-button-black",onClick:function(e){return self.dispatchCloseSelectedLocation(e,null)},ref:function(e){return self.resetButton=e}}),contentHTML),titleAddition="in de buurt",mobileTitle="Meer details en acties"),self.state.selectedIdea){var idea=self.state.selectedIdea,ideaTypeValue;try{ideaTypeValue=eval("idea.".concat(self.config.typeField))}catch(e){ideaTypeValue=""}var typeDef=self.config.types.find(function(e){return e.name==ideaTypeValue||e.id==ideaTypeValue});typeDef&&typeDef.listicon||(typeDef={listicon:{html:""}});var voteCountHTML=null;this.config.idea.showVoteButtons&&(voteCountHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-likes"},idea.yes||0));var argcountHTML=null;this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)")))&&(argcountHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-reactions"},idea.argCount||0)),selectedIdeaHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-info-block-selected-idea",onClick:function(e){return self.dispatchSelectedIdeaClick(e,self.state.selectedIdea)}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{className:"osc-close-button-black",onClick:function(e){return self.dispatchUpdateSelectedIdea(e,null)},ref:function(e){return self.resetButton=e}}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h3",null,"Geselecteerd"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-info-block-selected-idea-idea"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-idea-image-container"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_4__.IdeaImage,{config:{},idea:idea,key:"image-"+idea.id})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-content"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h4",null,eval("idea.".concat(self.config.titleField))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-summary"},eval("idea.".concat(self.config.summaryField))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-stats"},voteCountHTML,argcountHTML,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-type"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-type-content",dangerouslySetInnerHTML:{__html:typeDef.listicon.html}})))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-clear-both"}))),titleAddition="in de buurt",mobileTitle="Meer details"}titleAddition=titleAddition||"in dit gebied";var defaultBlockHTML=null,noSelectionHTML;return newIdeaHTML||selectedIdeaHTML||(noSelectionHTML=self.config.content.noSelectionNotLoggedInHTML,self.config.api.isUserLoggedIn&&(noSelectionHTML=self.config.content.noSelectionLoggedInHTML),noSelectionHTML=noSelectionHTML.replace(/\{loginLink\}/g,loginLink),noSelectionHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_3__.a.reactTemplate({html:noSelectionHTML,addButton:addButton,loginButton:loginButton}),defaultBlockHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-info-block-default-block".concat(self.config.content.showNoSelectionOnMobile?" osc-visible-on-mobile":"")},noSelectionHTML),mobileTitle="".concat(self.config.ideaName," in dit gebied (").concat(self.state.ideas&&self.state.ideas.length||0,")")),"opened"==self.state.mobileState&&(mobileTitle="Terug naar de kaart"),mobileSwitcherHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-mobile-switcher",onClick:function(e){return self.dispatchClickMobileSwitcher(e)}},mobileTitle),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{id:self.props.id,className:self.props.className||"osc-info-block",ref:function(e){return self.instance=e}},mobileSwitcherHTML,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-info-content"},defaultBlockHTML,newIdeaHTML,selectedIdeaHTML,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_ideas_list_jsx__WEBPACK_IMPORTED_MODULE_2__.a,{config:_objectSpread(_objectSpread({},self.config),{},{onIdeaClick:function(e,t){return self.dispatchOnIdeaClick(e,t)}}),ideas:self.state.ideas,title:self.config.ideaName+" "+titleAddition,key:"osc-ideas-list-321",ref:function(e){return self.list=e}})))}}]),InfoBlock}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return E});var o=n(1),i=n.n(o),r=n(0),a=n.n(r);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function u(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=h(i);return t=a?(e=h(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==c(o)&&"function"!=typeof o?p(n):o}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,a.a.Component);var e,t,n,o=d(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);return(t=o.call(this,e)).config=i.a.recursive({},t.config,e.config||{}),t.config.searchIn=e.config.searchIn||["ideas","addresses"],t.config.placeholder=e.config.placeholder||"Zoek op trefwoord",t.config.doSearchFunction=t.config.doSearchFunction||t.doSearchx.bind(p(t)),t.updateSearchResult=t.updateSearchResult.bind(p(t)),t.state={searchValue:"",searchResult:{locations:[],ideas:[]},showSuggestions:!1},t}return e=r,(t=[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){this.updateSearchValue(e),3<=e.length&&this.config.doSearchFunction(e,this.updateSearchResult)}},{key:"handleButtonClick",value:function(){var e=this;e.state.searchValue&&e.setState({searchValue:""},function(){e.inputfield.focus()})}},{key:"updateSearchValue",value:function(e){this.setState({searchValue:e,showSuggestions:3<=e.length})}},{key:"showSuggestions",value:function(){this.setState({showSuggestions:3<=this.state.searchValue.length})}},{key:"hideSuggestions",value:function(){var e=this;setTimeout(function(){e.setState({showSuggestions:!1})},500)}},{key:"updateSearchResult",value:function(e,t){this.setState(u(u({},this.state),{},{searchResult:t,showSuggestions:3<=e.length}))}},{key:"doSearchx",value:function(){console.log("search function not defined")}},{key:"onSuggestionClick",value:function(e,t,n){this.updateSearchValue(e),n&&n(t)}},{key:"render",value:function(){var e,t,n,o=this,r=null;return o.state.showSuggestions&&(e=null,this.config.searchIn.includes("ideas")&&this.config.searchIn.includes("addresses")&&(e=a.a.createElement("div",{className:"osc-search-suggestions-hr"})),t=null,this.config.searchIn.includes("addresses")&&(t=a.a.createElement("div",null,"Adressen:",o.state.searchResult.locations.map(function(t,e){var n=t.text.replace(new RegExp(o.state.searchValue,"ig"),function(e){return"<strong>"+e+"</strong>"});return a.a.createElement("div",{className:"osc-search-suggestion osc-search-suggestion-idea",onClick:function(e){return o.onSuggestionClick(t.text,e,t.onClick)},key:"search-result-"+e,dangerouslySetInnerHTML:{__html:n}})}))),n=null,this.config.searchIn.includes("ideas")&&(n=a.a.createElement("div",null,this.config.ideaName,":",o.state.searchResult.ideas.map(function(t,e){var n=t.text.replace(new RegExp(o.state.searchValue,"ig"),function(e){return"<strong>"+e+"</strong>"});return a.a.createElement("div",{className:"osc-search-suggestion osc-search-suggestion-idea",onClick:function(e){return o.onSuggestionClick(t.text,e,t.onClick)},key:"search-result-"+e,dangerouslySetInnerHTML:{__html:n}})}))),r=a.a.createElement("div",{className:"osc-search-suggestions",ref:function(e){return o.suggestions=e}},t,e,n)),a.a.createElement("div",{id:o.id,className:o.props.className||"osc-search",ref:function(e){return o.instance=e}},r,a.a.createElement("input",{type:"text",value:this.state.searchValue,placeholder:o.config.placeholder,onChange:function(){return o.handleChange(o.inputfield.value)},onBlur:function(){return o.hideSuggestions()},onFocus:function(){return o.showSuggestions()},className:"osc-default-input osc-search-input",ref:function(e){return o.inputfield=e}}),a.a.createElement("button",{className:"osc-search-button".concat(this.state.searchValue?" osc-active":""),onClick:function(e){return o.handleButtonClick(e)},ref:function(e){return o.resetButton=e}}))}}])&&l(e.prototype,t),n&&l(e,n),r}();function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=b(i);return t=a?(e=b(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==_(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(r,a.a.Component);var e,t,n,o=v(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=o.call(this,e);e.config&&e.config.types,e.config&&e.config.areas;return t.config=i.a.recursive(t.defaultConfig,t.config,e.config||{}),t.config.searchIn="object"==_(e.config.search.searchIn)&&e.config.search.searchIn||["ideas","addresses"],t.state={selectedType:void 0,types:t.config.types,typesFilterLabel:t.config.typesFilterLabel,selectedArea:void 0,areas:t.config.areas,mobileActiveSelector:null},t}return e=r,(t=[{key:"componentDidMount",value:function(){}},{key:"handleTypeChange",value:function(e){this.setState({selectedType:e}),this.hideMobileActiveSelector();var t=new window.CustomEvent("typeFilterUpdate",{detail:{value:e}});document.dispatchEvent(t)}},{key:"setAreaValue",value:function(e){this.setState({selectedArea:e})}},{key:"handleAreaChange",value:function(t){this.setState({selectedArea:t}),this.hideMobileActiveSelector();var e=new window.CustomEvent("areaFilterUpdate",{detail:{value:this.state.areas.find(function(e){return t==e.value})}});document.dispatchEvent(e)}},{key:"resetTypeAndArea",value:function(){this.handleTypeChange(0),this.handleAreaChange(0),this.hideMobileActiveSelector()}},{key:"toggleMobileActiveSelector",value:function(e){this.state.mobileActiveSelector!=e?this.showMobileActiveSelector(e):this.hideMobileActiveSelector()}},{key:"showMobileActiveSelector",value:function(e){this.setState({mobileActiveSelector:e})}},{key:"hideMobileActiveSelector",value:function(){this.setState({mobileActiveSelector:null})}},{key:"render",value:function(){var t=this,e=null,n=null;t.state.areas&&t.state.areas.length&&(n=a.a.createElement("div",{className:"osc-area-selector-button",onClick:function(){return t.toggleMobileActiveSelector("area")}}),e=a.a.createElement("div",{className:"osc-area-selector-container".concat("area"==t.state.mobileActiveSelector?" osc-is-active":"")},a.a.createElement("select",{value:t.state.selectedArea,onChange:function(){return t.handleAreaChange(t.areaSelector.value)},className:"osc-default-select osc-margin-right osc-area-selector",ref:function(e){return t.areaSelector=e}},a.a.createElement("option",{value:"0"},"Alle gebieden"),";",t.state.areas.map(function(e,t){return a.a.createElement("option",{key:"area-option-"+t},e.name)}))));var o=null;return console.log(t.config),t.config.searchIn&&t.config.searchIn.length&&t.config.doSearchFunction&&(o=a.a.createElement("div",{className:"osc-search-container"},a.a.createElement("div",{className:"osc-search-button",onClick:function(){return t.toggleMobileActiveSelector("search")}}),a.a.createElement(m,{config:{searchIn:this.config.search.searchIn,placeholder:this.config.search.placeholder,doSearchFunction:this.config.doSearchFunction,ideaName:this.config.ideaName},className:"osc-search".concat("search"==t.state.mobileActiveSelector?" osc-is-active":"")}))),a.a.createElement("div",{id:t.id,className:t.props.className||"osc-filterbar",ref:function(e){return t.instance=e}},o,a.a.createElement("div",{className:"osc-selectors-container osc-align-right-container"},a.a.createElement("div",{className:"osc-type-selector-button".concat(t.state.selectedType&&"0"!=t.state.selectedType?" osc-active":""),onClick:function(){return t.toggleMobileActiveSelector("type")}}),a.a.createElement("div",{className:"osc-type-selector-container".concat("type"==t.state.mobileActiveSelector?" osc-is-active":"")},a.a.createElement("select",{value:t.state.selectedType,onChange:function(){return t.handleTypeChange(t.typeSelector.value)},className:"osc-default-select osc-margin-right osc-type-selector",ref:function(e){return t.typeSelector=e}},a.a.createElement("option",{value:"0"},t.state.typesFilterLabel),";",t.state.types.map(function(e,t){return a.a.createElement("option",{key:"type-option-"+t,value:e.id||e.name},e.name)}))),n,e,a.a.createElement("button",{value:"reset",onClick:function(){return t.resetTypeAndArea()},className:"osc-button osc-reset-button",ref:function(e){return t.resetButton=e}},"Alles tonen")))}}])&&g(e.prototype,t),n&&g(e,n),r}()},function(e,t){!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){function t(e,t){var n,o;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o=n.preventDefault,n.preventDefault=function(){o.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n}t.prototype=window.Event.prototype,window.CustomEvent=t}}()},function(e,t,n){var o=n(44);e.exports=function(e){return Object(o(e))}},function(e,t,n){var o=n(11),r=n(95),i=n(47)("species");e.exports=function(e,t){var n;return r(e)&&("function"==typeof(n=e.constructor)&&(n===Array||r(n.prototype))||o(n)&&null===(n=n[i]))&&(n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var o=n(43);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){},function(e,t,n){n(98);var o=n(40);e.exports=o("Array","findIndex")},function(e,t,n){"use strict";var o=n(37),r=n(86).findIndex,i=n(38),a=n(39),c="findIndex",s=!0,u=a(c);c in[]&&Array(1)[c](function(){s=!1}),o({target:"Array",proto:!0,forced:s||!u},{findIndex:function(e,t){return r(this,e,1<arguments.length?t:void 0)}}),i(c)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return _e}),n.d(t,"ChoicesGuide",function(){return _e}),n.d(t,"ChoicesGuideResult",function(){return Se});n(10),n(107),n(92);var o=n(0),r=n.n(o),i=n(3),a=n.n(i),c=(n(110),n(1)),s=n.n(c),u=n(2),l=n(4),E=n(6);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=m(i);return t=a?(e=m(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==y(o)&&"function"!=typeof o?h(n):o}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,l["a"]);var e,t,n,o=p(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e)).config.aspectRatio=t.config.aspectRatio||"16x9",t.questionId=e.data.id,t.answerDimensions=e.answerDimensions||1,t.onLiveUpdates=t.config.liveUpdatesFunction,t.state={value:50,isAnswered:!1},t.onChangeHandler=t.onChangeHandler.bind(h(t)),t}return e=r,(t=[{key:"onChangeHandler",value:function(e){var t=this,n={value:e,isAnswered:!0,error:void 0};this.setState(n,function(){t.liveUpdates()})}},{key:"isValid",value:function(){return!(void 0===(this.props.data||{}).value&&!this.state.isAnswered)||(this.setState({error:"Je hebt nog geen keuze gemaakt"}),!1)}},{key:"getAnswer",value:function(){if(this.state.isAnswered){var e;this.props.data;return"number"==typeof this.state.value||"string"==typeof this.state.value?(e={x:this.state.value},1<this.answerDimensions&&(e.y=this.state.value),2<this.answerDimensions&&(e.z=this.state.value)):(e={x:this.state.value.x},1<this.answerDimensions&&(e.y=this.state.value.y),2<this.answerDimensions&&(e.z=this.state.value.z)),e}}},{key:"liveUpdates",value:function(){this.onLiveUpdates&&this.onLiveUpdates()}},{key:"showLightbox",value:function(t){var e=[{src:this.questionImageA.src},{src:this.questionImageB.src}],n=e.findIndex(function(e){return e.src==t.src}),o=new window.CustomEvent("osc-show-light-box",{detail:{images:e,startIndex:n,aspectRatio:this.config.aspectRatio}});document.dispatchEvent(o)}},{key:"render",value:function(){var r=this,i=this,a=i.props.data||{},e=!1;i.state.error&&(e=!0);var t=i.state.isAnswered,n="object"==y(a.value)?a.value.x:void 0!==a.value?a.value:"not defined";"not defined"===n?n=this.state.value:t=!0;var o,c=null,s=a.images;s&&(Array.isArray(s)||(s=[s]),o=s[0],c=React.createElement("div",{className:"osc-question-image-container osc-question-image-aspect-".concat(i.config.aspectRatio)},React.createElement("div",{className:"osc-question-image-aspect-container"},React.createElement("img",{className:"osc-question-image",src:o.src}))));var u=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:a.description}})),l=null;switch(a.type){case"continuous":l=React.createElement("div",{className:"osc-question-selector"},React.createElement(E.a.Slider,{min:"0",max:"100",step:"1",value:n,className:"osc-question-selector-slider",config:{},touched:t,onChange:function(e){return i.onChangeHandler(e)},ref:function(e){return i.selector=e}}),React.createElement("div",{className:"osc-question-selector-minlabel",dangerouslySetInnerHTML:{__html:a.minLabel}}),React.createElement("div",{className:"osc-question-selector-maxlabel",dangerouslySetInnerHTML:{__html:a.maxLabel}}));break;case"a-to-b":var f=a.values&&a.values.A&&a.values.A.label||"A",d=a.values&&a.values.B&&a.values.B.label||"B",p=a.values&&a.values.A&&a.values.A.questionText,h=a.values&&a.values.B&&a.values.B.questionText;p&&h&&(u=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:a.description}}),React.createElement("div",{className:"osc-question-description-text"},React.createElement("div",{className:"osc-question-description-label"},f),React.createElement("div",{className:"osc-question-description-labeled-text"},p)),React.createElement("div",{className:"osc-question-description-text"},React.createElement("div",{className:"osc-question-description-label"},d),React.createElement("div",{className:"osc-question-description-labeled-text"},h))));var m=a.values&&a.values.A&&a.values.A.questionImage,_=a.values&&a.values.B&&a.values.B.questionImage;m&&_&&(u=React.createElement("div",{className:"osc-question-description"},React.createElement("div",{className:"osc-question-description-text",dangerouslySetInnerHTML:{__html:a.description}}),React.createElement("div",{className:"osc-question-description-image-container osc-question-description-image-container-a"},React.createElement("div",{className:"osc-question-description-label osc-question-description-label-a"},f),React.createElement("div",{className:"osc-question-image-container osc-question-image-aspect-".concat(i.config.aspectRatio)},React.createElement("div",{className:"osc-question-image-aspect-container"},React.createElement("img",{className:"osc-question-description-image",src:m.src,style:{cursor:"pointer"},onClick:function(){return i.showLightbox(i.questionImageA)},ref:function(e){return i.questionImageA=e}})))),React.createElement("div",{className:"osc-question-description-image-container osc-question-description-image-container-b"},React.createElement("div",{className:"osc-question-description-label osc-question-description-label-b"},d),React.createElement("div",{className:"osc-question-image-container osc-question-image-aspect-".concat(i.config.aspectRatio)},React.createElement("div",{className:"osc-question-image-aspect-container"},React.createElement("img",{className:"osc-question-description-image",src:_.src,style:{cursor:"pointer"},onClick:function(){return i.showLightbox(i.questionImageB)},ref:function(e){return i.questionImageB=e}})))))),l=React.createElement("div",{className:"osc-question-selector"},React.createElement("div",{className:"osc-question-selector-label-a"},f),React.createElement("div",{className:"osc-question-selector-label-b"},d),React.createElement(E.a.Slider,{min:"0",max:"100",step:"1",value:n,className:"osc-question-selector-slider",config:{},touched:t,onChange:function(e){return i.onChangeHandler(e)},ref:function(e){return i.selector=e}}),React.createElement("div",{className:"osc-question-selector-minlabel",dangerouslySetInnerHTML:{__html:a.minLabel}}),React.createElement("div",{className:"osc-question-selector-maxlabel",dangerouslySetInnerHTML:{__html:a.maxLabel}}));break;case"enum-radio":l=React.createElement("div",{className:"osc-question-selector"},a.values&&a.values.map(function(t,e){var n=parseInt(1e6*Math.random()),o=!1;"object"==y(a.value)?(o=!0,Object.keys(a.value).forEach(function(e){a.value[e]!==t.value[e]&&(o=!1)})):a.value===t.value&&(o=!0);"undefined"!=a.value?a.value:r.state.value;return React.createElement("div",{key:"div-value-".concat(n),className:"osc-radio-container"},React.createElement("div",{className:"osc-radio-input".concat(o?" osc-radio-input-checked":"")},React.createElement("input",{name:"enum-radio-".concat(a.id),type:"radio",onChange:function(){return i.onChangeHandler(t.value)},key:"button-value-".concat(n)})),React.createElement("div",{className:"osc-radio-text"},t.text))}));break;case"enum-buttons":l=React.createElement("div",{className:"osc-question-selector"},a.values&&a.values.map(function(e,t){return React.createElement("button",{onClick:function(){return i.onChangeHandler(e.value)},key:"button-value-".concat(e.value)},e.text)}));break;default:l=React.createElement("div",null,"Type ",a.type," is (nog) niet geimplementeerd.")}var g=null;return e&&(g=React.createElement("div",{className:"osc-error-text"},i.state.error)),React.createElement("div",{id:i.props.config.divId,className:"osc-question osc-question-".concat(a.type).concat(e?" osc-error":"")},c,React.createElement("div",{className:"osc-question-content",id:i.props.config.divId+"-content"},React.createElement("h3",{className:"osc-question-title"}," ",a.title),u,l,g))}}])&&f(e.prototype,t),n&&f(e,n),r}();function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function b(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=I(i);return t=a?(e=I(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==g(o)&&"function"!=typeof o?k(n):o}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(r,l["a"]);var e,t,n,o=P(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e)).noOfQuestionsToShow=t.config.noOfQuestionsToShow||1,t.onLiveUpdates=t.config.liveUpdatesFunction,t.questionElements=[],t.state={currentQuestion:0,values:{}},t.liveUpdates=t.liveUpdates.bind(k(t)),t}return e=r,(t=[{key:"componentDidMount",value:function(){}},{key:"isValid",value:function(){var n=this,o=!0,e=n.props.data.questions.slice(n.state.currentQuestion,n.state.currentQuestion+n.noOfQuestionsToShow),r=!1;return e.forEach(function(e,t){n.questionElements[t].isValid()||(r||setTimeout(function(){document.querySelector("#".concat(n.questionElements[t].config.divId,"-content")).scrollIntoView({behavior:"smooth"})},250),o=!(r=!0))}),o}},{key:"getAnswers",value:function(){var o=this,r=s()({},this.props.data&&this.props.data.values,o.state.values);return o.props.data&&o.props.data.questions.forEach(function(t,e){var n=o.questionElements.find(function(e){return e&&e.questionId==t.id});n&&void 0!==n.getAnswer()&&(r[t.id]=n.getAnswer())}),o.setState({values:r}),r}},{key:"gotoNextQuestion",value:function(){if(this.isValid()){var e=this.state.currentQuestion+this.noOfQuestionsToShow;return e>=this.props.data.questions.length?(e=0,this.setState({currentQuestion:e}),{isReady:!0,currentQuestion:e}):(this.setState({currentQuestion:e}),{isReady:!1,currentQuestion:e})}}},{key:"gotoPreviousQuestion",value:function(){var e=this.state.currentQuestion-this.noOfQuestionsToShow;return e<0?(e=0,this.setState({currentQuestion:e}),{isBeginning:!0,currentQuestion:e}):(this.setState({currentQuestion:e}),{isBeginning:!1,currentQuestion:e})}},{key:"liveUpdates",value:function(){this.onLiveUpdates&&this.onLiveUpdates()}},{key:"render",value:function(){var n=this,o=n.props.data||{questions:[]},e=o.questions.slice(n.state.currentQuestion,n.state.currentQuestion+n.noOfQuestionsToShow),r=s()({},this.props.data&&this.props.data.values,n.state.values),t=React.createElement("div",{className:"osc-questions"},e.map(function(e,t){return React.createElement(_,{config:{liveUpdatesFunction:n.liveUpdates,divId:"osc-question-".concat(e.id),aspectRatio:n.config.aspectRatio},data:b(b({},e),{},{value:r[e.id]}),answerDimensions:o.answerDimensions,key:"question-".concat(e.id),ref:function(e){n.questionElements[t]=e}})}));return React.createElement("div",{id:this.id,className:"osc-question-group"},React.createElement("h3",{className:"osc-question-group-title"},o.title),React.createElement("div",{className:"osc-question-group-description",dangerouslySetInnerHTML:{__html:o.description}}),t)}}])&&O(e.prototype,t),n&&O(e,n),r}();function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=D(i);return t=a?(e=D(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==S(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(r,l["a"]);var e,t,n,o=L(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e)).defaultConfig={plane:{topleft:{title:"metrostad",bgImage:{src:"https://image-server.staging.openstadsdeel.nl/image/719fd5b8dc6953db41b187723d3fc5c9"}},topright:{title:"mozaïekstad",bgImage:{src:"https://image-server.staging.openstadsdeel.nl/image/01484fc7716420635beab879658e00b1"}},bottomleft:{title:"museumstad",bgImage:{src:"https://image-server.staging.openstadsdeel.nl/image/85ef5669d9a5db2f0ec2adb6310620be"}},bottomright:{title:"dorpenstad",bgImage:{src:"https://image-server.staging.openstadsdeel.nl/image/befd03bc1a415bd767f9912e3dcd18a8"}}}},t.config=s.a.recursive(t.defaultConfig,t.config,e.config||{}),t.state={},t}return e=r,(t=[{key:"getPreferedChoice",value:function(e){if(e){var t,n=document.querySelector("#".concat(this.divId))&&document.querySelector("#".concat(this.divId)).offsetWidth/2||90,o=n+(void 0===e.y?0:e.y)*(n/100),r=n+(void 0===e.x?0:e.x)*(n/100);return o<n&&r<n&&(t=this.config.plane.topleft),o<n&&n<r&&(t=this.config.plane.topright),n<o&&r<n&&(t=this.config.plane.bottomleft),n<o&&n<r&&(t=this.config.plane.bottomright),t}}},{key:"getTitle",value:function(e,t){if(e){var n=this.getPreferedChoice(e),o=t?n&&n.title:n?"Je gaat nu richting "+(n&&n.title):"Je staat precies tussen meerdere scenario's in";return o}}},{key:"render",value:function(){var e,t=this.props.score,n=document.querySelector("#".concat(this.divId))&&document.querySelector("#".concat(this.divId)).offsetWidth/2||90,o=n+(void 0===t.y?0:t.y)*(n/100),r=n+(void 0===t.x?0:t.x)*(n/100),i=null,a=this.props.data&&this.props.data.images;return a&&(Array.isArray(a)||(a=[a]),e=a[0],i=React.createElement("img",{className:"osc-choice-plane-background-image",src:e.src,style:{width:2*n,height:2*n}})),React.createElement("div",{id:this.divId,className:"osc-choice-plane-plane",ref:function(e){self.planePlaneElement=e}},i,React.createElement("div",{className:"osc-point",style:{top:o,left:r}}),React.createElement("div",{style:{clear:"both"}}))}}])&&M(e.prototype,t),n&&M(e,n),r}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function A(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?x(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function N(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=F(i);return t=a?(e=F(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==j(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(r,l["a"]);var e,t,n,o=U(r);function r(e){var t;switch(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e)).defaultConfig={type:"default",withPercentage:!1,minLabel:null,maxLabel:null,barColor:{default:"#bed200",min:"#ff9100",max:"#bed200"}},t.config=s.a.recursive("clone",t.defaultConfig,t.config,e.config||{}),null==t.config.barColor.min&&(t.config.barColor.min="#ff9100"),null==t.config.barColor.max&&(t.config.barColor.max="#bed200"),t.answerDimensions=e.answerDimensions||1,e.answerDimensions){case 2:t.dimensions=["x","y"];break;case 3:t.dimensions=["x","y","z"];break;default:t.dimensions=["x"]}return t.answers=e.data&&e.data.answers||{},Object.keys(t.answers).forEach(function(e){t.answers[e]==parseInt(t.answers[e])&&(t.answers[e]={x:parseInt(t.answers[e])})}),t.state={score:t.props.score||0},t}return e=r,(t=[{key:"getScore",value:function(){return this.planeElement?0:this.state.score}},{key:"getTitle",value:function(e,t){return this.planeElement?this.planeElement.getTitle(e,t):this.props.data&&this.props.data.title}},{key:"calculateScore",value:function(e){var n=this,a=this.answers,t=e||{},c=(Object.keys(a).length,{});Object.keys(a).forEach(function(e){var o=a[e]||{},r=t[e]||(n.config.startWithAllQuestionsAnswered?{x:50,y:50,z:50}:{}),i=c[e]={};n.dimensions.forEach(function(e){if(void 0!==o[e]&&void 0!==r[e]){var t=void 0!==o[e]?o[e]:[0,100];if(Array.isArray(t)){var n=t[1]-t[0];return i[e]=t[0]+r[e]/100*n}return t==parseInt(t)?i[e]=100-Math.abs(parseInt(t)-r[e]):i[e]=r[e]}})});var o={};return Object.keys(a).forEach(function(t){n.dimensions.forEach(function(e){o[e]=o[e]||{score:[],noOfAnswers:0},void 0!==c[t][e]&&o[e].score.push(c[t][e]),a[t]&&void 0!==a[t][e]&&o[e].noOfAnswers++})}),Object.keys(o).forEach(function(e){o[e]=o[e].score.length?o[e].score.reduce(function(e,t){return e+t})/o[e].noOfAnswers:void 0}),this.setState({score:o}),o}},{key:"render",value:function(){var t=this,e=t.state.score,n=null;switch(this.config.type){case"plane":n=React.createElement(T,{config:A({},t.config),data:A({},t.props.data),score:e,ref:function(e){t.planeElement=e}});break;case"minus-to-plus-100":var o=null,r=parseInt(2*(e.x-50));t.config.withPercentage&&(o=React.createElement("div",{className:"osc-percentage"},r,"%"));var i=t.config.barColor.max.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i),a=t.config.barColor.min.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i),c=parseInt(a[1],16)+(parseInt(i[1],16)-parseInt(a[1],16))*(e.x/100),s=parseInt(a[2],16)+(parseInt(i[2],16)-parseInt(a[2],16))*(e.x/100),u=parseInt(a[3],16)+(parseInt(i[3],16)-parseInt(a[3],16))*(e.x/100),l={backgroundColor:"rgb(".concat(c,",").concat(s,",").concat(u,")")};0<=r&&(l.width=r/2+"%",l.left="50%",l.right="auto"),r<0&&(l.width=-r/2+"%",l.left="auto",l.right="50%"),n=React.createElement("div",{className:"osc-choice-default"},React.createElement("h4",null,t.props.data.title),React.createElement("div",{className:"osc-choice-bar osc-from-center".concat(t.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-progress",style:l})),o);break;case"zero-to-100":default:var f,d=null;t.config.withPercentage&&(f=parseInt(e.x),d=React.createElement("div",{className:"osc-percentage"},f,"%")),l={width:(e.x||0)+"%",backgroundColor:t.config.barColor.default},n=React.createElement("div",{className:"osc-choice-default"},React.createElement("h4",null,t.props.data.title),React.createElement("div",{className:"osc-choice-bar".concat(t.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-mask"}),React.createElement("div",{className:"osc-choice-bar-progress",style:l})),d)}var p=null;return(t.config.minLabel||t.config.maxLabel)&&(p=React.createElement("div",{className:"osc-minmax-labels"},React.createElement("div",{className:"osc-min-label"},t.config.minLabel),React.createElement("div",{className:"osc-max-label"},t.config.maxLabel))),React.createElement("li",{className:"osc-choice"},n,p)}}])&&N(e.prototype,t),n&&N(e,n),r}();function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function H(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?K(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function V(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=J(i);return t=a?(e=J(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==q(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(r,l["a"]);var e,t,n,o=z(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=o.call(this,e)).defaultConfig={type:"default",sticky:null,withPercentage:!1,minLabel:null,maxLabel:null},t.config=s.a.recursive(t.defaultConfig,t.config,e.config||{}),t.choiceElements=[],t.state={title:"Je hebt nog geen keuze gemaakt",scores:e.scores},t}return e=r,(t=[{key:"componentDidMount",value:function(){}},{key:"calculateScores",value:function(t){var n={};return this.choiceElements.forEach(function(e){n[e.config.divId]=e.calculateScore(t)}),this.setState({scores:n}),n}},{key:"getPreferedChoice",value:function(){var n=this.state.scores;switch(this.config.type){case"plane":return this.choiceElements[0];default:var t=Object.keys(n).sort(function(e,t){return n[t].x-n[e].x})[0];return this.choiceElements.find(function(e){return e&&e.config.divId==t})}}},{key:"render",value:function(){var o=this;return React.createElement("ul",{className:"osc-choices"},Object.keys(o.props.choices).map(function(e,t){var n=o.props.choices[e];return React.createElement(W,{config:H({divId:"choice-".concat(n.id)},o.config),data:n,score:o.props.scores&&o.props.scores["choice-".concat(n.id)],answerDimensions:o.props.answerDimensions,key:"choice-".concat(n.id),ref:function(e){o.choiceElements[t]=e}})}))}}])&&V(e.prototype,t),n&&V(e,n),r}();function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=te(i);return t=a?(e=te(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==$(o)&&"function"!=typeof o?ee(n):o}}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(r,l["a"]);var e,t,n,o=X(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=ee(t=o.call(this,e));return n.id=e.id||"osc-choices-guide-".concat(parseInt(1e6*Math.random())),n.defaultConfig={siteId:null,loginUrl:null,noOfQuestionsToShow:1,api:{url:null}},n.config=s.a.recursive(n.defaultConfig,n.config,e.config||{}),n.state={choicesGuideId:n.props.data.choicesGuideId,currentTarget:{},busy:!1},n.onFinished=n.props.onFinished,t}return e=r,(t=[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var n=this,e="".concat(n.config.api&&n.config.api.url,"/api/site/").concat(n.config.siteId,"/choicesguide/").concat(n.config.choicesGuideId,"?includeChoices=1&includeQuestions=1"),t=u.a.api.getHeaders();fetch(e,{headers:t}).then(function(e){return e.json()}).then(function(e){var t={};t.choicesGuideId=e.id,t.title=e.title,t.description=e.description,t.images=e.images,t.choices=e.choices||[],t.questionGroups=e.questiongroups||[],t.busy=!1,n.setState(t,function(){n.setCurrentForm({what:"choices-guide"})})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"handleFieldChange",value:function(t){var n=this.state.currentTarget;Object.keys(t).forEach(function(e){n[e]=t[e]}),this.setState({currentTarget:n})}},{key:"setCurrentForm",value:function(t){var e,n,o;switch(t.what){case"choices-guide":t.title=this.state.title,t.description=this.state.description,t.images=this.state.images?JSON.stringify(this.state.images):"";break;case"choice":n=t.questionGroupId?(e=this.state.questionGroups.find(function(e){return e.id==t.questionGroupId})||{}).choices&&e.choices.find(function(e){return e.id==t.choiceId})||{}:this.state.choices.find(function(e){return e.id==t.choicesId})||{},t.title=n.title,t.description=n.description,t.images=n.images?JSON.stringify(n.images):"",t.answers=n.answers?JSON.stringify(n.answers):"",t.seqnr=n.seqnr||0;break;case"question-group":e=this.state.questionGroups.find(function(e){return e.id==t.questionGroupId})||{},t.answerDimensions=e.answerDimensions,t.title=e.title,t.description=e.description,t.images=e.images?JSON.stringify(e.images):"",t.seqnr=e.seqnr||0;break;case"question":o=(e=this.state.questionGroups.find(function(e){return e.id==t.questionGroupId})||{}).questions&&e.questions.find(function(e){return e.id==t.questionId})||{},t.title=o.title,t.description=o.description,t.images=o.images?JSON.stringify(o.images):"",t.minLabel=o.minLabel,t.maxLabel=o.maxLabel,t.type=o.type,t.values=o.values?JSON.stringify(o.values):"",t.seqnr=o.seqnr||0}this.setState({currentTarget:t})}},{key:"submitForm",value:function(){var r=this;r.setState({busy:!0},function(){var e,t,n;if(0,!r.config.user||!r.config.user.role||"admin"!=r.config.user.role)return alert("Je mag dit niet");switch(r.state.currentTarget.what){case"choices-guide":n=r.state.choicesGuideId,e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/choicesguide"),t={title:r.state.currentTarget.title,description:r.state.currentTarget.description,images:r.state.currentTarget.images};break;case"choice":n=r.state.currentTarget.choiceId,e=r.state.currentTarget.questionGroupId?"".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/choicesguide/").concat(r.state.choicesGuideId,"/questiongroup/").concat(r.state.currentTarget.questionGroupId,"/choice"):"".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/choicesguide/").concat(r.state.choicesGuideId,"/choice"),t={title:r.state.currentTarget.title,description:r.state.currentTarget.description,images:r.state.currentTarget.images,answers:r.state.currentTarget.answers?JSON.parse(r.state.currentTarget.answers):"",seqnr:r.state.currentTarget.seqnr};break;case"question-group":n=r.state.currentTarget.questionGroupId,e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/choicesguide/").concat(r.state.choicesGuideId,"/questiongroup"),t={answerDimensions:r.state.currentTarget.answerDimensions,title:r.state.currentTarget.title,description:r.state.currentTarget.description,images:r.state.currentTarget.images,seqnr:r.state.currentTarget.seqnr};break;case"question":n=r.state.currentTarget.questionId,e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/choicesguide/").concat(r.state.choicesGuideId,"/questiongroup/").concat(r.state.currentTarget.questionGroupId,"/question"),t={title:r.state.currentTarget.title,description:r.state.currentTarget.description,images:r.state.currentTarget.images,minLabel:r.state.currentTarget.minLabel,maxLabel:r.state.currentTarget.maxLabel,type:r.state.currentTarget.type,values:r.state.currentTarget.values?JSON.parse(r.state.currentTarget.values):"",seqnr:r.state.currentTarget.seqnr}}e+=n?"/".concat(n):"";var o=u.a.api.getHeaders(r.config);fetch(e,{method:n?"PUT":"POST",headers:o,body:JSON.stringify(t)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){r.fetchData()}).catch(function(e){e.then(function(e){return console.log(e)}),r.setState({busy:!1})})})}},{key:"deleteElement",value:function(e){var t,n=e.what,o=e.questionGroupId,r=e.choiceId,i=e.questionId,a=e.title,c=this;if(confirm("Je gaat "+n+" "+a+" verwijderen. Weet je het zeker?")){switch(n){case"question-group":t="".concat(c.config.api&&c.config.api.url,"/api/site/").concat(c.config.siteId,"/choicesguide/").concat(c.state.choicesGuideId,"/questiongroup/").concat(o);break;case"choice":t="".concat(c.config.api&&c.config.api.url,"/api/site/").concat(c.config.siteId,"/choicesguide/").concat(c.state.choicesGuideId,"/questiongroup/").concat(o,"/choice/").concat(r);break;case"question":t="".concat(c.config.api&&c.config.api.url,"/api/site/").concat(c.config.siteId,"/choicesguide/").concat(c.state.choicesGuideId,"/questiongroup/").concat(o,"/question/").concat(i)}var s=u.a.api.getHeaders(c.config);fetch(t,{method:"DELETE",headers:s}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){c.fetchData()}).catch(function(e){e.then(function(e){return console.log(e)}),c.setState({busy:!1})})}}},{key:"render",value:function(){var e,t,n,a=this,o=null,r=null,i=null,c=React.createElement("button",{onClick:function(){a.setCurrentForm({what:"choices-guide"})}},"Terug"),s=React.createElement("button",{onClick:function(){return a.submitForm()}},"Submit");switch(a.state.currentTarget.what){case"choices-guide":o="Bewerk keuzewijzer",r=React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(E.a.InputWithCounter,{key:"x1",config:{inputType:"input",minLength:1,maxLength:1e3},value:a.state.currentTarget.title,onChange:function(e){return a.handleFieldChange({title:e.value})},ref:function(e){a.titleField=e}}),React.createElement("h3",null,"Beschrijving"),React.createElement(E.a.InputWithCounter,{key:"x2",config:{inputType:"textarea",minLength:1,maxLength:1e3},value:a.state.currentTarget.description,onChange:function(e){return a.handleFieldChange({description:e.value})},ref:function(e){return a.descriptionField=e}}),React.createElement("h3",null,"Afbeeldingen"),React.createElement(E.a.Textarea,{key:"i1",config:{},value:a.state.currentTarget.images,onChange:function(e){return a.handleFieldChange({images:e.value})},ref:function(e){return a.imagesField=e}})),i=React.createElement("div",{className:"openstad-form"},React.createElement("h4",null,"Vraaggroepen"),Object.keys(a.state.questionGroups).map(function(e,t){var n,o=a.state.questionGroups[e],r=React.createElement("ul",null,Object.keys(o.questions).map(function(e,t){var n=o.questions[e];return React.createElement("li",null,"(",n.id,") - ",n.title," - ",n.seqnr,"-",React.createElement("a",{href:"#",onClick:function(){return a.setCurrentForm({what:"question",questionGroupId:o.id,questionId:n.id})}},"Bewerk"),"-",React.createElement("a",{href:"#",onClick:function(){return a.deleteElement({what:"question",questionGroupId:o.id,questionId:n.id,title:n.title})}},"Verwijder"))}),React.createElement("li",null,React.createElement("a",{href:"#",onClick:function(){return a.setCurrentForm({what:"question",questionGroupId:o.id})}},"Nieuwe vraag"))),i=React.createElement("ul",null,Object.keys(o.choices).map(function(e,t){var n=o.choices[e];return React.createElement("li",null,n.title," - ",n.seqnr,"- ",React.createElement("a",{href:"#",onClick:function(){return a.setCurrentForm({what:"choice",questionGroupId:o.id,choiceId:n.id})}},"Bewerk"),"- ",React.createElement("a",{href:"#",onClick:function(){return a.deleteElement({what:"choice",questionGroupId:o.id,choiceId:n.id,title:n.title})}},"Verwijder"))}),React.createElement("li",null,React.createElement("a",{href:"#",onClick:function(){return a.setCurrentForm({what:"choice",questionGroupId:o.id})}},"Nieuwe keuze")));return 0==Object.keys(o.choices).length&&0==Object.keys(o.questions).length&&(n=React.createElement("a",{href:"#",onClick:function(){return a.deleteElement({what:"question-group",questionGroupId:o.id,title:o.title})}},"Verwijder")),React.createElement("div",null,o.title," - ",o.seqnr,"- ",React.createElement("a",{href:"#",onClick:function(){return a.setCurrentForm({what:"question-group",questionGroupId:o.id})}},"Bewerk"),"- ",n,r,i)}),React.createElement("a",{href:"#",onClick:function(){return a.setCurrentForm({what:"question-group"})}},"Nieuwe groep")),c=React.createElement("button",{onClick:function(){a.onFinished&&a.onFinished()}},"Terug");break;case"choice":o="Bewerk Keuze",r=React.createElement("div",null,React.createElement("h3",null,"Titel"),React.createElement(E.a.InputWithCounter,{config:{inputType:"input",minLength:1,maxLength:1e3},value:a.state.currentTarget.title,onChange:function(e){return a.handleFieldChange({title:e.value})},ref:function(e){return a.titleField=e}}),React.createElement("h3",null,"Beschrijving"),React.createElement(E.a.InputWithCounter,{config:{inputType:"textarea",minLength:1,maxLength:1e3},value:a.state.currentTarget.description,onChange:function(e){return a.handleFieldChange({description:e.value})},ref:function(e){return a.descriptionField=e}}),React.createElement("h3",null,"Afbeeldingen"),React.createElement(E.a.Textarea,{key:"i2",config:{},value:a.state.currentTarget.images,onChange:function(e){return a.handleFieldChange({images:e.value})},ref:function(e){return a.imagesField=e}}),React.createElement("h3",null,"Antwoorden"),React.createElement(E.a.Text,{config:{},value:a.state.currentTarget.answers,onChange:function(e){return a.handleFieldChange({answers:e.value})},ref:function(e){return a.answersField=e}}),React.createElement("h3",null,"Volgorde nummer"),React.createElement(E.a.Text,{config:{},value:a.state.currentTarget.seqnr,onChange:function(e){return a.handleFieldChange({seqnr:e.value})},ref:function(e){return a.seqnrField=e}}));break;case"question-group":o="Bewerk Vragengroep",r=React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(E.a.InputWithCounter,{config:{inputType:"input",minLength:1,maxLength:1e3},value:a.state.currentTarget.title,onChange:function(e){return a.handleFieldChange({title:e.value})},ref:function(e){return a.titleField=e}}),React.createElement("h3",null,"Beschrijving"),React.createElement(E.a.InputWithCounter,{config:{inputType:"textarea",minLength:1,maxLength:1e3},value:a.state.currentTarget.description,onChange:function(e){return a.handleFieldChange({description:e.value})},ref:function(e){return a.descriptionField=e}}),React.createElement("h3",null,"Afbeeldingen"),React.createElement(E.a.Textarea,{key:"i3",config:{},value:a.state.currentTarget.images,onChange:function(e){return a.handleFieldChange({images:e.value})},ref:function(e){return a.imagesField=e}}),React.createElement("h3",null,"Aantal dimensies in antwoorden"),React.createElement("select",{key:"dezemoetnogweg2".concat(a.state.currentTarget.questionGroupId),value:a.state.currentTarget.answerDimensions,onChange:function(){return a.handleFieldChange({answerDimensions:a.answerDimensionsField.value})},ref:function(e){return a.answerDimensionsField=e}},React.createElement("option",{value:"1"},"1"),React.createElement("option",{value:"2"},"2"),React.createElement("option",{value:"3"},"3")),React.createElement("h3",null,"Volgorde nummer"),React.createElement(E.a.Text,{config:{},value:a.state.currentTarget.seqnr,onChange:function(e){return a.handleFieldChange({seqnr:e.value})},ref:function(e){return a.seqnrField=e}}));break;case"question":o="Bewerk Vraag ".concat(a.state.currentTarget.questionId),r=React.createElement("div",{className:"openstad-form"},React.createElement("h3",null,"Titel"),React.createElement(E.a.InputWithCounter,{config:{inputType:"input",minLength:1,maxLength:1e3},value:a.state.currentTarget.title,onChange:function(e){return a.handleFieldChange({title:e.value})},ref:function(e){return a.titleField=e}}),React.createElement("h3",null,"Beschrijving"),React.createElement(E.a.InputWithCounter,{config:{inputType:"textarea",minLength:1,maxLength:1e3},value:a.state.currentTarget.description,onChange:function(e){return a.handleFieldChange({description:e.value})},ref:function(e){return a.descriptionField=e}}),React.createElement("h3",null,"Afbeeldingen"),React.createElement(E.a.Textarea,{key:"i4",config:{},value:a.state.currentTarget.images,onChange:function(e){return a.handleFieldChange({images:e.value})},ref:function(e){return a.imagesField=e}}),React.createElement("h3",null,"Label minimale waarde"),React.createElement(E.a.InputWithCounter,{config:{inputType:"input",minLength:1,maxLength:1e3},value:a.state.currentTarget.minLabel,onChange:function(e){return a.handleFieldChange({minLabel:e.value})},ref:function(e){return a.minLabelField=e}}),React.createElement("h3",null,"Label maximale waarde"),React.createElement(E.a.InputWithCounter,{config:(n=1e3,(t="maxLength")in(e={inputType:"input",maxLength:1})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),value:a.state.currentTarget.maxLabel,onChange:function(e){return a.handleFieldChange({maxLabel:e.value})},ref:function(e){return a.maxLabelField=e}}),React.createElement("h3",null,"Type"),React.createElement("select",{key:"dezemoetnogweg".concat(a.state.currentTarget.questionGroupId),value:a.state.currentTarget.type,onChange:function(){return a.handleFieldChange({type:a.typeField.value})},ref:function(e){return a.typeField=e}},React.createElement("option",{value:"continuous"},"continue"),React.createElement("option",{value:"a-to-b"},"van a naar b"),React.createElement("option",{value:"enum-buttons"},"multiple choice - buttons"),React.createElement("option",{value:"enum-radio"},"multiple choice - radio")),React.createElement("h3",null,"Waarden"),React.createElement(E.a.Textarea,{config:{},value:a.state.currentTarget.values,onChange:function(e){return a.handleFieldChange({values:e.value})},ref:function(e){return a.valuesField=e}}),React.createElement("h3",null,"Volgorde nummer"),React.createElement(E.a.Text,{config:{},value:a.state.currentTarget.seqnr,onChange:function(e){return a.handleFieldChange({seqnr:e.value})},ref:function(e){return a.seqnrField=e}}));break;default:c=React.createElement("button",{onClick:function(){a.onFinished&&a.onFinished()}},"Terug"),s=null}return React.createElement("div",{id:this.divId,className:"osc-form".concat(this.state.busy?" osc-busy":"")},React.createElement("h2",null,o),r,React.createElement("br",null),React.createElement("br",null),c,s,i)}}])&&Z(e.prototype,t),n&&Z(e,n),r}(),oe=n(75),re=n(81);function ie(e){var t=e.config,n="".concat(t.api&&t.api.url,"/api/site/").concat(t.siteId,"/choicesguide/").concat(t.choicesGuideId,"?includeChoices=1&includeQuestions=1"),o=u.a.api.getHeaders();return fetch(n,{headers:o}).then(function(e){return e.json()}).then(function(e){return console.log(e),{choicesGuideId:e.id,images:e.images,choicesGuideConfig:e.config,title:e.title,description:e.description,choices:e.choices||[],questionGroups:e.questiongroups||[],status:"active"}})}function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ue(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function le(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(i),!0).forEach(function(e){var t,n,o;t=r,o=i[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ue(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function fe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=me(i);return t=a?(e=me(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==ae(o)&&"function"!=typeof o?he(n):o}}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(a,l["a"]);var e,t,n,i=pe(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=he(t=i.call(this,e));n.id=e.id||"osc-choices-guide-".concat(parseInt(1e6*Math.random())),n.defaultConfig={siteId:null,loginUrl:null,noOfQuestionsToShow:1,api:{url:null},sticky:null,choices:{title:{noPreferenceYet:"Je hebt nog geen keuze gemaakt",preference:"<b>Jouw voorkeur:</b>{preferredChoice}",inBetween:"Je staat precies tussen meerdere voorkeuren in"},withPercentage:!1,minLabel:null,maxLabel:null}},n.config=s.a.recursive(n.defaultConfig,n.config,e.config||{}),!n.config.aspectRatio&&n.config.choices&&n.config.choices.type&&"plane"==n.config.choices.type&&(n.config.aspectRatio="10x7");var o=u.a.sessionStorage.get("osc-choices-guide.values")||{},r=u.a.sessionStorage.get("osc-choices-guide.scores")||{};return n.state={editMode:!1,title:"Loading....",questionGroups:[],choices:[],currentQuestionGroupIndex:void 0,currentQuestion:void 0,status:"init",values:o[t.config.choicesGuideId],scores:r[t.config.choicesGuideId]},n.liveUpdates=n.liveUpdates.bind(he(t)),n.hideEditForm=n.hideEditForm.bind(he(t)),t}return e=a,(t=[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var t=this;ie({config:t.config}).then(function(e){t.setState(e,function(){t.startGuide()})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"startGuide",value:function(){var t=this,e={currentQuestionGroupIndex:0};t.setState(e,function(){t.liveUpdates();var e=new window.CustomEvent("osc-choices-guide-is-ready");document.dispatchEvent(e)})}},{key:"showEditForm",value:function(){this.setState({editMode:!0})}},{key:"hideEditForm",value:function(){var e=u.a.sessionStorage.get("osc-choices-guide.values")||{},t=u.a.sessionStorage.get("osc-choices-guide.scores")||{};this.setState({editMode:!1,title:"Loading....",questionGroups:[],choices:[],currentQuestionGroupIndex:void 0,status:"init",values:e[this.config.choicesGuideId],scores:t[this.config.choicesGuideId]},function(){this.fetchData()})}},{key:"gotoNextQuestion",value:function(){var e=this,t={};t.values=s()(e.state.values||{},e.questionGroupElement.getAnswers()),e.setState(t),e.choicesElement.calculateScores(t.values);var n=e.questionGroupElement.gotoNextQuestion(),o=n.isReady,r=n.currentQuestion;e.setState({currentQuestion:r},function(){o?e.gotoNextGroup():window.scrollTo(0,0)})}},{key:"gotoPreviousQuestion",value:function(){var e=this;if("result"==this.state.status)return this.gotoPreviousGroup();var t={};t.values=s()(this.state.values||{},this.questionGroupElement.getAnswers()),this.setState(t),this.choicesElement.calculateScores(t.values);var n=this.questionGroupElement.gotoPreviousQuestion(),o=n.isBeginning,r=n.currentQuestion;this.setState({currentQuestion:r},function(){o?e.gotoPreviousGroup():window.scrollTo(0,0)})}},{key:"gotoNextGroup",value:function(){var e=this,t=le({},this.state);t.currentQuestionGroupIndex<t.questionGroups.length-1?(t.values=s()(t.values||{},this.questionGroupElement.getAnswers()),t.currentQuestionGroupIndex++,this.setState(t,function(){e.liveUpdates(),window.scrollTo(0,0)})):this.gotoResult()}},{key:"gotoPreviousGroup",value:function(){var e=this,t={};t.currentQuestionGroupIndex=this.state.currentQuestionGroupIndex-1,"result"==this.state.status&&(t.currentQuestionGroupIndex=this.state.questionGroups.length-1,t.status="active"),this.setState(t,function(){e.liveUpdates(),window.scrollTo(0,0)})}},{key:"gotoResult",value:function(){document.location.href=this.config.afterUrl}},{key:"liveUpdates",value:function(){var n=this,o=s()(this.state.values||{},this.questionGroupElement.getAnswers()),r=this.choicesElement.calculateScores(o);this.setState({scores:r,firstAnswerGiven:0<Object.keys(o).length},function(){var e=u.a.sessionStorage.get("osc-choices-guide.values")||{};e[n.config.choicesGuideId]=o,u.a.sessionStorage.set("osc-choices-guide.values",e);var t=u.a.sessionStorage.get("osc-choices-guide.scores")||{};t[n.config.choicesGuideId]=r,u.a.sessionStorage.set("osc-choices-guide.scores",t)})}},{key:"render",value:function(){var e,t=this,n=this,o=n.state.choices,r=1;0<=n.state.currentQuestionGroupIndex&&(e=n.state.questionGroups[n.state.currentQuestionGroupIndex])&&(e.values=n.state.values||{},e&&e.choices&&(o=e.choices,r=e.answerDimensions));var i,a=null,c=n.state.images;c&&(Array.isArray(c)||(c=[c]),i=c[0],a=React.createElement("img",{className:"osc-image",src:i.src}));var s,u,l,f,d,p,h,m,_,g,y,v,b=null;return n.state.editMode?b=React.createElement("div",{className:"osc-choices-guide-content"},React.createElement(ne,{config:n.config,onFinished:n.hideEditForm,data:le({},n.state)})):"result"==n.state.status?alert("Hier had je niet moeten komen"):b="init"==n.state.status?React.createElement("div",{className:"osc-choices-guide-content"},React.createElement("div",{className:"osc-intro"},"Laden...")):(s=null,l="<b>Je hebt nog geen keuze gemaakt</b>",l=n.state.firstAnswerGiven&&n.choicesElement?(u=n.choicesElement.getPreferedChoice(),n.config.choices.title.preference.replace("{preferredChoice}",u&&u.getTitle(n.state.scores[u.config.divId])||l)):n.config.choices.title.noPreferenceYet,s=React.createElement("div",{id:"osc-choices-container-"+this.divId,className:"osc-choices-container osc-accordeon osc-closed".concat("hidden"==n.config.choices.type?" osc-hidden":""),ref:function(e){n.choicesAccordeon=e}},React.createElement("div",{onClick:function(){t.choicesAccordeon.className.match(" osc-closed")?t.choicesAccordeon.className=t.choicesAccordeon.className.replace(" osc-closed"," osc-open"):t.choicesAccordeon.className=t.choicesAccordeon.className.replace(" osc-open"," osc-closed")},className:"osc-accordeon-button",dangerouslySetInnerHTML:{__html:l}}),React.createElement("div",{className:"osc-accordeon-content"},React.createElement(Q,{config:n.config.choices,choices:ce(o),scores:le({},n.state.scores),answerDimensions:r,firstAnswerGiven:!!n.state.firstAnswerGiven,ref:function(e){n.choicesElement=e},key:"choices"}))),f=React.createElement(C,{config:{noOfQuestionsToShow:this.config.noOfQuestionsToShow,liveUpdatesFunction:n.liveUpdates,aspectRatio:n.config.aspectRatio},data:e,ref:function(e){n.questionGroupElement=e},key:"group".concat(n.state.currentQuestionsGroupIndex)}),d=null,n.config.user&&n.config.user.role&&"admin"==n.config.user.role&&(d=React.createElement("button",{className:"osc-editbutton osc-edit",onClick:function(){return n.showEditForm()}},"Bewerk keuzewijzer")),m=h=p=null,"result"==n.state.status||0<n.state.currentQuestionGroupIndex||0<n.state.currentQuestion?(h=function(){n.gotoPreviousQuestion()},m="Terug"):n.config.beforeUrl&&(p=n.config.beforeUrl,m="Introductie"),y=g=_=null,"init"!=n.state.status&&"result"!=n.state.status?(g=function(){n.gotoNextQuestion()},y="Volgende"):n.config.afterUrl&&(_=n.config.afterUrl,y="Resultaat"),v=null,(m||y)&&(v=React.createElement(oe.default,{previousAction:h,previousUrl:p,previousLabel:m,nextAction:g,nextUrl:_,nextLabel:y})),React.createElement("div",{className:"osc-choices-guide-content"},d,s,f,v)),React.createElement("div",{id:this.divId,className:"osc-choices-guide"},React.createElement(re.default,null),a,b)}}])&&fe(e.prototype,t),n&&fe(e,n),a}(),ge=n(103);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Ee(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function Oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(n),!0).forEach(function(e){we(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,r=Ce(i);return t=a?(e=Ce(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),n=this,!(o=t)||"object"!==ye(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):o}}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Se=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(i,l["a"]);var e,t,n,r=Ie(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e)).defaultConfig={type:"default",submission:{type:"none",requireLoginSettings:{title:"Stemcode",description:"Om te kunnen stemmen vul je de stemcode in die je per post hebt ontvangen. Wij controleren je stemcode op geldigheid. Als dat gelukt is kun je stemmen.",buttonTextLogin:"Vul je stemcode in",buttonTextLoggedIn:"Geldige stemcode",buttonTextAlreadySubmitted:"Ongeldige stemcode",changeLoginLinkText:"Vul een andere stemcode in",loggedInMessage:"Het controleren van je stemcode is gelukt! Klik op onderstaande knop om je keuze in te sturen.",alreadySubmittedMessage:"Deze stemcode is al gebruikt om te stemmen. Een stemcode kan maar één keer gebruikt worden."}},choices:{title:{noPreferenceYet:"Je hebt nog geen keuze gemaakt",preference:"Jouw voorkeur is {preferredChoice}",inBetween:"Je staat precies tussen meerdere voorkeuren in"},withPercentage:!0,minLabel:null,maxLabel:null}},t.config=s.a.recursive(t.defaultConfig,t.config,e.config||{}),t.config.loginUrl=t.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href);var n=u.a.sessionStorage.get("osc-choices-guide.values")||{},o=u.a.sessionStorage.get("osc-choices-guide.scores")||{};return t.state={title:"",answers:n[t.config.choicesGuideId],scores:o[t.config.choicesGuideId]},t}return e=i,(t=[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var t=this;ie({config:t.config}).then(function(e){t.setState(e,function(){t.startGuide()})}).catch(function(e){console.log("Niet goed"),console.log(e)})}},{key:"startGuide",value:function(){var e,t,n,o=this,r=(o.choicesElement&&o.choicesElement.calculateScores(o.state.answers),""),i=-1;o.choicesElement&&((t=o.choicesElement.getPreferedChoice())&&((e=t.getTitle(o.state.scores[t.config.divId],!0))?(r=o.config.choices.title.preference.replace("{preferredChoice}",e),i=t.divId):r=o.config.choices.title.noPreferenceYet),o.setState({title:r}),n=new window.CustomEvent("osc-choices-guide-result-is-ready",{detail:{preferredChoice:{name:e,title:r,preferredChoiceId:i},answers:o.state.answers,scores:o.state.scores}}),document.dispatchEvent(n),"auto"==o.config.submission.type&&o.submitResult())}},{key:"submitResult",value:function(){var i=this;if("form"==i.config.submission.type){var a=i.form.getValues();if(!i.form.validate({showErrors:!0}))return}ge.a.load().then(function(e){e.get().then(function(e){var t=e.visitorId,n="".concat(i.config.api&&i.config.api.url,"/api/site/").concat(i.config.siteId,"/choicesguide/").concat(i.config.choicesGuideId,"/result"),o=u.a.api.getHeaders(i.config),r={result:{answers:i.state.answers,scores:i.state.scores},extraData:a,userFingerprint:t};fetch(n,{method:"POST",headers:o,body:JSON.stringify(r)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){"form"==i.config.submission.type&&(document.location.href=i.config.afterUrl)}).catch(function(e){e.then(function(e){try{e=JSON.parse(e)}catch(e){}var t=Array.isArray(e)&&e[0]&&e[0].message||e[0]||e.message||e;i.setState({submissionError:{message:t.toString(),type:"Je hebt je mening al ingestuurd"==t?"alreadySubmitted":"unknown"}},function(){return console.log(e)})})})})})}},{key:"isUserLoggedIn",value:function(){return this.config.user&&this.config.user.role&&"anonymous"!=this.config.user.role}},{key:"render",value:function(){var e,t,n,o=this,r=(o.props&&o.props.data,o.state.choices),i=1;o.state.questionGroups&&(n=o.state.questionGroups.find(function(e){return e.id==o.config.questionGroupId}))&&(n.values=o.state.values||{},n&&n.choices&&(r=n.choices,i=n.answerDimensions));var a=!(!o.state.choicesGuideConfig||!o.state.choicesGuideConfig.requiredUserRole),c=null;if(r)switch(o.config.choices.type){case"plane":var s=r&&r[0]&&r[0].images;s&&1<s.length&&(r[0].images=r&&r[0]&&r[0].images[1]),c=React.createElement(Q,(we(e={config:Oe(Oe({},o.config.choices),{},{sticky:!1,size:630}),scores:o.state.scores,answerDimensions:i},"scores",Oe({},o.state.scores)),we(e,"choices",ve(r)),we(e,"firstAnswerGiven",!0),we(e,"ref",function(e){o.choicesElement=e}),we(e,"key","choices"),e));break;default:c=React.createElement(Q,(we(t={config:Oe(Oe({},o.config.choices),{},{sticky:!1,size:630}),scores:o.state.scores,answerDimensions:i},"scores",Oe({},o.state.scores)),we(t,"choices",ve(r)),we(t,"firstAnswerGiven",!0),we(t,"ref",function(e){o.choicesElement=e}),we(t,"key","choices"),t))}var u=null;o.config.moreInfoUrl&&o.config.moreInfoLabel&&(u=React.createElement("div",{className:"osc-more-info-link"},React.createElement("a",{href:o.config.moreInfoUrl},o.config.moreInfoLabel)));var l,f,d,p,h,m,_,g=null,y=null,v=null;"form"==o.config.submission.type&&(g=React.createElement(E.a.Form,{config:o.config.submission.form,ref:function(e){o.form=e}}),a&&(y=o.isUserLoggedIn()?(l="osc-success",f=o.config.submission.requireLoginSettings.buttonTextLoggedIn,d=o.config.submission.requireLoginSettings.loggedInMessage,o.state.submissionError&&(l="osc-error",d="alreadySubmitted"==o.state.submissionError.type?(f=o.config.submission.requireLoginSettings.buttonTextAlreadySubmitted,o.config.submission.requireLoginSettings.alreadySubmittedMessage):o.state.submissionError.message),console.log("===",d),React.createElement("div",{className:"osc-require-login osc-logged-in osc-logged-in ".concat(l)},React.createElement("h2",null,o.config.submission.requireLoginSettings.title),React.createElement("div",{className:"osc-gray-block"},React.createElement("button",{onClick:function(){return document.location.href=o.config.loginUrl},className:"osc-button osc-button-white"},f),React.createElement("div",{className:"change-login-link-text"},React.createElement("a",{href:"javascript: document.location.href = '".concat(o.config.loginUrl,"'")},o.config.submission.requireLoginSettings.changeLoginLinkText)),React.createElement("div",{className:"osc-message"},d)))):React.createElement("div",{className:"osc-require-login osc-not-yet-logged-in"},React.createElement("h2",null,o.config.submission.requireLoginSettings.title),React.createElement("div",{className:"osc-gray-block"},o.config.submission.requireLoginSettings.description,React.createElement("br",null),React.createElement("br",null),React.createElement("button",{onClick:function(){return document.location.href=o.config.loginUrl},className:"osc-button osc-button-white"},o.config.submission.requireLoginSettings.buttonTextLogin)))),h=p=null,o.config.beforeUrl&&(p=o.config.beforeUrl,h=o.config.beforeLabel||"Vorige"),m=o.config.afterLabel||"Opslaan",_=a&&!o.isUserLoggedIn(),(h||m)&&(v=React.createElement(oe.default,{previousAction:null,previousUrl:p,previousLabel:h,nextAction:function(){o.submitResult()},nextUrl:null,nextLabel:m,nextIsDisabled:_})));var b=null;return o.state.submissionError&&!a&&(b=React.createElement("div",{className:"osc-message osc-error"},o.state.submissionError.message,";")),React.createElement("div",{className:"osc-choices-guide"},React.createElement("div",{className:"osc-result"},React.createElement("div",{className:"osc-result-content"},React.createElement("div",{className:"osc-choices-container"},React.createElement("h2",{dangerouslySetInnerHTML:{__html:o.state.title}}),c),u,g,y,b)),v)}}])&&Pe(e.prototype,t),n&&Pe(e,n),i}();_e.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(_e,{attributes:n,config:t}),e)},Se.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(Se,{attributes:n,config:t}),e)}},function(e,U,F){"use strict";(function(s){var p=F(35);function f(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function d(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function h(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function m(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function _(e,t){return[e[0]^t[0],e[1]^t[1]]}function g(e){return e=_(e,[0,e[0]>>>1]),e=_(e=d(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=_(e=d(e,[3301882366,444984403]),[0,e[0]>>>1])}function t(e,t){t=t||0;for(var n=(e=e||"").length%16,o=e.length-n,r=[0,t],i=[0,t],a=[0,0],c=[0,0],s=[2277735313,289559509],u=[1291169091,658871167],l=0;l<o;l+=16)a=[255&e.charCodeAt(l+4)|(255&e.charCodeAt(l+5))<<8|(255&e.charCodeAt(l+6))<<16|(255&e.charCodeAt(l+7))<<24,255&e.charCodeAt(l)|(255&e.charCodeAt(l+1))<<8|(255&e.charCodeAt(l+2))<<16|(255&e.charCodeAt(l+3))<<24],c=[255&e.charCodeAt(l+12)|(255&e.charCodeAt(l+13))<<8|(255&e.charCodeAt(l+14))<<16|(255&e.charCodeAt(l+15))<<24,255&e.charCodeAt(l+8)|(255&e.charCodeAt(l+9))<<8|(255&e.charCodeAt(l+10))<<16|(255&e.charCodeAt(l+11))<<24],a=h(a=d(a,s),31),r=f(r=h(r=_(r,a=d(a,u)),27),i),r=f(d(r,[0,5]),[0,1390208809]),c=h(c=d(c,u),33),i=f(i=h(i=_(i,c=d(c,s)),31),r),i=f(d(i,[0,5]),[0,944331445]);switch(a=[0,0],c=[0,0],n){case 15:c=_(c,m([0,e.charCodeAt(l+14)],48));case 14:c=_(c,m([0,e.charCodeAt(l+13)],40));case 13:c=_(c,m([0,e.charCodeAt(l+12)],32));case 12:c=_(c,m([0,e.charCodeAt(l+11)],24));case 11:c=_(c,m([0,e.charCodeAt(l+10)],16));case 10:c=_(c,m([0,e.charCodeAt(l+9)],8));case 9:c=d(c=_(c,[0,e.charCodeAt(l+8)]),u),i=_(i,c=d(c=h(c,33),s));case 8:a=_(a,m([0,e.charCodeAt(l+7)],56));case 7:a=_(a,m([0,e.charCodeAt(l+6)],48));case 6:a=_(a,m([0,e.charCodeAt(l+5)],40));case 5:a=_(a,m([0,e.charCodeAt(l+4)],32));case 4:a=_(a,m([0,e.charCodeAt(l+3)],24));case 3:a=_(a,m([0,e.charCodeAt(l+2)],16));case 2:a=_(a,m([0,e.charCodeAt(l+1)],8));case 1:a=d(a=_(a,[0,e.charCodeAt(l)]),s),r=_(r,a=d(a=h(a,31),u))}return r=f(r=_(r,[0,e.length]),i=_(i,[0,e.length])),i=f(i,r),r=f(r=g(r),i=g(i)),i=f(i,r),("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)+("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)}var r=window;function y(e,t){return!function(e,t){for(var n=0,o=e.length;n<o;++n)if(e[n]===t)return 1}(e,t)}function n(e){return parseInt(e)}function o(e){return parseFloat(e)}function u(e){return e.reduce(function(e,t){return e+(t?1:0)},0)}var l=window,v=navigator;document;function a(){return 4<=u(["MSCSSMatrix"in l,"msSetImmediate"in l,"msIndexedDB"in l,"msMaxTouchPoints"in v,"msPointerEnabled"in v])}var b=window,E=document;function O(e,t,n){var o;(o=t)&&"function"==typeof o.setValueAtTime&&t.setValueAtTime(n,e.currentTime)}function w(e){var t=new Error(e);return t.name=e,t}var P=document,k=["monospace","sans-serif","serif"],I=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"],C={fontStyle:"normal",fontWeight:"normal",letterSpacing:"normal",lineBreak:"auto",lineHeight:"normal",textTransform:"none",textAlign:"left",textDecoration:"none",textShadow:"none",whiteSpace:"normal",wordBreak:"normal",wordSpacing:"normal",position:"absolute",left:"-9999px",fontSize:"48px"};var i=navigator,c=window;var S=navigator;var M=window;var R=window;var L=window;var D=document;var e={osCpu:function(){return navigator.oscpu},languages:function(){var e,t=[],n=S.language||S.userLanguage||S.browserLanguage||S.systemLanguage;return void 0!==n&&t.push([n]),Array.isArray(S.languages)?5<=u(["webkitPersistentStorage"in v,"webkitTemporaryStorage"in v,0===v.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in l,"BatteryManager"in l,"webkitMediaStream"in l,"webkitSpeechGrammar"in l])&&3<=u([!("MediaSettingsRange"in l),"RTCEncodedAudioFrame"in l,""+l.Intl=="[object Intl]",""+l.Reflect=="[object Reflect]"])||t.push(S.languages):"string"!=typeof S.languages||(e=S.languages)&&t.push(e.split(",")),t},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return e=o(navigator.deviceMemory),t=void 0,"number"==typeof e&&isNaN(e)?t:e;var e,t},screenResolution:function(){var e=[n(M.screen.width),n(M.screen.height)];return e.sort().reverse(),e},availableScreenResolution:function(){if(R.screen.availWidth&&R.screen.availHeight){var e=[n(R.screen.availWidth),n(R.screen.availHeight)];return e.sort().reverse(),e}},hardwareConcurrency:function(){try{var e=n(navigator.hardwareConcurrency);return isNaN(e)?1:e}catch(e){return 1}},timezoneOffset:function(){var e=(new Date).getFullYear();return Math.max(o(new Date(e,0,1).getTimezoneOffset()),o(new Date(e,6,1).getTimezoneOffset()))},timezone:function(){var e;if(null!==(e=L.Intl)&&void 0!==e&&e.DateTimeFormat)return(new L.Intl.DateTimeFormat).resolvedOptions().timeZone},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!(a()||3<=u(["msWriteProfilerMark"in l,"MSStream"in l,"msLaunchUri"in v,"msSaveBlob"in v])&&!a()))try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){return navigator.platform},plugins:function(){if(a())return[];if(navigator.plugins){for(var e=[],t=0;t<navigator.plugins.length;++t){var n=navigator.plugins[t];if(n){for(var o=[],r=0;r<n.length;++r){var i=n[r];o.push({type:i.type,suffixes:i.suffixes})}e.push({name:n.name,description:n.description,mimeTypes:o})}}return e}},canvas:function(){var e,t,n=((e=document.createElement("canvas")).width=240,e.height=140,e.style.display="inline",[e,e.getContext("2d")]),o=n[0],r=n[1];if(t=o,!r||!t.toDataURL)return{winding:!1,data:""};r.rect(0,0,10,10),r.rect(2,2,6,6);var i=!r.isPointInPath(5,5,"evenodd");r.textBaseline="alphabetic",r.fillStyle="#f60",r.fillRect(125,1,62,20),r.fillStyle="#069",r.font="11pt no-real-font-123";var a="Cwm fjordbank 😃 gly";return r.fillText(a,2,15),r.fillStyle="rgba(102, 204, 0, 0.2)",r.font="18pt Arial",r.fillText(a,4,45),r.globalCompositeOperation="multiply",r.fillStyle="rgb(255,0,255)",r.beginPath(),r.arc(50,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(0,255,255)",r.beginPath(),r.arc(100,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,255,0)",r.beginPath(),r.arc(75,100,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,0,255)",r.arc(75,75,75,0,2*Math.PI,!0),r.arc(75,75,25,0,2*Math.PI,!0),r.fill("evenodd"),{winding:i,data:o.toDataURL()}},touchSupport:function(){var t,e=0;void 0!==i.maxTouchPoints?e=n(i.maxTouchPoints):void 0!==i.msMaxTouchPoints&&(e=i.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){t=!1}return{maxTouchPoints:e,touchEvent:t,touchStart:"ontouchstart"in c}},fonts:function(){function a(){var e=P.createElement("span");e.textContent="mmMwWLliI0O&1";for(var t=0,n=Object.keys(C);t<n.length;t++){var o=n[t];e.style[o]=C[o]}return e}var e=P.body,n=P.createElement("div"),c=P.createElement("div"),o={},r={},t=k.map(function(e){var t=a();return t.style.fontFamily=e,n.appendChild(t),t});e.appendChild(n);for(var i=0,s=k.length;i<s;i++)o[k[i]]=t[i].offsetWidth,r[k[i]]=t[i].offsetHeight;var u=function(){for(var e={},t=function(i){e[i]=k.map(function(e){var t,n,o,r=(t=i,n=e,(o=a()).style.fontFamily="'"+t+"',"+n,o);return c.appendChild(r),r})},n=0,o=I;n<o.length;n++){t(o[n])}return e}();e.appendChild(c);for(var l=[],f=0,d=I.length;f<d;f++)!function(n){return k.some(function(e,t){return n[t].offsetWidth!==o[e]||n[t].offsetHeight!==r[e]})}(u[I[f]])||l.push(I[f]);return e.removeChild(c),e.removeChild(n),l},audio:function(){return Object(p.b)(this,void 0,void 0,function(){var t,n,o,i,a,c;return Object(p.c)(this,function(e){switch(e.label){case 0:if(!(t=b.OfflineAudioContext||b.webkitOfflineAudioContext))return[2,-2];if(4<=u(["ApplePayError"in l,"CSSPrimitiveValue"in l,"Counter"in l,0===v.vendor.indexOf("Apple"),"getStorageUpdates"in v,"WebKitMediaKeys"in l])&&!(3<=u(["safari"in l,!("DeviceMotionEvent"in l),!("ongestureend"in l),!("standalone"in v)]))&&!(3<=u(["DOMRectList"in l,"RTCPeerConnectionIceEvent"in l,"SVGGeometryElement"in l,"ontransitioncancel"in l])))return[2,-1];n=new t(1,44100,44100),(o=n.createOscillator()).type="triangle",O(n,o.frequency,1e4),i=n.createDynamicsCompressor(),O(n,i.threshold,-50),O(n,i.knee,40),O(n,i.ratio,12),O(n,i.reduction,-20),O(n,i.attack,0),O(n,i.release,.25),o.connect(i),i.connect(n.destination),o.start(0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,(r=n,new s(function(t,e){r.oncomplete=function(e){return t(e.renderedBuffer)};var n=3,o=function(){switch(r.startRendering(),r.state){case"running":setTimeout(function(){return e(w("timeout"))},1e3);break;case"suspended":E.hidden||n--,0<n?setTimeout(o,500):e(w("suspended"))}};o()}))];case 2:return a=e.sent(),[3,5];case 3:if("timeout"===(c=e.sent()).name||"suspended"===c.name)return[2,-3];throw c;case 4:return o.disconnect(),i.disconnect(),[7];case 5:return[2,function(e){for(var t=0,n=4500;n<5e3;++n)t+=Math.abs(e[n]);return t}(a.getChannelData(0))]}var r})})},pluginsSupport:function(){return void 0!==navigator.plugins},productSub:function(){return navigator.productSub},emptyEvalLength:function(){return eval.toString().length},errorFF:function(){try{throw"a"}catch(e){try{return e.toSource(),!0}catch(e){return!1}}},vendor:function(){return navigator.vendor},chrome:function(){return void 0!==window.chrome},cookiesEnabled:function(){try{D.cookie="cookietest=1; SameSite=Strict;";var e=-1!==D.cookie.indexOf("cookietest=");return D.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}}};function T(){return function(l,f,d){return Object(p.b)(this,void 0,void 0,function(){var t,n,o,r,i,a,c,s,u;return Object(p.c)(this,function(e){switch(e.label){case 0:t=Date.now(),n={},o=0,r=Object.keys(l),e.label=1;case 1:if(!(o<r.length))return[3,7];if(i=r[o],!y(d,i))return[3,6];a=void 0,e.label=2;case 2:return e.trys.push([2,4,,5]),u={},[4,l[i](f)];case 3:return u.value=e.sent(),a=u,[3,5];case 4:return c=e.sent(),a=c&&"object"==typeof c&&"message"in c?{error:c}:{error:{message:c}},[3,5];case 5:s=Date.now(),n[i]=Object(p.a)(Object(p.a)({},a),{duration:s-t}),t=s,e.label=6;case 6:return o++,[3,1];case 7:return[2,n]}})})}(e,void 0,[])}function j(e){return JSON.stringify(e,function(e,t){return t instanceof Error?(n=t,Object(p.a)({name:n.name,message:n.message,stack:null===(o=n.stack)||void 0===o?void 0:o.split("\n")},n)):t;var n,o},2)}function x(e){return t(function(e){for(var t="",n=0,o=Object.keys(e);n<o.length;n++){var r=o[n],i=e[r],a=i.error?"error":JSON.stringify(i.value);t+=(t?"|":"")+r.replace(/([:|\\])/g,"\\$1")+":"+a}return t}(e))}var A=(N.prototype.get=function(r){return void 0===r&&(r={}),Object(p.b)(this,void 0,void 0,function(){var n,o;return Object(p.c)(this,function(e){switch(e.label){case 0:return[4,T()];case 1:return n=e.sent(),o={components:n,get visitorId(){return void 0===t&&(t=x(this.components)),t},set visitorId(e){t=e}},r.debug&&console.log("Copy the text below to get the debug data:\n\n```\nversion: 3.0.5\nuserAgent: "+navigator.userAgent+"\ngetOptions: "+JSON.stringify(r,void 0,2)+"\nvisitorId: "+o.visitorId+"\ncomponents: "+j(n)+"\n```"),[2,o]}var t})})},N);function N(){}var B={load:function(e){var t=(void 0===e?{}:e).delayFallback,o=void 0===t?50:t;return Object(p.b)(this,void 0,void 0,function(){return Object(p.c)(this,function(e){switch(e.label){case 0:return[4,(void 0===(n=2*(t=o))&&(n=1/0),new s(function(e){r.requestIdleCallback?r.requestIdleCallback(function(){return e()},{timeout:n}):setTimeout(e,Math.min(t,n))}))];case 1:return e.sent(),[2,new A]}var t,n})})},hashComponents:x,componentsToDebugString:j};U.a=B}).call(this,F(36))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdeasList});var merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),merge__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_image_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(48);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasList=function(_React$Component){_inherits(IdeasList,_React$Component);var _super=_createSuper(IdeasList);function IdeasList(e){var t;return _classCallCheck(this,IdeasList),(t=_super.call(this,e)).defaultConfig={types:[],titleField:"title",summaryField:"summary",idea:{showVoteButtons:!0,sort:{sortOptions:[{value:"createdtime,desc",label:"Nieuwste eerst"},{value:"createdtime,asc",label:"Oudste eerst"}],showSortButton:!0,defaultSortOrder:"createdtime,desc"}}},t.config=merge__WEBPACK_IMPORTED_MODULE_0___default.a.recursive(t.defaultConfig,e.config||{}),t.config.onIdeaClick=t.config.onIdeaClick||t.onIdeaClick.bind(_assertThisInitialized(t)),t.state={currentSortOrder:t.config.idea.sort.defaultSortOrder,ideas:t.props.ideas||[],currentMouseOverIdea:null,hideSortButton:!t.config.idea.sort.hideSortButton},t}return _createClass(IdeasList,[{key:"componentDidMount",value:function(){}},{key:"updateIdeas",value:function(e){var t=e.ideas,n=void 0===t?this.state.ideas:t,o=e.sortOrder,r=void 0===o?this.state.currentSortOrder:o,i=e.hideSortButton,a=e.center,c=void 0===a?{lat:52.37104644463586,lng:4.900402911007405}:a,s=e.maxLength,u=_objectSpread({},this.state);switch(r){case"title":n=n.sort(function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:t.title.toLowerCase()<e.title.toLowerCase()?1:0});break;case"ranking,asc":n=n.sort(function(e,t){return e.ranking-t.ranking});break;case"likes,asc":n=n.sort(function(e,t){return e.yes-t.yes});break;case"likes,desc":n=n.sort(function(e,t){return t.yes-e.yes});break;case"createdtime,desc":n=n.sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()});break;case"createdtime,asc":n=n.sort(function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()});break;case"distance":n=n.map(function(e){return e._distance=Math.sqrt(Math.pow(e.location.coordinates[0]-c.lat,2)+Math.pow(e.location.coordinates[1]-c.lng,2)),e}).sort(function(e,t){return e._distance-t._distance});break;case"args,desc":n=n.sort(function(e,t){return t.argCount-e.argCount});break;case"args,asc":n=n.sort(function(e,t){return e.argCount-t.argCount});break;case"random":default:n=n.sort(function(e,t){return Math.random()-.5})}u.ideas=s?n.slice(0,s):n,u.hideSortButton=i,this.setState(u)}},{key:"setSortOrder",value:function(e){var t=e.sortOrder;this.setState(_objectSpread(_objectSpread({},this.state),{},{currentSortOrder:t}),function(){this.updateIdeas({sortOrder:t})})}},{key:"onIdeaClick",value:function(){}},{key:"dispatchMouseOverListItem",value:function(e,t){e.stopPropagation();var n,o=t.id;this.state.currentMouseOverIdea&&o==this.state.currentMouseOverIdea.id||(this.setState({currentMouseOverIdea:t.id}),n=new window.CustomEvent("mouseOverListItem",{detail:{idea:t}}),document.dispatchEvent(n))}},{key:"dispatchMouseOutListItem",value:function(e){var t;e.stopPropagation(),this.state.currentMouseOverIdea&&(this.setState({currentMouseOverIdea:null}),t=new window.CustomEvent("mouseOutListItem",{}),document.dispatchEvent(t))}},{key:"render",value:function render(){var _this2=this,self=this,sortSelector=null,sortSelector=this.config.idea.sort.showSortButton&&!this.state.hideSortButton?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-sort osc-align-right-container osc-margin-right"},"Sorteer op:    ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("select",{value:self.state.currentSortOrder,onChange:function(){return self.setSortOrder({sortOrder:self.sortSelector.value})},className:"osc-default-select",ref:function(e){return self.sortSelector=e}},self.config.idea.sort.sortOptions.map(function(e,t){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("option",{value:e.value,key:"sort-option-"+t},e.label)}))):react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:{height:20}}),titleHML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h3",{className:"osc-title"},self.props.title," (",self.state.ideas.length,")");return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{id:self.id,className:self.props.className||"osc-info-block-ideas-list",ref:function(e){return self.instance=e}},sortSelector,titleHML,self.state.ideas.map(function(idea,i){var ideaTypeValue;idea||console.log("idea is undef",i,self.state.ideas);try{ideaTypeValue=eval("idea.".concat(self.config.typeField))}catch(e){ideaTypeValue=""}var typeDef=self.config.types.find(function(e){return ideaTypeValue&&(e.id==ideaTypeValue||e.name==ideaTypeValue)});typeDef&&typeDef.listicon||(typeDef={listicon:{html:""}});var voteCountHTML=null;_this2.config.idea.showVoteButtons&&(voteCountHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-likes"},idea.yes||0));var argcountHTML=null;return _this2.config.argument.isActive&&!_this2.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)")))&&(argcountHTML=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-reactions"},idea.argCount||0)),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-info-block-ideas-list-idea".concat(self.state.currentMouseOverIdea&&self.state.currentMouseOverIdea!=idea.id?" osc-opacity-65":""),onClick:function(e){return self.config.onIdeaClick(e,idea)},key:"info-block-"+i,onMouseOver:function(e){return self.dispatchMouseOverListItem(e,idea)},onMouseOut:function(e){return self.dispatchMouseOutListItem(e)}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-content"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-idea-image-container"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_2__.IdeaImage,{config:{},idea:idea,key:"image-"+idea.id})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h4",{className:"osc-title"},eval("idea.".concat(self.config.titleField))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-summary"},eval("idea.".concat(self.config.summaryField))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-stats"},voteCountHTML,argcountHTML,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-type"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-type-content",dangerouslySetInnerHTML:{__html:typeDef.listicon.html}})))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-clear-both"}))}))}}]),IdeasList}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return IdeasForm});var merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),merge__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_forms_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasForm=function(_React$Component){_inherits(IdeasForm,_React$Component);var _super=_createSuper(IdeasForm);function IdeasForm(props){var _this;_classCallCheck(this,IdeasForm),_this=_super.call(this,props);var self=_assertThisInitialized(_this);self.defaultConfig={user:{},ideaId:null,titleMinLength:10,titleMaxLength:20,summaryMinLength:20,summaryMaxLength:140,descriptionMinLength:140,descriptionMaxLength:5e3,fields:[]},self.config=merge__WEBPACK_IMPORTED_MODULE_0___default.a.recursive(self.defaultConfig,self.config,props.config||{}),self.config.fields=_toConsumableArray(self.config.fields);var fields=self.config.fields||[];self.props.idea.extraData||(self.props.idea.extraData={});var state={formfields:{id:self.props.idea.id||"",user:self.props.idea.user||{}},showFormErrorsWarning:!1,isBusy:!1};fields.forEach(function(field){field.name&&(state.formfields[field.name]=eval("self.props.idea."+field.name),field.value=eval("self.props.idea."+field.name))});var titleField=fields.find(function(e){return"title"==e.name});titleField&&(titleField.minLength=self.config.titleMinLength,titleField.maxLength=self.config.titleMaxLength);var summaryField=fields.find(function(e){return"summary"==e.name});summaryField&&(summaryField.minLength=self.config.summaryMinLength,summaryField.maxLength=self.config.summaryMaxLength);var descriptionField=fields.find(function(e){return"description"==e.name});descriptionField&&(descriptionField.minLength=self.config.descriptionMinLength,descriptionField.maxLength=self.config.descriptionMaxLength);var imageField=fields.find(function(e){return"image-upload"==e.inputType}),choices;return imageField&&(imageField.imageserver=self.config.imageserver),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_2__.a.user.hasRole(self.config.user,"editor")?(self.config.types&&"typeId"==self.config.typeField&&(choices=[],self.config.types.forEach(function(e){var t=e;(!t.auth||t.auth.createableBy&&_libs_index_jsx__WEBPACK_IMPORTED_MODULE_2__.a.user.hasRole(self.config.user,t.auth.createableBy))&&choices.push({title:t.name,value:t.id||t.value})}),self.config.fields.push({name:"typeId",title:"Type inzending",value:self.props.idea.typeId,inputType:"multiple-choice",choices:choices}),state.formfields.typeId=self.props.idea.typeId),self.config.fields.push({name:"modBreak",title:"Moderator reactie",value:self.props.idea.modBreak,inputType:"textarea-with-counter",minLength:0,maxLength:2e3}),state.formfields.modBreak=self.props.idea.modBreak):self.config.types&&"typeId"==self.config.typeField&&(self.config.fields.push({name:"typeId",value:self.props.idea.typeId,inputType:"hidden"}),state.formfields.typeId=self.props.idea.typeId),self.state=state,_this}return _createClass(IdeasForm,[{key:"componentDidMount",value:function(){}},{key:"handleLocationChange",value:function(e){var t=e.location,n=e.address,o=_objectSpread({},this.state);o.formfields.location={coordinates:[t.lat,t.lng]},o.formfields.address=n,this.setState(o),this.dispatchUpdateEditIdea(o.formfields)}},{key:"dispatchUpdateEditIdea",value:function(e){var t=new window.CustomEvent("updateEditIdea",{detail:{idea:e}});document.dispatchEvent(t)}},{key:"validateIdea",value:function(){var e=!0;return this.state.formfields.location?this["form-warning-location"].style.display="none":(console.log("xxx"),e=!(this["form-warning-location"].style.display="block")),e}},{key:"submitIdea",value:function(){var a=this,c=this;c.setState({isBusy:!0},function(){var n=c.form.getValues(),e=c.form.validate({showErrors:!0});if(c.validateIdea()&&e){if(c.setState({showFormErrorsWarning:!1}),!c.config.api.isUserLoggedIn)return alert("Je bent niet ingelogd");var t=c.config.api.url+"/api/site/"+c.config.siteId+"/idea",o=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_2__.a.api.getHeaders(c.config),r={location:JSON.stringify(_objectSpread({type:"Point"},c.state.formfields.location))};Object.keys(n).forEach(function(e){var t=e.match(/^extraData\.(.+)/);t?(r.extraData||(r.extraData={}),r.extraData[t[1]]=n[e]):r[e]=n[e]});var i="POST";"number"==typeof a.state.formfields.id&&(i="PUT",t=t+"/"+a.state.formfields.id),fetch(t,{method:i,headers:o,body:JSON.stringify(r)}).then(function(e){if(!e.ok)throw e;return e.json()}).then(function(t){c.setState({isBusy:!1},function(){var e=new window.CustomEvent("newIdeaStored",{detail:{idea:t}});document.dispatchEvent(e)})}).catch(function(e){console.log("Niet goed"),console.log(e),"function"==typeof e.json?e.json().then(function(e){return c.setState({isBusy:!1,showFormErrorsWarning:e.message})}):c.setState({isBusy:!1,showFormErrorsWarning:e.message||e})})}else c.setState({isBusy:!1,showFormErrorsWarning:!0})})}},{key:"render",value:function(){var e,t=this,n=this,o=null;n.state.showFormErrorsWarning&&(e="Niet alle velden zijn correct ingevuld. Scroll naar boven om te zien wat er mis gaat.","string"==typeof n.state.showFormErrorsWarning&&(e=n.state.showFormErrorsWarning),o=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-form-errors-warning"},e));var r=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_forms_index_jsx__WEBPACK_IMPORTED_MODULE_3__.a.Form,{config:n.config,values:{typeId:n.state.formfields.typeId},ref:function(e){n.form=e}});return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{id:n.id,className:n.props.className||"osc-info-block-idea-form",ref:function(e){return n.instance=e}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-spacer"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("form",{className:"osc-form"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1",null,"Nieuw punt toevoegen"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-form-group"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2",null,"Naam"),n.state.formfields.user&&n.state.formfields.user.fullName),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-form-group"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2",null,"Een locatie vlakbij"),n.state.formfields.address||"Geen adres gevonden",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"osc-form-warning",style:{display:"none"},ref:function(e){return t["form-warning-location"]=e}},"Geen locatie geselecteerd")),r,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),o,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{className:"osc-button osc-button-blue".concat(n.state.isBusy?" osc-disabled":""),onClick:function(){n.state.isBusy||n.submitIdea()},ref:function(e){return n.submitButton=e}},"Versturen"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null)))}}]),IdeasForm}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Map});var merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),merge__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(merge__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_nlmap_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=_superPropBase(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Map=function(_OpenStadComponentNLM){_inherits(Map,_OpenStadComponentNLM);var _super=_createSuper(Map);function Map(e){var t;return _classCallCheck(this,Map),(t=_super.call(this,e)).defaultConfig={clustering:{maxClusterRadius:100,showCoverageOnHover:!1},types:[]},t.config=merge__WEBPACK_IMPORTED_MODULE_0___default.a.recursive(t.defaultConfig,t.config,e.config||{}),t.config.polygon=t.config.polygon,t.config.autoZoomAndCenter=t.config.autoZoomAndCenter||"polygon",t.ideas=[],t}return _createClass(Map,[{key:"componentDidMount",value:function(e,t){_get(_getPrototypeOf(Map.prototype),"componentDidMount",this).call(this,e,t);var n=this;document.addEventListener("osc-map-cluster-animation-end",function(e){n.onMapClusterAnimationEnd(e.detail)})}},{key:"addIdea",value:function addIdea(idea){var self=this;self.ideas.push(idea);var typename=idea&&self.config.typeField?eval("idea.".concat(self.config.typeField)):"typeId",typeDef=self.config.types.find(function(e){return typename&&(e.id==typename||e.name==typename)}),typeDef=typeDef||{},color=typeDef.color||typeDef.backgroundColor||"#164995",icondef=typeDef.mapicon||typeDef.icon||{html:'<svg viewBox="0 0 26 26"><circle cx="13" cy="13" r="13" fill="'.concat(color,'"/></svg>'),width:26,height:26,anchor:[13,13]},icon=L.divIcon({html:icondef.html,className:"osc-ideas-on-map-icon",iconSize:L.point(icondef.width,icondef.height),iconAnchor:icondef.anchor});self.addMarker({lat:idea.location.coordinates[0],lng:idea.location.coordinates[1],data:idea,icon:icon})}},{key:"getVisibleIdeas",value:function(){var t=this,e=t.markers.filter(function(e){return e.visible&&e.data&&t.map.getBounds().contains(e.getLatLng())}).map(function(e){return e.data});return t.setState({visibleIdeas:e}),e}},{key:"setSelectedLocation",value:function(e){var t;this.selectedLocation=e,this.selectedLocation?this.selectedLocationMarker?this.updateMarker(this.selectedLocationMarker,{location:e}):(t=L.divIcon({html:'<svg width="39" height="50" viewBox="0 0 39 50" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.1038 0C29.6577 0 38.2075 8.46671 38.2075 18.9181C38.2075 33.1786 21.7544 47.7273 21.0432 48.3035L19.1038 50L17.1643 48.3035C16.4532 47.7273 0 33.1786 0 18.9181C0 8.46831 8.54983 0 19.1038 0ZM32.3245 18.9181C32.3083 11.6837 26.4091 5.84187 19.1038 5.82586C11.7984 5.84187 5.89922 11.6837 5.88306 18.9181C5.88306 27.3367 14.1581 37.2439 19.0876 42.1095C23.1767 38.1242 32.3245 27.993 32.3245 18.9181Z" fill="#EC0000"/><path d="M19.104 5.82568C26.4093 5.84169 32.3086 11.6836 32.3247 18.9179C32.3247 27.9928 23.1769 38.124 19.0879 42.1093C14.1584 37.2437 5.8833 27.3366 5.8833 18.9179C5.89946 11.6836 11.7987 5.84169 19.104 5.82568ZM25.5689 18.9179C25.5689 15.3807 22.6759 12.5158 19.104 12.5158C15.5322 12.5158 12.6391 15.3807 12.6391 18.9179C12.6391 22.455 15.5322 25.3199 19.104 25.3199C22.6759 25.3199 25.5689 22.455 25.5689 18.9179Z" fill="white"/><path d="M19.1038 25.3202C22.6743 25.3202 25.5687 22.4539 25.5687 18.9182C25.5687 15.3824 22.6743 12.5161 19.1038 12.5161C15.5333 12.5161 12.6389 15.3824 12.6389 18.9182C12.6389 22.4539 15.5333 25.3202 19.1038 25.3202Z" fill="#EC0000"/></svg>',className:"osc-ideas-on-map-icon",iconSize:L.point(39,50),iconAnchor:[20,50]}),this.selectedLocationMarker=this.addMarker(_objectSpread(_objectSpread({},e),{},{icon:t,doNotCluster:!0}))):(this.selectedLocationMarker&&this.removeMarker(this.selectedLocationMarker),this.selectedLocationMarker=null)}},{key:"setBoundsAndCenter",value:function(e){_get(_getPrototypeOf(Map.prototype),"setBoundsAndCenter",this).call(this,e||"polygon"==this.config.autoZoomAndCenter&&this.config.polygon||this.markers)}},{key:"showMarkers",value:function(e){e.keepCenter;var t=this;t.markers.forEach(function(e){t.showMarker(e)})}},{key:"hideMarkers",value:function(e){var t=e.exception,n=this;t&&t.location&&n.setBoundsAndCenter([t.location]),n.markers.forEach(function(e){t&&t.location&&t.location.lat==e._latlng.lat&&t.location.lng==e._latlng.lng||n.hideMarker(e)})}},{key:"fadeMarkers",value:function(e){var n=e.exception,o=this;o.markers.forEach(function(e){var t;n&&e.data&&e.data.id&&n.id==e.data.id?e.data&&(e.data.isFaded=!1):(e.data&&(e.data.isFaded=!0),(t=o.markerClusterGroup&&o.markerClusterGroup.getVisibleParent(e))&&t.getAllChildMarkers&&t.getAllChildMarkers().find(function(e){return e.data&&!1===e.data.isFaded})||!t||t.setOpacity(.3))})}},{key:"updateFading",value:function(){var o=this;o.markers.forEach(function(e){var t,n=o.markerClusterGroup&&o.markerClusterGroup.getVisibleParent(e);n&&e.visible&&(t=n&&n.getAllChildMarkers&&n.getAllChildMarkers().find(function(e){return e.data&&!1===e.data.isFaded}),n.setOpacity(!t&&e.data&&e.data.isFaded?.3:1))})}},{key:"unfadeAllMarkers",value:function(){var n=this;n.markers.forEach(function(e){e.data&&(e.data.isFaded=!1);var t=n.markerClusterGroup&&n.markerClusterGroup.getVisibleParent(e);t&&t.setOpacity(1)})}},{key:"onMapClusterAnimationEnd",value:function(){this.updateFading()}}]),Map}(_nlmap_index_jsx__WEBPACK_IMPORTED_MODULE_2__.default)},function(e,t,n){n(109);var o=n(40);e.exports=o("Array","find")},function(e,t,n){"use strict";n.r(t);n(10),n(92);var o=n(0),r=n.n(o),i=n(3),a=n.n(i),c=(n(111),n(80));n.d(t,"default",function(){return c.a}),n.d(t,"IdeasOnMap",function(){return c.a}),c.a.renderElement=function(e,t){var n=e.attributes;a.a.render(r.a.createElement(c.a,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";var o=n(37),r=n(86).find,i=n(38),a=n(39),c="find",s=!0,u=a(c);c in[]&&Array(1).find(function(){s=!1}),o({target:"Array",proto:!0,forced:s||!u},{find:function(e,t){return r(this,e,1<arguments.length?t:void 0)}}),i(c)},function(e,t,n){},function(e,t,n){},function(e,r,i){(function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new o(n.call(setTimeout,t,arguments),clearTimeout)},r.setInterval=function(){return new o(n.call(setInterval,t,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(t,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(113),r.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,r.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(19))},function(e,t,n){(function(e,h){!function(n,o){"use strict";var r,i,a,c,s,u,t,l,e;function f(e){delete i[e]}function d(e){if(a)setTimeout(d,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(o,n)}}(t)}finally{f(e),a=!1}}}}function p(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(l)&&d(+e.data.slice(l.length))}n.setImmediate||(r=1,a=!(i={}),c=n.document,e=(e=Object.getPrototypeOf&&Object.getPrototypeOf(n))&&e.setTimeout?e:n,s="[object process]"==={}.toString.call(n.process)?function(e){h.nextTick(function(){d(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(l="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",p,!1):n.attachEvent("onmessage",p),function(e){n.postMessage(l+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){t.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(u=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,u.removeChild(t),t=null},u.appendChild(t)}):function(e){setTimeout(d,0,e)},e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return i[r]=o,s(r),r++},e.clearImmediate=f)}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(19),n(41))},function(e,t,n){"use strict";n.r(t);n(107),n(10),n(0),n(3),n(115);var o=n(4);n.d(t,"Component",function(){return o.a});var r=n(2);n.d(t,"Libs",function(){return r.a});var i=n(6);n.d(t,"Forms",function(){return i.a});var a=n(102);n.d(t,"ChoicesGuide",function(){return a.ChoicesGuide}),n.d(t,"ChoicesGuideResult",function(){return a.ChoicesGuideResult});var c=n(82);n.d(t,"NLMap",function(){return c.default});var s=n(81);n.d(t,"Lightbox",function(){return s.default});var u=n(108);n.d(t,"IdeasOnMap",function(){return u.default});var l=n(83);n.d(t,"IdeasDetails",function(){return l.default});var f=n(48);n.d(t,"IdeasImage",function(){return f.default});var d=n(75);n.d(t,"PreviousNextButtonBlock",function(){return d.default});var p=n(77);n.d(t,"Poll",function(){return p.default});var h=n(76);n.d(t,"Reactions",function(){return h.default})},function(e,t,n){}]);