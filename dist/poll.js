/*! For license information please see poll.js.LICENSE.txt */
window.OpenStadComponents=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=100)}([function(e,t){e.exports=window.React},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(3),o=n.n(r),i=n(0),a=n.n(i);n(77);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,n,r,i=f(a);function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u(this,a);var c=d(t=i.call(this,e));if(e.attributes&&Object.keys(e.attributes).forEach((function(t){var n=e.attributes[t];c[n.name]=n.value})),"string"==typeof c.config)try{c.config=JSON.parse(c.config)}catch(e){}var s=e.config||{};return s=m(s),c.config=o.a.recursive({siteId:null,api:{url:null,headers:null,isUserLoggedIn:!1},user:{}},n,r,s),c.divId=c.divId||c.config&&c.config.divId||e.id||"openstad-component-".concat(parseInt(1e8*Math.random())),window[c.divId]=c,t}return t=a,(n=[{key:"componentDidMount",value:function(e,t){}}])&&s(t.prototype,n),r&&s(t,r),a}(a.a.Component);function m(e){return"object"!=c(e)||Object.keys(e).forEach((function(t){void 0!==e[t]&&null!=e[t]||delete e[t],"object"==c(e[t])&&(e[t]=m(e[t]))})),e}},function(e,t,n){"use strict";n(14),n(0),n(6),n(97);var r=n(3),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a={get:function(e){var t=sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==i(t))try{t=JSON.stringify(t)}catch(e){}sessionStorage.setItem(e,t)}},remove:function(e){sessionStorage.removeItem(e)}},c=a,u=function(e){var t,n=window.location.search.match(/(?:\?|&)jwt=([A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*)(?:&|$)/);if(n){t=n[1],c.set("osc-jwt",t);var r=document.location.search.replace("jwt="+t,"");"?"==r&&(r=""),document.location.search=r}return t=c.get("osc-jwt"),e&&e.jwt&&(t=e.jwt,c.set("osc-jwt",t)),t},s={admin:["admin","moderator","editor","member","anonymous","all"],moderator:["moderator","editor","member","anonymous","all"],editor:["editor","member","anonymous","all"],member:["member","anonymous","all"],anonymous:["anonymous","all"],all:["all"],owner:null};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f={get:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==l(t))try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)}},remove:function(e){localStorage.removeItem(e)}},p={api:{getHeaders:function(e){var t=o.a.recursive({"Content-type":"application/json"},e&&e.api&&e.api.headers),n=u();return n&&(t=o.a.recursive({"X-Authorization":"Bearer "+n},t)),t}},user:{getUser:function(e,t){t=t||function(e){console.log("getUser: next not defined."),console.log(e)};var n=e.user||c.get("osc-user");if(n)return t(null,n);var r=u(e);if(!r)return t(null,{});var o="".concat(e.api.url,"/oauth/site/").concat(e.siteId,"/me"),i={"X-Authorization":"Bearer ".concat(r),"Content-Type":"application/json"};fetch(o,{headers:i}).then((function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()})).then((function(e){c.set("osc-user",e),t(null,e)})).catch((function(e){t(e)}))},getJWT:u,logout:function(e,t){t=t||function(e){console.log("logout: next not defined.")};var n=e.user||c.get("osc-user");if(n)return t(null,n);var r=u(e);if(!r)return t(null,{});var o=e.api.url+"/oauth/site/"+e.siteId+"/me";fetch(o,{headers:{"X-Authorization":"Bearer "+r,"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()})).then((function(e){c.set("osc-user",e),t(null,e)})).catch((function(e){t(e)}))},hasRole:function(e,t){var n=e.role;return Object.keys(s).includes(n)||(n="all"),s[n].includes(t)}},ideasSort:function(e){var t=e.ideas,n=e.sortOrder,r=e.center;switch(n=n||"random"){case"title":t=t.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:t.title.toLowerCase()<e.title.toLowerCase()?1:0}));break;case"ranking,asc":t=t.sort((function(e,t){return e.ranking-t.ranking}));break;case"likes,asc":t=t.sort((function(e,t){return e.yes-t.yes}));break;case"likes,desc":t=t.sort((function(e,t){return t.yes-e.yes}));break;case"createdtime,desc":t=t.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}));break;case"createdtime,asc":t=t.sort((function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}));break;case"distance":(r=r||{lat:52.37104644463586,lng:900402911007405}).coordinates&&(r.lat=r.coordinates[0],r.lng=r.coordinates[1]),t=t.map((function(e){return e._distance=Math.sqrt(Math.pow(e.location.coordinates[0]-r.lat,2)+Math.pow(e.location.coordinates[1]-r.lng,2)),e})).sort((function(e,t){return e._distance-t._distance}));break;case"args,desc":t=t.sort((function(e,t){return t.argCount-e.argCount}));break;case"args,asc":t=t.sort((function(e,t){return e.argCount-t.argCount}));break;case"random":default:t=t.sort((function(e,t){return Math.random()-.5}))}return t},localStorage:f,sessionStorage:c,reactTemplate:function(e){var t=e.html,n=void 0===t?"":t,r=arguments[0];delete r.html;var o=0;return Object.keys(r).forEach((function(e){var t=new RegExp("^((?:.|\n|\r)*)\\{".concat(e,"\\}((?:.|\n|\r)*)$"),"g").exec(n);t&&(o++,n=React.createElement("span",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:t[1]}}),r[e],React.createElement("span",{dangerouslySetInnerHTML:{__html:t[2]}})))})),0==o&&(n=React.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),n}};t.a=p},function(e,t,n){(function(e){!function(t){var n=function(e){return o(!0===e,!1,arguments)};function r(e,t){if("object"!==i(e))return t;for(var n in t)"object"===i(e[n])&&"object"===i(t[n])?e[n]=r(e[n],t[n]):e[n]=t[n];return e}function o(e,t,o){var a=o[0],c=o.length;(e||"object"!==i(a))&&(a={});for(var u=0;u<c;++u){var s=o[u];if("object"===i(s))for(var l in s)if("__proto__"!==l){var f=e?n.clone(s[l]):s[l];a[l]=t?r(a[l],f):f}}return a}function i(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}n.recursive=function(e){return o(!0===e,!0,arguments)},n.clone=function(e){var t,r,o=e,a=i(e);if("array"===a)for(o=[],r=e.length,t=0;t<r;++t)o[t]=n.clone(e[t]);else if("object"===a)for(t in o={},e)o[t]=n.clone(e[t]);return o},t?e.exports=n:window.merge=n}(e&&"object"==typeof e.exports&&e.exports)}).call(this,n(76)(e))},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(23))},function(e,t,n){"use strict";n(14),n(0),n(6),n(101);var r=n(1);n(2);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,r,s=u(f);function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,f);var r=l(t=s.call(this,e,{choices:[],name:"",placeholder:"",disabled:!1,required:!1},n));return r.state={value:null!=o(e.value)?e.value:"",error:null},t.onChange=e.onChange,t}return t=f,(n=[{key:"validate",value:function(e){var t=e.showErrors,n=!this.config.required||!!this.state.value,r="";return!n&&t&&(r=!0),this.setState({isValid:n,error:r}),n}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},t.setState(e,(function(){t.validate({})})),"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})}}])&&a(t.prototype,n),r&&a(t,r),f}(r.a);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,o=E(i);function i(){return h(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this;return React.createElement("input",{type:"hidden",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}})}}])&&v(t.prototype,n),r&&v(t,r),i}(p),T=n(57),I=n(83),b=n.n(I),O=n(84),R=n.n(O),w=n(85),S=n.n(w),D=n(86),A=n.n(D);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object(T.registerPlugin)(b.a,R.a,S.a,A.a);var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o=M(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e,{name:"image",allowMultiple:!1,imageserver:{process:"/image",fetch:"/image"}});var n=[],r=e.value||[];return Array.isArray(r)||(r=[r]),r.forEach((function(e){var t="object"==P(e)?e.src:e;n.push({source:{url:t},options:{type:"local",file:{name:t},metadata:{poster:t}}})})),t.state={uploadedFiles:n},t}return t=i,(n=[{key:"validate",value:function(){var e=!0;return this.imageuploader&&this.imageuploader.getFiles&&this.imageuploader.getFiles().forEach((function(t){t.serverId||(e=!1)})),e}},{key:"init",value:function(){}},{key:"updateUploadedFiles",value:function(e){e.addFile;var t=e.removeFile,n=e.next;if(this.imageuploader&&this.imageuploader.getFiles){var r=this.imageuploader.getFiles();t&&(r=r.filter((function(e){return e.serverId!=t.serverId}))),this.setState({uploadedFiles:r.map((function(e){return e.file}))},(function(){n&&n(r)}))}}},{key:"updateValue",value:function(e){var t=this,n=[],r=t.config.as&&"json"==t.config.as;e.forEach((function(e){try{var t="string"==typeof e.serverId?JSON.parse(e.serverId):e.serverId;n.push(r?{src:t.url}:t.url)}catch(e){console.log(e)}})),t.handleOnChange({name:t.config.name,value:n})}},{key:"render",value:function(){var e=this,t=this;return React.createElement(T.FilePond,{ref:function(t){return e.imageuploader=t},files:this.state.uploadedFiles,oninit:t.init,onprocessfile:function(e,n){return t.updateUploadedFiles({addFile:n,next:function(e){return t.updateValue(e)}})},onremovefile:function(e,n){return t.updateUploadedFiles({removeFile:n,next:function(e){return t.updateValue(e)}})},name:t.config.name,server:this.config.imageserver.process,allowMultiple:this.config.allowMultiple,acceptedFileTypes:["image/*"],allowFileSizeValidation:"true",allowReorder:!0,styleItemPanelAspectRatio:"1",maxFileSize:"8mb",maxFiles:"5",allowBrowse:"true",imageResizeTargetWidth:"80",imageResizeTargetHeight:"80",imageCropAspectRatio:"16:9",labelIdle:"Sleep afbeelding(en) naar deze plek of <span class='filepond--label-action'>KLIK HIER</span>",labelInvalidField:"Field contains invalid files",labelFileWaitingForSize:"Wachtend op grootte",labelFileSizeNotAvailable:"Grootte niet beschikbaar",labelFileCountSingular:"Bestand in lijst",labelFileCountPlural:"Bestanden in lijst",labelFileLoading:"Laden",labelFileAdded:"Toegevoegd",labelFileLoadError:"Fout bij het uploaden",labelFileRemoved:"Verwijderd",labelFileRemoveError:"Fout bij het verwijderen",labelFileProcessing:"Laden",labelFileProcessingComplete:"Afbeelding geladen",labelFileProcessingAborted:"Upload cancelled",labelFileProcessingError:"Error during upload",labelFileProcessingRevertError:"Error during revert",labelTapToCancel:"tap to cancel",labelTapToRetry:"tap to retry",labelTapToUndo:"tap to undo",labelButtonRemoveItem:"Verwijderen",labelButtonAbortItemLoad:"Abort",labelButtonRetryItemLoad:"Retry",labelButtonAbortItemProcessing:"Verwijder",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Retry",labelButtonProcessItem:"Upload"})}}])&&C(t.prototype,n),r&&C(t,r),i}(p);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(i,e);var t,n,r,o=U(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={value:t.props.value},t.onKeyUpx=t.onKeyUpx.bind(B(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(e,t){var n=this.props.value;n=this.filterHTML(n),this.input.innerHTML=n}},{key:"filterHTML",value:function(e){return e=(e=(e=e.replace(/<(\/?\s*(?:a [^>]+|a|b|i|strong|em|p|div|br|ul|li)\s*\/?)>/g,"[[[$1]]]")).replace(/<[^>]+>/g,"")).replace(/\[\[\[([^\]]+)\]\]\]/g,"<$1>")}},{key:"executeAction",value:function(e,t,n){e.preventDefault(),e.stopPropagation(),document.execCommand(t,!1,n),this.onKeyUp()}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e),this.props.onChange&&this.props.onChange({value:this.state.value})}},{key:"onKeyUpx",value:function(){var e=this.input.innerHTML;e=this.filterHTML(e),this.setState({value:e}),this.props.onKeyUp&&this.props.onKeyUp(e)}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"osc-html-editor"},React.createElement("div",{className:"osc-html-editor-buttons"},React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-bold",onMouseDown:function(t){return e.executeAction(t,"bold")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-italic",onMouseDown:function(t){return e.executeAction(t,"italic")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-insertunorderedlist",onMouseDown:function(t){return e.executeAction(t,"insertunorderedlist")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-createlink",onMouseDown:function(t){return e.executeAction(t,"createlink",prompt("Lank naar","http://"))}}," ")),React.createElement("div",{className:"osc-html-editor-content",contentEditable:!0,onFocus:function(t){return e.onFocus(t)},onBlur:function(t){return e.onBlur(t)},onKeyUp:function(t){return e.onKeyUpx()},ref:function(t){return e.input=t}}))}}])&&k(t.prototype,n),r&&k(t,r),i}(r.a);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(i,e);var t,n,r,o=X(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=Z(t=o.call(this,e,{name:"tekst",inputType:"input",minLength:5,maxLength:1024,placeholder:""}));return n.id=e.id||"osc-formfields-plaintext-with-counter-"+parseInt(1e6*Math.random()),n.state={focused:!1,value:e.value||"",valueLength:e.value&&e.value.length||0},n.key=e.useKey||(n.id||"osc-input-with-counter-")+parseInt(1e7*Math.random),t.onChange=e.onChange,n.handleOnChange=n.handleOnChange.bind(Z(t)),n.onInputFocus=n.onInputFocus.bind(Z(t)),n.onInputBlur=n.onInputBlur.bind(Z(t)),n.onInputKeyUp=n.onInputKeyUp.bind(Z(t)),t}return t=i,(n=[{key:"isValid",value:function(){var e={isValid:!0,warning:null};return this.state.valueLength<this.config.minLength&&(e.warning="De tekst is te kort",e.isValid=!1),this.state.valueLength>this.config.maxLength&&(e.warning="De tekst is te lang",e.isValid=!1),this.setState(e),e.isValid}},{key:"validate",value:function(){return this.setState({showWarning:!0}),this.isValid()}},{key:"handleOnChange",value:function(e){e=e||{},this.setState(e),"function"==typeof this.onChange&&this.onChange({name:this.config.name,value:e.value})}},{key:"onInputFocus",value:function(){var e={focused:!0,showWarning:!1};this.setState(e)}},{key:"onInputBlur",value:function(){var e={focused:!1};this.setState(e)}},{key:"onInputKeyUp",value:function(e){var t={};t.value=e||this.input.value;var n=t.value.length;t.valueLength=n,t.isValid=n>=this.config.minLength&&n<=this.config.maxLength,this.setState(t)}},{key:"render",value:function(){var e=this,t=this,n=null,r=null;if(t.state.focused)if(t.state.valueLength<t.config.minLength)n=React.createElement("div",{className:"osc-form-counter osc-form-error"},"Nog minimaal ",React.createElement("span",{className:""},t.config.minLength-t.state.valueLength)," tekens");else{var o=t.state.valueLength>t.config.maxLength?"osc-form-error":"";n=React.createElement("div",{className:"osc-form-counter "+o},"Je hebt nog ",React.createElement("span",{className:""},t.config.maxLength-t.state.valueLength)," tekens over.")}t.state.showWarning&&t.state.warning&&(r=React.createElement("div",{className:"osc-form-warning",ref:function(t){return e["form-warning"]=t}},t.state.warning));var i=null;switch(t.config.inputType){case"htmlarea":i=React.createElement(Y,{value:this.state.value,onChange:t.handleOnChange,onFocus:t.onInputFocus,onBlur:t.onInputBlur,onKeyUp:t.onInputKeyUp});break;case"textarea":i=React.createElement("textarea",{key:t.key,ref:function(e){return t.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(e){return t.handleOnChange({value:t.input.value})},onKeyUp:function(e){return t.onInputKeyUp()},onFocus:function(e){return t.onInputFocus(e)},onBlur:function(e){return t.onInputBlur(e)}});break;case"input":default:i=React.createElement("input",{key:t.key,ref:function(e){return t.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(e){return t.handleOnChange({value:t.input.value})},onKeyUp:function(e){return t.onInputKeyUp()},onFocus:function(e){return t.onInputFocus(e)},onBlur:function(e){return t.onInputBlur(e)}})}return React.createElement("div",{id:t.id,ref:function(e){return t.instance=e},className:"osc-input-with-counter"},React.createElement("div",{className:"osc-form-feedback"},i,n,r))}}])&&W(t.prototype,n),r&&W(t,r),i}(r.a);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(i,e);var t,n,r,o=re(i);function i(){return ee(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-radios"},e.config.choices.map((function(t){return t.dangerousDescription?React.createElement("div",{className:"osc-radio-container",key:t.value},React.createElement("div",{className:"osc-radio-input".concat(e.state.value==t.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:e.divId,value:t.value,onChange:function(n){return e.handleOnChange({value:t.value})}})),React.createElement("div",{className:"osc-radio-text",dangerouslySetInnerHTML:{__html:t.dangerousDescription}})):React.createElement("div",{className:"osc-radio-container",key:t.value},React.createElement("div",{className:"osc-radio-input".concat(e.state.value==t.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:e.divId,value:t.value,onChange:function(n){return e.handleOnChange({value:t.value})}})),React.createElement("div",{className:"osc-radio-text"},t.dangerousDescription?null:t.description||t.title||t.value))})),t)}}])&&te(t.prototype,n),r&&te(t,r),i}(p);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(i,e);var t,n,r,o=fe(i);function i(){return ue(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"validate",value:function(e){var t=e.showErrors,n=!0,r="";return this.state.value&&this.state.value.match(/^\s*\d{4}\s*[a-zA-Z][a-zA-Z]\s*$/)||(n=!1,t&&(r="Dit is geen postcode")),this.config.required&&!this.state.value&&(n=!1,t&&(r="Je hebt nog niets ingevuld")),this.setState({isValid:n,error:r}),n}},{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},e.state.error)),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}}),t)}}])&&se(t.prototype,n),r&&se(t,r),i}(p);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var o=Te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(i,e);var t,n,r,o=ye(i);function i(){return me(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.state.value||this.config.choices[0]&&this.config.choices[0].value;this.handleOnChange({value:e})}},{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-select"},React.createElement("select",{value:this.state.value||"",disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}},e.config.choices.map((function(e,t){var n=e.description||e.title||e.value;return React.createElement("option",{value:e.value||"",key:"".concat(n,"-").concat(e.value,"-").concat(t)},n)}))),t)}}])&&Ee(t.prototype,n),r&&Ee(t,r),i}(p);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ae(e);if(t){var o=Ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return De(this,n)}}function De(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(i,e);var t,n,r,o=Se(i);function i(){return Oe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}}),t)}}])&&Re(t.prototype,n),r&&Re(t,r),i}(p);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=je(e);if(t){var o=je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ge(this,n)}}function Ge(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(i,e);var t,n,r,o=xe(i);function i(){return Le(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textarea"},React.createElement("textarea",{value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}},this.state.value),t)}}])&&Me(t.prototype,n),r&&Me(t,r),i}(p);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return We(this,n)}}function We(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?ze(e):t}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(i,e);var t,n,r,o=He(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=ze(t=o.call(this,e,{inputType:null,validateAction:null,changeAction:null,required:!1,title:null,description:null,choices:[]}));return n.config.name=n.config.name||n.config.title.toLowerCase(),n.state={value:e.initValue||void 0},n.handleOnChange=n.handleOnChange.bind(n),n.onChange=e.onChange,t}return t=i,(n=[{key:"validate",value:function(e){var t=e.showErrors;return!this.input||this.input.validate({showErrors:t})}},{key:"handleOnChange",value:function(e){"function"==typeof this.onChange&&this.onChange(e)}},{key:"render",value:function(){var e=this,t=null;e.config.title&&(t=React.createElement("h3",{className:"osc-form-title"},e.config.title));var n=null;e.config.description&&(n=React.createElement("div",{className:"osc-form-description",dangerouslySetInnerHTML:{__html:e.config.description}}));var r=null;switch(e.config.inputType){case"hidden":r=React.createElement(_,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"html-with-counter":case"htmlarea-with-counter":r=React.createElement(J,{config:Ve(Ve({},e.config),{},{inputType:"htmlarea"}),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"image-upload":r=React.createElement(G,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"input-with-counter":case"text-with-counter":r=React.createElement(J,{config:Ve({inputType:"input"},e.config),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"postcode":r=React.createElement(he,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"radios":r=React.createElement(ae,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"select":case"multiple-choice":r=React.createElement(Ie,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"text":r=React.createElement(Pe,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"textarea":r=React.createElement(ke,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"textarea-with-counter":r=React.createElement(J,{config:Ve(Ve({},e.config),{},{inputType:"textarea"}),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;default:console.log("Form field "+e.config.inputType+"not yet implemented")}return React.createElement("div",{id:e.id,ref:function(t){return e.instance=t},className:"osc-form-field"},t,n,r)}}])&&qe(t.prototype,n),r&&qe(t,r),i}(r.a);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ot(e);if(t){var o=ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?rt(e):t}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(i,e);var t,n,r,o=tt(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=rt(t=o.call(this,e,{title:null,intro:null,fields:[]})),r=e.values;return!r&&n.config.fields&&n.config.fields.length&&(r={},n.config.fields.map((function(e,t){var n=e.name||e.title.toLowerCase();r[n]=e.value}))),n.state={values:r||{}},n.handleOnChange=n.handleOnChange.bind(rt(t)),n.fields=[],t}return t=i,(n=[{key:"getValues",value:function(){return this.state.values}},{key:"validate",value:function(e){var t=e.showErrors,n=e.scrollTo,r=!0,o=null;return this.fields.forEach((function(e){e.validate({showErrors:t})||(r=!1,o||(o=e))})),n&&o&&o.instance&&o.instance.scrollIntoView&&o.instance.scrollIntoView({behavior:"smooth"}),r}},{key:"handleOnChange",value:function(e){var t=this,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state.values);n[e.name]=e.value,this.setState({values:n},(function(){"function"==typeof t.props.onChange&&t.props.onChange(e)}))}},{key:"render",value:function(){var e=this,t=null;e.config.title&&(t=React.createElement("h2",{className:"osc-form-title"},e.config.title));var n=null;e.config.intro&&(n=React.createElement("div",{className:"osc-form-intro",dangerouslySetInnerHTML:{__html:e.config.intro}}));var r=null;return e.config.fields&&e.config.fields.length&&(r=React.createElement("div",{className:"osc-form-fields"},e.config.fields.map((function(t,n){return React.createElement(Qe,Je({config:t,initValue:t.value,onChange:e.handleOnChange,ref:function(t){return e.input=t},key:"osc-form-field-".concat(n)},"ref",(function(t){e.fields[n]=t})))})))),React.createElement("div",{id:e.divId,className:"osc-form",ref:function(t){return e.instance=t}},t,n,r)}}])&&$e(t.prototype,n),r&&$e(t,r),i}(r.a);function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pt(e);if(t){var o=pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(e,t){return!t||"object"!==at(t)&&"function"!=typeof t?ft(e):t}function ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(i,e);var t,n,r,o=st(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={value:t.props.value,touched:t.props.touched||!1},t.handleChange=t.handleChange.bind(ft(t)),t}return t=i,(n=[{key:"handleChange",value:function(e){var t=e.target.value;"function"==typeof this.props.onChange&&this.props.onChange(t),this.setState({value:t,touched:!0})}},{key:"doTouch",value:function(){"function"==typeof this.props.onChange&&this.props.onChange(50),this.setState({touched:!0})}},{key:"calcProgress",value:function(e,t,n){return 2*(n-e)/(t-e)-1}},{key:"render",value:function(){var e=this,t=e.state,n=t.value,r=t.touched,o=e.props,i=o.min,a=o.max,c=o.step;return React.createElement("div",{className:"".concat(e.props.className," osc-slider")},React.createElement("div",{className:"osc-slider-track-container"},React.createElement("div",{className:"osc-slider-track"}),React.createElement("div",{className:"osc-slider-track-progress-container"},React.createElement("div",{className:"osc-slider-track-progress",style:{transform:"scaleX("+e.calcProgress(i,a,n)+")"}})),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-left"}),React.createElement("div",{className:"osc-slider-track-dot-start osc-slider-track-dot-center"}),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-right"})),React.createElement("input",{type:"range",min:i,max:a,step:c,value:n,onClick:function(){r||e.doTouch()},onChange:e.handleChange,className:r?"osc-slider-input-range":"osc-slider-input-range osc-slider-untouched",ref:function(t){return e.input=t}}))}}])&&ct(t.prototype,n),r&&ct(t,r),i}(r.a);t.a={Form:it,FormField:Qe,Hidden:_,ImageUpload:G,InputWithCounter:J,Postcode:he,Radios:ae,Select:Ie,Text:Pe,Textarea:ke,Slider:dt}},function(e,t){e.exports=window.ReactDOM},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},,function(e,t,n){var r=n(10);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){e.exports=n(54).Promise},,function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";(function(e){var t="URLSearchParams"in self,n="Symbol"in self&&"iterator"in Symbol,r="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in self,i="ArrayBuffer"in self;if(i)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(t){if(t.bodyUsed)return e.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new e((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function h(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var n;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&r&&((n=e)&&DataView.prototype.isPrototypeOf(n))?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return e.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return e.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return e.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||e.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t,n,r,o=p(this);if(o)return o;if(this._bodyBlob)return t=this._bodyBlob,n=new FileReader,r=d(n),n.readAsText(t),r;if(this._bodyArrayBuffer)return e.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return e.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=s(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=s(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var n,r,o=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),E.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function y(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var T=[301,302,303,307,308];_.redirect=function(e,t){if(-1===T.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})};var I=self.DOMException;try{new I}catch(e){(I=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),I.prototype.constructor=I}function b(t,n){return new e((function(e,o){var i=new g(t,n);if(i.signal&&i.signal.aborted)return o(new I("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,n,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",n=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var t=e.split(":"),r=t.shift().trim();if(r){var o=t.join(":").trim();n.append(r,o)}})),n)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;e(new _(o,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new I("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",c)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}b.polyfill=!0,self.fetch||(self.fetch=b,self.Headers=f,self.Request=g,self.Response=_)}).call(this,n(11))},function(e,t,n){var r=n(9),o=n(16),i=n(28);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(9),o=n(30),i=n(17),a=n(29),c=Object.defineProperty;t.f=r?c:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},,function(e,t,n){var r=n(48),o=n(50);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(4),o=n(15);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,,,function(e,t,n){var r=n(9),o=n(58),i=n(28),a=n(19),c=n(29),u=n(7),s=n(30),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=c(t,!0),s)try{return l(e,t)}catch(e){}if(u(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(9),o=n(10),i=n(31);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(4),o=n(13),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(33),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(4),o=n(20),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},function(e,t,n){var r=n(35),o=n(36),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,n){var r=n(62),o=n(33);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(65),o=n(4),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},function(e,t,n){var r=n(7),o=n(19),i=n(39).indexOf,a=n(21);e.exports=function(e,t){var n,c=o(e),u=0,s=[];for(n in c)!r(a,n)&&r(c,n)&&s.push(n);for(;t.length>u;)r(c,n=t[u++])&&(~i(s,n)||s.push(n));return s}},function(e,t,n){var r=n(19),o=n(51),i=n(67),a=function(e){return function(t,n,a){var c,u=r(t),s=o(u.length),l=i(a,s);if(e&&n!=n){for(;s>l;)if((c=u[l++])!=c)return!0}else for(;s>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(10);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},,function(e,t,n){var r=n(4),o=n(27).f,i=n(15),a=n(59),c=n(20),u=n(63),s=n(69);e.exports=function(e,t){var n,l,f,p,d,h=e.target,v=e.global,m=e.stat;if(n=v?r:m?r[h]||c(h,{}):(r[h]||{}).prototype)for(l in t){if(p=t[l],f=e.noTargetGet?(d=o(n,l))&&d.value:n[l],!s(v?l:h+(m?".":"#")+l,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),a(n,l,p,e)}}},function(e,t,n){var r=n(53),o=n(72),i=n(16),a=r("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:o(null)}),e.exports=function(e){c[a][e]=!0}},function(e,t,n){var r=n(9),o=n(10),i=n(7),a=Object.defineProperty,c={},u=function(e){throw e};e.exports=function(e,t){if(i(c,e))return c[e];t||(t={});var n=[][e],s=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:u,f=i(t,1)?t[1]:void 0;return c[e]=!!n&&!o((function(){if(s&&!r)return!0;var e={length:-1};s?a(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,l,f)}))}},function(e,t,n){var r=n(4),o=n(52),i=Function.call;e.exports=function(e,t,n){return o(i,r[e].prototype[t],n)}},,function(e,t,n){var r=n(10),o=n(49),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(40),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(70);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(4),o=n(35),i=n(7),a=n(36),c=n(41),u=n(71),s=o("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){return i(s,e)||(c&&i(l,e)?s[e]=l[e]:s[e]=f("Symbol."+e)),s[e]}},function(e,t,n){(function(t,r){var o;o=function(){"use strict";function e(e){return"function"==typeof e}var o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,a=void 0,c=void 0,u=function(e,t){v[i]=e,v[i+1]=t,2===(i+=2)&&(c?c(m):T())},s="undefined"!=typeof window?window:void 0,l=s||{},f=l.MutationObserver||l.WebKitMutationObserver,p="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(m,1)}}var v=new Array(1e3);function m(){for(var e=0;e<i;e+=2)(0,v[e])(v[e+1]),v[e]=void 0,v[e+1]=void 0;i=0}var E,g,y,_,T=void 0;function I(e,t){var n=arguments,r=this,o=new this.constructor(R);void 0===o[O]&&U(o);var i,a=r._state;return a?(i=n[a-1],u((function(){return k(a,o,i,r._result)}))):N(r,o,e,t),o}function b(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(R);return P(t,e),t}p?T=function(){return t.nextTick(m)}:f?(g=0,y=new f(m),_=document.createTextNode(""),y.observe(_,{characterData:!0}),T=function(){_.data=g=++g%2}):d?((E=new MessageChannel).port1.onmessage=m,T=function(){return E.port2.postMessage(0)}):T=void 0===s?function(){try{var e=n(56);return a=e.runOnLoop||e.runOnContext,function(){a(m)}}catch(e){return h()}}():h();var O=Math.random().toString(36).substring(16);function R(){}var w=void 0,S=new G;function D(e){try{return e.then}catch(e){return S.error=e,S}}function A(t,n,r){n.constructor===t.constructor&&r===I&&n.constructor.resolve===b?function(e,t){1===t._state?L(e,t._result):2===t._state?M(e,t._result):N(t,void 0,(function(t){return P(e,t)}),(function(t){return M(e,t)}))}(t,n):r===S?M(t,S.error):void 0===r?L(t,n):e(r)?function(e,t,n){u((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?P(e,n):L(e,n))}),(function(t){r||(r=!0,M(e,t))}),e._label);!r&&o&&(r=!0,M(e,o))}),e)}(t,n,r):L(t,n)}function P(e,t){var n;e===t?M(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(n=t)||"object"==typeof n&&null!==n?A(e,t,D(t)):L(e,t)}function C(e){e._onerror&&e._onerror(e._result),x(e)}function L(e,t){e._state===w&&(e._result=t,e._state=1,0!==e._subscribers.length&&u(x,e))}function M(e,t){e._state===w&&(e._state=2,e._result=t,u(C,e))}function N(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=n,o[i+2]=r,0===i&&e._state&&u(x,e)}function x(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?k(n,r,o,i):o(i);e._subscribers.length=0}}function G(){this.error=null}var j=new G;function k(t,n,r,o){var i=e(r),a=void 0,c=void 0,u=void 0,s=void 0;if(i){if((a=function(e,t){try{return e(t)}catch(e){return j.error=e,j}}(r,o))===j?(s=!0,c=a.error,a=null):u=!0,n===a)return void M(n,new TypeError("A promises callback cannot return that same promise."))}else a=o,u=!0;n._state!==w||(i&&u?P(n,a):s?M(n,c):1===t?L(n,a):2===t&&M(n,a))}var F=0;function U(e){e[O]=F++,e._state=void 0,e._result=void 0,e._subscribers=[]}function V(e,t){this._instanceConstructor=e,this.promise=new e(R),this.promise[O]||U(this.promise),o(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&L(this.promise,this._result))):M(this.promise,new Error("Array Methods must be provided an Array"))}function B(e){this[O]=F++,this._result=this._state=void 0,this._subscribers=[],R!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof B?function(e,t){try{t((function(t){P(e,t)}),(function(t){M(e,t)}))}catch(t){M(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function q(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=B}return V.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===w&&n<e;n++)this._eachEntry(t[n],n)},V.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===b){var o=D(e);if(o===I&&e._state!==w)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===B){var i=new n(R);A(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},V.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===w&&(this._remaining--,2===e?M(r,n):this._result[t]=n),0===this._remaining&&L(r,this._result)},V.prototype._willSettleAt=function(e,t){var n=this;N(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},B.all=function(e){return new V(this,e).promise},B.race=function(e){var t=this;return o(e)?new t((function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},B.resolve=b,B.reject=function(e){var t=new this(R);return M(t,e),t},B._setScheduler=function(e){c=e},B._setAsap=function(e){u=e},B._asap=u,B.prototype={constructor:B,then:I,catch:function(e){return this.then(null,e)}},q(),B.polyfill=q,B.Promise=B,B},e.exports=o()}).call(this,n(55),n(23))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,s=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&d())}function d(){if(!l){var e=c(p);l=!0;for(var t=s.length;t;){for(u=s,s=[];++f<t;)u&&u[f].run();f=-1,t=s.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||l||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilePond=t.FileStatus=t.registerPlugin=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r},c=n(102);t.registerPlugin=c.registerPlugin,t.FileStatus=c.FileStatus;var u=(0,c.supported)(),s=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"];t.FilePond=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.allowFilesSync=!0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this;if(u){var t=Object.assign({},this.props);if(t.onupdatefiles){var n=t.onupdatefiles;t.onupdatefiles=function(t){e.allowFilesSync=!1,n(t)}}this._pond=(0,c.create)(this._element,t),Object.keys(this._pond).filter((function(e){return!s.includes(e)})).forEach((function(t){e[t]=e._pond[t]}))}}},{key:"componentWillUnmount",value:function(){this._pond&&(this._pond.destroy(),this.allowFilesSync=!0)}},{key:"shouldComponentUpdate",value:function(){return!!this.allowFilesSync||(this.allowFilesSync=!0,!1)}},{key:"componentDidUpdate",value:function(){if(this._pond){var e=Object.assign({},this.props);delete e.onupdatefiles,this._pond.setOptions(e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.name,o=t.className,a=t.allowMultiple,c=t.required,u=t.captureMethod,s=t.acceptedFileTypes;return(0,i.createElement)("div",{className:"filepond--wrapper"},(0,i.createElement)("input",{type:"file",name:r,id:n,accept:s,multiple:a,required:c,className:o,capture:u,ref:function(t){return e._element=t}}))}}]),t}(a.default.Component)},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(4),o=n(15),i=n(7),a=n(20),c=n(32),u=n(60),s=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,n,c){var u=!!c&&!!c.unsafe,s=!!c&&!!c.enumerable,p=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e!==r?(u?!p&&e[t]&&(s=!0):delete e[t],s?e[t]=n:o(e,t,n)):s?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||c(this)}))},function(e,t,n){var r,o,i,a=n(61),c=n(4),u=n(13),s=n(15),l=n(7),f=n(34),p=n(21),d=c.WeakMap;if(a){var h=new d,v=h.get,m=h.has,E=h.set;r=function(e,t){return E.call(h,e,t),t},o=function(e){return v.call(h,e)||{}},i=function(e){return m.call(h,e)}}else{var g=f("state");p[g]=!0,r=function(e,t){return s(e,g,t),t},o=function(e){return l(e,g)?e[g]:{}},i=function(e){return l(e,g)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(4),o=n(32),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t){e.exports=!1},function(e,t,n){var r=n(7),o=n(64),i=n(27),a=n(16);e.exports=function(e,t){for(var n=o(t),c=a.f,u=i.f,s=0;s<n.length;s++){var l=n[s];r(e,l)||c(e,l,u(t,l))}}},function(e,t,n){var r=n(37),o=n(66),i=n(68),a=n(17);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(4);e.exports=r},function(e,t,n){var r=n(38),o=n(22).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(40),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(10),o=/#|\.prototype\./,i=function(e,t){var n=c[a(e)];return n==s||n!=u&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",s=i.POLYFILL="P";e.exports=i},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(41);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r,o=n(17),i=n(73),a=n(22),c=n(21),u=n(75),s=n(31),l=n(34),f=l("IE_PROTO"),p=function(){},d=function(e){return"<script>"+e+"</"+"script>"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=r?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=s("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};c[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p.prototype=o(e),n=new p,p.prototype=null,n[f]=e):n=h(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(9),o=n(16),i=n(17),a=n(74);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),c=r.length,u=0;c>u;)o.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(38),o=n(22);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(37);e.exports=r("document","documentElement")},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){n(78);var r=n(46);e.exports=r("Array","includes")},function(e,t,n){"use strict";var r=n(43),o=n(39).includes,i=n(44);r({target:"Array",proto:!0,forced:!n(45)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},,,,,function(e,t,n){(function(t){e.exports=function(){"use strict";var e=function(e){return/^image/.test(e.type)};function n(e){this.wrapped=e}function r(e){var r,o;function i(e,n){return new t((function(t,i){var c={key:e,arg:n,resolve:t,reject:i,next:null};o?o=o.next=c:(r=o=c,a(e,n))}))}function a(r,o){try{var i=e[r](o),u=i.value,s=u instanceof n;t.resolve(s?u.wrapped:u).then((function(e){s?a("next",e):c(i.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(e){c("throw",e)}}function c(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?a(r.key,r.arg):o=null}this._invoke=i,"function"!=typeof e.return&&(this.return=void 0)}function o(e,t){return i(e)||a(e,t)||c()}function i(e){if(Array.isArray(e))return e}function a(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(e){return this._invoke("next",e)},r.prototype.throw=function(e){return this._invoke("throw",e)},r.prototype.return=function(e){return this._invoke("return",e)};var u=function(e,t){return p(e.x*t,e.y*t)},s=function(e,t){return p(e.x+t.x,e.y+t.y)},l=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?{x:0,y:0}:p(e.x/t,e.y/t)},f=function(e,t,n){var r=Math.cos(t),o=Math.sin(t),i=p(e.x-n.x,e.y-n.y);return p(n.x+r*i.x-o*i.y,n.y+o*i.x+r*i.y)},p=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;return"string"==typeof e?parseFloat(e)*n:"number"==typeof e?e*(r?t[r]:Math.min(t.width,t.height)):void 0},h=function(e,t,n){var r=e.borderStyle||e.lineStyle||"solid",o=e.backgroundColor||e.fontColor||"transparent",i=e.borderColor||e.lineColor||"transparent",a=d(e.borderWidth||e.lineWidth,t,n);return{"stroke-linecap":e.lineCap||"round","stroke-linejoin":e.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof r?"":r.map((function(e){return d(e,t,n)})).join(","),stroke:i,fill:o,opacity:e.opacity||1}},v=function(e){return null!=e},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=d(e.x,t,n,"width")||d(e.left,t,n,"width"),o=d(e.y,t,n,"height")||d(e.top,t,n,"height"),i=d(e.width,t,n,"width"),a=d(e.height,t,n,"height"),c=d(e.right,t,n,"width"),u=d(e.bottom,t,n,"height");return v(o)||(o=v(a)&&v(u)?t.height-a-u:u),v(r)||(r=v(i)&&v(c)?t.width-i-c:c),v(i)||(i=v(r)&&v(c)?t.width-r-c:0),v(a)||(a=v(o)&&v(u)?t.height-o-u:0),{x:r||0,y:o||0,width:i||0,height:a||0}},E=function(e){return e.map((function(e,t){return"".concat(0===t?"M":"L"," ").concat(e.x," ").concat(e.y)})).join(" ")},g=function(e,t){return Object.keys(t).forEach((function(n){return e.setAttribute(n,t[n])}))},y="http://www.w3.org/2000/svg",_=function(e,t){var n=document.createElementNS(y,e);return t&&g(n,t),n},T=function(e){return g(e,Object.assign({},e.rect,e.styles))},I=function(e){var t=e.rect.x+.5*e.rect.width,n=e.rect.y+.5*e.rect.height,r=.5*e.rect.width,o=.5*e.rect.height;return g(e,Object.assign({cx:t,cy:n,rx:r,ry:o},e.styles))},b={contain:"xMidYMid meet",cover:"xMidYMid slice"},O=function(e,t){g(e,Object.assign({},e.rect,e.styles,{preserveAspectRatio:b[t.fit]||"none"}))},R={left:"start",center:"middle",right:"end"},w=function(e,t,n,r){var o=d(t.fontSize,n,r),i=t.fontFamily||"sans-serif",a=t.fontWeight||"normal",c=R[t.textAlign]||"start";g(e,Object.assign({},e.rect,e.styles,{"stroke-width":0,"font-weight":a,"font-size":o,"font-family":i,"text-anchor":c})),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},S=function(e,t,n,r){g(e,Object.assign({},e.rect,e.styles,{fill:"none"}));var o=e.childNodes[0],i=e.childNodes[1],a=e.childNodes[2],c=e.rect,p={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(g(o,{x1:c.x,y1:c.y,x2:p.x,y2:p.y}),t.lineDecoration){i.style.display="none",a.style.display="none";var h=l({x:p.x-c.x,y:p.y-c.y}),v=d(.05,n,r);if(-1!==t.lineDecoration.indexOf("arrow-begin")){var m=u(h,v),E=s(c,m),y=f(c,2,E),_=f(c,-2,E);g(i,{style:"display:block;",d:"M".concat(y.x,",").concat(y.y," L").concat(c.x,",").concat(c.y," L").concat(_.x,",").concat(_.y)})}if(-1!==t.lineDecoration.indexOf("arrow-end")){var T=u(h,-v),I=s(p,T),b=f(p,2,I),O=f(p,-2,I);g(a,{style:"display:block;",d:"M".concat(b.x,",").concat(b.y," L").concat(p.x,",").concat(p.y," L").concat(O.x,",").concat(O.y)})}}},D=function(e,t,n,r){g(e,Object.assign({},e.styles,{fill:"none",d:E(t.points.map((function(e){return{x:d(e.x,n,r,"width"),y:d(e.y,n,r,"height")}})))}))},A=function(e){return function(t){return _(e,{id:t.id})}},P=function(e){var t=_("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=_("line");t.appendChild(n);var r=_("path");t.appendChild(r);var o=_("path");return t.appendChild(o),t},C={image:function(e){var t=_("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=function(){t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},rect:A("rect"),ellipse:A("ellipse"),text:A("text"),path:A("path"),line:P},L={rect:T,ellipse:I,image:O,text:w,path:D,line:S},M=function(e,t){return C[e](t)},N=function(e,t,n,r,o){"path"!==t&&(e.rect=m(n,r,o)),e.styles=h(n,r,o),L[t](e,n,r,o)},x=["x","y","left","top","right","bottom","width","height"],G=function(e){return"string"==typeof e&&/%/.test(e)?parseFloat(e)/100:e},j=function(e){var t=o(e,2),n=t[0],r=t[1],i=r.points?{}:x.reduce((function(e,t){return e[t]=G(r[t]),e}),{});return[n,Object.assign({zIndex:0},r,i)]},k=function(e,t){return e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0},F=function(e){return e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(e){var t=e.root,n=e.props;if(n.dirty){var r=n.crop,i=n.resize,a=n.markup,c=n.width,u=n.height,s=r.width,l=r.height;if(i){var f=i.size,p=f&&f.width,d=f&&f.height,h=i.mode,v=i.upscale;p&&!d&&(d=p),d&&!p&&(p=d);var m=s<p&&l<d;if(!m||m&&v){var E,g=p/s,y=d/l;"force"===h?(s=p,l=d):("cover"===h?E=Math.max(g,y):"contain"===h&&(E=Math.min(g,y)),s*=E,l*=E)}}var _={width:c,height:u};t.element.setAttribute("width",_.width),t.element.setAttribute("height",_.height);var T=Math.min(c/s,u/l);t.element.innerHTML="";var I=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");a.filter(I).map(j).sort(k).forEach((function(e){var n=o(e,2),r=n[0],i=n[1],a=M(r,i);N(a,r,i,_,T),t.element.appendChild(a)}))}}})},U=function(e,t){return{x:e,y:t}},V=function(e,t){return e.x*t.x+e.y*t.y},B=function(e,t){return U(e.x-t.x,e.y-t.y)},q=function(e,t){return V(B(e,t),B(e,t))},Y=function(e,t){return Math.sqrt(q(e,t))},H=function(e,t){var n=e,r=1.5707963267948966,o=t,i=1.5707963267948966-t,a=Math.sin(r),c=Math.sin(o),u=Math.sin(i),s=Math.cos(i),l=n/a;return U(s*(l*c),s*(l*u))},W=function(e,t){var n=e.width,r=e.height,o=H(n,t),i=H(r,t),a=U(e.x+Math.abs(o.x),e.y-Math.abs(o.y)),c=U(e.x+e.width+Math.abs(i.y),e.y+Math.abs(i.x)),u=U(e.x-Math.abs(i.y),e.y+e.height-Math.abs(i.x));return{width:Y(a,c),height:Y(a,u)}},z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.height/e.width,o=1,i=t,a=1,c=r;c>i&&(a=(c=i)/r);var u=Math.max(o/a,i/c),s=e.width/(n*u*a);return{width:s,height:s*t}},X=function(e,t,n,r){var o=r.x>.5?1-r.x:r.x,i=r.y>.5?1-r.y:r.y,a=2*o*e.width,c=2*i*e.height,u=W(t,n);return Math.max(u.width/a,u.height/c)},Q=function(e,t){var n=e.width,r=n*t;return r>e.height&&(n=(r=e.height)/t),{x:.5*(e.width-n),y:.5*(e.height-r),width:n,height:r}},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.zoom,r=t.rotation,o=t.center,i=t.aspectRatio;i||(i=e.height/e.width);var a=z(e,i,n),c={x:.5*a.width,y:.5*a.height},u={x:0,y:0,width:a.width,height:a.height,center:c},s=void 0===t.scaleToFit||t.scaleToFit,l=n*X(e,Q(u,i),r,s?o:{x:.5,y:.5});return{widthFloat:a.width/l,heightFloat:a.height/l,width:Math.round(a.width/l),height:Math.round(a.height/l)}},K={type:"spring",stiffness:.5,damping:.45,mass:10},J=function(e){return e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(e){var t=e.root,n=e.props;t.appendChild(n.image)}})},$=function(e){return e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:K,originY:K,scaleX:K,scaleY:K,translateX:K,translateY:K,rotateZ:K}},create:function(t){var n=t.root,r=t.props;r.width=r.image.width,r.height=r.image.height,n.ref.bitmap=n.appendChildView(n.createChildView(J(e),{image:r.image}))},write:function(e){var t=e.root,n=e.props.crop.flip,r=t.ref.bitmap;r.scaleX=n.horizontal?-1:1,r.scaleY=n.vertical?-1:1}})},ee=function(e){return e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(e){var t=e.root,n=e.props;n.background&&(t.element.style.backgroundColor=n.background)},create:function(t){var n=t.root,r=t.props;n.ref.image=n.appendChildView(n.createChildView($(e),Object.assign({},r))),n.ref.createMarkup=function(){n.ref.markup||(n.ref.markup=n.appendChildView(n.createChildView(F(e),Object.assign({},r))))},n.ref.destroyMarkup=function(){n.ref.markup&&(n.removeChildView(n.ref.markup),n.ref.markup=null)};var o=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==o&&(n.element.dataset.transparencyIndicator="grid"===o?o:"color")},write:function(e){var t=e.root,n=e.props,r=e.shouldOptimize,o=n.crop,i=n.markup,a=n.resize,c=n.dirty,u=n.width,s=n.height;t.ref.image.crop=o;var l={x:0,y:0,width:u,height:s,center:{x:.5*u,y:.5*s}},f={width:t.ref.image.width,height:t.ref.image.height},p={x:o.center.x*f.width,y:o.center.y*f.height},d={x:l.center.x-f.width*o.center.x,y:l.center.y-f.height*o.center.y},h=2*Math.PI+o.rotation%(2*Math.PI),v=o.aspectRatio||f.height/f.width,m=void 0===o.scaleToFit||o.scaleToFit,E=X(f,Q(l,v),h,m?o.center:{x:.5,y:.5}),g=o.zoom*E;i&&i.length?(t.ref.createMarkup(),t.ref.markup.width=u,t.ref.markup.height=s,t.ref.markup.resize=a,t.ref.markup.dirty=c,t.ref.markup.markup=i,t.ref.markup.crop=Z(f,o)):t.ref.markup&&t.ref.destroyMarkup();var y=t.ref.image;if(r)return y.originX=null,y.originY=null,y.translateX=null,y.translateY=null,y.rotateZ=null,y.scaleX=null,void(y.scaleY=null);y.originX=p.x,y.originY=p.y,y.translateX=d.x,y.translateY=d.y,y.rotateZ=h,y.scaleX=g,y.scaleY=g}})},te=function(e){return e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:K,scaleY:K,translateY:K,opacity:{type:"tween",duration:400}}},create:function(t){var n=t.root,r=t.props;n.ref.clip=n.appendChildView(n.createChildView(ee(e),{id:r.id,image:r.image,crop:r.crop,markup:r.markup,resize:r.resize,dirty:r.dirty,background:r.background}))},write:function(e){var t=e.root,n=e.props,r=e.shouldOptimize,o=t.ref.clip,i=n.image,a=n.crop,c=n.markup,u=n.resize,s=n.dirty;if(o.crop=a,o.markup=c,o.resize=u,o.dirty=s,o.opacity=r?0:1,!r&&!t.rect.element.hidden){var l=i.height/i.width,f=a.aspectRatio||l,p=t.rect.inner.width,d=t.rect.inner.height,h=t.query("GET_IMAGE_PREVIEW_HEIGHT"),v=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),m=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),E=t.query("GET_PANEL_ASPECT_RATIO"),g=t.query("GET_ALLOW_MULTIPLE");E&&!g&&(h=p*E,f=E);var y=null!==h?h:Math.max(v,Math.min(p*f,m)),_=y/f;_>p&&(y=(_=p)*f),y>d&&(y=d,_=d/f),o.width=_,o.height=y}}})},ne='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',re=!1,oe=0,ie=function(e){return e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(e){var t=e.root,n=e.props;!re&&document.querySelector("base")&&(ne=ne.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#"),re=!0),oe++,t.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),t.element.innerHTML=ne.replace(/__UID__/g,oe)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},ae=function(){self.onmessage=function(e){createImageBitmap(e.data.message.file).then((function(t){self.postMessage({id:e.data.id,message:t},[t])}))}},ce=function(){self.onmessage=function(e){for(var t=e.data.message.imageData,n=e.data.message.colorMatrix,r=t.data,o=r.length,i=n[0],a=n[1],c=n[2],u=n[3],s=n[4],l=n[5],f=n[6],p=n[7],d=n[8],h=n[9],v=n[10],m=n[11],E=n[12],g=n[13],y=n[14],_=n[15],T=n[16],I=n[17],b=n[18],O=n[19],R=0,w=0,S=0,D=0,A=0;R<o;R+=4)w=r[R]/255,S=r[R+1]/255,D=r[R+2]/255,A=r[R+3]/255,r[R]=Math.max(0,Math.min(255*(w*i+S*a+D*c+A*u+s),255)),r[R+1]=Math.max(0,Math.min(255*(w*l+S*f+D*p+A*d+h),255)),r[R+2]=Math.max(0,Math.min(255*(w*v+S*m+D*E+A*g+y),255)),r[R+3]=Math.max(0,Math.min(255*(w*_+S*T+D*I+A*b+O),255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},ue=function(e,t){var n=new Image;n.onload=function(){var e=n.naturalWidth,r=n.naturalHeight;n=null,t(e,r)},n.src=e},se={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,t){return[-1,0,0,-1,e,t]},4:function(e,t){return[1,0,0,-1,0,t]},5:function(){return[0,1,1,0,0,0]},6:function(e,t){return[0,1,-1,0,t,0]},7:function(e,t){return[0,-1,-1,0,t,e]},8:function(e){return[0,-1,1,0,0,e]}},le=function(e,t,n,r){-1!==r&&e.transform.apply(e,se[r](t,n))},fe=function(e,t,n,r){t=Math.round(t),n=Math.round(n);var o=document.createElement("canvas");o.width=t,o.height=n;var i=o.getContext("2d");if(r>=5&&r<=8){var a=[n,t];t=a[0],n=a[1]}return le(i,t,n,r),i.drawImage(e,0,0,t,n),o},pe=function(e){return/^image/.test(e.type)&&!/svg/.test(e.type)},de=10,he=10,ve=function(e){var t=Math.min(de/e.width,he/e.height),n=document.createElement("canvas"),r=n.getContext("2d"),o=n.width=Math.ceil(e.width*t),i=n.height=Math.ceil(e.height*t);r.drawImage(e,0,0,o,i);var a=null;try{a=r.getImageData(0,0,o,i).data}catch(e){return null}for(var c=a.length,u=0,s=0,l=0,f=0;f<c;f+=4)u+=a[f]*a[f],s+=a[f+1]*a[f+1],l+=a[f+2]*a[f+2];return{r:u=me(u,c),g:s=me(s,c),b:l=me(l,c)}},me=function(e,t){return Math.floor(Math.sqrt(e/(t/4)))},Ee=function(e,t){return(t=t||document.createElement("canvas")).width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},ge=function(e){var t;try{t=new ImageData(e.width,e.height)}catch(n){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},ye=function(e){return new t((function(t,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.src=e}))},_e=function(e){var n=ie(e),r=te(e),o=e.utils.createWorker,i=function(e,n,r){return new t((function(t){e.ref.imageData||(e.ref.imageData=r.getContext("2d").getImageData(0,0,r.width,r.height));var i=ge(e.ref.imageData);if(!n||20!==n.length)return r.getContext("2d").putImageData(i,0,0),t();var a=o(ce);a.post({imageData:i,colorMatrix:n},(function(e){r.getContext("2d").putImageData(e,0,0),a.terminate(),t()}),[i.data.buffer])}))},a=function(e,t){e.removeChildView(t),t.image.width=1,t.image.height=1,t._destroy()},c=function(e){var t=e.root,n=t.ref.images.shift();return n.opacity=0,n.translateY=-15,t.ref.imageViewBin.push(n),n},u=function(e){var t=e.root,n=e.props,o=e.image,i=n.id,a=t.query("GET_ITEM",{id:i});if(a){var c,u,s=a.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},l=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),f=!1;t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(c=a.getMetadata("markup")||[],u=a.getMetadata("resize"),f=!0);var p=t.appendChildView(t.createChildView(r,{id:i,image:o,crop:s,resize:u,markup:c,dirty:f,background:l,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),t.childViews.length);t.ref.images.push(p),p.opacity=1,p.scaleX=1,p.scaleY=1,p.translateY=0,setTimeout((function(){t.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:i})}),250)}},s=function(e){var t=e.root,n=e.props,r=t.query("GET_ITEM",{id:n.id});if(r){var o=t.ref.images[t.ref.images.length-1];o.crop=r.getMetadata("crop"),o.background=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(o.dirty=!0,o.resize=r.getMetadata("resize"),o.markup=r.getMetadata("markup"))}},l=function(e){var t=e.root,n=e.props,r=e.action;if(/crop|filter|markup|resize/.test(r.change.key)&&t.ref.images.length){var o=t.query("GET_ITEM",{id:n.id});if(o)if(/filter/.test(r.change.key)){var a=t.ref.images[t.ref.images.length-1];i(t,r.change.value,a.image)}else if(/crop|markup|resize/.test(r.change.key)){var l=o.getMetadata("crop"),f=t.ref.images[t.ref.images.length-1];if(Math.abs(l.aspectRatio-f.crop.aspectRatio)>1e-5){var p=c({root:t});u({root:t,props:n,image:Ee(p.image)})}else s({root:t,props:n})}}},f=function(e){var t=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return!((t?parseInt(t[1]):null)<=58)&&"createImageBitmap"in window&&pe(e)},p=function(e){var t=e.root,n=e.props.id,r=t.query("GET_ITEM",n);if(r){var o=URL.createObjectURL(r.file);ue(o,(function(e,r){t.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:n,width:e,height:r})}))}},d=function(e){var t=e.root,n=e.props,r=n.id,a=t.query("GET_ITEM",r);if(a){var c=URL.createObjectURL(a.file),s=function(){ye(c).then(l)},l=function(e){URL.revokeObjectURL(c);var r=(a.getMetadata("exif")||{}).orientation||-1,o=e.width,s=e.height;if(o&&s){if(r>=5&&r<=8){var l=[s,o];o=l[0],s=l[1]}var f=Math.max(1,.75*window.devicePixelRatio),p=t.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*f,d=s/o,h=t.rect.element.width,v=t.rect.element.height,m=h,E=m*d;d>1?E=(m=Math.min(o,h*p))*d:m=(E=Math.min(s,v*p))/d;var g=fe(e,m,E,r),y=function(){var r=t.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?ve(data):null;a.setMetadata("color",r,!0),"close"in e&&e.close(),t.ref.overlayShadow.opacity=1,u({root:t,props:n,image:g})},_=a.getMetadata("filter");_?i(t,_,g).then(y):y()}};if(f(a.file)){var p=o(ae);p.post({file:a.file},(function(e){p.terminate(),e?l(e):s()}))}else s()}},h=function(e){var t=e.root,n=t.ref.images[t.ref.images.length-1];n.translateY=0,n.scaleX=1,n.scaleY=1,n.opacity=1},v=function(e){var t=e.root;t.ref.overlayShadow.opacity=1,t.ref.overlayError.opacity=0,t.ref.overlaySuccess.opacity=0},m=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlayError.opacity=1},E=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlaySuccess.opacity=1},g=function(e){var t=e.root;t.ref.images=[],t.ref.imageData=null,t.ref.imageViewBin=[],t.ref.overlayShadow=t.appendChildView(t.createChildView(n,{opacity:0,status:"idle"})),t.ref.overlaySuccess=t.appendChildView(t.createChildView(n,{opacity:0,status:"success"})),t.ref.overlayError=t.appendChildView(t.createChildView(n,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:g,styles:["height"],apis:["height"],destroy:function(e){e.root.ref.images.forEach((function(e){e.image.width=1,e.image.height=1}))},didWriteView:function(e){e.root.ref.images.forEach((function(e){e.dirty=!1}))},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:h,DID_IMAGE_PREVIEW_CONTAINER_CREATE:p,DID_FINISH_CALCULATE_PREVIEWSIZE:d,DID_UPDATE_ITEM_METADATA:l,DID_THROW_ITEM_LOAD_ERROR:m,DID_THROW_ITEM_PROCESSING_ERROR:m,DID_THROW_ITEM_INVALID:m,DID_COMPLETE_ITEM_PROCESSING:E,DID_START_ITEM_PROCESSING:v,DID_REVERT_ITEM_PROCESSING:v},(function(e){var t=e.root,n=t.ref.imageViewBin.filter((function(e){return 0===e.opacity}));t.ref.imageViewBin=t.ref.imageViewBin.filter((function(e){return e.opacity>0})),n.forEach((function(e){return a(t,e)})),n.length=0}))})},Te=function(t){var n=t.addFilter,r=t.utils,o=r.Type,i=r.createRoute,a=r.isFile,c=_e(t);return n("CREATE_VIEW",(function(t){var n=t.is,r=t.view,o=t.query;if(n("file")&&o("GET_ALLOW_IMAGE_PREVIEW")){var u=function(t){var n=t.root,i=t.props.id,u=o("GET_ITEM",i);if(u&&a(u.file)&&!u.archived){var s=u.file;if(e(s)&&o("GET_IMAGE_PREVIEW_FILTER_ITEM")(u)){var l="createImageBitmap"in(window||{}),f=o("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!l&&f&&s.size>f)){n.ref.imagePreview=r.appendChildView(r.createChildView(c,{id:i}));var p=n.query("GET_IMAGE_PREVIEW_HEIGHT");p&&n.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:u.id,height:p});var d=!l&&s.size>o("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");n.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:i},d)}}}},s=function(e,t){if(e.ref.imagePreview){var n=t.id,r=e.query("GET_ITEM",{id:n});if(r){var o=e.query("GET_PANEL_ASPECT_RATIO"),i=e.query("GET_ITEM_PANEL_ASPECT_RATIO"),a=e.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(o||i||a)){var c=e.ref,u=c.imageWidth,s=c.imageHeight;if(u&&s){var l=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),f=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),p=(r.getMetadata("exif")||{}).orientation||-1;if(p>=5&&p<=8){var d=[s,u];u=d[0],s=d[1]}if(!pe(r.file)||e.query("GET_IMAGE_PREVIEW_UPSCALE")){var h=2048/u;u*=h,s*=h}var v=s/u,m=(r.getMetadata("crop")||{}).aspectRatio||v,E=Math.max(l,Math.min(s,f)),g=e.rect.element.width,y=Math.min(g*m,E);e.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:r.id,height:y})}}}}},l=function(e){e.root.ref.shouldRescale=!0},f=function(e){var t=e.root;"crop"===e.action.change.key&&(t.ref.shouldRescale=!0)},p=function(e){var t=e.root,n=e.action;t.ref.imageWidth=n.width,t.ref.imageHeight=n.height,t.ref.shouldRescale=!0,t.ref.shouldDrawPreview=!0,t.dispatch("KICK")};r.registerWriter(i({DID_RESIZE_ROOT:l,DID_STOP_RESIZE:l,DID_LOAD_ITEM:u,DID_IMAGE_PREVIEW_CALCULATE_SIZE:p,DID_UPDATE_ITEM_METADATA:f},(function(e){var t=e.root,n=e.props;t.ref.imagePreview&&(t.rect.element.hidden||(t.ref.shouldRescale&&(s(t,n),t.ref.shouldRescale=!1),t.ref.shouldDrawPreview&&(requestAnimationFrame((function(){t.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})})),t.ref.shouldDrawPreview=!1)))})))}})),{options:{allowImagePreview:[!0,o.BOOLEAN],imagePreviewFilterItem:[function(){return!0},o.FUNCTION],imagePreviewHeight:[null,o.INT],imagePreviewMinHeight:[44,o.INT],imagePreviewMaxHeight:[256,o.INT],imagePreviewMaxFileSize:[null,o.INT],imagePreviewZoomFactor:[2,o.INT],imagePreviewUpscale:[!1,o.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,o.INT],imagePreviewTransparencyIndicator:[null,o.STRING],imagePreviewCalculateAverageImageColor:[!1,o.BOOLEAN],imagePreviewMarkupShow:[!0,o.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},o.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Te})),Te}()}).call(this,n(11))},function(e,t,n){(function(t){e.exports=function(){"use strict";var e=function(e){var n=e.addFilter,r=e.utils,o=r.Type,i=r.isString,a=r.replaceInString,c=r.guesstimateMimeType,u=r.getExtensionFromFilename,s=r.getFilenameFromURL,l=function(e,t){return(/^[^/]+/.exec(e)||[]).pop()===t.slice(0,-2)},f=function(e,t){return e.some((function(e){return/\*$/.test(e)?l(t,e):e===t}))},p=function(e){var t="";if(i(e)){var n=s(e),r=u(n);r&&(t=c(r))}else t=e.type;return t},d=function(e,n,r){if(0===n.length)return!0;var o=p(e);return r?new t((function(t,i){r(e,o).then((function(e){f(n,e)?t():i()})).catch(i)})):f(n,o)},h=function(e){return function(t){return null!==e[t]&&(e[t]||t)}};return n("SET_ATTRIBUTE_TO_OPTION_MAP",(function(e){return Object.assign(e,{accept:"acceptedFileTypes"})})),n("ALLOW_HOPPER_ITEM",(function(e,t){var n=t.query;return!n("GET_ALLOW_FILE_TYPE_VALIDATION")||d(e,n("GET_ACCEPTED_FILE_TYPES"))})),n("LOAD_FILE",(function(e,n){var r=n.query;return new t((function(t,n){if(r("GET_ALLOW_FILE_TYPE_VALIDATION")){var o=r("GET_ACCEPTED_FILE_TYPES"),i=r("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),c=d(e,o,i),u=function(){var e=o.map(h(r("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter((function(e){return!1!==e}));n({status:{main:r("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:a(r("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:e.join(", "),allButLastType:e.slice(0,-1).join(", "),lastType:e[e.length-1]})}})};if("boolean"==typeof c)return c?t(e):u();c.then((function(){t(e)})).catch(u)}else t(e)}))})),{options:{allowFileTypeValidation:[!0,o.BOOLEAN],acceptedFileTypes:[[],o.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",o.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",o.STRING],fileValidateTypeLabelExpectedTypesMap:[{},o.OBJECT],fileValidateTypeDetectType:[null,o.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()}).call(this,n(11))},function(e,t,n){(function(t){e.exports=function(){"use strict";var e=function(e){var n=e.addFilter,r=e.utils,o=r.Type,i=r.replaceInString,a=r.toNaturalFileSize;return n("ALLOW_HOPPER_ITEM",(function(e,t){var n=t.query;if(!n("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;var r=n("GET_MAX_FILE_SIZE");if(null!==r&&e.size>=r)return!1;var o=n("GET_MIN_FILE_SIZE");return!(null!==o&&e.size<=o)})),n("LOAD_FILE",(function(e,n){var r=n.query;return new t((function(t,n){if(!r("GET_ALLOW_FILE_SIZE_VALIDATION"))return t(e);var o=r("GET_FILE_VALIDATE_SIZE_FILTER");if(o&&!o(e))return t(e);var c=r("GET_MAX_FILE_SIZE");if(null!==c&&e.size>=c)n({status:{main:r("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:i(r("GET_LABEL_MAX_FILE_SIZE"),{filesize:a(c)})}});else{var u=r("GET_MIN_FILE_SIZE");if(null!==u&&e.size<=u)n({status:{main:r("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:i(r("GET_LABEL_MIN_FILE_SIZE"),{filesize:a(u)})}});else{var s=r("GET_MAX_TOTAL_FILE_SIZE");if(null!==s&&r("GET_ACTIVE_ITEMS").reduce((function(e,t){return e+t.fileSize}),0)>s)return void n({status:{main:r("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:i(r("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:a(s)})}});t(e)}}}))})),{options:{allowFileSizeValidation:[!0,o.BOOLEAN],maxFileSize:[null,o.INT],minFileSize:[null,o.INT],maxTotalFileSize:[null,o.INT],fileValidateSizeFilter:[null,o.FUNCTION],labelMinFileSizeExceeded:["File is too small",o.STRING],labelMinFileSize:["Minimum file size is {filesize}",o.STRING],labelMaxFileSizeExceeded:["File is too large",o.STRING],labelMaxFileSize:["Maximum file size is {filesize}",o.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",o.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",o.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()}).call(this,n(11))},function(e,t,n){(function(t){e.exports=function(){"use strict";var e={type:"spring",stiffness:.5,damping:.45,mass:10},n=function(t){return t.utils.createView({name:"file-poster",tag:"div",ignoreRect:!0,create:function(e){var t=e.root;t.ref.image=document.createElement("img"),t.element.appendChild(t.ref.image)},write:t.utils.createRoute({DID_FILE_POSTER_LOAD:function(e){var t=e.root,n=e.props,r=n.id,o=t.query("GET_ITEM",{id:n.id});if(o){var i=o.getMetadata("poster");t.ref.image.src=i,t.dispatch("DID_FILE_POSTER_DRAW",{id:r})}}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:e,scaleY:e,opacity:{type:"tween",duration:750}}}})},r=function(e,t){t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0)},o=function(e){return e.utils.createView({name:"file-poster-overlay",tag:"canvas",ignoreRect:!0,create:function(e){var t=e.root,n=e.props;r(n.template,t.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},i=function(e,t){var n=new Image;n.onload=function(){var e=n.naturalWidth,r=n.naturalHeight;n=null,t(e,r)},n.src=e},a=function(e){return-.5*(Math.cos(Math.PI*e)-1)},c=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=1-i,u=t.join(","),s=0;s<=o;s++){var l=s/o,f=i+c*l;e.addColorStop(f,"rgba(".concat(u,", ").concat(r(l)*n,")"))}},u=10,s=10,l=function(e){var t=Math.min(u/e.width,s/e.height),n=document.createElement("canvas"),r=n.getContext("2d"),o=n.width=Math.ceil(e.width*t),i=n.height=Math.ceil(e.height*t);r.drawImage(e,0,0,o,i);var a=null;try{a=r.getImageData(0,0,o,i).data}catch(e){return null}for(var c=a.length,l=0,p=0,d=0,h=0;h<c;h+=4)l+=a[h]*a[h],p+=a[h+1]*a[h+1],d+=a[h+2]*a[h+2];return{r:l=f(l,c),g:p=f(p,c),b:d=f(d,c)}},f=function(e,t){return Math.floor(Math.sqrt(e/(t/4)))},p=function(e,t,n,r,o){e.width=t,e.height=n;var i=e.getContext("2d"),a=.5*t,u=i.createRadialGradient(a,n+110,n-100,a,n+110,n+100);c(u,r,o,void 0,8,.4),i.save(),i.translate(.5*-t,0),i.scale(2,1),i.fillStyle=u,i.fillRect(0,0,t,n),i.restore()},d="undefined"!=typeof navigator,h=500,v=200,m=d&&document.createElement("canvas"),E=d&&document.createElement("canvas"),g=d&&document.createElement("canvas");d&&(p(m,h,v,[40,40,40],.85),p(E,h,v,[196,78,71],1),p(g,h,v,[54,151,99],1));var y=function(e,n){return new t((function(t,r){var o=new Image;"string"==typeof crossOrigin&&(o.crossOrigin=n),o.onload=function(){t(o)},o.onerror=function(e){r(e)},o.src=e}))},_=function(e){var t=o(e),r=function(e){var t=e.root,n=e.props.id,r=t.query("GET_ITEM",n);if(r){var o=r.getMetadata("poster"),a=function(e){var o=t.query("GET_FILE_POSTER_CALCULATE_AVERAGE_IMAGE_COLOR")?l(e):null;r.setMetadata("color",o,!0),t.dispatch("DID_FILE_POSTER_LOAD",{id:n,data:e})};i(o,(function(e,r){t.dispatch("DID_FILE_POSTER_CALCULATE_SIZE",{id:n,width:e,height:r}),y(o,t.query("GET_FILE_POSTER_CROSS_ORIGIN_ATTRIBUTE_VALUE")).then(a)}))}},a=function(e){e.root.ref.overlayShadow.opacity=1},c=function(e){var t=e.root.ref.image;t.scaleX=1,t.scaleY=1,t.opacity=1},u=function(e){var t=e.root;t.ref.overlayShadow.opacity=1,t.ref.overlayError.opacity=0,t.ref.overlaySuccess.opacity=0},s=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlayError.opacity=1},f=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlaySuccess.opacity=1},p=function(r){var o=r.root,i=r.props,a=n(e);o.ref.image=o.appendChildView(o.createChildView(a,{id:i.id,scaleX:1.25,scaleY:1.25,opacity:0})),o.ref.overlayShadow=o.appendChildView(o.createChildView(t,{template:m,opacity:0})),o.ref.overlaySuccess=o.appendChildView(o.createChildView(t,{template:g,opacity:0})),o.ref.overlayError=o.appendChildView(o.createChildView(t,{template:E,opacity:0}))};return e.utils.createView({name:"file-poster-wrapper",create:p,write:e.utils.createRoute({DID_FILE_POSTER_LOAD:a,DID_FILE_POSTER_DRAW:c,DID_FILE_POSTER_CONTAINER_CREATE:r,DID_THROW_ITEM_LOAD_ERROR:s,DID_THROW_ITEM_PROCESSING_ERROR:s,DID_THROW_ITEM_INVALID:s,DID_COMPLETE_ITEM_PROCESSING:f,DID_START_ITEM_PROCESSING:u,DID_REVERT_ITEM_PROCESSING:u})})},T=function(e){var t=e.addFilter,n=e.utils,r=n.Type,o=n.createRoute,i=_(e);return t("CREATE_VIEW",(function(e){var t=e.is,n=e.view,r=e.query;if(t("file")&&r("GET_ALLOW_FILE_POSTER")){var a=function(e){var t=e.root,n=e.props;u(t,n)},c=function(e){var t=e.root,n=e.props,r=e.action;/poster/.test(r.change.key)&&u(t,n)},u=function(e,t){var o=t.id,a=r("GET_ITEM",o);a&&a.getMetadata("poster")&&!a.archived&&r("GET_FILE_POSTER_FILTER_ITEM")(a)&&(e.ref.filePoster&&n.removeChildView(e.ref.filePoster),e.ref.filePoster=n.appendChildView(n.createChildView(i,{id:o})),e.dispatch("DID_FILE_POSTER_CONTAINER_CREATE",{id:o}))},s=function(e){var t=e.root,n=e.action;t.ref.filePoster&&(t.ref.imageWidth=n.width,t.ref.imageHeight=n.height,t.ref.shouldUpdatePanelHeight=!0,t.dispatch("KICK"))},l=function(e){var t=e.root,n=t.query("GET_FILE_POSTER_HEIGHT");if(n)return n;var r=t.query("GET_FILE_POSTER_MIN_HEIGHT"),o=t.query("GET_FILE_POSTER_MAX_HEIGHT");if(r&&t.ref.imageHeight<r)return r;var i=t.rect.element.width*(t.ref.imageHeight/t.ref.imageWidth);return r&&i<r?r:o&&i>o?o:i};n.registerWriter(o({DID_LOAD_ITEM:a,DID_FILE_POSTER_CALCULATE_SIZE:s,DID_UPDATE_ITEM_METADATA:c},(function(e){var t=e.root,n=e.props;t.ref.filePoster&&(t.rect.element.hidden||t.ref.shouldUpdatePanelHeight&&(t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:n.id,height:l({root:t})}),t.ref.shouldUpdatePanelHeight=!1))})))}})),{options:{allowFilePoster:[!0,r.BOOLEAN],filePosterHeight:[null,r.INT],filePosterMinHeight:[null,r.INT],filePosterMaxHeight:[null,r.INT],filePosterFilterItem:[function(){return!0},r.FUNCTION],filePosterCalculateAverageImageColor:[!1,r.BOOLEAN],filePosterCrossOriginAttributeValue:["Anonymous",r.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:T})),T}()}).call(this,n(11))},,,,,,,,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return P})),n.d(t,"Poll",(function(){return P}));n(14);var r=n(0),o=n.n(r),i=n(6),a=n.n(i),c=(n(121),n(1)),u=n(2),s=n(5);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,o=m(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e,{user:{},questionMinLength:30,questionMaxLength:500,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,allowChoiceTitles:!0})).state={user:e.user,pollId:e.pollId,poll:e.poll,isBusy:!1},t}return t=i,(n=[{key:"componentDidMount",value:function(e,t){var n=this;n.state.user&&n.state.user.role?n.state.poll||n.fetchData():u.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},(function(e,t){n.setState({user:t},(function(){n.state.poll||n.fetchData()}))}))}},{key:"fetchData",value:function(e){var t=this;if(!t.state.pollId)return t.setState({poll:{question:"",choices:{1:{},2:{}}}});var n="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/poll/").concat(t.config.pollId,"?withUser=1&withVotes=1"),r=u.a.api.getHeaders(t.config);fetch(n,{headers:r}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(n){var r=p({},t.state);r.poll=n,t.setState(r,(function(){if(e)return e()}))})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"validatedResult",value:function(){var e=this,t=e.state.poll,n=e["question-input"],r=n.validate(),o={question:n.state.value,choices:{}};return Object.keys(t.choices).forEach((function(t){var n=e["title-input-".concat(t)],i=e["description-input-".concat(t)];(n&&n.state.value||i.state.value)&&(o.choices[t]={},e.config.allowChoiceTitles&&n.state.value&&(o.choices[t].title=n.state.value,n.validate()||(r=!1)),i.state.value&&(o.choices[t].description=i.state.value,i.validate()||(r=!1)))})),r?Object.keys(o.choices).length<2?null:o:null}},{key:"handleOnChange",value:function(e){var t=p({},this.state.poll);e.choice&&(t.choices[e.choice.id]={title:this.config.allowChoiceTitles&&e.choice.title,description:e.choice.description}),e.question&&(t.question=e.question),this.setState({poll:t},(function(){}))}},{key:"addChoice",value:function(){var e=p({},this.state.poll),t=Object.keys(e.choices).sort(),n=parseInt(t[t.length-1])+1;e.choices[n]={},this.setState({poll:e})}},{key:"canSubmit",value:function(){if(this.state.poll&&this.state.poll.can)return this.state.poll.can.edit;var e=this.config.requiredUserRole,t="moderator";return("anonymous"==e?t:"member"==e&&!0)||"editor"==e&&!0||"moderator"==e&&!0||"admin"==e&&!1}},{key:"submitForm",value:function(){var e=this;e.setState({isBusy:!0},(function(){var t=e.validatedResult();if(t){if(!e.canSubmit())return alert("Je bent niet ingelogd");var n=!0,r="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/poll"),o="POST";e.state.poll&&e.state.poll.id&&(r+="/".concat(e.state.poll.id),o="PUT",n=!1);var i=u.a.api.getHeaders(e.config),a=t;fetch(r,{method:o,headers:i,body:JSON.stringify(a)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(r){var o=new CustomEvent("osc-new-poll-stored",{detail:r});n||(o=new CustomEvent("osc-poll-edited",{detail:r})),document.dispatchEvent(o),"function"==typeof e.config.onFinished&&e.config.onFinished(t)})).catch((function(t){console.log(t),t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1})}))}else e.setState({isBusy:!1})}))}},{key:"render",value:function(){var e=this,t=this,n=t.state.poll||{},r=null;t.config.formIntro&&(r=React.createElement("div",{className:"osc-intro"},t.config.formIntro));var o=null;return o=t.canSubmit()?React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{className:"osc-button-blue",onClick:function(){t.config.onFinished&&t.config.onFinished()}},"Terug"),React.createElement("button",{onClick:function(e){t.state.isBusy||t.submitForm()},className:"osc-button-blue osc-margin-left".concat(t.state.isBusy?" osc-disabled":"")},"Verzenden")):React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{className:"osc-button-blue",onClick:function(){t.config.onFinished&&t.config.onFinished()}},"Terug"),React.createElement("button",{onClick:function(){u.a.localStorage.set("osc-reactions-login-pending",!0),document.location.href=t.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button osc-margin-left"},"Inloggen")),React.createElement("div",{id:t.divId,className:"osc-form",ref:function(e){return t.instance=e}},r,React.createElement("h4",null,"Vraag"),React.createElement(s.a.InputWithCounter,{config:{inputType:"text",minLength:t.config.questionMinLength,maxLength:t.config.questionMaxLength,placeholder:"Vraag"},value:n.question,onChange:function(e){return t.handleOnChange({question:e.value})},ref:function(e){return t["question-input"]=e}}),React.createElement("h4",null,"Keuzemogelijkheden"),React.createElement("ol",{className:"osc-poll-form-choices"},n&&n.choices&&Object.keys(n.choices).sort().map((function(e){var r=n.choices[e],o=null;return t.config.allowChoiceTitles&&(o=React.createElement(s.a.InputWithCounter,{config:{inputType:"text",minLength:t.config.titleMinLength,maxLength:t.config.titleMaxLength,placeholder:"Titel"},value:r.title,onChange:function(n){return t.handleOnChange({choice:{id:e,title:n.value}})},ref:function(n){return t["title-input-".concat(e)]=n}})),React.createElement("li",{className:"osc-poll-form-choice",key:"osc-key-".concat(e)},o,React.createElement(s.a.InputWithCounter,{config:{inputType:"text",minLength:t.config.descriptionMinLength,maxLength:t.config.descriptionMaxLength,placeholder:"Beschrijving"},value:r.description,onChange:function(n){return t.handleOnChange({choice:{id:e,description:n.value}})},ref:function(n){return t["description-input-".concat(e)]=n}}))}))),React.createElement("a",{className:"osc-add-choice-button",onClick:function(t){return e.addChoice()}},"Nog een keuzemogelijkheid toevoegen"),o)}}])&&h(t.prototype,n),r&&h(t,r),i}(c.a);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,n,r,o=w(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=D(t=o.call(this,e,{siteId:null,ideaId:null,title:null,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",withPercentage:!0,allowChoiceTitles:!0,allowShowResultsIfNotVoted:!1}));return n.config.loginUrl=n.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),n.hideEditForm=n.hideEditForm.bind(n),n.state={user:n.config.user,poll:e.poll,pollId:e.poll&&e.poll.id||n.config.pollId,selectedChoice:null,showResult:!1,showQuestion:!1,editMode:!1,showVoteSucceeded:!1},n.state.poll&&(n.parseVoteCount(n.state.poll),n.state.poll.userVote&&(n.state.selectedChoice=n.state.poll.userVote)),t}return t=i,(n=[{key:"componentDidMount",value:function(e,t){var n=this;n.state.user&&n.state.user.role?!n.state.poll&&n.config.ideaId&&n.fetchData():u.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},(function(e,t){n.setState({user:t},(function(){!n.state.poll&&n.config.ideaId&&n.fetchData()}))}))}},{key:"fetchData",value:function(e){var t=this;if(!t.state.pollId)return t.setState({editMode:!0},(function(){}));var n="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/poll/").concat(t.state.pollId,"?withUser=1&withUserVote=1&withVoteCount=1&withVotes=1"),r=u.a.api.getHeaders(t.config);fetch(n,{headers:r}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(n){var r=I(I({},t.state),{},{showResult:!1,showQuestion:!1});r.poll=n,r.pollId=n.id,t.parseVoteCount(r.poll),r.poll.userVote&&(r.selectedChoice=r.poll.userVote),t.setState(r,(function(){if(e)return e()}))})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"parseVoteCount",value:function(e){e.voteCount&&Object.keys(e.choices).sort().forEach((function(t){var n=e.choices[t];n.votesAbs=e.voteCount[t],n.votesPrc=parseInt(e.voteCount[t]/e.voteCount.total*100),n.votesPrc=n.votesPrc||0}))}},{key:"showEditForm",value:function(){this.setState({editMode:!0})}},{key:"hideEditForm",value:function(){this.setState({editMode:!1},(function(){this.fetchData()}))}},{key:"setShowResult",value:function(){this.setState({showResult:!0})}},{key:"setShowQuestion",value:function(){this.setState({showQuestion:!0})}},{key:"selectChoice",value:function(e){this.setState({selectedChoice:e.choice})}},{key:"onReactionEdited",value:function(e){this.fetchData()}},{key:"isValid",value:function(){return!!this.state.selectedChoice}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.state.user&&this.state.user.role;return"anonymous"==e&&t||"member"==e&&("member"==t||"admin"==t)||"admin"==e&&"admin"==t}},{key:"submitVote",value:function(){var e=this;e.setState({isBusy:!0},(function(){if(e.isValid()){if(!e.canSubmit())return alert("Je bent niet ingelogd");var t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/poll/").concat(e.state.poll.id,"/vote"),n=u.a.api.getHeaders(e.config),r={choice:e.state.selectedChoice};fetch(t,{method:"POST",headers:n,body:JSON.stringify(r)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){e.fetchData((function(){e.setState({isBusy:!1,showVoteSucceeded:!0},(function(){var e=new CustomEvent("osc-poll-voted",{detail:t});document.dispatchEvent(e)}))})),"function"==typeof e.config.onSubmit&&e.config.onSubmit({description:e.state.description})})).catch((function(t){t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1,isValid:!1})}))}else e.setState({isBusy:!1,isValid:!1})}))}},{key:"deletePoll",value:function(){var e=this;e.setState({isBusy:!0},(function(){var t=e.state.poll;if(!(t&&t.can&&t.can.delete))return alert("U kunt deze poll niet verwijderen");if(!t||!t.id)return alert("U kunt deze poll niet verwijderen");var n="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/poll/").concat(e.state.poll.id),r=u.a.api.getHeaders(e.config);fetch(n,{method:"DELETE",headers:r}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(e){var t=new CustomEvent("osc-poll-deleted",{detail:e});document.dispatchEvent(t)})).catch((function(t){console.log(t),t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1})}))}))}},{key:"render",value:function(){var e=this,t=this,n=t.state.poll||{};if(t.state.editMode)return React.createElement("div",{id:this.id,className:t.props.className||"osc-poll",ref:function(t){e.instance=t}},React.createElement(y,{config:I(I({},t.config),{},{onFinished:t.hideEditForm}),pollId:t.state.poll&&t.state.poll.id,poll:t.state.poll,user:t.state.user}));var r=null;if(n&&n.choices&&!n.userVote||t.state.showQuestion){var o={name:"pollChoice",choices:[]};Object.keys(n.choices).sort().map((function(e){var r=t.config.allowChoiceTitles&&n.choices[e].title?"<h4>".concat(n.choices[e].title,"</h4>"):"";r+=n.choices[e].description||"",o.choices.push({dangerousDescription:r,value:e})}));var i=null;i=t.canSubmit()?React.createElement("button",{onClick:function(e){t.state.isBusy||t.submitVote()},className:"osc-button-blue".concat(t.isValid()?"":" osc-disabled")},"Stemmen"):React.createElement("button",{onClick:function(){u.a.localStorage.set("osc-poll-login-pending",!0),document.location.href=t.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen");var a=null;!t.config.allowShowResultsIfNotVoted||n.userVote||t.state.showResult||(a=React.createElement("a",{className:"osc-show-result-button",onClick:function(t){return e.setShowResult()}},"Resultaat bekijken")),r=React.createElement("div",{className:"osc-poll-question osc-form"},React.createElement(s.a.Radios,{config:o,value:t.state.selectedChoice,onChange:function(e){return t.selectChoice({choice:e.value})},ref:function(e){return t.description=e}}),React.createElement("div",{className:"osc-poll-question-buttons"},i,a))}var c=null;if(n&&(n.userVote||t.state.showResult)){var l=null;t.state.showQuestion||n&&n.choices&&!n.userVote||(l=React.createElement("a",{className:"osc-show-question-button",onClick:function(t){return e.setShowQuestion()}},"Stem aanpassen"));var f=null;if(n.voteCount&&n.voteCount.total){var p=1==n.voteCount.total?"stem":"stemmen";f=React.createElement("div",null,"Totaal ",n.voteCount.total," ",p,React.createElement("br",null),React.createElement("br",null))}c=React.createElement("ul",{className:"osc-choices"},Object.keys(n.choices).sort().map((function(e){var r=n.choices[e],o=null;t.config.allowChoiceTitles&&r.title&&(o=React.createElement("h4",null,r.title));var i=null;r.description&&(i=React.createElement("div",null,r.description));var a=null;t.config.withPercentage&&(a=React.createElement("div",{className:"osc-percentage"},r.votesPrc,"%"));var c=React.createElement("div",{className:"osc-choice-default"},o,i,React.createElement("div",{className:"osc-choice-bar".concat(t.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-mask"}),React.createElement("div",{className:"osc-choice-bar-progress",style:{width:(r.votesPrc||0)+"%"}})),a);return React.createElement("li",{className:"osc-choice",key:"osc-key-".concat(e)},c)})),f,l)}var d=null;t.state.poll&&t.state.poll.can&&t.state.poll.can.edit&&(d=React.createElement("div",{className:"osc-editbuttons"},React.createElement("button",{className:"osc-editbutton osc-edit",onClick:function(e){return t.showEditForm()}},"Bewerk poll"),React.createElement("button",{className:"osc-editbutton osc-delete",onClick:function(e){confirm("Weet u het zeker")&&t.deletePoll()}},"Verwijder poll")));var h=null;return t.state.showVoteSucceeded&&(h=React.createElement("div",{className:"osc-vote-succeeded"},"Uw stem is opgeslagen")),React.createElement("div",{id:this.id,className:t.props.className||"osc-poll",ref:function(t){e.instance=t}},d,h,React.createElement("h4",null,n.question),r,c,React.createElement("br",null),React.createElement("br",null))}}])&&O(t.prototype,n),r&&O(t,r),i}(c.a);P.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(P,{attributes:n,config:t}),e)}},function(e,t,n){},function(e,t,n){(function(e){!function(t){"use strict";var n=function(e){return e instanceof HTMLElement},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object.assign({},e),o=[],i=[],a=function(){var e=[].concat(i);i.length=0,e.forEach((function(e){var t=e.type,n=e.data;c(t,n)}))},c=function(e,t,n){!n||document.hidden?(f[e]&&f[e](t),o.push({type:e,data:t})):i.push({type:e,data:t})},u=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return l[e]?(t=l)[e].apply(t,r):null},s={getState:function(){return Object.assign({},r)},processActionQueue:function(){var e=[].concat(o);return o.length=0,e},processDispatchQueue:a,dispatch:c,query:u},l={};t.forEach((function(e){l=Object.assign({},e(r),{},l)}));var f={};return n.forEach((function(e){f=Object.assign({},e(c,u,r),{},f)})),s},o=function(e,t,n){"function"!=typeof n?Object.defineProperty(e,t,Object.assign({},n)):e[t]=n},i=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},a=function(e){var t={};return i(e,(function(n){o(t,n,e[n])})),t},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},u="http://www.w3.org/2000/svg",s=["svg","path"],l=function(e){return s.includes(e)},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof t&&(n=t,t=null);var r=l(e)?document.createElementNS(u,e):document.createElement(e);return t&&(l(e)?c(r,"class",t):r.className=t),i(n,(function(e,t){c(r,e,t)})),r},p=function(e){return function(t,n){void 0!==n&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)}},d=function(e,t){return function(e,n){return void 0!==n?t.splice(n,0,e):t.push(e),e}},h=function(e,t){return function(n){return t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n}},v="undefined"!=typeof window&&void 0!==window.document,m=function(){return v},E="children"in(m()?f("svg"):{})?function(e){return e.children.length}:function(e){return e.childNodes.length},g=function(e,t,n,r){var o=n[0]||e.left,i=n[1]||e.top,a=o+e.width,c=i+e.height*(r[1]||1),u={element:Object.assign({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:o,top:i,right:a,bottom:c}};return t.filter((function(e){return!e.isRectIgnored()})).map((function(e){return e.rect})).forEach((function(e){y(u.inner,Object.assign({},e.inner)),y(u.outer,Object.assign({},e.outer))})),_(u.inner),u.outer.bottom+=u.element.marginBottom,u.outer.right+=u.element.marginRight,_(u.outer),u},y=function(e,t){t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},_=function(e){e.width=e.right-e.left,e.height=e.bottom-e.top},T=function(e){return"number"==typeof e},I=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<r&&Math.abs(n)<r},b=function(e){return e<.5?2*e*e:(4-2*e)*e-1},O={spring:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiffness,n=void 0===t?.5:t,r=e.damping,o=void 0===r?.75:r,i=e.mass,c=void 0===i?10:i,u=null,s=null,l=0,f=!1,p=a({interpolate:function(e,t){if(!f){if(!T(u)||!T(s))return f=!0,void(l=0);I(s+=l+=-(s-u)*n/c,u,l*=o)||t?(s=u,l=0,f=!0,p.onupdate(s),p.oncomplete(s)):p.onupdate(s)}},target:{set:function(e){if(T(e)&&!T(s)&&(s=e),null===u&&(u=e,s=e),s===(u=e)||void 0===u)return f=!0,l=0,p.onupdate(s),void p.oncomplete(s);f=!1},get:function(){return u}},resting:{get:function(){return f}},onupdate:function(e){},oncomplete:function(e){}});return p},tween:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.duration,o=void 0===r?500:r,i=n.easing,c=void 0===i?b:i,u=n.delay,s=void 0===u?0:u,l=null,f=!0,p=!1,d=null,h=a({interpolate:function(n,r){f||null===d||(null===l&&(l=n),n-l<s||((e=n-l-s)>=o||r?(e=1,t=p?0:1,h.onupdate(t*d),h.oncomplete(t*d),f=!0):(t=e/o,h.onupdate((e>=0?c(p?1-t:t):0)*d))))},target:{get:function(){return p?0:d},set:function(e){if(null===d)return d=e,h.onupdate(e),void h.oncomplete(e);e<d?(d=1,p=!0):(p=!1,d=e),f=!1,l=null}},resting:{get:function(){return f}},onupdate:function(e){},oncomplete:function(e){}});return h}},R=function(e,t,n){var r=e[t]&&"object"==typeof e[t][n]?e[t][n]:e[t]||e,o="string"==typeof r?r:r.type,i="object"==typeof r?Object.assign({},r):{};return O[o]?O[o](i):null},w=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(t=Array.isArray(t)?t:[t]).forEach((function(t){e.forEach((function(e){var o=e,i=function(){return n[e]},a=function(t){return n[e]=t};"object"==typeof e&&(o=e.key,i=e.getter||i,a=e.setter||a),t[o]&&!r||(t[o]={get:i,set:a})}))}))},S=function(e){return function(t,n){e.addEventListener(t,n)}},D=function(e){return function(t,n){e.removeEventListener(t,n)}},A=function(e){return null!=e},P={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},C=function(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewInternalAPI,o=e.viewExternalAPI,i=e.view,a=Object.assign({},n),c={};w(t,[r,o],n);var u=function(){return[n.translateX||0,n.translateY||0]},s=function(){return[n.scaleX||0,n.scaleY||0]},l=function(){return i.rect?g(i.rect,i.childViews,u(),s()):null};return r.rect={get:l},o.rect={get:l},t.forEach((function(e){n[e]=void 0===a[e]?P[e]:a[e]})),{write:function(){if(L(c,n))return M(i.element,n),Object.assign(c,Object.assign({},n)),!0},destroy:function(){}}},L=function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in t)if(t[n]!==e[n])return!0;return!1},M=function(e,t){var n=t.opacity,r=t.perspective,o=t.translateX,i=t.translateY,a=t.scaleX,c=t.scaleY,u=t.rotateX,s=t.rotateY,l=t.rotateZ,f=t.originX,p=t.originY,d=t.width,h=t.height,v="",m="";(A(f)||A(p))&&(m+="transform-origin: "+(f||0)+"px "+(p||0)+"px;"),A(r)&&(v+="perspective("+r+"px) "),(A(o)||A(i))&&(v+="translate3d("+(o||0)+"px, "+(i||0)+"px, 0) "),(A(a)||A(c))&&(v+="scale3d("+(A(a)?a:1)+", "+(A(c)?c:1)+", 1) "),A(l)&&(v+="rotateZ("+l+"rad) "),A(u)&&(v+="rotateX("+u+"rad) "),A(s)&&(v+="rotateY("+s+"rad) "),v.length&&(m+="transform:"+v+";"),A(n)&&(m+="opacity:"+n+";",0===n&&(m+="visibility:hidden;"),n<1&&(m+="pointer-events:none;")),A(h)&&(m+="height:"+h+"px;"),A(d)&&(m+="width:"+d+"px;");var E=e.elementCurrentStyle||"";m.length===E.length&&m===E||(e.style.cssText=m,e.elementCurrentStyle=m)},N={styles:C,listeners:function(e){e.mixinConfig,e.viewProps,e.viewInternalAPI;var t=e.viewExternalAPI,n=(e.viewState,e.view),r=[],o=S(n.element),i=D(n.element);return t.on=function(e,t){r.push({type:e,fn:t}),o(e,t)},t.off=function(e,t){r.splice(r.findIndex((function(n){return n.type===e&&n.fn===t})),1),i(e,t)},{write:function(){return!0},destroy:function(){r.forEach((function(e){i(e.type,e.fn)}))}}},animations:function(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewInternalAPI,o=e.viewExternalAPI,a=Object.assign({},n),c=[];return i(t,(function(e,t){var i=R(t);i&&(i.onupdate=function(t){n[e]=t},i.target=a[e],w([{key:e,setter:function(e){i.target!==e&&(i.target=e)},getter:function(){return n[e]}}],[r,o],n,!0),c.push(i))})),{write:function(e){var t=document.hidden,n=!0;return c.forEach((function(r){r.resting||(n=!1),r.interpolate(e,t)})),n},destroy:function(){}}},apis:function(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewExternalAPI;w(t,r,n)}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent,e},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,n=void 0===t?"div":t,r=e.name,o=void 0===r?null:r,i=e.attributes,c=void 0===i?{}:i,u=e.read,s=void 0===u?function(){}:u,l=e.write,v=void 0===l?function(){}:l,m=e.create,y=void 0===m?function(){}:m,_=e.destroy,T=void 0===_?function(){}:_,I=e.filterFrameActionsForChild,b=void 0===I?function(e,t){return t}:I,O=e.didCreateView,R=void 0===O?function(){}:O,w=e.didWriteView,S=void 0===w?function(){}:w,D=e.ignoreRect,A=void 0!==D&&D,P=e.ignoreRectUpdate,C=void 0!==P&&P,L=e.mixins,M=void 0===L?[]:L;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=f(n,"filepond--"+o,c),i=window.getComputedStyle(r,null),u=x(),l=null,m=!1,_=[],I=[],O={},w={},D=[v],P=[s],L=[T],G=function(){return r},j=function(){return _.concat()},k=function(){return O},F=function(e){return function(t,n){return t(e,n)}},U=function(){return l||(l=g(u,_,[0,0],[1,1]))},V=function(){l=null,_.forEach((function(e){return e._read()})),!(C&&u.width&&u.height)&&x(u,r,i);var e={root:X,props:t,rect:u};P.forEach((function(t){return t(e)}))},B=function(e,n,r){var o=0===n.length;return D.forEach((function(i){!1===i({props:t,root:X,actions:n,timestamp:e,shouldOptimize:r})&&(o=!1)})),I.forEach((function(t){!1===t.write(e)&&(o=!1)})),_.filter((function(e){return!!e.element.parentNode})).forEach((function(t){t._write(e,b(t,n),r)||(o=!1)})),_.forEach((function(t,i){t.element.parentNode||(X.appendChild(t.element,i),t._read(),t._write(e,b(t,n),r),o=!1)})),m=o,S({props:t,root:X,actions:n,timestamp:e}),o},q=function(){I.forEach((function(e){return e.destroy()})),L.forEach((function(e){e({root:X,props:t})})),_.forEach((function(e){return e._destroy()}))},Y={element:{get:G},style:{get:function(){return i}},childViews:{get:j}},H=Object.assign({},Y,{rect:{get:U},ref:{get:k},is:function(e){return o===e},appendChild:p(r),createChildView:F(e),linkView:function(e){return _.push(e),e},unlinkView:function(e){_.splice(_.indexOf(e),1)},appendChildView:d(r,_),removeChildView:h(r,_),registerWriter:function(e){return D.push(e)},registerReader:function(e){return P.push(e)},registerDestroyer:function(e){return L.push(e)},invalidateLayout:function(){return r.layoutCalculated=!1},dispatch:e.dispatch,query:e.query}),W={element:{get:G},childViews:{get:j},rect:{get:U},resting:{get:function(){return m}},isRectIgnored:function(){return A},_read:V,_write:B,_destroy:q},z=Object.assign({},Y,{rect:{get:function(){return u}}});Object.keys(M).sort((function(e,t){return"styles"===e?1:"styles"===t?-1:0})).forEach((function(e){var n=N[e]({mixinConfig:M[e],viewProps:t,viewState:w,viewInternalAPI:H,viewExternalAPI:W,view:a(z)});n&&I.push(n)}));var X=a(H);y({root:X,props:t});var Q=E(r);return _.forEach((function(e,t){X.appendChild(e.element,Q+t)})),R(X),a(W)}},j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r="__framePainter";if(window[r])return window[r].readers.push(e),void window[r].writers.push(t);window[r]={readers:[e],writers:[t]};var o=window[r],i=1e3/n,a=null,c=null,u=null,s=null,l=function(){document.hidden?(u=function(){return window.setTimeout((function(){return f(performance.now())}),i)},s=function(){return window.clearTimeout(c)}):(u=function(){return window.requestAnimationFrame(f)},s=function(){return window.cancelAnimationFrame(c)})};document.addEventListener("visibilitychange",(function(){s&&s(),l(),f(performance.now())}));var f=function e(t){c=u(e),a||(a=t);var n=t-a;n<=i||(a=t-n%i,o.readers.forEach((function(e){return e()})),o.writers.forEach((function(e){return e(t)})))};return l(),f(performance.now()),{pause:function(){s(c)}}},k=function(e,t){return function(n){var r=n.root,o=n.props,i=n.actions,a=void 0===i?[]:i,c=n.timestamp,u=n.shouldOptimize;a.filter((function(t){return e[t.type]})).forEach((function(t){return e[t.type]({root:r,props:o,action:t.data,timestamp:c,shouldOptimize:u})})),t&&t({root:r,props:o,actions:a,timestamp:c,shouldOptimize:u})}},F=function(e,t){return t.parentNode.insertBefore(e,t)},U=function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},V=function(e){return Array.isArray(e)},B=function(e){return null==e},q=function(e){return e.trim()},Y=function(e){return""+e},H=function(e){return"boolean"==typeof e},W=function(e){return H(e)?e:"true"===e},z=function(e){return"string"==typeof e},X=function(e){return T(e)?e:z(e)?Y(e).replace(/[a-z]+/gi,""):0},Q=function(e){return parseInt(X(e),10)},Z=function(e){return parseFloat(X(e))},K=function(e){return T(e)&&isFinite(e)&&Math.floor(e)===e},J=function(e){if(K(e))return e;var t=Y(e).trim();return/MB$/i.test(t)?(t=t.replace(/MB$i/,"").trim(),1e3*Q(t)*1e3):/KB/i.test(t)?(t=t.replace(/KB$i/,"").trim(),1e3*Q(t)):Q(t)},$=function(e){return"function"==typeof e},ee=function(e){for(var t=self,n=e.split("."),r=null;r=n.shift();)if(!(t=t[r]))return null;return t},te={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},ne=function(e){var t={};return t.url=z(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},i(te,(function(n){t[n]=re(n,e[n],te[n],t.timeout,t.headers)})),t.remove=e.remove||null,delete t.headers,t},re=function(e,t,n,r,o){if(null===t)return null;if("function"==typeof t)return t;var i={url:"GET"===n||"PATCH"===n?"?"+e+"=":"",method:n,headers:o,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(z(t))return i.url=t,i;if(Object.assign(i,t),z(i.headers)){var a=i.headers.split(/:(.+)/);i.headers={header:a[0],value:a[1]}}return i.withCredentials=W(i.withCredentials),i},oe=function(e){return null===e},ie=function(e){return"object"==typeof e&&null!==e},ae=function(e){return ie(e)&&z(e.url)&&ie(e.process)&&ie(e.revert)&&ie(e.restore)&&ie(e.fetch)},ce=function(e){return V(e)?"array":oe(e)?"null":K(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":ae(e)?"api":typeof e},ue=function(e){return e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},se={array:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return B(e)?[]:V(e)?e:Y(e).split(t).map(q).filter((function(e){return e.length}))},boolean:W,int:function(e){return"bytes"===ce(e)?J(e):Q(e)},number:Z,float:Z,bytes:J,string:function(e){return $(e)?e:Y(e)},function:function(e){return ee(e)},serverapi:function(e){return ne(e)},object:function(e){try{return JSON.parse(ue(e))}catch(e){return null}}},le=function(e,t){return se[t](e)},fe=function(e,t,n){if(e===t)return e;var r=ce(e);if(r!==n){var o=le(e,n);if(r=ce(o),null===o)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';e=o}return e},pe=function(e,t){var n=e;return{enumerable:!0,get:function(){return n},set:function(r){n=fe(r,e,t)}}},de=function(e){var t={};return i(e,(function(n){var r=e[n];t[n]=pe(r[0],r[1])})),a(t)},he=function(e){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:de(e)}},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase()})).join(t)},me=function(e,t){var n={};return i(t,(function(t){n[t]={get:function(){return e.getState().options[t]},set:function(n){e.dispatch("SET_"+ve(t,"_").toUpperCase(),{value:n})}}})),n},Ee=function(e){return function(t,n,r){var o={};return i(e,(function(e){var n=ve(e,"_").toUpperCase();o["SET_"+n]=function(o){try{r.options[e]=o.value}catch(e){}t("DID_SET_"+n,{value:r.options[e]})}})),o}},ge=function(e){return function(t){var n={};return i(e,(function(e){n["GET_"+ve(e,"_").toUpperCase()]=function(n){return t.options[e]}})),n}},ye={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},_e=function(){return Math.random().toString(36).substr(2,9)};function Te(e){this.wrapped=e}function Ie(t){var n,r;function o(t,o){return new e((function(e,a){var c={key:t,arg:o,resolve:e,reject:a,next:null};r?r=r.next=c:(n=r=c,i(t,o))}))}function i(n,r){try{var o=t[n](r),c=o.value,u=c instanceof Te;e.resolve(u?c.wrapped:c).then((function(e){u?i("next",e):a(o.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(e){a("throw",e)}}function a(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?i(n.key,n.arg):r=null}this._invoke=o,"function"!=typeof t.return&&(this.return=void 0)}function be(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function Oe(e,t){if(null==e)return{};var n,r,o=be(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Re(e){return we(e)||Se(e)||De()}function we(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function Se(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function De(){throw new TypeError("Invalid attempt to spread non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(Ie.prototype[Symbol.asyncIterator]=function(){return this}),Ie.prototype.next=function(e){return this._invoke("next",e)},Ie.prototype.throw=function(e){return this._invoke("throw",e)},Ie.prototype.return=function(e){return this._invoke("return",e)};var Ae=function(e,t){return e.splice(t,1)},Pe=function(t,n){n?t():document.hidden?e.resolve(1).then(t):setTimeout(t,0)},Ce=function(){var e=[],t=function(t,n){Ae(e,e.findIndex((function(e){return e.event===t&&(e.cb===n||!n)})))},n=function(t,n,r){e.filter((function(e){return e.event===t})).map((function(e){return e.cb})).forEach((function(e){return Pe((function(){return e.apply(void 0,Re(n))}),r)}))};return{fireSync:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n(e,r,!0)},fire:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n(e,r,!1)},on:function(t,n){e.push({event:t,cb:n})},onOnce:function(n,r){e.push({event:n,cb:function(){t(n,r),r.apply(void 0,arguments)}})},off:t}},Le=function(e,t,n){Object.getOwnPropertyNames(e).filter((function(e){return!n.includes(e)})).forEach((function(n){return Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))},Me=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Ne=function(e){var t={};return Le(e,t,Me),t},xe=function(e){e.forEach((function(t,n){t.released&&Ae(e,n)}))},Ge={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},je={INPUT:1,LIMBO:2,LOCAL:3},ke=function(e){return/[^0-9]+/.exec(e)},Fe=function(){return ke(1.1.toLocaleString())[0]},Ue=function(){var e=Fe(),t=1e3.toLocaleString();return t!==1e3.toString()?ke(t)[0]:"."===e?",":"."},Ve={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Be=[],qe=function(t,n,r){return new e((function(e,o){var i=Be.filter((function(e){return e.key===t})).map((function(e){return e.cb}));if(0!==i.length){var a=i.shift();i.reduce((function(e,t){return e.then((function(e){return t(e,r)}))}),a(n,r)).then((function(t){return e(t)})).catch((function(e){return o(e)}))}else e(n)}))},Ye=function(e,t,n){return Be.filter((function(t){return t.key===e})).map((function(e){return e.cb(t,n)}))},He=function(e,t){return Be.push({key:e,cb:t})},We=function(e){return Object.assign(Qe,e)},ze=function(){return Object.assign({},Qe)},Xe=function(e){i(e,(function(e,t){Qe[e]&&(Qe[e][0]=fe(t,Qe[e][0],Qe[e][1]))}))},Qe={id:[null,Ve.STRING],name:["filepond",Ve.STRING],disabled:[!1,Ve.BOOLEAN],className:[null,Ve.STRING],required:[!1,Ve.BOOLEAN],captureMethod:[null,Ve.STRING],allowSyncAcceptAttribute:[!0,Ve.BOOLEAN],allowDrop:[!0,Ve.BOOLEAN],allowBrowse:[!0,Ve.BOOLEAN],allowPaste:[!0,Ve.BOOLEAN],allowMultiple:[!1,Ve.BOOLEAN],allowReplace:[!0,Ve.BOOLEAN],allowRevert:[!0,Ve.BOOLEAN],allowRemove:[!0,Ve.BOOLEAN],allowProcess:[!0,Ve.BOOLEAN],allowReorder:[!1,Ve.BOOLEAN],allowDirectoriesOnly:[!1,Ve.BOOLEAN],forceRevert:[!1,Ve.BOOLEAN],maxFiles:[null,Ve.INT],checkValidity:[!1,Ve.BOOLEAN],itemInsertLocationFreedom:[!0,Ve.BOOLEAN],itemInsertLocation:["before",Ve.STRING],itemInsertInterval:[75,Ve.INT],dropOnPage:[!1,Ve.BOOLEAN],dropOnElement:[!0,Ve.BOOLEAN],dropValidation:[!1,Ve.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Ve.ARRAY],instantUpload:[!0,Ve.BOOLEAN],maxParallelUploads:[2,Ve.INT],chunkUploads:[!1,Ve.BOOLEAN],chunkForce:[!1,Ve.BOOLEAN],chunkSize:[5e6,Ve.INT],chunkRetryDelays:[[500,1e3,3e3],Ve.Array],server:[null,Ve.SERVER_API],labelDecimalSeparator:[Fe(),Ve.STRING],labelThousandsSeparator:[Ue(),Ve.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Ve.STRING],labelInvalidField:["Field contains invalid files",Ve.STRING],labelFileWaitingForSize:["Waiting for size",Ve.STRING],labelFileSizeNotAvailable:["Size not available",Ve.STRING],labelFileCountSingular:["file in list",Ve.STRING],labelFileCountPlural:["files in list",Ve.STRING],labelFileLoading:["Loading",Ve.STRING],labelFileAdded:["Added",Ve.STRING],labelFileLoadError:["Error during load",Ve.STRING],labelFileRemoved:["Removed",Ve.STRING],labelFileRemoveError:["Error during remove",Ve.STRING],labelFileProcessing:["Uploading",Ve.STRING],labelFileProcessingComplete:["Upload complete",Ve.STRING],labelFileProcessingAborted:["Upload cancelled",Ve.STRING],labelFileProcessingError:["Error during upload",Ve.STRING],labelFileProcessingRevertError:["Error during revert",Ve.STRING],labelTapToCancel:["tap to cancel",Ve.STRING],labelTapToRetry:["tap to retry",Ve.STRING],labelTapToUndo:["tap to undo",Ve.STRING],labelButtonRemoveItem:["Remove",Ve.STRING],labelButtonAbortItemLoad:["Abort",Ve.STRING],labelButtonRetryItemLoad:["Retry",Ve.STRING],labelButtonAbortItemProcessing:["Cancel",Ve.STRING],labelButtonUndoItemProcessing:["Undo",Ve.STRING],labelButtonRetryItemProcessing:["Retry",Ve.STRING],labelButtonProcessItem:["Upload",Ve.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Ve.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Ve.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Ve.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Ve.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Ve.STRING],oninit:[null,Ve.FUNCTION],onwarning:[null,Ve.FUNCTION],onerror:[null,Ve.FUNCTION],onactivatefile:[null,Ve.FUNCTION],oninitfile:[null,Ve.FUNCTION],onaddfilestart:[null,Ve.FUNCTION],onaddfileprogress:[null,Ve.FUNCTION],onaddfile:[null,Ve.FUNCTION],onprocessfilestart:[null,Ve.FUNCTION],onprocessfileprogress:[null,Ve.FUNCTION],onprocessfileabort:[null,Ve.FUNCTION],onprocessfilerevert:[null,Ve.FUNCTION],onprocessfile:[null,Ve.FUNCTION],onprocessfiles:[null,Ve.FUNCTION],onremovefile:[null,Ve.FUNCTION],onpreparefile:[null,Ve.FUNCTION],onupdatefiles:[null,Ve.FUNCTION],onreorderfiles:[null,Ve.FUNCTION],beforeDropFile:[null,Ve.FUNCTION],beforeAddFile:[null,Ve.FUNCTION],beforeRemoveFile:[null,Ve.FUNCTION],stylePanelLayout:[null,Ve.STRING],stylePanelAspectRatio:[null,Ve.STRING],styleItemPanelAspectRatio:[null,Ve.STRING],styleButtonRemoveItemPosition:["left",Ve.STRING],styleButtonProcessItemPosition:["right",Ve.STRING],styleLoadIndicatorPosition:["right",Ve.STRING],styleProgressIndicatorPosition:["right",Ve.STRING],styleButtonRemoveItemAlign:[!1,Ve.BOOLEAN],files:[[],Ve.ARRAY]},Ze=function(e,t){return B(t)?e[0]||null:K(t)?e[t]||null:("object"==typeof t&&(t=t.id),e.find((function(e){return e.id===t}))||null)},Ke=function(e){if(B(e))return e;if(/:/.test(e)){var t=e.split(":");return t[1]/t[0]}return parseFloat(e)},Je=function(e){return e.filter((function(e){return!e.archived}))},$e={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},et=[Ge.LOAD_ERROR,Ge.PROCESSING_ERROR,Ge.PROCESSING_REVERT_ERROR],tt=[Ge.LOADING,Ge.PROCESSING,Ge.PROCESSING_QUEUED,Ge.INIT],nt=[Ge.PROCESSING_COMPLETE],rt=function(e){return et.includes(e.status)},ot=function(e){return tt.includes(e.status)},it=function(e){return nt.includes(e.status)},at=function(e){return{GET_STATUS:function(){var t=Je(e.items),n=$e.EMPTY,r=$e.ERROR,o=$e.BUSY,i=$e.IDLE,a=$e.READY;return 0===t.length?n:t.some(rt)?r:t.some(ot)?o:t.some(it)?a:i},GET_ITEM:function(t){return Ze(e.items,t)},GET_ACTIVE_ITEM:function(t){return Ze(Je(e.items),t)},GET_ACTIVE_ITEMS:function(){return Je(e.items)},GET_ITEMS:function(){return e.items},GET_ITEM_NAME:function(t){var n=Ze(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:function(t){var n=Ze(e.items,t);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(e.options).filter((function(e){return/^style/.test(e)})).map((function(t){return{name:t,value:e.options[t]}}))},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(e.options.stylePanelLayout)?1:Ke(e.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return e.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(t){return Je(e.items).filter((function(e){return e.status===t}))},GET_TOTAL_ITEMS:function(){return Je(e.items).length},IS_ASYNC:function(){return ie(e.options.server)&&(ie(e.options.server.process)||$(e.options.server.process))}}},ct=function(e){var t=Je(e.items).length;if(!e.options.allowMultiple)return 0===t;var n=e.options.maxFiles;return null===n||t<n},ut=function(e,t,n){return Math.max(Math.min(n,e),t)},st=function(e,t,n){return e.splice(t,0,n)},lt=function(e,t,n){return B(t)?null:void 0===n?(e.push(t),t):(n=ut(n,0,e.length),st(e,n,t),t)},ft=function(e){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e)},pt=function(e){return e.split("/").pop().split("?").shift()},dt=function(e){return e.split(".").pop()},ht=function(e){if("string"!=typeof e)return"";var t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""},vt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t+e).slice(-t.length)},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+vt(e.getMonth()+1,"00")+"-"+vt(e.getDate(),"00")+"_"+vt(e.getHours(),"00")+"-"+vt(e.getMinutes(),"00")+"-"+vt(e.getSeconds(),"00")},Et=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o="string"==typeof n?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return o.lastModifiedDate=new Date,e._relativePath&&(o._relativePath=e._relativePath),z(t)||(t=mt()),t&&null===r&&dt(t)?o.name=t:(r=r||ht(o.type),o.name=t+(r?"."+r:"")),o},gt=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},yt=function(e,t){var n=gt();if(n){var r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},_t=function(e,t){for(var n=new ArrayBuffer(e.length),r=new Uint8Array(n),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return yt(n,t)},Tt=function(e){return(/^data:(.+);/.exec(e)||[])[1]||null},It=function(e){return e.split(",")[1].replace(/\s/g,"")},bt=function(e){return atob(It(e))},Ot=function(e){var t=Tt(e),n=bt(e);return _t(n,t)},Rt=function(e,t,n){return Et(Ot(e),t,null,n)},wt=function(e){if(!/^content-disposition:/i.test(e))return null;var t=e.split(/filename=|filename\*=.+''/).splice(1).map((function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(e){return e.length}));return t.length?decodeURI(t[t.length-1]):null},St=function(e){if(/content-length:/i.test(e)){var t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},Dt=function(e){return/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null},At=function(e){var t={source:null,name:null,size:null},n=e.split("\n"),r=!0,o=!1,i=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value,s=wt(u);if(s)t.name=s;else{var l=St(u);if(l)t.size=l;else{var f=Dt(u);f&&(t.source=f)}}}}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return t},Pt=function(e){var t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=function(){return t.progress},r=function(){t.request&&t.request.abort&&t.request.abort()},o=function(){var e=t.source;a.fire("init",e),e instanceof File?a.fire("load",e):e instanceof Blob?a.fire("load",Et(e,e.name)):ft(e)?a.fire("load",Rt(e)):i(e)},i=function(n){e?(t.timestamp=Date.now(),t.request=e(n,(function(e){t.duration=Date.now()-t.timestamp,t.complete=!0,e instanceof Blob&&(e=Et(e,e.name||pt(n))),a.fire("load",e instanceof Blob?e:e?e.body:null)}),(function(e){a.fire("error","string"==typeof e?{type:"error",code:0,body:e}:e)}),(function(e,n,r){r&&(t.size=r),t.duration=Date.now()-t.timestamp,e?(t.progress=n/r,a.fire("progress",t.progress)):t.progress=null}),(function(){a.fire("abort")}),(function(e){var n=At("string"==typeof e?e:e.headers);a.fire("meta",{size:t.size||n.size,filename:n.name,source:n.source})}))):a.fire("error",{type:"error",body:"Can't load URL",code:400})},a=Object.assign({},Ce(),{setSource:function(e){return t.source=e},getProgress:n,abort:r,load:o});return a},Ct=function(e){return/GET|HEAD/.test(e)},Lt=function(e,t,n){var r={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){o=!0,a.abort()}},o=!1,i=!1;n=Object.assign({method:"POST",headers:{},withCredentials:!1},n),t=encodeURI(t),Ct(n.method)&&e&&(t=""+t+encodeURIComponent("string"==typeof e?e:JSON.stringify(e)));var a=new XMLHttpRequest;return(Ct(n.method)?a:a.upload).onprogress=function(e){o||r.onprogress(e.lengthComputable,e.loaded,e.total)},a.onreadystatechange=function(){a.readyState<2||4===a.readyState&&0===a.status||i||(i=!0,r.onheaders(a))},a.onload=function(){a.status>=200&&a.status<300?r.onload(a):r.onerror(a)},a.onerror=function(){return r.onerror(a)},a.onabort=function(){o=!0,r.onabort()},a.ontimeout=function(){return r.ontimeout(a)},a.open(n.method,t,!0),K(n.timeout)&&(a.timeout=n.timeout),Object.keys(n.headers).forEach((function(e){var t=unescape(encodeURIComponent(n.headers[e]));a.setRequestHeader(e,t)})),n.responseType&&(a.responseType=n.responseType),n.withCredentials&&(a.withCredentials=!0),a.send(e),r},Mt=function(e,t,n,r){return{type:e,code:t,body:n,headers:r}},Nt=function(e){return function(t){e(Mt("error",0,"Timeout",t.getAllResponseHeaders()))}},xt=function(e){return/\?/.test(e)},Gt=function(){for(var e="",t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e+=xt(e)&&xt(t)?t.replace(/\?/,"&"):t})),e},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!z(t.url))return null;var n=t.onload||function(e){return e},r=t.onerror||function(e){return null};return function(o,i,a,c,u,s){var l=Lt(o,Gt(e,t.url),Object.assign({},t,{responseType:"blob"}));return l.onload=function(e){var r=e.getAllResponseHeaders(),a=At(r).name||pt(o);i(Mt("load",e.status,"HEAD"===t.method?null:Et(n(e.response),a),r))},l.onerror=function(e){a(Mt("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},l.onheaders=function(e){s(Mt("headers",e.status,null,e.getAllResponseHeaders()))},l.ontimeout=Nt(a),l.onprogress=c,l.onabort=u,l}},kt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Ft=function(e,t,n,r,o,i,a,c,u,s,l){for(var f=[],p=l.chunkTransferId,d=l.chunkServer,h=l.chunkSize,v=l.chunkRetryDelays,m={serverId:p,aborted:!1},E=t.ondata||function(e){return e},g=t.onload||function(e,t){return"HEAD"===t?e.getResponseHeader("Upload-Offset"):e.response},y=t.onerror||function(e){return null},_=function(i){var c=new FormData;ie(o)&&c.append(n,JSON.stringify(o));var u="function"==typeof t.headers?t.headers(r,o):Object.assign({},t.headers,{"Upload-Length":r.size}),s=Object.assign({},t,{headers:u}),l=Lt(E(c),Gt(e,t.url),s);l.onload=function(e){return i(g(e,s.method))},l.onerror=function(e){return a(Mt("error",e.status,y(e.response)||e.statusText,e.getAllResponseHeaders()))},l.ontimeout=Nt(a)},T=function(n){var r=Gt(e,d.url,m.serverId),o={headers:"function"==typeof t.headers?t.headers(m.serverId):Object.assign({},t.headers),method:"HEAD"},i=Lt(null,r,o);i.onload=function(e){return n(g(e,o.method))},i.onerror=function(e){return a(Mt("error",e.status,y(e.response)||e.statusText,e.getAllResponseHeaders()))},i.ontimeout=Nt(a)},I=Math.floor(r.size/h),b=0;b<=I;b++){var O=b*h,R=r.slice(O,O+h,"application/offset+octet-stream");f[b]={index:b,size:R.size,offset:O,data:R,file:r,progress:0,retries:Re(v),status:kt.QUEUED,error:null,request:null,timeout:null}}var w=function(){return i(m.serverId)},S=function(e){return e.status===kt.QUEUED||e.status===kt.ERROR},D=function(t){if(!m.aborted)if(t=t||f.find(S)){t.status=kt.PROCESSING,t.progress=null;var n=d.ondata||function(e){return e},o=d.onerror||function(e){return null},i=Gt(e,d.url,m.serverId),c="function"==typeof d.headers?d.headers(t):Object.assign({},d.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":t.offset,"Upload-Length":r.size,"Upload-Name":r.name}),s=t.request=Lt(n(t.data),i,Object.assign({},d,{headers:c}));s.onload=function(){t.status=kt.COMPLETE,t.request=null,C()},s.onprogress=function(e,n,r){t.progress=e?n:null,P()},s.onerror=function(e){t.status=kt.ERROR,t.request=null,t.error=o(e.response)||e.statusText,A(t)||a(Mt("error",e.status,o(e.response)||e.statusText,e.getAllResponseHeaders()))},s.ontimeout=function(e){t.status=kt.ERROR,t.request=null,A(t)||Nt(a)(e)},s.onabort=function(){t.status=kt.QUEUED,t.request=null,u()}}else f.every((function(e){return e.status===kt.COMPLETE}))&&w()},A=function(e){return 0!==e.retries.length&&(e.status=kt.WAITING,clearTimeout(e.timeout),e.timeout=setTimeout((function(){D(e)}),e.retries.shift()),!0)},P=function(){var e=f.reduce((function(e,t){return null===e||null===t.progress?null:e+t.progress}),0);if(null===e)return c(!1,0,0);var t=f.reduce((function(e,t){return e+t.size}),0);c(!0,e,t)},C=function(){f.filter((function(e){return e.status===kt.PROCESSING})).length>=1||D()},L=function(){f.forEach((function(e){clearTimeout(e.timeout),e.request&&e.request.abort()}))};return m.serverId?T((function(e){m.aborted||(f.filter((function(t){return t.offset<e})).forEach((function(e){e.status=kt.COMPLETE,e.progress=e.size})),C())})):_((function(e){m.aborted||(s(e),m.serverId=e,C())})),{abort:function(){m.aborted=!0,L()}}},Ut=function(e,t,n,r){return function(o,i,a,c,u,s,l){if(o){var f=r.chunkUploads,p=f&&o.size>r.chunkSize,d=f&&(p||r.chunkForce);if(o instanceof Blob&&d)return Ft(e,t,n,o,i,a,c,u,s,l,r);var h=t.ondata||function(e){return e},v=t.onload||function(e){return e},m=t.onerror||function(e){return null},E=new FormData;ie(i)&&E.append(n,JSON.stringify(i)),(o instanceof Blob?[{name:null,file:o}]:o).forEach((function(e){E.append(n,e.file,null===e.name?e.file.name:""+e.name+e.file.name)}));var g=Lt(h(E),Gt(e,t.url),t);return g.onload=function(e){a(Mt("load",e.status,v(e.response),e.getAllResponseHeaders()))},g.onerror=function(e){c(Mt("error",e.status,m(e.response)||e.statusText,e.getAllResponseHeaders()))},g.ontimeout=Nt(c),g.onprogress=u,g.onabort=s,g}}},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return"function"==typeof t?function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,[n].concat(o,[r]))}:t&&z(t.url)?Ut(e,t,n,r):null},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!z(t.url))return function(e,t){return t()};var n=t.onload||function(e){return e},r=t.onerror||function(e){return null};return function(o,i,a){var c=Lt(o,e+t.url,t);return c.onload=function(e){i(Mt("load",e.status,n(e.response),e.getAllResponseHeaders()))},c.onerror=function(e){a(Mt("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},c.ontimeout=Nt(a),c}},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.random()*(t-e)},Yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,o=null,i=Date.now();return function a(){var c=Date.now()-i,u=qt(n,r);c+u>t&&(u=c+u-t);var s=c/t;s>=1||document.hidden?e(1):(e(s),o=setTimeout(a,u))}(),{clear:function(){clearTimeout(o)}}},Ht=function(e){var t={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},n=function(n,r){var o=function(){0!==t.duration&&null!==t.progress&&c.fire("progress",c.getProgress())},i=function(){t.complete=!0,c.fire("load-perceived",t.response.body)};c.fire("start"),t.timestamp=Date.now(),t.perceivedPerformanceUpdater=Yt((function(e){t.perceivedProgress=e,t.perceivedDuration=Date.now()-t.timestamp,o(),t.response&&1===t.perceivedProgress&&!t.complete&&i()}),qt(750,1500)),t.request=e(n,r,(function(e){t.response=ie(e)?e:{type:"load",code:200,body:""+e,headers:{}},t.duration=Date.now()-t.timestamp,t.progress=1,c.fire("load",t.response.body),1===t.perceivedProgress&&i()}),(function(e){t.perceivedPerformanceUpdater.clear(),c.fire("error",ie(e)?e:{type:"error",code:0,body:""+e})}),(function(e,n,r){t.duration=Date.now()-t.timestamp,t.progress=e?n/r:null,o()}),(function(){t.perceivedPerformanceUpdater.clear(),c.fire("abort",t.response?t.response.body:null)}),(function(e){c.fire("transfer",e)}))},r=function(){t.request&&(t.perceivedPerformanceUpdater.clear(),t.request.abort&&t.request.abort(),t.complete=!0)},o=function(){r(),t.complete=!1,t.perceivedProgress=0,t.progress=0,t.timestamp=null,t.perceivedDuration=0,t.duration=0,t.request=null,t.response=null},i=function(){return t.progress?Math.min(t.progress,t.perceivedProgress):null},a=function(){return Math.min(t.duration,t.perceivedDuration)},c=Object.assign({},Ce(),{process:n,abort:r,getProgress:i,getDuration:a,reset:o});return c},Wt=function(e){return e.substr(0,e.lastIndexOf("."))||e},zt=function(e){var t=[e.name,e.size,e.type];return e instanceof Blob||ft(e)?t[0]=e.name||mt():ft(e)?(t[1]=e.length,t[2]=Tt(e)):z(e)&&(t[0]=pt(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},Xt=function(e){return!!(e instanceof File||e instanceof Blob&&e.name)},Qt=function e(t){if(!ie(t))return t;var n=V(t)?[]:{};for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];n[r]=o&&ie(o)?e(o):o}return n},Zt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=_e(),i={archived:!1,frozen:!1,released:!1,source:null,file:r,serverFileReference:n,transferId:null,processingAborted:!1,status:n?Ge.PROCESSING_COMPLETE:Ge.INIT,activeLoader:null,activeProcessor:null},c=null,u={},s=function(e){return i.status=e},l=function(e){if(!i.released&&!i.frozen){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];O.fire.apply(O,[e].concat(n))}},f=function(){return dt(i.file.name)},p=function(){return i.file.type},d=function(){return i.file.size},h=function(){return i.file},v=function(e,n,r){i.source=e,O.fireSync("init"),i.file?O.fireSync("load-skip"):(i.file=zt(e),n.on("init",(function(){l("load-init")})),n.on("meta",(function(e){i.file.size=e.size,i.file.filename=e.filename,e.source&&(t=je.LIMBO,i.serverFileReference=e.source,i.status=Ge.PROCESSING_COMPLETE),l("load-meta")})),n.on("progress",(function(e){s(Ge.LOADING),l("load-progress",e)})),n.on("error",(function(e){s(Ge.LOAD_ERROR),l("load-request-error",e)})),n.on("abort",(function(){s(Ge.INIT),l("load-abort")})),n.on("load",(function(e){i.activeLoader=null;var n=function(e){i.file=Xt(e)?e:i.file,t===je.LIMBO&&i.serverFileReference?s(Ge.PROCESSING_COMPLETE):s(Ge.IDLE),l("load")},o=function(t){i.file=e,l("load-meta"),s(Ge.LOAD_ERROR),l("load-file-error",t)};i.serverFileReference?n(e):r(e,n,o)})),n.setSource(e),i.activeLoader=n,n.load())},m=function(){i.activeLoader&&i.activeLoader.load()},E=function(){i.activeLoader?i.activeLoader.abort():(s(Ge.INIT),l("load-abort"))},g=function e(t,n){if(i.processingAborted)i.processingAborted=!1;else if(s(Ge.PROCESSING),c=null,i.file instanceof Blob){t.on("load",(function(e){i.transferId=null,i.serverFileReference=e})),t.on("transfer",(function(e){i.transferId=e})),t.on("load-perceived",(function(e){i.activeProcessor=null,i.transferId=null,i.serverFileReference=e,s(Ge.PROCESSING_COMPLETE),l("process-complete",e)})),t.on("start",(function(){l("process-start")})),t.on("error",(function(e){i.activeProcessor=null,s(Ge.PROCESSING_ERROR),l("process-error",e)})),t.on("abort",(function(e){i.activeProcessor=null,i.transferId=null,i.serverFileReference=e,s(Ge.IDLE),l("process-abort"),c&&c()})),t.on("progress",(function(e){l("process-progress",e)}));var r=function(e){i.archived||t.process(e,Object.assign({},u))},o=console.error;n(i.file,r,o),i.activeProcessor=t}else O.on("load",(function(){e(t,n)}))},y=function(){i.processingAborted=!1,s(Ge.PROCESSING_QUEUED)},_=function(){return new e((function(e){if(!i.activeProcessor)return i.processingAborted=!0,s(Ge.IDLE),l("process-abort"),void e();c=function(){e()},i.activeProcessor.abort()}))},T=function(t,n){return new e((function(e,r){null!==i.serverFileReference?(t(i.serverFileReference,(function(){i.serverFileReference=null,e()}),(function(t){n?(s(Ge.PROCESSING_REVERT_ERROR),l("process-revert-error"),r(t)):e()})),s(Ge.IDLE),l("process-revert")):e()}))},I=function(e,t,n){var r=e.split("."),o=r[0],i=r.pop(),a=u;r.forEach((function(e){return a=a[e]})),JSON.stringify(a[i])!==JSON.stringify(t)&&(a[i]=t,n||l("metadata-update",{key:o,value:u[o]}))},b=function(e){return Qt(e?u[e]:u)},O=Object.assign({id:{get:function(){return o}},origin:{get:function(){return t}},serverId:{get:function(){return i.serverFileReference}},transferId:{get:function(){return i.transferId}},status:{get:function(){return i.status}},filename:{get:function(){return i.file.name}},filenameWithoutExtension:{get:function(){return Wt(i.file.name)}},fileExtension:{get:f},fileType:{get:p},fileSize:{get:d},file:{get:h},relativePath:{get:function(){return i.file._relativePath}},source:{get:function(){return i.source}},getMetadata:b,setMetadata:function(e,t,n){if(ie(e)){var r=e;return Object.keys(r).forEach((function(e){I(e,r[e],t)})),e}return I(e,t,n),t},extend:function(e,t){return R[e]=t},abortLoad:E,retryLoad:m,requestProcessing:y,abortProcessing:_,load:v,process:g,revert:T},Ce(),{freeze:function(){return i.frozen=!0},release:function(){return i.released=!0},released:{get:function(){return i.released}},archive:function(){return i.archived=!0},archived:{get:function(){return i.archived}}}),R=a(O);return R},Kt=function(e,t){return B(t)?0:z(t)?e.findIndex((function(e){return e.id===t})):-1},Jt=function(e,t){var n=Kt(e,t);if(!(n<0))return e[n]||null},$t=function(e,t,n,r,o,i){var a=Lt(null,e,{method:"GET",responseType:"blob"});return a.onload=function(n){var r=n.getAllResponseHeaders(),o=At(r).name||pt(e);t(Mt("load",n.status,Et(n.response,o),r))},a.onerror=function(e){n(Mt("error",e.status,e.statusText,e.getAllResponseHeaders()))},a.onheaders=function(e){i(Mt("headers",e.status,null,e.getAllResponseHeaders()))},a.ontimeout=Nt(n),a.onprogress=r,a.onabort=o,a},en=function(e){return 0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},tn=function(e){return(e.indexOf(":")>-1||e.indexOf("//")>-1)&&en(location.href)!==en(e)},nn=function(e){return function(){return $(e)?e.apply(void 0,arguments):e}},rn=function(e){return!Xt(e.file)},on=function(e,t){clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout((function(){e("DID_UPDATE_ITEMS",{items:Je(t.items)})}),0)},an=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return new e((function(e){if(!t)return e(!0);var n=t.apply(void 0,r);return null==n?e(!0):"boolean"==typeof n?e(n):void("function"==typeof n.then&&n.then(e))}))},cn=function(e,t){e.items.sort((function(e,n){return t(Ne(e),Ne(n))}))},un=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.query,o=n.success,i=void 0===o?function(){}:o,a=n.failure,c=void 0===a?function(){}:a,u=Oe(n,["query","success","failure"]),s=Ze(e.items,r);s?t(s,i,c,u||{}):c({error:Mt("error",0,"Item not found"),file:null})}},sn=function(t,n,r){return{ABORT_ALL:function(){Je(r.items).forEach((function(e){e.freeze(),e.abortLoad(),e.abortProcessing()}))},DID_SET_FILES:function(e){var n=e.value,o=(void 0===n?[]:n).map((function(e){return{source:e.source?e.source:e,options:e.options}})),i=Je(r.items);i.forEach((function(e){o.find((function(t){return t.source===e.source||t.source===e.file}))||t("REMOVE_ITEM",{query:e,remove:!1})})),i=Je(r.items),o.forEach((function(e,n){i.find((function(t){return t.source===e.source||t.file===e.source}))||t("ADD_ITEM",Object.assign({},e,{interactionMethod:ye.NONE,index:n}))}))},DID_UPDATE_ITEM_METADATA:function(e){var o=e.id;clearTimeout(r.itemUpdateTimeout),r.itemUpdateTimeout=setTimeout((function(){var e=Jt(r.items,o);if(n("IS_ASYNC")){var i=function(){setTimeout((function(){t("REQUEST_ITEM_PROCESSING",{query:o})}),32)},a=function(t){e.revert(Bt(r.options.server.url,r.options.server.revert),n("GET_FORCE_REVERT")).then(t?i:function(){}).catch((function(){}))},c=function(t){e.abortProcessing().then(t?i:function(){})};return e.status===Ge.PROCESSING_COMPLETE?a(r.options.instantUpload):e.status===Ge.PROCESSING?c(r.options.instantUpload):void(r.options.instantUpload&&i())}qe("SHOULD_PREPARE_OUTPUT",!1,{item:e,query:n}).then((function(n){n&&t("REQUEST_PREPARE_OUTPUT",{query:o,item:e,success:function(e){t("DID_PREPARE_OUTPUT",{id:o,file:e})}},!0)}))}),0)},MOVE_ITEM:function(e){var t=e.query,n=e.index,o=Ze(r.items,t);if(o){var i=r.items.indexOf(o);i!==(n=ut(n,0,r.items.length-1))&&r.items.splice(n,0,r.items.splice(i,1)[0])}},SORT:function(e){var o=e.compare;cn(r,o),t("DID_SORT_ITEMS",{items:n("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(r){var o=r.items,i=r.index,a=r.interactionMethod,c=r.success,u=void 0===c?function(){}:c,s=r.failure,l=void 0===s?function(){}:s,f=i;if(-1===i||void 0===i){var p=n("GET_ITEM_INSERT_LOCATION"),d=n("GET_TOTAL_ITEMS");f="before"===p?0:d}var h=n("GET_IGNORED_FILES"),v=function(e){return Xt(e)?!h.includes(e.name.toLowerCase()):!B(e)},m=o.filter(v).map((function(n){return new e((function(e,r){t("ADD_ITEM",{interactionMethod:a,source:n.source||n,success:e,failure:r,index:f++,options:n.options||{}})}))}));e.all(m).then(u).catch(l)},ADD_ITEM:function(e){var o=e.source,i=e.index,a=void 0===i?-1:i,c=e.interactionMethod,u=e.success,s=void 0===u?function(){}:u,l=e.failure,f=void 0===l?function(){}:l,p=e.options,d=void 0===p?{}:p;if(B(o))f({error:Mt("error",0,"No source"),file:null});else if(!Xt(o)||!r.options.ignoredFiles.includes(o.name.toLowerCase())){if(!ct(r)){if(r.options.allowMultiple||!r.options.allowMultiple&&!r.options.allowReplace){var h=Mt("warning",0,"Max files");return t("DID_THROW_MAX_FILES",{source:o,error:h}),void f({error:h,file:null})}var v=Je(r.items)[0];if(v.status===Ge.PROCESSING_COMPLETE||v.status===Ge.PROCESSING_REVERT_ERROR){var m=n("GET_FORCE_REVERT");if(v.revert(Bt(r.options.server.url,r.options.server.revert),m).then((function(){m&&t("ADD_ITEM",{source:o,index:a,interactionMethod:c,success:s,failure:f,options:d})})).catch((function(){})),m)return}t("REMOVE_ITEM",{query:v.id})}var E="local"===d.type?je.LOCAL:"limbo"===d.type?je.LIMBO:je.INPUT,g=Zt(E,E===je.INPUT?null:o,d.file);Object.keys(d.metadata||{}).forEach((function(e){g.setMetadata(e,d.metadata[e])})),Ye("DID_CREATE_ITEM",g,{query:n,dispatch:t});var y=n("GET_ITEM_INSERT_LOCATION");r.options.itemInsertLocationFreedom||(a="before"===y?-1:r.items.length),lt(r.items,g,a),$(y)&&o&&cn(r,y);var _=g.id;g.on("init",(function(){t("DID_INIT_ITEM",{id:_})})),g.on("load-init",(function(){t("DID_START_ITEM_LOAD",{id:_})})),g.on("load-meta",(function(){t("DID_UPDATE_ITEM_META",{id:_})})),g.on("load-progress",(function(e){t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:_,progress:e})})),g.on("load-request-error",(function(e){var n=nn(r.options.labelFileLoadError)(e);if(e.code>=400&&e.code<500)return t("DID_THROW_ITEM_INVALID",{id:_,error:e,status:{main:n,sub:e.code+" ("+e.body+")"}}),void f({error:e,file:Ne(g)});t("DID_THROW_ITEM_LOAD_ERROR",{id:_,error:e,status:{main:n,sub:r.options.labelTapToRetry}})})),g.on("load-file-error",(function(e){t("DID_THROW_ITEM_INVALID",{id:_,error:e.status,status:e.status}),f({error:e.status,file:Ne(g)})})),g.on("load-abort",(function(){t("REMOVE_ITEM",{query:_})})),g.on("load-skip",(function(){t("COMPLETE_LOAD_ITEM",{query:_,item:g,data:{source:o,success:s}})})),g.on("load",(function(){var e=function(e){e?(g.on("metadata-update",(function(e){t("DID_UPDATE_ITEM_METADATA",{id:_,change:e})})),qe("SHOULD_PREPARE_OUTPUT",!1,{item:g,query:n}).then((function(e){var n=function(){t("COMPLETE_LOAD_ITEM",{query:_,item:g,data:{source:o,success:s}}),on(t,r)};e?t("REQUEST_PREPARE_OUTPUT",{query:_,item:g,success:function(e){t("DID_PREPARE_OUTPUT",{id:_,file:e}),n()}},!0):n()}))):t("REMOVE_ITEM",{query:_})};qe("DID_LOAD_ITEM",g,{query:n,dispatch:t}).then((function(){an(n("GET_BEFORE_ADD_FILE"),Ne(g)).then(e)})).catch((function(){e(!1)}))})),g.on("process-start",(function(){t("DID_START_ITEM_PROCESSING",{id:_})})),g.on("process-progress",(function(e){t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:_,progress:e})})),g.on("process-error",(function(e){t("DID_THROW_ITEM_PROCESSING_ERROR",{id:_,error:e,status:{main:nn(r.options.labelFileProcessingError)(e),sub:r.options.labelTapToRetry}})})),g.on("process-revert-error",(function(e){t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:_,error:e,status:{main:nn(r.options.labelFileProcessingRevertError)(e),sub:r.options.labelTapToRetry}})})),g.on("process-complete",(function(e){t("DID_COMPLETE_ITEM_PROCESSING",{id:_,error:null,serverFileReference:e}),t("DID_DEFINE_VALUE",{id:_,value:e})})),g.on("process-abort",(function(){t("DID_ABORT_ITEM_PROCESSING",{id:_})})),g.on("process-revert",(function(){t("DID_REVERT_ITEM_PROCESSING",{id:_}),t("DID_DEFINE_VALUE",{id:_,value:null})})),t("DID_ADD_ITEM",{id:_,index:a,interactionMethod:c}),on(t,r);var T=r.options.server||{},I=T.url,b=T.load,O=T.restore,R=T.fetch;g.load(o,Pt(E===je.INPUT?z(o)&&tn(o)&&R?jt(I,R):$t:E===je.LIMBO?jt(I,O):jt(I,b)),(function(e,t,r){qe("LOAD_FILE",e,{query:n}).then(t).catch(r)}))}},REQUEST_PREPARE_OUTPUT:function(e){var t=e.item,r=e.success,o=e.failure,i=void 0===o?function(){}:o,a={error:Mt("error",0,"Item not found"),file:null};if(t.archived)return i(a);qe("PREPARE_OUTPUT",t.file,{query:n,item:t}).then((function(e){qe("COMPLETE_PREPARE_OUTPUT",e,{query:n,item:t}).then((function(e){if(t.archived)return i(a);r(e)}))}))},COMPLETE_LOAD_ITEM:function(e){var o=e.item,i=e.data,a=i.success,c=i.source,u=n("GET_ITEM_INSERT_LOCATION");if($(u)&&c&&cn(r,u),t("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.origin===je.INPUT?null:c}),a(Ne(o)),o.origin!==je.LOCAL)return o.origin===je.LIMBO?(t("DID_COMPLETE_ITEM_PROCESSING",{id:o.id,error:null,serverFileReference:c}),void t("DID_DEFINE_VALUE",{id:o.id,value:c})):void(n("IS_ASYNC")&&r.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:o.id}));t("DID_LOAD_LOCAL_ITEM",{id:o.id})},RETRY_ITEM_LOAD:un(r,(function(e){e.retryLoad()})),REQUEST_ITEM_PREPARE:un(r,(function(e,n,r){t("REQUEST_PREPARE_OUTPUT",{query:e.id,item:e,success:function(r){t("DID_PREPARE_OUTPUT",{id:e.id,file:r}),n({file:e,output:r})},failure:r},!0)})),REQUEST_ITEM_PROCESSING:un(r,(function(e,o,i){if(e.status===Ge.IDLE||e.status===Ge.PROCESSING_ERROR)e.status!==Ge.PROCESSING_QUEUED&&(e.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:e.id}),t("PROCESS_ITEM",{query:e,success:o,failure:i},!0));else{var a=function(){return t("REQUEST_ITEM_PROCESSING",{query:e,success:o,failure:i})},c=function(){return document.hidden?a():setTimeout(a,32)};e.status===Ge.PROCESSING_COMPLETE||e.status===Ge.PROCESSING_REVERT_ERROR?e.revert(Bt(r.options.server.url,r.options.server.revert),n("GET_FORCE_REVERT")).then(c).catch((function(){})):e.status===Ge.PROCESSING&&e.abortProcessing().then(c)}})),PROCESS_ITEM:un(r,(function(e,o,i){var a=n("GET_MAX_PARALLEL_UPLOADS");if(n("GET_ITEMS_BY_STATUS",Ge.PROCESSING).length!==a){if(e.status!==Ge.PROCESSING){var c=function e(){var n=r.processingQueue.shift();if(n){var o=n.id,i=n.success,a=n.failure,c=Ze(r.items,o);c&&!c.archived?t("PROCESS_ITEM",{query:o,success:i,failure:a},!0):e()}};e.onOnce("process-complete",(function(){o(Ne(e)),c(),n("GET_ITEMS_BY_STATUS",Ge.PROCESSING_COMPLETE).length===r.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")})),e.onOnce("process-error",(function(t){i({error:t,file:Ne(e)}),c()}));var u=r.options;e.process(Ht(Vt(u.server.url,u.server.process,u.name,{chunkTransferId:e.transferId,chunkServer:u.server.patch,chunkUploads:u.chunkUploads,chunkForce:u.chunkForce,chunkSize:u.chunkSize,chunkRetryDelays:u.chunkRetryDelays})),(function(r,o,i){qe("PREPARE_OUTPUT",r,{query:n,item:e}).then((function(n){t("DID_PREPARE_OUTPUT",{id:e.id,file:n}),o(n)})).catch(i)}))}}else r.processingQueue.push({id:e.id,success:o,failure:i})})),RETRY_ITEM_PROCESSING:un(r,(function(e){t("REQUEST_ITEM_PROCESSING",{query:e})})),REQUEST_REMOVE_ITEM:un(r,(function(e){an(n("GET_BEFORE_REMOVE_FILE"),Ne(e)).then((function(n){n&&t("REMOVE_ITEM",{query:e})}))})),RELEASE_ITEM:un(r,(function(e){e.release()})),REMOVE_ITEM:un(r,(function(e,o,i,a){var c=function(){var n=e.id;Jt(r.items,n).archive(),t("DID_REMOVE_ITEM",{error:null,id:n,item:e}),on(t,r),o(Ne(e))},u=r.options.server;e.origin===je.LOCAL&&u&&$(u.remove)&&!1!==a.remove?(t("DID_START_ITEM_REMOVE",{id:e.id}),u.remove(e.source,(function(){return c()}),(function(n){t("DID_THROW_ITEM_REMOVE_ERROR",{id:e.id,error:Mt("error",0,n,null),status:{main:nn(r.options.labelFileRemoveError)(n),sub:r.options.labelTapToRetry}})}))):(a.revert&&e.origin!==je.LOCAL&&null!==e.serverId&&e.revert(Bt(r.options.server.url,r.options.server.revert),n("GET_FORCE_REVERT")),c())})),ABORT_ITEM_LOAD:un(r,(function(e){e.abortLoad()})),ABORT_ITEM_PROCESSING:un(r,(function(e){e.serverId?t("REVERT_ITEM_PROCESSING",{id:e.id}):e.abortProcessing().then((function(){r.options.instantUpload&&t("REMOVE_ITEM",{query:e.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:un(r,(function(e){if(r.options.instantUpload){var o=function(n){n&&t("REVERT_ITEM_PROCESSING",{query:e})},i=n("GET_BEFORE_REMOVE_FILE");if(!i)return o(!0);var a=i(Ne(e));return null==a?o(!0):"boolean"==typeof a?o(a):void("function"==typeof a.then&&a.then(o))}t("REVERT_ITEM_PROCESSING",{query:e})})),REVERT_ITEM_PROCESSING:un(r,(function(e){e.revert(Bt(r.options.server.url,r.options.server.revert),n("GET_FORCE_REVERT")).then((function(){(r.options.instantUpload||rn(e))&&t("REMOVE_ITEM",{query:e.id})})).catch((function(){}))})),SET_OPTIONS:function(e){var n=e.options;i(n,(function(e,n){t("SET_"+ve(e,"_").toUpperCase(),{value:n})}))}}},ln=function(e){return e},fn=function(e){return document.createElement(e)},pn=function(e,t){var n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},dn=function(e,t,n,r){var o=(r%360-90)*Math.PI/180;return{x:e+n*Math.cos(o),y:t+n*Math.sin(o)}},hn=function(e,t,n,r,o,i){var a=dn(e,t,n,o),c=dn(e,t,n,r);return["M",a.x,a.y,"A",n,n,0,i,0,c.x,c.y].join(" ")},vn=function(e,t,n,r,o){var i=1;return o>r&&o-r<=.5&&(i=0),r>o&&r-o>=.5&&(i=0),hn(e,t,n,360*Math.min(.9999,r),360*Math.min(.9999,o),i)},mn=G({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(e){var t=e.root,n=e.props;n.spin=!1,n.progress=0,n.opacity=0;var r=f("svg");t.ref.path=f("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(t.ref.path),t.ref.svg=r,t.appendChild(r)},write:function(e){var t=e.root,n=e.props;if(0!==n.opacity){n.align&&(t.element.dataset.align=n.align);var r=parseInt(c(t.ref.path,"stroke-width"),10),o=.5*t.rect.element.width,i=0,a=0;n.spin?(i=0,a=.5):(i=0,a=n.progress);var u=vn(o,o,o-r,i,a);c(t.ref.path,"d",u),c(t.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),En=G({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(e){var t=e.root,n=e.props;t.element.innerHTML=(n.icon||"")+"<span>"+n.label+"</span>",n.isDisabled=!1},write:function(e){var t=e.root,n=e.props,r=n.isDisabled,o=t.query("GET_DISABLED")||0===n.opacity;o&&!r?(n.isDisabled=!0,c(t.element,"disabled","disabled")):!o&&r&&(n.isDisabled=!1,t.element.removeAttribute("disabled"))}}),gn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return(e=Math.round(Math.abs(e)))<1e3?e+" bytes":e<_n?Math.floor(e/yn)+" KB":e<Tn?In(e/_n,1,t)+" MB":In(e/Tn,2,t)+" GB"},yn=1e3,_n=1e6,Tn=1e9,In=function(e,t,n){return e.toFixed(t).split(".").filter((function(e){return"0"!==e})).join(n)},bn=function(e){var t=e.root,n=e.props,r=fn("span");r.className="filepond--file-info-main",c(r,"aria-hidden","true"),t.appendChild(r),t.ref.fileName=r;var o=fn("span");o.className="filepond--file-info-sub",t.appendChild(o),t.ref.fileSize=o,pn(o,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),pn(r,ln(t.query("GET_ITEM_NAME",n.id)))},On=function(e){var t=e.root,n=e.props;pn(t.ref.fileSize,gn(t.query("GET_ITEM_SIZE",n.id))),pn(t.ref.fileName,ln(t.query("GET_ITEM_NAME",n.id)))},Rn=function(e){var t=e.root,n=e.props;K(t.query("GET_ITEM_SIZE",n.id))||pn(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},wn=G({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:k({DID_LOAD_ITEM:On,DID_UPDATE_ITEM_META:On,DID_THROW_ITEM_LOAD_ERROR:Rn,DID_THROW_ITEM_INVALID:Rn}),didCreateView:function(e){Ye("CREATE_VIEW",Object.assign({},e,{view:e}))},create:bn,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Sn=function(e){return Math.round(100*e)},Dn=function(e){var t=e.root,n=fn("span");n.className="filepond--file-status-main",t.appendChild(n),t.ref.main=n;var r=fn("span");r.className="filepond--file-status-sub",t.appendChild(r),t.ref.sub=r,An({root:t,action:{progress:null}})},An=function(e){var t=e.root,n=e.action,r=null===n.progress?t.query("GET_LABEL_FILE_LOADING"):t.query("GET_LABEL_FILE_LOADING")+" "+Sn(n.progress)+"%";pn(t.ref.main,r),pn(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},Pn=function(e){var t=e.root;pn(t.ref.main,""),pn(t.ref.sub,"")},Cn=function(e){var t=e.root,n=e.action;pn(t.ref.main,n.status.main),pn(t.ref.sub,n.status.sub)},Ln=G({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:k({DID_LOAD_ITEM:Pn,DID_REVERT_ITEM_PROCESSING:Pn,DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;pn(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),pn(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(e){var t=e.root;pn(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),pn(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root;pn(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),pn(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action,r=null===n.progress?t.query("GET_LABEL_FILE_PROCESSING"):t.query("GET_LABEL_FILE_PROCESSING")+" "+Sn(n.progress)+"%";pn(t.ref.main,r),pn(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:An,DID_THROW_ITEM_LOAD_ERROR:Cn,DID_THROW_ITEM_INVALID:Cn,DID_THROW_ITEM_PROCESSING_ERROR:Cn,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Cn,DID_THROW_ITEM_REMOVE_ERROR:Cn}),didCreateView:function(e){Ye("CREATE_VIEW",Object.assign({},e,{view:e}))},create:Dn,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Mn={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Nn=[];i(Mn,(function(e){Nn.push(e)}));var xn,Gn=function(e){var t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},jn=function(e){return e.ref.buttonAbortItemLoad.rect.element.width},kn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.height/4)},Fn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.left/2)},Un=function(e){return e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},Vn={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Bn={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Gn},status:{translateX:Gn}},qn={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Yn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Gn},status:{translateX:Gn,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Gn},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Un},info:{translateX:Gn},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Un},buttonRemoveItem:{opacity:1},info:{translateX:Gn},status:{opacity:1,translateX:Gn}},DID_LOAD_ITEM:Bn,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Gn},status:{translateX:Gn}},DID_START_ITEM_PROCESSING:qn,DID_REQUEST_ITEM_PROCESSING:qn,DID_UPDATE_ITEM_PROCESS_PROGRESS:qn,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Gn}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Gn},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Bn},Hn=G({create:function(e){var t=e.root;t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Wn=function(e){var t,n=e.root,r=e.props.id,o=n.query("GET_ALLOW_REVERT"),a=n.query("GET_ALLOW_REMOVE"),c=n.query("GET_ALLOW_PROCESS"),u=n.query("GET_INSTANT_UPLOAD"),s=n.query("IS_ASYNC"),l=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");s?c&&!o?t=function(e){return!/RevertItemProcessing/.test(e)}:!c&&o?t=function(e){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(e)}:c||o||(t=function(e){return!/Process/.test(e)}):t=function(e){return!/Process/.test(e)};var f=t?Nn.filter(t):Nn.concat();if(u&&o&&(Mn.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",Mn.RevertItemProcessing.icon="GET_ICON_REMOVE"),s&&!o){var p=Yn.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=Fn,p.info.translateY=kn,p.status.translateY=kn,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(s&&!c&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((function(e){Yn[e].status.translateY=kn})),Yn.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=jn),l&&o){Mn.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var d=Yn.DID_COMPLETE_ITEM_PROCESSING;d.info.translateX=Gn,d.status.translateY=kn,d.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}a||(Mn.RemoveItem.disabled=!0),i(Mn,(function(e,t){var o=n.createChildView(En,{label:n.query(t.label),icon:n.query(t.icon),opacity:0});f.includes(e)&&n.appendChildView(o),t.disabled&&(o.element.setAttribute("disabled","disabled"),o.element.setAttribute("hidden","hidden")),o.element.dataset.align=n.query("GET_STYLE_"+t.align),o.element.classList.add(t.className),o.on("click",(function(e){e.stopPropagation(),t.disabled||n.dispatch(t.action,{query:r})})),n.ref["button"+e]=o})),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(Hn)),n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),n.ref.info=n.appendChildView(n.createChildView(wn,{id:r})),n.ref.status=n.appendChildView(n.createChildView(Ln,{id:r}));var h=n.appendChildView(n.createChildView(mn,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));h.element.classList.add("filepond--load-indicator"),n.ref.loadProgressIndicator=h;var v=n.appendChildView(n.createChildView(mn,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));v.element.classList.add("filepond--process-indicator"),n.ref.processProgressIndicator=v,n.ref.activeStyles=[]},zn=function(e){var t=e.root,n=e.actions,r=e.props;Xn({root:t,actions:n,props:r});var o=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return Yn[e.type]}));if(o){t.ref.activeStyles=[];var a=Yn[o.type];i(Vn,(function(e,n){var r=t.ref[e];i(n,(function(n,o){var i=a[e]&&void 0!==a[e][n]?a[e][n]:o;t.ref.activeStyles.push({control:r,key:n,value:i})}))}))}t.ref.activeStyles.forEach((function(e){var n=e.control,r=e.key,o=e.value;n[r]="function"==typeof o?o(t):o}))},Xn=k({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(e){var t=e.root;t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=n.progress}}),Qn=G({create:Wn,write:zn,didCreateView:function(e){Ye("CREATE_VIEW",Object.assign({},e,{view:e}))},name:"file"}),Zn=G({create:function(e){var t=e.root,n=e.props;t.ref.fileName=fn("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(Qn,{id:n.id})),t.ref.data=!1},ignoreRect:!0,write:k({DID_LOAD_ITEM:function(e){var t=e.root,n=e.props;pn(t.ref.fileName,ln(t.query("GET_ITEM_NAME",n.id)))}}),didCreateView:function(e){Ye("CREATE_VIEW",Object.assign({},e,{view:e}))},tag:"fieldset",name:"file-wrapper"}),Kn={type:"spring",damping:.6,mass:7},Jn=function(e){var t=e.root,n=e.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Kn},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Kn},styles:["translateY"]}}].forEach((function(e){$n(t,e,n.name)})),t.element.classList.add("filepond--"+n.name),t.ref.scalable=null},$n=function(e,t,n){var r=G({name:"panel-"+t.name+" filepond--"+n,mixins:t.mixins,ignoreRectUpdate:!0}),o=e.createChildView(r,t.props);e.ref[t.name]=e.appendChildView(o)},er=G({name:"panel",write:function(e){var t=e.root,n=e.props;if(null!==t.ref.scalable&&n.scalable===t.ref.scalable||(t.ref.scalable=!H(n.scalable)||n.scalable,t.element.dataset.scalable=t.ref.scalable),n.height){var r=t.ref.top.rect.element,o=t.ref.bottom.rect.element,i=Math.max(r.height+o.height,n.height);t.ref.center.translateY=r.height,t.ref.center.scaleY=(i-r.height-o.height)/100,t.ref.bottom.translateY=i-o.height}},create:Jn,ignoreRect:!0,mixins:{apis:["height","scalable"]}}),tr=function(e){var t=e.map((function(e){return e.id})),n=void 0;return{setIndex:function(e){n=e},getIndex:function(){return n},getItemIndex:function(e){return t.indexOf(e.id)}}},nr={type:"spring",stiffness:.75,damping:.45,mass:10},rr="spring",or={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},ir=function(e){var t=e.root,n=e.props;if(t.ref.handleClick=function(e){return t.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},t.element.id="filepond--item-"+n.id,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(Zn,{id:n.id})),t.ref.panel=t.appendChildView(t.createChildView(er,{name:"item-panel"})),t.ref.panel.height=null,n.markedForRemoval=!1,t.query("GET_ALLOW_REORDER")){t.element.dataset.dragState="idle";var r=function(e){if(e.isPrimary){var r=!1,o={x:e.pageX,y:e.pageY};n.dragOrigin={x:t.translateX,y:t.translateY},n.dragCenter={x:e.offsetX,y:e.offsetY};var i=tr(t.query("GET_ACTIVE_ITEMS"));t.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:i});var a=function(e){e.isPrimary&&(e.stopPropagation(),e.preventDefault(),n.dragOffset={x:e.pageX-o.x,y:e.pageY-o.y},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!r&&(r=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:i}))},c=function e(c){c.isPrimary&&(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",e),n.dragOffset={x:c.pageX-o.x,y:c.pageY-o.y},t.dispatch("DID_DROP_ITEM",{id:n.id,dragState:i}),r&&setTimeout((function(){return t.element.addEventListener("click",t.ref.handleClick)}),0))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",c)}};t.element.addEventListener("pointerdown",r)}},ar=k({DID_UPDATE_PANEL_HEIGHT:function(e){var t=e.root,n=e.action;t.height=n.height}}),cr=k({DID_GRAB_ITEM:function(e){var t=e.root;e.props.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:function(e){e.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(e){var t=e.root,n=e.props;n.dragOffset=null,n.dragOrigin=null,t.element.dataset.dragState="drop"}},(function(e){var t=e.root,n=e.actions,r=e.props,o=e.shouldOptimize;"drop"===t.element.dataset.dragState&&t.scaleX<=1&&(t.element.dataset.dragState="idle");var i=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return or[e.type]}));i&&i.type!==r.currentState&&(r.currentState=i.type,t.element.dataset.filepondItemState=or[r.currentState]||"");var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");a?o||(t.height=t.rect.element.width*a):(ar({root:t,actions:n,props:r}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),o&&(t.ref.panel.height=null),t.ref.panel.height=t.height})),ur=G({create:ir,write:cr,destroy:function(e){var t=e.root,n=e.props;t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:rr,scaleY:rr,translateX:nr,translateY:nr,opacity:{type:"tween",duration:150}}}}),sr=function(e,t,n){if(n){var r=e.rect.element.width,o=t.length,i=null;if(0===o||n.top<t[0].rect.element.top)return-1;var a=t[0].rect.element,c=a.marginLeft+a.marginRight,u=a.width+c,s=Math.round(r/u);if(1===s){for(var l=0;l<o;l++){var f=t[l],p=f.rect.outer.top+.5*f.rect.element.height;if(n.top<p)return l}return o}for(var d=a.marginTop+a.marginBottom,h=a.height+d,v=0;v<o;v++){var m=v%s*u,E=Math.floor(v/s)*h,g=E-a.marginTop,y=m+u,_=E+h+a.marginBottom;if(n.top<_&&n.top>g){if(n.left<y)return v;i=v!==o-1?v:null}}return null!==i?i:o}},lr={height:0,width:0,get getHeight(){return this.height},set setHeight(e){0!==this.height&&0!==e||(this.height=e)},get getWidth(){return this.width},set setWidth(e){0!==this.width&&0!==e||(this.width=e)},setDimensions:function(e,t){0!==this.height&&0!==e||(this.height=e),0!==this.width&&0!==t||(this.width=t)}},fr=function(e){var t=e.root;c(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},pr=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(0===e.opacity&&dr(e,t,n,r,o),e.scaleX=1,e.scaleY=1,e.opacity=1))},dr=function(e,t,n,r,o){e.interactionMethod===ye.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===ye.DROP?(e.translateX=null,e.translateX=t-20*r,e.translateY=null,e.translateY=n-10*o,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===ye.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===ye.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},hr=function(e){return e.rect.element.height+.5*e.rect.element.marginBottom+.5*e.rect.element.marginTop},vr=function(e){return e.rect.element.width+.5*e.rect.element.marginLeft+.5*e.rect.element.marginRight},mr=k({DID_ADD_ITEM:function(e){var t=e.root,n=e.action,r=n.id,o=n.index,i=n.interactionMethod;t.ref.addIndex=o;var a=Date.now(),c=a,u=1;if(i!==ye.NONE){u=0;var s=t.query("GET_ITEM_INSERT_INTERVAL"),l=a-t.ref.lastItemSpanwDate;c=l<s?a+(s-l):a}t.ref.lastItemSpanwDate=c,t.appendChildView(t.createChildView(ur,{spawnDate:c,id:r,opacity:u,interactionMethod:i}),o)},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action.id,r=t.childViews.find((function(e){return e.id===n}));r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},DID_DRAG_ITEM:function(e){var t=e.root,n=e.action,r=n.id,o=n.dragState,i=t.query("GET_ITEM",{id:r}),a=t.childViews.find((function(e){return e.id===r})),c=t.childViews.length,u=o.getItemIndex(i);if(a){var s={x:a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,y:a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y},l=hr(a),f=vr(a),p=Math.floor(t.rect.outer.width/f);p>c&&(p=c);var d=Math.floor(c/p+1);lr.setHeight=l*d,lr.setWidth=f*p;var h={y:Math.floor(s.y/l),x:Math.floor(s.x/f),getGridIndex:function(){return s.y>lr.getHeight||s.y<0||s.x>lr.getWidth||s.x<0?u:this.y*p+this.x},getColIndex:function(){for(var e=t.query("GET_ACTIVE_ITEMS"),n=t.childViews.filter((function(e){return e.rect.element.height})),r=e.map((function(e){return n.find((function(t){return t.id===e.id}))})),o=r.findIndex((function(e){return e===a})),i=hr(a),c=r.length,u=c,l=0,f=0,p=0;p<c;p++)if(l=(f=l)+hr(r[p]),s.y<l){if(o>p){if(s.y<f+i){u=p;break}continue}u=p;break}return u}},v=p>1?h.getGridIndex():h.getColIndex();t.dispatch("MOVE_ITEM",{query:a,index:v});var m=o.getIndex();if(void 0===m||m!==v){if(o.setIndex(v),void 0===m)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:u,target:v})}}}}),Er=G({create:fr,write:function(e){var t=e.root,n=e.props,r=e.actions,o=e.shouldOptimize;mr({root:t,props:n,actions:r});var i=n.dragCoordinates,a=t.rect.element.width,c=t.childViews.filter((function(e){return e.rect.element.height})),u=t.query("GET_ACTIVE_ITEMS").map((function(e){return c.find((function(t){return t.id===e.id}))})).filter((function(e){return e})),s=i?sr(t,u,i):null,l=t.ref.addIndex||null;t.ref.addIndex=null;var f=0,p=0,d=0;if(0!==u.length){var h=u[0].rect.element,v=h.marginTop+h.marginBottom,m=h.marginLeft+h.marginRight,E=h.width+m,g=h.height+v,y=Math.round(a/E);if(1===y){var _=0,T=0;u.forEach((function(e,t){if(s){var n=t-s;T=-2===n?.25*-v:-1===n?.75*-v:0===n?.75*v:1===n?.25*v:0}o&&(e.translateX=null,e.translateY=null),e.markedForRemoval||pr(e,0,_+T);var r=(e.rect.element.height+v)*(e.markedForRemoval?e.opacity:1);_+=r}))}else{var I=0,b=0;u.forEach((function(e,t){t===s&&(f=1),t===l&&(d+=1),e.markedForRemoval&&e.opacity<.5&&(p-=1);var n=t+d+f+p,r=n%y,i=Math.floor(n/y),a=r*E,c=i*g,u=Math.sign(a-I),h=Math.sign(c-b);I=a,b=c,e.markedForRemoval||(o&&(e.translateX=null,e.translateY=null),pr(e,a,c,u,h))}))}}},tag:"ul",name:"list",didWriteView:function(e){var t=e.root;t.childViews.filter((function(e){return e.markedForRemoval&&0===e.opacity&&e.resting})).forEach((function(e){e._destroy(),t.removeChildView(e)}))},filterFrameActionsForChild:function(e,t){return t.filter((function(t){return!t.data||!t.data.id||e.id===t.data.id}))},mixins:{apis:["dragCoordinates"]}}),gr=function(e){var t=e.root,n=e.props;t.ref.list=t.appendChildView(t.createChildView(Er)),n.dragCoordinates=null,n.overflowing=!1},yr=k({DID_DRAG:function(e){var t=e.root,n=e.props,r=e.action;t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:r.position.scopeLeft-t.ref.list.rect.element.left,top:r.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},DID_END_DRAG:function(e){e.props.dragCoordinates=null}}),_r=G({create:gr,write:function(e){var t=e.root,n=e.props,r=e.actions;if(yr({root:t,props:n,actions:r}),t.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,t.element.dataset.state="",t.height=null),n.overflow){var o=Math.round(n.overflow);o!==t.height&&(n.overflowing=!0,t.element.dataset.state="overflow",t.height=o)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Tr=function(e,t,n){n?c(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):e.removeAttribute(t)},Ir=function(e){if(e&&""!==e.value){try{e.value=""}catch(e){}if(e.value){var t=fn("form"),n=e.parentNode,r=e.nextSibling;t.appendChild(e),t.reset(),r?n.insertBefore(e,r):n.appendChild(e)}}},br=function(e){var t=e.root,n=e.props;t.element.id="filepond--browser-"+n.id,c(t.element,"name",t.query("GET_NAME")),c(t.element,"aria-controls","filepond--assistant-"+n.id),c(t.element,"aria-labelledby","filepond--drop-label-"+n.id),Or({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),Rr({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),wr({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Sr({root:t}),Dr({root:t,action:{value:t.query("GET_REQUIRED")}}),Ar({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=function(e){if(t.element.value){var r=Array.from(t.element.files).map((function(e){return e._relativePath=e.webkitRelativePath,e}));setTimeout((function(){n.onload(r),Ir(t.element)}),250)}},t.element.addEventListener("change",t.ref.handleChange)},Or=function(e){var t=e.root,n=e.action;t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Tr(t.element,"accept",!!n.value,n.value?n.value.join(","):"")},Rr=function(e){var t=e.root,n=e.action;Tr(t.element,"multiple",n.value)},wr=function(e){var t=e.root,n=e.action;Tr(t.element,"webkitdirectory",n.value)},Sr=function(e){var t=e.root,n=t.query("GET_DISABLED"),r=t.query("GET_ALLOW_BROWSE"),o=n||!r;Tr(t.element,"disabled",o)},Dr=function(e){var t=e.root;e.action.value?0===t.query("GET_TOTAL_ITEMS")&&Tr(t.element,"required",!0):Tr(t.element,"required",!1)},Ar=function(e){var t=e.root,n=e.action;Tr(t.element,"capture",!!n.value,!0===n.value?"":n.value)},Pr=function(e){var t=e.root,n=t.element;t.query("GET_TOTAL_ITEMS")>0?(Tr(n,"required",!1),Tr(n,"name",!1)):(Tr(n,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&n.setCustomValidity(""),t.query("GET_REQUIRED")&&Tr(n,"required",!0))},Cr=G({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:br,destroy:function(e){var t=e.root;t.element.removeEventListener("change",t.ref.handleChange)},write:k({DID_LOAD_ITEM:Pr,DID_REMOVE_ITEM:Pr,DID_THROW_ITEM_INVALID:function(e){var t=e.root;t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Sr,DID_SET_ALLOW_BROWSE:Sr,DID_SET_ALLOW_DIRECTORIES_ONLY:wr,DID_SET_ALLOW_MULTIPLE:Rr,DID_SET_ACCEPTED_FILE_TYPES:Or,DID_SET_CAPTURE_METHOD:Ar,DID_SET_REQUIRED:Dr})}),Lr={ENTER:13,SPACE:32},Mr=function(e){var t=e.root,n=e.props,r=fn("label");c(r,"for","filepond--browser-"+n.id),c(r,"id","filepond--drop-label-"+n.id),c(r,"aria-hidden","true"),t.ref.handleKeyDown=function(e){(e.keyCode===Lr.ENTER||e.keyCode===Lr.SPACE)&&(e.preventDefault(),t.ref.label.click())},t.ref.handleClick=function(e){e.target===r||r.contains(e.target)||t.ref.label.click()},r.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),Nr(r,n.caption),t.appendChild(r),t.ref.label=r},Nr=function(e,t){e.innerHTML=t;var n=e.querySelector(".filepond--label-action");return n&&c(n,"tabindex","0"),t},xr=G({name:"drop-label",ignoreRect:!0,create:Mr,destroy:function(e){var t=e.root;t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:k({DID_SET_LABEL_IDLE:function(e){var t=e.root,n=e.action;Nr(t.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Gr=G({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),jr=function(e){var t=e.root,n=.5*t.rect.element.width,r=.5*t.rect.element.height;t.ref.blob=t.appendChildView(t.createChildView(Gr,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:r}))},kr=function(e){var t=e.root,n=e.props,r=e.actions;Fr({root:t,props:n,actions:r});var o=t.ref.blob;0===r.length&&o&&0===o.opacity&&(t.removeChildView(o),t.ref.blob=null)},Fr=k({DID_DRAG:function(e){var t=e.root,n=e.action;t.ref.blob?(t.ref.blob.translateX=n.position.scopeLeft,t.ref.blob.translateY=n.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1):jr({root:t})},DID_DROP:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},DID_END_DRAG:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.opacity=0)}}),Ur=G({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:kr}),Vr=function(e){return e.root.ref.fields={}},Br=function(e,t){return e.ref.fields[t]},qr=function(e){e.query("GET_ACTIVE_ITEMS").forEach((function(t){e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])}))},Yr=function(e){var t=e.root;return qr(t)},Hr=k({DID_SET_DISABLED:function(e){var t=e.root;t.element.disabled=t.query("GET_DISABLED")},DID_ADD_ITEM:function(e){var t=e.root,n=e.action,r=fn("input");r.type="hidden",r.name=t.query("GET_NAME"),r.disabled=t.query("GET_DISABLED"),t.ref.fields[n.id]=r,qr(t)},DID_LOAD_ITEM:function(e){var t=e.root,n=e.action,r=Br(t,n.id);r&&null!==n.serverFileReference&&(r.value=n.serverFileReference)},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action,r=Br(t,n.id);r&&(r.parentNode.removeChild(r),delete t.ref.fields[n.id])},DID_DEFINE_VALUE:function(e){var t=e.root,n=e.action,r=Br(t,n.id);r&&(null===n.value?r.removeAttribute("value"):r.value=n.value,qr(t))},DID_REORDER_ITEMS:Yr,DID_SORT_ITEMS:Yr}),Wr=G({tag:"fieldset",name:"data",create:Vr,write:Hr,ignoreRect:!0}),zr=function(e){return"getRootNode"in e?e.getRootNode():document},Xr=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Qr=["css","csv","html","txt"],Zr={zip:"zip|compressed",epub:"application/epub+zip"},Kr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),Xr.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):Qr.includes(e)?"text/"+e:Zr[e]||""},Jr=function(t){return new e((function(e,n){var r=uo(t);if(r.length&&!$r(t))return e(r);eo(t).then(e)}))},$r=function(e){return!!e.files&&e.files.length>0},eo=function(t){return new e((function(n,r){var o=(t.items?Array.from(t.items):[]).filter((function(e){return to(e)})).map((function(e){return no(e)}));o.length?e.all(o).then((function(e){var t=[];e.forEach((function(e){t.push.apply(t,e)})),n(t.filter((function(e){return e})).map((function(e){return e._relativePath||(e._relativePath=e.webkitRelativePath),e})))})).catch(console.error):n(t.files?Array.from(t.files):[])}))},to=function(e){if(ao(e)){var t=co(e);if(t)return t.isFile||t.isDirectory}return"file"===e.kind},no=function(t){return new e((function(e,n){io(t)?ro(co(t)).then(e).catch(n):e([t.getAsFile()])}))},ro=function(t){return new e((function(e,n){var r=[],o=0,i=0,a=function(){0===i&&0===o&&e(r)};!function e(t){o++;var c=t.createReader();!function t(){c.readEntries((function(n){if(0===n.length)return o--,void a();n.forEach((function(t){t.isDirectory?e(t):(i++,t.file((function(e){var n=oo(e);t.fullPath&&(n._relativePath=t.fullPath),r.push(n),i--,a()})))})),t()}),n)}()}(t)}))},oo=function(e){if(e.type.length)return e;var t=e.lastModifiedDate,n=e.name;return(e=e.slice(0,e.size,Kr(dt(e.name)))).name=n,e.lastModifiedDate=t,e},io=function(e){return ao(e)&&(co(e)||{}).isDirectory},ao=function(e){return"webkitGetAsEntry"in e},co=function(e){return e.webkitGetAsEntry()},uo=function(e){var t=[];try{if((t=lo(e)).length)return t;t=so(e)}catch(e){}return t},so=function(e){var t=e.getData("url");return"string"==typeof t&&t.length?[t]:[]},lo=function(e){var t=e.getData("text/html");if("string"==typeof t&&t.length){var n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},fo=[],po=function(e){return{pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}},ho=function(e,t,n){var r=vo(t),o={element:e,filterElement:n,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return o.destroy=r.addListener(o),o},vo=function(e){var t=fo.find((function(t){return t.element===e}));if(t)return t;var n=mo(e);return fo.push(n),n},mo=function(e){var t=[],n={dragenter:To,dragover:Io,dragleave:Oo,drop:bo},r={};i(n,(function(n,o){r[n]=o(e,t),e.addEventListener(n,r[n],!1)}));var o={element:e,addListener:function(a){return t.push(a),function(){t.splice(t.indexOf(a),1),0===t.length&&(fo.splice(fo.indexOf(o),1),i(n,(function(t){e.removeEventListener(t,r[t],!1)})))}}};return o},Eo=function(e,t){return"elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)},go=function(e,t){var n=zr(t),r=Eo(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===t||t.contains(r)},yo=null,_o=function(e,t){try{e.dropEffect=t}catch(e){}},To=function(e,t){return function(e){e.preventDefault(),yo=e.target,t.forEach((function(t){var n=t.element,r=t.onenter;go(e,n)&&(t.state="enter",r(po(e)))}))}},Io=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;Jr(n).then((function(r){var o=!1;t.some((function(t){var i=t.filterElement,a=t.element,c=t.onenter,u=t.onexit,s=t.ondrag,l=t.allowdrop;_o(n,"copy");var f=l(r);if(f)if(go(e,a)){if(o=!0,null===t.state)return t.state="enter",void c(po(e));if(t.state="over",i&&!f)return void _o(n,"none");s(po(e))}else i&&!o&&_o(n,"none"),t.state&&(t.state=null,u(po(e)));else _o(n,"none")}))}))}},bo=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;Jr(n).then((function(n){t.forEach((function(t){var r=t.filterElement,o=t.element,i=t.ondrop,a=t.onexit,c=t.allowdrop;if(t.state=null,!r||go(e,o))return c(n)?void i(po(e),n):a(po(e))}))}))}},Oo=function(e,t){return function(e){yo===e.target&&t.forEach((function(t){var n=t.onexit;t.state=null,n(po(e))}))}},Ro=function(e,t,n){e.classList.add("filepond--hopper");var r=n.catchesDropsOnPage,o=n.requiresDropOnElement,i=n.filterItems,a=void 0===i?function(e){return e}:i,c=ho(e,r?document.documentElement:e,o),u="",s="";c.allowdrop=function(e){return t(a(e))},c.ondrop=function(e,n){var r=a(n);t(r)?(s="drag-drop",l.onload(r,e)):l.ondragend(e)},c.ondrag=function(e){l.ondrag(e)},c.onenter=function(e){s="drag-over",l.ondragstart(e)},c.onexit=function(e){s="drag-exit",l.ondragend(e)};var l={updateHopperState:function(){u!==s&&(e.dataset.hopperState=s,u=s)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){c.destroy()}};return l},wo=!1,So=[],Do=function(e){var t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){for(var n=!1,r=t;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}Jr(e.clipboardData).then((function(e){e.length&&So.forEach((function(t){return t(e)}))}))},Ao=function(e){So.includes(e)||(So.push(e),wo||(wo=!0,document.addEventListener("paste",Do)))},Po=function(e){Ae(So,So.indexOf(e)),0===So.length&&(document.removeEventListener("paste",Do),wo=!1)},Co=function(){var e=function(e){t.onload(e)},t={destroy:function(){Po(e)},onload:function(){}};return Ao(e),t},Lo=null,Mo=null,No=[],xo=function(e,t){e.element.textContent=t},Go=function(e){e.element.textContent=""},jo=function(e,t,n){var r=e.query("GET_TOTAL_ITEMS");xo(e,n+" "+t+", "+r+" "+(1===r?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(Mo),Mo=setTimeout((function(){Go(e)}),1500)},ko=function(e){return e.element.parentNode.contains(document.activeElement)},Fo=function(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id).filename,o=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");xo(t,r+" "+o)},Uo=function(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id).filename;xo(t,n.status.main+" "+r+" "+n.status.sub)},Vo=G({create:function(e){var t=e.root,n=e.props;t.element.id="filepond--assistant-"+n.id,c(t.element,"role","status"),c(t.element,"aria-live","polite"),c(t.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:k({DID_LOAD_ITEM:function(e){var t=e.root,n=e.action;if(ko(t)){t.element.textContent="";var r=t.query("GET_ITEM",n.id);No.push(r.filename),clearTimeout(Lo),Lo=setTimeout((function(){jo(t,No.join(", "),t.query("GET_LABEL_FILE_ADDED")),No.length=0}),750)}},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action;if(ko(t)){var r=n.item;jo(t,r.filename,t.query("GET_LABEL_FILE_REMOVED"))}},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id).filename,o=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");xo(t,r+" "+o)},DID_ABORT_ITEM_PROCESSING:Fo,DID_REVERT_ITEM_PROCESSING:Fo,DID_THROW_ITEM_REMOVE_ERROR:Uo,DID_THROW_ITEM_LOAD_ERROR:Uo,DID_THROW_ITEM_INVALID:Uo,DID_THROW_ITEM_PROCESSING_ERROR:Uo}),tag:"span",name:"assistant"}),Bo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(new RegExp(t+".","g"),(function(e){return e.charAt(1).toUpperCase()}))},qo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Date.now(),o=null;return function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];clearTimeout(o);var u=Date.now()-r,s=function(){r=Date.now(),e.apply(void 0,a)};u<t?n||(o=setTimeout(s,t-u)):s()}},Yo=1e6,Ho=function(e){return e.preventDefault()},Wo=function(e){var t=e.root,n=e.props,r=t.query("GET_ID");r&&(t.element.id=r);var o=t.query("GET_CLASS_NAME");o&&o.split(" ").filter((function(e){return e.length})).forEach((function(e){t.element.classList.add(e)})),t.ref.label=t.appendChildView(t.createChildView(xr,Object.assign({},n,{translateY:null,caption:t.query("GET_LABEL_IDLE")}))),t.ref.list=t.appendChildView(t.createChildView(_r,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(er,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(Vo,Object.assign({},n))),t.ref.data=t.appendChildView(t.createChildView(Wr,Object.assign({},n))),t.ref.measure=fn("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter((function(e){return!B(e.value)})).map((function(e){var n=e.name,r=e.value;t.element.dataset[n]=r})),t.ref.widthPrevious=null,t.ref.widthUpdated=qo((function(){t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")}),250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];var i=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&a&&!i&&(t.element.addEventListener("touchmove",Ho,{passive:!1}),t.element.addEventListener("gesturestart",Ho))},zo=function(e){var t=e.root,n=e.props,r=e.actions;if(ni({root:t,props:n,actions:r}),r.filter((function(e){return/^DID_SET_STYLE_/.test(e.type)})).filter((function(e){return!B(e.data.value)})).map((function(e){var n=e.type,r=e.data,o=Bo(n.substr(8).toLowerCase(),"_");t.element.dataset[o]=r.value,t.invalidateLayout()})),!t.rect.element.hidden){t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());var o=t.ref.bounds;o||(o=t.ref.bounds=Zo(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);var i=t.ref,a=i.hopper,c=i.label,u=i.list,s=i.panel;a&&a.updateHopperState();var l=t.query("GET_PANEL_ASPECT_RATIO"),f=t.query("GET_ALLOW_MULTIPLE"),p=t.query("GET_TOTAL_ITEMS"),d=p===(f?t.query("GET_MAX_FILES")||Yo:1),h=r.find((function(e){return"DID_ADD_ITEM"===e.type}));if(d&&h){var v=h.data.interactionMethod;c.opacity=0,f?c.translateY=-40:v===ye.API?c.translateX=40:v===ye.BROWSE?c.translateY=40:c.translateY=30}else d||(c.opacity=1,c.translateX=0,c.translateY=0);var m=Xo(t),E=Qo(t),g=c.rect.element.height,y=!f||d?0:g,_=d?u.rect.element.marginTop:0,T=0===p?0:u.rect.element.marginBottom,I=y+_+E.visual+T,b=y+_+E.bounds+T;if(u.translateY=Math.max(0,y-u.rect.element.marginTop)-m.top,l){var O=t.rect.element.width,R=O*l;l!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=l,t.ref.updateHistory=[]);var w=t.ref.updateHistory;w.push(O);var S=2;if(w.length>2*S)for(var D=w.length,A=D-10,P=0,C=D;C>=A;C--)if(w[C]===w[C-2]&&P++,P>=S)return;s.scalable=!1,s.height=R;var L=R-y-(T-m.bottom)-(d?_:0);E.visual>L?u.overflow=L:u.overflow=null,t.height=R}else if(o.fixedHeight){s.scalable=!1;var M=o.fixedHeight-y-(T-m.bottom)-(d?_:0);E.visual>M?u.overflow=M:u.overflow=null}else if(o.cappedHeight){var N=I>=o.cappedHeight,x=Math.min(o.cappedHeight,I);s.scalable=!0,s.height=N?x:x-m.top-m.bottom;var G=x-y-(T-m.bottom)-(d?_:0);I>o.cappedHeight&&E.visual>G?u.overflow=G:u.overflow=null,t.height=Math.min(o.cappedHeight,b-m.top-m.bottom)}else{var j=p>0?m.top+m.bottom:0;s.scalable=!0,s.height=Math.max(g,I-j),t.height=Math.max(g,b-j)}}},Xo=function(e){var t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},Qo=function(e){var t=0,n=0,r=e.ref.list,o=r.childViews[0],i=o.childViews.filter((function(e){return e.rect.element.height})),a=e.query("GET_ACTIVE_ITEMS").map((function(e){return i.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));if(0===a.length)return{visual:t,bounds:n};var c=o.rect.element.width,u=sr(o,a,r.dragCoordinates),s=a[0].rect.element,l=s.marginTop+s.marginBottom,f=s.marginLeft+s.marginRight,p=s.width+f,d=s.height+l,h=void 0!==u&&u>=0?1:0,v=a.find((function(e){return e.markedForRemoval&&e.opacity<.45}))?-1:0,m=a.length+h+v,E=Math.round(c/p);return 1===E?a.forEach((function(e){var r=e.rect.element.height+l;n+=r,t+=r*e.opacity})):(n=Math.ceil(m/E)*d,t=n),{visual:t,bounds:n}},Zo=function(e){var t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:0===t?null:t}},Ko=function(e,t){var n=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),o=e.query("GET_TOTAL_ITEMS"),i=e.query("GET_MAX_FILES"),a=t.length;return!r&&a>1||!!(K(i=r||n?i:1)&&o+a>i)&&(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Mt("warning",0,"Max files")}),!0)},Jo=function(e,t,n){var r=e.childViews[0];return sr(r,t,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},$o=function(e){var t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),r=t&&!n;if(r&&!e.ref.hopper){var o=Ro(e.element,(function(t){if(Ko(e,t))return!1;var n=e.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!e.query("GET_DROP_VALIDATION")||t.every((function(t){return Ye("ALLOW_HOPPER_ITEM",t,{query:e.query}).every((function(e){return!0===e}))&&n(t)}))}),{filterItems:function(t){var n=e.query("GET_IGNORED_FILES");return t.filter((function(e){return!Xt(e)||!n.includes(e.name.toLowerCase())}))},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});o.onload=function(t,n){var r=e.ref.list.childViews[0].childViews.filter((function(e){return e.rect.element.height})),o=e.query("GET_ACTIVE_ITEMS").map((function(e){return r.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));e.dispatch("ADD_ITEMS",{items:t,index:Jo(e.ref.list,o,n),interactionMethod:ye.DROP}),e.dispatch("DID_DROP",{position:n}),e.dispatch("DID_END_DRAG",{position:n})},o.ondragstart=function(t){e.dispatch("DID_START_DRAG",{position:t})},o.ondrag=qo((function(t){e.dispatch("DID_DRAG",{position:t})})),o.ondragend=function(t){e.dispatch("DID_END_DRAG",{position:t})},e.ref.hopper=o,e.ref.drip=e.appendChildView(e.createChildView(Ur))}else!r&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},ei=function(e,t){var n=e.query("GET_ALLOW_BROWSE"),r=e.query("GET_DISABLED"),o=n&&!r;o&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Cr,Object.assign({},t,{onload:function(t){if(Ko(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:ye.BROWSE})}})),0):!o&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},ti=function(e){var t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),r=t&&!n;r&&!e.ref.paster?(e.ref.paster=Co(),e.ref.paster.onload=function(t){e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:ye.PASTE})}):!r&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},ni=k({DID_SET_ALLOW_BROWSE:function(e){var t=e.root,n=e.props;ei(t,n)},DID_SET_ALLOW_DROP:function(e){var t=e.root;$o(t)},DID_SET_ALLOW_PASTE:function(e){var t=e.root;ti(t)},DID_SET_DISABLED:function(e){var t=e.root,n=e.props;$o(t),ti(t),ei(t,n),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),ri=G({name:"root",read:function(e){var t=e.root;t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:Wo,write:zo,destroy:function(e){var t=e.root;t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",Ho),t.element.removeEventListener("gesturestart",Ho)},mixins:{styles:["height"]}}),oi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null,o=ze(),i=r(he(o),[at,ge(o)],[sn,Ee(o)]);i.dispatch("SET_OPTIONS",{options:t});var c=function(){document.hidden||i.dispatch("KICK")};document.addEventListener("visibilitychange",c);var u=null,s=!1,l=!1,f=null,p=null,d=function(){s||(s=!0),clearTimeout(u),u=setTimeout((function(){s=!1,f=null,p=null,l&&(l=!1,i.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",d);var h=ri(i,{id:_e()}),v=!1,m=!1,E={_read:function(){s&&(p=window.innerWidth,f||(f=p),l||p===f||(i.dispatch("DID_START_RESIZE"),l=!0)),m&&v&&(v=null===h.element.offsetParent),v||(h._read(),m=h.rect.element.hidden)},_write:function(e){var t=i.processActionQueue().filter((function(e){return!/^SET_/.test(e.type)}));v&&!t.length||(I(t),v=h._write(e,t,l),xe(i.query("GET_ITEMS")),v&&i.processDispatchQueue())}},g=function(e){return function(t){var n={type:e};if(!t)return n;if(t.hasOwnProperty("error")&&(n.error=t.error?Object.assign({},t.error):null),t.status&&(n.status=Object.assign({},t.status)),t.file&&(n.output=t.file),t.source)n.file=t.source;else if(t.item||t.id){var r=t.item?t.item:i.query("GET_ITEM",t.id);n.file=r?Ne(r):null}return t.items&&(n.items=t.items.map(Ne)),/progress/.test(e)&&(n.progress=t.progress),t.hasOwnProperty("origin")&&t.hasOwnProperty("target")&&(n.origin=t.origin,n.target=t.target),n}},y={DID_DESTROY:g("destroy"),DID_INIT:g("init"),DID_THROW_MAX_FILES:g("warning"),DID_INIT_ITEM:g("initfile"),DID_START_ITEM_LOAD:g("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:g("addfileprogress"),DID_LOAD_ITEM:g("addfile"),DID_THROW_ITEM_INVALID:[g("error"),g("addfile")],DID_THROW_ITEM_LOAD_ERROR:[g("error"),g("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[g("error"),g("removefile")],DID_PREPARE_OUTPUT:g("preparefile"),DID_START_ITEM_PROCESSING:g("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:g("processfileprogress"),DID_ABORT_ITEM_PROCESSING:g("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:g("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:g("processfiles"),DID_REVERT_ITEM_PROCESSING:g("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[g("error"),g("processfile")],DID_REMOVE_ITEM:g("removefile"),DID_UPDATE_ITEMS:g("updatefiles"),DID_ACTIVATE_ITEM:g("activatefile"),DID_REORDER_ITEMS:g("reorderfiles")},_=function(e){var t=Object.assign({pond:x},e);delete t.type,h.element.dispatchEvent(new CustomEvent("FilePond:"+e.type,{detail:t,bubbles:!0,cancelable:!0,composed:!0}));var n=[];e.hasOwnProperty("error")&&n.push(e.error),e.hasOwnProperty("file")&&n.push(e.file);var r=["type","error","file"];Object.keys(e).filter((function(e){return!r.includes(e)})).forEach((function(t){return n.push(e[t])})),x.fire.apply(x,[e.type].concat(n));var o=i.query("GET_ON"+e.type.toUpperCase());o&&o.apply(void 0,n)},I=function(e){e.length&&e.filter((function(e){return y[e.type]})).forEach((function(e){var t=y[e.type];(Array.isArray(t)?t:[t]).forEach((function(t){"DID_INIT_ITEM"===e.type?_(t(e.data)):setTimeout((function(){_(t(e.data))}),0)}))}))},b=function(e){return i.dispatch("SET_OPTIONS",{options:e})},O=function(e){return i.query("GET_ACTIVE_ITEM",e)},R=function(t){return new e((function(e,n){i.dispatch("REQUEST_ITEM_PREPARE",{query:t,success:function(t){e(t)},failure:function(e){n(e)}})}))},w=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new e((function(e,r){A([{source:t,options:n}],{index:n.index}).then((function(t){return e(t&&t[0])})).catch(r)}))},S=function(e){return e.file&&e.id},D=function(e,t){return"object"!=typeof e||S(e)||t||(t=e,e=void 0),i.dispatch("REMOVE_ITEM",Object.assign({},t,{query:e})),null===i.query("GET_ACTIVE_ITEM",e)},A=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new e((function(e,t){var r=[],o={};if(V(n[0]))r.push.apply(r,n[0]),Object.assign(o,n[1]||{});else{var a=n[n.length-1];"object"!=typeof a||a instanceof Blob||Object.assign(o,n.pop()),r.push.apply(r,n)}i.dispatch("ADD_ITEMS",{items:r,index:o.index,interactionMethod:ye.API,success:e,failure:t})}))},P=function(){return i.query("GET_ACTIVE_ITEMS")},C=function(t){return new e((function(e,n){i.dispatch("REQUEST_ITEM_PROCESSING",{query:t,success:function(t){e(t)},failure:function(e){n(e)}})}))},L=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Array.isArray(n[0])?n[0]:n,i=o.length?o:P();return e.all(i.map(R))},M=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Array.isArray(n[0])?n[0]:n;if(!o.length){var i=P().filter((function(e){return!(e.status===Ge.IDLE&&e.origin===je.LOCAL)&&e.status!==Ge.PROCESSING&&e.status!==Ge.PROCESSING_COMPLETE&&e.status!==Ge.PROCESSING_REVERT_ERROR}));return e.all(i.map(C))}return e.all(o.map(C))},N=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o,i=Array.isArray(n[0])?n[0]:n;"object"==typeof i[i.length-1]?o=i.pop():Array.isArray(n[0])&&(o=n[1]);var a=P();return i.length?i.map((function(e){return T(e)?a[e]?a[e].id:null:e})).filter((function(e){return e})).map((function(e){return D(e,o)})):e.all(a.map((function(e){return D(e,o)})))},x=Object.assign({},Ce(),{},E,{},me(i,o),{setOptions:b,addFile:w,addFiles:A,getFile:O,processFile:C,prepareFile:R,removeFile:D,moveFile:function(e,t){return i.dispatch("MOVE_ITEM",{query:e,index:t})},getFiles:P,processFiles:M,removeFiles:N,prepareFiles:L,sort:function(e){return i.dispatch("SORT",{compare:e})},browse:function(){var e=h.element.querySelector("input[type=file]");e&&e.click()},destroy:function(){x.fire("destroy",h.element),i.dispatch("ABORT_ALL"),h._destroy(),window.removeEventListener("resize",d),document.removeEventListener("visibilitychange",c),i.dispatch("DID_DESTROY")},insertBefore:function(e){return F(h.element,e)},insertAfter:function(e){return U(h.element,e)},appendTo:function(e){return e.appendChild(h.element)},replaceElement:function(e){F(h.element,e),e.parentNode.removeChild(e),n=e},restoreElement:function(){n&&(U(n,h.element),h.element.parentNode.removeChild(h.element),n=null)},isAttachedTo:function(e){return h.element===e||n===e},element:{get:function(){return h.element}},status:{get:function(){return i.query("GET_STATUS")}}});return i.dispatch("DID_INIT"),a(x)},ii=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return i(ze(),(function(e,n){t[e]=n[0]})),oi(Object.assign({},t,{},e))},ai=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},ci=function(e){return Bo(e.replace(/^data-/,""))},ui=function e(t,n){i(n,(function(n,r){i(t,(function(e,o){var i=new RegExp(n);if(i.test(e)&&(delete t[e],!1!==r))if(z(r))t[r]=o;else{var a=r.group;ie(r)&&!t[a]&&(t[a]={}),t[a][ai(e.replace(i,""))]=o}})),r.mapping&&e(t[r.group],r.mapping)}))},si=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];i(e.attributes,(function(t){n.push(e.attributes[t])}));var r=n.filter((function(e){return e.name})).reduce((function(t,n){var r=c(e,n.name);return t[ci(n.name)]=r===n.name||r,t}),{});return ui(r,t),r},li=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Ye("SET_ATTRIBUTE_TO_OPTION_MAP",n);var r=Object.assign({},t),o=si("FIELDSET"===e.nodeName?e.querySelector("input[type=file]"):e,n);Object.keys(o).forEach((function(e){ie(o[e])?(ie(r[e])||(r[e]={}),Object.assign(r[e],o[e])):r[e]=o[e]})),r.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map((function(e){return{source:e.value,options:{type:e.dataset.type}}})));var i=ii(r);return e.files&&Array.from(e.files).forEach((function(e){i.addFile(e)})),i.replaceElement(e),i},fi=function(){return n(arguments.length<=0?void 0:arguments[0])?li.apply(void 0,arguments):ii.apply(void 0,arguments)},pi=["fire","_read","_write"],di=function(e){var t={};return Le(e,t,pi),t},hi=function(e,t){return e.replace(/(?:{([a-zA-Z]+)})/g,(function(e,n){return t[n]}))},vi=function(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);return{transfer:function(e,t){},post:function(e,t,n){var o=_e();r.onmessage=function(e){e.data.id===o&&t(e.data.message)},r.postMessage({id:o,message:e},n)},terminate:function(){r.terminate(),URL.revokeObjectURL(n)}}},mi=function(t){return new e((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(e){n(e)},r.src=t}))},Ei=function(e,t){var n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},gi=function(e){return Ei(e,e.name)},yi=[],_i=function(e){if(!yi.includes(e)){yi.push(e);var t=e({addFilter:He,utils:{Type:Ve,forin:i,isString:z,isFile:Xt,toNaturalFileSize:gn,replaceInString:hi,getExtensionFromFilename:dt,getFilenameWithoutExtension:Wt,guesstimateMimeType:Kr,getFileFromBlob:Et,getFilenameFromURL:pt,createRoute:k,createWorker:vi,createView:G,createItemAPI:Ne,loadImage:mi,copyFile:gi,renameFile:Ei,createBlob:yt,applyFilterChain:qe,text:pn,getNumericAspectRatioFromString:Ke},views:{fileActionButton:En}});We(t.options)}},Ti=function(){return"[object OperaMini]"===Object.prototype.toString.call(window.operamini)},Ii=function(){return"Promise"in window},bi=function(){return"slice"in Blob.prototype},Oi=function(){return"URL"in window&&"createObjectURL"in window.URL},Ri=function(){return"visibilityState"in document},wi=function(){return"performance"in window},Si=function(){return"supports"in(window.CSS||{})},Di=function(){return/MSIE|Trident/.test(window.navigator.userAgent)},Ai=(xn=m()&&!Ti()&&Ri()&&Ii()&&bi()&&Oi()&&wi()&&(Si()||Di()),function(){return xn}),Pi={apps:[]},Ci="filepond",Li=function(){};if(t.Status={},t.FileStatus={},t.FileOrigin={},t.OptionTypes={},t.create=Li,t.destroy=Li,t.parse=Li,t.find=Li,t.registerPlugin=Li,t.getOptions=Li,t.setOptions=Li,Ai()){j((function(){Pi.apps.forEach((function(e){return e._read()}))}),(function(e){Pi.apps.forEach((function(t){return t._write(e)}))}));var Mi=function e(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Ai,create:t.create,destroy:t.destroy,parse:t.parse,find:t.find,registerPlugin:t.registerPlugin,setOptions:t.setOptions}})),document.removeEventListener("DOMContentLoaded",e)};"loading"!==document.readyState?setTimeout((function(){return Mi()}),0):document.addEventListener("DOMContentLoaded",Mi);var Ni=function(){return i(ze(),(function(e,n){t.OptionTypes[e]=n[1]}))};t.Status=Object.assign({},$e),t.FileOrigin=Object.assign({},je),t.FileStatus=Object.assign({},Ge),t.OptionTypes={},Ni(),t.create=function(){var e=fi.apply(void 0,arguments);return e.on("destroy",t.destroy),Pi.apps.push(e),di(e)},t.destroy=function(e){var t=Pi.apps.findIndex((function(t){return t.isAttachedTo(e)}));return t>=0&&(Pi.apps.splice(t,1)[0].restoreElement(),!0)},t.parse=function(e){return Array.from(e.querySelectorAll("."+Ci)).filter((function(e){return!Pi.apps.find((function(t){return t.isAttachedTo(e)}))})).map((function(e){return t.create(e)}))},t.find=function(e){var t=Pi.apps.find((function(t){return t.isAttachedTo(e)}));return t?di(t):null},t.registerPlugin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(_i),Ni()},t.getOptions=function(){var e={};return i(ze(),(function(t,n){e[t]=n[0]})),e},t.setOptions=function(e){return ie(e)&&(Pi.apps.forEach((function(t){t.setOptions(e)})),Xe(e)),t.getOptions()}}t.supported=Ai,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(11))},,,,,,,,,,,,,,,,,,,function(e,t,n){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50L2luZGV4LmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvbGlicy9saWIvc2Vzc2lvbi1zdG9yYWdlLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9saWJzL2xpYi91c2VyL2dldC1qd3QuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2xpYnMvbGliL3VzZXIvaGFzLXJvbGUuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2xpYnMvbGliL2xvY2FsLXN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2xpYnMvaW5kZXguanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9saWJzL2xpYi9hcGkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2xpYnMvbGliL2FwaS9nZXQtaGVhZGVycy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvbGlicy9saWIvdXNlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvbGlicy9saWIvdXNlci9nZXQtdXNlci5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvbGlicy9saWIvdXNlci9sb2dvdXQuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2xpYnMvbGliL2lkZWFzLXNvcnQuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2xpYnMvbGliL3JlYWN0LXRlbXBsYXRlLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9tZXJnZS9tZXJnZS5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZ2xvYmFsLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9mb3Jtcy9jb21wb25lbnQvZGVmYXVsdC1pbnB1dC5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2Zvcm1zL2NvbXBvbmVudC9oaWRkZW4uanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9mb3Jtcy9jb21wb25lbnQvaW1hZ2UtdXBsb2FkLmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvZm9ybXMvY29tcG9uZW50L2h0bWxhcmVhLmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvZm9ybXMvY29tcG9uZW50L2lucHV0LXdpdGgtY291bnRlci5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2Zvcm1zL2NvbXBvbmVudC9yYWRpb3MuanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9mb3Jtcy9jb21wb25lbnQvcG9zdGNvZGUuanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9mb3Jtcy9jb21wb25lbnQvc2VsZWN0LmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvZm9ybXMvY29tcG9uZW50L3RleHRpbnB1dC5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2Zvcm1zL2NvbXBvbmVudC90ZXh0YXJlYS5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2Zvcm1zL2NvbXBvbmVudC9mb3JtLWZpZWxkLmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvZm9ybXMvY29tcG9uZW50L2Zvcm0uanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9mb3Jtcy9jb21wb25lbnQvc2xpZGVyLmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvZm9ybXMvaW5kZXguanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy9leHRlcm5hbCBcIlJlYWN0RE9NXCIiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2hhcy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZGVzY3JpcHRvcnMuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ZhaWxzLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS1wcm9taXNlL2luZGV4LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL3doYXR3Zy1mZXRjaC9mZXRjaC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hbi1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zZXQtZ2xvYmFsLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9oaWRkZW4ta2V5cy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW51bS1idWcta2V5cy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tcHJpbWl0aXZlLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pZTgtZG9tLWRlZmluZS5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZG9jdW1lbnQtY3JlYXRlLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQtc3RvcmUuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3NoYXJlZC1rZXkuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3NoYXJlZC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdWlkLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9nZXQtYnVpbHQtaW4uanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1rZXlzLWludGVybmFsLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1pbmNsdWRlcy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8taW50ZWdlci5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvbmF0aXZlLXN5bWJvbC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZXhwb3J0LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hZGQtdG8tdW5zY29wYWJsZXMuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FycmF5LW1ldGhvZC11c2VzLXRvLWxlbmd0aC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW50cnktdW5iaW5kLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbmRleGVkLW9iamVjdC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY2xhc3NvZi1yYXcuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZS5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tbGVuZ3RoLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWZpbGVwb25kL2Rpc3QvcmVhY3QtZmlsZXBvbmQuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1wcm9wZXJ0eS1pcy1lbnVtZXJhYmxlLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9yZWRlZmluZS5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL25hdGl2ZS13ZWFrLW1hcC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtcHVyZS5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY29weS1jb25zdHJ1Y3Rvci1wcm9wZXJ0aWVzLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vd24ta2V5cy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcGF0aC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1mb3JjZWQuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2EtZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3VzZS1zeW1ib2wtYXMtdWlkLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtY3JlYXRlLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnRpZXMuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1rZXlzLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9odG1sLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvZXMvYXJyYXkvaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQtcGx1Z2luLWltYWdlLXByZXZpZXcvZGlzdC9maWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlldy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQtcGx1Z2luLWZpbGUtdmFsaWRhdGUtdHlwZS9kaXN0L2ZpbGVwb25kLXBsdWdpbi1maWxlLXZhbGlkYXRlLXR5cGUuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kLXBsdWdpbi1maWxlLXZhbGlkYXRlLXNpemUvZGlzdC9maWxlcG9uZC1wbHVnaW4tZmlsZS12YWxpZGF0ZS1zaXplLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9maWxlcG9uZC1wbHVnaW4tZmlsZS1wb3N0ZXIvZGlzdC9maWxlcG9uZC1wbHVnaW4tZmlsZS1wb3N0ZXIuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL3BvbGwvY29tcG9uZW50L3BvbGwtZm9ybS5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL3BvbGwvY29tcG9uZW50L3BvbGwuanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9wb2xsL2luZGV4LmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvZGlzdC9maWxlcG9uZC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIndpbmRvdyIsIk9wZW5TdGFkQ29tcG9uZW50IiwicHJvcHMiLCJkZWZhdWx0Q29uZmlnIiwiZGVmYXVsdGRlZmF1bHRDb25maWciLCJzZWxmIiwiYXR0cmlidXRlcyIsImtleXMiLCJmb3JFYWNoIiwiYXR0cmlidXRlIiwiY29uZmlnIiwiSlNPTiIsInBhcnNlIiwiZXJyIiwicHJvcHNDb25maWciLCJyZW1vdmVVbmRlZkFuZE51bGwiLCJtZXJnZSIsInJlY3Vyc2l2ZSIsInNpdGVJZCIsImFwaSIsInVybCIsImhlYWRlcnMiLCJpc1VzZXJMb2dnZWRJbiIsInVzZXIiLCJkaXZJZCIsImlkIiwicGFyc2VJbnQiLCJNYXRoIiwicmFuZG9tIiwicHJldlByb3BzIiwicHJldlN0YXRlIiwiUmVhY3QiLCJDb21wb25lbnQiLCJvYmoiLCJvc2NTZXNzaW9uU3RvcmFnZSIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsInN0cmluZ2lmeSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiand0IiwibWF0Y2giLCJsb2NhdGlvbiIsInNlYXJjaCIsInNldCIsImRvY3VtZW50IiwicmVwbGFjZSIsInJvbGVzIiwiYWRtaW4iLCJtb2RlcmF0b3IiLCJlZGl0b3IiLCJtZW1iZXIiLCJhbm9ueW1vdXMiLCJhbGwiLCJvd25lciIsIm9zY0xvY2FsU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsIk9wZW5TdGFkQ29tcG9uZW50TGlicyIsImdldEhlYWRlcnMiLCJnZXRKV1QiLCJnZXRVc2VyIiwibmV4dCIsImNvbnNvbGUiLCJsb2ciLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwiRXJyb3IiLCJqc29uIiwibG9nb3V0IiwiaGFzUm9sZSIsInJlcXVpcmVkUm9sZSIsInVzZXJSb2xlIiwicm9sZSIsImluY2x1ZGVzIiwiaWRlYXNTb3J0IiwiaWRlYXMiLCJzb3J0T3JkZXIiLCJjZW50ZXIiLCJzb3J0IiwiYSIsImIiLCJ0aXRsZSIsInRvTG93ZXJDYXNlIiwicmFua2luZyIsInllcyIsIkRhdGUiLCJjcmVhdGVkQXQiLCJnZXRUaW1lIiwibGF0IiwibG5nIiwiY29vcmRpbmF0ZXMiLCJtYXAiLCJpZGVhIiwiX2Rpc3RhbmNlIiwic3FydCIsInBvdyIsImFyZ0NvdW50IiwicmVhY3RUZW1wbGF0ZSIsImh0bWwiLCJhcmdzIiwiYXJndW1lbnRzIiwibWF0Y2hlcyIsIlJlZ0V4cCIsImV4ZWMiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsImlzTm9kZSIsIlB1YmxpYyIsImNsb25lIiwibWVyZ2VfcmVjdXJzaXZlIiwiYmFzZSIsImV4dGVuZCIsInR5cGVPZiIsImFyZ3YiLCJyZXN1bHQiLCJzaXplIiwibGVuZ3RoIiwiaW5kZXgiLCJpdGVtIiwic2l0ZW0iLCJpbnB1dCIsInRvU3RyaW5nIiwic2xpY2UiLCJvdXRwdXQiLCJ0eXBlIiwiaXQiLCJjaGVjayIsImdsb2JhbFRoaXMiLCJnbG9iYWwiLCJGdW5jdGlvbiIsIk9wZW5TdGFkQ29tcG9uZW50RGVmYXVsdElucHV0IiwiY2hvaWNlcyIsInBsYWNlaG9sZGVyIiwiZGlzYWJsZWQiLCJyZXF1aXJlZCIsInN0YXRlIiwidW5kZWZpbmVkIiwiZXJyb3IiLCJvbkNoYW5nZSIsInNob3dFcnJvcnMiLCJpc1ZhbGlkIiwidGhpcyIsInNldFN0YXRlIiwiZGF0YSIsInZhbGlkYXRlIiwiT3BlblN0YWRDb21wb25lbnRTZWxlY3QiLCJlIiwiaGFuZGxlT25DaGFuZ2UiLCJyZWYiLCJlbCIsInJlZ2lzdGVyUGx1Z2luIiwiRmlsZXBvbmRQbHVnaW5JbWFnZVByZXZpZXciLCJGaWxlcG9uZFBsdWdpbkZpbGVWYWxpZGF0ZVR5cGUiLCJGaWxlcG9uZFBsdWdpbkZpbGVWYWxpZGF0ZVNpemUiLCJGaWxlcG9uZFBsdWdpbkZpbGVQb3N0ZXIiLCJPcGVuU3RhZENvbXBvbmVudEltYWdlVXBsb2FkIiwiYWxsb3dNdWx0aXBsZSIsImltYWdlc2VydmVyIiwicHJvY2VzcyIsInVwbG9hZGVkRmlsZXMiLCJBcnJheSIsImlzQXJyYXkiLCJpbWFnZSIsInNyYyIsInB1c2giLCJzb3VyY2UiLCJvcHRpb25zIiwiZmlsZSIsIm1ldGFkYXRhIiwicG9zdGVyIiwiaW1hZ2V1cGxvYWRlciIsImdldEZpbGVzIiwic2VydmVySWQiLCJhZGRGaWxlIiwicmVtb3ZlRmlsZSIsImN1cnJlbnQiLCJmaWx0ZXIiLCJmaWxlSXRlbSIsImZpbGVzIiwiYXNKc29uIiwiYXMiLCJvbmluaXQiLCJpbml0Iiwib25wcm9jZXNzZmlsZSIsInVwZGF0ZVVwbG9hZGVkRmlsZXMiLCJ1cGRhdGVWYWx1ZSIsIm9ucmVtb3ZlZmlsZSIsInNlcnZlciIsImFjY2VwdGVkRmlsZVR5cGVzIiwiYWxsb3dGaWxlU2l6ZVZhbGlkYXRpb24iLCJhbGxvd1Jlb3JkZXIiLCJzdHlsZUl0ZW1QYW5lbEFzcGVjdFJhdGlvIiwibWF4RmlsZVNpemUiLCJtYXhGaWxlcyIsImFsbG93QnJvd3NlIiwiaW1hZ2VSZXNpemVUYXJnZXRXaWR0aCIsImltYWdlUmVzaXplVGFyZ2V0SGVpZ2h0IiwiaW1hZ2VDcm9wQXNwZWN0UmF0aW8iLCJsYWJlbElkbGUiLCJsYWJlbEludmFsaWRGaWVsZCIsImxhYmVsRmlsZVdhaXRpbmdGb3JTaXplIiwibGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZSIsImxhYmVsRmlsZUNvdW50U2luZ3VsYXIiLCJsYWJlbEZpbGVDb3VudFBsdXJhbCIsImxhYmVsRmlsZUxvYWRpbmciLCJsYWJlbEZpbGVBZGRlZCIsImxhYmVsRmlsZUxvYWRFcnJvciIsImxhYmVsRmlsZVJlbW92ZWQiLCJsYWJlbEZpbGVSZW1vdmVFcnJvciIsImxhYmVsRmlsZVByb2Nlc3NpbmciLCJsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGUiLCJsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZCIsImxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvciIsImxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvciIsImxhYmVsVGFwVG9DYW5jZWwiLCJsYWJlbFRhcFRvUmV0cnkiLCJsYWJlbFRhcFRvVW5kbyIsImxhYmVsQnV0dG9uUmVtb3ZlSXRlbSIsImxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZCIsImxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZCIsImxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZyIsImxhYmVsQnV0dG9uVW5kb0l0ZW1Qcm9jZXNzaW5nIiwibGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nIiwibGFiZWxCdXR0b25Qcm9jZXNzSXRlbSIsIk9wZW5TdGFkQ29tcG9uZW50SFRNTEFyZWEiLCJvbktleVVweCIsImZpbHRlckhUTUwiLCJpbm5lckhUTUwiLCJjb21tYW5kIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJleGVjQ29tbWFuZCIsIm9uS2V5VXAiLCJvbkZvY3VzIiwib25CbHVyIiwiY2xhc3NOYW1lIiwib25Nb3VzZURvd24iLCJleGVjdXRlQWN0aW9uIiwicHJvbXB0IiwiY29udGVudEVkaXRhYmxlIiwiRm9ybWZpZWxkSW5wdXRXaXRoQ291bnRlciIsImlucHV0VHlwZSIsIm1pbkxlbmd0aCIsIm1heExlbmd0aCIsImZvY3VzZWQiLCJ2YWx1ZUxlbmd0aCIsInVzZUtleSIsIm9uSW5wdXRGb2N1cyIsIm9uSW5wdXRCbHVyIiwib25JbnB1dEtleVVwIiwid2FybmluZyIsInNob3dXYXJuaW5nIiwiY291bnRlciIsImlucHV0SFRNTCIsImluc3RhbmNlIiwiT3BlblN0YWRDb21wb25lbnRSYWRpb3MiLCJlcnJvckhUTUwiLCJjaG9pY2UiLCJkYW5nZXJvdXNEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiT3BlblN0YWRDb21wb25lbnRQb3N0Y29kZSIsInRleHQiLCJPcGVuU3RhZENvbXBvbmVudFRleHQiLCJPcGVuU3RhZENvbXBvbmVudFRleHRBcmVhIiwiT3BlblN0YWRDb21wb25lbnRGb3JtRmllbGQiLCJ2YWxpZGF0ZUFjdGlvbiIsImNoYW5nZUFjdGlvbiIsImluaXRWYWx1ZSIsInRpdGxlSFRNTCIsImRlc2NyaXB0aW9uSFRNTCIsImZpZWxkSFRNTCIsIk9wZW5TdGFkQ29tcG9uZW50Rm9ybSIsImludHJvIiwiZmllbGRzIiwiaW5pdFZhbHVlcyIsInZhbHVlcyIsImZpZWxkQ29uZmlnIiwic2Nyb2xsVG8iLCJmaXJzdEludmFsaWQiLCJmaWVsZCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJpbnRyb0hUTUwiLCJmaWVsZHNIVE1MIiwiU2xpZGVyIiwidG91Y2hlZCIsImhhbmRsZUNoYW5nZSIsImV2ZW50IiwidGFyZ2V0IiwibWluIiwibWF4Iiwic3RlcCIsInN0eWxlIiwidHJhbnNmb3JtIiwiY2FsY1Byb2dyZXNzIiwib25DbGljayIsImRvVG91Y2giLCJGb3JtIiwiRm9ybUZpZWxkIiwiSGlkZGVuIiwiSW1hZ2VVcGxvYWQiLCJJbnB1dFdpdGhDb3VudGVyIiwiUG9zdGNvZGUiLCJSYWRpb3MiLCJTZWxlY3QiLCJUZXh0IiwiVGV4dGFyZWEiLCJmYWlscyIsIlByb21pc2UiLCJzdXBwb3J0IiwiQmxvYiIsInZpZXdDbGFzc2VzIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImluZGV4T2YiLCJub3JtYWxpemVOYW1lIiwiU3RyaW5nIiwidGVzdCIsIlR5cGVFcnJvciIsIm5vcm1hbGl6ZVZhbHVlIiwiaXRlcmF0b3JGb3IiLCJpdGVtcyIsIml0ZXJhdG9yIiwic2hpZnQiLCJkb25lIiwiSGVhZGVycyIsImFwcGVuZCIsImhlYWRlciIsImdldE93blByb3BlcnR5TmFtZXMiLCJjb25zdW1lZCIsImJvZHkiLCJib2R5VXNlZCIsInJlamVjdCIsImZpbGVSZWFkZXJSZWFkeSIsInJlYWRlciIsInJlc29sdmUiLCJvbmxvYWQiLCJvbmVycm9yIiwicmVhZEJsb2JBc0FycmF5QnVmZmVyIiwiYmxvYiIsIkZpbGVSZWFkZXIiLCJwcm9taXNlIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJidWZmZXJDbG9uZSIsImJ1ZiIsInZpZXciLCJVaW50OEFycmF5IiwiYnl0ZUxlbmd0aCIsImJ1ZmZlciIsIkJvZHkiLCJfaW5pdEJvZHkiLCJfYm9keUluaXQiLCJfYm9keVRleHQiLCJpc1Byb3RvdHlwZU9mIiwiX2JvZHlCbG9iIiwiRm9ybURhdGEiLCJfYm9keUZvcm1EYXRhIiwiVVJMU2VhcmNoUGFyYW1zIiwiRGF0YVZpZXciLCJfYm9keUFycmF5QnVmZmVyIiwicmVqZWN0ZWQiLCJhcnJheUJ1ZmZlciIsInJlYWRBc1RleHQiLCJjaGFycyIsImZyb21DaGFyQ29kZSIsImpvaW4iLCJyZWFkQXJyYXlCdWZmZXJBc1RleHQiLCJmb3JtRGF0YSIsImRlY29kZSIsIm9sZFZhbHVlIiwiaGFzIiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwiZW50cmllcyIsIm1ldGhvZHMiLCJSZXF1ZXN0IiwibWV0aG9kIiwidXBjYXNlZCIsImNyZWRlbnRpYWxzIiwic2lnbmFsIiwidG9VcHBlckNhc2UiLCJyZWZlcnJlciIsImZvcm0iLCJ0cmltIiwic3BsaXQiLCJieXRlcyIsImRlY29kZVVSSUNvbXBvbmVudCIsIlJlc3BvbnNlIiwiYm9keUluaXQiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwicmVkaXJlY3RTdGF0dXNlcyIsInJlZGlyZWN0IiwiUmFuZ2VFcnJvciIsIkRPTUV4Y2VwdGlvbiIsIm1lc3NhZ2UiLCJzdGFjayIsImNvbnN0cnVjdG9yIiwicmVxdWVzdCIsImFib3J0ZWQiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsImFib3J0WGhyIiwiYWJvcnQiLCJyYXdIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwibGluZSIsInBhcnRzIiwicmVzcG9uc2VVUkwiLCJyZXNwb25zZVRleHQiLCJvbnRpbWVvdXQiLCJvbmFib3J0Iiwib3BlbiIsIndpdGhDcmVkZW50aWFscyIsInJlc3BvbnNlVHlwZSIsInNldFJlcXVlc3RIZWFkZXIiLCJhZGRFdmVudExpc3RlbmVyIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZW5kIiwicG9seWZpbGwiLCJERVNDUklQVE9SUyIsImRlZmluZVByb3BlcnR5TW9kdWxlIiwiY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yIiwiZiIsIklFOF9ET01fREVGSU5FIiwiYW5PYmplY3QiLCJ0b1ByaW1pdGl2ZSIsIm5hdGl2ZURlZmluZVByb3BlcnR5IiwiTyIsIlAiLCJBdHRyaWJ1dGVzIiwiaXNPYmplY3QiLCJJbmRleGVkT2JqZWN0IiwicmVxdWlyZU9iamVjdENvZXJjaWJsZSIsImNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSIsImciLCJwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSIsInRvSW5kZXhlZE9iamVjdCIsIm5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImJpdG1hcCIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiUFJFRkVSUkVEX1NUUklORyIsImZuIiwidmFsIiwidmFsdWVPZiIsImNyZWF0ZUVsZW1lbnQiLCJFWElTVFMiLCJzdG9yZSIsImZ1bmN0aW9uVG9TdHJpbmciLCJpbnNwZWN0U291cmNlIiwic2V0R2xvYmFsIiwiU0hBUkVEIiwic2hhcmVkIiwidWlkIiwiSVNfUFVSRSIsInZlcnNpb24iLCJjb3B5cmlnaHQiLCJwb3N0Zml4IiwicGF0aCIsImFGdW5jdGlvbiIsInZhcmlhYmxlIiwibmFtZXNwYWNlIiwiaGlkZGVuS2V5cyIsIm5hbWVzIiwidG9MZW5ndGgiLCJ0b0Fic29sdXRlSW5kZXgiLCJjcmVhdGVNZXRob2QiLCJJU19JTkNMVURFUyIsIiR0aGlzIiwiZnJvbUluZGV4IiwiY2VpbCIsImZsb29yIiwiYXJndW1lbnQiLCJpc05hTiIsImdldE93blByb3BlcnR5U3ltYm9scyIsInJlZGVmaW5lIiwiY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyIsImlzRm9yY2VkIiwidGFyZ2V0UHJvcGVydHkiLCJzb3VyY2VQcm9wZXJ0eSIsImRlc2NyaXB0b3IiLCJUQVJHRVQiLCJHTE9CQUwiLCJTVEFUSUMiLCJzdGF0Iiwibm9UYXJnZXRHZXQiLCJmb3JjZWQiLCJzaGFtIiwid2VsbEtub3duU3ltYm9sIiwiVU5TQ09QQUJMRVMiLCJBcnJheVByb3RvdHlwZSIsImNhY2hlIiwidGhyb3dlciIsIk1FVEhPRF9OQU1FIiwiQUNDRVNTT1JTIiwiYXJndW1lbnQwIiwiYXJndW1lbnQxIiwiQ09OU1RSVUNUT1IiLCJNRVRIT0QiLCJjbGFzc29mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b0ludGVnZXIiLCJ0aGF0IiwiYXBwbHkiLCJOQVRJVkVfU1lNQk9MIiwiVVNFX1NZTUJPTF9BU19VSUQiLCJXZWxsS25vd25TeW1ib2xzU3RvcmUiLCJjcmVhdGVXZWxsS25vd25TeW1ib2wiLCJ3aXRob3V0U2V0dGVyIiwiZmFjdG9yeSIsImlzRnVuY3Rpb24iLCJ4IiwibGVuIiwidmVydHhOZXh0IiwiY3VzdG9tU2NoZWR1bGVyRm4iLCJhc2FwIiwiYXJnIiwicXVldWUiLCJmbHVzaCIsInNjaGVkdWxlRmx1c2giLCJicm93c2VyV2luZG93IiwiYnJvd3Nlckdsb2JhbCIsIkJyb3dzZXJNdXRhdGlvbk9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiLCJpc1dvcmtlciIsIlVpbnQ4Q2xhbXBlZEFycmF5IiwiaW1wb3J0U2NyaXB0cyIsIk1lc3NhZ2VDaGFubmVsIiwidXNlU2V0VGltZW91dCIsImdsb2JhbFNldFRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2hhbm5lbCIsIml0ZXJhdGlvbnMiLCJvYnNlcnZlciIsIm5vZGUiLCJvbkZ1bGZpbGxtZW50Iiwib25SZWplY3Rpb24iLCJfYXJndW1lbnRzIiwicGFyZW50IiwiY2hpbGQiLCJub29wIiwiUFJPTUlTRV9JRCIsIm1ha2VQcm9taXNlIiwiX3N0YXRlIiwiaW52b2tlQ2FsbGJhY2siLCJfcmVzdWx0Iiwic3Vic2NyaWJlIiwiX3Jlc29sdmUiLCJuZXh0VGljayIsImNyZWF0ZVRleHROb2RlIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJwb3J0MSIsIm9ubWVzc2FnZSIsInBvcnQyIiwicG9zdE1lc3NhZ2UiLCJ2ZXJ0eCIsInJ1bk9uTG9vcCIsInJ1bk9uQ29udGV4dCIsImF0dGVtcHRWZXJ0eCIsInN1YnN0cmluZyIsIlBFTkRJTkciLCJHRVRfVEhFTl9FUlJPUiIsIkVycm9yT2JqZWN0IiwiZ2V0VGhlbiIsImhhbmRsZU1heWJlVGhlbmFibGUiLCJtYXliZVRoZW5hYmxlIiwidGhlbiQkIiwidGhlbmFibGUiLCJmdWxmaWxsIiwiX3JlamVjdCIsInJlYXNvbiIsImhhbmRsZU93blRoZW5hYmxlIiwic2VhbGVkIiwiZnVsZmlsbG1lbnRIYW5kbGVyIiwicmVqZWN0aW9uSGFuZGxlciIsInRyeVRoZW4iLCJfbGFiZWwiLCJoYW5kbGVGb3JlaWduVGhlbmFibGUiLCJwdWJsaXNoUmVqZWN0aW9uIiwiX29uZXJyb3IiLCJwdWJsaXNoIiwiX3N1YnNjcmliZXJzIiwic3Vic2NyaWJlcnMiLCJzZXR0bGVkIiwiZGV0YWlsIiwiVFJZX0NBVENIX0VSUk9SIiwiaGFzQ2FsbGJhY2siLCJzdWNjZWVkZWQiLCJmYWlsZWQiLCJ0cnlDYXRjaCIsIkVudW1lcmF0b3IiLCJDb25zdHJ1Y3RvciIsIl9pbnN0YW5jZUNvbnN0cnVjdG9yIiwiX2lucHV0IiwiX3JlbWFpbmluZyIsIl9lbnVtZXJhdGUiLCJyZXNvbHZlciIsIm5lZWRzUmVzb2x2ZXIiLCJpbml0aWFsaXplUHJvbWlzZSIsIm5lZWRzTmV3IiwibG9jYWwiLCJwcm9taXNlVG9TdHJpbmciLCJjYXN0IiwiX2VhY2hFbnRyeSIsImVudHJ5IiwicmVzb2x2ZSQkIiwiX3RoZW4iLCJfc2V0dGxlZEF0IiwiX3dpbGxTZXR0bGVBdCIsImVudW1lcmF0b3IiLCJyYWNlIiwiXyIsIl9zZXRTY2hlZHVsZXIiLCJzY2hlZHVsZUZuIiwiX3NldEFzYXAiLCJhc2FwRm4iLCJfYXNhcCIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwidGltZW91dCIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsImJyb3dzZXIiLCJlbnYiLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiRmlsZVBvbmQiLCJGaWxlU3RhdHVzIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9yZWFjdCIsIl9yZWFjdDIiLCJkZWZhdWx0IiwiX2ZpbGVwb25kIiwiaXNTdXBwb3J0ZWQiLCJzdXBwb3J0ZWQiLCJmaWx0ZXJlZE1ldGhvZHMiLCJfUmVhY3QkQ29tcG9uZW50IiwiX2NsYXNzQ2FsbENoZWNrIiwiX3RoaXMiLCJSZWZlcmVuY2VFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX19wcm90b19fIiwiZ2V0UHJvdG90eXBlT2YiLCJhbGxvd0ZpbGVzU3luYyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInNldFByb3RvdHlwZU9mIiwiX2luaGVyaXRzIiwiX3RoaXMyIiwiYXNzaWduIiwib251cGRhdGVmaWxlcyIsImNiIiwiX3BvbmQiLCJfZWxlbWVudCIsImRlc3Ryb3kiLCJzZXRPcHRpb25zIiwiX3RoaXMzIiwiX3Byb3BzIiwiY2FwdHVyZU1ldGhvZCIsImFjY2VwdCIsIm11bHRpcGxlIiwiY2FwdHVyZSIsImVsZW1lbnQiLCJuYXRpdmVQcm9wZXJ0eUlzRW51bWVyYWJsZSIsIk5BU0hPUk5fQlVHIiwiMSIsIlYiLCJJbnRlcm5hbFN0YXRlTW9kdWxlIiwiZ2V0SW50ZXJuYWxTdGF0ZSIsImVuZm9yY2VJbnRlcm5hbFN0YXRlIiwiZW5mb3JjZSIsIlRFTVBMQVRFIiwidW5zYWZlIiwic2ltcGxlIiwiTkFUSVZFX1dFQUtfTUFQIiwib2JqZWN0SGFzIiwic2hhcmVkS2V5IiwiV2Vha01hcCIsIndtZ2V0Iiwid21oYXMiLCJ3bXNldCIsIlNUQVRFIiwiZ2V0dGVyRm9yIiwiVFlQRSIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUiLCJnZXRCdWlsdEluIiwiZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZSIsImdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSIsImludGVybmFsT2JqZWN0S2V5cyIsImludGVnZXIiLCJyZXBsYWNlbWVudCIsImZlYXR1cmUiLCJkZXRlY3Rpb24iLCJub3JtYWxpemUiLCJQT0xZRklMTCIsIk5BVElWRSIsInN0cmluZyIsImFjdGl2ZVhEb2N1bWVudCIsImVudW1CdWdLZXlzIiwiZG9jdW1lbnRDcmVhdGVFbGVtZW50IiwiSUVfUFJPVE8iLCJFbXB0eUNvbnN0cnVjdG9yIiwic2NyaXB0VGFnIiwiY29udGVudCIsIkxUIiwiTnVsbFByb3RvT2JqZWN0IiwiZG9tYWluIiwiQWN0aXZlWE9iamVjdCIsImlmcmFtZURvY3VtZW50IiwiaWZyYW1lIiwid3JpdGUiLCJjbG9zZSIsInRlbXAiLCJwYXJlbnRXaW5kb3ciLCJOdWxsUHJvdG9PYmplY3RWaWFBY3RpdmVYIiwiZGlzcGxheSIsImFwcGVuZENoaWxkIiwiY29udGVudFdpbmRvdyIsIkYiLCJQcm9wZXJ0aWVzIiwib2JqZWN0S2V5cyIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIiwiY2hpbGRyZW4iLCJlbnRyeVVuYmluZCIsIiQiLCIkaW5jbHVkZXMiLCJhZGRUb1Vuc2NvcGFibGVzIiwicHJvdG8iLCJhcnJheU1ldGhvZFVzZXNUb0xlbmd0aCIsImlzUHJldmlld2FibGVJbWFnZSIsIl9Bd2FpdFZhbHVlIiwid3JhcHBlZCIsIl9Bc3luY0dlbmVyYXRvciIsImdlbiIsImZyb250IiwiYmFjayIsInJlc3VtZSIsIndyYXBwZWRBd2FpdCIsInNldHRsZSIsIl9pbnZva2UiLCJyZXR1cm4iLCJfc2xpY2VkVG9BcnJheSIsImFyciIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl9ub25JdGVyYWJsZVJlc3QiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwiX3MiLCJfaSIsImFzeW5jSXRlcmF0b3IiLCJ0aHJvdyIsInZlY3Rvck11bHRpcGx5IiwidiIsImFtb3VudCIsImNyZWF0ZVZlY3RvciIsInkiLCJ2ZWN0b3JBZGQiLCJ2ZWN0b3JOb3JtYWxpemUiLCJ2ZWN0b3JSb3RhdGUiLCJyYWRpYW5zIiwib3JpZ2luIiwiY29zIiwic2luIiwiZ2V0TWFya3VwVmFsdWUiLCJzY2FsYXIiLCJheGlzIiwicGFyc2VGbG9hdCIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0TWFya3VwU3R5bGVzIiwibWFya3VwIiwic2NhbGUiLCJsaW5lU3R5bGUiLCJib3JkZXJTdHlsZSIsImZpbGwiLCJiYWNrZ3JvdW5kQ29sb3IiLCJmb250Q29sb3IiLCJzdHJva2UiLCJib3JkZXJDb2xvciIsImxpbmVDb2xvciIsInN0cm9rZVdpZHRoIiwiYm9yZGVyV2lkdGgiLCJsaW5lV2lkdGgiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJvcGFjaXR5IiwiaXNEZWZpbmVkIiwiZ2V0TWFya3VwUmVjdCIsInJlY3QiLCJsZWZ0IiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJwb2ludHNUb1BhdGhTaGFwZSIsInBvaW50cyIsInBvaW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHIiLCJzZXRBdHRyaWJ1dGUiLCJzdmciLCJ0YWciLCJjcmVhdGVFbGVtZW50TlMiLCJ1cGRhdGVSZWN0Iiwic3R5bGVzIiwidXBkYXRlRWxsaXBzZSIsImN4IiwiY3kiLCJyeCIsInJ5IiwiSU1BR0VfRklUX1NUWUxFIiwiY29udGFpbiIsImNvdmVyIiwidXBkYXRlSW1hZ2UiLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwiZml0IiwiVEVYVF9BTkNIT1IiLCJ1cGRhdGVUZXh0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwiZm9udFdlaWdodCIsInRleHRBbGlnbiIsInRleHRDb250ZW50IiwidXBkYXRlTGluZSIsImNoaWxkTm9kZXMiLCJiZWdpbiIsImVuZCIsIngxIiwieTEiLCJ4MiIsInkyIiwibGluZURlY29yYXRpb24iLCJhcnJvd0JlZ2luUm90YXRpb25Qb2ludCIsImFycm93QmVnaW5DZW50ZXIiLCJhcnJvd0JlZ2luQSIsImFycm93QmVnaW5CIiwiYXJyb3dFbmRSb3RhdGlvblBvaW50IiwiYXJyb3dFbmRDZW50ZXIiLCJhcnJvd0VuZEEiLCJhcnJvd0VuZEIiLCJ1cGRhdGVQYXRoIiwiY3JlYXRlU2hhcGUiLCJjcmVhdGVMaW5lIiwic2hhcGUiLCJDUkVBVEVfVFlQRV9ST1VURVMiLCJzZXRBdHRyaWJ1dGVOUyIsImVsbGlwc2UiLCJVUERBVEVfVFlQRV9ST1VURVMiLCJjcmVhdGVNYXJrdXBCeVR5cGUiLCJ1cGRhdGVNYXJrdXBCeVR5cGUiLCJNQVJLVVBfUkVDVCIsInRvT3B0aW9uYWxGcmFjdGlvbiIsInByZXBhcmVNYXJrdXAiLCJfbWFya3VwIiwicmVkdWNlIiwicHJldiIsImN1cnIiLCJ6SW5kZXgiLCJzb3J0TWFya3VwQnlaSW5kZXgiLCJjcmVhdGVNYXJrdXBWaWV3IiwidXRpbHMiLCJjcmVhdGVWaWV3IiwiaWdub3JlUmVjdCIsIm1peGlucyIsImFwaXMiLCJfcmVmIiwicm9vdCIsImRpcnR5IiwiY3JvcCIsInJlc2l6ZSIsInZpZXdXaWR0aCIsInZpZXdIZWlnaHQiLCJjcm9wV2lkdGgiLCJjcm9wSGVpZ2h0IiwiX3NpemUiLCJvdXRwdXRXaWR0aCIsIm91dHB1dEhlaWdodCIsIm91dHB1dEZpdCIsIm91dHB1dFVwc2NhbGUiLCJ1cHNjYWxlIiwic2hvdWxkVXBzY2FsZSIsInNjYWxhcldpZHRoIiwic2NhbGFySGVpZ2h0IiwibWFya3VwRmlsdGVyIiwicXVlcnkiLCJzZXR0aW5ncyIsImNyZWF0ZVZlY3RvciQxIiwidmVjdG9yRG90IiwidmVjdG9yU3VidHJhY3QiLCJ2ZWN0b3JEaXN0YW5jZVNxdWFyZWQiLCJ2ZWN0b3JEaXN0YW5jZSIsImdldE9mZnNldFBvaW50T25FZGdlIiwicm90YXRpb24iLCJBIiwiQiIsIkMiLCJzaW5BIiwic2luQiIsInNpbkMiLCJjb3NDIiwicmF0aW8iLCJnZXRSb3RhdGVkUmVjdFNpemUiLCJ3IiwiaCIsImhvciIsInZlciIsInRsIiwiYWJzIiwidHIiLCJibCIsImNhbGN1bGF0ZUNhbnZhc1NpemUiLCJjYW52YXNBc3BlY3RSYXRpbyIsInpvb20iLCJpbWFnZUFzcGVjdFJhdGlvIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJpbWdXaWR0aCIsImltZ0hlaWdodCIsImdldEltYWdlUmVjdFpvb21GYWN0b3IiLCJpbWFnZVJlY3QiLCJjcm9wUmVjdCIsImltYWdlV2lkdGgiLCJpbWFnZUhlaWdodCIsInJvdGF0ZWRDcm9wU2l6ZSIsImdldENlbnRlcmVkQ3JvcFJlY3QiLCJjb250YWluZXIiLCJhc3BlY3RSYXRpbyIsImdldEN1cnJlbnRDcm9wU2l6ZSIsImltYWdlU2l6ZSIsImNhbnZhc1NpemUiLCJjYW52YXNDZW50ZXIiLCJzdGFnZSIsInNob3VsZExpbWl0Iiwic2NhbGVUb0ZpdCIsIndpZHRoRmxvYXQiLCJoZWlnaHRGbG9hdCIsInJvdW5kIiwiSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTIiwic3RpZmZuZXNzIiwiZGFtcGluZyIsIm1hc3MiLCJjcmVhdGVCaXRtYXBWaWV3IiwiY3JlYXRlSW1hZ2VDYW52YXNXcmFwcGVyIiwiYW5pbWF0aW9ucyIsIm9yaWdpblgiLCJvcmlnaW5ZIiwic2NhbGVYIiwic2NhbGVZIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJyb3RhdGVaIiwiX3JlZjIiLCJhcHBlbmRDaGlsZFZpZXciLCJjcmVhdGVDaGlsZFZpZXciLCJfcmVmMyIsImZsaXAiLCJob3Jpem9udGFsIiwidmVydGljYWwiLCJjcmVhdGVDbGlwVmlldyIsImR1cmF0aW9uIiwiZGlkV3JpdGVWaWV3IiwiX3JlZjQiLCJiYWNrZ3JvdW5kIiwiX3JlZjUiLCJjcmVhdGVNYXJrdXAiLCJkZXN0cm95TWFya3VwIiwicmVtb3ZlQ2hpbGRWaWV3IiwidHJhbnNwYXJlbmN5SW5kaWNhdG9yIiwiZGF0YXNldCIsIl9yZWY2Iiwic2hvdWxkT3B0aW1pemUiLCJ0cmFuc2xhdGlvbiIsIlBJIiwiY3JvcEFzcGVjdFJhdGlvIiwic3RhZ2Vab29tRmFjdG9yIiwiaW1hZ2VWaWV3IiwiY3JlYXRlSW1hZ2VWaWV3IiwiX3JlZjciLCJjbGlwIiwiX3JlZjgiLCJoaWRkZW4iLCJjb250YWluZXJXaWR0aCIsImlubmVyIiwiY29udGFpbmVySGVpZ2h0IiwiZml4ZWRQcmV2aWV3SGVpZ2h0IiwibWluUHJldmlld0hlaWdodCIsIm1heFByZXZpZXdIZWlnaHQiLCJwYW5lbEFzcGVjdFJhdGlvIiwiY2xpcEhlaWdodCIsImNsaXBXaWR0aCIsIlNWR19NQVNLIiwiY2hlY2tlZE15QmFzZXMiLCJTVkdNYXNrVW5pcXVlSWQiLCJjcmVhdGVJbWFnZU92ZXJsYXlWaWV3IiwiZnBBUEkiLCJxdWVyeVNlbGVjdG9yIiwiaHJlZiIsImhhc2giLCJjbGFzc0xpc3QiLCJhZGQiLCJCaXRtYXBXb3JrZXIiLCJjcmVhdGVJbWFnZUJpdG1hcCIsIkNvbG9yTWF0cml4V29ya2VyIiwiaW1hZ2VEYXRhIiwibWF0cml4IiwiY29sb3JNYXRyaXgiLCJtMTEiLCJtMTIiLCJtMTMiLCJtMTQiLCJtMTUiLCJtMjEiLCJtMjIiLCJtMjMiLCJtMjQiLCJtMjUiLCJtMzEiLCJtMzIiLCJtMzMiLCJtMzQiLCJtMzUiLCJtNDEiLCJtNDIiLCJtNDMiLCJtNDQiLCJtNDUiLCJnZXRJbWFnZVNpemUiLCJJbWFnZSIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ0cmFuc2Zvcm1zIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsImZpeEltYWdlT3JpZW50YXRpb24iLCJjdHgiLCJvcmllbnRhdGlvbiIsImNyZWF0ZVByZXZpZXdJbWFnZSIsImNhbnZhcyIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJpc0JpdG1hcCIsIk1BWF9XSURUSCIsIk1BWF9IRUlHSFQiLCJjYWxjdWxhdGVBdmVyYWdlQ29sb3IiLCJnZXRJbWFnZURhdGEiLCJhdmVyYWdlQ29sb3IiLCJjbG9uZUNhbnZhcyIsImNsb25lSW1hZ2VEYXRhIiwiSW1hZ2VEYXRhIiwiY3JlYXRlSW1hZ2VEYXRhIiwibG9hZEltYWdlIiwiaW1nIiwiY3Jvc3NPcmlnaW4iLCJjcmVhdGVJbWFnZVdyYXBwZXJWaWV3IiwiT3ZlcmxheVZpZXciLCJJbWFnZVZpZXciLCJjcmVhdGVXb3JrZXIiLCJhcHBseUZpbHRlciIsInB1dEltYWdlRGF0YSIsIndvcmtlciIsInBvc3QiLCJ0ZXJtaW5hdGUiLCJyZW1vdmVJbWFnZVZpZXciLCJfZGVzdHJveSIsInNoaWZ0SW1hZ2UiLCJpbWFnZXMiLCJpbWFnZVZpZXdCaW4iLCJwdXNoSW1hZ2UiLCJnZXRNZXRhZGF0YSIsImNoaWxkVmlld3MiLCJkaXNwYXRjaCIsImRpZFVwZGF0ZUl0ZW1NZXRhZGF0YSIsImFjdGlvbiIsImNoYW5nZSIsIl9pbWFnZVZpZXciLCJjYW5DcmVhdGVJbWFnZUJpdG1hcCIsImlzRmlyZWZveCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImRpZENyZWF0ZVByZXZpZXdDb250YWluZXIiLCJmaWxlVVJMIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZHJhd1ByZXZpZXciLCJsb2FkUHJldmlld0ZhbGxiYWNrIiwicHJldmlld0ltYWdlTG9hZGVkIiwicmV2b2tlT2JqZWN0VVJMIiwicGl4ZWxEZW5zaXR5RmFjdG9yIiwiZGV2aWNlUGl4ZWxSYXRpbyIsInNjYWxlRmFjdG9yIiwicHJldmlld0ltYWdlUmF0aW8iLCJwcmV2aWV3Q29udGFpbmVyV2lkdGgiLCJwcmV2aWV3Q29udGFpbmVySGVpZ2h0IiwicHJldmlld0ltYWdlIiwic2V0TWV0YWRhdGEiLCJvdmVybGF5U2hhZG93IiwiaW1hZ2VCaXRtYXAiLCJkaWREcmF3UHJldmlldyIsInJlc3RvcmVPdmVybGF5IiwiX3JlZjkiLCJvdmVybGF5RXJyb3IiLCJvdmVybGF5U3VjY2VzcyIsImRpZFRocm93RXJyb3IiLCJfcmVmMTAiLCJkaWRDb21wbGV0ZVByb2Nlc3NpbmciLCJfcmVmMTEiLCJfcmVmMTIiLCJfcmVmMTMiLCJfcmVmMTQiLCJjcmVhdGVSb3V0ZSIsIkRJRF9JTUFHRV9QUkVWSUVXX0RSQVciLCJESURfSU1BR0VfUFJFVklFV19DT05UQUlORVJfQ1JFQVRFIiwiRElEX0ZJTklTSF9DQUxDVUxBVEVfUFJFVklFV1NJWkUiLCJESURfVVBEQVRFX0lURU1fTUVUQURBVEEiLCJESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SIiwiRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUiIsIkRJRF9USFJPV19JVEVNX0lOVkFMSUQiLCJESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HIiwiRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORyIsIkRJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HIiwiX3JlZjE1Iiwidmlld3NUb1JlbW92ZSIsInBsdWdpbiIsImFkZEZpbHRlciIsIlR5cGUiLCJpc0ZpbGUiLCJpbWFnZVByZXZpZXdWaWV3Iiwidmlld0FQSSIsImlzIiwiZGlkTG9hZEl0ZW0iLCJhcmNoaXZlZCIsInN1cHBvcnRzQ3JlYXRlSW1hZ2VCaXRtYXAiLCJtYXhQcmV2aWV3RmlsZVNpemUiLCJpbWFnZVByZXZpZXciLCJyZXNjYWxlSXRlbSIsIml0ZW1QYW5lbEFzcGVjdFJhdGlvIiwiZml4ZWRIZWlnaHQiLCJfcm9vdCRyZWYiLCJwcmV2aWV3QXNwZWN0UmF0aW8iLCJwcmV2aWV3SGVpZ2h0TWF4IiwiaXRlbVdpZHRoIiwicHJldmlld0hlaWdodCIsImRpZFJlc2l6ZVZpZXciLCJzaG91bGRSZXNjYWxlIiwiZGlkQ2FsY3VsYXRlUHJldmlld1NpemUiLCJzaG91bGREcmF3UHJldmlldyIsInJlZ2lzdGVyV3JpdGVyIiwiRElEX1JFU0laRV9ST09UIiwiRElEX1NUT1BfUkVTSVpFIiwiRElEX0xPQURfSVRFTSIsIkRJRF9JTUFHRV9QUkVWSUVXX0NBTENVTEFURV9TSVpFIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYWxsb3dJbWFnZVByZXZpZXciLCJCT09MRUFOIiwiaW1hZ2VQcmV2aWV3RmlsdGVySXRlbSIsIkZVTkNUSU9OIiwiaW1hZ2VQcmV2aWV3SGVpZ2h0IiwiSU5UIiwiaW1hZ2VQcmV2aWV3TWluSGVpZ2h0IiwiaW1hZ2VQcmV2aWV3TWF4SGVpZ2h0IiwiaW1hZ2VQcmV2aWV3TWF4RmlsZVNpemUiLCJpbWFnZVByZXZpZXdab29tRmFjdG9yIiwiaW1hZ2VQcmV2aWV3VXBzY2FsZSIsImltYWdlUHJldmlld01heEluc3RhbnRQcmV2aWV3RmlsZVNpemUiLCJpbWFnZVByZXZpZXdUcmFuc3BhcmVuY3lJbmRpY2F0b3IiLCJTVFJJTkciLCJpbWFnZVByZXZpZXdDYWxjdWxhdGVBdmVyYWdlSW1hZ2VDb2xvciIsImltYWdlUHJldmlld01hcmt1cFNob3ciLCJpbWFnZVByZXZpZXdNYXJrdXBGaWx0ZXIiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJpc1N0cmluZyIsInJlcGxhY2VJblN0cmluZyIsImd1ZXNzdGltYXRlTWltZVR5cGUiLCJnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUiLCJnZXRGaWxlbmFtZUZyb21VUkwiLCJtaW1lVHlwZU1hdGNoZXNXaWxkQ2FyZCIsIm1pbWVUeXBlIiwid2lsZGNhcmQiLCJwb3AiLCJpc1ZhbGlkTWltZVR5cGUiLCJhY2NlcHRlZFR5cGVzIiwidXNlcklucHV0VHlwZSIsInNvbWUiLCJhY2NlcHRlZFR5cGUiLCJnZXRJdGVtVHlwZSIsImZpbGVuYW1lIiwiZXh0ZW5zaW9uIiwidmFsaWRhdGVGaWxlIiwidHlwZURldGVjdG9yIiwiZGV0ZWN0ZWRUeXBlIiwiY2F0Y2giLCJhcHBseU1pbWVUeXBlTWFwIiwiYWNjZXB0ZWRGaWxlVHlwZSIsInZhbGlkYXRpb25SZXN1bHQiLCJoYW5kbGVSZWplY3Rpb24iLCJhY2NlcHRlZEZpbGVUeXBlc01hcHBlZCIsImxhYmVsIiwibWFpbiIsInN1YiIsImFsbFR5cGVzIiwiYWxsQnV0TGFzdFR5cGUiLCJsYXN0VHlwZSIsImFsbG93RmlsZVR5cGVWYWxpZGF0aW9uIiwiQVJSQVkiLCJsYWJlbEZpbGVUeXBlTm90QWxsb3dlZCIsImZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXMiLCJmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzTWFwIiwiT0JKRUNUIiwiZmlsZVZhbGlkYXRlVHlwZURldGVjdFR5cGUiLCJ0b05hdHVyYWxGaWxlU2l6ZSIsInNpemVNYXgiLCJzaXplTWluIiwiZmlsZUZpbHRlciIsImZpbGVzaXplIiwidG90YWxTaXplTWF4IiwidG90YWwiLCJmaWxlU2l6ZSIsIm1pbkZpbGVTaXplIiwibWF4VG90YWxGaWxlU2l6ZSIsImZpbGVWYWxpZGF0ZVNpemVGaWx0ZXIiLCJsYWJlbE1pbkZpbGVTaXplRXhjZWVkZWQiLCJsYWJlbE1pbkZpbGVTaXplIiwibGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkIiwibGFiZWxNYXhGaWxlU2l6ZSIsImxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkIiwibGFiZWxNYXhUb3RhbEZpbGVTaXplIiwiY3JlYXRlUG9zdGVyVmlldyIsIkRJRF9GSUxFX1BPU1RFUl9MT0FEIiwiYXBwbHlUZW1wbGF0ZSIsImNyZWF0ZVBvc3Rlck92ZXJsYXlWaWV3IiwidGVtcGxhdGUiLCJlYXNlSW5PdXRTaW5lIiwiYWRkR3JhZGllbnRTdGVwcyIsImdyYWRpZW50IiwiY29sb3IiLCJhbHBoYSIsImVhc2VGbiIsInN0ZXBzIiwib2Zmc2V0IiwicmFuZ2UiLCJyZ2IiLCJzdG9wIiwiYWRkQ29sb3JTdG9wIiwiZHJhd1RlbXBsYXRlIiwiYWxwaGFUYXJnZXQiLCJob3Jpem9udGFsQ2VudGVyIiwiZ3JhZCIsImNyZWF0ZVJhZGlhbEdyYWRpZW50Iiwic2F2ZSIsInRyYW5zbGF0ZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwicmVzdG9yZSIsImhhc05hdmlnYXRvciIsIm92ZXJsYXlUZW1wbGF0ZVNoYWRvdyIsIm92ZXJsYXlUZW1wbGF0ZUVycm9yIiwib3ZlcmxheVRlbXBsYXRlU3VjY2VzcyIsImNyb3NzT3JpZ2luVmFsdWUiLCJjcmVhdGVQb3N0ZXJXcmFwcGVyVmlldyIsIm92ZXJsYXkiLCJkaWRMb2FkUHJldmlldyIsIkRJRF9GSUxFX1BPU1RFUl9EUkFXIiwiRElEX0ZJTEVfUE9TVEVSX0NPTlRBSU5FUl9DUkVBVEUiLCJmaWxlUG9zdGVyVmlldyIsInVwZGF0ZUl0ZW1Qb3N0ZXIiLCJmaWxlUG9zdGVyIiwic2hvdWxkVXBkYXRlUGFuZWxIZWlnaHQiLCJnZXRQb3N0ZXJIZWlnaHQiLCJmaXhlZFBvc3RlckhlaWdodCIsIm1pblBvc3RlckhlaWdodCIsIm1heFBvc3RlckhlaWdodCIsIkRJRF9GSUxFX1BPU1RFUl9DQUxDVUxBVEVfU0laRSIsImFsbG93RmlsZVBvc3RlciIsImZpbGVQb3N0ZXJIZWlnaHQiLCJmaWxlUG9zdGVyTWluSGVpZ2h0IiwiZmlsZVBvc3Rlck1heEhlaWdodCIsImZpbGVQb3N0ZXJGaWx0ZXJJdGVtIiwiZmlsZVBvc3RlckNhbGN1bGF0ZUF2ZXJhZ2VJbWFnZUNvbG9yIiwiZmlsZVBvc3RlckNyb3NzT3JpZ2luQXR0cmlidXRlVmFsdWUiLCJPcGVuU3RhZENvbXBvbmVudFBvbGxGb3JtIiwicXVlc3Rpb25NaW5MZW5ndGgiLCJxdWVzdGlvbk1heExlbmd0aCIsInRpdGxlTWluTGVuZ3RoIiwidGl0bGVNYXhMZW5ndGgiLCJkZXNjcmlwdGlvbk1pbkxlbmd0aCIsImRlc2NyaXB0aW9uTWF4TGVuZ3RoIiwiYWxsb3dDaG9pY2VUaXRsZXMiLCJwb2xsSWQiLCJwb2xsIiwiaXNCdXN5IiwiZmV0Y2hEYXRhIiwicXVlc3Rpb24iLCJpZGVhSWQiLCJtZXNzYWdlcyIsInF1ZXN0aW9uSW5wdXQiLCJ0aXRsZUlucHV0IiwiZGVzY3JpcHRpb25JbnB1dCIsImNhbiIsImVkaXQiLCJyZXF1aXJlZFVzZXJSb2xlIiwidmFsaWRhdGVkUmVzdWx0IiwiY2FuU3VibWl0IiwiYWxlcnQiLCJpc05ldyIsIm9uRmluaXNoZWQiLCJmb3JtSW50cm8iLCJzdWJtaXRCdXR0b25IVE1MIiwic3VibWl0Rm9ybSIsImxvZ2luVXJsIiwidGl0bGVJbnB1dEhUTUwiLCJhZGRDaG9pY2UiLCJPcGVuU3RhZENvbXBvbmVudFBvbGwiLCJ3aXRoUGVyY2VudGFnZSIsImFsbG93U2hvd1Jlc3VsdHNJZk5vdFZvdGVkIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaGlkZUVkaXRGb3JtIiwic2VsZWN0ZWRDaG9pY2UiLCJzaG93UmVzdWx0Iiwic2hvd1F1ZXN0aW9uIiwiZWRpdE1vZGUiLCJzaG93Vm90ZVN1Y2NlZWRlZCIsInBhcnNlVm90ZUNvdW50IiwidXNlclZvdGUiLCJ2b3RlQ291bnQiLCJ2b3Rlc0FicyIsInZvdGVzUHJjIiwicmVhY3Rpb24iLCJvblN1Ym1pdCIsInF1ZXN0aW9uSFRNTCIsImNob2ljZUhUTUwiLCJzdWJtaXRWb3RlIiwic2hvd1Jlc3VsdEJ1dHRvbkhUTUwiLCJzZXRTaG93UmVzdWx0Iiwic2VsZWN0Q2hvaWNlIiwicmVzdWx0SFRNTCIsInNob3dRdWVzdGlvbkJ1dHRvbkhUTUwiLCJzZXRTaG93UXVlc3Rpb24iLCJ0b3RhbFZvdGVzSFRNTCIsInh4IiwicGVyY2VudGFnZUhUTUwiLCJzY29yZUhUTUwiLCJlZGl0QnV0dG9uc0hUTUwiLCJzaG93RWRpdEZvcm0iLCJjb25maXJtIiwiZGVsZXRlUG9sbCIsInZvdGVTdWNjZWVkZWRIVE1MIiwicmVuZGVyRWxlbWVudCIsImVsZW0iLCJSZWFjdERPTSIsInJlbmRlciIsIkhUTUxFbGVtZW50IiwiY3JlYXRlU3RvcmUiLCJpbml0aWFsU3RhdGUiLCJxdWVyaWVzIiwiYWN0aW9ucyIsImFjdGlvblF1ZXVlIiwiZGlzcGF0Y2hRdWV1ZSIsInByb2Nlc3NEaXNwYXRjaFF1ZXVlIiwiaXNCbG9ja2luZyIsImFjdGlvbkhhbmRsZXJzIiwic3RyIiwiX3F1ZXJ5SGFuZGxlcyIsIl9sZW4iLCJfa2V5IiwicXVlcnlIYW5kbGVzIiwiZ2V0U3RhdGUiLCJwcm9jZXNzQWN0aW9uUXVldWUiLCJkZWZpbml0aW9uIiwiZm9yaW4iLCJjcmVhdGVPYmplY3QiLCJnZXRBdHRyaWJ1dGUiLCJoYXNBdHRyaWJ1dGUiLCJzdmdFbGVtZW50cyIsImlzU1ZHRWxlbWVudCIsImluc2VydEJlZm9yZSIsInNwbGljZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIklTX0JST1dTRVIiLCJpc0Jyb3dzZXIiLCJnZXRDaGlsZENvdW50IiwiZ2V0Vmlld1JlY3QiLCJlbGVtZW50UmVjdCIsIm91dGVyIiwiY2hpbGRWaWV3IiwiaXNSZWN0SWdub3JlZCIsImNoaWxkVmlld1JlY3QiLCJleHBhbmRSZWN0IiwiY2FsY3VsYXRlUmVjdFNpemUiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5SaWdodCIsImlzTnVtYmVyIiwidGhlcmVZZXQiLCJwb3NpdGlvbiIsImRlc3RpbmF0aW9uIiwidmVsb2NpdHkiLCJlcnJvck1hcmdpbiIsImVhc2VJbk91dFF1YWQiLCJhbmltYXRvciIsInNwcmluZyIsIl9yZWYkc3RpZmZuZXNzIiwiX3JlZiRkYW1waW5nIiwiX3JlZiRtYXNzIiwicmVzdGluZyIsImludGVycG9sYXRlIiwidHMiLCJza2lwVG9FbmRTdGF0ZSIsIm9udXBkYXRlIiwib25jb21wbGV0ZSIsInR3ZWVuIiwiX3JlZiRkdXJhdGlvbiIsIl9yZWYkZWFzaW5nIiwiZWFzaW5nIiwiX3JlZiRkZWxheSIsImRlbGF5Iiwic3RhcnQiLCJyZXZlcnNlIiwiY3JlYXRlQW5pbWF0b3IiLCJjYXRlZ29yeSIsImRlZiIsImFkZEdldFNldCIsIm92ZXJ3cml0ZSIsInNldHRlciIsImFkZEV2ZW50IiwicmVtb3ZlRXZlbnQiLCJkZWZhdWx0cyIsInJvdGF0ZVgiLCJyb3RhdGVZIiwibWl4aW5Db25maWciLCJ2aWV3UHJvcHMiLCJ2aWV3SW50ZXJuYWxBUEkiLCJ2aWV3RXh0ZXJuYWxBUEkiLCJpbml0aWFsUHJvcHMiLCJjdXJyZW50UHJvcHMiLCJnZXRPZmZzZXQiLCJnZXRTY2FsZSIsImdldFJlY3QiLCJwcm9wc0hhdmVDaGFuZ2VkIiwiYXBwbHlTdHlsZXMiLCJuZXdQcm9wcyIsInByb3AiLCJwZXJzcGVjdGl2ZSIsImVsZW1lbnRDdXJyZW50U3R5bGUiLCJjc3NUZXh0IiwiTWl4aW5zIiwidmlld1N0YXRlIiwiZXZlbnRzIiwicmVtb3ZlIiwiZmluZEluZGV4IiwiYW5pbWF0aW9uIiwibGF5b3V0Q2FsY3VsYXRlZCIsInBhZGRpbmdUb3AiLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwic2Nyb2xsVG9wIiwib2Zmc2V0UGFyZW50IiwiX3JlZiR0YWciLCJfcmVmJG5hbWUiLCJfcmVmJGF0dHJpYnV0ZXMiLCJfcmVmJHJlYWQiLCJyZWFkIiwiX3JlZiR3cml0ZSIsIl9yZWYkY3JlYXRlIiwiX3JlZiRkZXN0cm95IiwiX3JlZiRmaWx0ZXJGcmFtZUFjdGlvIiwiZmlsdGVyRnJhbWVBY3Rpb25zRm9yQ2hpbGQiLCJfcmVmJGRpZENyZWF0ZVZpZXciLCJkaWRDcmVhdGVWaWV3IiwiX3JlZiRkaWRXcml0ZVZpZXciLCJfcmVmJGlnbm9yZVJlY3QiLCJfcmVmJGlnbm9yZVJlY3RVcGRhdGUiLCJpZ25vcmVSZWN0VXBkYXRlIiwiX3JlZiRtaXhpbnMiLCJnZXRDb21wdXRlZFN0eWxlIiwiZnJhbWVSZWN0IiwiaXNSZXN0aW5nIiwiYWN0aXZlTWl4aW5zIiwid3JpdGVycyIsInJlYWRlcnMiLCJkZXN0cm95ZXJzIiwiZ2V0RWxlbWVudCIsImdldENoaWxkVmlld3MiLCJnZXRSZWZlcmVuY2UiLCJfcmVhZCIsImludGVybmFsQVBJIiwiX3dyaXRlIiwiZnJhbWVBY3Rpb25zIiwid3JpdGVyIiwidGltZXN0YW1wIiwibWl4aW4iLCJkZXN0cm95ZXIiLCJzaGFyZWRBUElEZWZpbml0aW9uIiwiaW50ZXJuYWxBUElEZWZpbml0aW9uIiwibmVlZGxlIiwibGlua1ZpZXciLCJ1bmxpbmtWaWV3IiwicmVnaXN0ZXJSZWFkZXIiLCJyZWdpc3RlckRlc3Ryb3llciIsImludmFsaWRhdGVMYXlvdXQiLCJleHRlcm5hbEFQSURlZmluaXRpb24iLCJtaXhpbkFQSURlZmluaXRpb24iLCJtaXhpbkFQSSIsImNoaWxkQ291bnQiLCJjcmVhdGVQYWludGVyIiwiZnBzIiwicGFpbnRlciIsImludGVydmFsIiwibGFzdCIsInJlcXVlc3RUaWNrIiwiY2FuY2VsVGljayIsInNldFRpbWVyVHlwZSIsInRpY2siLCJwZXJmb3JtYW5jZSIsIm5vdyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiZGVsdGEiLCJwYXVzZSIsInJvdXRlcyIsIl9yZWYkYWN0aW9ucyIsIm5ld05vZGUiLCJyZWZlcmVuY2VOb2RlIiwiaW5zZXJ0QWZ0ZXIiLCJuZXh0U2libGluZyIsImlzRW1wdHkiLCJpc0Jvb2xlYW4iLCJ0b0Jvb2xlYW4iLCJ0b051bWJlciIsInRvSW50IiwidG9GbG9hdCIsImlzSW50IiwiaXNGaW5pdGUiLCJ0b0J5dGVzIiwibmF0dXJhbEZpbGVTaXplIiwidG9GdW5jdGlvblJlZmVyZW5jZSIsImxldmVscyIsImxldmVsIiwicGF0Y2giLCJyZXZlcnQiLCJsb2FkIiwiY3JlYXRlU2VydmVyQVBJIiwib3V0bGluZSIsImNyZWF0ZUFjdGlvbiIsIm9uZGF0YSIsImlzTnVsbCIsImlzQVBJIiwiZ2V0VHlwZSIsInJlcGxhY2VTaW5nbGVRdW90ZXMiLCJjb252ZXJzaW9uVGFibGUiLCJzcGxpdHRlciIsImJvb2xlYW4iLCJpbnQiLCJudW1iZXIiLCJmbG9hdCIsImZ1bmN0aW9uIiwic2VydmVyYXBpIiwiY29udmVydFRvIiwiZ2V0VmFsdWVCeVR5cGUiLCJuZXdWYWx1ZSIsImRlZmF1bHRWYWx1ZSIsInZhbHVlVHlwZSIsIm5ld1ZhbHVlVHlwZSIsImNvbnZlcnRlZFZhbHVlIiwib3B0aW9uIiwiY3JlYXRlT3B0aW9uIiwiY3VycmVudFZhbHVlIiwiY3JlYXRlT3B0aW9ucyIsIm9wdGlvbkRlZmluaXRpb24iLCJjcmVhdGVJbml0aWFsU3RhdGUiLCJsaXN0VXBkYXRlVGltZW91dCIsIml0ZW1VcGRhdGVUaW1lb3V0IiwicHJvY2Vzc2luZ1F1ZXVlIiwiZnJvbUNhbWVscyIsInNlcGFyYXRvciIsInBhcnQiLCJjcmVhdGVPcHRpb25BUEkiLCJjcmVhdGVPcHRpb25BY3Rpb25zIiwiY3JlYXRlT3B0aW9uUXVlcmllcyIsIkludGVyYWN0aW9uTWV0aG9kIiwiQVBJIiwiRFJPUCIsIkJST1dTRSIsIlBBU1RFIiwiTk9ORSIsImdldFVuaXF1ZUlkIiwic3Vic3RyIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJleGNsdWRlZCIsInNvdXJjZUtleXMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJzb3VyY2VTeW1ib2xLZXlzIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiX2FycmF5V2l0aG91dEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVNwcmVhZCIsImFycjIiLCJpdGVyIiwiZnJvbSIsImFycmF5UmVtb3ZlIiwic3luYyIsImxpc3RlbmVyIiwiX2ZpcmUiLCJmaXJlU3luYyIsImZpcmUiLCJfbGVuMiIsIl9rZXkyIiwib25PbmNlIiwiX2NiIiwiY29weU9iamVjdFByb3BlcnRpZXNUb09iamVjdCIsIlBSSVZBVEUiLCJjcmVhdGVJdGVtQVBJIiwicmVtb3ZlUmVsZWFzZWRJdGVtcyIsInJlbGVhc2VkIiwiSXRlbVN0YXR1cyIsIklOSVQiLCJJRExFIiwiUFJPQ0VTU0lOR19RVUVVRUQiLCJQUk9DRVNTSU5HIiwiUFJPQ0VTU0lOR19DT01QTEVURSIsIlBST0NFU1NJTkdfRVJST1IiLCJQUk9DRVNTSU5HX1JFVkVSVF9FUlJPUiIsIkxPQURJTkciLCJMT0FEX0VSUk9SIiwiRmlsZU9yaWdpbiIsIklOUFVUIiwiTElNQk8iLCJMT0NBTCIsImdldE5vbk51bWVyaWMiLCJnZXREZWNpbWFsU2VwYXJhdG9yIiwidG9Mb2NhbGVTdHJpbmciLCJnZXRUaG91c2FuZHNTZXBhcmF0b3IiLCJkZWNpbWFsU2VwYXJhdG9yIiwidGhvdXNhbmRzU3RyaW5nV2l0aFNlcGFyYXRvciIsIk5VTUJFUiIsIkFDVElPTiIsIlNFUlZFUl9BUEkiLCJSRUdFWCIsImZpbHRlcnMiLCJhcHBseUZpbHRlckNoYWluIiwibWF0Y2hpbmdGaWx0ZXJzIiwiaW5pdGlhbEZpbHRlciIsImFwcGx5RmlsdGVycyIsImV4dGVuZERlZmF1bHRPcHRpb25zIiwiYWRkaXRpb25hbE9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsImdldE9wdGlvbnMiLCJvcHRzIiwiYWxsb3dTeW5jQWNjZXB0QXR0cmlidXRlIiwiYWxsb3dEcm9wIiwiYWxsb3dQYXN0ZSIsImFsbG93UmVwbGFjZSIsImFsbG93UmV2ZXJ0IiwiYWxsb3dSZW1vdmUiLCJhbGxvd1Byb2Nlc3MiLCJhbGxvd0RpcmVjdG9yaWVzT25seSIsImZvcmNlUmV2ZXJ0IiwiY2hlY2tWYWxpZGl0eSIsIml0ZW1JbnNlcnRMb2NhdGlvbkZyZWVkb20iLCJpdGVtSW5zZXJ0TG9jYXRpb24iLCJpdGVtSW5zZXJ0SW50ZXJ2YWwiLCJkcm9wT25QYWdlIiwiZHJvcE9uRWxlbWVudCIsImRyb3BWYWxpZGF0aW9uIiwiaWdub3JlZEZpbGVzIiwiaW5zdGFudFVwbG9hZCIsIm1heFBhcmFsbGVsVXBsb2FkcyIsImNodW5rVXBsb2FkcyIsImNodW5rRm9yY2UiLCJjaHVua1NpemUiLCJjaHVua1JldHJ5RGVsYXlzIiwibGFiZWxEZWNpbWFsU2VwYXJhdG9yIiwibGFiZWxUaG91c2FuZHNTZXBhcmF0b3IiLCJpY29uUmVtb3ZlIiwiaWNvblByb2Nlc3MiLCJpY29uUmV0cnkiLCJpY29uVW5kbyIsImljb25Eb25lIiwib253YXJuaW5nIiwib25hY3RpdmF0ZWZpbGUiLCJvbmluaXRmaWxlIiwib25hZGRmaWxlc3RhcnQiLCJvbmFkZGZpbGVwcm9ncmVzcyIsIm9uYWRkZmlsZSIsIm9ucHJvY2Vzc2ZpbGVzdGFydCIsIm9ucHJvY2Vzc2ZpbGVwcm9ncmVzcyIsIm9ucHJvY2Vzc2ZpbGVhYm9ydCIsIm9ucHJvY2Vzc2ZpbGVyZXZlcnQiLCJvbnByb2Nlc3NmaWxlcyIsIm9ucHJlcGFyZWZpbGUiLCJvbnJlb3JkZXJmaWxlcyIsImJlZm9yZURyb3BGaWxlIiwiYmVmb3JlQWRkRmlsZSIsImJlZm9yZVJlbW92ZUZpbGUiLCJzdHlsZVBhbmVsTGF5b3V0Iiwic3R5bGVQYW5lbEFzcGVjdFJhdGlvIiwic3R5bGVCdXR0b25SZW1vdmVJdGVtUG9zaXRpb24iLCJzdHlsZUJ1dHRvblByb2Nlc3NJdGVtUG9zaXRpb24iLCJzdHlsZUxvYWRJbmRpY2F0b3JQb3NpdGlvbiIsInN0eWxlUHJvZ3Jlc3NJbmRpY2F0b3JQb3NpdGlvbiIsInN0eWxlQnV0dG9uUmVtb3ZlSXRlbUFsaWduIiwiZ2V0SXRlbUJ5UXVlcnkiLCJmaW5kIiwiZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyIsImdldEFjdGl2ZUl0ZW1zIiwiU3RhdHVzIiwiRU1QVFkiLCJFUlJPUiIsIkJVU1kiLCJSRUFEWSIsIklURU1fRVJST1IiLCJJVEVNX0JVU1kiLCJJVEVNX1JFQURZIiwiaXNJdGVtSW5FcnJvclN0YXRlIiwiaXNJdGVtSW5CdXN5U3RhdGUiLCJpc0l0ZW1JblJlYWR5U3RhdGUiLCJHRVRfU1RBVFVTIiwiR0VUX0lURU0iLCJHRVRfQUNUSVZFX0lURU0iLCJHRVRfQUNUSVZFX0lURU1TIiwiR0VUX0lURU1TIiwiR0VUX0lURU1fTkFNRSIsIkdFVF9JVEVNX1NJWkUiLCJHRVRfU1RZTEVTIiwiR0VUX1BBTkVMX0FTUEVDVF9SQVRJTyIsIkdFVF9JVEVNX1BBTkVMX0FTUEVDVF9SQVRJTyIsIkdFVF9JVEVNU19CWV9TVEFUVVMiLCJHRVRfVE9UQUxfSVRFTVMiLCJJU19BU1lOQyIsImhhc1Jvb21Gb3JJdGVtIiwiY291bnQiLCJtYXhGaWxlQ291bnQiLCJsaW1pdCIsImFycmF5SW5zZXJ0IiwiaW5zZXJ0SXRlbSIsImlzQmFzZTY0RGF0YVVSSSIsImd1ZXNzdGltYXRlRXh0ZW5zaW9uIiwic3VidHlwZSIsImxlZnRQYWQiLCJwYWRkaW5nIiwiZ2V0RGF0ZVN0cmluZyIsImRhdGUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnZXRGaWxlRnJvbUJsb2IiLCJsYXN0TW9kaWZpZWREYXRlIiwiX3JlbGF0aXZlUGF0aCIsImdldEJsb2JCdWlsZGVyIiwiQmxvYkJ1aWxkZXIiLCJXZWJLaXRCbG9iQnVpbGRlciIsIk1vekJsb2JCdWlsZGVyIiwiTVNCbG9iQnVpbGRlciIsImNyZWF0ZUJsb2IiLCJCQiIsImJiIiwiZ2V0QmxvYiIsImdldEJsb2JGcm9tQnl0ZVN0cmluZ1dpdGhNaW1lVHlwZSIsImJ5dGVTdHJpbmciLCJhYiIsImlhIiwiY2hhckNvZGVBdCIsImdldE1pbWVUeXBlRnJvbUJhc2U2NERhdGFVUkkiLCJkYXRhVVJJIiwiZ2V0QmFzZTY0RGF0YUZyb21CYXNlNjREYXRhVVJJIiwiZ2V0Qnl0ZVN0cmluZ0Zyb21CYXNlNjREYXRhVVJJIiwiYXRvYiIsImdldEJsb2JGcm9tQmFzZTY0RGF0YVVSSSIsImdldEZpbGVGcm9tQmFzZTY0RGF0YVVSSSIsImdldEZpbGVOYW1lRnJvbUhlYWRlciIsImRlY29kZVVSSSIsImdldEZpbGVTaXplRnJvbUhlYWRlciIsImdldFRyYW5mc2VySWRGcm9tSGVhZGVyIiwiZ2V0RmlsZUluZm9Gcm9tSGVhZGVycyIsImluZm8iLCJyb3dzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsImNyZWF0ZUZpbGVMb2FkZXIiLCJmZXRjaEZuIiwiY29tcGxldGUiLCJwcm9ncmVzcyIsImdldFByb2dyZXNzIiwiRmlsZSIsImxvYWRVUkwiLCJjb2RlIiwiY29tcHV0YWJsZSIsImZpbGVpbmZvIiwic2V0U291cmNlIiwiaXNHZXQiLCJzZW5kUmVxdWVzdCIsIm9uaGVhZGVycyIsIm9ucHJvZ3Jlc3MiLCJoZWFkZXJzUmVjZWl2ZWQiLCJlbmNvZGVVUkkiLCJ1cGxvYWQiLCJsZW5ndGhDb21wdXRhYmxlIiwibG9hZGVkIiwidW5lc2NhcGUiLCJjcmVhdGVSZXNwb25zZSIsImNyZWF0ZVRpbWVvdXRSZXNwb25zZSIsImhhc1FTIiwiYnVpbGRVUkwiLCJjcmVhdGVGZXRjaEZ1bmN0aW9uIiwiYXBpVXJsIiwicmVzIiwiQ2h1bmtTdGF0dXMiLCJRVUVVRUQiLCJDT01QTEVURSIsIldBSVRJTkciLCJwcm9jZXNzRmlsZUNodW5rZWQiLCJ0cmFuc2ZlciIsImNodW5rcyIsImNodW5rVHJhbnNmZXJJZCIsImNodW5rU2VydmVyIiwiZmQiLCJnZXRSZXNwb25zZUhlYWRlciIsInJlcXVlc3RUcmFuc2ZlcklkIiwicmVxdWVzdFBhcmFtcyIsInJlcXVlc3RUcmFuc2Zlck9mZnNldCIsInJlcXVlc3RVcmwiLCJsYXN0Q2h1bmtJbmRleCIsInJldHJpZXMiLCJjb21wbGV0ZVByb2Nlc3NpbmdDaHVua3MiLCJjYW5Qcm9jZXNzQ2h1bmsiLCJjaHVuayIsInByb2Nlc3NDaHVuayIsInByb2Nlc3NDaHVua3MiLCJ1cGRhdGVUb3RhbFByb2dyZXNzIiwicmV0cnlQcm9jZXNzQ2h1bmsiLCJldmVyeSIsInRvdGFsQnl0ZXNUcmFuc2ZlcmVkIiwidG90YWxTaXplIiwiYWJvcnRDaHVua3MiLCJjcmVhdGVGaWxlUHJvY2Vzc29yRnVuY3Rpb24iLCJjYW5DaHVua1VwbG9hZCIsInNob3VsZENodW5rVXBsb2FkIiwid2lsbENodW5rVXBsb2FkIiwiY3JlYXRlUHJvY2Vzc29yRnVuY3Rpb24iLCJwYXJhbXMiLCJjcmVhdGVSZXZlcnRGdW5jdGlvbiIsInVuaXF1ZUZpbGVJZCIsImdldFJhbmRvbU51bWJlciIsImNyZWF0ZVBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlciIsInRpY2tNaW4iLCJ0aWNrTWF4IiwicnVudGltZSIsImNsZWFyIiwiY3JlYXRlRmlsZVByb2Nlc3NvciIsInByb2Nlc3NGbiIsInBlcmNlaXZlZFByb2dyZXNzIiwicGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyIiwicGVyY2VpdmVkRHVyYXRpb24iLCJwcm9ncmVzc0ZuIiwiY29tcGxldGVGbiIsInRyYW5zZmVySWQiLCJyZXNldCIsImdldER1cmF0aW9uIiwiZ2V0RmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uIiwibGFzdEluZGV4T2YiLCJjcmVhdGVGaWxlU3R1YiIsImRlZXBDbG9uZU9iamVjdCIsImNyZWF0ZUl0ZW0iLCJzZXJ2ZXJGaWxlUmVmZXJlbmNlIiwiZnJvemVuIiwicHJvY2Vzc2luZ0Fib3J0ZWQiLCJhY3RpdmVMb2FkZXIiLCJhY3RpdmVQcm9jZXNzb3IiLCJhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUiLCJzZXRTdGF0dXMiLCJnZXRGaWxlRXh0ZW5zaW9uIiwiZ2V0RmlsZVR5cGUiLCJnZXRGaWxlU2l6ZSIsImdldEZpbGUiLCJsb2FkZXIiLCJtZXRhIiwic3VjY2VzcyIsInJldHJ5TG9hZCIsImFib3J0TG9hZCIsInByb2Nlc3NvciIsIm9ucHJvY2VzcyIsInJlcXVlc3RQcm9jZXNzaW5nIiwiYWJvcnRQcm9jZXNzaW5nIiwicmV2ZXJ0RmlsZVVwbG9hZCIsIl9zZXRNZXRhZGF0YSIsInNpbGVudCIsImZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbiIsImZpbGVFeHRlbnNpb24iLCJmaWxlVHlwZSIsInJlbGF0aXZlUGF0aCIsImhhbmRsZXIiLCJpdGVtQVBJIiwiZnJlZXplIiwicmVsZWFzZSIsImFyY2hpdmUiLCJnZXRJdGVtSW5kZXhCeVF1ZXJ5IiwiZ2V0SXRlbUJ5SWQiLCJpdGVtSWQiLCJmZXRjaEJsb2IiLCJnZXREb21haW5Gcm9tVVJMIiwicHJvdG9jb2wiLCJpc0V4dGVybmFsVVJMIiwiZHluYW1pY0xhYmVsIiwiaXNNb2NrSXRlbSIsImxpc3RVcGRhdGVkIiwib3B0aW9uYWxQcm9taXNlIiwic29ydEl0ZW1zIiwiY29tcGFyZSIsImdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlIiwiaXRlbUhhbmRsZXIiLCJfcmVmJHN1Y2Nlc3MiLCJfcmVmJGZhaWx1cmUiLCJmYWlsdXJlIiwiQUJPUlRfQUxMIiwiRElEX1NFVF9GSUxFUyIsIl9yZWYyJHZhbHVlIiwiYWN0aXZlSXRlbXMiLCJpbnRlcmFjdGlvbk1ldGhvZCIsImRvVXBsb2FkIiwic2hvdWxkUHJlcGFyZU91dHB1dCIsIk1PVkVfSVRFTSIsImN1cnJlbnRJbmRleCIsIlNPUlQiLCJBRERfSVRFTVMiLCJfcmVmNiRzdWNjZXNzIiwiX3JlZjYkZmFpbHVyZSIsImluc2VydExvY2F0aW9uIiwidG90YWxJdGVtcyIsImlzVmFsaWRGaWxlIiwicHJvbWlzZXMiLCJBRERfSVRFTSIsIl9yZWY3JGluZGV4IiwiX3JlZjckc3VjY2VzcyIsIl9yZWY3JGZhaWx1cmUiLCJfcmVmNyRvcHRpb25zIiwiX2l0ZW0iLCJtYWluU3RhdHVzIiwiaGFuZGxlQWRkIiwic2hvdWxkQWRkIiwibG9hZENvbXBsZXRlIiwiUkVRVUVTVF9QUkVQQVJFX09VVFBVVCIsIl9yZWY5JGZhaWx1cmUiLCJDT01QTEVURV9MT0FEX0lURU0iLCJSRVRSWV9JVEVNX0xPQUQiLCJSRVFVRVNUX0lURU1fUFJFUEFSRSIsIl9zdWNjZXNzIiwiUkVRVUVTVF9JVEVNX1BST0NFU1NJTkciLCJwcm9jZXNzTm93IiwiUFJPQ0VTU19JVEVNIiwicHJvY2Vzc05leHQiLCJxdWV1ZUVudHJ5IiwiaXRlbVJlZmVyZW5jZSIsIlJFVFJZX0lURU1fUFJPQ0VTU0lORyIsIlJFUVVFU1RfUkVNT1ZFX0lURU0iLCJzaG91bGRSZW1vdmUiLCJSRUxFQVNFX0lURU0iLCJSRU1PVkVfSVRFTSIsInJlbW92ZUZyb21WaWV3IiwiQUJPUlRfSVRFTV9MT0FEIiwiQUJPUlRfSVRFTV9QUk9DRVNTSU5HIiwiUkVRVUVTVF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HIiwiaGFuZGxlUmV2ZXJ0Iiwic2hvdWxkUmV2ZXJ0IiwicmVxdWVzdFJlbW92ZVJlc3VsdCIsIlJFVkVSVF9JVEVNX1BST0NFU1NJTkciLCJTRVRfT1BUSU9OUyIsImZvcm1hdEZpbGVuYW1lIiwiY3JlYXRlRWxlbWVudCQxIiwidGFnTmFtZSIsInRleHROb2RlIiwibm9kZVZhbHVlIiwicG9sYXJUb0NhcnRlc2lhbiIsImNlbnRlclgiLCJjZW50ZXJZIiwicmFkaXVzIiwiYW5nbGVJbkRlZ3JlZXMiLCJhbmdsZUluUmFkaWFucyIsImRlc2NyaWJlQXJjIiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiYXJjU3dlZXAiLCJwZXJjZW50YWdlQXJjIiwidG8iLCJwcm9ncmVzc0luZGljYXRvciIsInNwaW4iLCJhbGlnbiIsInJpbmdTdHJva2VXaWR0aCIsInJpbmdGcm9tIiwicmluZ1RvIiwiZmlsZUFjdGlvbkJ1dHRvbiIsImljb24iLCJpc0Rpc2FibGVkIiwic2hvdWxkRGlzYWJsZSIsInJlbW92ZUF0dHJpYnV0ZSIsIk1CIiwiS0IiLCJHQiIsInJlbW92ZURlY2ltYWxzV2hlblplcm8iLCJkZWNpbWFsQ291bnQiLCJ0b0ZpeGVkIiwiY3JlYXRlJDIiLCJmaWxlTmFtZSIsInVwZGF0ZUZpbGUiLCJ1cGRhdGVGaWxlU2l6ZU9uRXJyb3IiLCJmaWxlSW5mbyIsIkRJRF9VUERBVEVfSVRFTV9NRVRBIiwidG9QZXJjZW50YWdlIiwiY3JlYXRlJDMiLCJkaWRTZXRJdGVtTG9hZFByb2dyZXNzIiwiZmlsZVN0YXR1cyIsIkRJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORyIsIkRJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkciLCJESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUyIsIkRJRF9VUERBVEVfSVRFTV9MT0FEX1BST0dSRVNTIiwiRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19SRVZFUlRfRVJST1IiLCJESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1IiLCJCdXR0b25zIiwiQWJvcnRJdGVtTG9hZCIsIlJldHJ5SXRlbUxvYWQiLCJSZW1vdmVJdGVtIiwiUHJvY2Vzc0l0ZW0iLCJBYm9ydEl0ZW1Qcm9jZXNzaW5nIiwiUmV0cnlJdGVtUHJvY2Vzc2luZyIsIlJldmVydEl0ZW1Qcm9jZXNzaW5nIiwiQnV0dG9uS2V5cyIsImNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IiwiYnV0dG9uUmVjdCIsImJ1dHRvblJlbW92ZUl0ZW0iLCJjYWxjdWxhdGVCdXR0b25XaWR0aCIsImJ1dHRvbkFib3J0SXRlbUxvYWQiLCJjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQiLCJjYWxjdWxhdGVGaWxlSG9yaXpvbnRhbENlbnRlck9mZnNldCIsImdldFJlbW92ZUluZGljYXRvckFsaWdtZW50IiwiRGVmYXVsdFN0eWxlIiwiYnV0dG9uUmV0cnlJdGVtTG9hZCIsImJ1dHRvblByb2Nlc3NJdGVtIiwiYnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZyIsImJ1dHRvblJldHJ5SXRlbVByb2Nlc3NpbmciLCJidXR0b25SZXZlcnRJdGVtUHJvY2Vzc2luZyIsImxvYWRQcm9ncmVzc0luZGljYXRvciIsInByb2Nlc3NQcm9ncmVzc0luZGljYXRvciIsInByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvciIsIklkbGVTdHlsZSIsIlByb2Nlc3NpbmdTdHlsZSIsIlN0eWxlTWFwIiwiRElEX1NUQVJUX0lURU1fTE9BRCIsIkRJRF9TVEFSVF9JVEVNX1JFTU9WRSIsIkRJRF9MT0FEX0xPQ0FMX0lURU0iLCJwcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3JWaWV3IiwiY3JlYXRlJDQiLCJidXR0b25GaWx0ZXIiLCJpc0FzeW5jIiwiYWxpZ25SZW1vdmVJdGVtQnV0dG9uIiwiZW5hYmxlZEJ1dHRvbnMiLCJfbWFwIiwiYnV0dG9uVmlldyIsImxvYWRJbmRpY2F0b3JWaWV3IiwicHJvZ3Jlc3NJbmRpY2F0b3JWaWV3IiwiYWN0aXZlU3R5bGVzIiwid3JpdGUkMiIsInJvdXRlIiwic3R5bGVzVG9BcHBseSIsImRlZmF1bHRTdHlsZXMiLCJjb250cm9sIiwiRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9QUk9DRVNTSU5HIiwiRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9MT0FEIiwiRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9SRU1PVkFMIiwiYnV0dG9uQWJvcnRJdGVtUmVtb3ZhbCIsImZpbGVXcmFwcGVyIiwiUEFORUxfU1BSSU5HX1BST1BTIiwiY3JlYXRlJDYiLCJzZWN0aW9uIiwiY3JlYXRlU2VjdGlvbiIsInNjYWxhYmxlIiwidmlld0NvbnN0cnVjdG9yIiwicGFuZWwiLCJ0b3BSZWN0IiwiYm90dG9tUmVjdCIsImNyZWF0ZURyYWdIZWxwZXIiLCJpdGVtSWRzIiwicHJldkluZGV4Iiwic2V0SW5kZXgiLCJnZXRJbmRleCIsImdldEl0ZW1JbmRleCIsIklURU1fVFJBTlNMQVRFX1NQUklORyIsIklURU1fU0NBTEVfU1BSSU5HIiwiU3RhdGVNYXAiLCJjcmVhdGUkNyIsImhhbmRsZUNsaWNrIiwibWFya2VkRm9yUmVtb3ZhbCIsImRyYWdTdGF0ZSIsImdyYWIiLCJpc1ByaW1hcnkiLCJyZW1vdmVkQWN0aXZhdGVMaXN0ZW5lciIsInBhZ2VYIiwicGFnZVkiLCJkcmFnT3JpZ2luIiwiZHJhZ0NlbnRlciIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZHJhZyIsImRyYWdPZmZzZXQiLCJkcm9wIiwicm91dGUkMSIsIkRJRF9VUERBVEVfUEFORUxfSEVJR0hUIiwid3JpdGUkNCIsIkRJRF9HUkFCX0lURU0iLCJESURfRFJBR19JVEVNIiwiRElEX0RST1BfSVRFTSIsImN1cnJlbnRTdGF0ZSIsImZpbGVwb25kSXRlbVN0YXRlIiwiZ2V0SXRlbUluZGV4QnlQb3NpdGlvbiIsInBvc2l0aW9uSW5WaWV3IiwiaG9yaXpvbnRhbFNwYWNlIiwiaXRlbVJlY3QiLCJpdGVtSG9yaXpvbnRhbE1hcmdpbiIsIml0ZW1zUGVyUm93IiwiY2hpbGRNaWQiLCJpdGVtVmVydGljYWxNYXJnaW4iLCJpdGVtSGVpZ2h0IiwiX2luZGV4IiwiaXRlbVRvcCIsIml0ZW1SaWdodCIsIml0ZW1Cb3R0b20iLCJkcm9wQXJlYURpbWVuc2lvbnMiLCJzZXREaW1lbnNpb25zIiwiY3JlYXRlJDgiLCJsYXN0SXRlbVNwYW53RGF0ZSIsIm1vdmVJdGVtIiwidngiLCJ2eSIsInNwYXduRGF0ZSIsImludHJvSXRlbVZpZXciLCJnZXRJdGVtSGVpZ2h0IiwiZ2V0SXRlbVdpZHRoIiwicm91dGUkMiIsIkRJRF9BRERfSVRFTSIsImFkZEluZGV4IiwiY29vbGRvd24iLCJkaXN0IiwiRElEX1JFTU9WRV9JVEVNIiwibnVtSXRlbXMiLCJvbGRJbmRleCIsImRyYWdQb3NpdGlvbiIsImRyYWdIZWlnaHQiLCJkcmFnV2lkdGgiLCJjb2xzIiwic2V0SGVpZ2h0Iiwic2V0V2lkdGgiLCJnZXRHcmlkSW5kZXgiLCJnZXRIZWlnaHQiLCJnZXRXaWR0aCIsImdldENvbEluZGV4IiwidmlzaWJsZUNoaWxkcmVuIiwiaWR4IiwiY2hpbGRCb3R0b20iLCJjaGlsZFRvcCIsImxpc3QiLCJkcmFnQ29vcmRpbmF0ZXMiLCJkcmFnSW5kZXgiLCJkcmFnSW5kZXhPZmZzZXQiLCJyZW1vdmVJbmRleE9mZnNldCIsImFkZEluZGV4T2Zmc2V0IiwiY2hpbGRSZWN0IiwidmlzdWFsSGVpZ2h0IiwicHJldlgiLCJwcmV2WSIsInZpc3VhbEluZGV4IiwiaW5kZXhYIiwiaW5kZXhZIiwidmVjdG9yWCIsInNpZ24iLCJ2ZWN0b3JZIiwiY3JlYXRlJDkiLCJvdmVyZmxvd2luZyIsInJvdXRlJDMiLCJESURfRFJBRyIsInNjb3BlTGVmdCIsInNjb3BlVG9wIiwiRElEX0VORF9EUkFHIiwibGlzdFNjcm9sbGVyIiwib3ZlcmZsb3ciLCJuZXdIZWlnaHQiLCJhdHRyVG9nZ2xlIiwicmVzZXRGaWxlSW5wdXQiLCJjcmVhdGUkYSIsInNldEFjY2VwdGVkRmlsZVR5cGVzIiwidG9nZ2xlQWxsb3dNdWx0aXBsZSIsInRvZ2dsZURpcmVjdG9yeUZpbHRlciIsInRvZ2dsZURpc2FibGVkIiwidG9nZ2xlUmVxdWlyZWQiLCJzZXRDYXB0dXJlTWV0aG9kIiwid2Via2l0UmVsYXRpdmVQYXRoIiwiZG9lc0FsbG93QnJvd3NlIiwiZGlzYWJsZUZpZWxkIiwidXBkYXRlUmVxdWlyZWRTdGF0dXMiLCJzZXRDdXN0b21WYWxpZGl0eSIsIkRJRF9TRVRfRElTQUJMRUQiLCJESURfU0VUX0FMTE9XX0JST1dTRSIsIkRJRF9TRVRfQUxMT1dfRElSRUNUT1JJRVNfT05MWSIsIkRJRF9TRVRfQUxMT1dfTVVMVElQTEUiLCJESURfU0VUX0FDQ0VQVEVEX0ZJTEVfVFlQRVMiLCJESURfU0VUX0NBUFRVUkVfTUVUSE9EIiwiRElEX1NFVF9SRVFVSVJFRCIsIktleSIsIkVOVEVSIiwiU1BBQ0UiLCJjcmVhdGUkYiIsImhhbmRsZUtleURvd24iLCJrZXlDb2RlIiwiY2xpY2siLCJjb250YWlucyIsInVwZGF0ZUxhYmVsVmFsdWUiLCJjYXB0aW9uIiwiY2xpY2thYmxlIiwiZHJvcExhYmVsIiwiRElEX1NFVF9MQUJFTF9JRExFIiwiYWRkQmxvYiIsIndyaXRlJDciLCJyb3V0ZSQ0IiwiRElEX0RST1AiLCJkcmlwIiwiY3JlYXRlJGMiLCJnZXRGaWVsZCIsInN5bmNGaWVsZFBvc2l0aW9uc1dpdGhJdGVtcyIsImRpZFJlb3JkZXJJdGVtcyIsIndyaXRlJDgiLCJkYXRhQ29udGFpbmVyIiwiRElEX0RFRklORV9WQUxVRSIsIkRJRF9SRU9SREVSX0lURU1TIiwiRElEX1NPUlRfSVRFTVMiLCJnZXRSb290Tm9kZSIsInRleHQkMSIsInppcCIsImVwdWIiLCJyZXF1ZXN0RGF0YVRyYW5zZmVySXRlbXMiLCJkYXRhVHJhbnNmZXIiLCJsaW5rcyIsImdldExpbmtzIiwiaGFzRmlsZXMiLCJwcm9taXNlZEZpbGVzIiwiaXNGaWxlU3lzdGVtSXRlbSIsImdldEZpbGVzRnJvbUl0ZW0iLCJyZXR1cm5lZEZpbGVHcm91cHMiLCJncm91cCIsImlzRW50cnkiLCJnZXRBc0VudHJ5IiwiaXNEaXJlY3RvcnkiLCJraW5kIiwiaXNEaXJlY3RvcnlFbnRyeSIsImdldEZpbGVzSW5EaXJlY3RvcnkiLCJnZXRBc0ZpbGUiLCJkaXJDb3VudGVyIiwiZmlsZUNvdW50ZXIiLCJyZXNvbHZlSWZEb25lIiwicmVhZEVudHJpZXMiLCJkaXJFbnRyeSIsImRpcmVjdG9yeVJlYWRlciIsImNyZWF0ZVJlYWRlciIsInJlYWRCYXRjaCIsImNvcnJlY3RlZEZpbGUiLCJjb3JyZWN0TWlzc2luZ0ZpbGVUeXBlIiwiZnVsbFBhdGgiLCJ3ZWJraXRHZXRBc0VudHJ5IiwiZ2V0TGlua3NGcm9tVHJhbnNmZXJNZXRhRGF0YSIsImdldExpbmtzRnJvbVRyYW5zZmVyVVJMRGF0YSIsImdldERhdGEiLCJkcmFnTkRyb3BPYnNlcnZlcnMiLCJldmVudFBvc2l0aW9uIiwicGFnZUxlZnQiLCJwYWdlVG9wIiwibGF5ZXJYIiwibGF5ZXJZIiwiY3JlYXRlRHJhZ05Ecm9wQ2xpZW50Iiwic2NvcGVUb09ic2VydmUiLCJmaWx0ZXJFbGVtZW50IiwiZ2V0RHJhZ05Ecm9wT2JzZXJ2ZXIiLCJjbGllbnQiLCJvbmRyb3AiLCJvbmVudGVyIiwib25kcmFnIiwib25leGl0IiwiYWxsb3dkcm9wIiwibmV3T2JzZXJ2ZXIiLCJjcmVhdGVEcmFnTkRyb3BPYnNlcnZlciIsImNsaWVudHMiLCJkcmFnZW50ZXIiLCJkcmFnb3ZlciIsImRyYWdsZWF2ZSIsImhhbmRsZXJzIiwiY3JlYXRlSGFuZGxlciIsImVsZW1lbnRGcm9tUG9pbnQiLCJpc0V2ZW50VGFyZ2V0IiwiZWxlbWVudEF0UG9zaXRpb24iLCJwYWdlWE9mZnNldCIsInBhZ2VZT2Zmc2V0IiwiaW5pdGlhbFRhcmdldCIsInNldERyb3BFZmZlY3QiLCJlZmZlY3QiLCJkcm9wRWZmZWN0Iiwib3ZlckRyb3BUYXJnZXQiLCJhbGxvd3NUcmFuc2ZlciIsImNyZWF0ZUhvcHBlciIsInNjb3BlIiwidmFsaWRhdGVJdGVtcyIsImNhdGNoZXNEcm9wc09uUGFnZSIsInJlcXVpcmVzRHJvcE9uRWxlbWVudCIsIl9vcHRpb25zJGZpbHRlckl0ZW1zIiwiZmlsdGVySXRlbXMiLCJkb2N1bWVudEVsZW1lbnQiLCJsYXN0U3RhdGUiLCJmaWx0ZXJlZEl0ZW1zIiwib25kcmFnZW5kIiwib25kcmFnc3RhcnQiLCJ1cGRhdGVIb3BwZXJTdGF0ZSIsImhvcHBlclN0YXRlIiwibGlzdGVuaW5nIiwibGlzdGVuZXJzJDEiLCJoYW5kbGVQYXN0ZSIsImFjdGl2ZUVsIiwiYWN0aXZlRWxlbWVudCIsIm5vZGVOYW1lIiwiaW5TY29wZSIsImNsaXBib2FyZERhdGEiLCJsaXN0ZW4iLCJ1bmxpc3RlbiIsImNyZWF0ZVBhc3RlciIsImFkZEZpbGVzTm90aWZpY2F0aW9uVGltZW91dCIsIm5vdGlmaWNhdGlvbkNsZWFyVGltZW91dCIsImZpbGVuYW1lcyIsImFzc2lzdCIsImNsZWFyJDEiLCJsaXN0TW9kaWZpZWQiLCJpc1VzaW5nRmlsZVBvbmQiLCJpdGVtUHJvY2Vzc2VkVW5kbyIsIml0ZW1FcnJvciIsImFzc2lzdGFudCIsInRvQ2FtZWxzIiwiY2hhckF0IiwiZGVib3VuY2UiLCJmdW5jIiwiaW1taWRpYXRlT25seSIsIk1BWF9GSUxFU19MSU1JVCIsInByZXZlbnQiLCJjcmVhdGUkZSIsIm1lYXN1cmUiLCJib3VuZHMiLCJ3aWR0aFByZXZpb3VzIiwid2lkdGhVcGRhdGVkIiwidXBkYXRlSGlzdG9yeSIsInByZXZpb3VzQXNwZWN0UmF0aW8iLCJjYW5Ib3ZlciIsIm1hdGNoTWVkaWEiLCJoYXNQb2ludGVyRXZlbnRzIiwicGFzc2l2ZSIsIndyaXRlJDkiLCJyb3V0ZSQ1IiwiY2FsY3VsYXRlUm9vdEJvdW5kaW5nQm94SGVpZ2h0IiwiaG9wcGVyIiwiaXNNdWx0aUl0ZW0iLCJhdE1heENhcGFjaXR5IiwiYWRkQWN0aW9uIiwibGlzdEl0ZW1NYXJnaW4iLCJjYWxjdWxhdGVMaXN0SXRlbU1hcmdpbiIsImxpc3RIZWlnaHQiLCJjYWxjdWxhdGVMaXN0SGVpZ2h0IiwibGFiZWxIZWlnaHQiLCJjdXJyZW50TGFiZWxIZWlnaHQiLCJsaXN0TWFyZ2luVG9wIiwibGlzdE1hcmdpbkJvdHRvbSIsInZpc3VhbCIsImJvdW5kc0hlaWdodCIsImhpc3RvcnkiLCJNQVhfQk9VTkNFUyIsImJvdW5jZXMiLCJsaXN0QXZhaWxhYmxlSGVpZ2h0IiwiX2xpc3RBdmFpbGFibGVIZWlnaHQiLCJjYXBwZWRIZWlnaHQiLCJpc0NhcHBlZEhlaWdodCIsInBhbmVsSGVpZ2h0IiwiX2xpc3RBdmFpbGFibGVIZWlnaHQyIiwiaXRlbU1hcmdpbiIsInNjcm9sbExpc3QiLCJpdGVtTGlzdCIsIm5ld0l0ZW0iLCJyZW1vdmVkSXRlbSIsInZlcnRpY2FsSXRlbUNvdW50IiwibWVhc3VyZUhlaWdodCIsIm1heEhlaWdodCIsImV4Y2VlZHNNYXhGaWxlcyIsIm1heEl0ZW1zIiwidG90YWxCcm93c2VJdGVtcyIsImdldERyYWdJbmRleCIsInRvZ2dsZURyb3AiLCJpc0FsbG93ZWQiLCJlbmFibGVkIiwidG9nZ2xlQnJvd3NlIiwidG9nZ2xlUGFzdGUiLCJwYXN0ZXIiLCJESURfU0VUX0FMTE9XX0RST1AiLCJESURfU0VUX0FMTE9XX1BBU1RFIiwiY3JlYXRlQXBwIiwiaW5pdGlhbE9wdGlvbnMiLCJvcmlnaW5hbEVsZW1lbnQiLCJ2aXNpYmlsaXR5SGFuZGxlciIsInJlc2l6ZURvbmVUaW1lciIsImlzUmVzaXppbmciLCJpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5IiwiaW5pdGlhbFdpbmRvd1dpZHRoIiwiY3VycmVudFdpbmRvd1dpZHRoIiwicmVzaXplSGFuZGxlciIsImlzSGlkZGVuIiwicmVhZFdyaXRlQXBpIiwiaW5uZXJXaWR0aCIsInJvdXRlQWN0aW9uc1RvRXZlbnRzIiwiY3JlYXRlRXZlbnQiLCJldmVudFJvdXRlcyIsIkRJRF9ERVNUUk9ZIiwiRElEX0lOSVQiLCJESURfVEhST1dfTUFYX0ZJTEVTIiwiRElEX0lOSVRfSVRFTSIsIkRJRF9QUkVQQVJFX09VVFBVVCIsIkRJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkdfQUxMIiwiRElEX1VQREFURV9JVEVNUyIsIkRJRF9BQ1RJVkFURV9JVEVNIiwiZXhwb3NlRXZlbnQiLCJwb25kIiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJjb21wb3NlZCIsImZpbHRlcmVkIiwicHJlcGFyZUZpbGUiLCJhZGRGaWxlcyIsImlzRmlsZVBvbmRGaWxlIiwic291cmNlcyIsImxhc3RBcmd1bWVudCIsInByb2Nlc3NGaWxlIiwicHJlcGFyZUZpbGVzIiwicHJvY2Vzc0ZpbGVzIiwiX2xlbjMiLCJfa2V5MyIsInJlbW92ZUZpbGVzIiwiX2xlbjQiLCJfa2V5NCIsInEiLCJtb3ZlRmlsZSIsImJyb3dzZSIsImFwcGVuZFRvIiwicmVwbGFjZUVsZW1lbnQiLCJyZXN0b3JlRWxlbWVudCIsImlzQXR0YWNoZWRUbyIsImNyZWF0ZUFwcE9iamVjdCIsImN1c3RvbU9wdGlvbnMiLCJsb3dlckNhc2VGaXJzdExldHRlciIsImF0dHJpYnV0ZU5hbWVUb1Byb3BlcnR5TmFtZSIsImF0dHJpYnV0ZU5hbWUiLCJtYXBPYmplY3QiLCJwcm9wZXJ0eU1hcCIsInNlbGVjdG9yIiwibWFwcGluZyIsInNlbGVjdG9yUmVnRXhwIiwiZ2V0QXR0cmlidXRlc0FzT2JqZWN0IiwiYXR0cmlidXRlTWFwcGluZyIsImNyZWF0ZUFwcEF0RWxlbWVudCIsIm1lcmdlZE9wdGlvbnMiLCJhdHRyaWJ1dGVPcHRpb25zIiwicXVlcnlTZWxlY3RvckFsbCIsImFwcCIsImNyZWF0ZUFwcCQxIiwiUFJJVkFURV9NRVRIT0RTIiwiY3JlYXRlQXBwQVBJIiwicmVwbGFjZW1lbnRzIiwid29ya2VyQmxvYiIsIndvcmtlclVSTCIsIldvcmtlciIsInRyYW5zZmVyTGlzdCIsInJlbmFtZUZpbGUiLCJyZW5hbWVkRmlsZSIsImNvcHlGaWxlIiwicmVnaXN0ZXJlZFBsdWdpbnMiLCJjcmVhdGVBcHBQbHVnaW4iLCJwbHVnaW5PdXRsaW5lIiwidmlld3MiLCJpc09wZXJhTWluaSIsIm9wZXJhbWluaSIsImhhc1Byb21pc2VzIiwiaGFzQmxvYlNsaWNlIiwiaGFzQ3JlYXRlT2JqZWN0VVJMIiwiaGFzVmlzaWJpbGl0eSIsImhhc1RpbWluZyIsImhhc0NTU1N1cHBvcnRzIiwiQ1NTIiwiaXNJRTExIiwiYXBwcyIsIk9wdGlvblR5cGVzIiwidXBkYXRlT3B0aW9uVHlwZXMiLCJob29rIiwiaW5kZXhUb1JlbW92ZSIsImNvbnRleHQiLCJuZXdIb29rIiwicGx1Z2lucyJdLCJtYXBwaW5ncyI6IjtzQ0FDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUEwRGYsT0FyREFGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUs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LE1BQUssU0FBU213QixHQUMvQixPQUFPQSxFQUFJakIsYUFBYWlELFNBS1pqNkUsS0FBSSxTQUFTODVFLEdBQzNCLE9BQU83aEYsRUFBUXdCLE9BQU9xZ0YsT0FLMUI3aEYsRUFBUTZ2RCxLQUFPLFNBQWNneUIsR0FDM0IsSUFBSTdCLEVBQU1yMUUsR0FBTSsyRSxLQUFLN3hCLE1BQUssU0FBU213QixHQUNqQyxPQUFPQSxFQUFJakIsYUFBYThDLE1BRTFCLE9BQUs3QixFQUdFRyxHQUFhSCxHQUZYLE1BTVhoZ0YsRUFBUTBMLGVBQWlCLFdBQ3ZCLElBQ0UsSUFBSTZ1QyxFQUFPL3hDLFVBQVVnQixPQUFReTRFLEVBQVUsSUFBSTcxRSxNQUFNbXVDLEdBQU9DLEVBQU8sRUFDL0RBLEVBQU9ELEVBQ1BDLElBRUF5bkMsRUFBUXpuQyxHQUFRaHlDLFVBQVVneUMsR0FJNUJ5bkMsRUFBUXYvRSxRQUFRbStFLElBR2hCZSxNQUdGNWhGLEVBQVFxc0QsV0FBYSxXQUNuQixJQUFJQyxFQUFPLEdBSVgsT0FIQXpSLEVBQU13UixNQUFjLFNBQVM1cUQsRUFBS04sR0FDaENtckQsRUFBSzdxRCxHQUFPTixFQUFNLE1BRWJtckQsR0FHVHRzRCxFQUFReXRCLFdBQWEsU0FBc0I2K0IsR0FZekMsT0FYSWh2QyxHQUFTZ3ZDLEtBRVgzaEQsR0FBTSsyRSxLQUFLaC9FLFNBQVEsU0FBU3M5RSxHQUMxQkEsRUFBSXZ5RCxXQUFXNitCLE1BSWpCNytCLEdBQVc2K0IsSUFJTnRzRCxFQUFRcXNELGNBSW5CcnNELEVBQVFvc0IsVUFBWUEsR0FFcEJ4ckIsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLElBenFabERtaEIsQ0FBUXRpQixLIiwiZmlsZSI6InBvbGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTAwKTtcbiIsIihmdW5jdGlvbigpIHsgbW9kdWxlLmV4cG9ydHMgPSB3aW5kb3dbXCJSZWFjdFwiXTsgfSgpKTsiLCJpbXBvcnQgbWVyZ2UgZnJvbSAnbWVyZ2UnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAnY29yZS1qcy9lcy9hcnJheS9pbmNsdWRlcyc7XG5cbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlblN0YWRDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzLCBkZWZhdWx0Q29uZmlnID0ge30sIGRlZmF1bHRkZWZhdWx0Q29uZmlnID0ge30pIHtcblxuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIGlmIChwcm9wcy5hdHRyaWJ1dGVzKSB7XG4gICAgICBPYmplY3Qua2V5cyhwcm9wcy5hdHRyaWJ1dGVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgbGV0IGF0dHJpYnV0ZSA9IHByb3BzLmF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgc2VsZlthdHRyaWJ1dGUubmFtZV0gPSBhdHRyaWJ1dGUudmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG5cblx0XHQvLyBjb25maWdcbiAgICBpZiAodHlwZW9mIHNlbGYuY29uZmlnID09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzZWxmLmNvbmZpZyA9IEpTT04ucGFyc2Uoc2VsZi5jb25maWcpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgIH1cbiAgICBsZXQgcHJvcHNDb25maWcgPSBwcm9wcy5jb25maWcgfHwge307XG4gICAgcHJvcHNDb25maWcgPSByZW1vdmVVbmRlZkFuZE51bGwocHJvcHNDb25maWcpOyAvLyByZW1vdmUgdW5kZWZpbmVkIGFuZCBudWxsXG5cdFx0c2VsZi5jb25maWcgPSBtZXJnZS5yZWN1cnNpdmUoe1xuICAgICAgc2l0ZUlkOiBudWxsLFxuXHRcdFx0YXBpOiB7XG4gICAgICAgIHVybDogbnVsbCxcbiAgICAgICAgaGVhZGVyczogbnVsbCxcbiAgICAgICAgaXNVc2VyTG9nZ2VkSW46IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIHVzZXI6IHt9LFxuICAgIH0sIGRlZmF1bHRDb25maWcsIGRlZmF1bHRkZWZhdWx0Q29uZmlnLCBwcm9wc0NvbmZpZylcblxuICAgIHNlbGYuZGl2SWQgPSBzZWxmLmRpdklkIHx8ICggc2VsZi5jb25maWcgJiYgc2VsZi5jb25maWcuZGl2SWQgKSB8fCBwcm9wcy5pZCB8fCBgb3BlbnN0YWQtY29tcG9uZW50LSR7ICBwYXJzZUludCggMTAwMDAwMDAwICogTWF0aC5yYW5kb20oKSApfWA7XG4gICAgXG4gICAgd2luZG93W3NlbGYuZGl2SWRdID0gc2VsZjtcblxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAvLyBsZXQgZXZlbnQgPSBuZXcgRXZlbnQoJ2lzUmVhZHknKTtcbiAgICAvLyBzZWxmLmlzUmVhZHkgPSB0cnVlO1xuICAgIC8vIHNlbGYuaW5zdGFuY2UuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH1cblxufVxuXG5mdW5jdGlvbiByZW1vdmVVbmRlZkFuZE51bGwob2JqKSB7XG4gIGlmICh0eXBlb2Ygb2JqICE9ICdvYmplY3QnKSByZXR1cm4gb2JqO1xuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmICh0eXBlb2Ygb2JqW2tleV0gPT0gJ3VuZGVmaW5lZCcgfHwgb2JqW2tleV0gPT0gbnVsbCkgZGVsZXRlIG9ialtrZXldO1xuICAgIGlmICh0eXBlb2Ygb2JqW2tleV0gPT0gJ29iamVjdCcpIG9ialtrZXldID0gcmVtb3ZlVW5kZWZBbmROdWxsKG9ialtrZXldKTtcbiAgfSk7XG4gIHJldHVybiAgb2JqO1xufVxuIiwibGV0IG9zY1Nlc3Npb25TdG9yYWdlID0ge307XG5cbm9zY1Nlc3Npb25TdG9yYWdlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcblxuXHR2YXIgdmFsdWUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKG5hbWUpO1xuXG5cdHRyeSB7XG5cdFx0dmFsdWUgPSBKU09OLnBhcnNlKHZhbHVlKTtcblx0fSBjYXRjaChlcnIpIHt9XG5cblx0cmV0dXJuIHZhbHVlO1xuXG59XG5cbm9zY1Nlc3Npb25TdG9yYWdlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG5cblx0aWYgKCB0eXBlb2YgbmFtZSAhPSAnc3RyaW5nJyApIHJldHVybjtcblxuXHRpZiAoIHR5cGVvZiB2YWx1ZSA9PSAndW5kZWZpbmVkJyApIHZhbHVlID0gXCJcIjtcblx0aWYgKCB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuXHRcdH0gY2F0Y2goZXJyKSB7fVxuXHR9O1xuXG5cdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oIG5hbWUsIHZhbHVlICk7XG5cbn1cblxuXG5vc2NTZXNzaW9uU3RvcmFnZS5yZW1vdmUgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0obmFtZSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgb3NjU2Vzc2lvblN0b3JhZ2U7XG4iLCJpbXBvcnQgc2Vzc2lvblN0b3JhZ2UgZnJvbSAnLi4vc2Vzc2lvbi1zdG9yYWdlLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb25maWcpIHtcblxuICBsZXQgand0O1xuXG4gIC8vIGp3dCBpbiB1cmxcbiAgbGV0IG1hdGNoID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5tYXRjaCgvKD86XFw/fCYpand0PShbQS1aYS16MC05LV89XStcXC5bQS1aYS16MC05LV89XStcXC4/W0EtWmEtejAtOS1fLisvPV0qKSg/OiZ8JCkvKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgand0ID0gbWF0Y2hbMV07XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0KCdvc2Mtand0Jywgand0KTtcbiAgICBsZXQgc2VhcmNoID0gZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoLnJlcGxhY2UoJ2p3dD0nICsgand0LCAnJyk7XG4gICAgaWYgKHNlYXJjaCA9PSAnPycpIHNlYXJjaCA9ICcnO1xuICAgIGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCA9IHNlYXJjaDtcbiAgfVxuXG4gIGp3dCA9IHNlc3Npb25TdG9yYWdlLmdldCgnb3NjLWp3dCcpO1xuXG4gIGlmIChjb25maWcgJiYgY29uZmlnLmp3dCkge1xuICAgIGp3dCA9IGNvbmZpZy5qd3Q7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0KCdvc2Mtand0Jywgand0KVxuICB9XG5cbiAgcmV0dXJuIGp3dDtcbiAgXG59XG4iLCJpbXBvcnQgc2Vzc2lvblN0b3JhZ2UgZnJvbSAnLi4vc2Vzc2lvbi1zdG9yYWdlLmpzJztcbmltcG9ydCBnZXRKV1QgZnJvbSAnLi9nZXQtand0LmpzJztcblxubGV0IHJvbGVzID0ge1xuICBhZG1pbjogWydhZG1pbicsICdtb2RlcmF0b3InLCAnZWRpdG9yJywgJ21lbWJlcicsICdhbm9ueW1vdXMnLCAnYWxsJ10sXG4gIG1vZGVyYXRvcjogWydtb2RlcmF0b3InLCAnZWRpdG9yJywgJ21lbWJlcicsICdhbm9ueW1vdXMnLCAnYWxsJ10sXG4gIGVkaXRvcjogWydlZGl0b3InLCAnbWVtYmVyJywgJ2Fub255bW91cycsICdhbGwnXSxcbiAgbWVtYmVyOiBbJ21lbWJlcicsICdhbm9ueW1vdXMnLCAnYWxsJ10sXG4gIGFub255bW91czogWydhbm9ueW1vdXMnLCAnYWxsJ10sXG4gIGFsbDogWydhbGwnXSwgICAvLyBzcGVjaWFsXG4gIG93bmVyOiBudWxsLCAvLyBzcGVjaWFsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHVzZXIsIHJlcXVpcmVkUm9sZSkge1xuICBsZXQgdXNlclJvbGUgPSB1c2VyLnJvbGU7XG4gIGlmICghT2JqZWN0LmtleXMocm9sZXMpLmluY2x1ZGVzKHVzZXJSb2xlKSkgdXNlclJvbGUgPSAnYWxsJztcbiAgcmV0dXJuIHJvbGVzW3VzZXJSb2xlXS5pbmNsdWRlcyhyZXF1aXJlZFJvbGUpO1xufVxuIiwibGV0IG9zY0xvY2FsU3RvcmFnZSA9IHt9O1xuXG5vc2NMb2NhbFN0b3JhZ2UuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuXG5cdHZhciB2YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpO1xuXG5cdHRyeSB7XG5cdFx0dmFsdWUgPSBKU09OLnBhcnNlKHZhbHVlKTtcblx0fSBjYXRjaChlcnIpIHt9XG5cblx0cmV0dXJuIHZhbHVlO1xuXG59XG5cbm9zY0xvY2FsU3RvcmFnZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuXG5cdGlmICggdHlwZW9mIG5hbWUgIT0gJ3N0cmluZycgKSByZXR1cm47XG5cblx0aWYgKCB0eXBlb2YgdmFsdWUgPT0gJ3VuZGVmaW5lZCcgKSB2YWx1ZSA9IFwiXCI7XG5cdGlmICggdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICkge1xuXHRcdHRyeSB7XG5cdFx0XHR2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0XHR9IGNhdGNoKGVycikge31cblx0fTtcblxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSggbmFtZSwgdmFsdWUgKTtcblxufVxuXG5cbm9zY0xvY2FsU3RvcmFnZS5yZW1vdmUgPSBmdW5jdGlvbihuYW1lKSB7XG4gIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKG5hbWUpXG59XG5cbmV4cG9ydCBkZWZhdWx0IG9zY0xvY2FsU3RvcmFnZTtcbiIsIi8vIHBvbHlmaWxsc1xuLy9pbXBvcnQgJ2NvcmUtanMvZXMvbWFwJztcbi8vaW1wb3J0ICdjb3JlLWpzL2VzL3NldCc7XG5pbXBvcnQgJ3doYXR3Zy1mZXRjaCc7XG5cbi8vIHJlYWN0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbi8vIGltcG9ydCBjc3MgdG8gbWFrZSBzdXJlIGl0IGlzIGdlbmVyYXRlZCBpbiB0aGUgcmVzdWx0XG5pbXBvcnQgJy4vY3NzL2RlZmF1bHQubGVzcyc7XG5cbi8vIHRoZSBtb2R1bGVcbmltcG9ydCBhcGkgZnJvbSAnLi9saWIvYXBpL2luZGV4LmpzJztcbmltcG9ydCB1c2VyIGZyb20gJy4vbGliL3VzZXIvaW5kZXguanMnO1xuaW1wb3J0IGlkZWFzU29ydCBmcm9tICcuL2xpYi9pZGVhcy1zb3J0LmpzJztcbmltcG9ydCBsb2NhbFN0b3JhZ2UgZnJvbSAnLi9saWIvbG9jYWwtc3RvcmFnZS5qcyc7XG5pbXBvcnQgc2Vzc2lvblN0b3JhZ2UgZnJvbSAnLi9saWIvc2Vzc2lvbi1zdG9yYWdlLmpzJztcbmltcG9ydCByZWFjdFRlbXBsYXRlIGZyb20gJy4vbGliL3JlYWN0LXRlbXBsYXRlLmpzJztcblxubGV0IE9wZW5TdGFkQ29tcG9uZW50TGlicyA9IHtcbiAgYXBpLFxuICB1c2VyLFxuICBpZGVhc1NvcnQsXG4gIGxvY2FsU3RvcmFnZSxcbiAgc2Vzc2lvblN0b3JhZ2UsXG4gIHJlYWN0VGVtcGxhdGUsXG59XG5leHBvcnQgZGVmYXVsdCBPcGVuU3RhZENvbXBvbmVudExpYnM7XG5cbiIsImltcG9ydCBnZXRIZWFkZXJzIGZyb20gJy4vZ2V0LWhlYWRlcnMuanMnXG5cbmxldCBPcGVuU3RhZENvbXBvbmVudEFQSSA9IHtcbiAgZ2V0SGVhZGVycyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgT3BlblN0YWRDb21wb25lbnRBUEk7XG5cbiIsImltcG9ydCBtZXJnZSBmcm9tICdtZXJnZSc7XG5pbXBvcnQgZ2V0SldUIGZyb20gJy4uL3VzZXIvZ2V0LWp3dC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbmZpZykge1xuXG4gIGxldCBoZWFkZXJzID0gbWVyZ2UucmVjdXJzaXZlKHsgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LCBjb25maWcgJiYgY29uZmlnLmFwaSAmJiBjb25maWcuYXBpLmhlYWRlcnMpO1xuXG4gIGxldCBqd3QgPSBnZXRKV1QoKTtcbiAgaWYgKGp3dCkge1xuICAgIGhlYWRlcnMgPSBtZXJnZS5yZWN1cnNpdmUoeyBcIlgtQXV0aG9yaXphdGlvblwiOiBcIkJlYXJlciBcIiArIGp3dCB9LCBoZWFkZXJzKTtcbiAgfVxuXG4gIHJldHVybiBoZWFkZXJzO1xuICBcbn1cbiIsImltcG9ydCBnZXRVc2VyIGZyb20gJy4vZ2V0LXVzZXIuanMnXG5pbXBvcnQgZ2V0SldUIGZyb20gJy4vZ2V0LWp3dC5qcydcbmltcG9ydCBsb2dvdXQgZnJvbSAnLi9sb2dvdXQuanMnXG5pbXBvcnQgaGFzUm9sZSBmcm9tICcuL2hhcy1yb2xlLmpzJ1xuXG5sZXQgT3BlblN0YWRDb21wb25lbnRVc2VyID0ge1xuICBnZXRVc2VyLFxuICBnZXRKV1QsXG4gIGxvZ291dCxcbiAgaGFzUm9sZSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgT3BlblN0YWRDb21wb25lbnRVc2VyO1xuXG4iLCJpbXBvcnQgc2Vzc2lvblN0b3JhZ2UgZnJvbSAnLi4vc2Vzc2lvbi1zdG9yYWdlLmpzJztcbmltcG9ydCBnZXRKV1QgZnJvbSAnLi9nZXQtand0LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY29uZmlnLCBuZXh0KSB7XG5cbiAgbmV4dCA9IG5leHQgfHwgZnVuY3Rpb24odXNlcikge1xuICAgIGNvbnNvbGUubG9nKCdnZXRVc2VyOiBuZXh0IG5vdCBkZWZpbmVkLicpO1xuICAgIGNvbnNvbGUubG9nKHVzZXIpO1xuICB9O1xuXG4gIGxldCB1c2VyID0gY29uZmlnLnVzZXIgfHwgc2Vzc2lvblN0b3JhZ2UuZ2V0KCdvc2MtdXNlcicpO1xuXG4gIGlmICh1c2VyKSB7XG4gICAgLy8gcmV0dXJuIHVzZXJcbiAgICByZXR1cm4gbmV4dChudWxsLCB1c2VyKTtcbiAgfVxuXG4gIC8vIGp3dFxuICBsZXQgand0ID0gZ2V0SldUKGNvbmZpZyk7XG5cbiAgaWYgKCFqd3QpIHtcbiAgICAvLyByZXR1cm4gbm8gdXNlclxuICAgIHJldHVybiBuZXh0KG51bGwsIHt9KTtcbiAgfVxuXG4gIC8vIGZldGNoIHVzZXJcbiAgbGV0IHVybCA9IGAke2NvbmZpZy5hcGkudXJsICB9L29hdXRoL3NpdGUvJHsgIGNvbmZpZy5zaXRlSWQgIH0vbWVgO1xuICBsZXQgaGVhZGVycyA9IHsgJ1gtQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHsgIGp3dH1gLCAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH07XG4gIGZldGNoKHVybCwgeyBoZWFkZXJzIH0gKVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBvbiBmZXRjaCcpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KVxuICAgIC50aGVuKCAoanNvbikgPT4ge1xuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0KCdvc2MtdXNlcicsIGpzb24pO1xuICAgICAgbmV4dChudWxsLCBqc29uKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBuZXh0KGVycik7XG4gICAgfSk7XG5cbn1cbiIsImltcG9ydCBzZXNzaW9uU3RvcmFnZSBmcm9tICcuLi9zZXNzaW9uLXN0b3JhZ2UuanMnO1xuaW1wb3J0IGdldEpXVCBmcm9tICcuL2dldC1qd3QuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb25maWcsIG5leHQpIHtcblxuICBuZXh0ID0gbmV4dCB8fCBmdW5jdGlvbih1c2VyKSB7XG4gICAgY29uc29sZS5sb2coJ2xvZ291dDogbmV4dCBub3QgZGVmaW5lZC4nKTtcbiAgfVxuXG4gIGxldCB1c2VyID0gY29uZmlnLnVzZXIgfHwgc2Vzc2lvblN0b3JhZ2UuZ2V0KCdvc2MtdXNlcicpO1xuXG4gIGlmICh1c2VyKSB7XG4gICAgLy8gcmV0dXJuIHVzZXJcbiAgICByZXR1cm4gbmV4dChudWxsLCB1c2VyKTtcbiAgfVxuXG4gIC8vIGp3dFxuICBsZXQgand0ID0gZ2V0SldUKGNvbmZpZyk7XG5cbiAgaWYgKCFqd3QpIHtcbiAgICAvLyByZXR1cm4gbm8gdXNlclxuICAgIHJldHVybiBuZXh0KG51bGwsIHt9KVxuICB9XG5cbiAgLy8gZmV0Y2ggdXNlclxuICBsZXQgdXJsID0gY29uZmlnLmFwaS51cmwgKyAnL29hdXRoL3NpdGUvJyArIGNvbmZpZy5zaXRlSWQgKyAnL21lJztcbiAgbGV0IGhlYWRlcnMgPSB7ICdYLUF1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyBqd3QsICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfTtcbiAgZmV0Y2godXJsLCB7IGhlYWRlcnMgfSApXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIG9uIGZldGNoJylcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSlcbiAgICAudGhlbigganNvbiA9PiB7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXQoJ29zYy11c2VyJywganNvbilcbiAgICAgIG5leHQobnVsbCwganNvbilcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBuZXh0KGVycilcbiAgICB9KTtcbiAgXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlkZWFzU29ydCh7IGlkZWFzLCBzb3J0T3JkZXIsIGNlbnRlciB9KSB7XG5cbiAgc29ydE9yZGVyID0gc29ydE9yZGVyIHx8ICdyYW5kb20nO1xuXG5cdHN3aXRjaChzb3J0T3JkZXIpe1xuXHRcdGNhc2UgJ3RpdGxlJzpcblx0XHRcdGlkZWFzID0gaWRlYXMuc29ydCggZnVuY3Rpb24oYSxiKSB7IGlmIChhLnRpdGxlLnRvTG93ZXJDYXNlKCkgPCBiLnRpdGxlLnRvTG93ZXJDYXNlKCkpIHsgcmV0dXJuIC0xOyB9IGlmIChiLnRpdGxlLnRvTG93ZXJDYXNlKCkgPCBhLnRpdGxlLnRvTG93ZXJDYXNlKCkpIHsgcmV0dXJuIDE7IH0gcmV0dXJuIDA7IH0pO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAncmFua2luZyxhc2MnOlxuXHRcdFx0aWRlYXMgPSBpZGVhcy5zb3J0KCBmdW5jdGlvbihhLGIpIHsgcmV0dXJuIGEucmFua2luZyAtIGIucmFua2luZyB9KTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ2xpa2VzLGFzYyc6XG5cdFx0XHRpZGVhcyA9IGlkZWFzLnNvcnQoIGZ1bmN0aW9uKGEsYikgeyByZXR1cm4gYS55ZXMgLSBiLnllcyB9KTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ2xpa2VzLGRlc2MnOlxuXHRcdFx0aWRlYXMgPSBpZGVhcy5zb3J0KCBmdW5jdGlvbihhLGIpIHsgcmV0dXJuIGIueWVzIC0gYS55ZXMgfSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdjcmVhdGVkdGltZSxkZXNjJzpcblx0XHRcdGlkZWFzID0gaWRlYXMuc29ydCggZnVuY3Rpb24oYSxiKSB7IHJldHVybiBuZXcgRGF0ZShiLmNyZWF0ZWRBdCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS5jcmVhdGVkQXQpLmdldFRpbWUoKSB9KTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ2NyZWF0ZWR0aW1lLGFzYyc6XG5cdFx0XHRpZGVhcyA9IGlkZWFzLnNvcnQoIGZ1bmN0aW9uKGEsYikgeyByZXR1cm4gbmV3IERhdGUoYS5jcmVhdGVkQXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuY3JlYXRlZEF0KS5nZXRUaW1lKCkgfSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdkaXN0YW5jZSc6XG4gICAgICBjZW50ZXIgPSBjZW50ZXIgfHwge2xhdDogNTIuMzcxMDQ2NDQ0NjM1ODYsIGxuZzo5MDA0MDI5MTEwMDc0MDV9O1xuICAgICAgaWYgKGNlbnRlci5jb29yZGluYXRlcykge1xuICAgICAgICBjZW50ZXIubGF0ID0gY2VudGVyLmNvb3JkaW5hdGVzWzBdO1xuICAgICAgICBjZW50ZXIubG5nID0gY2VudGVyLmNvb3JkaW5hdGVzWzFdO1xuICAgICAgfVxuXHRcdFx0aWRlYXMgPSBpZGVhc1xuICAgICAgICAubWFwKCBpZGVhID0+IHsgaWRlYS5fZGlzdGFuY2UgPSBNYXRoLnNxcnQoIE1hdGgucG93KCBpZGVhLmxvY2F0aW9uLmNvb3JkaW5hdGVzWzBdIC0gY2VudGVyLmxhdCwgMiApICsgTWF0aC5wb3coIGlkZWEubG9jYXRpb24uY29vcmRpbmF0ZXNbMV0gLSBjZW50ZXIubG5nLCAyICkgKTsgcmV0dXJuIGlkZWE7IH0gKVxuICAgICAgICAuc29ydCggZnVuY3Rpb24oYSxiKSB7IHJldHVybiBhLl9kaXN0YW5jZSAtIGIuX2Rpc3RhbmNlIH0pXG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdhcmdzLGRlc2MnOlxuXHRcdFx0aWRlYXMgPSBpZGVhcy5zb3J0KCBmdW5jdGlvbihhLGIpIHsgcmV0dXJuIGIuYXJnQ291bnQgLSBhLmFyZ0NvdW50IH0pXG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdhcmdzLGFzYyc6XG5cdFx0XHRpZGVhcyA9IGlkZWFzLnNvcnQoIGZ1bmN0aW9uKGEsYikgeyByZXR1cm4gYS5hcmdDb3VudCAtIGIuYXJnQ291bnQgfSlcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ3JhbmRvbSc6XG5cdFx0ZGVmYXVsdDpcblx0XHRcdGlkZWFzID0gaWRlYXMuc29ydCggZnVuY3Rpb24oYSxiKSB7IHJldHVybiBNYXRoLnJhbmRvbSgpIC0gMC41IH0pO1xuXHRcdFx0YnJlYWs7XG5cdH1cblxuICByZXR1cm4gaWRlYXM7XG4gIFxufVxuIiwiaW1wb3J0IG1lcmdlIGZyb20gJ21lcmdlJztcblxuLy8gVE9ETzogZGl0IHdlcmt0IGFsbGVlbiBhbHMgaGV0IGVyIDEgaXNcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBodG1sPScnIH0pIHtcblxuICBsZXQgYXJncyA9IGFyZ3VtZW50c1swXTtcbiAgZGVsZXRlIGFyZ3MuaHRtbDtcblxuICBsZXQgbWF0Y2hlcyA9IDA7XG5cbiAgT2JqZWN0LmtleXMoYXJncykuZm9yRWFjaCgoa2V5KSA9PiB7XG5cbiAgICBsZXQgcmVnRXggPSBuZXcgUmVnRXhwKGBeKCg/Oi58XFxufFxccikqKVxcXFx7JHtrZXl9XFxcXH0oKD86LnxcXG58XFxyKSopJGAsICdnJyk7XG4gICAgbGV0IG1hdGNoID0gcmVnRXguZXhlYyhodG1sKTtcblxuICAgIGlmIChtYXRjaCkge1xuICAgICAgbWF0Y2hlcysrO1xuICAgICAgaHRtbCA9IChcbiAgICAgICAgPHNwYW4+XG4gICAgICAgIDxzcGFuIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWF0Y2hbMV0gfX0+PC9zcGFuPlxuICAgICAgICB7YXJnc1trZXldfVxuICAgICAgICA8c3BhbiBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1hdGNoWzJdIH19Pjwvc3Bhbj5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgaWYgKG1hdGNoZXMgPT0gMCkgaHRtbCA9IDxzcGFuIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogaHRtbCB9fT48L3NwYW4+XG4gIHJldHVybiBodG1sO1xuICBcbn1cbiIsIi8qIVxyXG4gKiBAbmFtZSBKYXZhU2NyaXB0L05vZGVKUyBNZXJnZSB2MS4yLjFcclxuICogQGF1dGhvciB5ZWlrb3NcclxuICogQHJlcG9zaXRvcnkgaHR0cHM6Ly9naXRodWIuY29tL3llaWtvcy9qcy5tZXJnZVxyXG5cclxuICogQ29weXJpZ2h0IDIwMTQgeWVpa29zIC0gTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9yYXcuZ2l0aHViLmNvbS95ZWlrb3MvanMubWVyZ2UvbWFzdGVyL0xJQ0VOU0VcclxuICovXHJcblxyXG47KGZ1bmN0aW9uKGlzTm9kZSkge1xyXG5cclxuXHQvKipcclxuXHQgKiBNZXJnZSBvbmUgb3IgbW9yZSBvYmplY3RzIFxyXG5cdCAqIEBwYXJhbSBib29sPyBjbG9uZVxyXG5cdCAqIEBwYXJhbSBtaXhlZCwuLi4gYXJndW1lbnRzXHJcblx0ICogQHJldHVybiBvYmplY3RcclxuXHQgKi9cclxuXHJcblx0dmFyIFB1YmxpYyA9IGZ1bmN0aW9uKGNsb25lKSB7XHJcblxyXG5cdFx0cmV0dXJuIG1lcmdlKGNsb25lID09PSB0cnVlLCBmYWxzZSwgYXJndW1lbnRzKTtcclxuXHJcblx0fSwgcHVibGljTmFtZSA9ICdtZXJnZSc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1lcmdlIHR3byBvciBtb3JlIG9iamVjdHMgcmVjdXJzaXZlbHkgXHJcblx0ICogQHBhcmFtIGJvb2w/IGNsb25lXHJcblx0ICogQHBhcmFtIG1peGVkLC4uLiBhcmd1bWVudHNcclxuXHQgKiBAcmV0dXJuIG9iamVjdFxyXG5cdCAqL1xyXG5cclxuXHRQdWJsaWMucmVjdXJzaXZlID0gZnVuY3Rpb24oY2xvbmUpIHtcclxuXHJcblx0XHRyZXR1cm4gbWVyZ2UoY2xvbmUgPT09IHRydWUsIHRydWUsIGFyZ3VtZW50cyk7XHJcblxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIENsb25lIHRoZSBpbnB1dCByZW1vdmluZyBhbnkgcmVmZXJlbmNlXHJcblx0ICogQHBhcmFtIG1peGVkIGlucHV0XHJcblx0ICogQHJldHVybiBtaXhlZFxyXG5cdCAqL1xyXG5cclxuXHRQdWJsaWMuY2xvbmUgPSBmdW5jdGlvbihpbnB1dCkge1xyXG5cclxuXHRcdHZhciBvdXRwdXQgPSBpbnB1dCxcclxuXHRcdFx0dHlwZSA9IHR5cGVPZihpbnB1dCksXHJcblx0XHRcdGluZGV4LCBzaXplO1xyXG5cclxuXHRcdGlmICh0eXBlID09PSAnYXJyYXknKSB7XHJcblxyXG5cdFx0XHRvdXRwdXQgPSBbXTtcclxuXHRcdFx0c2l6ZSA9IGlucHV0Lmxlbmd0aDtcclxuXHJcblx0XHRcdGZvciAoaW5kZXg9MDtpbmRleDxzaXplOysraW5kZXgpXHJcblxyXG5cdFx0XHRcdG91dHB1dFtpbmRleF0gPSBQdWJsaWMuY2xvbmUoaW5wdXRbaW5kZXhdKTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XHJcblxyXG5cdFx0XHRvdXRwdXQgPSB7fTtcclxuXHJcblx0XHRcdGZvciAoaW5kZXggaW4gaW5wdXQpXHJcblxyXG5cdFx0XHRcdG91dHB1dFtpbmRleF0gPSBQdWJsaWMuY2xvbmUoaW5wdXRbaW5kZXhdKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG91dHB1dDtcclxuXHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogTWVyZ2UgdHdvIG9iamVjdHMgcmVjdXJzaXZlbHlcclxuXHQgKiBAcGFyYW0gbWl4ZWQgaW5wdXRcclxuXHQgKiBAcGFyYW0gbWl4ZWQgZXh0ZW5kXHJcblx0ICogQHJldHVybiBtaXhlZFxyXG5cdCAqL1xyXG5cclxuXHRmdW5jdGlvbiBtZXJnZV9yZWN1cnNpdmUoYmFzZSwgZXh0ZW5kKSB7XHJcblxyXG5cdFx0aWYgKHR5cGVPZihiYXNlKSAhPT0gJ29iamVjdCcpXHJcblxyXG5cdFx0XHRyZXR1cm4gZXh0ZW5kO1xyXG5cclxuXHRcdGZvciAodmFyIGtleSBpbiBleHRlbmQpIHtcclxuXHJcblx0XHRcdGlmICh0eXBlT2YoYmFzZVtrZXldKSA9PT0gJ29iamVjdCcgJiYgdHlwZU9mKGV4dGVuZFtrZXldKSA9PT0gJ29iamVjdCcpIHtcclxuXHJcblx0XHRcdFx0YmFzZVtrZXldID0gbWVyZ2VfcmVjdXJzaXZlKGJhc2Vba2V5XSwgZXh0ZW5kW2tleV0pO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0YmFzZVtrZXldID0gZXh0ZW5kW2tleV07XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBiYXNlO1xyXG5cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1lcmdlIHR3byBvciBtb3JlIG9iamVjdHNcclxuXHQgKiBAcGFyYW0gYm9vbCBjbG9uZVxyXG5cdCAqIEBwYXJhbSBib29sIHJlY3Vyc2l2ZVxyXG5cdCAqIEBwYXJhbSBhcnJheSBhcmd2XHJcblx0ICogQHJldHVybiBvYmplY3RcclxuXHQgKi9cclxuXHJcblx0ZnVuY3Rpb24gbWVyZ2UoY2xvbmUsIHJlY3Vyc2l2ZSwgYXJndikge1xyXG5cclxuXHRcdHZhciByZXN1bHQgPSBhcmd2WzBdLFxyXG5cdFx0XHRzaXplID0gYXJndi5sZW5ndGg7XHJcblxyXG5cdFx0aWYgKGNsb25lIHx8IHR5cGVPZihyZXN1bHQpICE9PSAnb2JqZWN0JylcclxuXHJcblx0XHRcdHJlc3VsdCA9IHt9O1xyXG5cclxuXHRcdGZvciAodmFyIGluZGV4PTA7aW5kZXg8c2l6ZTsrK2luZGV4KSB7XHJcblxyXG5cdFx0XHR2YXIgaXRlbSA9IGFyZ3ZbaW5kZXhdLFxyXG5cclxuXHRcdFx0XHR0eXBlID0gdHlwZU9mKGl0ZW0pO1xyXG5cclxuXHRcdFx0aWYgKHR5cGUgIT09ICdvYmplY3QnKSBjb250aW51ZTtcclxuXHJcblx0XHRcdGZvciAodmFyIGtleSBpbiBpdGVtKSB7XHJcblxyXG5cdFx0XHRcdGlmIChrZXkgPT09ICdfX3Byb3RvX18nKSBjb250aW51ZTtcclxuXHJcblx0XHRcdFx0dmFyIHNpdGVtID0gY2xvbmUgPyBQdWJsaWMuY2xvbmUoaXRlbVtrZXldKSA6IGl0ZW1ba2V5XTtcclxuXHJcblx0XHRcdFx0aWYgKHJlY3Vyc2l2ZSkge1xyXG5cclxuXHRcdFx0XHRcdHJlc3VsdFtrZXldID0gbWVyZ2VfcmVjdXJzaXZlKHJlc3VsdFtrZXldLCBzaXRlbSk7XHJcblxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0cmVzdWx0W2tleV0gPSBzaXRlbTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCB0eXBlIG9mIHZhcmlhYmxlXHJcblx0ICogQHBhcmFtIG1peGVkIGlucHV0XHJcblx0ICogQHJldHVybiBzdHJpbmdcclxuXHQgKlxyXG5cdCAqIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vdHlwZW9mdmFyXHJcblx0ICovXHJcblxyXG5cdGZ1bmN0aW9uIHR5cGVPZihpbnB1dCkge1xyXG5cclxuXHRcdHJldHVybiAoe30pLnRvU3RyaW5nLmNhbGwoaW5wdXQpLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuXHR9XHJcblxyXG5cdGlmIChpc05vZGUpIHtcclxuXHJcblx0XHRtb2R1bGUuZXhwb3J0cyA9IFB1YmxpYztcclxuXHJcblx0fSBlbHNlIHtcclxuXHJcblx0XHR3aW5kb3dbcHVibGljTmFtZV0gPSBQdWJsaWM7XHJcblxyXG5cdH1cclxuXHJcbn0pKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZSAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKTsiLCJ2YXIgY2hlY2sgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICYmIGl0Lk1hdGggPT0gTWF0aCAmJiBpdDtcbn07XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG5tb2R1bGUuZXhwb3J0cyA9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICBjaGVjayh0eXBlb2YgZ2xvYmFsVGhpcyA9PSAnb2JqZWN0JyAmJiBnbG9iYWxUaGlzKSB8fFxuICBjaGVjayh0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHdpbmRvdykgfHxcbiAgY2hlY2sodHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZikgfHxcbiAgY2hlY2sodHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwpIHx8XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnQgZnJvbSAnLi4vLi4vY29tcG9uZW50L2luZGV4LmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5TdGFkQ29tcG9uZW50RGVmYXVsdElucHV0IGV4dGVuZHMgT3BlblN0YWRDb21wb25lbnQge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzLCBkZWZhdWx0Q29uZmlnID0ge30pIHtcblxuICAgIHN1cGVyKHByb3BzLCB7XG4gICAgICBjaG9pY2VzOiBbXSxcblx0XHRcdG5hbWU6ICcnLFxuICAgICAgcGxhY2Vob2xkZXI6ICcnLFxuICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuXHRcdH0sIGRlZmF1bHRDb25maWcpO1xuXG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5zdGF0ZSA9IHtcbiAgICAgIHZhbHVlOiB0eXBlb2YgcHJvcHMudmFsdWUgIT0gdW5kZWZpbmVkID8gcHJvcHMudmFsdWUgOiAnJyxcbiAgICAgIGVycm9yOiBudWxsLFxuXHRcdH07XG5cbiAgICB0aGlzLm9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2U7XG5cbiAgfVxuXG5cdHZhbGlkYXRlKHsgc2hvd0Vycm9ycyB9KSB7XG5cdFx0bGV0IGlzVmFsaWQgPSB0aGlzLmNvbmZpZy5yZXF1aXJlZCA/ICEhdGhpcy5zdGF0ZS52YWx1ZSA6IHRydWU7XG4gICAgbGV0IGVycm9yID0gJyc7XG4gICAgaWYgKCFpc1ZhbGlkICYmIHNob3dFcnJvcnMpIGVycm9yID0gdHJ1ZTtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNWYWxpZCwgZXJyb3IgfSlcblx0XHRyZXR1cm4gaXNWYWxpZDtcblx0fVxuXG5cdGhhbmRsZU9uQ2hhbmdlKGRhdGEpIHtcblx0XHRsZXQgc2VsZiA9IHRoaXM7XG4gICAgZGF0YSA9IGRhdGEgfHwge307XG5cdFx0c2VsZi5zZXRTdGF0ZShkYXRhLCAoKSA9PiB7XG4gICAgICBzZWxmLnZhbGlkYXRlKHt9KTtcbiAgICB9KVxuXHRcdGlmICh0eXBlb2Ygc2VsZi5vbkNoYW5nZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRzZWxmLm9uQ2hhbmdlKHsgbmFtZTogc2VsZi5jb25maWcubmFtZSwgdmFsdWU6IGRhdGEudmFsdWUgfSk7XG5cdFx0fVxuXHR9XG5cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50RGVmYXVsdElucHV0IGZyb20gJy4vZGVmYXVsdC1pbnB1dC5qc3gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuU3RhZENvbXBvbmVudFNlbGVjdCBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50RGVmYXVsdElucHV0IHtcblxuXHRyZW5kZXIoKSB7XG5cblx0XHRsZXQgc2VsZiA9IHRoaXM7XG4gICAgXG4gICAgcmV0dXJuIChcblx0XHRcdDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgdmFsdWU9e3RoaXMuc3RhdGUudmFsdWV9IGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfSBwbGFjZWhvbGRlcj17dGhpcy5jb25maWcucGxhY2Vob2xkZXJ9IG9uQ2hhbmdlPXtlID0+IHNlbGYuaGFuZGxlT25DaGFuZ2UoeyB2YWx1ZTogc2VsZi5pbnB1dC52YWx1ZSB9KX0gcmVmPXtlbCA9PiAoc2VsZi5pbnB1dCA9IGVsKX0vPlxuICAgICk7XG5cbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBGaWxlUG9uZCwgcmVnaXN0ZXJQbHVnaW4gfSBmcm9tIFwicmVhY3QtZmlsZXBvbmRcIjtcbi8vIFRPRE86IGRpdCBnYWF0IG1pcyBvbWRhdCB3ZWJwYWNrIG51IGdlZW4gY3NzIGx1c3Rcbi8vIGltcG9ydCBcImZpbGVwb25kL2Rpc3QvZmlsZXBvbmQubWluLmNzc1wiO1xuLy8gbW9ldCBmaWxlcG9uZC1wb2x5ZmlsbCBvb2sgbm9nP1xuaW1wb3J0IEZpbGVwb25kUGx1Z2luSW1hZ2VQcmV2aWV3IGZyb20gXCJmaWxlcG9uZC1wbHVnaW4taW1hZ2UtcHJldmlld1wiO1xuaW1wb3J0IEZpbGVwb25kUGx1Z2luRmlsZVZhbGlkYXRlVHlwZSBmcm9tIFwiZmlsZXBvbmQtcGx1Z2luLWZpbGUtdmFsaWRhdGUtdHlwZVwiO1xuaW1wb3J0IEZpbGVwb25kUGx1Z2luRmlsZVZhbGlkYXRlU2l6ZSBmcm9tIFwiZmlsZXBvbmQtcGx1Z2luLWZpbGUtdmFsaWRhdGUtc2l6ZVwiO1xuaW1wb3J0IEZpbGVwb25kUGx1Z2luRmlsZVBvc3RlciBmcm9tIFwiZmlsZXBvbmQtcGx1Z2luLWZpbGUtcG9zdGVyXCI7XG5cbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudERlZmF1bHRJbnB1dCBmcm9tICcuL2RlZmF1bHQtaW5wdXQuanN4JztcblxuLy8gUmVnaXN0ZXIgdGhlIHBsdWdpbnNcbnJlZ2lzdGVyUGx1Z2luKEZpbGVwb25kUGx1Z2luSW1hZ2VQcmV2aWV3LCBGaWxlcG9uZFBsdWdpbkZpbGVWYWxpZGF0ZVR5cGUsIEZpbGVwb25kUGx1Z2luRmlsZVZhbGlkYXRlU2l6ZSwgRmlsZXBvbmRQbHVnaW5GaWxlUG9zdGVyKTtcblxuLy8gT3VyIGFwcFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuU3RhZENvbXBvbmVudEltYWdlVXBsb2FkIGV4dGVuZHMgT3BlblN0YWRDb21wb25lbnREZWZhdWx0SW5wdXQge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cbiAgICBzdXBlcihwcm9wcywge1xuICAgICAgbmFtZTogJ2ltYWdlJyxcbiAgICAgIGFsbG93TXVsdGlwbGU6IGZhbHNlLFxuXHRcdFx0aW1hZ2VzZXJ2ZXI6IHtcblx0XHRcdFx0cHJvY2VzczogJy9pbWFnZScsXG5cdFx0XHRcdGZldGNoOiAnL2ltYWdlJ1xuXHRcdFx0fSxcbiAgICB9KTtcblxuICAgIHZhciB1cGxvYWRlZEZpbGVzID0gW107XG4gICAgbGV0IHZhbHVlID0gcHJvcHMudmFsdWUgfHwgW107XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB2YWx1ZSA9IFt2YWx1ZV07XG4gICAgdmFsdWUuZm9yRWFjaCgoaW1hZ2UpID0+IHtcbiAgICAgIGxldCBzcmMgPSB0eXBlb2YgaW1hZ2UgPT0gJ29iamVjdCcgPyBpbWFnZS5zcmMgOiBpbWFnZTtcbiAgICAgIHVwbG9hZGVkRmlsZXMucHVzaCh7XG4gICAgICAgIHNvdXJjZTogeyB1cmw6IHNyYyB9LFxuICAgICAgICBvcHRpb25zIDoge1xuICAgICAgICAgIHR5cGU6ICdsb2NhbCcsXG4gICAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgbmFtZTogc3JjLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIHBvc3Rlcjogc3JjLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB1cGxvYWRlZEZpbGVzOiB1cGxvYWRlZEZpbGVzLFxuICAgIH1cblxuICB9XG5cbiAgdmFsaWRhdGUoKSB7XG4gICAgbGV0IGlzVmFsaWQgPSB0cnVlO1xuXHRcdGlmICggdGhpcy5pbWFnZXVwbG9hZGVyICYmIHRoaXMuaW1hZ2V1cGxvYWRlci5nZXRGaWxlcyApIHtcblx0XHRcdHZhciBpbWFnZXMgPSB0aGlzLmltYWdldXBsb2FkZXIuZ2V0RmlsZXMoKTtcblx0XHRcdGltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKGltYWdlKSB7XG5cdFx0XHRcdGlmICghaW1hZ2Uuc2VydmVySWQpIHtcblx0XHRcdFx0XHRpc1ZhbGlkID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cbiAgICByZXR1cm4gaXNWYWxpZDtcbiAgfVxuXG4gIGluaXQoKSB7XG4gIH1cblxuICB1cGRhdGVVcGxvYWRlZEZpbGVzKHsgYWRkRmlsZSwgcmVtb3ZlRmlsZSwgbmV4dCB9KSB7XG5cdFx0aWYgKCB0aGlzLmltYWdldXBsb2FkZXIgJiYgdGhpcy5pbWFnZXVwbG9hZGVyLmdldEZpbGVzICkge1xuICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLmltYWdldXBsb2FkZXIuZ2V0RmlsZXMoKTtcbiAgICAgIGlmIChyZW1vdmVGaWxlKSB7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmZpbHRlcihmaWxlID0+IGZpbGUuc2VydmVySWQgIT0gcmVtb3ZlRmlsZS5zZXJ2ZXJJZCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdXBsb2FkZWRGaWxlczogY3VycmVudC5tYXAoZmlsZUl0ZW0gPT4gZmlsZUl0ZW0uZmlsZSkgfSwgKCkgPT4ge1xuICAgICAgICBpZiAobmV4dCkgbmV4dChjdXJyZW50KTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgdXBkYXRlVmFsdWUoZmlsZXMpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgbGV0IHZhbHVlID0gW107XG4gICAgdmFyIGFzSnNvbiA9IHNlbGYuY29uZmlnLmFzICYmIHNlbGYuY29uZmlnLmFzID09ICdqc29uJztcblx0XHRmaWxlcy5mb3JFYWNoKChpbWFnZSkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFyIHNlcnZlcklkID0gdHlwZW9mIGltYWdlLnNlcnZlcklkID09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShpbWFnZS5zZXJ2ZXJJZCkgOiBpbWFnZS5zZXJ2ZXJJZDtcblx0XHRcdFx0dmFsdWUucHVzaCggYXNKc29uID8geyBcInNyY1wiOiBzZXJ2ZXJJZC51cmwgfSA6IHNlcnZlcklkLnVybCAgKVxuXHRcdFx0fSBjYXRjaChlcnIpIHsgY29uc29sZS5sb2coZXJyKSB9XG5cdFx0fSk7XG4gICAgc2VsZi5oYW5kbGVPbkNoYW5nZSh7bmFtZTogc2VsZi5jb25maWcubmFtZSwgdmFsdWV9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIHJldHVybiAoXG4gICAgPEZpbGVQb25kXG5cbiAgICAgIHJlZj17cmVmID0+ICh0aGlzLmltYWdldXBsb2FkZXIgPSByZWYpfVxuICAgICAgZmlsZXM9e3RoaXMuc3RhdGUudXBsb2FkZWRGaWxlc31cblxuICAgICAgb25pbml0PXtzZWxmLmluaXR9XG4gICAgICBvbnByb2Nlc3NmaWxlPXsoIGVyciwgZmlsZSApID0+IHNlbGYudXBkYXRlVXBsb2FkZWRGaWxlcyh7IGFkZEZpbGU6IGZpbGUsIG5leHQ6IGZpbGVzID0+IHNlbGYudXBkYXRlVmFsdWUoZmlsZXMpIH0pfVxuICAgICAgb25yZW1vdmVmaWxlPXsoIGVyciwgZmlsZSApID0+IHNlbGYudXBkYXRlVXBsb2FkZWRGaWxlcyh7IHJlbW92ZUZpbGU6IGZpbGUsIG5leHQ6IGZpbGVzID0+IHNlbGYudXBkYXRlVmFsdWUoZmlsZXMpIH0pfVxuICAgICAgICBcbiAgICAgIG5hbWU9e3NlbGYuY29uZmlnLm5hbWV9XG4gICAgICBzZXJ2ZXI9e3RoaXMuY29uZmlnLmltYWdlc2VydmVyLnByb2Nlc3N9XG4gICAgICBhbGxvd011bHRpcGxlPXt0aGlzLmNvbmZpZy5hbGxvd011bHRpcGxlfVxuICAgICAgXG4gICAgICAvLyB0b2RvOiBtYWFrIGRpdCBhbGxlbWFhbCBjb25maWd1cmFiZWxcblx0XHRcdGFjY2VwdGVkRmlsZVR5cGVzPXtbJ2ltYWdlLyonXX1cblx0XHRcdGFsbG93RmlsZVNpemVWYWxpZGF0aW9uPVwidHJ1ZVwiXG4gICAgICBhbGxvd1Jlb3JkZXI9e3RydWV9XG4gICAgICBzdHlsZUl0ZW1QYW5lbEFzcGVjdFJhdGlvPVwiMVwiXG5cdFx0XHRtYXhGaWxlU2l6ZT1cIjhtYlwiXG5cdFx0XHRtYXhGaWxlcz1cIjVcIlxuXHRcdFx0YWxsb3dCcm93c2U9XCJ0cnVlXCJcblx0XHRcdGltYWdlUmVzaXplVGFyZ2V0V2lkdGg9XCI4MFwiXG5cdFx0XHRpbWFnZVJlc2l6ZVRhcmdldEhlaWdodD1cIjgwXCJcblx0XHRcdGltYWdlQ3JvcEFzcGVjdFJhdGlvPVwiMTY6OVwiXG5cdFx0XHRsYWJlbElkbGU9XCJTbGVlcCBhZmJlZWxkaW5nKGVuKSBuYWFyIGRlemUgcGxlayBvZiA8c3BhbiBjbGFzcz0nZmlsZXBvbmQtLWxhYmVsLWFjdGlvbic+S0xJSyBISUVSPC9zcGFuPlwiXG5cdFx0XHRsYWJlbEludmFsaWRGaWVsZD1cIkZpZWxkIGNvbnRhaW5zIGludmFsaWQgZmlsZXNcIlxuXHRcdFx0bGFiZWxGaWxlV2FpdGluZ0ZvclNpemU9XCJXYWNodGVuZCBvcCBncm9vdHRlXCJcblx0XHRcdGxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGU9XCJHcm9vdHRlIG5pZXQgYmVzY2hpa2JhYXJcIlxuXHRcdFx0bGFiZWxGaWxlQ291bnRTaW5ndWxhcj1cIkJlc3RhbmQgaW4gbGlqc3RcIlxuXHRcdFx0bGFiZWxGaWxlQ291bnRQbHVyYWw9XCJCZXN0YW5kZW4gaW4gbGlqc3RcIlxuXHRcdFx0bGFiZWxGaWxlTG9hZGluZz1cIkxhZGVuXCJcblx0XHRcdGxhYmVsRmlsZUFkZGVkPVwiVG9lZ2V2b2VnZFwiXG5cdFx0XHRsYWJlbEZpbGVMb2FkRXJyb3I9XCJGb3V0IGJpaiBoZXQgdXBsb2FkZW5cIlxuXHRcdFx0bGFiZWxGaWxlUmVtb3ZlZD1cIlZlcndpamRlcmRcIlxuXHRcdFx0bGFiZWxGaWxlUmVtb3ZlRXJyb3I9XCJGb3V0IGJpaiBoZXQgdmVyd2lqZGVyZW5cIlxuXHRcdFx0bGFiZWxGaWxlUHJvY2Vzc2luZz1cIkxhZGVuXCJcblx0XHRcdGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZT1cIkFmYmVlbGRpbmcgZ2VsYWRlblwiXG5cdFx0XHRsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZD1cIlVwbG9hZCBjYW5jZWxsZWRcIlxuXHRcdFx0bGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yPVwiRXJyb3IgZHVyaW5nIHVwbG9hZFwiXG5cdFx0XHRsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I9XCJFcnJvciBkdXJpbmcgcmV2ZXJ0XCJcblx0XHRcdGxhYmVsVGFwVG9DYW5jZWw9XCJ0YXAgdG8gY2FuY2VsXCJcblx0XHRcdGxhYmVsVGFwVG9SZXRyeT1cInRhcCB0byByZXRyeVwiXG5cdFx0XHRsYWJlbFRhcFRvVW5kbz1cInRhcCB0byB1bmRvXCJcblx0XHRcdGxhYmVsQnV0dG9uUmVtb3ZlSXRlbT1cIlZlcndpamRlcmVuXCJcblx0XHRcdGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZD1cIkFib3J0XCJcblx0XHRcdGxhYmVsQnV0dG9uUmV0cnlJdGVtTG9hZD1cIlJldHJ5XCJcblx0XHRcdGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZz1cIlZlcndpamRlclwiXG5cdFx0XHRsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZz1cIlVuZG9cIlxuXHRcdFx0bGFiZWxCdXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nPVwiUmV0cnlcIlxuXHRcdFx0bGFiZWxCdXR0b25Qcm9jZXNzSXRlbT1cIlVwbG9hZFwiXG5cbiAgICAvPik7XG5cbiAgfVxufVxuXG5cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvbXBvbmVudC9pbmRleC5qc3gnO1xuXG4vLyBUT0RPOiBpdCBpcyBwcm9iYWJseSBub3Qgb2sgdG8gd3JpdGUgeW91ciBvd24gaHRtbCBlZGl0b3IsIGJ1dCBhZnRlciBpbnRlcmdyYXRpbmcgY2tlZGl0b3Igb3IgcmVhY3QtcnRlIHRoZSBidWlsZCB3YXMgKG1vcmUgdGhhbikgdHdpY2UgYXMgbGFyZ2U7IGEgYmV0dHRlciBzb2x1dGlvbiBtdXN0IGJlIHBvc3NpYmxlXG5cbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlblN0YWRDb21wb25lbnRIVE1MQXJlYSBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50ICB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdmFsdWU6IHRoaXMucHJvcHMudmFsdWUsXG5cdCAgfTtcblxuICAgIHRoaXMub25LZXlVcHggPSB0aGlzLm9uS2V5VXB4LmJpbmQodGhpcyk7XG5cbiAgfVxuXG5cdGNvbXBvbmVudERpZE1vdW50KHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgbGV0IHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZTtcbiAgICB2YWx1ZSA9IHRoaXMuZmlsdGVySFRNTCh2YWx1ZSk7XG4gICAgdGhpcy5pbnB1dC5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgfVxuXG4gIGZpbHRlckhUTUwodmFsdWUpIHtcbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoLzwoXFwvP1xccyooPzphIFtePl0rfGF8YnxpfHN0cm9uZ3xlbXxwfGRpdnxicnx1bHxsaSlcXHMqXFwvPyk+L2csIFwiW1tbJDFdXV1cIik7XG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC88W14+XSs+L2csIFwiXCIpO1xuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxbXFxbXFxbKFteXFxdXSspXFxdXFxdXFxdL2csIFwiPCQxPlwiKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBleGVjdXRlQWN0aW9uKGUsIGNvbW1hbmQsIGFyZ3MpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKGNvbW1hbmQsZmFsc2UsYXJncyk7XG4gICAgdGhpcy5vbktleVVwKCk7XG4gIH1cbiAgXG4gIG9uRm9jdXMoZSkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uRm9jdXMpIHtcbiAgICAgIHRoaXMucHJvcHMub25Gb2N1cyhlKTtcbiAgICB9XG4gIH1cblxuICBvbkJsdXIoZSkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uQmx1cikge1xuICAgICAgdGhpcy5wcm9wcy5vbkJsdXIoZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHsgdmFsdWU6IHRoaXMuc3RhdGUudmFsdWUgfSk7XG4gICAgfVxuICB9XG5cbiAgb25LZXlVcHgoKSB7XG4gICAgbGV0IHZhbHVlID0gdGhpcy5pbnB1dC5pbm5lckhUTUw7XG4gICAgdmFsdWUgPSB0aGlzLmZpbHRlckhUTUwodmFsdWUpO1xuICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZSB9KVxuICAgIGlmICh0aGlzLnByb3BzLm9uS2V5VXApIHtcbiAgICAgIHRoaXMucHJvcHMub25LZXlVcCh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIFxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1odG1sLWVkaXRvclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1odG1sLWVkaXRvci1idXR0b25zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtaHRtbC1lZGl0b3ItYnV0dG9uIG9zYy1odG1sLWVkaXRvci1idXR0b24tYm9sZFwiIG9uTW91c2VEb3duPXtlID0+IHRoaXMuZXhlY3V0ZUFjdGlvbihlLCAnYm9sZCcpfT4mbmJzcDs8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1odG1sLWVkaXRvci1idXR0b24gb3NjLWh0bWwtZWRpdG9yLWJ1dHRvbi1pdGFsaWNcIiBvbk1vdXNlRG93bj17ZSA9PiB0aGlzLmV4ZWN1dGVBY3Rpb24oZSwgJ2l0YWxpYycpfT4mbmJzcDs8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1odG1sLWVkaXRvci1idXR0b24gb3NjLWh0bWwtZWRpdG9yLWJ1dHRvbi1pbnNlcnR1bm9yZGVyZWRsaXN0XCIgb25Nb3VzZURvd249e2UgPT4gdGhpcy5leGVjdXRlQWN0aW9uKGUsICdpbnNlcnR1bm9yZGVyZWRsaXN0Jyl9PiZuYnNwOzwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLWh0bWwtZWRpdG9yLWJ1dHRvbiBvc2MtaHRtbC1lZGl0b3ItYnV0dG9uLWNyZWF0ZWxpbmtcIiBvbk1vdXNlRG93bj17ZSA9PiB0aGlzLmV4ZWN1dGVBY3Rpb24oZSwgJ2NyZWF0ZWxpbmsnLCBwcm9tcHQoJ0xhbmsgbmFhcicsJ2h0dHA6Ly8nKSl9PiZuYnNwOzwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtaHRtbC1lZGl0b3ItY29udGVudFwiIGNvbnRlbnRFZGl0YWJsZT17dHJ1ZX1cbiAgICAgICAgICAgICBvbkZvY3VzPXsgZSA9PiB0aGlzLm9uRm9jdXMoZSl9XG4gICAgICAgICAgICAgb25CbHVyPXsgZSA9PiB0aGlzLm9uQmx1cihlKX1cbiAgICAgICAgICAgICBvbktleVVwPXsgZSA9PiB0aGlzLm9uS2V5VXB4KCl9XG4gICAgICAgICAgICAgLy8gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiB0aGlzLnN0YXRlLnZhbHVlIH19XG4gICAgICAgICAgICAgcmVmPXtlbCA9PiAodGhpcy5pbnB1dCA9IGVsKX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxufVxuXG5mdW5jdGlvbiBFZGl0QnV0dG9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAga2V5PXtwcm9wcy5jbWR9XG4gICAgICBvbk1vdXNlRG93bj17ZXZ0ID0+IHtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7IC8vIEF2b2lkcyBsb29zaW5nIGZvY3VzIGZyb20gdGhlIGVkaXRhYmxlIGFyZWFcbiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQocHJvcHMuY21kLCBmYWxzZSwgcHJvcHMuYXJnKTsgLy8gU2VuZCB0aGUgY29tbWFuZCB0byB0aGUgYnJvd3NlclxuICAgICAgfX1cbiAgICA+XG4gICAgICB7cHJvcHMubmFtZSB8fCBwcm9wcy5jbWR9XG4gICAgPC9idXR0b24+XG4gICk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vaW1wb3J0IENLRWRpdG9yIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtcmVhY3QnO1xuLy9pbXBvcnQgQ2xhc3NpY0VkaXRvciBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LWJ1aWxkLWNsYXNzaWMnO1xuaW1wb3J0IEhUTUxBcmVhIGZyb20gJy4vaHRtbGFyZWEuanN4JztcblxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvbXBvbmVudC9pbmRleC5qc3gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtZmllbGRJbnB1dFdpdGhDb3VudGVyIGV4dGVuZHMgT3BlblN0YWRDb21wb25lbnQge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cbiAgICBzdXBlcihwcm9wcywge1xuXHRcdFx0bmFtZTogJ3Rla3N0Jyxcblx0XHRcdGlucHV0VHlwZTogJ2lucHV0Jyxcblx0XHRcdG1pbkxlbmd0aDogNSxcblx0XHRcdG1heExlbmd0aDogMTAyNCxcbiAgICAgIHBsYWNlaG9sZGVyOiAnJyxcblx0XHR9KTtcblxuXHRcdGxldCBzZWxmID0gdGhpcztcblx0XHRzZWxmLmlkID0gcHJvcHMuaWQgfHwgJ29zYy1mb3JtZmllbGRzLXBsYWludGV4dC13aXRoLWNvdW50ZXItJyArIHBhcnNlSW50KCAxMDAwMDAwICogTWF0aC5yYW5kb20oKSApXG5cbiAgICBzZWxmLnN0YXRlID0ge1xuXHRcdFx0Zm9jdXNlZDogZmFsc2UsXG4gICAgICB2YWx1ZTogcHJvcHMudmFsdWUgfHwgJycsXG5cdFx0XHR2YWx1ZUxlbmd0aDogcHJvcHMudmFsdWUgJiYgcHJvcHMudmFsdWUubGVuZ3RoIHx8IDAsXG5cdFx0fTtcblxuICAgIHNlbGYua2V5ID0gcHJvcHMudXNlS2V5IHx8ICggc2VsZi5pZCB8fCAnb3NjLWlucHV0LXdpdGgtY291bnRlci0nICkgKyBwYXJzZUludCggMTAwMDAwMDAgKiBNYXRoLnJhbmRvbSApO1xuXG4gICAgdGhpcy5vbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlO1xuXG4gICAgc2VsZi5oYW5kbGVPbkNoYW5nZSA9IHNlbGYuaGFuZGxlT25DaGFuZ2UuYmluZCh0aGlzKVxuICAgIHNlbGYub25JbnB1dEZvY3VzID0gc2VsZi5vbklucHV0Rm9jdXMuYmluZCh0aGlzKVxuICAgIHNlbGYub25JbnB1dEJsdXIgPSBzZWxmLm9uSW5wdXRCbHVyLmJpbmQodGhpcylcbiAgICBzZWxmLm9uSW5wdXRLZXlVcCA9IHNlbGYub25JbnB1dEtleVVwLmJpbmQodGhpcylcblxuICB9XG5cblx0aXNWYWxpZCgpIHtcblx0XHRsZXQgc3RhdGUgPSB7fTtcblx0XHRzdGF0ZS5pc1ZhbGlkID0gdHJ1ZTtcblx0XHRzdGF0ZS53YXJuaW5nID0gbnVsbDtcblx0XHRpZiAodGhpcy5zdGF0ZS52YWx1ZUxlbmd0aCA8IHRoaXMuY29uZmlnLm1pbkxlbmd0aCkge1xuXHRcdFx0c3RhdGUud2FybmluZyA9IGBEZSB0ZWtzdCBpcyB0ZSBrb3J0YDtcblx0XHRcdHN0YXRlLmlzVmFsaWQgPSBmYWxzZTtcblx0XHR9XG5cdFx0aWYgKHRoaXMuc3RhdGUudmFsdWVMZW5ndGggPiB0aGlzLmNvbmZpZy5tYXhMZW5ndGgpIHtcblx0XHRcdHN0YXRlLndhcm5pbmcgPSBgRGUgdGVrc3QgaXMgdGUgbGFuZ2A7XG5cdFx0XHRzdGF0ZS5pc1ZhbGlkID0gZmFsc2U7XG5cdFx0fVxuXHRcdHRoaXMuc2V0U3RhdGUoc3RhdGUpXG5cdFx0cmV0dXJuIHN0YXRlLmlzVmFsaWQ7XG4gIH1cblxuXHR2YWxpZGF0ZSgpIHtcblx0XHR0aGlzLnNldFN0YXRlKHsgc2hvd1dhcm5pbmc6IHRydWUgfSlcblx0XHRyZXR1cm4gdGhpcy5pc1ZhbGlkKCk7XG5cdH1cbiAgXG5cdGhhbmRsZU9uQ2hhbmdlKGRhdGEpIHtcbiAgICBkYXRhID0gZGF0YSB8fCB7fTtcblx0XHR0aGlzLnNldFN0YXRlKGRhdGEpXG5cdFx0aWYgKHR5cGVvZiB0aGlzLm9uQ2hhbmdlID09ICdmdW5jdGlvbicpIHtcblx0XHRcdHRoaXMub25DaGFuZ2UoeyBuYW1lOiB0aGlzLmNvbmZpZy5uYW1lLCB2YWx1ZTogZGF0YS52YWx1ZSB9KTtcblx0XHR9XG5cdH1cblxuXHRvbklucHV0Rm9jdXMoKSB7XG5cdFx0bGV0IHN0YXRlID0ge307XG5cdFx0c3RhdGUuZm9jdXNlZCA9IHRydWU7XG5cdFx0c3RhdGUuc2hvd1dhcm5pbmcgPSBmYWxzZTtcblx0XHR0aGlzLnNldFN0YXRlKHN0YXRlKVxuXHR9XG5cblx0b25JbnB1dEJsdXIoKSB7XG5cdFx0bGV0IHN0YXRlID0ge307XG5cdFx0c3RhdGUuZm9jdXNlZCA9IGZhbHNlO1xuXHRcdHRoaXMuc2V0U3RhdGUoc3RhdGUpXG5cdH1cblxuXHRvbklucHV0S2V5VXAodmFsdWUpIHtcblx0XHRsZXQgc3RhdGUgPSB7fTtcblx0XHRzdGF0ZS52YWx1ZSA9IHZhbHVlIHx8IHRoaXMuaW5wdXQudmFsdWU7XG5cdFx0bGV0IHZhbHVlTGVuZ3RoID0gc3RhdGUudmFsdWUubGVuZ3RoO1xuXHRcdHN0YXRlLnZhbHVlTGVuZ3RoID0gdmFsdWVMZW5ndGg7XG5cdFx0c3RhdGUuaXNWYWxpZCA9IHZhbHVlTGVuZ3RoID49IHRoaXMuY29uZmlnLm1pbkxlbmd0aCAmJiB2YWx1ZUxlbmd0aCA8PSB0aGlzLmNvbmZpZy5tYXhMZW5ndGg7XG5cdFx0dGhpcy5zZXRTdGF0ZShzdGF0ZSlcblx0fVxuXG5cdHJlbmRlcigpIHtcblxuXHRcdGxldCBzZWxmID0gdGhpcztcblxuXHRcdGxldCBjb3VudGVyID0gbnVsbDtcblx0XHRsZXQgd2FybmluZyA9IG51bGw7XG5cdFx0aWYgKHNlbGYuc3RhdGUuZm9jdXNlZCkge1xuXHRcdFx0aWYgKHNlbGYuc3RhdGUudmFsdWVMZW5ndGggPCBzZWxmLmNvbmZpZy5taW5MZW5ndGgpIHtcblx0XHRcdFx0Y291bnRlciA9ICg8ZGl2IGNsYXNzTmFtZT1cIm9zYy1mb3JtLWNvdW50ZXIgb3NjLWZvcm0tZXJyb3JcIj5Ob2cgbWluaW1hYWwgPHNwYW4gY2xhc3NOYW1lPVwiXCI+e3NlbGYuY29uZmlnLm1pbkxlbmd0aCAtIHNlbGYuc3RhdGUudmFsdWVMZW5ndGh9PC9zcGFuPiB0ZWtlbnM8L2Rpdj4pXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsZXQgZXJyb3IgPSBzZWxmLnN0YXRlLnZhbHVlTGVuZ3RoID4gc2VsZi5jb25maWcubWF4TGVuZ3RoID8gJ29zYy1mb3JtLWVycm9yJyA6ICcnO1xuXHRcdFx0XHRjb3VudGVyID0gKDxkaXYgY2xhc3NOYW1lPXsnb3NjLWZvcm0tY291bnRlciAnICsgZXJyb3J9PkplIGhlYnQgbm9nIDxzcGFuIGNsYXNzTmFtZT1cIlwiPntzZWxmLmNvbmZpZy5tYXhMZW5ndGggLSBzZWxmLnN0YXRlLnZhbHVlTGVuZ3RofTwvc3Bhbj4gdGVrZW5zIG92ZXIuPC9kaXY+KVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChzZWxmLnN0YXRlLnNob3dXYXJuaW5nICYmIHNlbGYuc3RhdGUud2FybmluZykge1xuXHRcdFx0d2FybmluZyA9ICg8ZGl2IGNsYXNzTmFtZT1cIm9zYy1mb3JtLXdhcm5pbmdcIiByZWY9eyBlbCA9PiB0aGlzWydmb3JtLXdhcm5pbmcnXSA9IGVsICB9PntzZWxmLnN0YXRlLndhcm5pbmd9PC9kaXY+KVxuXHRcdH1cblxuICAgIGxldCBpbnB1dEhUTUwgPSBudWxsO1xuXG4gICAgc3dpdGNoKHNlbGYuY29uZmlnLmlucHV0VHlwZSkge1xuICAgICAgICBcbiAgICAgIGNhc2UgJ2h0bWxhcmVhJzpcbiAgICAgICAgaW5wdXRIVE1MID0gKFxuICAgICAgICAgIDxIVE1MQXJlYVxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudmFsdWV9XG4gICAgICAgICAgICBvbkNoYW5nZT17c2VsZi5oYW5kbGVPbkNoYW5nZX1cbiAgICAgICAgICAgIG9uRm9jdXM9e3NlbGYub25JbnB1dEZvY3VzfVxuICAgICAgICAgICAgb25CbHVyPXtzZWxmLm9uSW5wdXRCbHVyfVxuICAgICAgICAgICAgb25LZXlVcD17c2VsZi5vbklucHV0S2V5VXB9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgICAgLy8gaW5wdXRIVE1MID0gKFxuICAgICAgICAvLyAgIDxDS0VkaXRvclxuICAgICAgICAvLyAgICAgZWRpdG9yPXsgQ2xhc3NpY0VkaXRvciB9XG4gICAgICAgIC8vICAgICBjb25maWc9e3sgdG9vbGJhcjogWyAnaDMnLCAnYm9sZCcsICdpdGFsaWMnLCAnbGluaycgXSB9fVxuICAgICAgICAvLyAgICAgZGF0YT17dGhpcy5zdGF0ZS52YWx1ZX1cbiAgICAgICAgLy8gICAgIG9uSW5pdD17IGVkaXRvciA9PiB7XG4gICAgICAgIC8vICAgICAgIC8vIFRPRE86IGJldGVyZSBzZWxlY3RvclxuICAgICAgICAvLyAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2stY29udGVudCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAvLyAgICAgICAgIHNlbGYub25JbnB1dEtleVVwKGUsIGVkaXRvci5nZXREYXRhKCkpXG4gICAgICAgIC8vICAgICAgIH0pXG4gICAgICAgIC8vICAgICB9fVxuICAgICAgICAvLyAgICAgb25DaGFuZ2U9eyggZXZlbnQsIGVkaXRvciApID0+IHNlbGYuaGFuZGxlT25DaGFuZ2UoeyB2YWx1ZTogZWRpdG9yLmdldERhdGEoKSB9KX1cbiAgICAgICAgLy8gICAgIG9uRm9jdXM9e2UgPT4gc2VsZi5vbklucHV0Rm9jdXMoZSl9XG4gICAgICAgIC8vICAgICBvbkJsdXI9e2UgPT4gc2VsZi5vbklucHV0Qmx1cihlKX1cbiAgICAgICAgLy8gICAvPlxuICAgICAgICAvLyApO1xuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICAgIGlucHV0SFRNTCA9IChcblx0XHRcdFx0ICA8dGV4dGFyZWEga2V5PXtzZWxmLmtleX0gcmVmPXtlbCA9PiAoc2VsZi5pbnB1dCA9IGVsKX0gdmFsdWU9e3RoaXMuc3RhdGUudmFsdWV9IGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfSBwbGFjZWhvbGRlcj17dGhpcy5jb25maWcucGxhY2Vob2xkZXJ9IG9uQ2hhbmdlPXtlID0+IHNlbGYuaGFuZGxlT25DaGFuZ2UoeyB2YWx1ZTogc2VsZi5pbnB1dC52YWx1ZSB9KX0gb25LZXlVcD17ZSA9PiBzZWxmLm9uSW5wdXRLZXlVcCgpfSBvbkZvY3VzPXtlID0+IHNlbGYub25JbnB1dEZvY3VzKGUpfSBvbkJsdXI9e2UgPT4gc2VsZi5vbklucHV0Qmx1cihlKX0+PC90ZXh0YXJlYT5cbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlucHV0SFRNTCA9IChcblx0XHRcdFx0ICA8aW5wdXQga2V5PXtzZWxmLmtleX0gcmVmPXtlbCA9PiAoc2VsZi5pbnB1dCA9IGVsKX0gdmFsdWU9e3RoaXMuc3RhdGUudmFsdWV9IGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfSBwbGFjZWhvbGRlcj17dGhpcy5jb25maWcucGxhY2Vob2xkZXJ9IG9uQ2hhbmdlPXtlID0+IHNlbGYuaGFuZGxlT25DaGFuZ2UoeyB2YWx1ZTogc2VsZi5pbnB1dC52YWx1ZSB9KX0gb25LZXlVcD17ZSA9PiBzZWxmLm9uSW5wdXRLZXlVcCgpfSBvbkZvY3VzPXtlID0+IHNlbGYub25JbnB1dEZvY3VzKGUpfSBvbkJsdXI9e2UgPT4gc2VsZi5vbklucHV0Qmx1cihlKX0+PC9pbnB1dD5cbiAgICAgICAgKTtcblxuICAgIH1cblx0XHRcbiAgICByZXR1cm4gKFxuXHRcdFx0PGRpdiBpZD17c2VsZi5pZH0gcmVmPXtlbCA9PiAoc2VsZi5pbnN0YW5jZSA9IGVsKX0gY2xhc3NOYW1lPVwib3NjLWlucHV0LXdpdGgtY291bnRlclwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cIm9zYy1mb3JtLWZlZWRiYWNrXCI+XG5cdFx0XHRcdFx0e2lucHV0SFRNTH1cblx0XHRcdFx0XHR7Y291bnRlcn1cblx0XHRcdFx0XHR7d2FybmluZ31cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cbiAgICApO1xuXG4gIH1cblxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnREZWZhdWx0SW5wdXQgZnJvbSAnLi9kZWZhdWx0LWlucHV0LmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5TdGFkQ29tcG9uZW50UmFkaW9zIGV4dGVuZHMgT3BlblN0YWRDb21wb25lbnREZWZhdWx0SW5wdXQge1xuXG5cdHJlbmRlcigpIHtcblxuXHRcdGxldCBzZWxmID0gdGhpcztcblxuICAgIGxldCBlcnJvckhUTUwgPSBudWxsO1xuICAgIGlmIChzZWxmLnN0YXRlLmVycm9yKSB7XG4gICAgICBlcnJvckhUTUwgPSAoPGRpdiBjbGFzc05hbWU9XCJvc2MtZm9ybS1lcnJvciBvc2MtZm9ybS1maWVsZC1lcnJvclwiPkplIGhlYnQgbm9nIGdlZW4ga2V1emUgZ2VtYWFrdDwvZGl2PilcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJvc2MtcmFkaW9zXCI+XG4gICAgICAgIHtzZWxmLmNvbmZpZy5jaG9pY2VzLm1hcCggY2hvaWNlID0+IHtcbiAgICAgICAgICBpZiAoY2hvaWNlLmRhbmdlcm91c0Rlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJvc2MtcmFkaW8tY29udGFpbmVyXCIga2V5PXtjaG9pY2UudmFsdWV9PjxkaXYgY2xhc3NOYW1lPXtgb3NjLXJhZGlvLWlucHV0JHsgc2VsZi5zdGF0ZS52YWx1ZSA9PSBjaG9pY2UudmFsdWUgPyAnIG9zYy1yYWRpby1pbnB1dC1jaGVja2VkJyA6ICcnfWB9PjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPXtzZWxmLmRpdklkfSB2YWx1ZT17Y2hvaWNlLnZhbHVlfSBvbkNoYW5nZT17ZSA9PiBzZWxmLmhhbmRsZU9uQ2hhbmdlKHsgdmFsdWU6IGNob2ljZS52YWx1ZSB9KX0gLz48L2Rpdj48ZGl2IGNsYXNzTmFtZT1cIm9zYy1yYWRpby10ZXh0XCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBjaG9pY2UuZGFuZ2Vyb3VzRGVzY3JpcHRpb24gfX0vPjwvZGl2PlxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJvc2MtcmFkaW8tY29udGFpbmVyXCIga2V5PXtjaG9pY2UudmFsdWV9PjxkaXYgY2xhc3NOYW1lPXtgb3NjLXJhZGlvLWlucHV0JHsgc2VsZi5zdGF0ZS52YWx1ZSA9PSBjaG9pY2UudmFsdWUgPyAnIG9zYy1yYWRpby1pbnB1dC1jaGVja2VkJyA6ICcnfWB9PjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPXtzZWxmLmRpdklkfSB2YWx1ZT17Y2hvaWNlLnZhbHVlfSBvbkNoYW5nZT17ZSA9PiBzZWxmLmhhbmRsZU9uQ2hhbmdlKHsgdmFsdWU6IGNob2ljZS52YWx1ZSB9KX0gLz48L2Rpdj48ZGl2IGNsYXNzTmFtZT1cIm9zYy1yYWRpby10ZXh0XCI+e2Nob2ljZS5kYW5nZXJvdXNEZXNjcmlwdGlvbiA/IG51bGwgOiBjaG9pY2UuZGVzY3JpcHRpb24gfHwgY2hvaWNlLnRpdGxlIHx8IGNob2ljZS52YWx1ZX08L2Rpdj48L2Rpdj5cbiAgICAgICAgICB9XG4gICAgICAgIH0pfVxuICAgICAgICB7ZXJyb3JIVE1MfVxuXHRcdCAgPC9kaXY+XG4gICAgKTtcblxuICB9XG5cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50RGVmYXVsdElucHV0IGZyb20gJy4vZGVmYXVsdC1pbnB1dC5qc3gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuU3RhZENvbXBvbmVudFBvc3Rjb2RlIGV4dGVuZHMgT3BlblN0YWRDb21wb25lbnREZWZhdWx0SW5wdXQge1xuXG5cdHZhbGlkYXRlKHsgc2hvd0Vycm9ycyB9KSB7XG5cdFx0bGV0IGlzVmFsaWQgPSB0cnVlO1xuICAgIGxldCBlcnJvciA9ICcnO1xuICAgIGlmICghdGhpcy5zdGF0ZS52YWx1ZSB8fCAhdGhpcy5zdGF0ZS52YWx1ZS5tYXRjaCgvXlxccypcXGR7NH1cXHMqW2EtekEtWl1bYS16QS1aXVxccyokLykpIHtcbiAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgIGlmIChzaG93RXJyb3JzKSBlcnJvciA9ICdEaXQgaXMgZ2VlbiBwb3N0Y29kZSc7XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbmZpZy5yZXF1aXJlZCAmJiAhdGhpcy5zdGF0ZS52YWx1ZSkge1xuICAgICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgaWYgKHNob3dFcnJvcnMpIGVycm9yID0gJ0plIGhlYnQgbm9nIG5pZXRzIGluZ2V2dWxkJztcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzVmFsaWQsIGVycm9yIH0pXG5cblx0XHRyZXR1cm4gaXNWYWxpZDtcblx0fVxuICBcbiAgcmVuZGVyKCkge1xuXG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgbGV0IGVycm9ySFRNTCA9IG51bGw7XG4gICAgaWYgKHNlbGYuc3RhdGUuZXJyb3IpIHtcbiAgICAgIGVycm9ySFRNTCA9ICg8ZGl2IGNsYXNzTmFtZT1cIm9zYy1mb3JtLWVycm9yIG9zYy1mb3JtLWZpZWxkLWVycm9yXCI+e3NlbGYuc3RhdGUuZXJyb3J9PC9kaXY+KVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJvc2MtdGV4dGlucHV0XCI+XG5cdFx0XHQgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPXt0aGlzLnN0YXRlLnZhbHVlfSBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH0gcGxhY2Vob2xkZXI9e3RoaXMuY29uZmlnLnBsYWNlaG9sZGVyfSBvbkNoYW5nZT17ZSA9PiBzZWxmLmhhbmRsZU9uQ2hhbmdlKHsgdmFsdWU6IHNlbGYuaW5wdXQudmFsdWUgfSl9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9Lz5cbiAgICAgICAge2Vycm9ySFRNTH1cblx0XHQgIDwvZGl2PlxuICAgICk7XG5cbiAgfVxuXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudERlZmF1bHRJbnB1dCBmcm9tICcuL2RlZmF1bHQtaW5wdXQuanN4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlblN0YWRDb21wb25lbnRTZWxlY3QgZXh0ZW5kcyBPcGVuU3RhZENvbXBvbmVudERlZmF1bHRJbnB1dCB7XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgLy8gaW5pdCB2YWx1ZVxuICAgIGxldCB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWUgfHwgKCB0aGlzLmNvbmZpZy5jaG9pY2VzWzBdICYmIHRoaXMuY29uZmlnLmNob2ljZXNbMF0udmFsdWUgKTtcbiAgICB0aGlzLmhhbmRsZU9uQ2hhbmdlKHsgdmFsdWUgfSlcbiAgfVxuXG5cdHJlbmRlcigpIHtcblxuXHRcdGxldCBzZWxmID0gdGhpcztcblxuICAgIGxldCBlcnJvckhUTUwgPSBudWxsO1xuICAgIGlmIChzZWxmLnN0YXRlLmVycm9yKSB7XG4gICAgICBlcnJvckhUTUwgPSAoPGRpdiBjbGFzc05hbWU9XCJvc2MtZm9ybS1lcnJvciBvc2MtZm9ybS1maWVsZC1lcnJvclwiPkplIGhlYnQgbm9nIGdlZW4ga2V1emUgZ2VtYWFrdDwvZGl2PilcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJvc2Mtc2VsZWN0XCI+XG5cdFx0XHQgIDxzZWxlY3QgdmFsdWU9e3RoaXMuc3RhdGUudmFsdWUgfHwgJyd9IGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfSBwbGFjZWhvbGRlcj17dGhpcy5jb25maWcucGxhY2Vob2xkZXJ9IG9uQ2hhbmdlPXtlID0+IHNlbGYuaGFuZGxlT25DaGFuZ2UoeyB2YWx1ZTogc2VsZi5pbnB1dC52YWx1ZSB9KX0gcmVmPXtlbCA9PiAoc2VsZi5pbnB1dCA9IGVsKX0+XG4gICAgICAgICAge3NlbGYuY29uZmlnLmNob2ljZXMubWFwKCAoY2hvaWNlLCBpKSA9PiB7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IGNob2ljZS5kZXNjcmlwdGlvbiB8fCBjaG9pY2UudGl0bGUgfHwgY2hvaWNlLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIDxvcHRpb24gdmFsdWU9e2Nob2ljZS52YWx1ZSB8fCAnJ30ga2V5PXtgJHt0ZXh0fS0ke2Nob2ljZS52YWx1ZX0tJHtpfWB9Pnt0ZXh0fTwvb3B0aW9uPlxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAge2Vycm9ySFRNTH1cblx0XHQgIDwvZGl2PlxuICAgICk7XG5cbiAgfVxuXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudERlZmF1bHRJbnB1dCBmcm9tICcuL2RlZmF1bHQtaW5wdXQuanN4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlblN0YWRDb21wb25lbnRUZXh0IGV4dGVuZHMgT3BlblN0YWRDb21wb25lbnREZWZhdWx0SW5wdXQge1xuXG5cdHJlbmRlcigpIHtcblxuXHRcdGxldCBzZWxmID0gdGhpcztcblxuICAgIGxldCBlcnJvckhUTUwgPSBudWxsO1xuICAgIGlmIChzZWxmLnN0YXRlLmVycm9yKSB7XG4gICAgICBlcnJvckhUTUwgPSAoPGRpdiBjbGFzc05hbWU9XCJvc2MtZm9ybS1lcnJvciBvc2MtZm9ybS1maWVsZC1lcnJvclwiPkplIGhlYnQgbm9nIG5pZXRzIGluZ2V2dWxkPC9kaXY+KVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJvc2MtdGV4dGlucHV0XCI+XG5cdFx0XHQgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHZhbHVlPXt0aGlzLnN0YXRlLnZhbHVlfSBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH0gcGxhY2Vob2xkZXI9e3RoaXMuY29uZmlnLnBsYWNlaG9sZGVyfSBvbkNoYW5nZT17ZSA9PiBzZWxmLmhhbmRsZU9uQ2hhbmdlKHsgdmFsdWU6IHNlbGYuaW5wdXQudmFsdWUgfSl9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9Lz5cbiAgICAgICAge2Vycm9ySFRNTH1cblx0XHQgIDwvZGl2PlxuICAgICk7XG5cbiAgfVxuXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudERlZmF1bHRJbnB1dCBmcm9tICcuL2RlZmF1bHQtaW5wdXQuanN4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlblN0YWRDb21wb25lbnRUZXh0QXJlYSBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50RGVmYXVsdElucHV0IHtcblxuXHRyZW5kZXIoKSB7XG5cblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBsZXQgZXJyb3JIVE1MID0gbnVsbDtcbiAgICBpZiAoc2VsZi5zdGF0ZS5lcnJvcikge1xuICAgICAgZXJyb3JIVE1MID0gKDxkaXYgY2xhc3NOYW1lPVwib3NjLWZvcm0tZXJyb3Igb3NjLWZvcm0tZmllbGQtZXJyb3JcIj5KZSBoZWJ0IG5vZyBuaWV0cyBpbmdldnVsZDwvZGl2PilcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwib3NjLXRleHRhcmVhXCI+XG5cdFx0XHQgIDx0ZXh0YXJlYSB2YWx1ZT17dGhpcy5zdGF0ZS52YWx1ZX0gZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9IHBsYWNlaG9sZGVyPXt0aGlzLmNvbmZpZy5wbGFjZWhvbGRlcn0gb25DaGFuZ2U9e2UgPT4gc2VsZi5oYW5kbGVPbkNoYW5nZSh7IHZhbHVlOiBzZWxmLmlucHV0LnZhbHVlIH0pfSByZWY9e2VsID0+IChzZWxmLmlucHV0ID0gZWwpfT57dGhpcy5zdGF0ZS52YWx1ZX08L3RleHRhcmVhPlxuICAgICAgICB7ZXJyb3JIVE1MfVxuXHRcdCAgPC9kaXY+XG4gICAgKTtcblxuICB9XG5cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvbXBvbmVudC9pbmRleC5qc3gnO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRIaWRkZW4gZnJvbSAnLi9oaWRkZW4uanN4JztcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudEltYWdlVXBsb2FkIGZyb20gJy4vaW1hZ2UtdXBsb2FkLmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRJbnB1dFdpdGhDb3VudGVyIGZyb20gJy4vaW5wdXQtd2l0aC1jb3VudGVyLmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRSYWRpb3MgZnJvbSAnLi9yYWRpb3MuanN4JztcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudFBvc3Rjb2RlIGZyb20gJy4vcG9zdGNvZGUuanN4JztcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudFNlbGVjdCBmcm9tICcuL3NlbGVjdC5qc3gnO1xuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50VGV4dCBmcm9tICcuL3RleHRpbnB1dC5qc3gnO1xuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50VGV4dEFyZWEgZnJvbSAnLi90ZXh0YXJlYS5qc3gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuU3RhZENvbXBvbmVudEZvcm1GaWVsZCBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuXG4gICAgc3VwZXIocHJvcHMsIHtcbiAgICAgIGlucHV0VHlwZTogbnVsbCxcblxuICAgICAgdmFsaWRhdGVBY3Rpb246IG51bGwsXG4gICAgICBjaGFuZ2VBY3Rpb246IG51bGwsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG5cbiAgICAgIHRpdGxlOiBudWxsLFxuICAgICAgZGVzY3JpcHRpb246IG51bGwsXG4gICAgICBjaG9pY2VzOiBbXSxcblx0XHR9KTtcblxuXHRcdGxldCBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuY29uZmlnLm5hbWUgPSBzZWxmLmNvbmZpZy5uYW1lIHx8IHNlbGYuY29uZmlnLnRpdGxlLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBzZWxmLnN0YXRlID0ge1xuICAgICAgdmFsdWU6IHByb3BzLmluaXRWYWx1ZSB8fCB1bmRlZmluZWQsXG5cdFx0fTtcblxuICAgIHNlbGYuaGFuZGxlT25DaGFuZ2UgPSBzZWxmLmhhbmRsZU9uQ2hhbmdlLmJpbmQoc2VsZik7XG5cbiAgICBzZWxmLm9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2U7XG5cbiAgfVxuICBcblx0dmFsaWRhdGUoeyBzaG93RXJyb3JzIH0pIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dCA/IHRoaXMuaW5wdXQudmFsaWRhdGUoeyBzaG93RXJyb3JzIH0pIDogdHJ1ZTtcblx0fVxuXG5cdGhhbmRsZU9uQ2hhbmdlKGRhdGEpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhcImZvcm0gZmllbGQgY2hhbmdlXCIsIGRhdGEpO1xuXHRcdGlmICh0eXBlb2YgdGhpcy5vbkNoYW5nZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHR0aGlzLm9uQ2hhbmdlKGRhdGEpO1xuXHRcdH1cblx0fVxuXG5cdHJlbmRlcigpIHtcblxuXHRcdGxldCBzZWxmID0gdGhpcztcblxuICAgIGxldCB0aXRsZUhUTUwgPSBudWxsO1xuICAgIGlmIChzZWxmLmNvbmZpZy50aXRsZSkge1xuICAgICAgdGl0bGVIVE1MID0gPGgzIGNsYXNzTmFtZT1cIm9zYy1mb3JtLXRpdGxlXCI+e3NlbGYuY29uZmlnLnRpdGxlfTwvaDM+XG4gICAgfVxuXG4gICAgbGV0IGRlc2NyaXB0aW9uSFRNTCA9IG51bGw7XG4gICAgaWYgKHNlbGYuY29uZmlnLmRlc2NyaXB0aW9uKSB7XG4gICAgICBkZXNjcmlwdGlvbkhUTUwgPSA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1mb3JtLWRlc2NyaXB0aW9uXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBzZWxmLmNvbmZpZy5kZXNjcmlwdGlvbiB9fT48L2Rpdj5cbiAgICB9XG5cbiAgICBsZXQgZmllbGRIVE1MID0gbnVsbDtcblxuICAgIHN3aXRjaCAoc2VsZi5jb25maWcuaW5wdXRUeXBlKSB7XG5cbiAgICAgIGNhc2UgJ2hpZGRlbic6XG4gICAgICAgIGZpZWxkSFRNTCA9IDxPcGVuU3RhZENvbXBvbmVudEhpZGRlbiBjb25maWc9e3NlbGYuY29uZmlnfSB2YWx1ZT17IHRoaXMuc3RhdGUudmFsdWUgfSBvbkNoYW5nZT17c2VsZi5oYW5kbGVPbkNoYW5nZX0gcmVmPXtlbCA9PiAoc2VsZi5pbnB1dCA9IGVsKX0vPlxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnaHRtbC13aXRoLWNvdW50ZXInOlxuICAgICAgY2FzZSAnaHRtbGFyZWEtd2l0aC1jb3VudGVyJzpcbiAgICAgICAgZmllbGRIVE1MID0gPE9wZW5TdGFkQ29tcG9uZW50SW5wdXRXaXRoQ291bnRlciBjb25maWc9e3sgLi4uc2VsZi5jb25maWcsIGlucHV0VHlwZTogJ2h0bWxhcmVhJyB9fSB2YWx1ZT17IHRoaXMuc3RhdGUudmFsdWUgfSBvbkNoYW5nZT17c2VsZi5oYW5kbGVPbkNoYW5nZX0gcmVmPXtlbCA9PiAoc2VsZi5pbnB1dCA9IGVsKX0vPlxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnaW1hZ2UtdXBsb2FkJzpcbiAgICAgICAgZmllbGRIVE1MID0gPE9wZW5TdGFkQ29tcG9uZW50SW1hZ2VVcGxvYWQgY29uZmlnPXtzZWxmLmNvbmZpZ30gdmFsdWU9eyB0aGlzLnN0YXRlLnZhbHVlIH0gb25DaGFuZ2U9e3NlbGYuaGFuZGxlT25DaGFuZ2V9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9Lz5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2lucHV0LXdpdGgtY291bnRlcic6XG4gICAgICBjYXNlICd0ZXh0LXdpdGgtY291bnRlcic6XG4gICAgICAgIGZpZWxkSFRNTCA9IDxPcGVuU3RhZENvbXBvbmVudElucHV0V2l0aENvdW50ZXIgY29uZmlnPXt7IGlucHV0VHlwZTogJ2lucHV0JywgLi4uc2VsZi5jb25maWcgfX0gdmFsdWU9eyB0aGlzLnN0YXRlLnZhbHVlIH0gb25DaGFuZ2U9e3NlbGYuaGFuZGxlT25DaGFuZ2V9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9Lz5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3Bvc3Rjb2RlJzpcbiAgICAgICAgZmllbGRIVE1MID0gPE9wZW5TdGFkQ29tcG9uZW50UG9zdGNvZGUgY29uZmlnPXtzZWxmLmNvbmZpZ30gdmFsdWU9eyB0aGlzLnN0YXRlLnZhbHVlIH0gb25DaGFuZ2U9e3NlbGYuaGFuZGxlT25DaGFuZ2V9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9Lz5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3JhZGlvcyc6XG4gICAgICAgIGZpZWxkSFRNTCA9IDxPcGVuU3RhZENvbXBvbmVudFJhZGlvcyBjb25maWc9e3NlbGYuY29uZmlnfSB2YWx1ZT17IHRoaXMuc3RhdGUudmFsdWUgfSBvbkNoYW5nZT17c2VsZi5oYW5kbGVPbkNoYW5nZX0gcmVmPXtlbCA9PiAoc2VsZi5pbnB1dCA9IGVsKX0vPlxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIGNhc2UgJ211bHRpcGxlLWNob2ljZSc6XG4gICAgICAgIGZpZWxkSFRNTCA9IDxPcGVuU3RhZENvbXBvbmVudFNlbGVjdCBjb25maWc9e3NlbGYuY29uZmlnfSB2YWx1ZT17IHRoaXMuc3RhdGUudmFsdWUgfSBvbkNoYW5nZT17c2VsZi5oYW5kbGVPbkNoYW5nZX0gcmVmPXtlbCA9PiAoc2VsZi5pbnB1dCA9IGVsKX0vPlxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgIGZpZWxkSFRNTCA9IDxPcGVuU3RhZENvbXBvbmVudFRleHQgY29uZmlnPXtzZWxmLmNvbmZpZ30gdmFsdWU9eyB0aGlzLnN0YXRlLnZhbHVlIH0gb25DaGFuZ2U9e3NlbGYuaGFuZGxlT25DaGFuZ2V9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9Lz5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgZmllbGRIVE1MID0gPE9wZW5TdGFkQ29tcG9uZW50VGV4dEFyZWEgY29uZmlnPXtzZWxmLmNvbmZpZ30gdmFsdWU9eyB0aGlzLnN0YXRlLnZhbHVlIH0gb25DaGFuZ2U9e3NlbGYuaGFuZGxlT25DaGFuZ2V9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9Lz5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3RleHRhcmVhLXdpdGgtY291bnRlcic6XG4gICAgICAgIGZpZWxkSFRNTCA9IDxPcGVuU3RhZENvbXBvbmVudElucHV0V2l0aENvdW50ZXIgY29uZmlnPXt7IC4uLnNlbGYuY29uZmlnLCBpbnB1dFR5cGU6ICd0ZXh0YXJlYScgfX0gdmFsdWU9eyB0aGlzLnN0YXRlLnZhbHVlIH0gb25DaGFuZ2U9e3NlbGYuaGFuZGxlT25DaGFuZ2V9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9Lz5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUubG9nKCdGb3JtIGZpZWxkICcgKyBzZWxmLmNvbmZpZy5pbnB1dFR5cGUgKyAnbm90IHlldCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiAoXG5cdFx0XHQ8ZGl2IGlkPXtzZWxmLmlkfSByZWY9e2VsID0+IChzZWxmLmluc3RhbmNlID0gZWwpfSBjbGFzc05hbWU9XCJvc2MtZm9ybS1maWVsZFwiPlxuXHRcdFx0XHR7dGl0bGVIVE1MfVxuXHRcdFx0XHR7ZGVzY3JpcHRpb25IVE1MfVxuXHRcdFx0XHR7ZmllbGRIVE1MfVxuXHRcdFx0PC9kaXY+XG4gICAgKTtcblxuICB9XG5cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvbXBvbmVudC9pbmRleC5qc3gnO1xuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50TGlicyBmcm9tICcuLi8uLi9saWJzL2luZGV4LmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRGb3JtRmllbGQgZnJvbSAnLi9mb3JtLWZpZWxkLmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5TdGFkQ29tcG9uZW50Rm9ybSBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuXG4gICAgc3VwZXIocHJvcHMsIHtcbiAgICAgIHRpdGxlOiBudWxsLFxuICAgICAgaW50cm86IG51bGwsXG4gICAgICBmaWVsZHM6IFtdLFxuXHRcdH0pO1xuXG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgbGV0IGluaXRWYWx1ZXMgPSBwcm9wcy52YWx1ZXM7XG4gICAgaWYgKCAhaW5pdFZhbHVlcyAmJiBzZWxmLmNvbmZpZy5maWVsZHMgJiYgc2VsZi5jb25maWcuZmllbGRzLmxlbmd0aCkge1xuICAgICAgaW5pdFZhbHVlcyA9IHt9O1xuICAgICAgc2VsZi5jb25maWcuZmllbGRzLm1hcCgoZmllbGRDb25maWcsIGkpID0+IHtcbiAgICAgICAgbGV0IG5hbWUgPSBmaWVsZENvbmZpZy5uYW1lIHx8IGZpZWxkQ29uZmlnLnRpdGxlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGluaXRWYWx1ZXNbbmFtZV0gPSBmaWVsZENvbmZpZy52YWx1ZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICBzZWxmLnN0YXRlID0ge1xuICAgICAgdmFsdWVzOiBpbml0VmFsdWVzIHx8IHt9LFxuXHRcdH07XG5cbiAgICBzZWxmLmhhbmRsZU9uQ2hhbmdlID0gc2VsZi5oYW5kbGVPbkNoYW5nZS5iaW5kKHRoaXMpO1xuXG4gICAgc2VsZi5maWVsZHMgPSBbXTtcblxuICB9XG4gIFxuXG4gIGdldFZhbHVlcygpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS52YWx1ZXM7XG5cdH1cblxuXHR2YWxpZGF0ZSh7IHNob3dFcnJvcnMsIHNjcm9sbFRvIH0pIHtcbiAgICBsZXQgc2VsZj0gdGhpcztcbiAgICBsZXQgaXNWYWxpZCA9IHRydWU7XG4gICAgbGV0IGZpcnN0SW52YWxpZCA9IG51bGxcbiAgICBzZWxmLmZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgICAgaWYgKCFmaWVsZC52YWxpZGF0ZSh7IHNob3dFcnJvcnMgfSkpIHsgXG4gICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFmaXJzdEludmFsaWQpIGZpcnN0SW52YWxpZCA9IGZpZWxkO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHNjcm9sbFRvICYmIGZpcnN0SW52YWxpZCAmJiBmaXJzdEludmFsaWQuaW5zdGFuY2UgJiYgZmlyc3RJbnZhbGlkLmluc3RhbmNlLnNjcm9sbEludG9WaWV3KSBmaXJzdEludmFsaWQuaW5zdGFuY2Uuc2Nyb2xsSW50b1ZpZXcoe2JlaGF2aW9yOiAnc21vb3RoJ30pO1xuICAgIHJldHVybiBpc1ZhbGlkOyAgICBcblxuXHR9XG5cblx0aGFuZGxlT25DaGFuZ2UoZGF0YSkge1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBsZXQgdmFsdWVzID0geyAuLi50aGlzLnN0YXRlLnZhbHVlcyB9O1xuICAgIHZhbHVlc1tkYXRhLm5hbWVdID0gZGF0YS52YWx1ZTtcblx0XHR0aGlzLnNldFN0YXRlKHsgdmFsdWVzIH0sICgpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5vbkNoYW5nZSA9PSAnZnVuY3Rpb24nKSB0aGlzLnByb3BzLm9uQ2hhbmdlKGRhdGEpXG4gICAgfSk7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBsZXQgdGl0bGVIVE1MID0gbnVsbDtcbiAgICBpZiAoc2VsZi5jb25maWcudGl0bGUpIHtcbiAgICAgIHRpdGxlSFRNTCA9IDxoMiBjbGFzc05hbWU9XCJvc2MtZm9ybS10aXRsZVwiPntzZWxmLmNvbmZpZy50aXRsZX08L2gyPlxuICAgIH1cblxuICAgIGxldCBpbnRyb0hUTUwgPSBudWxsO1xuICAgIGlmIChzZWxmLmNvbmZpZy5pbnRybykge1xuICAgICAgaW50cm9IVE1MID0gPGRpdiBjbGFzc05hbWU9XCJvc2MtZm9ybS1pbnRyb1wiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogc2VsZi5jb25maWcuaW50cm8gfX0+PC9kaXY+XG4gICAgfVxuXG4gICAgbGV0IGZpZWxkc0hUTUwgPSBudWxsO1xuICAgIGlmIChzZWxmLmNvbmZpZy5maWVsZHMgJiYgc2VsZi5jb25maWcuZmllbGRzLmxlbmd0aCkge1xuICAgICAgZmllbGRzSFRNTCA9XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLWZvcm0tZmllbGRzXCI+XG4gICAgICAgICAgeyBzZWxmLmNvbmZpZy5maWVsZHMubWFwKChmaWVsZENvbmZpZywgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxPcGVuU3RhZENvbXBvbmVudEZvcm1GaWVsZCBjb25maWc9e2ZpZWxkQ29uZmlnfSBpbml0VmFsdWU9e2ZpZWxkQ29uZmlnLnZhbHVlfSBvbkNoYW5nZT17c2VsZi5oYW5kbGVPbkNoYW5nZX0gcmVmPXtlbCA9PiAoc2VsZi5pbnB1dCA9IGVsKX0ga2V5PXtgb3NjLWZvcm0tZmllbGQtJHtpfWB9IHJlZj17ZWwgPT4geyBzZWxmLmZpZWxkc1tpXSA9IGVsOyB9fS8+XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgIH1cblxuICAgIHJldHVybiAoXG5cdFx0XHQ8ZGl2IGlkPXtzZWxmLmRpdklkfSBjbGFzc05hbWU9XCJvc2MtZm9ybVwiIHJlZj17ZWwgPT4gKHNlbGYuaW5zdGFuY2UgPSBlbCl9PlxuXHRcdFx0XHR7dGl0bGVIVE1MfVxuXHRcdFx0XHR7aW50cm9IVE1MfVxuXHRcdFx0XHR7ZmllbGRzSFRNTH1cblx0XHRcdDwvZGl2PlxuICAgICk7XG5cbiAgfVxuXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudCBmcm9tICcuLi8uLi9jb21wb25lbnQvaW5kZXguanN4JztcblxuY2xhc3MgU2xpZGVyIGV4dGVuZHMgT3BlblN0YWRDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcyl7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHZhbHVlOiB0aGlzLnByb3BzLnZhbHVlLFxuICAgICAgdG91Y2hlZDogdGhpcy5wcm9wcy50b3VjaGVkIHx8IGZhbHNlLFxuICAgIH1cbiAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcylcbiAgfVxuXG4gIGhhbmRsZUNoYW5nZShldmVudCkge1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGV2ZW50LnRhcmdldFxuXG4gICAgaWYodHlwZW9mIHRoaXMucHJvcHMub25DaGFuZ2UgPT09ICdmdW5jdGlvbicpe1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSlcbiAgICB9XG4gICAgXG4gICAgdGhpcy5zZXRTdGF0ZSh7dmFsdWUsIHRvdWNoZWQ6IHRydWV9KVxuICB9XG5cbiAgZG9Ub3VjaCgpIHtcblxuICAgIGlmKHR5cGVvZiB0aGlzLnByb3BzLm9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKXtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoNTApXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7dG91Y2hlZDogdHJ1ZX0pXG5cbiAgfVxuXG4gIGNhbGNQcm9ncmVzcyhtaW4sIG1heCwgdmFsdWUpIHtcbiAgICBjb25zdCByYW5nZSA9IG1heCAtIG1pblxuICAgIGNvbnN0IHByb2dJblJhbmdlID0gdmFsdWUgLSBtaW5cbiAgICByZXR1cm4gKChwcm9nSW5SYW5nZSoyKS9yYW5nZSktMVxuICB9XG5cbiAgcmVuZGVyKCl7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHsgdmFsdWUsIHRvdWNoZWQgfSA9IHNlbGYuc3RhdGVcbiAgICBjb25zdCB7IG1pbiwgbWF4LCBzdGVwIH0gPSBzZWxmLnByb3BzXG4gICAgcmV0dXJuKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3NlbGYucHJvcHMuY2xhc3NOYW1lfSBvc2Mtc2xpZGVyYH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLXNsaWRlci10cmFjay1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1zbGlkZXItdHJhY2tcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1zbGlkZXItdHJhY2stcHJvZ3Jlc3MtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1zbGlkZXItdHJhY2stcHJvZ3Jlc3NcIiBzdHlsZT17eyB0cmFuc2Zvcm06ICdzY2FsZVgoJyArIHNlbGYuY2FsY1Byb2dyZXNzKG1pbiwgbWF4LCB2YWx1ZSkgKyAnKScgfX0+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2Mtc2xpZGVyLXRyYWNrLWRvdC1lbmQgb3NjLXNsaWRlci10cmFjay1kb3QtbGVmdFwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLXNsaWRlci10cmFjay1kb3Qtc3RhcnQgb3NjLXNsaWRlci10cmFjay1kb3QtY2VudGVyXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2Mtc2xpZGVyLXRyYWNrLWRvdC1lbmQgb3NjLXNsaWRlci10cmFjay1kb3QtcmlnaHRcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxpbnB1dCB0eXBlPSdyYW5nZScgbWluPXttaW59IG1heD17bWF4fSBzdGVwPXtzdGVwfSB2YWx1ZT17dmFsdWV9IG9uQ2xpY2s9eygpID0+IHsgaWYgKCF0b3VjaGVkKSBzZWxmLmRvVG91Y2goKTsgfSB9IG9uQ2hhbmdlPXtzZWxmLmhhbmRsZUNoYW5nZX0gY2xhc3NOYW1lPXt0b3VjaGVkID8gJ29zYy1zbGlkZXItaW5wdXQtcmFuZ2UnIDogJ29zYy1zbGlkZXItaW5wdXQtcmFuZ2Ugb3NjLXNsaWRlci11bnRvdWNoZWQnfSByZWY9e2VsID0+IChzZWxmLmlucHV0ID0gZWwpfS8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2xpZGVyO1xuIiwiLy8gcG9seWZpbGxzXG4vL2ltcG9ydCAnY29yZS1qcy9lcy9tYXAnO1xuLy9pbXBvcnQgJ2NvcmUtanMvZXMvc2V0JztcbmltcG9ydCAnd2hhdHdnLWZldGNoJztcblxuLy8gcmVhY3RcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuLy8gaW1wb3J0IGNzcyB0byBtYWtlIHN1cmUgaXQgaXMgZ2VuZXJhdGVkIGluIHRoZSByZXN1bHRcbmltcG9ydCAnLi9jc3MvZGVmYXVsdC5sZXNzJztcblxuLy8gdGhlIG1vZHVsZVxuaW1wb3J0IEZvcm0gZnJvbSAnLi9jb21wb25lbnQvZm9ybS5qc3gnO1xuaW1wb3J0IEZvcm1GaWVsZCBmcm9tICcuL2NvbXBvbmVudC9mb3JtLWZpZWxkLmpzeCc7XG5pbXBvcnQgSGlkZGVuIGZyb20gJy4vY29tcG9uZW50L2hpZGRlbi5qc3gnO1xuaW1wb3J0IEltYWdlVXBsb2FkIGZyb20gJy4vY29tcG9uZW50L2ltYWdlLXVwbG9hZC5qc3gnO1xuaW1wb3J0IElucHV0V2l0aENvdW50ZXIgZnJvbSAnLi9jb21wb25lbnQvaW5wdXQtd2l0aC1jb3VudGVyLmpzeCc7XG5pbXBvcnQgUG9zdGNvZGUgZnJvbSAnLi9jb21wb25lbnQvcG9zdGNvZGUuanN4JztcbmltcG9ydCBSYWRpb3MgZnJvbSAnLi9jb21wb25lbnQvcmFkaW9zLmpzeCc7XG5pbXBvcnQgU2VsZWN0IGZyb20gJy4vY29tcG9uZW50L3NlbGVjdC5qc3gnO1xuaW1wb3J0IFRleHQgZnJvbSAnLi9jb21wb25lbnQvdGV4dGlucHV0LmpzeCc7XG5pbXBvcnQgVGV4dGFyZWEgZnJvbSAnLi9jb21wb25lbnQvdGV4dGFyZWEuanN4JztcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9jb21wb25lbnQvc2xpZGVyLmpzeCc7XG5leHBvcnQgZGVmYXVsdCB7XG4gIEZvcm0sXG4gIEZvcm1GaWVsZCxcbiAgSGlkZGVuLFxuICBJbWFnZVVwbG9hZCxcbiAgSW5wdXRXaXRoQ291bnRlcixcbiAgUG9zdGNvZGUsXG4gIFJhZGlvcyxcbiAgU2VsZWN0LFxuICBUZXh0LFxuICBUZXh0YXJlYSxcbiAgU2xpZGVyLFxufVxuXG4vLyByZW5kZXIgdGhlIGJhc2UgZWxlbWVudFxuLy8gZnVuY3Rpb24gcmVuZGVyRWxlbWVudCggZWxlbSwgY29uZmlnICkge1xuLy8gICBsZXQgYXR0cmlidXRlcyA9IGVsZW0uYXR0cmlidXRlcztcbi8vICAgUmVhY3RET00ucmVuZGVyKCA8T3BlblN0YWRDb21wb25lbnRSZWFjdGlvbnMgYXR0cmlidXRlcz17YXR0cmlidXRlc30gY29uZmlnPXtjb25maWd9Lz4sIGVsZW0pXG4vLyB9XG4vLyBleHBvcnQge3JlbmRlckVsZW1lbnR9XG5cbiIsIihmdW5jdGlvbigpIHsgbW9kdWxlLmV4cG9ydHMgPSB3aW5kb3dbXCJSZWFjdERPTVwiXTsgfSgpKTsiLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcblxuLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAxLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KVsxXSAhPSA3O1xufSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCdlczYtcHJvbWlzZScpLlByb21pc2U7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcbiIsInZhciBzdXBwb3J0ID0ge1xuICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG4gIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICBibG9iOlxuICAgICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmXG4gICAgJ0Jsb2InIGluIHNlbGYgJiZcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgQmxvYigpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcbn1cblxuZnVuY3Rpb24gaXNEYXRhVmlldyhvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvYmopXG59XG5cbmlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICBdXG5cbiAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID1cbiAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgfHxcbiAgICBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gIH1cbiAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgfVxuICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gIH1cbiAgcmV0dXJuIHZhbHVlXG59XG5cbi8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG5mdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvclxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpdGVyYXRvclxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gIHRoaXMubWFwID0ge31cblxuICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgIH0sIHRoaXMpXG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgIHRoaXMuYXBwZW5kKGhlYWRlclswXSwgaGVhZGVyWzFdKVxuICAgIH0sIHRoaXMpXG4gIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICB9LCB0aGlzKVxuICB9XG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gIHZhciBvbGRWYWx1ZSA9IHRoaXMubWFwW25hbWVdXG4gIHRoaXMubWFwW25hbWVdID0gb2xkVmFsdWUgPyBvbGRWYWx1ZSArICcsICcgKyB2YWx1ZSA6IHZhbHVlXG59XG5cbkhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICBmb3IgKHZhciBuYW1lIGluIHRoaXMubWFwKSB7XG4gICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKVxuICAgIH1cbiAgfVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgIGl0ZW1zLnB1c2gobmFtZSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaXRlbXMucHVzaCh2YWx1ZSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgIGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5pZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllc1xufVxuXG5mdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICB9XG4gIGJvZHkuYm9keVVzZWQgPSB0cnVlXG59XG5cbmZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICB9XG4gICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZilcbiAgdmFyIGNoYXJzID0gbmV3IEFycmF5KHZpZXcubGVuZ3RoKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKVxuICB9XG4gIHJldHVybiBjaGFycy5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgaWYgKGJ1Zi5zbGljZSkge1xuICAgIHJldHVybiBidWYuc2xpY2UoMClcbiAgfSBlbHNlIHtcbiAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKVxuICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZikpXG4gICAgcmV0dXJuIHZpZXcuYnVmZmVyXG4gIH1cbn1cblxuZnVuY3Rpb24gQm9keSgpIHtcbiAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cbiAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG4gICAgaWYgKCFib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG4gICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JylcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBjb25zdW1lZCh0aGlzKSB8fCBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFkQXJyYXlCdWZmZXJBc1RleHQodGhpcy5fYm9keUFycmF5QnVmZmVyKSlcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuICAgIH1cbiAgfVxuXG4gIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcbnZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICByZXR1cm4gbWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEgPyB1cGNhc2VkIDogbWV0aG9kXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cbiAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICB9XG4gICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgdGhpcy5zaWduYWwgPSBpbnB1dC5zaWduYWxcbiAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgfVxuXG4gIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ3NhbWUtb3JpZ2luJ1xuICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gIH1cbiAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICB0aGlzLnNpZ25hbCA9IG9wdGlvbnMuc2lnbmFsIHx8IHRoaXMuc2lnbmFsXG4gIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cbiAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgfVxuICB0aGlzLl9pbml0Qm9keShib2R5KVxufVxuXG5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywge2JvZHk6IHRoaXMuX2JvZHlJbml0fSlcbn1cblxuZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICBib2R5XG4gICAgLnRyaW0oKVxuICAgIC5zcGxpdCgnJicpXG4gICAgLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gIHJldHVybiBmb3JtXG59XG5cbmZ1bmN0aW9uIHBhcnNlSGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuICAvLyBSZXBsYWNlIGluc3RhbmNlcyBvZiBcXHJcXG4gYW5kIFxcbiBmb2xsb3dlZCBieSBhdCBsZWFzdCBvbmUgc3BhY2Ugb3IgaG9yaXpvbnRhbCB0YWIgd2l0aCBhIHNwYWNlXG4gIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMwI3NlY3Rpb24tMy4yXG4gIHZhciBwcmVQcm9jZXNzZWRIZWFkZXJzID0gcmF3SGVhZGVycy5yZXBsYWNlKC9cXHI/XFxuW1xcdCBdKy9nLCAnICcpXG4gIHByZVByb2Nlc3NlZEhlYWRlcnMuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6JylcbiAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICBpZiAoa2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpXG4gICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGhlYWRlcnNcbn1cblxuQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXG5leHBvcnQgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9XG4gIH1cblxuICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1cyA9PT0gdW5kZWZpbmVkID8gMjAwIDogb3B0aW9ucy5zdGF0dXNcbiAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICdPSydcbiAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxufVxuXG5Cb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG5SZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgdXJsOiB0aGlzLnVybFxuICB9KVxufVxuXG5SZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICByZXR1cm4gcmVzcG9uc2Vcbn1cblxudmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cblJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxufVxuXG5leHBvcnQgdmFyIERPTUV4Y2VwdGlvbiA9IHNlbGYuRE9NRXhjZXB0aW9uXG50cnkge1xuICBuZXcgRE9NRXhjZXB0aW9uKClcbn0gY2F0Y2ggKGVycikge1xuICBET01FeGNlcHRpb24gPSBmdW5jdGlvbihtZXNzYWdlLCBuYW1lKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZVxuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB2YXIgZXJyb3IgPSBFcnJvcihtZXNzYWdlKVxuICAgIHRoaXMuc3RhY2sgPSBlcnJvci5zdGFja1xuICB9XG4gIERPTUV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSlcbiAgRE9NRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERPTUV4Y2VwdGlvblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2goaW5wdXQsIGluaXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG5cbiAgICBpZiAocmVxdWVzdC5zaWduYWwgJiYgcmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICB9XG5cbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgIGZ1bmN0aW9uIGFib3J0WGhyKCkge1xuICAgICAgeGhyLmFib3J0KClcbiAgICB9XG5cbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJylcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJylcbiAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG4gICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICB9XG5cbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICB9XG5cbiAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgIH1cblxuICAgIHhoci5vbmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QobmV3IERPTUV4Y2VwdGlvbignQWJvcnRlZCcsICdBYm9ydEVycm9yJykpXG4gICAgfVxuXG4gICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICB9IGVsc2UgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdvbWl0Jykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICB9XG5cbiAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgfSlcblxuICAgIGlmIChyZXF1ZXN0LnNpZ25hbCkge1xuICAgICAgcmVxdWVzdC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydFhocilcblxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBET05FIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgIHJlcXVlc3Quc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICB9KVxufVxuXG5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcblxuaWYgKCFzZWxmLmZldGNoKSB7XG4gIHNlbGYuZmV0Y2ggPSBmZXRjaFxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG59XG4iLCJ2YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gREVTQ1JJUFRPUlMgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKG9iamVjdCwga2V5LCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaWU4LWRvbS1kZWZpbmUnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1wcmltaXRpdmUnKTtcblxudmFyIG5hdGl2ZURlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG4vLyBgT2JqZWN0LmRlZmluZVByb3BlcnR5YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0eVxuZXhwb3J0cy5mID0gREVTQ1JJUFRPUlMgPyBuYXRpdmVEZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gbmF0aXZlRGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcykgdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCcpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkge1xuICAgIHRocm93IFR5cGVFcnJvcihTdHJpbmcoaXQpICsgJyBpcyBub3QgYW4gb2JqZWN0Jyk7XG4gIH0gcmV0dXJuIGl0O1xufTtcbiIsIi8vIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbmRleGVkLW9iamVjdCcpO1xudmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBJbmRleGVkT2JqZWN0KHJlcXVpcmVPYmplY3RDb2VyY2libGUoaXQpKTtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICB0cnkge1xuICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShnbG9iYWwsIGtleSwgdmFsdWUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGdsb2JhbFtrZXldID0gdmFsdWU7XG4gIH0gcmV0dXJuIHZhbHVlO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge307XG4iLCIvLyBJRTgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gW1xuICAnY29uc3RydWN0b3InLFxuICAnaGFzT3duUHJvcGVydHknLFxuICAnaXNQcm90b3R5cGVPZicsXG4gICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsXG4gICd0b0xvY2FsZVN0cmluZycsXG4gICd0b1N0cmluZycsXG4gICd2YWx1ZU9mJ1xuXTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1wcm9wZXJ0eS1pcy1lbnVtZXJhYmxlJyk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tcHJpbWl0aXZlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcycpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2llOC1kb20tZGVmaW5lJyk7XG5cbnZhciBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG4vLyBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yXG5leHBvcnRzLmYgPSBERVNDUklQVE9SUyA/IG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvciA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0luZGV4ZWRPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKGhhcyhPLCBQKSkgcmV0dXJuIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcighcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChiaXRtYXAsIHZhbHVlKSB7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZTogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGU6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWU6IHZhbHVlXG4gIH07XG59O1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xuXG4vLyBgVG9QcmltaXRpdmVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9wcmltaXRpdmVcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5wdXQsIFBSRUZFUlJFRF9TVFJJTkcpIHtcbiAgaWYgKCFpc09iamVjdChpbnB1dCkpIHJldHVybiBpbnB1dDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmIChQUkVGRVJSRURfU1RSSU5HICYmIHR5cGVvZiAoZm4gPSBpbnB1dC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpbnB1dCkpKSByZXR1cm4gdmFsO1xuICBpZiAodHlwZW9mIChmbiA9IGlucHV0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaW5wdXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKCFQUkVGRVJSRURfU1RSSU5HICYmIHR5cGVvZiAoZm4gPSBpbnB1dC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpbnB1dCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBjcmVhdGVFbGVtZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvY3VtZW50LWNyZWF0ZS1lbGVtZW50Jyk7XG5cbi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIURFU0NSSVBUT1JTICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3JlYXRlRWxlbWVudCgnZGl2JyksICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfVxuICB9KS5hICE9IDc7XG59KTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG5cbnZhciBkb2N1bWVudCA9IGdsb2JhbC5kb2N1bWVudDtcbi8vIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnIGluIG9sZCBJRVxudmFyIEVYSVNUUyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIEVYSVNUUyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuIiwidmFyIHN0b3JlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1zdG9yZScpO1xuXG52YXIgZnVuY3Rpb25Ub1N0cmluZyA9IEZ1bmN0aW9uLnRvU3RyaW5nO1xuXG4vLyB0aGlzIGhlbHBlciBicm9rZW4gaW4gYDMuNC4xLTMuNC40YCwgc28gd2UgY2FuJ3QgdXNlIGBzaGFyZWRgIGhlbHBlclxuaWYgKHR5cGVvZiBzdG9yZS5pbnNwZWN0U291cmNlICE9ICdmdW5jdGlvbicpIHtcbiAgc3RvcmUuaW5zcGVjdFNvdXJjZSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBmdW5jdGlvblRvU3RyaW5nLmNhbGwoaXQpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0b3JlLmluc3BlY3RTb3VyY2U7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIHNldEdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zZXQtZ2xvYmFsJyk7XG5cbnZhciBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJztcbnZhciBzdG9yZSA9IGdsb2JhbFtTSEFSRURdIHx8IHNldEdsb2JhbChTSEFSRUQsIHt9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdG9yZTtcbiIsInZhciBzaGFyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3VpZCcpO1xuXG52YXIga2V5cyA9IHNoYXJlZCgna2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIGtleXNba2V5XSB8fCAoa2V5c1trZXldID0gdWlkKGtleSkpO1xufTtcbiIsInZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBzdG9yZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQtc3RvcmUnKTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG59KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG4gIHZlcnNpb246ICczLjYuNScsXG4gIG1vZGU6IElTX1BVUkUgPyAncHVyZScgOiAnZ2xvYmFsJyxcbiAgY29weXJpZ2h0OiAnwqkgMjAyMCBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSdcbn0pO1xuIiwidmFyIGlkID0gMDtcbnZhciBwb3N0Zml4ID0gTWF0aC5yYW5kb20oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcgKyBTdHJpbmcoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSkgKyAnKV8nICsgKCsraWQgKyBwb3N0Zml4KS50b1N0cmluZygzNik7XG59O1xuIiwidmFyIHBhdGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcGF0aCcpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcblxudmFyIGFGdW5jdGlvbiA9IGZ1bmN0aW9uICh2YXJpYWJsZSkge1xuICByZXR1cm4gdHlwZW9mIHZhcmlhYmxlID09ICdmdW5jdGlvbicgPyB2YXJpYWJsZSA6IHVuZGVmaW5lZDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWVzcGFjZSwgbWV0aG9kKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGFGdW5jdGlvbihwYXRoW25hbWVzcGFjZV0pIHx8IGFGdW5jdGlvbihnbG9iYWxbbmFtZXNwYWNlXSlcbiAgICA6IHBhdGhbbmFtZXNwYWNlXSAmJiBwYXRoW25hbWVzcGFjZV1bbWV0aG9kXSB8fCBnbG9iYWxbbmFtZXNwYWNlXSAmJiBnbG9iYWxbbmFtZXNwYWNlXVttZXRob2RdO1xufTtcbiIsInZhciBoYXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzJyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgaW5kZXhPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1pbmNsdWRlcycpLmluZGV4T2Y7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oaWRkZW4ta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JbmRleGVkT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSAhaGFzKGhpZGRlbktleXMsIGtleSkgJiYgaGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5pbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwidmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWxlbmd0aCcpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1hYnNvbHV0ZS1pbmRleCcpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnsgaW5kZXhPZiwgaW5jbHVkZXMgfWAgbWV0aG9kcyBpbXBsZW1lbnRhdGlvblxudmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChJU19JTkNMVURFUykge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBlbCwgZnJvbUluZGV4KSB7XG4gICAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3QoJHRoaXMpO1xuICAgIHZhciBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgdmFyIGluZGV4ID0gdG9BYnNvbHV0ZUluZGV4KGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICBpZiAoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpIHdoaWxlIChsZW5ndGggPiBpbmRleCkge1xuICAgICAgdmFsdWUgPSBPW2luZGV4KytdO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICBpZiAoKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pICYmIE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuaW5jbHVkZXNcbiAgaW5jbHVkZXM6IGNyZWF0ZU1ldGhvZCh0cnVlKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5pbmRleE9mYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluZGV4b2ZcbiAgaW5kZXhPZjogY3JlYXRlTWV0aG9kKGZhbHNlKVxufTtcbiIsInZhciBjZWlsID0gTWF0aC5jZWlsO1xudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxuLy8gYFRvSW50ZWdlcmAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b2ludGVnZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHJldHVybiBpc05hTihhcmd1bWVudCA9ICthcmd1bWVudCkgPyAwIDogKGFyZ3VtZW50ID4gMCA/IGZsb29yIDogY2VpbCkoYXJndW1lbnQpO1xufTtcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAmJiAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBDaHJvbWUgMzggU3ltYm9sIGhhcyBpbmNvcnJlY3QgdG9TdHJpbmcgY29udmVyc2lvblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgcmV0dXJuICFTdHJpbmcoU3ltYm9sKCkpO1xufSk7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJykuZjtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVkZWZpbmUnKTtcbnZhciBzZXRHbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2V0LWdsb2JhbCcpO1xudmFyIGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY29weS1jb25zdHJ1Y3Rvci1wcm9wZXJ0aWVzJyk7XG52YXIgaXNGb3JjZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtZm9yY2VkJyk7XG5cbi8qXG4gIG9wdGlvbnMudGFyZ2V0ICAgICAgLSBuYW1lIG9mIHRoZSB0YXJnZXQgb2JqZWN0XG4gIG9wdGlvbnMuZ2xvYmFsICAgICAgLSB0YXJnZXQgaXMgdGhlIGdsb2JhbCBvYmplY3RcbiAgb3B0aW9ucy5zdGF0ICAgICAgICAtIGV4cG9ydCBhcyBzdGF0aWMgbWV0aG9kcyBvZiB0YXJnZXRcbiAgb3B0aW9ucy5wcm90byAgICAgICAtIGV4cG9ydCBhcyBwcm90b3R5cGUgbWV0aG9kcyBvZiB0YXJnZXRcbiAgb3B0aW9ucy5yZWFsICAgICAgICAtIHJlYWwgcHJvdG90eXBlIG1ldGhvZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gIG9wdGlvbnMuZm9yY2VkICAgICAgLSBleHBvcnQgZXZlbiBpZiB0aGUgbmF0aXZlIGZlYXR1cmUgaXMgYXZhaWxhYmxlXG4gIG9wdGlvbnMuYmluZCAgICAgICAgLSBiaW5kIG1ldGhvZHMgdG8gdGhlIHRhcmdldCwgcmVxdWlyZWQgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICBvcHRpb25zLndyYXAgICAgICAgIC0gd3JhcCBjb25zdHJ1Y3RvcnMgdG8gcHJldmVudGluZyBnbG9iYWwgcG9sbHV0aW9uLCByZXF1aXJlZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gIG9wdGlvbnMudW5zYWZlICAgICAgLSB1c2UgdGhlIHNpbXBsZSBhc3NpZ25tZW50IG9mIHByb3BlcnR5IGluc3RlYWQgb2YgZGVsZXRlICsgZGVmaW5lUHJvcGVydHlcbiAgb3B0aW9ucy5zaGFtICAgICAgICAtIGFkZCBhIGZsYWcgdG8gbm90IGNvbXBsZXRlbHkgZnVsbCBwb2x5ZmlsbHNcbiAgb3B0aW9ucy5lbnVtZXJhYmxlICAtIGV4cG9ydCBhcyBlbnVtZXJhYmxlIHByb3BlcnR5XG4gIG9wdGlvbnMubm9UYXJnZXRHZXQgLSBwcmV2ZW50IGNhbGxpbmcgYSBnZXR0ZXIgb24gdGFyZ2V0XG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3B0aW9ucywgc291cmNlKSB7XG4gIHZhciBUQVJHRVQgPSBvcHRpb25zLnRhcmdldDtcbiAgdmFyIEdMT0JBTCA9IG9wdGlvbnMuZ2xvYmFsO1xuICB2YXIgU1RBVElDID0gb3B0aW9ucy5zdGF0O1xuICB2YXIgRk9SQ0VELCB0YXJnZXQsIGtleSwgdGFyZ2V0UHJvcGVydHksIHNvdXJjZVByb3BlcnR5LCBkZXNjcmlwdG9yO1xuICBpZiAoR0xPQkFMKSB7XG4gICAgdGFyZ2V0ID0gZ2xvYmFsO1xuICB9IGVsc2UgaWYgKFNUQVRJQykge1xuICAgIHRhcmdldCA9IGdsb2JhbFtUQVJHRVRdIHx8IHNldEdsb2JhbChUQVJHRVQsIHt9KTtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQgPSAoZ2xvYmFsW1RBUkdFVF0gfHwge30pLnByb3RvdHlwZTtcbiAgfVxuICBpZiAodGFyZ2V0KSBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICBzb3VyY2VQcm9wZXJ0eSA9IHNvdXJjZVtrZXldO1xuICAgIGlmIChvcHRpb25zLm5vVGFyZ2V0R2V0KSB7XG4gICAgICBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KTtcbiAgICAgIHRhcmdldFByb3BlcnR5ID0gZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLnZhbHVlO1xuICAgIH0gZWxzZSB0YXJnZXRQcm9wZXJ0eSA9IHRhcmdldFtrZXldO1xuICAgIEZPUkNFRCA9IGlzRm9yY2VkKEdMT0JBTCA/IGtleSA6IFRBUkdFVCArIChTVEFUSUMgPyAnLicgOiAnIycpICsga2V5LCBvcHRpb25zLmZvcmNlZCk7XG4gICAgLy8gY29udGFpbmVkIGluIHRhcmdldFxuICAgIGlmICghRk9SQ0VEICYmIHRhcmdldFByb3BlcnR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0eXBlb2Ygc291cmNlUHJvcGVydHkgPT09IHR5cGVvZiB0YXJnZXRQcm9wZXJ0eSkgY29udGludWU7XG4gICAgICBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzKHNvdXJjZVByb3BlcnR5LCB0YXJnZXRQcm9wZXJ0eSk7XG4gICAgfVxuICAgIC8vIGFkZCBhIGZsYWcgdG8gbm90IGNvbXBsZXRlbHkgZnVsbCBwb2x5ZmlsbHNcbiAgICBpZiAob3B0aW9ucy5zaGFtIHx8ICh0YXJnZXRQcm9wZXJ0eSAmJiB0YXJnZXRQcm9wZXJ0eS5zaGFtKSkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHNvdXJjZVByb3BlcnR5LCAnc2hhbScsIHRydWUpO1xuICAgIH1cbiAgICAvLyBleHRlbmQgZ2xvYmFsXG4gICAgcmVkZWZpbmUodGFyZ2V0LCBrZXksIHNvdXJjZVByb3BlcnR5LCBvcHRpb25zKTtcbiAgfVxufTtcbiIsInZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZScpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKTtcblxudmFyIFVOU0NPUEFCTEVTID0gd2VsbEtub3duU3ltYm9sKCd1bnNjb3BhYmxlcycpO1xudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG4vLyBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS1AQHVuc2NvcGFibGVzXG5pZiAoQXJyYXlQcm90b3R5cGVbVU5TQ09QQUJMRVNdID09IHVuZGVmaW5lZCkge1xuICBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKEFycmF5UHJvdG90eXBlLCBVTlNDT1BBQkxFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogY3JlYXRlKG51bGwpXG4gIH0pO1xufVxuXG4vLyBhZGQgYSBrZXkgdG8gQXJyYXkucHJvdG90eXBlW0BAdW5zY29wYWJsZXNdXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgQXJyYXlQcm90b3R5cGVbVU5TQ09QQUJMRVNdW2tleV0gPSB0cnVlO1xufTtcbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcycpO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgY2FjaGUgPSB7fTtcblxudmFyIHRocm93ZXIgPSBmdW5jdGlvbiAoaXQpIHsgdGhyb3cgaXQ7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FLCBvcHRpb25zKSB7XG4gIGlmIChoYXMoY2FjaGUsIE1FVEhPRF9OQU1FKSkgcmV0dXJuIGNhY2hlW01FVEhPRF9OQU1FXTtcbiAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge307XG4gIHZhciBtZXRob2QgPSBbXVtNRVRIT0RfTkFNRV07XG4gIHZhciBBQ0NFU1NPUlMgPSBoYXMob3B0aW9ucywgJ0FDQ0VTU09SUycpID8gb3B0aW9ucy5BQ0NFU1NPUlMgOiBmYWxzZTtcbiAgdmFyIGFyZ3VtZW50MCA9IGhhcyhvcHRpb25zLCAwKSA/IG9wdGlvbnNbMF0gOiB0aHJvd2VyO1xuICB2YXIgYXJndW1lbnQxID0gaGFzKG9wdGlvbnMsIDEpID8gb3B0aW9uc1sxXSA6IHVuZGVmaW5lZDtcblxuICByZXR1cm4gY2FjaGVbTUVUSE9EX05BTUVdID0gISFtZXRob2QgJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoQUNDRVNTT1JTICYmICFERVNDUklQVE9SUykgcmV0dXJuIHRydWU7XG4gICAgdmFyIE8gPSB7IGxlbmd0aDogLTEgfTtcblxuICAgIGlmIChBQ0NFU1NPUlMpIGRlZmluZVByb3BlcnR5KE8sIDEsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiB0aHJvd2VyIH0pO1xuICAgIGVsc2UgT1sxXSA9IDE7XG5cbiAgICBtZXRob2QuY2FsbChPLCBhcmd1bWVudDAsIGFyZ3VtZW50MSk7XG4gIH0pO1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTtcblxudmFyIGNhbGwgPSBGdW5jdGlvbi5jYWxsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDT05TVFJVQ1RPUiwgTUVUSE9ELCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJpbmQoY2FsbCwgZ2xvYmFsW0NPTlNUUlVDVE9SXS5wcm90b3R5cGVbTUVUSE9EXSwgbGVuZ3RoKTtcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG5cbnZhciBzcGxpdCA9ICcnLnNwbGl0O1xuXG4vLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xubW9kdWxlLmV4cG9ydHMgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIHRocm93cyBhbiBlcnJvciBpbiByaGlubywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3JoaW5vL2lzc3Vlcy8zNDZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICByZXR1cm4gIU9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApO1xufSkgPyBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGNsYXNzb2YoaXQpID09ICdTdHJpbmcnID8gc3BsaXQuY2FsbChpdCwgJycpIDogT2JqZWN0KGl0KTtcbn0gOiBPYmplY3Q7XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG4iLCIvLyBgUmVxdWlyZU9iamVjdENvZXJjaWJsZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1yZXF1aXJlb2JqZWN0Y29lcmNpYmxlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgPT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW50ZWdlcicpO1xuXG52YXIgbWluID0gTWF0aC5taW47XG5cbi8vIGBUb0xlbmd0aGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b2xlbmd0aFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuIGFyZ3VtZW50ID4gMCA/IG1pbih0b0ludGVnZXIoYXJndW1lbnQpLCAweDFGRkZGRkZGRkZGRkZGKSA6IDA7IC8vIDIgKiogNTMgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07XG4iLCJ2YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtZnVuY3Rpb24nKTtcblxuLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0KTtcbiAgICB9O1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiAoLyogLi4uYXJncyAqLykge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZCcpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdWlkJyk7XG52YXIgTkFUSVZFX1NZTUJPTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uYXRpdmUtc3ltYm9sJyk7XG52YXIgVVNFX1NZTUJPTF9BU19VSUQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdXNlLXN5bWJvbC1hcy11aWQnKTtcblxudmFyIFdlbGxLbm93blN5bWJvbHNTdG9yZSA9IHNoYXJlZCgnd2tzJyk7XG52YXIgU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcbnZhciBjcmVhdGVXZWxsS25vd25TeW1ib2wgPSBVU0VfU1lNQk9MX0FTX1VJRCA/IFN5bWJvbCA6IFN5bWJvbCAmJiBTeW1ib2wud2l0aG91dFNldHRlciB8fCB1aWQ7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgaWYgKCFoYXMoV2VsbEtub3duU3ltYm9sc1N0b3JlLCBuYW1lKSkge1xuICAgIGlmIChOQVRJVkVfU1lNQk9MICYmIGhhcyhTeW1ib2wsIG5hbWUpKSBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPSBTeW1ib2xbbmFtZV07XG4gICAgZWxzZSBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPSBjcmVhdGVXZWxsS25vd25TeW1ib2woJ1N5bWJvbC4nICsgbmFtZSk7XG4gIH0gcmV0dXJuIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXTtcbn07XG4iLCIvKiFcbiAqIEBvdmVydmlldyBlczYtcHJvbWlzZSAtIGEgdGlueSBpbXBsZW1lbnRhdGlvbiBvZiBQcm9taXNlcy9BKy5cbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE0IFllaHVkYSBLYXR6LCBUb20gRGFsZSwgU3RlZmFuIFBlbm5lciBhbmQgY29udHJpYnV0b3JzIChDb252ZXJzaW9uIHRvIEVTNiBBUEkgYnkgSmFrZSBBcmNoaWJhbGQpXG4gKiBAbGljZW5zZSAgIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlXG4gKiAgICAgICAgICAgIFNlZSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vc3RlZmFucGVubmVyL2VzNi1wcm9taXNlL21hc3Rlci9MSUNFTlNFXG4gKiBAdmVyc2lvbiAgIDMuMy4xXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICAoZ2xvYmFsLkVTNlByb21pc2UgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIG9iamVjdE9yRnVuY3Rpb24oeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG5cbnZhciBfaXNBcnJheSA9IHVuZGVmaW5lZDtcbmlmICghQXJyYXkuaXNBcnJheSkge1xuICBfaXNBcnJheSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcbn0gZWxzZSB7XG4gIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbn1cblxudmFyIGlzQXJyYXkgPSBfaXNBcnJheTtcblxudmFyIGxlbiA9IDA7XG52YXIgdmVydHhOZXh0ID0gdW5kZWZpbmVkO1xudmFyIGN1c3RvbVNjaGVkdWxlckZuID0gdW5kZWZpbmVkO1xuXG52YXIgYXNhcCA9IGZ1bmN0aW9uIGFzYXAoY2FsbGJhY2ssIGFyZykge1xuICBxdWV1ZVtsZW5dID0gY2FsbGJhY2s7XG4gIHF1ZXVlW2xlbiArIDFdID0gYXJnO1xuICBsZW4gKz0gMjtcbiAgaWYgKGxlbiA9PT0gMikge1xuICAgIC8vIElmIGxlbiBpcyAyLCB0aGF0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byBzY2hlZHVsZSBhbiBhc3luYyBmbHVzaC5cbiAgICAvLyBJZiBhZGRpdGlvbmFsIGNhbGxiYWNrcyBhcmUgcXVldWVkIGJlZm9yZSB0aGUgcXVldWUgaXMgZmx1c2hlZCwgdGhleVxuICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICBpZiAoY3VzdG9tU2NoZWR1bGVyRm4pIHtcbiAgICAgIGN1c3RvbVNjaGVkdWxlckZuKGZsdXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NoZWR1bGVGbHVzaCgpO1xuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgY3VzdG9tU2NoZWR1bGVyRm4gPSBzY2hlZHVsZUZuO1xufVxuXG5mdW5jdGlvbiBzZXRBc2FwKGFzYXBGbikge1xuICBhc2FwID0gYXNhcEZuO1xufVxuXG52YXIgYnJvd3NlcldpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdW5kZWZpbmVkO1xudmFyIGJyb3dzZXJHbG9iYWwgPSBicm93c2VyV2luZG93IHx8IHt9O1xudmFyIEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyID0gYnJvd3Nlckdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGJyb3dzZXJHbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbnZhciBpc05vZGUgPSB0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICh7fSkudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4vLyB0ZXN0IGZvciB3ZWIgd29ya2VyIGJ1dCBub3QgaW4gSUUxMFxudmFyIGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuLy8gbm9kZVxuZnVuY3Rpb24gdXNlTmV4dFRpY2soKSB7XG4gIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2N1am9qcy93aGVuL2lzc3Vlcy80MTAgZm9yIGRldGFpbHNcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gIH07XG59XG5cbi8vIHZlcnR4XG5mdW5jdGlvbiB1c2VWZXJ0eFRpbWVyKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZlcnR4TmV4dChmbHVzaCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZU11dGF0aW9uT2JzZXJ2ZXIoKSB7XG4gIHZhciBpdGVyYXRpb25zID0gMDtcbiAgdmFyIG9ic2VydmVyID0gbmV3IEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGZsdXNoKTtcbiAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gIG9ic2VydmVyLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgbm9kZS5kYXRhID0gaXRlcmF0aW9ucyA9ICsraXRlcmF0aW9ucyAlIDI7XG4gIH07XG59XG5cbi8vIHdlYiB3b3JrZXJcbmZ1bmN0aW9uIHVzZU1lc3NhZ2VDaGFubmVsKCkge1xuICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZsdXNoO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VTZXRUaW1lb3V0KCkge1xuICAvLyBTdG9yZSBzZXRUaW1lb3V0IHJlZmVyZW5jZSBzbyBlczYtcHJvbWlzZSB3aWxsIGJlIHVuYWZmZWN0ZWQgYnlcbiAgLy8gb3RoZXIgY29kZSBtb2RpZnlpbmcgc2V0VGltZW91dCAobGlrZSBzaW5vbi51c2VGYWtlVGltZXJzKCkpXG4gIHZhciBnbG9iYWxTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZ2xvYmFsU2V0VGltZW91dChmbHVzaCwgMSk7XG4gIH07XG59XG5cbnZhciBxdWV1ZSA9IG5ldyBBcnJheSgxMDAwKTtcbmZ1bmN0aW9uIGZsdXNoKCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gcXVldWVbaV07XG4gICAgdmFyIGFyZyA9IHF1ZXVlW2kgKyAxXTtcblxuICAgIGNhbGxiYWNrKGFyZyk7XG5cbiAgICBxdWV1ZVtpXSA9IHVuZGVmaW5lZDtcbiAgICBxdWV1ZVtpICsgMV0gPSB1bmRlZmluZWQ7XG4gIH1cblxuICBsZW4gPSAwO1xufVxuXG5mdW5jdGlvbiBhdHRlbXB0VmVydHgoKSB7XG4gIHRyeSB7XG4gICAgdmFyIHIgPSByZXF1aXJlO1xuICAgIHZhciB2ZXJ0eCA9IHIoJ3ZlcnR4Jyk7XG4gICAgdmVydHhOZXh0ID0gdmVydHgucnVuT25Mb29wIHx8IHZlcnR4LnJ1bk9uQ29udGV4dDtcbiAgICByZXR1cm4gdXNlVmVydHhUaW1lcigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHVzZVNldFRpbWVvdXQoKTtcbiAgfVxufVxuXG52YXIgc2NoZWR1bGVGbHVzaCA9IHVuZGVmaW5lZDtcbi8vIERlY2lkZSB3aGF0IGFzeW5jIG1ldGhvZCB0byB1c2UgdG8gdHJpZ2dlcmluZyBwcm9jZXNzaW5nIG9mIHF1ZXVlZCBjYWxsYmFja3M6XG5pZiAoaXNOb2RlKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VOZXh0VGljaygpO1xufSBlbHNlIGlmIChCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlTXV0YXRpb25PYnNlcnZlcigpO1xufSBlbHNlIGlmIChpc1dvcmtlcikge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlTWVzc2FnZUNoYW5uZWwoKTtcbn0gZWxzZSBpZiAoYnJvd3NlcldpbmRvdyA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSBhdHRlbXB0VmVydHgoKTtcbn0gZWxzZSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VTZXRUaW1lb3V0KCk7XG59XG5cbmZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHM7XG5cbiAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaWYgKGNoaWxkW1BST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICBtYWtlUHJvbWlzZShjaGlsZCk7XG4gIH1cblxuICB2YXIgX3N0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuICBpZiAoX3N0YXRlKSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IF9hcmd1bWVudHNbX3N0YXRlIC0gMV07XG4gICAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGludm9rZUNhbGxiYWNrKF9zdGF0ZSwgY2hpbGQsIGNhbGxiYWNrLCBwYXJlbnQuX3Jlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9KSgpO1xuICB9IGVsc2Uge1xuICAgIHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbik7XG4gIH1cblxuICByZXR1cm4gY2hpbGQ7XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yZXNvbHZlYCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIHJlc29sdmVkIHdpdGggdGhlXG4gIHBhc3NlZCBgdmFsdWVgLiBJdCBpcyBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVzb2x2ZSgxKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgSW5zdGVhZCBvZiB3cml0aW5nIHRoZSBhYm92ZSwgeW91ciBjb2RlIG5vdyBzaW1wbHkgYmVjb21lcyB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoMSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZXNvbHZlXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBbnl9IHZhbHVlIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCB3aXRoXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgZnVsZmlsbGVkIHdpdGggdGhlIGdpdmVuXG4gIGB2YWx1ZWBcbiovXG5mdW5jdGlvbiByZXNvbHZlKG9iamVjdCkge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcbiAgX3Jlc29sdmUocHJvbWlzZSwgb2JqZWN0KTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbnZhciBQUk9NSVNFX0lEID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDE2KTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBQRU5ESU5HID0gdm9pZCAwO1xudmFyIEZVTEZJTExFRCA9IDE7XG52YXIgUkVKRUNURUQgPSAyO1xuXG52YXIgR0VUX1RIRU5fRVJST1IgPSBuZXcgRXJyb3JPYmplY3QoKTtcblxuZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG59XG5cbmZ1bmN0aW9uIGNhbm5vdFJldHVybk93bigpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbn1cblxuZnVuY3Rpb24gZ2V0VGhlbihwcm9taXNlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBHRVRfVEhFTl9FUlJPUi5lcnJvciA9IGVycm9yO1xuICAgIHJldHVybiBHRVRfVEhFTl9FUlJPUjtcbiAgfVxufVxuXG5mdW5jdGlvbiB0cnlUaGVuKHRoZW4sIHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpIHtcbiAgdHJ5IHtcbiAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUsIHRoZW4pIHtcbiAgYXNhcChmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgIHZhciBzZWFsZWQgPSBmYWxzZTtcbiAgICB2YXIgZXJyb3IgPSB0cnlUaGVuKHRoZW4sIHRoZW5hYmxlLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChzZWFsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIGlmICh0aGVuYWJsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgX3Jlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICBfcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSwgJ1NldHRsZTogJyArIChwcm9taXNlLl9sYWJlbCB8fCAnIHVua25vd24gcHJvbWlzZScpKTtcblxuICAgIGlmICghc2VhbGVkICYmIGVycm9yKSB7XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgX3JlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfVxuICB9LCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHtcbiAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgX3JlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gX3Jlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJldHVybiBfcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQpIHtcbiAgaWYgKG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IgPT09IHByb21pc2UuY29uc3RydWN0b3IgJiYgdGhlbiQkID09PSB0aGVuICYmIG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IucmVzb2x2ZSA9PT0gcmVzb2x2ZSkge1xuICAgIGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICB9IGVsc2Uge1xuICAgIGlmICh0aGVuJCQgPT09IEdFVF9USEVOX0VSUk9SKSB7XG4gICAgICBfcmVqZWN0KHByb21pc2UsIEdFVF9USEVOX0VSUk9SLmVycm9yKTtcbiAgICB9IGVsc2UgaWYgKHRoZW4kJCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGVuJCQpKSB7XG4gICAgICBoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbiQkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gX3Jlc29sdmUocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgX3JlamVjdChwcm9taXNlLCBzZWxmRnVsZmlsbG1lbnQoKSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlLCBnZXRUaGVuKHZhbHVlKSk7XG4gIH0gZWxzZSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaFJlamVjdGlvbihwcm9taXNlKSB7XG4gIGlmIChwcm9taXNlLl9vbmVycm9yKSB7XG4gICAgcHJvbWlzZS5fb25lcnJvcihwcm9taXNlLl9yZXN1bHQpO1xuICB9XG5cbiAgcHVibGlzaChwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gZnVsZmlsbChwcm9taXNlLCB2YWx1ZSkge1xuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcm9taXNlLl9yZXN1bHQgPSB2YWx1ZTtcbiAgcHJvbWlzZS5fc3RhdGUgPSBGVUxGSUxMRUQ7XG5cbiAgaWYgKHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCAhPT0gMCkge1xuICAgIGFzYXAocHVibGlzaCwgcHJvbWlzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX3JlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG4gIHBhcmVudC5fb25lcnJvciA9IG51bGw7XG5cbiAgX3N1YnNjcmliZXJzW2xlbmd0aF0gPSBjaGlsZDtcbiAgX3N1YnNjcmliZXJzW2xlbmd0aCArIEZVTEZJTExFRF0gPSBvbkZ1bGZpbGxtZW50O1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgUkVKRUNURURdID0gb25SZWplY3Rpb247XG5cbiAgaWYgKGxlbmd0aCA9PT0gMCAmJiBwYXJlbnQuX3N0YXRlKSB7XG4gICAgYXNhcChwdWJsaXNoLCBwYXJlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2gocHJvbWlzZSkge1xuICB2YXIgc3Vic2NyaWJlcnMgPSBwcm9taXNlLl9zdWJzY3JpYmVycztcbiAgdmFyIHNldHRsZWQgPSBwcm9taXNlLl9zdGF0ZTtcblxuICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNoaWxkID0gdW5kZWZpbmVkLFxuICAgICAgY2FsbGJhY2sgPSB1bmRlZmluZWQsXG4gICAgICBkZXRhaWwgPSBwcm9taXNlLl9yZXN1bHQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgIGNoaWxkID0gc3Vic2NyaWJlcnNbaV07XG4gICAgY2FsbGJhY2sgPSBzdWJzY3JpYmVyc1tpICsgc2V0dGxlZF07XG5cbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIGNoaWxkLCBjYWxsYmFjaywgZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soZGV0YWlsKTtcbiAgICB9XG4gIH1cblxuICBwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggPSAwO1xufVxuXG5mdW5jdGlvbiBFcnJvck9iamVjdCgpIHtcbiAgdGhpcy5lcnJvciA9IG51bGw7XG59XG5cbnZhciBUUllfQ0FUQ0hfRVJST1IgPSBuZXcgRXJyb3JPYmplY3QoKTtcblxuZnVuY3Rpb24gdHJ5Q2F0Y2goY2FsbGJhY2ssIGRldGFpbCkge1xuICB0cnkge1xuICAgIHJldHVybiBjYWxsYmFjayhkZXRhaWwpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgVFJZX0NBVENIX0VSUk9SLmVycm9yID0gZTtcbiAgICByZXR1cm4gVFJZX0NBVENIX0VSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdmFyIGhhc0NhbGxiYWNrID0gaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICB2YWx1ZSA9IHVuZGVmaW5lZCxcbiAgICAgIGVycm9yID0gdW5kZWZpbmVkLFxuICAgICAgc3VjY2VlZGVkID0gdW5kZWZpbmVkLFxuICAgICAgZmFpbGVkID0gdW5kZWZpbmVkO1xuXG4gIGlmIChoYXNDYWxsYmFjaykge1xuICAgIHZhbHVlID0gdHJ5Q2F0Y2goY2FsbGJhY2ssIGRldGFpbCk7XG5cbiAgICBpZiAodmFsdWUgPT09IFRSWV9DQVRDSF9FUlJPUikge1xuICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgIGVycm9yID0gdmFsdWUuZXJyb3I7XG4gICAgICB2YWx1ZSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1Y2NlZWRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICBfcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIC8vIG5vb3BcbiAgfSBlbHNlIGlmIChoYXNDYWxsYmFjayAmJiBzdWNjZWVkZWQpIHtcbiAgICAgIF9yZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGZhaWxlZCkge1xuICAgICAgX3JlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBGVUxGSUxMRUQpIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICAgIF9yZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaW5pdGlhbGl6ZVByb21pc2UocHJvbWlzZSwgcmVzb2x2ZXIpIHtcbiAgdHJ5IHtcbiAgICByZXNvbHZlcihmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSkge1xuICAgICAgX3Jlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICBfcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBfcmVqZWN0KHByb21pc2UsIGUpO1xuICB9XG59XG5cbnZhciBpZCA9IDA7XG5mdW5jdGlvbiBuZXh0SWQoKSB7XG4gIHJldHVybiBpZCsrO1xufVxuXG5mdW5jdGlvbiBtYWtlUHJvbWlzZShwcm9taXNlKSB7XG4gIHByb21pc2VbUFJPTUlTRV9JRF0gPSBpZCsrO1xuICBwcm9taXNlLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fcmVzdWx0ID0gdW5kZWZpbmVkO1xuICBwcm9taXNlLl9zdWJzY3JpYmVycyA9IFtdO1xufVxuXG5mdW5jdGlvbiBFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yID0gQ29uc3RydWN0b3I7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcblxuICBpZiAoIXRoaXMucHJvbWlzZVtQUk9NSVNFX0lEXSkge1xuICAgIG1ha2VQcm9taXNlKHRoaXMucHJvbWlzZSk7XG4gIH1cblxuICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgIHRoaXMuX3JlbWFpbmluZyA9IGlucHV0Lmxlbmd0aDtcblxuICAgIHRoaXMuX3Jlc3VsdCA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG5cbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICB0aGlzLl9lbnVtZXJhdGUoKTtcbiAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIF9yZWplY3QodGhpcy5wcm9taXNlLCB2YWxpZGF0aW9uRXJyb3IoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn07XG5cbkVudW1lcmF0b3IucHJvdG90eXBlLl9lbnVtZXJhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aDtcbiAgdmFyIF9pbnB1dCA9IHRoaXMuX2lucHV0O1xuXG4gIGZvciAodmFyIGkgPSAwOyB0aGlzLl9zdGF0ZSA9PT0gUEVORElORyAmJiBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB0aGlzLl9lYWNoRW50cnkoX2lucHV0W2ldLCBpKTtcbiAgfVxufTtcblxuRW51bWVyYXRvci5wcm90b3R5cGUuX2VhY2hFbnRyeSA9IGZ1bmN0aW9uIChlbnRyeSwgaSkge1xuICB2YXIgYyA9IHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3I7XG4gIHZhciByZXNvbHZlJCQgPSBjLnJlc29sdmU7XG5cbiAgaWYgKHJlc29sdmUkJCA9PT0gcmVzb2x2ZSkge1xuICAgIHZhciBfdGhlbiA9IGdldFRoZW4oZW50cnkpO1xuXG4gICAgaWYgKF90aGVuID09PSB0aGVuICYmIGVudHJ5Ll9zdGF0ZSAhPT0gUEVORElORykge1xuICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgX3RoZW4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgfSBlbHNlIGlmIChjID09PSBQcm9taXNlKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBjKG5vb3ApO1xuICAgICAgaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBlbnRyeSwgX3RoZW4pO1xuICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl93aWxsU2V0dGxlQXQobmV3IGMoZnVuY3Rpb24gKHJlc29sdmUkJCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSQkKGVudHJ5KTtcbiAgICAgIH0pLCBpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fd2lsbFNldHRsZUF0KHJlc29sdmUkJChlbnRyeSksIGkpO1xuICB9XG59O1xuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fc2V0dGxlZEF0ID0gZnVuY3Rpb24gKHN0YXRlLCBpLCB2YWx1ZSkge1xuICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZTtcblxuICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcpIHtcbiAgICB0aGlzLl9yZW1haW5pbmctLTtcblxuICAgIGlmIChzdGF0ZSA9PT0gUkVKRUNURUQpIHtcbiAgICAgIF9yZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICB9XG59O1xuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fd2lsbFNldHRsZUF0ID0gZnVuY3Rpb24gKHByb21pc2UsIGkpIHtcbiAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gIHN1YnNjcmliZShwcm9taXNlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gZW51bWVyYXRvci5fc2V0dGxlZEF0KFJFSkVDVEVELCBpLCByZWFzb24pO1xuICB9KTtcbn07XG5cbi8qKlxuICBgUHJvbWlzZS5hbGxgIGFjY2VwdHMgYW4gYXJyYXkgb2YgcHJvbWlzZXMsIGFuZCByZXR1cm5zIGEgbmV3IHByb21pc2Ugd2hpY2hcbiAgaXMgZnVsZmlsbGVkIHdpdGggYW4gYXJyYXkgb2YgZnVsZmlsbG1lbnQgdmFsdWVzIGZvciB0aGUgcGFzc2VkIHByb21pc2VzLCBvclxuICByZWplY3RlZCB3aXRoIHRoZSByZWFzb24gb2YgdGhlIGZpcnN0IHBhc3NlZCBwcm9taXNlIHRvIGJlIHJlamVjdGVkLiBJdCBjYXN0cyBhbGxcbiAgZWxlbWVudHMgb2YgdGhlIHBhc3NlZCBpdGVyYWJsZSB0byBwcm9taXNlcyBhcyBpdCBydW5zIHRoaXMgYWxnb3JpdGhtLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSByZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSByZXNvbHZlKDIpO1xuICBsZXQgcHJvbWlzZTMgPSByZXNvbHZlKDMpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gVGhlIGFycmF5IGhlcmUgd291bGQgYmUgWyAxLCAyLCAzIF07XG4gIH0pO1xuICBgYGBcblxuICBJZiBhbnkgb2YgdGhlIGBwcm9taXNlc2AgZ2l2ZW4gdG8gYGFsbGAgYXJlIHJlamVjdGVkLCB0aGUgZmlyc3QgcHJvbWlzZVxuICB0aGF0IGlzIHJlamVjdGVkIHdpbGwgYmUgZ2l2ZW4gYXMgYW4gYXJndW1lbnQgdG8gdGhlIHJldHVybmVkIHByb21pc2VzJ3NcbiAgcmVqZWN0aW9uIGhhbmRsZXIuIEZvciBleGFtcGxlOlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSByZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSByZWplY3QobmV3IEVycm9yKFwiMlwiKSk7XG4gIGxldCBwcm9taXNlMyA9IHJlamVjdChuZXcgRXJyb3IoXCIzXCIpKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgIC8vIGVycm9yLm1lc3NhZ2UgPT09IFwiMlwiXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIGFsbFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QXJyYXl9IGVudHJpZXMgYXJyYXkgb2YgcHJvbWlzZXNcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCBgcHJvbWlzZXNgIGhhdmUgYmVlblxuICBmdWxmaWxsZWQsIG9yIHJlamVjdGVkIGlmIGFueSBvZiB0aGVtIGJlY29tZSByZWplY3RlZC5cbiAgQHN0YXRpY1xuKi9cbmZ1bmN0aW9uIGFsbChlbnRyaWVzKSB7XG4gIHJldHVybiBuZXcgRW51bWVyYXRvcih0aGlzLCBlbnRyaWVzKS5wcm9taXNlO1xufVxuXG4vKipcbiAgYFByb21pc2UucmFjZWAgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoIGlzIHNldHRsZWQgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBzZXR0bGUuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDInKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgaXQgd2FzIHJlc29sdmVkIGJlZm9yZSBwcm9taXNlMVxuICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgfSk7XG4gIGBgYFxuXG4gIGBQcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3Byb21pc2UgMicpKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBQcm9taXNlLnJhY2UoW2FqYXgoJ2Zvby5qc29uJyksIHRpbWVvdXQoNTAwMCldKVxuICBgYGBcblxuICBAbWV0aG9kIHJhY2VcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHdoaWNoIHNldHRsZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZSBmaXJzdCBwYXNzZWRcbiAgcHJvbWlzZSB0byBzZXR0bGUuXG4qL1xuZnVuY3Rpb24gcmFjZShlbnRyaWVzKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yZWplY3RgIHJldHVybnMgYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIHBhc3NlZCBgcmVhc29uYC5cbiAgSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVqZWN0XG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBbnl9IHJlYXNvbiB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aC5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgcmVqZWN0ZWQgd2l0aCB0aGUgZ2l2ZW4gYHJlYXNvbmAuXG4qL1xuZnVuY3Rpb24gcmVqZWN0KHJlYXNvbikge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcbiAgX3JlamVjdChwcm9taXNlLCByZWFzb24pO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gbmVlZHNSZXNvbHZlcigpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xufVxuXG5mdW5jdGlvbiBuZWVkc05ldygpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbn1cblxuLyoqXG4gIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGUgcmVhc29uXG4gIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gIFRlcm1pbm9sb2d5XG4gIC0tLS0tLS0tLS0tXG5cbiAgLSBgcHJvbWlzZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHdpdGggYSBgdGhlbmAgbWV0aG9kIHdob3NlIGJlaGF2aW9yIGNvbmZvcm1zIHRvIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAtIGB2YWx1ZWAgaXMgYW55IGxlZ2FsIEphdmFTY3JpcHQgdmFsdWUgKGluY2x1ZGluZyB1bmRlZmluZWQsIGEgdGhlbmFibGUsIG9yIGEgcHJvbWlzZSkuXG4gIC0gYGV4Y2VwdGlvbmAgaXMgYSB2YWx1ZSB0aGF0IGlzIHRocm93biB1c2luZyB0aGUgdGhyb3cgc3RhdGVtZW50LlxuICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gIC0gYHNldHRsZWRgIHRoZSBmaW5hbCByZXN0aW5nIHN0YXRlIG9mIGEgcHJvbWlzZSwgZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuXG4gIEEgcHJvbWlzZSBjYW4gYmUgaW4gb25lIG9mIHRocmVlIHN0YXRlczogcGVuZGluZywgZnVsZmlsbGVkLCBvciByZWplY3RlZC5cblxuICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICBzdGF0ZS4gIFByb21pc2VzIHRoYXQgYXJlIHJlamVjdGVkIGhhdmUgYSByZWplY3Rpb24gcmVhc29uIGFuZCBhcmUgaW4gdGhlXG4gIHJlamVjdGVkIHN0YXRlLiAgQSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZXZlciBhIHRoZW5hYmxlLlxuXG4gIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICBwcm9taXNlLCB0aGVuIHRoZSBvcmlnaW5hbCBwcm9taXNlJ3Mgc2V0dGxlZCBzdGF0ZSB3aWxsIG1hdGNoIHRoZSB2YWx1ZSdzXG4gIHNldHRsZWQgc3RhdGUuICBTbyBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2lsbFxuICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gIGl0c2VsZiBmdWxmaWxsLlxuXG5cbiAgQmFzaWMgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLVxuXG4gIGBgYGpzXG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gb24gc3VjY2Vzc1xuICAgIHJlc29sdmUodmFsdWUpO1xuXG4gICAgLy8gb24gZmFpbHVyZVxuICAgIHJlamVjdChyZWFzb24pO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIEFkdmFuY2VkIFVzYWdlOlxuICAtLS0tLS0tLS0tLS0tLS1cblxuICBQcm9taXNlcyBzaGluZSB3aGVuIGFic3RyYWN0aW5nIGF3YXkgYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBzdWNoIGFzXG4gIGBYTUxIdHRwUmVxdWVzdGBzLlxuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGdldEpTT04odXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZXI7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SlNPTjogYCcgKyB1cmwgKyAnYCBmYWlsZWQgd2l0aCBzdGF0dXM6IFsnICsgdGhpcy5zdGF0dXMgKyAnXScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXRKU09OKCcvcG9zdHMuanNvbicpLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgVW5saWtlIGNhbGxiYWNrcywgcHJvbWlzZXMgYXJlIGdyZWF0IGNvbXBvc2FibGUgcHJpbWl0aXZlcy5cblxuICBgYGBqc1xuICBQcm9taXNlLmFsbChbXG4gICAgZ2V0SlNPTignL3Bvc3RzJyksXG4gICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgXSkudGhlbihmdW5jdGlvbih2YWx1ZXMpe1xuICAgIHZhbHVlc1swXSAvLyA9PiBwb3N0c0pTT05cbiAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9KTtcbiAgYGBgXG5cbiAgQGNsYXNzIFByb21pc2VcbiAgQHBhcmFtIHtmdW5jdGlvbn0gcmVzb2x2ZXJcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAY29uc3RydWN0b3JcbiovXG5mdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gIHRoaXNbUFJPTUlTRV9JRF0gPSBuZXh0SWQoKTtcbiAgdGhpcy5fcmVzdWx0ID0gdGhpcy5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgaWYgKG5vb3AgIT09IHJlc29sdmVyKSB7XG4gICAgdHlwZW9mIHJlc29sdmVyICE9PSAnZnVuY3Rpb24nICYmIG5lZWRzUmVzb2x2ZXIoKTtcbiAgICB0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSA/IGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IG5lZWRzTmV3KCk7XG4gIH1cbn1cblxuUHJvbWlzZS5hbGwgPSBhbGw7XG5Qcm9taXNlLnJhY2UgPSByYWNlO1xuUHJvbWlzZS5yZXNvbHZlID0gcmVzb2x2ZTtcblByb21pc2UucmVqZWN0ID0gcmVqZWN0O1xuUHJvbWlzZS5fc2V0U2NoZWR1bGVyID0gc2V0U2NoZWR1bGVyO1xuUHJvbWlzZS5fc2V0QXNhcCA9IHNldEFzYXA7XG5Qcm9taXNlLl9hc2FwID0gYXNhcDtcblxuUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQcm9taXNlLFxuXG4gIC8qKlxuICAgIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICAgIHdoaWNoIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlXG4gICAgcmVhc29uIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbih1c2VyKXtcbiAgICAgIC8vIHVzZXIgaXMgYXZhaWxhYmxlXG4gICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgIC8vIHVzZXIgaXMgdW5hdmFpbGFibGUsIGFuZCB5b3UgYXJlIGdpdmVuIHRoZSByZWFzb24gd2h5XG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIENoYWluaW5nXG4gICAgLS0tLS0tLS1cbiAgXG4gICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgICBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZmlyc3QgcHJvbWlzZSdzIGZ1bGZpbGxtZW50XG4gICAgb3IgcmVqZWN0aW9uIGhhbmRsZXIsIG9yIHJlamVjdGVkIGlmIHRoZSBoYW5kbGVyIHRocm93cyBhbiBleGNlcHRpb24uXG4gIFxuICAgIGBgYGpzXG4gICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICByZXR1cm4gdXNlci5uYW1lO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJldHVybiAnZGVmYXVsdCBuYW1lJztcbiAgICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyTmFtZSkge1xuICAgICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgICAgLy8gd2lsbCBiZSBgJ2RlZmF1bHQgbmFtZSdgXG4gICAgfSk7XG4gIFxuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgLy8gaWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGByZWFzb25gIHdpbGwgYmUgJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jy5cbiAgICAgIC8vIElmIGBmaW5kVXNlcmAgcmVqZWN0ZWQsIGByZWFzb25gIHdpbGwgYmUgJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknLlxuICAgIH0pO1xuICAgIGBgYFxuICAgIElmIHRoZSBkb3duc3RyZWFtIHByb21pc2UgZG9lcyBub3Qgc3BlY2lmeSBhIHJlamVjdGlvbiBoYW5kbGVyLCByZWplY3Rpb24gcmVhc29ucyB3aWxsIGJlIHByb3BhZ2F0ZWQgZnVydGhlciBkb3duc3RyZWFtLlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgdGhyb3cgbmV3IFBlZGFnb2dpY2FsRXhjZXB0aW9uKCdVcHN0cmVhbSBlcnJvcicpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAvLyBUaGUgYFBlZGdhZ29jaWFsRXhjZXB0aW9uYCBpcyBwcm9wYWdhdGVkIGFsbCB0aGUgd2F5IGRvd24gdG8gaGVyZVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBBc3NpbWlsYXRpb25cbiAgICAtLS0tLS0tLS0tLS1cbiAgXG4gICAgU29tZXRpbWVzIHRoZSB2YWx1ZSB5b3Ugd2FudCB0byBwcm9wYWdhdGUgdG8gYSBkb3duc3RyZWFtIHByb21pc2UgY2FuIG9ubHkgYmVcbiAgICByZXRyaWV2ZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJldHVybmluZyBhIHByb21pc2UgaW4gdGhlXG4gICAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgICB1bnRpbCB0aGUgcmV0dXJuZWQgcHJvbWlzZSBpcyBzZXR0bGVkLiBUaGlzIGlzIGNhbGxlZCAqYXNzaW1pbGF0aW9uKi5cbiAgXG4gICAgYGBganNcbiAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgLy8gVGhlIHVzZXIncyBjb21tZW50cyBhcmUgbm93IGF2YWlsYWJsZVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cbiAgXG4gICAgYGBganNcbiAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCBmdWxmaWxscywgd2UnbGwgaGF2ZSB0aGUgdmFsdWUgaGVyZVxuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgcmVqZWN0cywgd2UnbGwgaGF2ZSB0aGUgcmVhc29uIGhlcmVcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgU2ltcGxlIEV4YW1wbGVcbiAgICAtLS0tLS0tLS0tLS0tLVxuICBcbiAgICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gIFxuICAgIGBgYGphdmFzY3JpcHRcbiAgICBsZXQgcmVzdWx0O1xuICBcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gZmluZFJlc3VsdCgpO1xuICAgICAgLy8gc3VjY2Vzc1xuICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfVxuICAgIGBgYFxuICBcbiAgICBFcnJiYWNrIEV4YW1wbGVcbiAgXG4gICAgYGBganNcbiAgICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBQcm9taXNlIEV4YW1wbGU7XG4gIFxuICAgIGBgYGphdmFzY3JpcHRcbiAgICBmaW5kUmVzdWx0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgLy8gc3VjY2Vzc1xuICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIEFkdmFuY2VkIEV4YW1wbGVcbiAgICAtLS0tLS0tLS0tLS0tLVxuICBcbiAgICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gIFxuICAgIGBgYGphdmFzY3JpcHRcbiAgICBsZXQgYXV0aG9yLCBib29rcztcbiAgXG4gICAgdHJ5IHtcbiAgICAgIGF1dGhvciA9IGZpbmRBdXRob3IoKTtcbiAgICAgIGJvb2tzICA9IGZpbmRCb29rc0J5QXV0aG9yKGF1dGhvcik7XG4gICAgICAvLyBzdWNjZXNzXG4gICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9XG4gICAgYGBgXG4gIFxuICAgIEVycmJhY2sgRXhhbXBsZVxuICBcbiAgICBgYGBqc1xuICBcbiAgICBmdW5jdGlvbiBmb3VuZEJvb2tzKGJvb2tzKSB7XG4gIFxuICAgIH1cbiAgXG4gICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcbiAgXG4gICAgfVxuICBcbiAgICBmaW5kQXV0aG9yKGZ1bmN0aW9uKGF1dGhvciwgZXJyKXtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAvLyBmYWlsdXJlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZpbmRCb29va3NCeUF1dGhvcihhdXRob3IsIGZ1bmN0aW9uKGJvb2tzLCBlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3VuZEJvb2tzKGJvb2tzKTtcbiAgICAgICAgICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICBmYWlsdXJlKHJlYXNvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzdWNjZXNzXG4gICAgICB9XG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIFByb21pc2UgRXhhbXBsZTtcbiAgXG4gICAgYGBgamF2YXNjcmlwdFxuICAgIGZpbmRBdXRob3IoKS5cbiAgICAgIHRoZW4oZmluZEJvb2tzQnlBdXRob3IpLlxuICAgICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAgIC8vIGZvdW5kIGJvb2tzXG4gICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIEBtZXRob2QgdGhlblxuICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uRnVsZmlsbGVkXG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3RlZFxuICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuICB0aGVuOiB0aGVuLFxuXG4gIC8qKlxuICAgIGBjYXRjaGAgaXMgc2ltcGx5IHN1Z2FyIGZvciBgdGhlbih1bmRlZmluZWQsIG9uUmVqZWN0aW9uKWAgd2hpY2ggbWFrZXMgaXQgdGhlIHNhbWVcbiAgICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuICBcbiAgICBgYGBqc1xuICAgIGZ1bmN0aW9uIGZpbmRBdXRob3IoKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICAgIH1cbiAgXG4gICAgLy8gc3luY2hyb25vdXNcbiAgICB0cnkge1xuICAgICAgZmluZEF1dGhvcigpO1xuICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgIH1cbiAgXG4gICAgLy8gYXN5bmMgd2l0aCBwcm9taXNlc1xuICAgIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQG1ldGhvZCBjYXRjaFxuICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG4gICdjYXRjaCc6IGZ1bmN0aW9uIF9jYXRjaChvblJlamVjdGlvbikge1xuICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3Rpb24pO1xuICB9XG59O1xuXG5mdW5jdGlvbiBwb2x5ZmlsbCgpIHtcbiAgICB2YXIgbG9jYWwgPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9jYWwgPSBnbG9iYWw7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9jYWwgPSBzZWxmO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncG9seWZpbGwgZmFpbGVkIGJlY2F1c2UgZ2xvYmFsIG9iamVjdCBpcyB1bmF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgICBpZiAoUCkge1xuICAgICAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHByb21pc2VUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChQLnJlc29sdmUoKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIHNpbGVudGx5IGlnbm9yZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9taXNlVG9TdHJpbmcgPT09ICdbb2JqZWN0IFByb21pc2VdJyAmJiAhUC5jYXN0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2NhbC5Qcm9taXNlID0gUHJvbWlzZTtcbn1cblxucG9seWZpbGwoKTtcbi8vIFN0cmFuZ2UgY29tcGF0Li5cblByb21pc2UucG9seWZpbGwgPSBwb2x5ZmlsbDtcblByb21pc2UuUHJvbWlzZSA9IFByb21pc2U7XG5cbnJldHVybiBQcm9taXNlO1xuXG59KSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXM2LXByb21pc2UubWFwIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIi8qIVxuICogcmVhY3QtZmlsZXBvbmQgdjcuMS4wXG4gKiBBIGhhbmR5IEZpbGVQb25kIGFkYXB0ZXIgY29tcG9uZW50IGZvciBSZWFjdFxuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgUFFJTkFcbiAqIGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmRcbiAqIFxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuRmlsZVBvbmQgPSBleHBvcnRzLkZpbGVTdGF0dXMgPSBleHBvcnRzLnJlZ2lzdGVyUGx1Z2luID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfZmlsZXBvbmQgPSByZXF1aXJlKCdmaWxlcG9uZCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8vIEltcG9ydCByZXF1aXJlZCBtZXRob2RzIGFuZCBzdHlsZXMgZnJvbSB0aGUgRmlsZVBvbmQgbW9kdWxlLCBzaG91bGQgbm90IG5lZWQgYW55dGhpbmcgZWxzZVxuXG5cbi8vIFdlIG5lZWQgdG8gYmUgYWJsZSB0byBjYWxsIHRoZSByZWdpc3RlclBsdWdpbiBtZXRob2QgZGlyZWN0bHkgc28gd2UgY2FuIGFkZCBwbHVnaW5zXG5leHBvcnRzLnJlZ2lzdGVyUGx1Z2luID0gX2ZpbGVwb25kLnJlZ2lzdGVyUGx1Z2luO1xuZXhwb3J0cy5GaWxlU3RhdHVzID0gX2ZpbGVwb25kLkZpbGVTdGF0dXM7XG5cbi8vIERvIHRoaXMgb25jZVxuXG52YXIgaXNTdXBwb3J0ZWQgPSAoMCwgX2ZpbGVwb25kLnN1cHBvcnRlZCkoKTtcblxuLy8gZmlsdGVyZWQgbWV0aG9kc1xudmFyIGZpbHRlcmVkTWV0aG9kcyA9IFsnc2V0T3B0aW9ucycsICdvbicsICdvZmYnLCAnb25PbmNlJywgJ2FwcGVuZFRvJywgJ2luc2VydEFmdGVyJywgJ2luc2VydEJlZm9yZScsICdpc0F0dGFjaGVkVG8nLCAncmVwbGFjZUVsZW1lbnQnLCAncmVzdG9yZUVsZW1lbnQnLCAnZGVzdHJveSddO1xuXG4vLyBUaGUgUmVhY3QgPEZpbGVQb25kLz4gd3JhcHBlclxuXG52YXIgRmlsZVBvbmQgPSBleHBvcnRzLkZpbGVQb25kID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEZpbGVQb25kLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBGaWxlUG9uZChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWxlUG9uZCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRmlsZVBvbmQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihGaWxlUG9uZCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmFsbG93RmlsZXNTeW5jID0gdHJ1ZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvLyBXaWxsIHNldHVwIEZpbGVQb25kIGluc3RhbmNlIHdoZW4gbW91bnRlZFxuXG5cbiAgX2NyZWF0ZUNsYXNzKEZpbGVQb25kLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgLy8gZXhpdCBoZXJlIGlmIG5vdCBzdXBwb3J0ZWRcbiAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHJldHVybjtcblxuICAgICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzKTtcblxuICAgICAgLy8gaWYgb251cGRhdGUgZmlsZXMgaXMgZGVmaW5lZCwgbWFrZSBzdXJlIHNldEZpbGVzIGRvZXMgbm90IGNhdXNlIHJhY2UgY29uZGl0aW9uXG4gICAgICBpZiAob3B0aW9ucy5vbnVwZGF0ZWZpbGVzKSB7XG4gICAgICAgIHZhciBjYiA9IG9wdGlvbnMub251cGRhdGVmaWxlcztcbiAgICAgICAgb3B0aW9ucy5vbnVwZGF0ZWZpbGVzID0gZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgICAgICAgX3RoaXMyLmFsbG93RmlsZXNTeW5jID0gZmFsc2U7XG4gICAgICAgICAgY2IoaXRlbXMpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgb3VyIHBvbmRcbiAgICAgIHRoaXMuX3BvbmQgPSAoMCwgX2ZpbGVwb25kLmNyZWF0ZSkodGhpcy5fZWxlbWVudCwgb3B0aW9ucyk7XG5cbiAgICAgIC8vIFJlZmVyZW5jZSBwb25kIG1ldGhvZHMgdG8gRmlsZVBvbmQgY29tcG9uZW50IGluc3RhbmNlXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLl9wb25kKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gIWZpbHRlcmVkTWV0aG9kcy5pbmNsdWRlcyhrZXkpO1xuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIF90aGlzMltrZXldID0gX3RoaXMyLl9wb25kW2tleV07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBXaWxsIGNsZWFuIHVwIEZpbGVQb25kIGluc3RhbmNlIHdoZW4gdW5tb3VudGVkXG5cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAvLyBleGl0IHdoZW4gbm8gcG9uZCBkZWZpbmVkXG4gICAgICBpZiAoIXRoaXMuX3BvbmQpIHJldHVybjtcbiAgICAgIHRoaXMuX3BvbmQuZGVzdHJveSgpO1xuICAgICAgdGhpcy5hbGxvd0ZpbGVzU3luYyA9IHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgICAgaWYgKCF0aGlzLmFsbG93RmlsZXNTeW5jKSB7XG4gICAgICAgIHRoaXMuYWxsb3dGaWxlc1N5bmMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBTb21ldGhpbmcgY2hhbmdlZFxuXG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cbiAgICAgIC8vIGV4aXQgd2hlbiBubyBwb25kIGRlZmluZWRcbiAgICAgIGlmICghdGhpcy5fcG9uZCkgcmV0dXJuO1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMpO1xuXG4gICAgICAvLyB0aGlzIGlzIG9ubHkgc2V0IG9uY2VzLCBvbiBkaWRtb3VudFxuICAgICAgZGVsZXRlIG9wdGlvbnMub251cGRhdGVmaWxlcztcblxuICAgICAgLy8gdXBkYXRlIHBvbmQgb3B0aW9ucyBiYXNlZCBvbiBuZXcgcHJvcHNcbiAgICAgIHRoaXMuX3BvbmQuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvLyBSZW5kZXJzIGJhc2ljIGVsZW1lbnQgaG9vayBmb3IgRmlsZVBvbmQgdG8gYXR0YWNoIHRvXG5cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBpZCA9IF9wcm9wcy5pZCxcbiAgICAgICAgICBuYW1lID0gX3Byb3BzLm5hbWUsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBhbGxvd011bHRpcGxlID0gX3Byb3BzLmFsbG93TXVsdGlwbGUsXG4gICAgICAgICAgcmVxdWlyZWQgPSBfcHJvcHMucmVxdWlyZWQsXG4gICAgICAgICAgY2FwdHVyZU1ldGhvZCA9IF9wcm9wcy5jYXB0dXJlTWV0aG9kLFxuICAgICAgICAgIGFjY2VwdGVkRmlsZVR5cGVzID0gX3Byb3BzLmFjY2VwdGVkRmlsZVR5cGVzO1xuXG4gICAgICByZXR1cm4gKDAsIF9yZWFjdC5jcmVhdGVFbGVtZW50KSgnZGl2JywgeyBjbGFzc05hbWU6ICdmaWxlcG9uZC0td3JhcHBlcicgfSwgKDAsIF9yZWFjdC5jcmVhdGVFbGVtZW50KSgnaW5wdXQnLCB7XG4gICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBhY2NlcHQ6IGFjY2VwdGVkRmlsZVR5cGVzLFxuICAgICAgICBtdWx0aXBsZTogYWxsb3dNdWx0aXBsZSxcbiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgY2FwdHVyZTogY2FwdHVyZU1ldGhvZCxcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZpbGVQb25kO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuXG4iLCIndXNlIHN0cmljdCc7XG52YXIgbmF0aXZlUHJvcGVydHlJc0VudW1lcmFibGUgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG4vLyBOYXNob3JuIH4gSkRLOCBidWdcbnZhciBOQVNIT1JOX0JVRyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJiAhbmF0aXZlUHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh7IDE6IDIgfSwgMSk7XG5cbi8vIGBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5wcm90b3R5cGUucHJvcGVydHlpc2VudW1lcmFibGVcbmV4cG9ydHMuZiA9IE5BU0hPUk5fQlVHID8gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoVikge1xuICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCBWKTtcbiAgcmV0dXJuICEhZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmVudW1lcmFibGU7XG59IDogbmF0aXZlUHJvcGVydHlJc0VudW1lcmFibGU7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzJyk7XG52YXIgc2V0R2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC1nbG9iYWwnKTtcbnZhciBpbnNwZWN0U291cmNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlJyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xuXG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0O1xudmFyIGVuZm9yY2VJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5lbmZvcmNlO1xudmFyIFRFTVBMQVRFID0gU3RyaW5nKFN0cmluZykuc3BsaXQoJ1N0cmluZycpO1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywga2V5LCB2YWx1ZSwgb3B0aW9ucykge1xuICB2YXIgdW5zYWZlID0gb3B0aW9ucyA/ICEhb3B0aW9ucy51bnNhZmUgOiBmYWxzZTtcbiAgdmFyIHNpbXBsZSA9IG9wdGlvbnMgPyAhIW9wdGlvbnMuZW51bWVyYWJsZSA6IGZhbHNlO1xuICB2YXIgbm9UYXJnZXRHZXQgPSBvcHRpb25zID8gISFvcHRpb25zLm5vVGFyZ2V0R2V0IDogZmFsc2U7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICh0eXBlb2Yga2V5ID09ICdzdHJpbmcnICYmICFoYXModmFsdWUsICduYW1lJykpIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSh2YWx1ZSwgJ25hbWUnLCBrZXkpO1xuICAgIGVuZm9yY2VJbnRlcm5hbFN0YXRlKHZhbHVlKS5zb3VyY2UgPSBURU1QTEFURS5qb2luKHR5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyBrZXkgOiAnJyk7XG4gIH1cbiAgaWYgKE8gPT09IGdsb2JhbCkge1xuICAgIGlmIChzaW1wbGUpIE9ba2V5XSA9IHZhbHVlO1xuICAgIGVsc2Ugc2V0R2xvYmFsKGtleSwgdmFsdWUpO1xuICAgIHJldHVybjtcbiAgfSBlbHNlIGlmICghdW5zYWZlKSB7XG4gICAgZGVsZXRlIE9ba2V5XTtcbiAgfSBlbHNlIGlmICghbm9UYXJnZXRHZXQgJiYgT1trZXldKSB7XG4gICAgc2ltcGxlID0gdHJ1ZTtcbiAgfVxuICBpZiAoc2ltcGxlKSBPW2tleV0gPSB2YWx1ZTtcbiAgZWxzZSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoTywga2V5LCB2YWx1ZSk7XG4vLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbn0pKEZ1bmN0aW9uLnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nICYmIGdldEludGVybmFsU3RhdGUodGhpcykuc291cmNlIHx8IGluc3BlY3RTb3VyY2UodGhpcyk7XG59KTtcbiIsInZhciBOQVRJVkVfV0VBS19NQVAgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmF0aXZlLXdlYWstbWFwJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcbnZhciBvYmplY3RIYXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzJyk7XG52YXIgc2hhcmVkS2V5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1rZXknKTtcbnZhciBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hpZGRlbi1rZXlzJyk7XG5cbnZhciBXZWFrTWFwID0gZ2xvYmFsLldlYWtNYXA7XG52YXIgc2V0LCBnZXQsIGhhcztcblxudmFyIGVuZm9yY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGhhcyhpdCkgPyBnZXQoaXQpIDogc2V0KGl0LCB7fSk7XG59O1xuXG52YXIgZ2V0dGVyRm9yID0gZnVuY3Rpb24gKFRZUEUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBzdGF0ZTtcbiAgICBpZiAoIWlzT2JqZWN0KGl0KSB8fCAoc3RhdGUgPSBnZXQoaXQpKS50eXBlICE9PSBUWVBFKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ0luY29tcGF0aWJsZSByZWNlaXZlciwgJyArIFRZUEUgKyAnIHJlcXVpcmVkJyk7XG4gICAgfSByZXR1cm4gc3RhdGU7XG4gIH07XG59O1xuXG5pZiAoTkFUSVZFX1dFQUtfTUFQKSB7XG4gIHZhciBzdG9yZSA9IG5ldyBXZWFrTWFwKCk7XG4gIHZhciB3bWdldCA9IHN0b3JlLmdldDtcbiAgdmFyIHdtaGFzID0gc3RvcmUuaGFzO1xuICB2YXIgd21zZXQgPSBzdG9yZS5zZXQ7XG4gIHNldCA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcbiAgICB3bXNldC5jYWxsKHN0b3JlLCBpdCwgbWV0YWRhdGEpO1xuICAgIHJldHVybiBtZXRhZGF0YTtcbiAgfTtcbiAgZ2V0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHdtZ2V0LmNhbGwoc3RvcmUsIGl0KSB8fCB7fTtcbiAgfTtcbiAgaGFzID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHdtaGFzLmNhbGwoc3RvcmUsIGl0KTtcbiAgfTtcbn0gZWxzZSB7XG4gIHZhciBTVEFURSA9IHNoYXJlZEtleSgnc3RhdGUnKTtcbiAgaGlkZGVuS2V5c1tTVEFURV0gPSB0cnVlO1xuICBzZXQgPSBmdW5jdGlvbiAoaXQsIG1ldGFkYXRhKSB7XG4gICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KGl0LCBTVEFURSwgbWV0YWRhdGEpO1xuICAgIHJldHVybiBtZXRhZGF0YTtcbiAgfTtcbiAgZ2V0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIG9iamVjdEhhcyhpdCwgU1RBVEUpID8gaXRbU1RBVEVdIDoge307XG4gIH07XG4gIGhhcyA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBvYmplY3RIYXMoaXQsIFNUQVRFKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogc2V0LFxuICBnZXQ6IGdldCxcbiAgaGFzOiBoYXMsXG4gIGVuZm9yY2U6IGVuZm9yY2UsXG4gIGdldHRlckZvcjogZ2V0dGVyRm9yXG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBpbnNwZWN0U291cmNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlJyk7XG5cbnZhciBXZWFrTWFwID0gZ2xvYmFsLldlYWtNYXA7XG5cbm1vZHVsZS5leHBvcnRzID0gdHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbicgJiYgL25hdGl2ZSBjb2RlLy50ZXN0KGluc3BlY3RTb3VyY2UoV2Vha01hcCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmYWxzZTtcbiIsInZhciBoYXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzJyk7XG52YXIgb3duS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vd24ta2V5cycpO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuICB2YXIga2V5cyA9IG93bktleXMoc291cmNlKTtcbiAgdmFyIGRlZmluZVByb3BlcnR5ID0gZGVmaW5lUHJvcGVydHlNb2R1bGUuZjtcbiAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZS5mO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICBpZiAoIWhhcyh0YXJnZXQsIGtleSkpIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcbiAgfVxufTtcbiIsInZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xudmFyIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktc3ltYm9scycpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xuXG4vLyBhbGwgb2JqZWN0IGtleXMsIGluY2x1ZGVzIG5vbi1lbnVtZXJhYmxlIGFuZCBzeW1ib2xzXG5tb2R1bGUuZXhwb3J0cyA9IGdldEJ1aWx0SW4oJ1JlZmxlY3QnLCAnb3duS2V5cycpIHx8IGZ1bmN0aW9uIG93bktleXMoaXQpIHtcbiAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlLmYoYW5PYmplY3QoaXQpKTtcbiAgdmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZS5mO1xuICByZXR1cm4gZ2V0T3duUHJvcGVydHlTeW1ib2xzID8ga2V5cy5jb25jYXQoZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KSkgOiBrZXlzO1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsO1xuIiwidmFyIGludGVybmFsT2JqZWN0S2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qta2V5cy1pbnRlcm5hbCcpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VudW0tYnVnLWtleXMnKTtcblxudmFyIGhpZGRlbktleXMgPSBlbnVtQnVnS2V5cy5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eW5hbWVzXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pIHtcbiAgcmV0dXJuIGludGVybmFsT2JqZWN0S2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG4iLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWludGVnZXInKTtcblxudmFyIG1heCA9IE1hdGgubWF4O1xudmFyIG1pbiA9IE1hdGgubWluO1xuXG4vLyBIZWxwZXIgZm9yIGEgcG9wdWxhciByZXBlYXRpbmcgY2FzZSBvZiB0aGUgc3BlYzpcbi8vIExldCBpbnRlZ2VyIGJlID8gVG9JbnRlZ2VyKGluZGV4KS5cbi8vIElmIGludGVnZXIgPCAwLCBsZXQgcmVzdWx0IGJlIG1heCgobGVuZ3RoICsgaW50ZWdlciksIDApOyBlbHNlIGxldCByZXN1bHQgYmUgbWluKGludGVnZXIsIGxlbmd0aCkuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gIHZhciBpbnRlZ2VyID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGludGVnZXIgPCAwID8gbWF4KGludGVnZXIgKyBsZW5ndGgsIDApIDogbWluKGludGVnZXIsIGxlbmd0aCk7XG59O1xuIiwiZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG52YXIgcmVwbGFjZW1lbnQgPSAvI3xcXC5wcm90b3R5cGVcXC4vO1xuXG52YXIgaXNGb3JjZWQgPSBmdW5jdGlvbiAoZmVhdHVyZSwgZGV0ZWN0aW9uKSB7XG4gIHZhciB2YWx1ZSA9IGRhdGFbbm9ybWFsaXplKGZlYXR1cmUpXTtcbiAgcmV0dXJuIHZhbHVlID09IFBPTFlGSUxMID8gdHJ1ZVxuICAgIDogdmFsdWUgPT0gTkFUSVZFID8gZmFsc2VcbiAgICA6IHR5cGVvZiBkZXRlY3Rpb24gPT0gJ2Z1bmN0aW9uJyA/IGZhaWxzKGRldGVjdGlvbilcbiAgICA6ICEhZGV0ZWN0aW9uO1xufTtcblxudmFyIG5vcm1hbGl6ZSA9IGlzRm9yY2VkLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgcmV0dXJuIFN0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVwbGFjZW1lbnQsICcuJykudG9Mb3dlckNhc2UoKTtcbn07XG5cbnZhciBkYXRhID0gaXNGb3JjZWQuZGF0YSA9IHt9O1xudmFyIE5BVElWRSA9IGlzRm9yY2VkLk5BVElWRSA9ICdOJztcbnZhciBQT0xZRklMTCA9IGlzRm9yY2VkLlBPTFlGSUxMID0gJ1AnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRm9yY2VkO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKFN0cmluZyhpdCkgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gIH0gcmV0dXJuIGl0O1xufTtcbiIsInZhciBOQVRJVkVfU1lNQk9MID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL25hdGl2ZS1zeW1ib2wnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBOQVRJVkVfU1lNQk9MXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAmJiAhU3ltYm9sLnNoYW1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCc7XG4iLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgZGVmaW5lUHJvcGVydGllcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnRpZXMnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbnVtLWJ1Zy1rZXlzJyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oaWRkZW4ta2V5cycpO1xudmFyIGh0bWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaHRtbCcpO1xudmFyIGRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kb2N1bWVudC1jcmVhdGUtZWxlbWVudCcpO1xudmFyIHNoYXJlZEtleSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQta2V5Jyk7XG5cbnZhciBHVCA9ICc+JztcbnZhciBMVCA9ICc8JztcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbnZhciBTQ1JJUFQgPSAnc2NyaXB0JztcbnZhciBJRV9QUk9UTyA9IHNoYXJlZEtleSgnSUVfUFJPVE8nKTtcblxudmFyIEVtcHR5Q29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG5cbnZhciBzY3JpcHRUYWcgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICByZXR1cm4gTFQgKyBTQ1JJUFQgKyBHVCArIGNvbnRlbnQgKyBMVCArICcvJyArIFNDUklQVCArIEdUO1xufTtcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIEFjdGl2ZVggT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBOdWxsUHJvdG9PYmplY3RWaWFBY3RpdmVYID0gZnVuY3Rpb24gKGFjdGl2ZVhEb2N1bWVudCkge1xuICBhY3RpdmVYRG9jdW1lbnQud3JpdGUoc2NyaXB0VGFnKCcnKSk7XG4gIGFjdGl2ZVhEb2N1bWVudC5jbG9zZSgpO1xuICB2YXIgdGVtcCA9IGFjdGl2ZVhEb2N1bWVudC5wYXJlbnRXaW5kb3cuT2JqZWN0O1xuICBhY3RpdmVYRG9jdW1lbnQgPSBudWxsOyAvLyBhdm9pZCBtZW1vcnkgbGVha1xuICByZXR1cm4gdGVtcDtcbn07XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBOdWxsUHJvdG9PYmplY3RWaWFJRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICB2YXIgSlMgPSAnamF2YScgKyBTQ1JJUFQgKyAnOic7XG4gIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGh0bWwuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzQ3NVxuICBpZnJhbWUuc3JjID0gU3RyaW5nKEpTKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShzY3JpcHRUYWcoJ2RvY3VtZW50LkY9T2JqZWN0JykpO1xuICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuICByZXR1cm4gaWZyYW1lRG9jdW1lbnQuRjtcbn07XG5cbi8vIENoZWNrIGZvciBkb2N1bWVudC5kb21haW4gYW5kIGFjdGl2ZSB4IHN1cHBvcnRcbi8vIE5vIG5lZWQgdG8gdXNlIGFjdGl2ZSB4IGFwcHJvYWNoIHdoZW4gZG9jdW1lbnQuZG9tYWluIGlzIG5vdCBzZXRcbi8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW0vaXNzdWVzLzE1MFxuLy8gdmFyaWF0aW9uIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9raXRjYW1icmlkZ2UvZXM1LXNoaW0vY29tbWl0LzRmNzM4YWMwNjYzNDZcbi8vIGF2b2lkIElFIEdDIGJ1Z1xudmFyIGFjdGl2ZVhEb2N1bWVudDtcbnZhciBOdWxsUHJvdG9PYmplY3QgPSBmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgLyogZ2xvYmFsIEFjdGl2ZVhPYmplY3QgKi9cbiAgICBhY3RpdmVYRG9jdW1lbnQgPSBkb2N1bWVudC5kb21haW4gJiYgbmV3IEFjdGl2ZVhPYmplY3QoJ2h0bWxmaWxlJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGlnbm9yZSAqLyB9XG4gIE51bGxQcm90b09iamVjdCA9IGFjdGl2ZVhEb2N1bWVudCA/IE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVgoYWN0aXZlWERvY3VtZW50KSA6IE51bGxQcm90b09iamVjdFZpYUlGcmFtZSgpO1xuICB2YXIgbGVuZ3RoID0gZW51bUJ1Z0tleXMubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIGRlbGV0ZSBOdWxsUHJvdG9PYmplY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tsZW5ndGhdXTtcbiAgcmV0dXJuIE51bGxQcm90b09iamVjdCgpO1xufTtcblxuaGlkZGVuS2V5c1tJRV9QUk9UT10gPSB0cnVlO1xuXG4vLyBgT2JqZWN0LmNyZWF0ZWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vYmplY3QuY3JlYXRlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKE8gIT09IG51bGwpIHtcbiAgICBFbXB0eUNvbnN0cnVjdG9yW1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHlDb25zdHJ1Y3RvcigpO1xuICAgIEVtcHR5Q29uc3RydWN0b3JbUFJPVE9UWVBFXSA9IG51bGw7XG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuICB9IGVsc2UgcmVzdWx0ID0gTnVsbFByb3RvT2JqZWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkZWZpbmVQcm9wZXJ0aWVzKHJlc3VsdCwgUHJvcGVydGllcyk7XG59O1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIG9iamVjdEtleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMnKTtcblxuLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0aWVzXG5tb2R1bGUuZXhwb3J0cyA9IERFU0NSSVBUT1JTID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzID0gb2JqZWN0S2V5cyhQcm9wZXJ0aWVzKTtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIGRlZmluZVByb3BlcnR5TW9kdWxlLmYoTywga2V5ID0ga2V5c1tpbmRleCsrXSwgUHJvcGVydGllc1trZXldKTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIGludGVybmFsT2JqZWN0S2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qta2V5cy1pbnRlcm5hbCcpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VudW0tYnVnLWtleXMnKTtcblxuLy8gYE9iamVjdC5rZXlzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5rZXlzXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTykge1xuICByZXR1cm4gaW50ZXJuYWxPYmplY3RLZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG4iLCJ2YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRCdWlsdEluKCdkb2N1bWVudCcsICdkb2N1bWVudEVsZW1lbnQnKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMnKTtcbnZhciBlbnRyeVVuYmluZCA9IHJlcXVpcmUoJy4uLy4uL2ludGVybmFscy9lbnRyeS11bmJpbmQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVVuYmluZCgnQXJyYXknLCAnaW5jbHVkZXMnKTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyICRpbmNsdWRlcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1pbmNsdWRlcycpLmluY2x1ZGVzO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYWRkLXRvLXVuc2NvcGFibGVzJyk7XG52YXIgYXJyYXlNZXRob2RVc2VzVG9MZW5ndGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLXVzZXMtdG8tbGVuZ3RoJyk7XG5cbnZhciBVU0VTX1RPX0xFTkdUSCA9IGFycmF5TWV0aG9kVXNlc1RvTGVuZ3RoKCdpbmRleE9mJywgeyBBQ0NFU1NPUlM6IHRydWUsIDE6IDAgfSk7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluY2x1ZGVzXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhVVNFU19UT19MRU5HVEggfSwge1xuICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoZWwgLyogLCBmcm9tSW5kZXggPSAwICovKSB7XG4gICAgcmV0dXJuICRpbmNsdWRlcyh0aGlzLCBlbCwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLUBAdW5zY29wYWJsZXNcbmFkZFRvVW5zY29wYWJsZXMoJ2luY2x1ZGVzJyk7XG4iLCIvKiFcbiAqIEZpbGVQb25kUGx1Z2luSW1hZ2VQcmV2aWV3IDQuNi41XG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmQvIGZvciBkZXRhaWxzLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbihmdW5jdGlvbihnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnXG4gICAgPyAobW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkpXG4gICAgOiB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWRcbiAgICA/IGRlZmluZShmYWN0b3J5KVxuICAgIDogKChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiksXG4gICAgICAoZ2xvYmFsLkZpbGVQb25kUGx1Z2luSW1hZ2VQcmV2aWV3ID0gZmFjdG9yeSgpKSk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIHRlc3QgaWYgZmlsZSBpcyBvZiB0eXBlIGltYWdlIGFuZCBjYW4gYmUgdmlld2VkIGluIGNhbnZhc1xuICB2YXIgaXNQcmV2aWV3YWJsZUltYWdlID0gZnVuY3Rpb24gaXNQcmV2aWV3YWJsZUltYWdlKGZpbGUpIHtcbiAgICByZXR1cm4gL15pbWFnZS8udGVzdChmaWxlLnR5cGUpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIF90eXBlb2YgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBfdHlwZW9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiZcbiAgICAgICAgICB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiZcbiAgICAgICAgICBvYmogIT09IFN5bWJvbC5wcm90b3R5cGVcbiAgICAgICAgICA/ICdzeW1ib2wnXG4gICAgICAgICAgOiB0eXBlb2Ygb2JqO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3R5cGVvZihvYmopO1xuICB9XG5cbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRTtcblxuICBmdW5jdGlvbiBfanN4KHR5cGUsIHByb3BzLCBrZXksIGNoaWxkcmVuKSB7XG4gICAgaWYgKCFSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9XG4gICAgICAgICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgU3ltYm9sLmZvciAmJlxuICAgICAgICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcbiAgICAgICAgMHhlYWM3O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzO1xuICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAzO1xuXG4gICAgaWYgKCFwcm9wcyAmJiBjaGlsZHJlbkxlbmd0aCAhPT0gMCkge1xuICAgICAgcHJvcHMgPSB7XG4gICAgICAgIGNoaWxkcmVuOiB2b2lkIDBcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHByb3BzICYmIGRlZmF1bHRQcm9wcykge1xuICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHZvaWQgMCkge1xuICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFwcm9wcykge1xuICAgICAgcHJvcHMgPSBkZWZhdWx0UHJvcHMgfHwge307XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgICB2YXIgY2hpbGRBcnJheSA9IG5ldyBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAzXTtcbiAgICAgIH1cblxuICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGtleToga2V5ID09PSB1bmRlZmluZWQgPyBudWxsIDogJycgKyBrZXksXG4gICAgICByZWY6IG51bGwsXG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBfb3duZXI6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gX2FzeW5jSXRlcmF0b3IoaXRlcmFibGUpIHtcbiAgICB2YXIgbWV0aG9kO1xuXG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChTeW1ib2wuYXN5bmNJdGVyYXRvcikge1xuICAgICAgICBtZXRob2QgPSBpdGVyYWJsZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl07XG4gICAgICAgIGlmIChtZXRob2QgIT0gbnVsbCkgcmV0dXJuIG1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICBtZXRob2QgPSBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdO1xuICAgICAgICBpZiAobWV0aG9kICE9IG51bGwpIHJldHVybiBtZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IGlzIG5vdCBhc3luYyBpdGVyYWJsZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gX0F3YWl0VmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLndyYXBwZWQgPSB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9Bc3luY0dlbmVyYXRvcihnZW4pIHtcbiAgICB2YXIgZnJvbnQsIGJhY2s7XG5cbiAgICBmdW5jdGlvbiBzZW5kKGtleSwgYXJnKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIGFyZzogYXJnLFxuICAgICAgICAgIHJlc29sdmU6IHJlc29sdmUsXG4gICAgICAgICAgcmVqZWN0OiByZWplY3QsXG4gICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChiYWNrKSB7XG4gICAgICAgICAgYmFjayA9IGJhY2submV4dCA9IHJlcXVlc3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZnJvbnQgPSBiYWNrID0gcmVxdWVzdDtcbiAgICAgICAgICByZXN1bWUoa2V5LCBhcmcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXN1bWUoa2V5LCBhcmcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBnZW5ba2V5XShhcmcpO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIHZhciB3cmFwcGVkQXdhaXQgPSB2YWx1ZSBpbnN0YW5jZW9mIF9Bd2FpdFZhbHVlO1xuICAgICAgICBQcm9taXNlLnJlc29sdmUod3JhcHBlZEF3YWl0ID8gdmFsdWUud3JhcHBlZCA6IHZhbHVlKS50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgaWYgKHdyYXBwZWRBd2FpdCkge1xuICAgICAgICAgICAgICByZXN1bWUoJ25leHQnLCBhcmcpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldHRsZShyZXN1bHQuZG9uZSA/ICdyZXR1cm4nIDogJ25vcm1hbCcsIGFyZyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIHJlc3VtZSgndGhyb3cnLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXR0bGUoJ3Rocm93JywgZXJyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXR0bGUodHlwZSwgdmFsdWUpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdyZXR1cm4nOlxuICAgICAgICAgIGZyb250LnJlc29sdmUoe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3Rocm93JzpcbiAgICAgICAgICBmcm9udC5yZWplY3QodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgZnJvbnQucmVzb2x2ZSh7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBmcm9udCA9IGZyb250Lm5leHQ7XG5cbiAgICAgIGlmIChmcm9udCkge1xuICAgICAgICByZXN1bWUoZnJvbnQua2V5LCBmcm9udC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFjayA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5faW52b2tlID0gc2VuZDtcblxuICAgIGlmICh0eXBlb2YgZ2VuLnJldHVybiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5yZXR1cm4gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHtcbiAgICBfQXN5bmNHZW5lcmF0b3IucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgfVxuXG4gIF9Bc3luY0dlbmVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0aGlzLl9pbnZva2UoJ25leHQnLCBhcmcpO1xuICB9O1xuXG4gIF9Bc3luY0dlbmVyYXRvci5wcm90b3R5cGUudGhyb3cgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5faW52b2tlKCd0aHJvdycsIGFyZyk7XG4gIH07XG5cbiAgX0FzeW5jR2VuZXJhdG9yLnByb3RvdHlwZS5yZXR1cm4gPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5faW52b2tlKCdyZXR1cm4nLCBhcmcpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF93cmFwQXN5bmNHZW5lcmF0b3IoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IF9Bc3luY0dlbmVyYXRvcihmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gX2F3YWl0QXN5bmNHZW5lcmF0b3IodmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IF9Bd2FpdFZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hc3luY0dlbmVyYXRvckRlbGVnYXRlKGlubmVyLCBhd2FpdFdyYXApIHtcbiAgICB2YXIgaXRlciA9IHt9LFxuICAgICAgd2FpdGluZyA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gcHVtcChrZXksIHZhbHVlKSB7XG4gICAgICB3YWl0aW5nID0gdHJ1ZTtcbiAgICAgIHZhbHVlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICByZXNvbHZlKGlubmVyW2tleV0odmFsdWUpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBhd2FpdFdyYXAodmFsdWUpXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgaXRlcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHdhaXRpbmcpIHtcbiAgICAgICAgd2FpdGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwdW1wKCduZXh0JywgdmFsdWUpO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIGlubmVyLnRocm93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpdGVyLnRocm93ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKHdhaXRpbmcpIHtcbiAgICAgICAgICB3YWl0aW5nID0gZmFsc2U7XG4gICAgICAgICAgdGhyb3cgdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHVtcCgndGhyb3cnLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaW5uZXIucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpdGVyLnJldHVybiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBwdW1wKCdyZXR1cm4nLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBpdGVyO1xuICB9XG5cbiAgZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICAgIHRyeSB7XG4gICAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChcbiAgICAgICAgICAgIGdlbixcbiAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICBfbmV4dCxcbiAgICAgICAgICAgIF90aHJvdyxcbiAgICAgICAgICAgICduZXh0JyxcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICd0aHJvdycsIGVycik7XG4gICAgICAgIH1cblxuICAgICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVFbnVtZXJhYmxlUHJvcGVydGllcyhvYmosIGRlc2NzKSB7XG4gICAgZm9yICh2YXIga2V5IGluIGRlc2NzKSB7XG4gICAgICB2YXIgZGVzYyA9IGRlc2NzW2tleV07XG4gICAgICBkZXNjLmNvbmZpZ3VyYWJsZSA9IGRlc2MuZW51bWVyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSBkZXNjLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgZGVzYyk7XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIHZhciBvYmplY3RTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhkZXNjcyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0U3ltYm9scy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc3ltID0gb2JqZWN0U3ltYm9sc1tpXTtcbiAgICAgICAgdmFyIGRlc2MgPSBkZXNjc1tzeW1dO1xuICAgICAgICBkZXNjLmNvbmZpZ3VyYWJsZSA9IGRlc2MuZW51bWVyYWJsZSA9IHRydWU7XG4gICAgICAgIGlmICgndmFsdWUnIGluIGRlc2MpIGRlc2Mud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBzeW0sIGRlc2MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7XG5cbiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gICAgX2V4dGVuZHMgPVxuICAgICAgT2JqZWN0LmFzc2lnbiB8fFxuICAgICAgZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH07XG5cbiAgICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuICAgICAgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgICBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3duS2V5cyA9IG93bktleXMuY29uY2F0KFxuICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24oc3ltKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICAgIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZlxuICAgICAgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2ZcbiAgICAgIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICAgICAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICAgICAgICB9O1xuICAgIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH1cblxuICBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIF9zZXRQcm90b3R5cGVPZiA9XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgIGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgICAgIG8uX19wcm90b19fID0gcDtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgICB9O1xuXG4gICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICd1bmRlZmluZWQnIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHRydWU7XG5cbiAgICB0cnkge1xuICAgICAgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24oKSB7fSkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICAgIGlmIChpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkge1xuICAgICAgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICAgIHZhciBhID0gW251bGxdO1xuICAgICAgICBhLnB1c2guYXBwbHkoYSwgYXJncyk7XG4gICAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7XG4gICAgICAgIGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikge1xuICAgIHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKCdbbmF0aXZlIGNvZGVdJykgIT09IC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICAgIHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSAnZnVuY3Rpb24nID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkO1xuXG4gICAgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgICAgIGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7XG5cbiAgICAgIGlmICh0eXBlb2YgQ2xhc3MgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAnU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24nXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgX2NhY2hlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtcblxuICAgICAgICBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgICAgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTtcbiAgICAgIH1cblxuICAgICAgV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgIHZhbHVlOiBXcmFwcGVyLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5zdGFuY2VvZihsZWZ0LCByaWdodCkge1xuICAgIGlmIChcbiAgICAgIHJpZ2h0ICE9IG51bGwgJiZcbiAgICAgIHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICByaWdodFtTeW1ib2wuaGFzSW5zdGFuY2VdXG4gICAgKSB7XG4gICAgICByZXR1cm4gcmlnaHRbU3ltYm9sLmhhc0luc3RhbmNlXShsZWZ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGxlZnQgaW5zdGFuY2VvZiByaWdodDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGVcbiAgICAgID8gb2JqXG4gICAgICA6IHtcbiAgICAgICAgICBkZWZhdWx0OiBvYmpcbiAgICAgICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikge1xuICAgIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBuZXdPYmogPSB7fTtcblxuICAgICAgaWYgKG9iaiAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgdmFyIGRlc2MgPVxuICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvclxuICAgICAgICAgICAgICAgID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSlcbiAgICAgICAgICAgICAgICA6IHt9O1xuXG4gICAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHtcbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG5ld09iai5kZWZhdWx0ID0gb2JqO1xuICAgICAgcmV0dXJuIG5ld09iajtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfbmV3QXJyb3dDaGVjayhpbm5lclRoaXMsIGJvdW5kVGhpcykge1xuICAgIGlmIChpbm5lclRoaXMgIT09IGJvdW5kVGhpcykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGluc3RhbnRpYXRlIGFuIGFycm93IGZ1bmN0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdERlc3RydWN0dXJpbmdFbXB0eShvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBkZXN0cnVjdHVyZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgICB2YXIgdGFyZ2V0ID0ge307XG4gICAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgIHZhciBrZXksIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICAgIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuXG4gICAgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpO1xuXG4gICAgdmFyIGtleSwgaTtcblxuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTtcbiAgICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gICAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxuICAgICAgICBcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9XG5cbiAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgIGlmIChjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGNhbGwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICByZXR1cm4gY2FsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdXBlclByb3BCYXNlKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgICAgb2JqZWN0ID0gX2dldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gICAgICBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgUmVmbGVjdC5nZXQpIHtcbiAgICAgIF9nZXQgPSBSZWZsZWN0LmdldDtcbiAgICB9IGVsc2Uge1xuICAgICAgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTtcblxuICAgICAgICBpZiAoIWJhc2UpIHJldHVybjtcbiAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTtcblxuICAgICAgICBpZiAoZGVzYy5nZXQpIHtcbiAgICAgICAgICByZXR1cm4gZGVzYy5nZXQuY2FsbChyZWNlaXZlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVzYy52YWx1ZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgIT09ICd1bmRlZmluZWQnICYmIFJlZmxlY3Quc2V0KSB7XG4gICAgICBzZXQgPSBSZWZsZWN0LnNldDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0ID0gZnVuY3Rpb24gc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICB2YXIgYmFzZSA9IF9zdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpO1xuXG4gICAgICAgIHZhciBkZXNjO1xuXG4gICAgICAgIGlmIChiYXNlKSB7XG4gICAgICAgICAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpO1xuXG4gICAgICAgICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICAgICAgICBkZXNjLnNldC5jYWxsKHJlY2VpdmVyLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFkZXNjLndyaXRhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocmVjZWl2ZXIsIHByb3BlcnR5KTtcblxuICAgICAgICBpZiAoZGVzYykge1xuICAgICAgICAgIGlmICghZGVzYy53cml0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlc2MudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIHByb3BlcnR5LCBkZXNjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIsIGlzU3RyaWN0KSB7XG4gICAgdmFyIHMgPSBzZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyIHx8IHRhcmdldCk7XG5cbiAgICBpZiAoIXMgJiYgaXNTdHJpY3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIHNldCBwcm9wZXJ0eScpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoc3RyaW5ncywgcmF3KSB7XG4gICAgaWYgKCFyYXcpIHtcbiAgICAgIHJhdyA9IHN0cmluZ3Muc2xpY2UoMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzdHJpbmdzLCB7XG4gICAgICAgIHJhdzoge1xuICAgICAgICAgIHZhbHVlOiBPYmplY3QuZnJlZXplKHJhdylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKHN0cmluZ3MsIHJhdykge1xuICAgIGlmICghcmF3KSB7XG4gICAgICByYXcgPSBzdHJpbmdzLnNsaWNlKDApO1xuICAgIH1cblxuICAgIHN0cmluZ3MucmF3ID0gcmF3O1xuICAgIHJldHVybiBzdHJpbmdzO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RlbXBvcmFsUmVmKHZhbCwgbmFtZSkge1xuICAgIGlmICh2YWwgPT09IF90ZW1wb3JhbFVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKG5hbWUgKyAnIGlzIG5vdCBkZWZpbmVkIC0gdGVtcG9yYWwgZGVhZCB6b25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX3JlYWRPbmx5RXJyb3IobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignXCInICsgbmFtZSArICdcIiBpcyByZWFkLW9ubHknKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc05hbWVURFpFcnJvcihuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0NsYXNzIFwiJyArIG5hbWUgKyAnXCIgY2Fubm90IGJlIHJlZmVyZW5jZWQgaW4gY29tcHV0ZWQgcHJvcGVydHkga2V5cy4nXG4gICAgKTtcbiAgfVxuXG4gIHZhciBfdGVtcG9yYWxVbmRlZmluZWQgPSB7fTtcblxuICBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgX2FycmF5V2l0aEhvbGVzKGFycikgfHxcbiAgICAgIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8XG4gICAgICBfbm9uSXRlcmFibGVSZXN0KClcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXlMb29zZShhcnIsIGkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgX2FycmF5V2l0aEhvbGVzKGFycikgfHxcbiAgICAgIF9pdGVyYWJsZVRvQXJyYXlMaW1pdExvb3NlKGFyciwgaSkgfHxcbiAgICAgIF9ub25JdGVyYWJsZVJlc3QoKVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBfdG9BcnJheShhcnIpIHtcbiAgICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKylcbiAgICAgICAgYXJyMltpXSA9IGFycltpXTtcblxuICAgICAgcmV0dXJuIGFycjI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG4gIH1cblxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgICBpZiAoXG4gICAgICBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8XG4gICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICdbb2JqZWN0IEFyZ3VtZW50c10nXG4gICAgKVxuICAgICAgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG4gIH1cblxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gICAgdmFyIF9hcnIgPSBbXTtcbiAgICB2YXIgX24gPSB0cnVlO1xuICAgIHZhciBfZCA9IGZhbHNlO1xuICAgIHZhciBfZSA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfcztcbiAgICAgICAgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7XG4gICAgICAgIF9uID0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSB0cnVlO1xuICAgICAgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgX2lbJ3JldHVybiddICE9IG51bGwpIF9pWydyZXR1cm4nXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdExvb3NlKGFyciwgaSkge1xuICAgIHZhciBfYXJyID0gW107XG5cbiAgICBmb3IgKFxuICAgICAgdmFyIF9pdGVyYXRvciA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwO1xuICAgICAgIShfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmU7XG5cbiAgICApIHtcbiAgICAgIF9hcnIucHVzaChfc3RlcC52YWx1ZSk7XG5cbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfc2tpcEZpcnN0R2VuZXJhdG9yTmV4dChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpdCA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBpdC5uZXh0KCk7XG4gICAgICByZXR1cm4gaXQ7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdvYmplY3QnIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7XG4gICAgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdO1xuXG4gICAgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCAnZGVmYXVsdCcpO1xuICAgICAgaWYgKHR5cGVvZiByZXMgIT09ICdvYmplY3QnKSByZXR1cm4gcmVzO1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKGhpbnQgPT09ICdzdHJpbmcnID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7XG4gIH1cblxuICBmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHtcbiAgICB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgJ3N0cmluZycpO1xuXG4gICAgcmV0dXJuIHR5cGVvZiBrZXkgPT09ICdzeW1ib2wnID8ga2V5IDogU3RyaW5nKGtleSk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICtcbiAgICAgICAgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICtcbiAgICAgICAgJ1RvIHVzZSBwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGluIHNwZWMgbW9kZSB3aXRoIGRlY29yYXRvcnMsIHdhaXQgZm9yICcgK1xuICAgICAgICAndGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBkZWNvcmF0b3JzIGluIHN0YWdlIDIuJ1xuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHtcbiAgICAgIGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsXG4gICAgICB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSxcbiAgICAgIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyXG4gICAgICAgID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpXG4gICAgICAgIDogdm9pZCAwXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKFxuICAgIHRhcmdldCxcbiAgICBwcm9wZXJ0eSxcbiAgICBkZWNvcmF0b3JzLFxuICAgIGRlc2NyaXB0b3IsXG4gICAgY29udGV4dFxuICApIHtcbiAgICB2YXIgZGVzYyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07XG4gICAgfSk7XG4gICAgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7XG4gICAgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlO1xuXG4gICAgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7XG4gICAgICBkZXNjLndyaXRhYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBkZXNjID0gZGVjb3JhdG9yc1xuICAgICAgLnNsaWNlKClcbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5yZWR1Y2UoZnVuY3Rpb24oZGVzYywgZGVjb3JhdG9yKSB7XG4gICAgICAgIHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYztcbiAgICAgIH0sIGRlc2MpO1xuXG4gICAgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7XG4gICAgICBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDtcbiAgICAgIGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpO1xuICAgICAgZGVzYyA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc2M7XG4gIH1cblxuICB2YXIgaWQgPSAwO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KG5hbWUpIHtcbiAgICByZXR1cm4gJ19fcHJpdmF0ZV8nICsgaWQrKyArICdfJyArIG5hbWU7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZWNlaXZlciwgcHJpdmF0ZUtleSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byB1c2UgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVjZWl2ZXI7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZScpO1xuICAgIH1cblxuICAgIHZhciBkZXNjcmlwdG9yID0gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xuXG4gICAgaWYgKGRlc2NyaXB0b3IuZ2V0KSB7XG4gICAgICByZXR1cm4gZGVzY3JpcHRvci5nZXQuY2FsbChyZWNlaXZlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc2NyaXB0b3IudmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICB9XG5cbiAgICB2YXIgZGVzY3JpcHRvciA9IHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcblxuICAgIGlmIChkZXNjcmlwdG9yLnNldCkge1xuICAgICAgZGVzY3JpcHRvci5zZXQuY2FsbChyZWNlaXZlciwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWRlc2NyaXB0b3Iud3JpdGFibGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgcHJpdmF0ZSBmaWVsZCcpO1xuICAgICAgfVxuXG4gICAgICBkZXNjcmlwdG9yLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzU3RhdGljUHJpdmF0ZUZpZWxkU3BlY0dldChcbiAgICByZWNlaXZlcixcbiAgICBjbGFzc0NvbnN0cnVjdG9yLFxuICAgIGRlc2NyaXB0b3JcbiAgKSB7XG4gICAgaWYgKHJlY2VpdmVyICE9PSBjbGFzc0NvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIHN0YXRpYyBhY2Nlc3Mgb2Ygd3JvbmcgcHJvdmVuYW5jZScpO1xuICAgIH1cblxuICAgIHJldHVybiBkZXNjcmlwdG9yLnZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzU3RhdGljUHJpdmF0ZUZpZWxkU3BlY1NldChcbiAgICByZWNlaXZlcixcbiAgICBjbGFzc0NvbnN0cnVjdG9yLFxuICAgIGRlc2NyaXB0b3IsXG4gICAgdmFsdWVcbiAgKSB7XG4gICAgaWYgKHJlY2VpdmVyICE9PSBjbGFzc0NvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIHN0YXRpYyBhY2Nlc3Mgb2Ygd3JvbmcgcHJvdmVuYW5jZScpO1xuICAgIH1cblxuICAgIGlmICghZGVzY3JpcHRvci53cml0YWJsZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgcHJpdmF0ZSBmaWVsZCcpO1xuICAgIH1cblxuICAgIGRlc2NyaXB0b3IudmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NTdGF0aWNQcml2YXRlTWV0aG9kR2V0KHJlY2VpdmVyLCBjbGFzc0NvbnN0cnVjdG9yLCBtZXRob2QpIHtcbiAgICBpZiAocmVjZWl2ZXIgIT09IGNsYXNzQ29uc3RydWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ByaXZhdGUgc3RhdGljIGFjY2VzcyBvZiB3cm9uZyBwcm92ZW5hbmNlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1ldGhvZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1N0YXRpY1ByaXZhdGVNZXRob2RTZXQoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgc3RhdGljIHByaXZhdGUgZmllbGQnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWNvcmF0ZShkZWNvcmF0b3JzLCBmYWN0b3J5LCBzdXBlckNsYXNzLCBtaXhpbnMpIHtcbiAgICB2YXIgYXBpID0gX2dldERlY29yYXRvcnNBcGkoKTtcblxuICAgIGlmIChtaXhpbnMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFwaSA9IG1peGluc1tpXShhcGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByID0gZmFjdG9yeShmdW5jdGlvbiBpbml0aWFsaXplKE8pIHtcbiAgICAgIGFwaS5pbml0aWFsaXplSW5zdGFuY2VFbGVtZW50cyhPLCBkZWNvcmF0ZWQuZWxlbWVudHMpO1xuICAgIH0sIHN1cGVyQ2xhc3MpO1xuICAgIHZhciBkZWNvcmF0ZWQgPSBhcGkuZGVjb3JhdGVDbGFzcyhcbiAgICAgIF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoci5kLm1hcChfY3JlYXRlRWxlbWVudERlc2NyaXB0b3IpKSxcbiAgICAgIGRlY29yYXRvcnNcbiAgICApO1xuICAgIGFwaS5pbml0aWFsaXplQ2xhc3NFbGVtZW50cyhyLkYsIGRlY29yYXRlZC5lbGVtZW50cyk7XG4gICAgcmV0dXJuIGFwaS5ydW5DbGFzc0ZpbmlzaGVycyhyLkYsIGRlY29yYXRlZC5maW5pc2hlcnMpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldERlY29yYXRvcnNBcGkoKSB7XG4gICAgX2dldERlY29yYXRvcnNBcGkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBhcGk7XG4gICAgfTtcblxuICAgIHZhciBhcGkgPSB7XG4gICAgICBlbGVtZW50c0RlZmluaXRpb25PcmRlcjogW1snbWV0aG9kJ10sIFsnZmllbGQnXV0sXG4gICAgICBpbml0aWFsaXplSW5zdGFuY2VFbGVtZW50czogZnVuY3Rpb24oTywgZWxlbWVudHMpIHtcbiAgICAgICAgWydtZXRob2QnLCAnZmllbGQnXS5mb3JFYWNoKGZ1bmN0aW9uKGtpbmQpIHtcbiAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmtpbmQgPT09IGtpbmQgJiYgZWxlbWVudC5wbGFjZW1lbnQgPT09ICdvd24nKSB7XG4gICAgICAgICAgICAgIHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KE8sIGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgIH0sXG4gICAgICBpbml0aWFsaXplQ2xhc3NFbGVtZW50czogZnVuY3Rpb24oRiwgZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIHByb3RvID0gRi5wcm90b3R5cGU7XG4gICAgICAgIFsnbWV0aG9kJywgJ2ZpZWxkJ10uZm9yRWFjaChmdW5jdGlvbihraW5kKSB7XG4gICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgcGxhY2VtZW50ID0gZWxlbWVudC5wbGFjZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgZWxlbWVudC5raW5kID09PSBraW5kICYmXG4gICAgICAgICAgICAgIChwbGFjZW1lbnQgPT09ICdzdGF0aWMnIHx8IHBsYWNlbWVudCA9PT0gJ3Byb3RvdHlwZScpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFyIHJlY2VpdmVyID0gcGxhY2VtZW50ID09PSAnc3RhdGljJyA/IEYgOiBwcm90bztcbiAgICAgICAgICAgICAgdGhpcy5kZWZpbmVDbGFzc0VsZW1lbnQocmVjZWl2ZXIsIGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgIH0sXG4gICAgICBkZWZpbmVDbGFzc0VsZW1lbnQ6IGZ1bmN0aW9uKHJlY2VpdmVyLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yO1xuXG4gICAgICAgIGlmIChlbGVtZW50LmtpbmQgPT09ICdmaWVsZCcpIHtcbiAgICAgICAgICB2YXIgaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyO1xuICAgICAgICAgIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsXG4gICAgICAgICAgICB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsXG4gICAgICAgICAgICB2YWx1ZTogaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWxpemVyLmNhbGwocmVjZWl2ZXIpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWNlaXZlciwgZWxlbWVudC5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgfSxcbiAgICAgIGRlY29yYXRlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnRzLCBkZWNvcmF0b3JzKSB7XG4gICAgICAgIHZhciBuZXdFbGVtZW50cyA9IFtdO1xuICAgICAgICB2YXIgZmluaXNoZXJzID0gW107XG4gICAgICAgIHZhciBwbGFjZW1lbnRzID0ge1xuICAgICAgICAgIHN0YXRpYzogW10sXG4gICAgICAgICAgcHJvdG90eXBlOiBbXSxcbiAgICAgICAgICBvd246IFtdXG4gICAgICAgIH07XG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIGlmICghX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHJldHVybiBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgIHZhciBlbGVtZW50RmluaXNoZXJzRXh0cmFzID0gdGhpcy5kZWNvcmF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgcGxhY2VtZW50c1xuICAgICAgICAgICk7XG4gICAgICAgICAgbmV3RWxlbWVudHMucHVzaChlbGVtZW50RmluaXNoZXJzRXh0cmFzLmVsZW1lbnQpO1xuICAgICAgICAgIG5ld0VsZW1lbnRzLnB1c2guYXBwbHkobmV3RWxlbWVudHMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZXh0cmFzKTtcbiAgICAgICAgICBmaW5pc2hlcnMucHVzaC5hcHBseShmaW5pc2hlcnMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZmluaXNoZXJzKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKCFkZWNvcmF0b3JzKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVsZW1lbnRzOiBuZXdFbGVtZW50cyxcbiAgICAgICAgICAgIGZpbmlzaGVyczogZmluaXNoZXJzXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29yYXRlQ29uc3RydWN0b3IobmV3RWxlbWVudHMsIGRlY29yYXRvcnMpO1xuICAgICAgICBmaW5pc2hlcnMucHVzaC5hcHBseShmaW5pc2hlcnMsIHJlc3VsdC5maW5pc2hlcnMpO1xuICAgICAgICByZXN1bHQuZmluaXNoZXJzID0gZmluaXNoZXJzO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIGFkZEVsZW1lbnRQbGFjZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHBsYWNlbWVudHMsIHNpbGVudCkge1xuICAgICAgICB2YXIga2V5cyA9IHBsYWNlbWVudHNbZWxlbWVudC5wbGFjZW1lbnRdO1xuXG4gICAgICAgIGlmICghc2lsZW50ICYmIGtleXMuaW5kZXhPZihlbGVtZW50LmtleSkgIT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRHVwbGljYXRlZCBlbGVtZW50ICgnICsgZWxlbWVudC5rZXkgKyAnKScpO1xuICAgICAgICB9XG5cbiAgICAgICAga2V5cy5wdXNoKGVsZW1lbnQua2V5KTtcbiAgICAgIH0sXG4gICAgICBkZWNvcmF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHBsYWNlbWVudHMpIHtcbiAgICAgICAgdmFyIGV4dHJhcyA9IFtdO1xuICAgICAgICB2YXIgZmluaXNoZXJzID0gW107XG5cbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgZGVjb3JhdG9ycyA9IGVsZW1lbnQuZGVjb3JhdG9ycywgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICBpID49IDA7XG4gICAgICAgICAgaS0tXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBrZXlzID0gcGxhY2VtZW50c1tlbGVtZW50LnBsYWNlbWVudF07XG4gICAgICAgICAga2V5cy5zcGxpY2Uoa2V5cy5pbmRleE9mKGVsZW1lbnQua2V5KSwgMSk7XG4gICAgICAgICAgdmFyIGVsZW1lbnRPYmplY3QgPSB0aGlzLmZyb21FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50KTtcbiAgICAgICAgICB2YXIgZWxlbWVudEZpbmlzaGVyRXh0cmFzID0gdGhpcy50b0VsZW1lbnRGaW5pc2hlckV4dHJhcyhcbiAgICAgICAgICAgICgwLCBkZWNvcmF0b3JzW2ldKShlbGVtZW50T2JqZWN0KSB8fCBlbGVtZW50T2JqZWN0XG4gICAgICAgICAgKTtcbiAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudEZpbmlzaGVyRXh0cmFzLmVsZW1lbnQ7XG4gICAgICAgICAgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpO1xuXG4gICAgICAgICAgaWYgKGVsZW1lbnRGaW5pc2hlckV4dHJhcy5maW5pc2hlcikge1xuICAgICAgICAgICAgZmluaXNoZXJzLnB1c2goZWxlbWVudEZpbmlzaGVyRXh0cmFzLmZpbmlzaGVyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbmV3RXh0cmFzID0gZWxlbWVudEZpbmlzaGVyRXh0cmFzLmV4dHJhcztcblxuICAgICAgICAgIGlmIChuZXdFeHRyYXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3RXh0cmFzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChuZXdFeHRyYXNbal0sIHBsYWNlbWVudHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBleHRyYXMucHVzaC5hcHBseShleHRyYXMsIG5ld0V4dHJhcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgIGZpbmlzaGVyczogZmluaXNoZXJzLFxuICAgICAgICAgIGV4dHJhczogZXh0cmFzXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgZGVjb3JhdGVDb25zdHJ1Y3RvcjogZnVuY3Rpb24oZWxlbWVudHMsIGRlY29yYXRvcnMpIHtcbiAgICAgICAgdmFyIGZpbmlzaGVycyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdmFyIG9iaiA9IHRoaXMuZnJvbUNsYXNzRGVzY3JpcHRvcihlbGVtZW50cyk7XG4gICAgICAgICAgdmFyIGVsZW1lbnRzQW5kRmluaXNoZXIgPSB0aGlzLnRvQ2xhc3NEZXNjcmlwdG9yKFxuICAgICAgICAgICAgKDAsIGRlY29yYXRvcnNbaV0pKG9iaikgfHwgb2JqXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZpbmlzaGVycy5wdXNoKGVsZW1lbnRzQW5kRmluaXNoZXIuZmluaXNoZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmVsZW1lbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVsZW1lbnRzID0gZWxlbWVudHNBbmRGaW5pc2hlci5lbGVtZW50cztcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlbGVtZW50cy5sZW5ndGggLSAxOyBqKyspIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgayA9IGogKyAxOyBrIDwgZWxlbWVudHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBlbGVtZW50c1tqXS5rZXkgPT09IGVsZW1lbnRzW2tdLmtleSAmJlxuICAgICAgICAgICAgICAgICAgZWxlbWVudHNbal0ucGxhY2VtZW50ID09PSBlbGVtZW50c1trXS5wbGFjZW1lbnRcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdEdXBsaWNhdGVkIGVsZW1lbnQgKCcgKyBlbGVtZW50c1tqXS5rZXkgKyAnKSdcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICAgICAgZmluaXNoZXJzOiBmaW5pc2hlcnNcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBmcm9tRWxlbWVudERlc2NyaXB0b3I6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG9iaiA9IHtcbiAgICAgICAgICBraW5kOiBlbGVtZW50LmtpbmQsXG4gICAgICAgICAga2V5OiBlbGVtZW50LmtleSxcbiAgICAgICAgICBwbGFjZW1lbnQ6IGVsZW1lbnQucGxhY2VtZW50LFxuICAgICAgICAgIGRlc2NyaXB0b3I6IGVsZW1lbnQuZGVzY3JpcHRvclxuICAgICAgICB9O1xuICAgICAgICB2YXIgZGVzYyA9IHtcbiAgICAgICAgICB2YWx1ZTogJ0Rlc2NyaXB0b3InLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBTeW1ib2wudG9TdHJpbmdUYWcsIGRlc2MpO1xuICAgICAgICBpZiAoZWxlbWVudC5raW5kID09PSAnZmllbGQnKSBvYmouaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfSxcbiAgICAgIHRvRWxlbWVudERlc2NyaXB0b3JzOiBmdW5jdGlvbihlbGVtZW50T2JqZWN0cykge1xuICAgICAgICBpZiAoZWxlbWVudE9iamVjdHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICByZXR1cm4gX3RvQXJyYXkoZWxlbWVudE9iamVjdHMpLm1hcChmdW5jdGlvbihlbGVtZW50T2JqZWN0KSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7XG4gICAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KFxuICAgICAgICAgICAgZWxlbWVudE9iamVjdCxcbiAgICAgICAgICAgICdmaW5pc2hlcicsXG4gICAgICAgICAgICAnQW4gZWxlbWVudCBkZXNjcmlwdG9yJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KFxuICAgICAgICAgICAgZWxlbWVudE9iamVjdCxcbiAgICAgICAgICAgICdleHRyYXMnLFxuICAgICAgICAgICAgJ0FuIGVsZW1lbnQgZGVzY3JpcHRvcidcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgIH0sXG4gICAgICB0b0VsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbihlbGVtZW50T2JqZWN0KSB7XG4gICAgICAgIHZhciBraW5kID0gU3RyaW5nKGVsZW1lbnRPYmplY3Qua2luZCk7XG5cbiAgICAgICAgaWYgKGtpbmQgIT09ICdtZXRob2QnICYmIGtpbmQgIT09ICdmaWVsZCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgJ0FuIGVsZW1lbnQgZGVzY3JpcHRvclxcJ3MgLmtpbmQgcHJvcGVydHkgbXVzdCBiZSBlaXRoZXIgXCJtZXRob2RcIiBvcicgK1xuICAgICAgICAgICAgICAnIFwiZmllbGRcIiwgYnV0IGEgZGVjb3JhdG9yIGNyZWF0ZWQgYW4gZWxlbWVudCBkZXNjcmlwdG9yIHdpdGgnICtcbiAgICAgICAgICAgICAgJyAua2luZCBcIicgK1xuICAgICAgICAgICAgICBraW5kICtcbiAgICAgICAgICAgICAgJ1wiJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZWxlbWVudE9iamVjdC5rZXkpO1xuXG4gICAgICAgIHZhciBwbGFjZW1lbnQgPSBTdHJpbmcoZWxlbWVudE9iamVjdC5wbGFjZW1lbnQpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwbGFjZW1lbnQgIT09ICdzdGF0aWMnICYmXG4gICAgICAgICAgcGxhY2VtZW50ICE9PSAncHJvdG90eXBlJyAmJlxuICAgICAgICAgIHBsYWNlbWVudCAhPT0gJ293bidcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5wbGFjZW1lbnQgcHJvcGVydHkgbXVzdCBiZSBvbmUgb2YgXCJzdGF0aWNcIiwnICtcbiAgICAgICAgICAgICAgJyBcInByb3RvdHlwZVwiIG9yIFwib3duXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvcicgK1xuICAgICAgICAgICAgICAnIHdpdGggLnBsYWNlbWVudCBcIicgK1xuICAgICAgICAgICAgICBwbGFjZW1lbnQgK1xuICAgICAgICAgICAgICAnXCInXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gZWxlbWVudE9iamVjdC5kZXNjcmlwdG9yO1xuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgZWxlbWVudE9iamVjdCxcbiAgICAgICAgICAnZWxlbWVudHMnLFxuICAgICAgICAgICdBbiBlbGVtZW50IGRlc2NyaXB0b3InXG4gICAgICAgICk7XG4gICAgICAgIHZhciBlbGVtZW50ID0ge1xuICAgICAgICAgIGtpbmQ6IGtpbmQsXG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICAgICAgZGVzY3JpcHRvcjogT2JqZWN0LmFzc2lnbih7fSwgZGVzY3JpcHRvcilcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoa2luZCAhPT0gJ2ZpZWxkJykge1xuICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShcbiAgICAgICAgICAgIGVsZW1lbnRPYmplY3QsXG4gICAgICAgICAgICAnaW5pdGlhbGl6ZXInLFxuICAgICAgICAgICAgJ0EgbWV0aG9kIGRlc2NyaXB0b3InXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgJ2dldCcsXG4gICAgICAgICAgICAnVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KFxuICAgICAgICAgICAgZGVzY3JpcHRvcixcbiAgICAgICAgICAgICdzZXQnLFxuICAgICAgICAgICAgJ1RoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvcidcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShcbiAgICAgICAgICAgIGRlc2NyaXB0b3IsXG4gICAgICAgICAgICAndmFsdWUnLFxuICAgICAgICAgICAgJ1RoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvcidcbiAgICAgICAgICApO1xuICAgICAgICAgIGVsZW1lbnQuaW5pdGlhbGl6ZXIgPSBlbGVtZW50T2JqZWN0LmluaXRpYWxpemVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9LFxuICAgICAgdG9FbGVtZW50RmluaXNoZXJFeHRyYXM6IGZ1bmN0aW9uKGVsZW1lbnRPYmplY3QpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7XG5cbiAgICAgICAgdmFyIGZpbmlzaGVyID0gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCAnZmluaXNoZXInKTtcblxuICAgICAgICB2YXIgZXh0cmFzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhlbGVtZW50T2JqZWN0LmV4dHJhcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICBmaW5pc2hlcjogZmluaXNoZXIsXG4gICAgICAgICAgZXh0cmFzOiBleHRyYXNcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBmcm9tQ2xhc3NEZXNjcmlwdG9yOiBmdW5jdGlvbihlbGVtZW50cykge1xuICAgICAgICB2YXIgb2JqID0ge1xuICAgICAgICAgIGtpbmQ6ICdjbGFzcycsXG4gICAgICAgICAgZWxlbWVudHM6IGVsZW1lbnRzLm1hcCh0aGlzLmZyb21FbGVtZW50RGVzY3JpcHRvciwgdGhpcylcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlc2MgPSB7XG4gICAgICAgICAgdmFsdWU6ICdEZXNjcmlwdG9yJyxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkZXNjKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sXG4gICAgICB0b0NsYXNzRGVzY3JpcHRvcjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHZhciBraW5kID0gU3RyaW5nKG9iai5raW5kKTtcblxuICAgICAgICBpZiAoa2luZCAhPT0gJ2NsYXNzJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAnQSBjbGFzcyBkZXNjcmlwdG9yXFwncyAua2luZCBwcm9wZXJ0eSBtdXN0IGJlIFwiY2xhc3NcIiwgYnV0IGEgZGVjb3JhdG9yJyArXG4gICAgICAgICAgICAgICcgY3JlYXRlZCBhIGNsYXNzIGRlc2NyaXB0b3Igd2l0aCAua2luZCBcIicgK1xuICAgICAgICAgICAgICBraW5kICtcbiAgICAgICAgICAgICAgJ1wiJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAna2V5JywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAncGxhY2VtZW50JywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAnZGVzY3JpcHRvcicsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcbiAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgJ2luaXRpYWxpemVyJywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAnZXh0cmFzJywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuXG4gICAgICAgIHZhciBmaW5pc2hlciA9IF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkob2JqLCAnZmluaXNoZXInKTtcblxuICAgICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3JzKG9iai5lbGVtZW50cyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgICAgICAgIGZpbmlzaGVyOiBmaW5pc2hlclxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHJ1bkNsYXNzRmluaXNoZXJzOiBmdW5jdGlvbihjb25zdHJ1Y3RvciwgZmluaXNoZXJzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmluaXNoZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIG5ld0NvbnN0cnVjdG9yID0gKDAsIGZpbmlzaGVyc1tpXSkoY29uc3RydWN0b3IpO1xuXG4gICAgICAgICAgaWYgKG5ld0NvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3Q29uc3RydWN0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmluaXNoZXJzIG11c3QgcmV0dXJuIGEgY29uc3RydWN0b3IuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gbmV3Q29uc3RydWN0b3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xuICAgICAgfSxcbiAgICAgIGRpc2FsbG93UHJvcGVydHk6IGZ1bmN0aW9uKG9iaiwgbmFtZSwgb2JqZWN0VHlwZSkge1xuICAgICAgICBpZiAob2JqW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgb2JqZWN0VHlwZSArIFwiIGNhbid0IGhhdmUgYSAuXCIgKyBuYW1lICsgJyBwcm9wZXJ0eS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGFwaTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50RGVzY3JpcHRvcihkZWYpIHtcbiAgICB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZGVmLmtleSk7XG5cbiAgICB2YXIgZGVzY3JpcHRvcjtcblxuICAgIGlmIChkZWYua2luZCA9PT0gJ21ldGhvZCcpIHtcbiAgICAgIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgIHZhbHVlOiBkZWYudmFsdWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09ICdnZXQnKSB7XG4gICAgICBkZXNjcmlwdG9yID0ge1xuICAgICAgICBnZXQ6IGRlZi52YWx1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGRlZi5raW5kID09PSAnc2V0Jykge1xuICAgICAgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgc2V0OiBkZWYudmFsdWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gJ2ZpZWxkJykge1xuICAgICAgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudCA9IHtcbiAgICAgIGtpbmQ6IGRlZi5raW5kID09PSAnZmllbGQnID8gJ2ZpZWxkJyA6ICdtZXRob2QnLFxuICAgICAga2V5OiBrZXksXG4gICAgICBwbGFjZW1lbnQ6IGRlZi5zdGF0aWNcbiAgICAgICAgPyAnc3RhdGljJ1xuICAgICAgICA6IGRlZi5raW5kID09PSAnZmllbGQnXG4gICAgICAgID8gJ293bidcbiAgICAgICAgOiAncHJvdG90eXBlJyxcbiAgICAgIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3JcbiAgICB9O1xuICAgIGlmIChkZWYuZGVjb3JhdG9ycykgZWxlbWVudC5kZWNvcmF0b3JzID0gZGVmLmRlY29yYXRvcnM7XG4gICAgaWYgKGRlZi5raW5kID09PSAnZmllbGQnKSBlbGVtZW50LmluaXRpYWxpemVyID0gZGVmLnZhbHVlO1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gX2NvYWxlc2NlR2V0dGVyU2V0dGVyKGVsZW1lbnQsIG90aGVyKSB7XG4gICAgaWYgKGVsZW1lbnQuZGVzY3JpcHRvci5nZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgb3RoZXIuZGVzY3JpcHRvci5nZXQgPSBlbGVtZW50LmRlc2NyaXB0b3IuZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICBvdGhlci5kZXNjcmlwdG9yLnNldCA9IGVsZW1lbnQuZGVzY3JpcHRvci5zZXQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NvYWxlc2NlQ2xhc3NFbGVtZW50cyhlbGVtZW50cykge1xuICAgIHZhciBuZXdFbGVtZW50cyA9IFtdO1xuXG4gICAgdmFyIGlzU2FtZUVsZW1lbnQgPSBmdW5jdGlvbihvdGhlcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgb3RoZXIua2luZCA9PT0gJ21ldGhvZCcgJiZcbiAgICAgICAgb3RoZXIua2V5ID09PSBlbGVtZW50LmtleSAmJlxuICAgICAgICBvdGhlci5wbGFjZW1lbnQgPT09IGVsZW1lbnQucGxhY2VtZW50XG4gICAgICApO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgdmFyIG90aGVyO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGVsZW1lbnQua2luZCA9PT0gJ21ldGhvZCcgJiZcbiAgICAgICAgKG90aGVyID0gbmV3RWxlbWVudHMuZmluZChpc1NhbWVFbGVtZW50KSlcbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgX2lzRGF0YURlc2NyaXB0b3IoZWxlbWVudC5kZXNjcmlwdG9yKSB8fFxuICAgICAgICAgIF9pc0RhdGFEZXNjcmlwdG9yKG90aGVyLmRlc2NyaXB0b3IpXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB8fCBfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcbiAgICAgICAgICAgICAgJ0R1cGxpY2F0ZWQgbWV0aG9kcyAoJyArIGVsZW1lbnQua2V5ICsgXCIpIGNhbid0IGJlIGRlY29yYXRlZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvdGhlci5kZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSkge1xuICAgICAgICAgICAgaWYgKF9oYXNEZWNvcmF0b3JzKG90aGVyKSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJEZWNvcmF0b3JzIGNhbid0IGJlIHBsYWNlZCBvbiBkaWZmZXJlbnQgYWNjZXNzb3JzIHdpdGggZm9yIFwiICtcbiAgICAgICAgICAgICAgICAgICd0aGUgc2FtZSBwcm9wZXJ0eSAoJyArXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LmtleSArXG4gICAgICAgICAgICAgICAgICAnKS4nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG90aGVyLmRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2NvYWxlc2NlR2V0dGVyU2V0dGVyKGVsZW1lbnQsIG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3RWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3RWxlbWVudHM7XG4gIH1cblxuICBmdW5jdGlvbiBfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuZGVjb3JhdG9ycyAmJiBlbGVtZW50LmRlY29yYXRvcnMubGVuZ3RoO1xuICB9XG5cbiAgZnVuY3Rpb24gX2lzRGF0YURlc2NyaXB0b3IoZGVzYykge1xuICAgIHJldHVybiAoXG4gICAgICBkZXNjICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICEoZGVzYy52YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGRlc2Mud3JpdGFibGUgPT09IHVuZGVmaW5lZClcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShvYmosIG5hbWUpIHtcbiAgICB2YXIgdmFsdWUgPSBvYmpbbmFtZV07XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCAnXCIgKyBuYW1lICsgXCInIHRvIGJlIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZU1ldGhvZEdldChyZWNlaXZlciwgcHJpdmF0ZVNldCwgZm4pIHtcbiAgICBpZiAoIXByaXZhdGVTZXQuaGFzKHJlY2VpdmVyKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZScpO1xuICAgIH1cblxuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVNZXRob2RTZXQoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHJlYXNzaWduIHByaXZhdGUgbWV0aG9kJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfd3JhcFJlZ0V4cChyZSwgZ3JvdXBzKSB7XG4gICAgX3dyYXBSZWdFeHAgPSBmdW5jdGlvbihyZSwgZ3JvdXBzKSB7XG4gICAgICByZXR1cm4gbmV3IEJhYmVsUmVnRXhwKHJlLCBncm91cHMpO1xuICAgIH07XG5cbiAgICB2YXIgX1JlZ0V4cCA9IF93cmFwTmF0aXZlU3VwZXIoUmVnRXhwKTtcblxuICAgIHZhciBfc3VwZXIgPSBSZWdFeHAucHJvdG90eXBlO1xuXG4gICAgdmFyIF9ncm91cHMgPSBuZXcgV2Vha01hcCgpO1xuXG4gICAgZnVuY3Rpb24gQmFiZWxSZWdFeHAocmUsIGdyb3Vwcykge1xuICAgICAgdmFyIF90aGlzID0gX1JlZ0V4cC5jYWxsKHRoaXMsIHJlKTtcblxuICAgICAgX2dyb3Vwcy5zZXQoX3RoaXMsIGdyb3Vwcyk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfaW5oZXJpdHMoQmFiZWxSZWdFeHAsIF9SZWdFeHApO1xuXG4gICAgQmFiZWxSZWdFeHAucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBfc3VwZXIuZXhlYy5jYWxsKHRoaXMsIHN0cik7XG5cbiAgICAgIGlmIChyZXN1bHQpIHJlc3VsdC5ncm91cHMgPSBidWlsZEdyb3VwcyhyZXN1bHQsIHRoaXMpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgQmFiZWxSZWdFeHAucHJvdG90eXBlW1N5bWJvbC5yZXBsYWNlXSA9IGZ1bmN0aW9uKHN0ciwgc3Vic3RpdHV0aW9uKSB7XG4gICAgICBpZiAodHlwZW9mIHN1YnN0aXR1dGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIGdyb3VwcyA9IF9ncm91cHMuZ2V0KHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBfc3VwZXJbU3ltYm9sLnJlcGxhY2VdLmNhbGwoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBzdHIsXG4gICAgICAgICAgc3Vic3RpdHV0aW9uLnJlcGxhY2UoL1xcJDwoW14+XSspPi9nLCBmdW5jdGlvbihfLCBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyQnICsgZ3JvdXBzW25hbWVdO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdWJzdGl0dXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICByZXR1cm4gX3N1cGVyW1N5bWJvbC5yZXBsYWNlXS5jYWxsKHRoaXMsIHN0ciwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICBhcmdzLnB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgYXJncy5wdXNoKGJ1aWxkR3JvdXBzKGFyZ3MsIF90aGlzKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHN1YnN0aXR1dGlvbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gX3N1cGVyW1N5bWJvbC5yZXBsYWNlXS5jYWxsKHRoaXMsIHN0ciwgc3Vic3RpdHV0aW9uKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYnVpbGRHcm91cHMocmVzdWx0LCByZSkge1xuICAgICAgdmFyIGcgPSBfZ3JvdXBzLmdldChyZSk7XG5cbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhnKS5yZWR1Y2UoZnVuY3Rpb24oZ3JvdXBzLCBuYW1lKSB7XG4gICAgICAgIGdyb3Vwc1tuYW1lXSA9IHJlc3VsdFtnW25hbWVdXTtcbiAgICAgICAgcmV0dXJuIGdyb3VwcztcbiAgICAgIH0sIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgIH1cblxuICAgIHJldHVybiBfd3JhcFJlZ0V4cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgdmFyIHZlY3Rvck11bHRpcGx5ID0gZnVuY3Rpb24gdmVjdG9yTXVsdGlwbHkodiwgYW1vdW50KSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZlY3Rvcih2LnggKiBhbW91bnQsIHYueSAqIGFtb3VudCk7XG4gIH07XG5cbiAgdmFyIHZlY3RvckFkZCA9IGZ1bmN0aW9uIHZlY3RvckFkZChhLCBiKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZlY3RvcihhLnggKyBiLngsIGEueSArIGIueSk7XG4gIH07XG5cbiAgdmFyIHZlY3Rvck5vcm1hbGl6ZSA9IGZ1bmN0aW9uIHZlY3Rvck5vcm1hbGl6ZSh2KSB7XG4gICAgdmFyIGwgPSBNYXRoLnNxcnQodi54ICogdi54ICsgdi55ICogdi55KTtcbiAgICBpZiAobCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVZlY3Rvcih2LnggLyBsLCB2LnkgLyBsKTtcbiAgfTtcblxuICB2YXIgdmVjdG9yUm90YXRlID0gZnVuY3Rpb24gdmVjdG9yUm90YXRlKHYsIHJhZGlhbnMsIG9yaWdpbikge1xuICAgIHZhciBjb3MgPSBNYXRoLmNvcyhyYWRpYW5zKTtcbiAgICB2YXIgc2luID0gTWF0aC5zaW4ocmFkaWFucyk7XG4gICAgdmFyIHQgPSBjcmVhdGVWZWN0b3Iodi54IC0gb3JpZ2luLngsIHYueSAtIG9yaWdpbi55KTtcbiAgICByZXR1cm4gY3JlYXRlVmVjdG9yKFxuICAgICAgb3JpZ2luLnggKyBjb3MgKiB0LnggLSBzaW4gKiB0LnksXG4gICAgICBvcmlnaW4ueSArIHNpbiAqIHQueCArIGNvcyAqIHQueVxuICAgICk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVZlY3RvciA9IGZ1bmN0aW9uIGNyZWF0ZVZlY3RvcigpIHtcbiAgICB2YXIgeCA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgdmFyIHkgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbiAgfTtcblxuICB2YXIgZ2V0TWFya3VwVmFsdWUgPSBmdW5jdGlvbiBnZXRNYXJrdXBWYWx1ZSh2YWx1ZSwgc2l6ZSkge1xuICAgIHZhciBzY2FsYXIgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuICAgIHZhciBheGlzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBhcmd1bWVudHNbM10gOiB1bmRlZmluZWQ7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKSAqIHNjYWxhcjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAqIChheGlzID8gc2l6ZVtheGlzXSA6IE1hdGgubWluKHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfTtcblxuICB2YXIgZ2V0TWFya3VwU3R5bGVzID0gZnVuY3Rpb24gZ2V0TWFya3VwU3R5bGVzKG1hcmt1cCwgc2l6ZSwgc2NhbGUpIHtcbiAgICB2YXIgbGluZVN0eWxlID0gbWFya3VwLmJvcmRlclN0eWxlIHx8IG1hcmt1cC5saW5lU3R5bGUgfHwgJ3NvbGlkJztcbiAgICB2YXIgZmlsbCA9IG1hcmt1cC5iYWNrZ3JvdW5kQ29sb3IgfHwgbWFya3VwLmZvbnRDb2xvciB8fCAndHJhbnNwYXJlbnQnO1xuICAgIHZhciBzdHJva2UgPSBtYXJrdXAuYm9yZGVyQ29sb3IgfHwgbWFya3VwLmxpbmVDb2xvciB8fCAndHJhbnNwYXJlbnQnO1xuICAgIHZhciBzdHJva2VXaWR0aCA9IGdldE1hcmt1cFZhbHVlKFxuICAgICAgbWFya3VwLmJvcmRlcldpZHRoIHx8IG1hcmt1cC5saW5lV2lkdGgsXG4gICAgICBzaXplLFxuICAgICAgc2NhbGVcbiAgICApO1xuICAgIHZhciBsaW5lQ2FwID0gbWFya3VwLmxpbmVDYXAgfHwgJ3JvdW5kJztcbiAgICB2YXIgbGluZUpvaW4gPSBtYXJrdXAubGluZUpvaW4gfHwgJ3JvdW5kJztcbiAgICB2YXIgZGFzaGVzID1cbiAgICAgIHR5cGVvZiBsaW5lU3R5bGUgPT09ICdzdHJpbmcnXG4gICAgICAgID8gJydcbiAgICAgICAgOiBsaW5lU3R5bGVcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0TWFya3VwVmFsdWUodiwgc2l6ZSwgc2NhbGUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCcsJyk7XG4gICAgdmFyIG9wYWNpdHkgPSBtYXJrdXAub3BhY2l0eSB8fCAxO1xuICAgIHJldHVybiB7XG4gICAgICAnc3Ryb2tlLWxpbmVjYXAnOiBsaW5lQ2FwLFxuICAgICAgJ3N0cm9rZS1saW5lam9pbic6IGxpbmVKb2luLFxuICAgICAgJ3N0cm9rZS13aWR0aCc6IHN0cm9rZVdpZHRoIHx8IDAsXG4gICAgICAnc3Ryb2tlLWRhc2hhcnJheSc6IGRhc2hlcyxcbiAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICAgICAgZmlsbDogZmlsbCxcbiAgICAgIG9wYWNpdHk6IG9wYWNpdHlcbiAgICB9O1xuICB9O1xuXG4gIHZhciBpc0RlZmluZWQgPSBmdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT0gbnVsbDtcbiAgfTtcblxuICB2YXIgZ2V0TWFya3VwUmVjdCA9IGZ1bmN0aW9uIGdldE1hcmt1cFJlY3QocmVjdCwgc2l6ZSkge1xuICAgIHZhciBzY2FsYXIgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuXG4gICAgdmFyIGxlZnQgPVxuICAgICAgZ2V0TWFya3VwVmFsdWUocmVjdC54LCBzaXplLCBzY2FsYXIsICd3aWR0aCcpIHx8XG4gICAgICBnZXRNYXJrdXBWYWx1ZShyZWN0LmxlZnQsIHNpemUsIHNjYWxhciwgJ3dpZHRoJyk7XG4gICAgdmFyIHRvcCA9XG4gICAgICBnZXRNYXJrdXBWYWx1ZShyZWN0LnksIHNpemUsIHNjYWxhciwgJ2hlaWdodCcpIHx8XG4gICAgICBnZXRNYXJrdXBWYWx1ZShyZWN0LnRvcCwgc2l6ZSwgc2NhbGFyLCAnaGVpZ2h0Jyk7XG4gICAgdmFyIHdpZHRoID0gZ2V0TWFya3VwVmFsdWUocmVjdC53aWR0aCwgc2l6ZSwgc2NhbGFyLCAnd2lkdGgnKTtcbiAgICB2YXIgaGVpZ2h0ID0gZ2V0TWFya3VwVmFsdWUocmVjdC5oZWlnaHQsIHNpemUsIHNjYWxhciwgJ2hlaWdodCcpO1xuICAgIHZhciByaWdodCA9IGdldE1hcmt1cFZhbHVlKHJlY3QucmlnaHQsIHNpemUsIHNjYWxhciwgJ3dpZHRoJyk7XG4gICAgdmFyIGJvdHRvbSA9IGdldE1hcmt1cFZhbHVlKHJlY3QuYm90dG9tLCBzaXplLCBzY2FsYXIsICdoZWlnaHQnKTtcblxuICAgIGlmICghaXNEZWZpbmVkKHRvcCkpIHtcbiAgICAgIGlmIChpc0RlZmluZWQoaGVpZ2h0KSAmJiBpc0RlZmluZWQoYm90dG9tKSkge1xuICAgICAgICB0b3AgPSBzaXplLmhlaWdodCAtIGhlaWdodCAtIGJvdHRvbTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvcCA9IGJvdHRvbTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWlzRGVmaW5lZChsZWZ0KSkge1xuICAgICAgaWYgKGlzRGVmaW5lZCh3aWR0aCkgJiYgaXNEZWZpbmVkKHJpZ2h0KSkge1xuICAgICAgICBsZWZ0ID0gc2l6ZS53aWR0aCAtIHdpZHRoIC0gcmlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZWZ0ID0gcmlnaHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFpc0RlZmluZWQod2lkdGgpKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKGxlZnQpICYmIGlzRGVmaW5lZChyaWdodCkpIHtcbiAgICAgICAgd2lkdGggPSBzaXplLndpZHRoIC0gbGVmdCAtIHJpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaXNEZWZpbmVkKGhlaWdodCkpIHtcbiAgICAgIGlmIChpc0RlZmluZWQodG9wKSAmJiBpc0RlZmluZWQoYm90dG9tKSkge1xuICAgICAgICBoZWlnaHQgPSBzaXplLmhlaWdodCAtIHRvcCAtIGJvdHRvbTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlaWdodCA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGxlZnQgfHwgMCxcbiAgICAgIHk6IHRvcCB8fCAwLFxuICAgICAgd2lkdGg6IHdpZHRoIHx8IDAsXG4gICAgICBoZWlnaHQ6IGhlaWdodCB8fCAwXG4gICAgfTtcbiAgfTtcblxuICB2YXIgcG9pbnRzVG9QYXRoU2hhcGUgPSBmdW5jdGlvbiBwb2ludHNUb1BhdGhTaGFwZShwb2ludHMpIHtcbiAgICByZXR1cm4gcG9pbnRzXG4gICAgICAubWFwKGZ1bmN0aW9uKHBvaW50LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gJydcbiAgICAgICAgICAuY29uY2F0KGluZGV4ID09PSAwID8gJ00nIDogJ0wnLCAnICcpXG4gICAgICAgICAgLmNvbmNhdChwb2ludC54LCAnICcpXG4gICAgICAgICAgLmNvbmNhdChwb2ludC55KTtcbiAgICAgIH0pXG4gICAgICAuam9pbignICcpO1xuICB9O1xuXG4gIHZhciBzZXRBdHRyaWJ1dGVzID0gZnVuY3Rpb24gc2V0QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGF0dHIpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyW2tleV0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gIHZhciBzdmcgPSBmdW5jdGlvbiBzdmcodGFnLCBhdHRyKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZyk7XG4gICAgaWYgKGF0dHIpIHtcbiAgICAgIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cik7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50O1xuICB9O1xuXG4gIHZhciB1cGRhdGVSZWN0ID0gZnVuY3Rpb24gdXBkYXRlUmVjdChlbGVtZW50KSB7XG4gICAgcmV0dXJuIHNldEF0dHJpYnV0ZXMoXG4gICAgICBlbGVtZW50LFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudC5yZWN0LCBlbGVtZW50LnN0eWxlcylcbiAgICApO1xuICB9O1xuXG4gIHZhciB1cGRhdGVFbGxpcHNlID0gZnVuY3Rpb24gdXBkYXRlRWxsaXBzZShlbGVtZW50KSB7XG4gICAgdmFyIGN4ID0gZWxlbWVudC5yZWN0LnggKyBlbGVtZW50LnJlY3Qud2lkdGggKiAwLjU7XG4gICAgdmFyIGN5ID0gZWxlbWVudC5yZWN0LnkgKyBlbGVtZW50LnJlY3QuaGVpZ2h0ICogMC41O1xuICAgIHZhciByeCA9IGVsZW1lbnQucmVjdC53aWR0aCAqIDAuNTtcbiAgICB2YXIgcnkgPSBlbGVtZW50LnJlY3QuaGVpZ2h0ICogMC41O1xuICAgIHJldHVybiBzZXRBdHRyaWJ1dGVzKFxuICAgICAgZWxlbWVudCxcbiAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtcbiAgICAgICAgICBjeDogY3gsXG4gICAgICAgICAgY3k6IGN5LFxuICAgICAgICAgIHJ4OiByeCxcbiAgICAgICAgICByeTogcnlcbiAgICAgICAgfSxcbiAgICAgICAgZWxlbWVudC5zdHlsZXNcbiAgICAgIClcbiAgICApO1xuICB9O1xuXG4gIHZhciBJTUFHRV9GSVRfU1RZTEUgPSB7XG4gICAgY29udGFpbjogJ3hNaWRZTWlkIG1lZXQnLFxuICAgIGNvdmVyOiAneE1pZFlNaWQgc2xpY2UnXG4gIH07XG5cbiAgdmFyIHVwZGF0ZUltYWdlID0gZnVuY3Rpb24gdXBkYXRlSW1hZ2UoZWxlbWVudCwgbWFya3VwKSB7XG4gICAgc2V0QXR0cmlidXRlcyhcbiAgICAgIGVsZW1lbnQsXG4gICAgICBPYmplY3QuYXNzaWduKHt9LCBlbGVtZW50LnJlY3QsIGVsZW1lbnQuc3R5bGVzLCB7XG4gICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IElNQUdFX0ZJVF9TVFlMRVttYXJrdXAuZml0XSB8fCAnbm9uZSdcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICB2YXIgVEVYVF9BTkNIT1IgPSB7XG4gICAgbGVmdDogJ3N0YXJ0JyxcbiAgICBjZW50ZXI6ICdtaWRkbGUnLFxuICAgIHJpZ2h0OiAnZW5kJ1xuICB9O1xuXG4gIHZhciB1cGRhdGVUZXh0ID0gZnVuY3Rpb24gdXBkYXRlVGV4dChlbGVtZW50LCBtYXJrdXAsIHNpemUsIHNjYWxlKSB7XG4gICAgdmFyIGZvbnRTaXplID0gZ2V0TWFya3VwVmFsdWUobWFya3VwLmZvbnRTaXplLCBzaXplLCBzY2FsZSk7XG4gICAgdmFyIGZvbnRGYW1pbHkgPSBtYXJrdXAuZm9udEZhbWlseSB8fCAnc2Fucy1zZXJpZic7XG4gICAgdmFyIGZvbnRXZWlnaHQgPSBtYXJrdXAuZm9udFdlaWdodCB8fCAnbm9ybWFsJztcbiAgICB2YXIgdGV4dEFsaWduID0gVEVYVF9BTkNIT1JbbWFya3VwLnRleHRBbGlnbl0gfHwgJ3N0YXJ0JztcblxuICAgIHNldEF0dHJpYnV0ZXMoXG4gICAgICBlbGVtZW50LFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudC5yZWN0LCBlbGVtZW50LnN0eWxlcywge1xuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMCxcbiAgICAgICAgJ2ZvbnQtd2VpZ2h0JzogZm9udFdlaWdodCxcbiAgICAgICAgJ2ZvbnQtc2l6ZSc6IGZvbnRTaXplLFxuICAgICAgICAnZm9udC1mYW1pbHknOiBmb250RmFtaWx5LFxuICAgICAgICAndGV4dC1hbmNob3InOiB0ZXh0QWxpZ25cbiAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIHVwZGF0ZSB0ZXh0XG4gICAgaWYgKGVsZW1lbnQudGV4dCAhPT0gbWFya3VwLnRleHQpIHtcbiAgICAgIGVsZW1lbnQudGV4dCA9IG1hcmt1cC50ZXh0O1xuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG1hcmt1cC50ZXh0Lmxlbmd0aCA/IG1hcmt1cC50ZXh0IDogJyAnO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdXBkYXRlTGluZSA9IGZ1bmN0aW9uIHVwZGF0ZUxpbmUoZWxlbWVudCwgbWFya3VwLCBzaXplLCBzY2FsZSkge1xuICAgIHNldEF0dHJpYnV0ZXMoXG4gICAgICBlbGVtZW50LFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudC5yZWN0LCBlbGVtZW50LnN0eWxlcywge1xuICAgICAgICBmaWxsOiAnbm9uZSdcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIHZhciBsaW5lID0gZWxlbWVudC5jaGlsZE5vZGVzWzBdO1xuICAgIHZhciBiZWdpbiA9IGVsZW1lbnQuY2hpbGROb2Rlc1sxXTtcbiAgICB2YXIgZW5kID0gZWxlbWVudC5jaGlsZE5vZGVzWzJdO1xuXG4gICAgdmFyIG9yaWdpbiA9IGVsZW1lbnQucmVjdDtcblxuICAgIHZhciB0YXJnZXQgPSB7XG4gICAgICB4OiBlbGVtZW50LnJlY3QueCArIGVsZW1lbnQucmVjdC53aWR0aCxcbiAgICAgIHk6IGVsZW1lbnQucmVjdC55ICsgZWxlbWVudC5yZWN0LmhlaWdodFxuICAgIH07XG5cbiAgICBzZXRBdHRyaWJ1dGVzKGxpbmUsIHtcbiAgICAgIHgxOiBvcmlnaW4ueCxcbiAgICAgIHkxOiBvcmlnaW4ueSxcbiAgICAgIHgyOiB0YXJnZXQueCxcbiAgICAgIHkyOiB0YXJnZXQueVxuICAgIH0pO1xuXG4gICAgaWYgKCFtYXJrdXAubGluZURlY29yYXRpb24pIHJldHVybjtcblxuICAgIGJlZ2luLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZW5kLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICB2YXIgdiA9IHZlY3Rvck5vcm1hbGl6ZSh7XG4gICAgICB4OiB0YXJnZXQueCAtIG9yaWdpbi54LFxuICAgICAgeTogdGFyZ2V0LnkgLSBvcmlnaW4ueVxuICAgIH0pO1xuXG4gICAgdmFyIGwgPSBnZXRNYXJrdXBWYWx1ZSgwLjA1LCBzaXplLCBzY2FsZSk7XG5cbiAgICBpZiAobWFya3VwLmxpbmVEZWNvcmF0aW9uLmluZGV4T2YoJ2Fycm93LWJlZ2luJykgIT09IC0xKSB7XG4gICAgICB2YXIgYXJyb3dCZWdpblJvdGF0aW9uUG9pbnQgPSB2ZWN0b3JNdWx0aXBseSh2LCBsKTtcbiAgICAgIHZhciBhcnJvd0JlZ2luQ2VudGVyID0gdmVjdG9yQWRkKG9yaWdpbiwgYXJyb3dCZWdpblJvdGF0aW9uUG9pbnQpO1xuICAgICAgdmFyIGFycm93QmVnaW5BID0gdmVjdG9yUm90YXRlKG9yaWdpbiwgMiwgYXJyb3dCZWdpbkNlbnRlcik7XG4gICAgICB2YXIgYXJyb3dCZWdpbkIgPSB2ZWN0b3JSb3RhdGUob3JpZ2luLCAtMiwgYXJyb3dCZWdpbkNlbnRlcik7XG5cbiAgICAgIHNldEF0dHJpYnV0ZXMoYmVnaW4sIHtcbiAgICAgICAgc3R5bGU6ICdkaXNwbGF5OmJsb2NrOycsXG4gICAgICAgIGQ6ICdNJ1xuICAgICAgICAgIC5jb25jYXQoYXJyb3dCZWdpbkEueCwgJywnKVxuICAgICAgICAgIC5jb25jYXQoYXJyb3dCZWdpbkEueSwgJyBMJylcbiAgICAgICAgICAuY29uY2F0KG9yaWdpbi54LCAnLCcpXG4gICAgICAgICAgLmNvbmNhdChvcmlnaW4ueSwgJyBMJylcbiAgICAgICAgICAuY29uY2F0KGFycm93QmVnaW5CLngsICcsJylcbiAgICAgICAgICAuY29uY2F0KGFycm93QmVnaW5CLnkpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobWFya3VwLmxpbmVEZWNvcmF0aW9uLmluZGV4T2YoJ2Fycm93LWVuZCcpICE9PSAtMSkge1xuICAgICAgdmFyIGFycm93RW5kUm90YXRpb25Qb2ludCA9IHZlY3Rvck11bHRpcGx5KHYsIC1sKTtcbiAgICAgIHZhciBhcnJvd0VuZENlbnRlciA9IHZlY3RvckFkZCh0YXJnZXQsIGFycm93RW5kUm90YXRpb25Qb2ludCk7XG4gICAgICB2YXIgYXJyb3dFbmRBID0gdmVjdG9yUm90YXRlKHRhcmdldCwgMiwgYXJyb3dFbmRDZW50ZXIpO1xuICAgICAgdmFyIGFycm93RW5kQiA9IHZlY3RvclJvdGF0ZSh0YXJnZXQsIC0yLCBhcnJvd0VuZENlbnRlcik7XG5cbiAgICAgIHNldEF0dHJpYnV0ZXMoZW5kLCB7XG4gICAgICAgIHN0eWxlOiAnZGlzcGxheTpibG9jazsnLFxuICAgICAgICBkOiAnTSdcbiAgICAgICAgICAuY29uY2F0KGFycm93RW5kQS54LCAnLCcpXG4gICAgICAgICAgLmNvbmNhdChhcnJvd0VuZEEueSwgJyBMJylcbiAgICAgICAgICAuY29uY2F0KHRhcmdldC54LCAnLCcpXG4gICAgICAgICAgLmNvbmNhdCh0YXJnZXQueSwgJyBMJylcbiAgICAgICAgICAuY29uY2F0KGFycm93RW5kQi54LCAnLCcpXG4gICAgICAgICAgLmNvbmNhdChhcnJvd0VuZEIueSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdXBkYXRlUGF0aCA9IGZ1bmN0aW9uIHVwZGF0ZVBhdGgoZWxlbWVudCwgbWFya3VwLCBzaXplLCBzY2FsZSkge1xuICAgIHNldEF0dHJpYnV0ZXMoXG4gICAgICBlbGVtZW50LFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudC5zdHlsZXMsIHtcbiAgICAgICAgZmlsbDogJ25vbmUnLFxuICAgICAgICBkOiBwb2ludHNUb1BhdGhTaGFwZShcbiAgICAgICAgICBtYXJrdXAucG9pbnRzLm1hcChmdW5jdGlvbihwb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgeDogZ2V0TWFya3VwVmFsdWUocG9pbnQueCwgc2l6ZSwgc2NhbGUsICd3aWR0aCcpLFxuICAgICAgICAgICAgICB5OiBnZXRNYXJrdXBWYWx1ZShwb2ludC55LCBzaXplLCBzY2FsZSwgJ2hlaWdodCcpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlU2hhcGUgPSBmdW5jdGlvbiBjcmVhdGVTaGFwZShub2RlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG1hcmt1cCkge1xuICAgICAgcmV0dXJuIHN2Zyhub2RlLCB7IGlkOiBtYXJrdXAuaWQgfSk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgY3JlYXRlSW1hZ2UgPSBmdW5jdGlvbiBjcmVhdGVJbWFnZShtYXJrdXApIHtcbiAgICB2YXIgc2hhcGUgPSBzdmcoJ2ltYWdlJywge1xuICAgICAgaWQ6IG1hcmt1cC5pZCxcbiAgICAgICdzdHJva2UtbGluZWNhcCc6ICdyb3VuZCcsXG4gICAgICAnc3Ryb2tlLWxpbmVqb2luJzogJ3JvdW5kJyxcbiAgICAgIG9wYWNpdHk6ICcwJ1xuICAgIH0pO1xuXG4gICAgc2hhcGUub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICBzaGFwZS5zZXRBdHRyaWJ1dGUoJ29wYWNpdHknLCBtYXJrdXAub3BhY2l0eSB8fCAxKTtcbiAgICB9O1xuICAgIHNoYXBlLnNldEF0dHJpYnV0ZU5TKFxuICAgICAgJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLFxuICAgICAgJ3hsaW5rOmhyZWYnLFxuICAgICAgbWFya3VwLnNyY1xuICAgICk7XG4gICAgcmV0dXJuIHNoYXBlO1xuICB9O1xuXG4gIHZhciBjcmVhdGVMaW5lID0gZnVuY3Rpb24gY3JlYXRlTGluZShtYXJrdXApIHtcbiAgICB2YXIgc2hhcGUgPSBzdmcoJ2cnLCB7XG4gICAgICBpZDogbWFya3VwLmlkLFxuICAgICAgJ3N0cm9rZS1saW5lY2FwJzogJ3JvdW5kJyxcbiAgICAgICdzdHJva2UtbGluZWpvaW4nOiAncm91bmQnXG4gICAgfSk7XG5cbiAgICB2YXIgbGluZSA9IHN2ZygnbGluZScpO1xuICAgIHNoYXBlLmFwcGVuZENoaWxkKGxpbmUpO1xuXG4gICAgdmFyIGJlZ2luID0gc3ZnKCdwYXRoJyk7XG4gICAgc2hhcGUuYXBwZW5kQ2hpbGQoYmVnaW4pO1xuXG4gICAgdmFyIGVuZCA9IHN2ZygncGF0aCcpO1xuICAgIHNoYXBlLmFwcGVuZENoaWxkKGVuZCk7XG5cbiAgICByZXR1cm4gc2hhcGU7XG4gIH07XG5cbiAgdmFyIENSRUFURV9UWVBFX1JPVVRFUyA9IHtcbiAgICBpbWFnZTogY3JlYXRlSW1hZ2UsXG4gICAgcmVjdDogY3JlYXRlU2hhcGUoJ3JlY3QnKSxcbiAgICBlbGxpcHNlOiBjcmVhdGVTaGFwZSgnZWxsaXBzZScpLFxuICAgIHRleHQ6IGNyZWF0ZVNoYXBlKCd0ZXh0JyksXG4gICAgcGF0aDogY3JlYXRlU2hhcGUoJ3BhdGgnKSxcbiAgICBsaW5lOiBjcmVhdGVMaW5lXG4gIH07XG5cbiAgdmFyIFVQREFURV9UWVBFX1JPVVRFUyA9IHtcbiAgICByZWN0OiB1cGRhdGVSZWN0LFxuICAgIGVsbGlwc2U6IHVwZGF0ZUVsbGlwc2UsXG4gICAgaW1hZ2U6IHVwZGF0ZUltYWdlLFxuICAgIHRleHQ6IHVwZGF0ZVRleHQsXG4gICAgcGF0aDogdXBkYXRlUGF0aCxcbiAgICBsaW5lOiB1cGRhdGVMaW5lXG4gIH07XG5cbiAgdmFyIGNyZWF0ZU1hcmt1cEJ5VHlwZSA9IGZ1bmN0aW9uIGNyZWF0ZU1hcmt1cEJ5VHlwZSh0eXBlLCBtYXJrdXApIHtcbiAgICByZXR1cm4gQ1JFQVRFX1RZUEVfUk9VVEVTW3R5cGVdKG1hcmt1cCk7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZU1hcmt1cEJ5VHlwZSA9IGZ1bmN0aW9uIHVwZGF0ZU1hcmt1cEJ5VHlwZShcbiAgICBlbGVtZW50LFxuICAgIHR5cGUsXG4gICAgbWFya3VwLFxuICAgIHNpemUsXG4gICAgc2NhbGVcbiAgKSB7XG4gICAgaWYgKHR5cGUgIT09ICdwYXRoJykge1xuICAgICAgZWxlbWVudC5yZWN0ID0gZ2V0TWFya3VwUmVjdChtYXJrdXAsIHNpemUsIHNjYWxlKTtcbiAgICB9XG4gICAgZWxlbWVudC5zdHlsZXMgPSBnZXRNYXJrdXBTdHlsZXMobWFya3VwLCBzaXplLCBzY2FsZSk7XG4gICAgVVBEQVRFX1RZUEVfUk9VVEVTW3R5cGVdKGVsZW1lbnQsIG1hcmt1cCwgc2l6ZSwgc2NhbGUpO1xuICB9O1xuXG4gIHZhciBNQVJLVVBfUkVDVCA9IFtcbiAgICAneCcsXG4gICAgJ3knLFxuICAgICdsZWZ0JyxcbiAgICAndG9wJyxcbiAgICAncmlnaHQnLFxuICAgICdib3R0b20nLFxuICAgICd3aWR0aCcsXG4gICAgJ2hlaWdodCdcbiAgXTtcblxuICB2YXIgdG9PcHRpb25hbEZyYWN0aW9uID0gZnVuY3Rpb24gdG9PcHRpb25hbEZyYWN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgLyUvLnRlc3QodmFsdWUpXG4gICAgICA/IHBhcnNlRmxvYXQodmFsdWUpIC8gMTAwXG4gICAgICA6IHZhbHVlO1xuICB9O1xuXG4gIC8vIGFkZHMgZGVmYXVsdCBtYXJrdXAgcHJvcGVydGllcywgY2xvbmVzIG1hcmt1cFxuICB2YXIgcHJlcGFyZU1hcmt1cCA9IGZ1bmN0aW9uIHByZXBhcmVNYXJrdXAobWFya3VwKSB7XG4gICAgdmFyIF9tYXJrdXAgPSBfc2xpY2VkVG9BcnJheShtYXJrdXAsIDIpLFxuICAgICAgdHlwZSA9IF9tYXJrdXBbMF0sXG4gICAgICBwcm9wcyA9IF9tYXJrdXBbMV07XG5cbiAgICB2YXIgcmVjdCA9IHByb3BzLnBvaW50c1xuICAgICAgPyB7fVxuICAgICAgOiBNQVJLVVBfUkVDVC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3Vycikge1xuICAgICAgICAgIHByZXZbY3Vycl0gPSB0b09wdGlvbmFsRnJhY3Rpb24ocHJvcHNbY3Vycl0pO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9LCB7fSk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgdHlwZSxcbiAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtcbiAgICAgICAgICB6SW5kZXg6IDBcbiAgICAgICAgfSxcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHJlY3RcbiAgICAgIClcbiAgICBdO1xuICB9O1xuXG4gIHZhciBzb3J0TWFya3VwQnlaSW5kZXggPSBmdW5jdGlvbiBzb3J0TWFya3VwQnlaSW5kZXgoYSwgYikge1xuICAgIGlmIChhWzFdLnpJbmRleCA+IGJbMV0uekluZGV4KSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKGFbMV0uekluZGV4IDwgYlsxXS56SW5kZXgpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU1hcmt1cFZpZXcgPSBmdW5jdGlvbiBjcmVhdGVNYXJrdXBWaWV3KF8pIHtcbiAgICByZXR1cm4gXy51dGlscy5jcmVhdGVWaWV3KHtcbiAgICAgIG5hbWU6ICdpbWFnZS1wcmV2aWV3LW1hcmt1cCcsXG4gICAgICB0YWc6ICdzdmcnLFxuICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgIG1peGluczoge1xuICAgICAgICBhcGlzOiBbJ3dpZHRoJywgJ2hlaWdodCcsICdjcm9wJywgJ21hcmt1cCcsICdyZXNpemUnLCAnZGlydHknXVxuICAgICAgfSxcblxuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuXG4gICAgICAgIGlmICghcHJvcHMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdmFyIGNyb3AgPSBwcm9wcy5jcm9wLFxuICAgICAgICAgIHJlc2l6ZSA9IHByb3BzLnJlc2l6ZSxcbiAgICAgICAgICBtYXJrdXAgPSBwcm9wcy5tYXJrdXA7XG5cbiAgICAgICAgdmFyIHZpZXdXaWR0aCA9IHByb3BzLndpZHRoO1xuICAgICAgICB2YXIgdmlld0hlaWdodCA9IHByb3BzLmhlaWdodDtcblxuICAgICAgICB2YXIgY3JvcFdpZHRoID0gY3JvcC53aWR0aDtcbiAgICAgICAgdmFyIGNyb3BIZWlnaHQgPSBjcm9wLmhlaWdodDtcblxuICAgICAgICBpZiAocmVzaXplKSB7XG4gICAgICAgICAgdmFyIF9zaXplID0gcmVzaXplLnNpemU7XG5cbiAgICAgICAgICB2YXIgb3V0cHV0V2lkdGggPSBfc2l6ZSAmJiBfc2l6ZS53aWR0aDtcbiAgICAgICAgICB2YXIgb3V0cHV0SGVpZ2h0ID0gX3NpemUgJiYgX3NpemUuaGVpZ2h0O1xuICAgICAgICAgIHZhciBvdXRwdXRGaXQgPSByZXNpemUubW9kZTtcbiAgICAgICAgICB2YXIgb3V0cHV0VXBzY2FsZSA9IHJlc2l6ZS51cHNjYWxlO1xuXG4gICAgICAgICAgaWYgKG91dHB1dFdpZHRoICYmICFvdXRwdXRIZWlnaHQpIG91dHB1dEhlaWdodCA9IG91dHB1dFdpZHRoO1xuICAgICAgICAgIGlmIChvdXRwdXRIZWlnaHQgJiYgIW91dHB1dFdpZHRoKSBvdXRwdXRXaWR0aCA9IG91dHB1dEhlaWdodDtcblxuICAgICAgICAgIHZhciBzaG91bGRVcHNjYWxlID1cbiAgICAgICAgICAgIGNyb3BXaWR0aCA8IG91dHB1dFdpZHRoICYmIGNyb3BIZWlnaHQgPCBvdXRwdXRIZWlnaHQ7XG5cbiAgICAgICAgICBpZiAoIXNob3VsZFVwc2NhbGUgfHwgKHNob3VsZFVwc2NhbGUgJiYgb3V0cHV0VXBzY2FsZSkpIHtcbiAgICAgICAgICAgIHZhciBzY2FsYXJXaWR0aCA9IG91dHB1dFdpZHRoIC8gY3JvcFdpZHRoO1xuICAgICAgICAgICAgdmFyIHNjYWxhckhlaWdodCA9IG91dHB1dEhlaWdodCAvIGNyb3BIZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmIChvdXRwdXRGaXQgPT09ICdmb3JjZScpIHtcbiAgICAgICAgICAgICAgY3JvcFdpZHRoID0gb3V0cHV0V2lkdGg7XG4gICAgICAgICAgICAgIGNyb3BIZWlnaHQgPSBvdXRwdXRIZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgc2NhbGFyO1xuICAgICAgICAgICAgICBpZiAob3V0cHV0Rml0ID09PSAnY292ZXInKSB7XG4gICAgICAgICAgICAgICAgc2NhbGFyID0gTWF0aC5tYXgoc2NhbGFyV2lkdGgsIHNjYWxhckhlaWdodCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0Rml0ID09PSAnY29udGFpbicpIHtcbiAgICAgICAgICAgICAgICBzY2FsYXIgPSBNYXRoLm1pbihzY2FsYXJXaWR0aCwgc2NhbGFySGVpZ2h0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjcm9wV2lkdGggPSBjcm9wV2lkdGggKiBzY2FsYXI7XG4gICAgICAgICAgICAgIGNyb3BIZWlnaHQgPSBjcm9wSGVpZ2h0ICogc2NhbGFyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaXplID0ge1xuICAgICAgICAgIHdpZHRoOiB2aWV3V2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiB2aWV3SGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgcm9vdC5lbGVtZW50LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBzaXplLndpZHRoKTtcbiAgICAgICAgcm9vdC5lbGVtZW50LnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZS5oZWlnaHQpO1xuXG4gICAgICAgIHZhciBzY2FsZSA9IE1hdGgubWluKHZpZXdXaWR0aCAvIGNyb3BXaWR0aCwgdmlld0hlaWdodCAvIGNyb3BIZWlnaHQpO1xuXG4gICAgICAgIC8vIGNsZWFyXG4gICAgICAgIHJvb3QuZWxlbWVudC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgICAvLyBnZXQgZmlsdGVyXG4gICAgICAgIHZhciBtYXJrdXBGaWx0ZXIgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVJLVVBfRklMVEVSJyk7XG5cbiAgICAgICAgLy8gZHJhdyBuZXdcbiAgICAgICAgbWFya3VwXG4gICAgICAgICAgLmZpbHRlcihtYXJrdXBGaWx0ZXIpXG4gICAgICAgICAgLm1hcChwcmVwYXJlTWFya3VwKVxuICAgICAgICAgIC5zb3J0KHNvcnRNYXJrdXBCeVpJbmRleClcbiAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihtYXJrdXApIHtcbiAgICAgICAgICAgIHZhciBfbWFya3VwID0gX3NsaWNlZFRvQXJyYXkobWFya3VwLCAyKSxcbiAgICAgICAgICAgICAgdHlwZSA9IF9tYXJrdXBbMF0sXG4gICAgICAgICAgICAgIHNldHRpbmdzID0gX21hcmt1cFsxXTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGNyZWF0ZU1hcmt1cEJ5VHlwZSh0eXBlLCBzZXR0aW5ncyk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZVxuICAgICAgICAgICAgdXBkYXRlTWFya3VwQnlUeXBlKGVsZW1lbnQsIHR5cGUsIHNldHRpbmdzLCBzaXplLCBzY2FsZSk7XG5cbiAgICAgICAgICAgIC8vIGFkZFxuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVWZWN0b3IkMSA9IGZ1bmN0aW9uIGNyZWF0ZVZlY3Rvcih4LCB5KSB7XG4gICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuICB9O1xuXG4gIHZhciB2ZWN0b3JEb3QgPSBmdW5jdGlvbiB2ZWN0b3JEb3QoYSwgYikge1xuICAgIHJldHVybiBhLnggKiBiLnggKyBhLnkgKiBiLnk7XG4gIH07XG5cbiAgdmFyIHZlY3RvclN1YnRyYWN0ID0gZnVuY3Rpb24gdmVjdG9yU3VidHJhY3QoYSwgYikge1xuICAgIHJldHVybiBjcmVhdGVWZWN0b3IkMShhLnggLSBiLngsIGEueSAtIGIueSk7XG4gIH07XG5cbiAgdmFyIHZlY3RvckRpc3RhbmNlU3F1YXJlZCA9IGZ1bmN0aW9uIHZlY3RvckRpc3RhbmNlU3F1YXJlZChhLCBiKSB7XG4gICAgcmV0dXJuIHZlY3RvckRvdCh2ZWN0b3JTdWJ0cmFjdChhLCBiKSwgdmVjdG9yU3VidHJhY3QoYSwgYikpO1xuICB9O1xuXG4gIHZhciB2ZWN0b3JEaXN0YW5jZSA9IGZ1bmN0aW9uIHZlY3RvckRpc3RhbmNlKGEsIGIpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHZlY3RvckRpc3RhbmNlU3F1YXJlZChhLCBiKSk7XG4gIH07XG5cbiAgdmFyIGdldE9mZnNldFBvaW50T25FZGdlID0gZnVuY3Rpb24gZ2V0T2Zmc2V0UG9pbnRPbkVkZ2UobGVuZ3RoLCByb3RhdGlvbikge1xuICAgIHZhciBhID0gbGVuZ3RoO1xuXG4gICAgdmFyIEEgPSAxLjU3MDc5NjMyNjc5NDg5NjY7XG4gICAgdmFyIEIgPSByb3RhdGlvbjtcbiAgICB2YXIgQyA9IDEuNTcwNzk2MzI2Nzk0ODk2NiAtIHJvdGF0aW9uO1xuXG4gICAgdmFyIHNpbkEgPSBNYXRoLnNpbihBKTtcbiAgICB2YXIgc2luQiA9IE1hdGguc2luKEIpO1xuICAgIHZhciBzaW5DID0gTWF0aC5zaW4oQyk7XG4gICAgdmFyIGNvc0MgPSBNYXRoLmNvcyhDKTtcbiAgICB2YXIgcmF0aW8gPSBhIC8gc2luQTtcbiAgICB2YXIgYiA9IHJhdGlvICogc2luQjtcbiAgICB2YXIgYyA9IHJhdGlvICogc2luQztcblxuICAgIHJldHVybiBjcmVhdGVWZWN0b3IkMShjb3NDICogYiwgY29zQyAqIGMpO1xuICB9O1xuXG4gIHZhciBnZXRSb3RhdGVkUmVjdFNpemUgPSBmdW5jdGlvbiBnZXRSb3RhdGVkUmVjdFNpemUocmVjdCwgcm90YXRpb24pIHtcbiAgICB2YXIgdyA9IHJlY3Qud2lkdGg7XG4gICAgdmFyIGggPSByZWN0LmhlaWdodDtcblxuICAgIHZhciBob3IgPSBnZXRPZmZzZXRQb2ludE9uRWRnZSh3LCByb3RhdGlvbik7XG4gICAgdmFyIHZlciA9IGdldE9mZnNldFBvaW50T25FZGdlKGgsIHJvdGF0aW9uKTtcblxuICAgIHZhciB0bCA9IGNyZWF0ZVZlY3RvciQxKHJlY3QueCArIE1hdGguYWJzKGhvci54KSwgcmVjdC55IC0gTWF0aC5hYnMoaG9yLnkpKTtcblxuICAgIHZhciB0ciA9IGNyZWF0ZVZlY3RvciQxKFxuICAgICAgcmVjdC54ICsgcmVjdC53aWR0aCArIE1hdGguYWJzKHZlci55KSxcbiAgICAgIHJlY3QueSArIE1hdGguYWJzKHZlci54KVxuICAgICk7XG5cbiAgICB2YXIgYmwgPSBjcmVhdGVWZWN0b3IkMShcbiAgICAgIHJlY3QueCAtIE1hdGguYWJzKHZlci55KSxcbiAgICAgIHJlY3QueSArIHJlY3QuaGVpZ2h0IC0gTWF0aC5hYnModmVyLngpXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogdmVjdG9yRGlzdGFuY2UodGwsIHRyKSxcbiAgICAgIGhlaWdodDogdmVjdG9yRGlzdGFuY2UodGwsIGJsKVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGNhbGN1bGF0ZUNhbnZhc1NpemUgPSBmdW5jdGlvbiBjYWxjdWxhdGVDYW52YXNTaXplKFxuICAgIGltYWdlLFxuICAgIGNhbnZhc0FzcGVjdFJhdGlvXG4gICkge1xuICAgIHZhciB6b29tID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcblxuICAgIHZhciBpbWFnZUFzcGVjdFJhdGlvID0gaW1hZ2UuaGVpZ2h0IC8gaW1hZ2Uud2lkdGg7XG5cbiAgICAvLyBkZXRlcm1pbmUgYWN0dWFsIHBpeGVscyBvbiB4IGFuZCB5IGF4aXNcbiAgICB2YXIgY2FudmFzV2lkdGggPSAxO1xuICAgIHZhciBjYW52YXNIZWlnaHQgPSBjYW52YXNBc3BlY3RSYXRpbztcbiAgICB2YXIgaW1nV2lkdGggPSAxO1xuICAgIHZhciBpbWdIZWlnaHQgPSBpbWFnZUFzcGVjdFJhdGlvO1xuICAgIGlmIChpbWdIZWlnaHQgPiBjYW52YXNIZWlnaHQpIHtcbiAgICAgIGltZ0hlaWdodCA9IGNhbnZhc0hlaWdodDtcbiAgICAgIGltZ1dpZHRoID0gaW1nSGVpZ2h0IC8gaW1hZ2VBc3BlY3RSYXRpbztcbiAgICB9XG5cbiAgICB2YXIgc2NhbGFyID0gTWF0aC5tYXgoY2FudmFzV2lkdGggLyBpbWdXaWR0aCwgY2FudmFzSGVpZ2h0IC8gaW1nSGVpZ2h0KTtcbiAgICB2YXIgd2lkdGggPSBpbWFnZS53aWR0aCAvICh6b29tICogc2NhbGFyICogaW1nV2lkdGgpO1xuICAgIHZhciBoZWlnaHQgPSB3aWR0aCAqIGNhbnZhc0FzcGVjdFJhdGlvO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfTtcbiAgfTtcblxuICB2YXIgZ2V0SW1hZ2VSZWN0Wm9vbUZhY3RvciA9IGZ1bmN0aW9uIGdldEltYWdlUmVjdFpvb21GYWN0b3IoXG4gICAgaW1hZ2VSZWN0LFxuICAgIGNyb3BSZWN0LFxuICAgIHJvdGF0aW9uLFxuICAgIGNlbnRlclxuICApIHtcbiAgICAvLyBjYWxjdWxhdGUgYXZhaWxhYmxlIHNwYWNlIHJvdW5kIGltYWdlIGNlbnRlciBwb3NpdGlvblxuICAgIHZhciBjeCA9IGNlbnRlci54ID4gMC41ID8gMSAtIGNlbnRlci54IDogY2VudGVyLng7XG4gICAgdmFyIGN5ID0gY2VudGVyLnkgPiAwLjUgPyAxIC0gY2VudGVyLnkgOiBjZW50ZXIueTtcbiAgICB2YXIgaW1hZ2VXaWR0aCA9IGN4ICogMiAqIGltYWdlUmVjdC53aWR0aDtcbiAgICB2YXIgaW1hZ2VIZWlnaHQgPSBjeSAqIDIgKiBpbWFnZVJlY3QuaGVpZ2h0O1xuXG4gICAgLy8gY2FsY3VsYXRlIHJvdGF0ZWQgY3JvcCByZWN0YW5nbGUgc2l6ZVxuICAgIHZhciByb3RhdGVkQ3JvcFNpemUgPSBnZXRSb3RhdGVkUmVjdFNpemUoY3JvcFJlY3QsIHJvdGF0aW9uKTtcblxuICAgIC8vIGNhbGN1bGF0ZSBzY2FsYXIgcmVxdWlyZWQgdG8gZml0IGltYWdlXG4gICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgcm90YXRlZENyb3BTaXplLndpZHRoIC8gaW1hZ2VXaWR0aCxcbiAgICAgIHJvdGF0ZWRDcm9wU2l6ZS5oZWlnaHQgLyBpbWFnZUhlaWdodFxuICAgICk7XG4gIH07XG5cbiAgdmFyIGdldENlbnRlcmVkQ3JvcFJlY3QgPSBmdW5jdGlvbiBnZXRDZW50ZXJlZENyb3BSZWN0KFxuICAgIGNvbnRhaW5lcixcbiAgICBhc3BlY3RSYXRpb1xuICApIHtcbiAgICB2YXIgd2lkdGggPSBjb250YWluZXIud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IHdpZHRoICogYXNwZWN0UmF0aW87XG4gICAgaWYgKGhlaWdodCA+IGNvbnRhaW5lci5oZWlnaHQpIHtcbiAgICAgIGhlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQ7XG4gICAgICB3aWR0aCA9IGhlaWdodCAvIGFzcGVjdFJhdGlvO1xuICAgIH1cbiAgICB2YXIgeCA9IChjb250YWluZXIud2lkdGggLSB3aWR0aCkgKiAwLjU7XG4gICAgdmFyIHkgPSAoY29udGFpbmVyLmhlaWdodCAtIGhlaWdodCkgKiAwLjU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogeCxcbiAgICAgIHk6IHksXG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodFxuICAgIH07XG4gIH07XG5cbiAgdmFyIGdldEN1cnJlbnRDcm9wU2l6ZSA9IGZ1bmN0aW9uIGdldEN1cnJlbnRDcm9wU2l6ZShpbWFnZVNpemUpIHtcbiAgICB2YXIgY3JvcCA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciB6b29tID0gY3JvcC56b29tLFxuICAgICAgcm90YXRpb24gPSBjcm9wLnJvdGF0aW9uLFxuICAgICAgY2VudGVyID0gY3JvcC5jZW50ZXIsXG4gICAgICBhc3BlY3RSYXRpbyA9IGNyb3AuYXNwZWN0UmF0aW87XG5cbiAgICBpZiAoIWFzcGVjdFJhdGlvKSBhc3BlY3RSYXRpbyA9IGltYWdlU2l6ZS5oZWlnaHQgLyBpbWFnZVNpemUud2lkdGg7XG5cbiAgICB2YXIgY2FudmFzU2l6ZSA9IGNhbGN1bGF0ZUNhbnZhc1NpemUoaW1hZ2VTaXplLCBhc3BlY3RSYXRpbywgem9vbSk7XG5cbiAgICB2YXIgY2FudmFzQ2VudGVyID0ge1xuICAgICAgeDogY2FudmFzU2l6ZS53aWR0aCAqIDAuNSxcbiAgICAgIHk6IGNhbnZhc1NpemUuaGVpZ2h0ICogMC41XG4gICAgfTtcblxuICAgIHZhciBzdGFnZSA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IGNhbnZhc1NpemUud2lkdGgsXG4gICAgICBoZWlnaHQ6IGNhbnZhc1NpemUuaGVpZ2h0LFxuICAgICAgY2VudGVyOiBjYW52YXNDZW50ZXJcbiAgICB9O1xuXG4gICAgdmFyIHNob3VsZExpbWl0ID0gdHlwZW9mIGNyb3Auc2NhbGVUb0ZpdCA9PT0gJ3VuZGVmaW5lZCcgfHwgY3JvcC5zY2FsZVRvRml0O1xuXG4gICAgdmFyIHN0YWdlWm9vbUZhY3RvciA9IGdldEltYWdlUmVjdFpvb21GYWN0b3IoXG4gICAgICBpbWFnZVNpemUsXG4gICAgICBnZXRDZW50ZXJlZENyb3BSZWN0KHN0YWdlLCBhc3BlY3RSYXRpbyksXG4gICAgICByb3RhdGlvbixcbiAgICAgIHNob3VsZExpbWl0ID8gY2VudGVyIDogeyB4OiAwLjUsIHk6IDAuNSB9XG4gICAgKTtcblxuICAgIHZhciBzY2FsZSA9IHpvb20gKiBzdGFnZVpvb21GYWN0b3I7XG5cbiAgICAvLyBzdGFydCBkcmF3aW5nXG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoRmxvYXQ6IGNhbnZhc1NpemUud2lkdGggLyBzY2FsZSxcbiAgICAgIGhlaWdodEZsb2F0OiBjYW52YXNTaXplLmhlaWdodCAvIHNjYWxlLFxuICAgICAgd2lkdGg6IE1hdGgucm91bmQoY2FudmFzU2l6ZS53aWR0aCAvIHNjYWxlKSxcbiAgICAgIGhlaWdodDogTWF0aC5yb3VuZChjYW52YXNTaXplLmhlaWdodCAvIHNjYWxlKVxuICAgIH07XG4gIH07XG5cbiAgdmFyIElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyA9IHtcbiAgICB0eXBlOiAnc3ByaW5nJyxcbiAgICBzdGlmZm5lc3M6IDAuNSxcbiAgICBkYW1waW5nOiAwLjQ1LFxuICAgIG1hc3M6IDEwXG4gIH07XG5cbiAgLy8gZG9lcyBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCBmbGlwcGluZ1xuICB2YXIgY3JlYXRlQml0bWFwVmlldyA9IGZ1bmN0aW9uIGNyZWF0ZUJpdG1hcFZpZXcoXykge1xuICAgIHJldHVybiBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ltYWdlLWJpdG1hcCcsXG4gICAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgICAgbWl4aW5zOiB7IHN0eWxlczogWydzY2FsZVgnLCAnc2NhbGVZJ10gfSxcbiAgICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgICAgICByb290LmFwcGVuZENoaWxkKHByb3BzLmltYWdlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvLyBzaGlmdHMgYW5kIHJvdGF0ZXMgaW1hZ2VcbiAgdmFyIGNyZWF0ZUltYWdlQ2FudmFzV3JhcHBlciA9IGZ1bmN0aW9uIGNyZWF0ZUltYWdlQ2FudmFzV3JhcHBlcihfKSB7XG4gICAgcmV0dXJuIF8udXRpbHMuY3JlYXRlVmlldyh7XG4gICAgICBuYW1lOiAnaW1hZ2UtY2FudmFzLXdyYXBwZXInLFxuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICBtaXhpbnM6IHtcbiAgICAgICAgYXBpczogWydjcm9wJywgJ3dpZHRoJywgJ2hlaWdodCddLFxuXG4gICAgICAgIHN0eWxlczogW1xuICAgICAgICAgICdvcmlnaW5YJyxcbiAgICAgICAgICAnb3JpZ2luWScsXG4gICAgICAgICAgJ3RyYW5zbGF0ZVgnLFxuICAgICAgICAgICd0cmFuc2xhdGVZJyxcbiAgICAgICAgICAnc2NhbGVYJyxcbiAgICAgICAgICAnc2NhbGVZJyxcbiAgICAgICAgICAncm90YXRlWidcbiAgICAgICAgXSxcblxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgb3JpZ2luWDogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICAgIG9yaWdpblk6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICBzY2FsZVg6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICBzY2FsZVk6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICB0cmFuc2xhdGVYOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgICAgdHJhbnNsYXRlWTogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICAgIHJvdGF0ZVo6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QU1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShfcmVmMikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcztcbiAgICAgICAgcHJvcHMud2lkdGggPSBwcm9wcy5pbWFnZS53aWR0aDtcbiAgICAgICAgcHJvcHMuaGVpZ2h0ID0gcHJvcHMuaW1hZ2UuaGVpZ2h0O1xuICAgICAgICByb290LnJlZi5iaXRtYXAgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhjcmVhdGVCaXRtYXBWaWV3KF8pLCB7IGltYWdlOiBwcm9wcy5pbWFnZSB9KVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShfcmVmMykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmMy5wcm9wcztcbiAgICAgICAgdmFyIGZsaXAgPSBwcm9wcy5jcm9wLmZsaXA7XG4gICAgICAgIHZhciBiaXRtYXAgPSByb290LnJlZi5iaXRtYXA7XG4gICAgICAgIGJpdG1hcC5zY2FsZVggPSBmbGlwLmhvcml6b250YWwgPyAtMSA6IDE7XG4gICAgICAgIGJpdG1hcC5zY2FsZVkgPSBmbGlwLnZlcnRpY2FsID8gLTEgOiAxO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIGNsaXBzIGNhbnZhcyB0byBjb3JyZWN0IGFzcGVjdCByYXRpb1xuICB2YXIgY3JlYXRlQ2xpcFZpZXcgPSBmdW5jdGlvbiBjcmVhdGVDbGlwVmlldyhfKSB7XG4gICAgcmV0dXJuIF8udXRpbHMuY3JlYXRlVmlldyh7XG4gICAgICBuYW1lOiAnaW1hZ2UtY2xpcCcsXG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgIG1peGluczoge1xuICAgICAgICBhcGlzOiBbXG4gICAgICAgICAgJ2Nyb3AnLFxuICAgICAgICAgICdtYXJrdXAnLFxuICAgICAgICAgICdyZXNpemUnLFxuICAgICAgICAgICd3aWR0aCcsXG4gICAgICAgICAgJ2hlaWdodCcsXG4gICAgICAgICAgJ2RpcnR5JyxcbiAgICAgICAgICAnYmFja2dyb3VuZCdcbiAgICAgICAgXSxcblxuICAgICAgICBzdHlsZXM6IFsnd2lkdGgnLCAnaGVpZ2h0JywgJ29wYWNpdHknXSxcbiAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDI1MCB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGRpZFdyaXRlVmlldzogZnVuY3Rpb24gZGlkV3JpdGVWaWV3KF9yZWY0KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjQucm9vdCxcbiAgICAgICAgICBwcm9wcyA9IF9yZWY0LnByb3BzO1xuICAgICAgICBpZiAoIXByb3BzLmJhY2tncm91bmQpIHJldHVybjtcbiAgICAgICAgcm9vdC5lbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHByb3BzLmJhY2tncm91bmQ7XG4gICAgICB9LFxuICAgICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoX3JlZjUpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZjUucHJvcHM7XG5cbiAgICAgICAgcm9vdC5yZWYuaW1hZ2UgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhcbiAgICAgICAgICAgIGNyZWF0ZUltYWdlQ2FudmFzV3JhcHBlcihfKSxcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcblxuICAgICAgICByb290LnJlZi5jcmVhdGVNYXJrdXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAocm9vdC5yZWYubWFya3VwKSByZXR1cm47XG4gICAgICAgICAgcm9vdC5yZWYubWFya3VwID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhjcmVhdGVNYXJrdXBWaWV3KF8pLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpXG4gICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICByb290LnJlZi5kZXN0cm95TWFya3VwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFyb290LnJlZi5tYXJrdXApIHJldHVybjtcbiAgICAgICAgICByb290LnJlbW92ZUNoaWxkVmlldyhyb290LnJlZi5tYXJrdXApO1xuICAgICAgICAgIHJvb3QucmVmLm1hcmt1cCA9IG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc2V0IHVwIHRyYW5zcGFyZW5jeSBncmlkXG4gICAgICAgIHZhciB0cmFuc3BhcmVuY3lJbmRpY2F0b3IgPSByb290LnF1ZXJ5KFxuICAgICAgICAgICdHRVRfSU1BR0VfUFJFVklFV19UUkFOU1BBUkVOQ1lfSU5ESUNBVE9SJ1xuICAgICAgICApO1xuICAgICAgICBpZiAodHJhbnNwYXJlbmN5SW5kaWNhdG9yID09PSBudWxsKSByZXR1cm47XG5cbiAgICAgICAgLy8gZ3JpZCBwYXR0ZXJuXG4gICAgICAgIGlmICh0cmFuc3BhcmVuY3lJbmRpY2F0b3IgPT09ICdncmlkJykge1xuICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LnRyYW5zcGFyZW5jeUluZGljYXRvciA9IHRyYW5zcGFyZW5jeUluZGljYXRvcjtcbiAgICAgICAgfVxuICAgICAgICAvLyBiYXNpYyBjb2xvclxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC50cmFuc3BhcmVuY3lJbmRpY2F0b3IgPSAnY29sb3InO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKF9yZWY2KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjYucm9vdCxcbiAgICAgICAgICBwcm9wcyA9IF9yZWY2LnByb3BzLFxuICAgICAgICAgIHNob3VsZE9wdGltaXplID0gX3JlZjYuc2hvdWxkT3B0aW1pemU7XG4gICAgICAgIHZhciBjcm9wID0gcHJvcHMuY3JvcCxcbiAgICAgICAgICBtYXJrdXAgPSBwcm9wcy5tYXJrdXAsXG4gICAgICAgICAgcmVzaXplID0gcHJvcHMucmVzaXplLFxuICAgICAgICAgIGRpcnR5ID0gcHJvcHMuZGlydHksXG4gICAgICAgICAgd2lkdGggPSBwcm9wcy53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBwcm9wcy5oZWlnaHQ7XG5cbiAgICAgICAgcm9vdC5yZWYuaW1hZ2UuY3JvcCA9IGNyb3A7XG5cbiAgICAgICAgdmFyIHN0YWdlID0ge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMCxcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuNSxcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuNVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaW1hZ2UgPSB7XG4gICAgICAgICAgd2lkdGg6IHJvb3QucmVmLmltYWdlLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogcm9vdC5yZWYuaW1hZ2UuaGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9yaWdpbiA9IHtcbiAgICAgICAgICB4OiBjcm9wLmNlbnRlci54ICogaW1hZ2Uud2lkdGgsXG4gICAgICAgICAgeTogY3JvcC5jZW50ZXIueSAqIGltYWdlLmhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IHtcbiAgICAgICAgICB4OiBzdGFnZS5jZW50ZXIueCAtIGltYWdlLndpZHRoICogY3JvcC5jZW50ZXIueCxcbiAgICAgICAgICB5OiBzdGFnZS5jZW50ZXIueSAtIGltYWdlLmhlaWdodCAqIGNyb3AuY2VudGVyLnlcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcm90YXRpb24gPSBNYXRoLlBJICogMiArIChjcm9wLnJvdGF0aW9uICUgKE1hdGguUEkgKiAyKSk7XG5cbiAgICAgICAgdmFyIGNyb3BBc3BlY3RSYXRpbyA9IGNyb3AuYXNwZWN0UmF0aW8gfHwgaW1hZ2UuaGVpZ2h0IC8gaW1hZ2Uud2lkdGg7XG5cbiAgICAgICAgdmFyIHNob3VsZExpbWl0ID1cbiAgICAgICAgICB0eXBlb2YgY3JvcC5zY2FsZVRvRml0ID09PSAndW5kZWZpbmVkJyB8fCBjcm9wLnNjYWxlVG9GaXQ7XG5cbiAgICAgICAgdmFyIHN0YWdlWm9vbUZhY3RvciA9IGdldEltYWdlUmVjdFpvb21GYWN0b3IoXG4gICAgICAgICAgaW1hZ2UsXG4gICAgICAgICAgZ2V0Q2VudGVyZWRDcm9wUmVjdChzdGFnZSwgY3JvcEFzcGVjdFJhdGlvKSxcblxuICAgICAgICAgIHJvdGF0aW9uLFxuICAgICAgICAgIHNob3VsZExpbWl0ID8gY3JvcC5jZW50ZXIgOiB7IHg6IDAuNSwgeTogMC41IH1cbiAgICAgICAgKTtcblxuICAgICAgICB2YXIgc2NhbGUgPSBjcm9wLnpvb20gKiBzdGFnZVpvb21GYWN0b3I7XG5cbiAgICAgICAgLy8gdXBkYXRlIG1hcmt1cCB2aWV3XG4gICAgICAgIGlmIChtYXJrdXAgJiYgbWFya3VwLmxlbmd0aCkge1xuICAgICAgICAgIHJvb3QucmVmLmNyZWF0ZU1hcmt1cCgpO1xuICAgICAgICAgIHJvb3QucmVmLm1hcmt1cC53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgIHJvb3QucmVmLm1hcmt1cC5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgcm9vdC5yZWYubWFya3VwLnJlc2l6ZSA9IHJlc2l6ZTtcbiAgICAgICAgICByb290LnJlZi5tYXJrdXAuZGlydHkgPSBkaXJ0eTtcbiAgICAgICAgICByb290LnJlZi5tYXJrdXAubWFya3VwID0gbWFya3VwO1xuICAgICAgICAgIHJvb3QucmVmLm1hcmt1cC5jcm9wID0gZ2V0Q3VycmVudENyb3BTaXplKGltYWdlLCBjcm9wKTtcbiAgICAgICAgfSBlbHNlIGlmIChyb290LnJlZi5tYXJrdXApIHtcbiAgICAgICAgICByb290LnJlZi5kZXN0cm95TWFya3VwKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgaW1hZ2Ugdmlld1xuICAgICAgICB2YXIgaW1hZ2VWaWV3ID0gcm9vdC5yZWYuaW1hZ2U7XG5cbiAgICAgICAgLy8gZG9uJ3QgdXBkYXRlIGNsaXAgbGF5b3V0XG4gICAgICAgIGlmIChzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICAgIGltYWdlVmlldy5vcmlnaW5YID0gbnVsbDtcbiAgICAgICAgICBpbWFnZVZpZXcub3JpZ2luWSA9IG51bGw7XG4gICAgICAgICAgaW1hZ2VWaWV3LnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICAgIGltYWdlVmlldy50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgICBpbWFnZVZpZXcucm90YXRlWiA9IG51bGw7XG4gICAgICAgICAgaW1hZ2VWaWV3LnNjYWxlWCA9IG51bGw7XG4gICAgICAgICAgaW1hZ2VWaWV3LnNjYWxlWSA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaW1hZ2VWaWV3Lm9yaWdpblggPSBvcmlnaW4ueDtcbiAgICAgICAgaW1hZ2VWaWV3Lm9yaWdpblkgPSBvcmlnaW4ueTtcbiAgICAgICAgaW1hZ2VWaWV3LnRyYW5zbGF0ZVggPSB0cmFuc2xhdGlvbi54O1xuICAgICAgICBpbWFnZVZpZXcudHJhbnNsYXRlWSA9IHRyYW5zbGF0aW9uLnk7XG4gICAgICAgIGltYWdlVmlldy5yb3RhdGVaID0gcm90YXRpb247XG4gICAgICAgIGltYWdlVmlldy5zY2FsZVggPSBzY2FsZTtcbiAgICAgICAgaW1hZ2VWaWV3LnNjYWxlWSA9IHNjYWxlO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVJbWFnZVZpZXcgPSBmdW5jdGlvbiBjcmVhdGVJbWFnZVZpZXcoXykge1xuICAgIHJldHVybiBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ltYWdlLXByZXZpZXcnLFxuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICBtaXhpbnM6IHtcbiAgICAgICAgYXBpczogWydpbWFnZScsICdjcm9wJywgJ21hcmt1cCcsICdyZXNpemUnLCAnZGlydHknLCAnYmFja2dyb3VuZCddLFxuXG4gICAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVZJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnb3BhY2l0eSddLFxuXG4gICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICBzY2FsZVg6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICBzY2FsZVk6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICB0cmFuc2xhdGVZOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogNDAwIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoX3JlZjcpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNy5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZjcucHJvcHM7XG4gICAgICAgIHJvb3QucmVmLmNsaXAgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhjcmVhdGVDbGlwVmlldyhfKSwge1xuICAgICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgICAgaW1hZ2U6IHByb3BzLmltYWdlLFxuICAgICAgICAgICAgY3JvcDogcHJvcHMuY3JvcCxcbiAgICAgICAgICAgIG1hcmt1cDogcHJvcHMubWFya3VwLFxuICAgICAgICAgICAgcmVzaXplOiBwcm9wcy5yZXNpemUsXG4gICAgICAgICAgICBkaXJ0eTogcHJvcHMuZGlydHksXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBwcm9wcy5iYWNrZ3JvdW5kXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoX3JlZjgpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmOC5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZjgucHJvcHMsXG4gICAgICAgICAgc2hvdWxkT3B0aW1pemUgPSBfcmVmOC5zaG91bGRPcHRpbWl6ZTtcbiAgICAgICAgdmFyIGNsaXAgPSByb290LnJlZi5jbGlwO1xuICAgICAgICB2YXIgaW1hZ2UgPSBwcm9wcy5pbWFnZSxcbiAgICAgICAgICBjcm9wID0gcHJvcHMuY3JvcCxcbiAgICAgICAgICBtYXJrdXAgPSBwcm9wcy5tYXJrdXAsXG4gICAgICAgICAgcmVzaXplID0gcHJvcHMucmVzaXplLFxuICAgICAgICAgIGRpcnR5ID0gcHJvcHMuZGlydHk7XG5cbiAgICAgICAgY2xpcC5jcm9wID0gY3JvcDtcbiAgICAgICAgY2xpcC5tYXJrdXAgPSBtYXJrdXA7XG4gICAgICAgIGNsaXAucmVzaXplID0gcmVzaXplO1xuICAgICAgICBjbGlwLmRpcnR5ID0gZGlydHk7XG5cbiAgICAgICAgLy8gZG9uJ3QgdXBkYXRlIGNsaXAgbGF5b3V0XG4gICAgICAgIGNsaXAub3BhY2l0eSA9IHNob3VsZE9wdGltaXplID8gMCA6IDE7XG5cbiAgICAgICAgLy8gZG9uJ3QgcmUtcmVuZGVyIGlmIG9wdGltaXppbmcgb3IgaGlkZGVuICh3aWR0aCB3aWxsIGJlIHplcm8gcmVzdWx0aW5nIGluIHdlaXJkIGFuaW1hdGlvbnMpXG4gICAgICAgIGlmIChzaG91bGRPcHRpbWl6ZSB8fCByb290LnJlY3QuZWxlbWVudC5oaWRkZW4pIHJldHVybjtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgc2NhbGVkIHByZXZpZXcgaW1hZ2Ugc2l6ZVxuICAgICAgICB2YXIgaW1hZ2VBc3BlY3RSYXRpbyA9IGltYWdlLmhlaWdodCAvIGltYWdlLndpZHRoO1xuICAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSBjcm9wLmFzcGVjdFJhdGlvIHx8IGltYWdlQXNwZWN0UmF0aW87XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIGNvbnRhaW5lciBzaXplXG4gICAgICAgIHZhciBjb250YWluZXJXaWR0aCA9IHJvb3QucmVjdC5pbm5lci53aWR0aDtcbiAgICAgICAgdmFyIGNvbnRhaW5lckhlaWdodCA9IHJvb3QucmVjdC5pbm5lci5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIGZpeGVkUHJldmlld0hlaWdodCA9IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX0hFSUdIVCcpO1xuICAgICAgICB2YXIgbWluUHJldmlld0hlaWdodCA9IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX01JTl9IRUlHSFQnKTtcbiAgICAgICAgdmFyIG1heFByZXZpZXdIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVhfSEVJR0hUJyk7XG5cbiAgICAgICAgdmFyIHBhbmVsQXNwZWN0UmF0aW8gPSByb290LnF1ZXJ5KCdHRVRfUEFORUxfQVNQRUNUX1JBVElPJyk7XG4gICAgICAgIHZhciBhbGxvd011bHRpcGxlID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX01VTFRJUExFJyk7XG5cbiAgICAgICAgaWYgKHBhbmVsQXNwZWN0UmF0aW8gJiYgIWFsbG93TXVsdGlwbGUpIHtcbiAgICAgICAgICBmaXhlZFByZXZpZXdIZWlnaHQgPSBjb250YWluZXJXaWR0aCAqIHBhbmVsQXNwZWN0UmF0aW87XG4gICAgICAgICAgYXNwZWN0UmF0aW8gPSBwYW5lbEFzcGVjdFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIGNsaXAgd2lkdGggYW5kIGhlaWdodFxuICAgICAgICB2YXIgY2xpcEhlaWdodCA9XG4gICAgICAgICAgZml4ZWRQcmV2aWV3SGVpZ2h0ICE9PSBudWxsXG4gICAgICAgICAgICA/IGZpeGVkUHJldmlld0hlaWdodFxuICAgICAgICAgICAgOiBNYXRoLm1heChcbiAgICAgICAgICAgICAgICBtaW5QcmV2aWV3SGVpZ2h0LFxuICAgICAgICAgICAgICAgIE1hdGgubWluKGNvbnRhaW5lcldpZHRoICogYXNwZWN0UmF0aW8sIG1heFByZXZpZXdIZWlnaHQpXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgdmFyIGNsaXBXaWR0aCA9IGNsaXBIZWlnaHQgLyBhc3BlY3RSYXRpbztcbiAgICAgICAgaWYgKGNsaXBXaWR0aCA+IGNvbnRhaW5lcldpZHRoKSB7XG4gICAgICAgICAgY2xpcFdpZHRoID0gY29udGFpbmVyV2lkdGg7XG4gICAgICAgICAgY2xpcEhlaWdodCA9IGNsaXBXaWR0aCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsaXBIZWlnaHQgPiBjb250YWluZXJIZWlnaHQpIHtcbiAgICAgICAgICBjbGlwSGVpZ2h0ID0gY29udGFpbmVySGVpZ2h0O1xuICAgICAgICAgIGNsaXBXaWR0aCA9IGNvbnRhaW5lckhlaWdodCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xpcC53aWR0aCA9IGNsaXBXaWR0aDtcbiAgICAgICAgY2xpcC5oZWlnaHQgPSBjbGlwSGVpZ2h0O1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBTVkdfTUFTSyA9XG4gICAgJzxzdmcgd2lkdGg9XCI1MDBcIiBoZWlnaHQ9XCIyMDBcIiB2aWV3Qm94PVwiMCAwIDUwMCAyMDBcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwibm9uZVwiPlxcbiAgICA8ZGVmcz5cXG4gICAgICAgIDxyYWRpYWxHcmFkaWVudCBpZD1cImdyYWRpZW50LV9fVUlEX19cIiBjeD1cIi41XCIgY3k9XCIxLjI1XCIgcj1cIjEuMTVcIj5cXG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XFwnNTAlXFwnIHN0b3AtY29sb3I9XFwnIzAwMDAwMFxcJy8+XFxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVxcJzU2JVxcJyBzdG9wLWNvbG9yPVxcJyMwYTBhMGFcXCcvPlxcbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cXCc2MyVcXCcgc3RvcC1jb2xvcj1cXCcjMjYyNjI2XFwnLz5cXG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XFwnNjklXFwnIHN0b3AtY29sb3I9XFwnIzRmNGY0ZlxcJy8+XFxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVxcJzc1JVxcJyBzdG9wLWNvbG9yPVxcJyM4MDgwODBcXCcvPlxcbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cXCc4MSVcXCcgc3RvcC1jb2xvcj1cXCcjYjFiMWIxXFwnLz5cXG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XFwnODglXFwnIHN0b3AtY29sb3I9XFwnI2RhZGFkYVxcJy8+XFxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVxcJzk0JVxcJyBzdG9wLWNvbG9yPVxcJyNmNmY2ZjZcXCcvPlxcbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cXCcxMDAlXFwnIHN0b3AtY29sb3I9XFwnI2ZmZmZmZlxcJy8+XFxuICAgICAgICA8L3JhZGlhbEdyYWRpZW50PlxcbiAgICAgICAgPG1hc2sgaWQ9XCJtYXNrLV9fVUlEX19cIj5cXG4gICAgICAgICAgICA8cmVjdCB4PVwiMFwiIHk9XCIwXCIgd2lkdGg9XCI1MDBcIiBoZWlnaHQ9XCIyMDBcIiBmaWxsPVwidXJsKCNncmFkaWVudC1fX1VJRF9fKVwiPjwvcmVjdD5cXG4gICAgICAgIDwvbWFzaz5cXG4gICAgPC9kZWZzPlxcbiAgICA8cmVjdCB4PVwiMFwiIHdpZHRoPVwiNTAwXCIgaGVpZ2h0PVwiMjAwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIG1hc2s9XCJ1cmwoI21hc2stX19VSURfXylcIj48L3JlY3Q+XFxuPC9zdmc+JztcblxuICB2YXIgY2hlY2tlZE15QmFzZXMgPSBmYWxzZTtcbiAgdmFyIFNWR01hc2tVbmlxdWVJZCA9IDA7XG5cbiAgdmFyIGNyZWF0ZUltYWdlT3ZlcmxheVZpZXcgPSBmdW5jdGlvbiBjcmVhdGVJbWFnZU92ZXJsYXlWaWV3KGZwQVBJKSB7XG4gICAgcmV0dXJuIGZwQVBJLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ltYWdlLXByZXZpZXctb3ZlcmxheScsXG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuXG4gICAgICAgIGlmICghY2hlY2tlZE15QmFzZXMgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYmFzZScpKSB7XG4gICAgICAgICAgU1ZHX01BU0sgPSBTVkdfTUFTSy5yZXBsYWNlKFxuICAgICAgICAgICAgL3VybFxcKFxcIy9nLFxuICAgICAgICAgICAgJ3VybCgnICtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSh3aW5kb3cubG9jYXRpb24uaGFzaCwgJycpICtcbiAgICAgICAgICAgICAgJyMnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjaGVja2VkTXlCYXNlcyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBTVkdNYXNrVW5pcXVlSWQrKztcbiAgICAgICAgcm9vdC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXG4gICAgICAgICAgJ2ZpbGVwb25kLS1pbWFnZS1wcmV2aWV3LW92ZXJsYXktJy5jb25jYXQocHJvcHMuc3RhdHVzKVxuICAgICAgICApO1xuICAgICAgICByb290LmVsZW1lbnQuaW5uZXJIVE1MID0gU1ZHX01BU0sucmVwbGFjZSgvX19VSURfXy9nLCBTVkdNYXNrVW5pcXVlSWQpO1xuICAgICAgfSxcbiAgICAgIG1peGluczoge1xuICAgICAgICBzdHlsZXM6IFsnb3BhY2l0eSddLFxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAnc3ByaW5nJywgbWFzczogMjUgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpdG1hcCBXb3JrZXJcbiAgICovXG4gIHZhciBCaXRtYXBXb3JrZXIgPSBmdW5jdGlvbiBCaXRtYXBXb3JrZXIoKSB7XG4gICAgc2VsZi5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICBjcmVhdGVJbWFnZUJpdG1hcChlLmRhdGEubWVzc2FnZS5maWxlKS50aGVuKGZ1bmN0aW9uKGJpdG1hcCkge1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCwgbWVzc2FnZTogYml0bWFwIH0sIFtiaXRtYXBdKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbG9yTWF0cml4IFdvcmtlclxuICAgKi9cbiAgdmFyIENvbG9yTWF0cml4V29ya2VyID0gZnVuY3Rpb24gQ29sb3JNYXRyaXhXb3JrZXIoKSB7XG4gICAgc2VsZi5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gZS5kYXRhLm1lc3NhZ2UuaW1hZ2VEYXRhO1xuICAgICAgdmFyIG1hdHJpeCA9IGUuZGF0YS5tZXNzYWdlLmNvbG9yTWF0cml4O1xuXG4gICAgICB2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuICAgICAgdmFyIGwgPSBkYXRhLmxlbmd0aDtcblxuICAgICAgdmFyIG0xMSA9IG1hdHJpeFswXTtcbiAgICAgIHZhciBtMTIgPSBtYXRyaXhbMV07XG4gICAgICB2YXIgbTEzID0gbWF0cml4WzJdO1xuICAgICAgdmFyIG0xNCA9IG1hdHJpeFszXTtcbiAgICAgIHZhciBtMTUgPSBtYXRyaXhbNF07XG5cbiAgICAgIHZhciBtMjEgPSBtYXRyaXhbNV07XG4gICAgICB2YXIgbTIyID0gbWF0cml4WzZdO1xuICAgICAgdmFyIG0yMyA9IG1hdHJpeFs3XTtcbiAgICAgIHZhciBtMjQgPSBtYXRyaXhbOF07XG4gICAgICB2YXIgbTI1ID0gbWF0cml4WzldO1xuXG4gICAgICB2YXIgbTMxID0gbWF0cml4WzEwXTtcbiAgICAgIHZhciBtMzIgPSBtYXRyaXhbMTFdO1xuICAgICAgdmFyIG0zMyA9IG1hdHJpeFsxMl07XG4gICAgICB2YXIgbTM0ID0gbWF0cml4WzEzXTtcbiAgICAgIHZhciBtMzUgPSBtYXRyaXhbMTRdO1xuXG4gICAgICB2YXIgbTQxID0gbWF0cml4WzE1XTtcbiAgICAgIHZhciBtNDIgPSBtYXRyaXhbMTZdO1xuICAgICAgdmFyIG00MyA9IG1hdHJpeFsxN107XG4gICAgICB2YXIgbTQ0ID0gbWF0cml4WzE4XTtcbiAgICAgIHZhciBtNDUgPSBtYXRyaXhbMTldO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICByID0gMC4wLFxuICAgICAgICBnID0gMC4wLFxuICAgICAgICBiID0gMC4wLFxuICAgICAgICBhID0gMC4wO1xuXG4gICAgICBmb3IgKDsgaW5kZXggPCBsOyBpbmRleCArPSA0KSB7XG4gICAgICAgIHIgPSBkYXRhW2luZGV4XSAvIDI1NTtcbiAgICAgICAgZyA9IGRhdGFbaW5kZXggKyAxXSAvIDI1NTtcbiAgICAgICAgYiA9IGRhdGFbaW5kZXggKyAyXSAvIDI1NTtcbiAgICAgICAgYSA9IGRhdGFbaW5kZXggKyAzXSAvIDI1NTtcbiAgICAgICAgZGF0YVtpbmRleF0gPSBNYXRoLm1heChcbiAgICAgICAgICAwLFxuICAgICAgICAgIE1hdGgubWluKChyICogbTExICsgZyAqIG0xMiArIGIgKiBtMTMgKyBhICogbTE0ICsgbTE1KSAqIDI1NSwgMjU1KVxuICAgICAgICApO1xuICAgICAgICBkYXRhW2luZGV4ICsgMV0gPSBNYXRoLm1heChcbiAgICAgICAgICAwLFxuICAgICAgICAgIE1hdGgubWluKChyICogbTIxICsgZyAqIG0yMiArIGIgKiBtMjMgKyBhICogbTI0ICsgbTI1KSAqIDI1NSwgMjU1KVxuICAgICAgICApO1xuICAgICAgICBkYXRhW2luZGV4ICsgMl0gPSBNYXRoLm1heChcbiAgICAgICAgICAwLFxuICAgICAgICAgIE1hdGgubWluKChyICogbTMxICsgZyAqIG0zMiArIGIgKiBtMzMgKyBhICogbTM0ICsgbTM1KSAqIDI1NSwgMjU1KVxuICAgICAgICApO1xuICAgICAgICBkYXRhW2luZGV4ICsgM10gPSBNYXRoLm1heChcbiAgICAgICAgICAwLFxuICAgICAgICAgIE1hdGgubWluKChyICogbTQxICsgZyAqIG00MiArIGIgKiBtNDMgKyBhICogbTQ0ICsgbTQ1KSAqIDI1NSwgMjU1KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBzZWxmLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCwgbWVzc2FnZTogaW1hZ2VEYXRhIH0sIFtcbiAgICAgICAgaW1hZ2VEYXRhLmRhdGEuYnVmZmVyXG4gICAgICBdKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBnZXRJbWFnZVNpemUgPSBmdW5jdGlvbiBnZXRJbWFnZVNpemUodXJsLCBjYikge1xuICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHdpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgdmFyIGhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICBpbWFnZSA9IG51bGw7XG4gICAgICBjYih3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuICAgIGltYWdlLnNyYyA9IHVybDtcbiAgfTtcblxuICB2YXIgdHJhbnNmb3JtcyA9IHtcbiAgICAxOiBmdW5jdGlvbiBfKCkge1xuICAgICAgcmV0dXJuIFsxLCAwLCAwLCAxLCAwLCAwXTtcbiAgICB9LFxuICAgIDI6IGZ1bmN0aW9uIF8od2lkdGgpIHtcbiAgICAgIHJldHVybiBbLTEsIDAsIDAsIDEsIHdpZHRoLCAwXTtcbiAgICB9LFxuICAgIDM6IGZ1bmN0aW9uIF8od2lkdGgsIGhlaWdodCkge1xuICAgICAgcmV0dXJuIFstMSwgMCwgMCwgLTEsIHdpZHRoLCBoZWlnaHRdO1xuICAgIH0sXG4gICAgNDogZnVuY3Rpb24gXyh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICByZXR1cm4gWzEsIDAsIDAsIC0xLCAwLCBoZWlnaHRdO1xuICAgIH0sXG4gICAgNTogZnVuY3Rpb24gXygpIHtcbiAgICAgIHJldHVybiBbMCwgMSwgMSwgMCwgMCwgMF07XG4gICAgfSxcbiAgICA2OiBmdW5jdGlvbiBfKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHJldHVybiBbMCwgMSwgLTEsIDAsIGhlaWdodCwgMF07XG4gICAgfSxcbiAgICA3OiBmdW5jdGlvbiBfKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHJldHVybiBbMCwgLTEsIC0xLCAwLCBoZWlnaHQsIHdpZHRoXTtcbiAgICB9LFxuICAgIDg6IGZ1bmN0aW9uIF8od2lkdGgpIHtcbiAgICAgIHJldHVybiBbMCwgLTEsIDEsIDAsIDAsIHdpZHRoXTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGZpeEltYWdlT3JpZW50YXRpb24gPSBmdW5jdGlvbiBmaXhJbWFnZU9yaWVudGF0aW9uKFxuICAgIGN0eCxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgb3JpZW50YXRpb25cbiAgKSB7XG4gICAgLy8gbm8gb3JpZW50YXRpb24gc3VwcGxpZWRcbiAgICBpZiAob3JpZW50YXRpb24gPT09IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY3R4LnRyYW5zZm9ybS5hcHBseShjdHgsIHRyYW5zZm9ybXNbb3JpZW50YXRpb25dKHdpZHRoLCBoZWlnaHQpKTtcbiAgfTtcblxuICAvLyBkcmF3cyB0aGUgcHJldmlldyBpbWFnZSB0byBjYW52YXNcbiAgdmFyIGNyZWF0ZVByZXZpZXdJbWFnZSA9IGZ1bmN0aW9uIGNyZWF0ZVByZXZpZXdJbWFnZShcbiAgICBkYXRhLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBvcmllbnRhdGlvblxuICApIHtcbiAgICAvLyBjYW4ndCBkcmF3IG9uIGhhbGYgcGl4ZWxzXG4gICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG5cbiAgICAvLyBkcmF3IGltYWdlXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgLy8gaWYgaXMgcm90YXRlZCBpbmNvcnJlY3RseSBzd2FwIHdpZHRoIGFuZCBoZWlnaHRcbiAgICBpZiAob3JpZW50YXRpb24gPj0gNSAmJiBvcmllbnRhdGlvbiA8PSA4KSB7XG4gICAgICB2YXIgX3JlZiA9IFtoZWlnaHQsIHdpZHRoXTtcbiAgICAgIHdpZHRoID0gX3JlZlswXTtcbiAgICAgIGhlaWdodCA9IF9yZWZbMV07XG4gICAgfVxuXG4gICAgLy8gY29ycmVjdCBpbWFnZSBvcmllbnRhdGlvblxuICAgIGZpeEltYWdlT3JpZW50YXRpb24oY3R4LCB3aWR0aCwgaGVpZ2h0LCBvcmllbnRhdGlvbik7XG5cbiAgICAvLyBkcmF3IHRoZSBpbWFnZVxuICAgIGN0eC5kcmF3SW1hZ2UoZGF0YSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICByZXR1cm4gY2FudmFzO1xuICB9O1xuXG4gIHZhciBpc0JpdG1hcCA9IGZ1bmN0aW9uIGlzQml0bWFwKGZpbGUpIHtcbiAgICByZXR1cm4gL15pbWFnZS8udGVzdChmaWxlLnR5cGUpICYmICEvc3ZnLy50ZXN0KGZpbGUudHlwZSk7XG4gIH07XG5cbiAgdmFyIE1BWF9XSURUSCA9IDEwO1xuICB2YXIgTUFYX0hFSUdIVCA9IDEwO1xuXG4gIHZhciBjYWxjdWxhdGVBdmVyYWdlQ29sb3IgPSBmdW5jdGlvbiBjYWxjdWxhdGVBdmVyYWdlQ29sb3IoaW1hZ2UpIHtcbiAgICB2YXIgc2NhbGFyID0gTWF0aC5taW4oTUFYX1dJRFRIIC8gaW1hZ2Uud2lkdGgsIE1BWF9IRUlHSFQgLyBpbWFnZS5oZWlnaHQpO1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB2YXIgd2lkdGggPSAoY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGltYWdlLndpZHRoICogc2NhbGFyKSk7XG4gICAgdmFyIGhlaWdodCA9IChjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGltYWdlLmhlaWdodCAqIHNjYWxhcikpO1xuICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHZhciBkYXRhID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGwgPSBkYXRhLmxlbmd0aDtcblxuICAgIHZhciByID0gMDtcbiAgICB2YXIgZyA9IDA7XG4gICAgdmFyIGIgPSAwO1xuICAgIHZhciBpID0gMDtcblxuICAgIGZvciAoOyBpIDwgbDsgaSArPSA0KSB7XG4gICAgICByICs9IGRhdGFbaV0gKiBkYXRhW2ldO1xuICAgICAgZyArPSBkYXRhW2kgKyAxXSAqIGRhdGFbaSArIDFdO1xuICAgICAgYiArPSBkYXRhW2kgKyAyXSAqIGRhdGFbaSArIDJdO1xuICAgIH1cblxuICAgIHIgPSBhdmVyYWdlQ29sb3IociwgbCk7XG4gICAgZyA9IGF2ZXJhZ2VDb2xvcihnLCBsKTtcbiAgICBiID0gYXZlcmFnZUNvbG9yKGIsIGwpO1xuXG4gICAgcmV0dXJuIHsgcjogciwgZzogZywgYjogYiB9O1xuICB9O1xuXG4gIHZhciBhdmVyYWdlQ29sb3IgPSBmdW5jdGlvbiBhdmVyYWdlQ29sb3IoYywgbCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGguc3FydChjIC8gKGwgLyA0KSkpO1xuICB9O1xuXG4gIHZhciBjbG9uZUNhbnZhcyA9IGZ1bmN0aW9uIGNsb25lQ2FudmFzKG9yaWdpbiwgdGFyZ2V0KSB7XG4gICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHRhcmdldC53aWR0aCA9IG9yaWdpbi53aWR0aDtcbiAgICB0YXJnZXQuaGVpZ2h0ID0gb3JpZ2luLmhlaWdodDtcbiAgICB2YXIgY3R4ID0gdGFyZ2V0LmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmRyYXdJbWFnZShvcmlnaW4sIDAsIDApO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgdmFyIGNsb25lSW1hZ2VEYXRhID0gZnVuY3Rpb24gY2xvbmVJbWFnZURhdGEoaW1hZ2VEYXRhKSB7XG4gICAgdmFyIGlkO1xuICAgIHRyeSB7XG4gICAgICBpZCA9IG5ldyBJbWFnZURhdGEoaW1hZ2VEYXRhLndpZHRoLCBpbWFnZURhdGEuaGVpZ2h0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBpZCA9IGN0eC5jcmVhdGVJbWFnZURhdGEoaW1hZ2VEYXRhLndpZHRoLCBpbWFnZURhdGEuaGVpZ2h0KTtcbiAgICB9XG4gICAgaWQuZGF0YS5zZXQobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGltYWdlRGF0YS5kYXRhKSk7XG4gICAgcmV0dXJuIGlkO1xuICB9O1xuXG4gIHZhciBsb2FkSW1hZ2UgPSBmdW5jdGlvbiBsb2FkSW1hZ2UodXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgaW1nLmNyb3NzT3JpZ2luID0gJ0Fub255bW91cyc7XG4gICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUoaW1nKTtcbiAgICAgIH07XG4gICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfTtcbiAgICAgIGltZy5zcmMgPSB1cmw7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUltYWdlV3JhcHBlclZpZXcgPSBmdW5jdGlvbiBjcmVhdGVJbWFnZVdyYXBwZXJWaWV3KF8pIHtcbiAgICAvLyBjcmVhdGUgb3ZlcmxheSB2aWV3XG4gICAgdmFyIE92ZXJsYXlWaWV3ID0gY3JlYXRlSW1hZ2VPdmVybGF5VmlldyhfKTtcblxuICAgIHZhciBJbWFnZVZpZXcgPSBjcmVhdGVJbWFnZVZpZXcoXyk7XG4gICAgdmFyIGNyZWF0ZVdvcmtlciA9IF8udXRpbHMuY3JlYXRlV29ya2VyO1xuXG4gICAgdmFyIGFwcGx5RmlsdGVyID0gZnVuY3Rpb24gYXBwbHlGaWx0ZXIocm9vdCwgZmlsdGVyLCB0YXJnZXQpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIC8vIHdpbGwgc3RvcmUgaW1hZ2UgZGF0YSBmb3IgZnV0dXJlIGZpbHRlciB1cGRhdGVzXG4gICAgICAgIGlmICghcm9vdC5yZWYuaW1hZ2VEYXRhKSB7XG4gICAgICAgICAgcm9vdC5yZWYuaW1hZ2VEYXRhID0gdGFyZ2V0XG4gICAgICAgICAgICAuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICAgICAgLmdldEltYWdlRGF0YSgwLCAwLCB0YXJnZXQud2lkdGgsIHRhcmdldC5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGltYWdlIGRhdGEgcmVmZXJlbmNlXG4gICAgICAgIHZhciBpbWFnZURhdGEgPSBjbG9uZUltYWdlRGF0YShyb290LnJlZi5pbWFnZURhdGEpO1xuXG4gICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlci5sZW5ndGggIT09IDIwKSB7XG4gICAgICAgICAgdGFyZ2V0LmdldENvbnRleHQoJzJkJykucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3b3JrZXIgPSBjcmVhdGVXb3JrZXIoQ29sb3JNYXRyaXhXb3JrZXIpO1xuICAgICAgICB3b3JrZXIucG9zdChcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbWFnZURhdGE6IGltYWdlRGF0YSxcbiAgICAgICAgICAgIGNvbG9yTWF0cml4OiBmaWx0ZXJcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8vIGFwcGx5IGZpbHRlcmVkIGNvbG9yc1xuICAgICAgICAgICAgdGFyZ2V0LmdldENvbnRleHQoJzJkJykucHV0SW1hZ2VEYXRhKHJlc3BvbnNlLCAwLCAwKTtcblxuICAgICAgICAgICAgLy8gc3RvcCB3b3JrZXJcbiAgICAgICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcblxuICAgICAgICAgICAgLy8gZG9uZSFcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIFtpbWFnZURhdGEuZGF0YS5idWZmZXJdXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIHJlbW92ZUltYWdlVmlldyA9IGZ1bmN0aW9uIHJlbW92ZUltYWdlVmlldyhyb290LCBpbWFnZVZpZXcpIHtcbiAgICAgIHJvb3QucmVtb3ZlQ2hpbGRWaWV3KGltYWdlVmlldyk7XG4gICAgICBpbWFnZVZpZXcuaW1hZ2Uud2lkdGggPSAxO1xuICAgICAgaW1hZ2VWaWV3LmltYWdlLmhlaWdodCA9IDE7XG4gICAgICBpbWFnZVZpZXcuX2Rlc3Ryb3koKTtcbiAgICB9O1xuXG4gICAgLy8gcmVtb3ZlIGFuIGltYWdlXG4gICAgdmFyIHNoaWZ0SW1hZ2UgPSBmdW5jdGlvbiBzaGlmdEltYWdlKF9yZWYpIHtcbiAgICAgIHZhciByb290ID0gX3JlZi5yb290O1xuICAgICAgdmFyIGltYWdlVmlldyA9IHJvb3QucmVmLmltYWdlcy5zaGlmdCgpO1xuICAgICAgaW1hZ2VWaWV3Lm9wYWNpdHkgPSAwO1xuICAgICAgaW1hZ2VWaWV3LnRyYW5zbGF0ZVkgPSAtMTU7XG4gICAgICByb290LnJlZi5pbWFnZVZpZXdCaW4ucHVzaChpbWFnZVZpZXcpO1xuICAgICAgcmV0dXJuIGltYWdlVmlldztcbiAgICB9O1xuXG4gICAgLy8gYWRkIG5ldyBpbWFnZVxuICAgIHZhciBwdXNoSW1hZ2UgPSBmdW5jdGlvbiBwdXNoSW1hZ2UoX3JlZjIpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcyxcbiAgICAgICAgaW1hZ2UgPSBfcmVmMi5pbWFnZTtcblxuICAgICAgdmFyIGlkID0gcHJvcHMuaWQ7XG4gICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZDogaWQgfSk7XG4gICAgICBpZiAoIWl0ZW0pIHJldHVybjtcblxuICAgICAgdmFyIGNyb3AgPSBpdGVtLmdldE1ldGFkYXRhKCdjcm9wJykgfHwge1xuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICB4OiAwLjUsXG4gICAgICAgICAgeTogMC41XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmxpcDoge1xuICAgICAgICAgIGhvcml6b250YWw6IGZhbHNlLFxuICAgICAgICAgIHZlcnRpY2FsOiBmYWxzZVxuICAgICAgICB9LFxuXG4gICAgICAgIHpvb206IDEsXG4gICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICBhc3BlY3RSYXRpbzogbnVsbFxuICAgICAgfTtcblxuICAgICAgdmFyIGJhY2tncm91bmQgPSByb290LnF1ZXJ5KFxuICAgICAgICAnR0VUX0lNQUdFX1RSQU5TRk9STV9DQU5WQVNfQkFDS0dST1VORF9DT0xPUidcbiAgICAgICk7XG5cbiAgICAgIHZhciBtYXJrdXA7XG4gICAgICB2YXIgcmVzaXplO1xuICAgICAgdmFyIGRpcnR5ID0gZmFsc2U7XG4gICAgICBpZiAocm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFSS1VQX1NIT1cnKSkge1xuICAgICAgICBtYXJrdXAgPSBpdGVtLmdldE1ldGFkYXRhKCdtYXJrdXAnKSB8fCBbXTtcbiAgICAgICAgcmVzaXplID0gaXRlbS5nZXRNZXRhZGF0YSgncmVzaXplJyk7XG4gICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gYXBwZW5kIGltYWdlIHByZXNlbnRlclxuICAgICAgdmFyIGltYWdlVmlldyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhJbWFnZVZpZXcsIHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgaW1hZ2U6IGltYWdlLFxuICAgICAgICAgIGNyb3A6IGNyb3AsXG4gICAgICAgICAgcmVzaXplOiByZXNpemUsXG4gICAgICAgICAgbWFya3VwOiBtYXJrdXAsXG4gICAgICAgICAgZGlydHk6IGRpcnR5LFxuICAgICAgICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmQsXG4gICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICBzY2FsZVg6IDEuMTUsXG4gICAgICAgICAgc2NhbGVZOiAxLjE1LFxuICAgICAgICAgIHRyYW5zbGF0ZVk6IDE1XG4gICAgICAgIH0pLFxuXG4gICAgICAgIHJvb3QuY2hpbGRWaWV3cy5sZW5ndGhcbiAgICAgICk7XG5cbiAgICAgIHJvb3QucmVmLmltYWdlcy5wdXNoKGltYWdlVmlldyk7XG5cbiAgICAgIC8vIHJldmVhbCB0aGUgcHJldmlldyBpbWFnZVxuICAgICAgaW1hZ2VWaWV3Lm9wYWNpdHkgPSAxO1xuICAgICAgaW1hZ2VWaWV3LnNjYWxlWCA9IDE7XG4gICAgICBpbWFnZVZpZXcuc2NhbGVZID0gMTtcbiAgICAgIGltYWdlVmlldy50cmFuc2xhdGVZID0gMDtcblxuICAgICAgLy8gdGhlIHByZXZpZXcgaXMgbm93IHJlYWR5IHRvIGJlIGRyYXduXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICByb290LmRpc3BhdGNoKCdESURfSU1BR0VfUFJFVklFV19TSE9XJywgeyBpZDogaWQgfSk7XG4gICAgICB9LCAyNTApO1xuICAgIH07XG5cbiAgICB2YXIgdXBkYXRlSW1hZ2UgPSBmdW5jdGlvbiB1cGRhdGVJbWFnZShfcmVmMykge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgICBwcm9wcyA9IF9yZWYzLnByb3BzO1xuICAgICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIHsgaWQ6IHByb3BzLmlkIH0pO1xuICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgICB2YXIgaW1hZ2VWaWV3ID0gcm9vdC5yZWYuaW1hZ2VzW3Jvb3QucmVmLmltYWdlcy5sZW5ndGggLSAxXTtcbiAgICAgIGltYWdlVmlldy5jcm9wID0gaXRlbS5nZXRNZXRhZGF0YSgnY3JvcCcpO1xuICAgICAgaW1hZ2VWaWV3LmJhY2tncm91bmQgPSByb290LnF1ZXJ5KFxuICAgICAgICAnR0VUX0lNQUdFX1RSQU5TRk9STV9DQU5WQVNfQkFDS0dST1VORF9DT0xPUidcbiAgICAgICk7XG4gICAgICBpZiAocm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFSS1VQX1NIT1cnKSkge1xuICAgICAgICBpbWFnZVZpZXcuZGlydHkgPSB0cnVlO1xuICAgICAgICBpbWFnZVZpZXcucmVzaXplID0gaXRlbS5nZXRNZXRhZGF0YSgncmVzaXplJyk7XG4gICAgICAgIGltYWdlVmlldy5tYXJrdXAgPSBpdGVtLmdldE1ldGFkYXRhKCdtYXJrdXAnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gcmVwbGFjZSBpbWFnZSBwcmV2aWV3XG4gICAgdmFyIGRpZFVwZGF0ZUl0ZW1NZXRhZGF0YSA9IGZ1bmN0aW9uIGRpZFVwZGF0ZUl0ZW1NZXRhZGF0YShfcmVmNCkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmNC5yb290LFxuICAgICAgICBwcm9wcyA9IF9yZWY0LnByb3BzLFxuICAgICAgICBhY3Rpb24gPSBfcmVmNC5hY3Rpb247XG5cbiAgICAgIC8vIG9ubHkgZmlsdGVyIGFuZCBjcm9wIHRyaWdnZXIgcmVkcmF3XG4gICAgICBpZiAoIS9jcm9wfGZpbHRlcnxtYXJrdXB8cmVzaXplLy50ZXN0KGFjdGlvbi5jaGFuZ2Uua2V5KSkgcmV0dXJuO1xuXG4gICAgICAvLyBubyBpbWFnZXMgdG8gdXBkYXRlLCBleGl0XG4gICAgICBpZiAoIXJvb3QucmVmLmltYWdlcy5sZW5ndGgpIHJldHVybjtcblxuICAgICAgLy8gbm8gaXRlbSBmb3VuZCwgZXhpdFxuICAgICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIHsgaWQ6IHByb3BzLmlkIH0pO1xuICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG5cbiAgICAgIC8vIGZvciBub3csIHVwZGF0ZSBleGlzdGluZyBpbWFnZSB3aGVuIGZpbHRlcmluZ1xuICAgICAgaWYgKC9maWx0ZXIvLnRlc3QoYWN0aW9uLmNoYW5nZS5rZXkpKSB7XG4gICAgICAgIHZhciBpbWFnZVZpZXcgPSByb290LnJlZi5pbWFnZXNbcm9vdC5yZWYuaW1hZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICBhcHBseUZpbHRlcihyb290LCBhY3Rpb24uY2hhbmdlLnZhbHVlLCBpbWFnZVZpZXcuaW1hZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICgvY3JvcHxtYXJrdXB8cmVzaXplLy50ZXN0KGFjdGlvbi5jaGFuZ2Uua2V5KSkge1xuICAgICAgICB2YXIgY3JvcCA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ2Nyb3AnKTtcbiAgICAgICAgdmFyIGltYWdlID0gcm9vdC5yZWYuaW1hZ2VzW3Jvb3QucmVmLmltYWdlcy5sZW5ndGggLSAxXTtcblxuICAgICAgICAvLyBpZiBhc3BlY3QgcmF0aW8gaGFzIGNoYW5nZWQsIHdlIG5lZWQgdG8gY3JlYXRlIGEgbmV3IGltYWdlXG4gICAgICAgIGlmIChNYXRoLmFicyhjcm9wLmFzcGVjdFJhdGlvIC0gaW1hZ2UuY3JvcC5hc3BlY3RSYXRpbykgPiAwLjAwMDAxKSB7XG4gICAgICAgICAgdmFyIF9pbWFnZVZpZXcgPSBzaGlmdEltYWdlKHsgcm9vdDogcm9vdCB9KTtcbiAgICAgICAgICBwdXNoSW1hZ2Uoe1xuICAgICAgICAgICAgcm9vdDogcm9vdCxcbiAgICAgICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgICAgIGltYWdlOiBjbG9uZUNhbnZhcyhfaW1hZ2VWaWV3LmltYWdlKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIG5vdCwgd2UgY2FuIHVwZGF0ZSB0aGUgY3VycmVudCBpbWFnZVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVJbWFnZSh7IHJvb3Q6IHJvb3QsIHByb3BzOiBwcm9wcyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgY2FuQ3JlYXRlSW1hZ2VCaXRtYXAgPSBmdW5jdGlvbiBjYW5DcmVhdGVJbWFnZUJpdG1hcChmaWxlKSB7XG4gICAgICAvLyBGaXJlZm94IHZlcnNpb25zIGJlZm9yZSA1OCB3aWxsIGZyZWV6ZSB3aGVuIHJ1bm5pbmcgY3JlYXRlSW1hZ2VCaXRtYXBcbiAgICAgIC8vIGluIGEgV2ViIFdvcmtlciBzbyB3ZSBkZXRlY3QgdGhvc2UgdmVyc2lvbnMgYW5kIHJldHVybiBmYWxzZSBmb3Igc3VwcG9ydFxuICAgICAgdmFyIHVzZXJBZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICAgICAgdmFyIGlzRmlyZWZveCA9IHVzZXJBZ2VudC5tYXRjaCgvRmlyZWZveFxcLyhbMC05XSspXFwuLyk7XG4gICAgICB2YXIgZmlyZWZveFZlcnNpb24gPSBpc0ZpcmVmb3ggPyBwYXJzZUludChpc0ZpcmVmb3hbMV0pIDogbnVsbDtcbiAgICAgIGlmIChmaXJlZm94VmVyc2lvbiA8PSA1OCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICByZXR1cm4gJ2NyZWF0ZUltYWdlQml0bWFwJyBpbiB3aW5kb3cgJiYgaXNCaXRtYXAoZmlsZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdyaXRlIGhhbmRsZXIgZm9yIHdoZW4gcHJldmlldyBjb250YWluZXIgaGFzIGJlZW4gY3JlYXRlZFxuICAgICAqL1xuICAgIHZhciBkaWRDcmVhdGVQcmV2aWV3Q29udGFpbmVyID0gZnVuY3Rpb24gZGlkQ3JlYXRlUHJldmlld0NvbnRhaW5lcihfcmVmNSkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICBwcm9wcyA9IF9yZWY1LnByb3BzO1xuICAgICAgdmFyIGlkID0gcHJvcHMuaWQ7XG5cbiAgICAgIC8vIHdlIG5lZWQgdG8gZ2V0IHRoZSBmaWxlIGRhdGEgdG8gZGV0ZXJtaW5lIHRoZSBldmVudHVhbCBpbWFnZSBzaXplXG4gICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgaWQpO1xuICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG5cbiAgICAgIC8vIGdldCB1cmwgdG8gZmlsZSAod2UnbGwgcmV2b2tlIGl0IGxhdGVyIG9uIHdoZW4gZG9uZSlcbiAgICAgIHZhciBmaWxlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChpdGVtLmZpbGUpO1xuXG4gICAgICAvLyBkZXRlcm1pbmUgaW1hZ2Ugc2l6ZSBvZiB0aGlzIGl0ZW1cbiAgICAgIGdldEltYWdlU2l6ZShmaWxlVVJMLCBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIC8vIHdlIGNhbiBub3cgc2NhbGUgdGhlIHBhbmVsIHRvIHRoZSBmaW5hbCBzaXplXG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9JTUFHRV9QUkVWSUVXX0NBTENVTEFURV9TSVpFJywge1xuICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGRyYXdQcmV2aWV3ID0gZnVuY3Rpb24gZHJhd1ByZXZpZXcoX3JlZjYpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjYucm9vdCxcbiAgICAgICAgcHJvcHMgPSBfcmVmNi5wcm9wcztcbiAgICAgIHZhciBpZCA9IHByb3BzLmlkO1xuXG4gICAgICAvLyB3ZSBuZWVkIHRvIGdldCB0aGUgZmlsZSBkYXRhIHRvIGRldGVybWluZSB0aGUgZXZlbnR1YWwgaW1hZ2Ugc2l6ZVxuICAgICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGlkKTtcbiAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgICAvLyBnZXQgdXJsIHRvIGZpbGUgKHdlJ2xsIHJldm9rZSBpdCBsYXRlciBvbiB3aGVuIGRvbmUpXG4gICAgICB2YXIgZmlsZVVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoaXRlbS5maWxlKTtcblxuICAgICAgLy8gZmFsbGJhY2tcbiAgICAgIHZhciBsb2FkUHJldmlld0ZhbGxiYWNrID0gZnVuY3Rpb24gbG9hZFByZXZpZXdGYWxsYmFjaygpIHtcbiAgICAgICAgLy8gbGV0J3Mgc2NhbGUgdGhlIGltYWdlIGluIHRoZSBtYWluIHRocmVhZCA6KFxuICAgICAgICBsb2FkSW1hZ2UoZmlsZVVSTCkudGhlbihwcmV2aWV3SW1hZ2VMb2FkZWQpO1xuICAgICAgfTtcblxuICAgICAgLy8gaW1hZ2UgaXMgbm93IHJlYWR5XG4gICAgICB2YXIgcHJldmlld0ltYWdlTG9hZGVkID0gZnVuY3Rpb24gcHJldmlld0ltYWdlTG9hZGVkKGltYWdlRGF0YSkge1xuICAgICAgICAvLyB0aGUgZmlsZSB1cmwgaXMgbm8gbG9uZ2VyIG5lZWRlZFxuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGZpbGVVUkwpO1xuXG4gICAgICAgIC8vIGRyYXcgdGhlIHNjYWxlZCBkb3duIHZlcnNpb24gaGVyZSBhbmQgdXNlIHRoYXQgYXMgc291cmNlIHNvIGJpdG1hcGRhdGEgY2FuIGJlIGNsb3NlZFxuICAgICAgICAvLyBvcmllbnRhdGlvbiBpbmZvXG4gICAgICAgIHZhciBleGlmID0gaXRlbS5nZXRNZXRhZGF0YSgnZXhpZicpIHx8IHt9O1xuICAgICAgICB2YXIgb3JpZW50YXRpb24gPSBleGlmLm9yaWVudGF0aW9uIHx8IC0xO1xuXG4gICAgICAgIC8vIGdldCB3aWR0aCBhbmQgaGVpZ2h0IGZyb20gYWN0aW9uLCBhbmQgc3dhcCBpZiBvcmllbnRhdGlvbiBpcyBpbmNvcnJlY3RcbiAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2VEYXRhLndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IGltYWdlRGF0YS5oZWlnaHQ7XG5cbiAgICAgICAgLy8gaWYgbm8gd2lkdGggb3IgaGVpZ2h0LCBqdXN0IHJldHVybiBlYXJseS5cbiAgICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSByZXR1cm47XG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID49IDUgJiYgb3JpZW50YXRpb24gPD0gOCkge1xuICAgICAgICAgIHZhciBfcmVmNyA9IFtoZWlnaHQsIHdpZHRoXTtcbiAgICAgICAgICB3aWR0aCA9IF9yZWY3WzBdO1xuICAgICAgICAgIGhlaWdodCA9IF9yZWY3WzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2NhbGUgY2FudmFzIGJhc2VkIG9uIHBpeGVsIGRlbnNpdHlcbiAgICAgICAgLy8gd2UgbXVsdGlwbHkgYnkgLjc1IGFzIHRoYXQgY3JlYXRlcyBzbWFsbGVyIGJ1dCBzdGlsbCBjbGVhciBpbWFnZXMgb24gc2NyZWVucyB3aXRoIGhpZ2ggcmVzIGRpc3BsYXlzXG4gICAgICAgIHZhciBwaXhlbERlbnNpdHlGYWN0b3IgPSBNYXRoLm1heCgxLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAqIDAuNzUpO1xuXG4gICAgICAgIC8vIHdlIHdhbnQgYXMgbXVjaCBwaXhlbHMgdG8gd29yayB3aXRoIGFzIHBvc3NpYmxlLFxuICAgICAgICAvLyB0aGlzIG11bHRpcGxpZXMgdGhlIG1pbmltdW0gaW1hZ2UgcmVzb2x1dGlvbixcbiAgICAgICAgLy8gc28gd2hlbiB6b29taW5nIGluIGl0IGRvZXNuJ3QgZ2V0IHRvbyBibHVycnlcbiAgICAgICAgdmFyIHpvb21GYWN0b3IgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19aT09NX0ZBQ1RPUicpO1xuXG4gICAgICAgIC8vIGltYWVnIHNjYWxlIGZhY3RvclxuICAgICAgICB2YXIgc2NhbGVGYWN0b3IgPSB6b29tRmFjdG9yICogcGl4ZWxEZW5zaXR5RmFjdG9yO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBzY2FsZWQgcHJldmlldyBpbWFnZSBzaXplXG4gICAgICAgIHZhciBwcmV2aWV3SW1hZ2VSYXRpbyA9IGhlaWdodCAvIHdpZHRoO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBpbWFnZSBwcmV2aWV3IGhlaWdodCBhbmQgd2lkdGhcbiAgICAgICAgdmFyIHByZXZpZXdDb250YWluZXJXaWR0aCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoO1xuICAgICAgICB2YXIgcHJldmlld0NvbnRhaW5lckhlaWdodCA9IHJvb3QucmVjdC5lbGVtZW50LmhlaWdodDtcblxuICAgICAgICB2YXIgaW1hZ2VXaWR0aCA9IHByZXZpZXdDb250YWluZXJXaWR0aDtcbiAgICAgICAgdmFyIGltYWdlSGVpZ2h0ID0gaW1hZ2VXaWR0aCAqIHByZXZpZXdJbWFnZVJhdGlvO1xuXG4gICAgICAgIGlmIChwcmV2aWV3SW1hZ2VSYXRpbyA+IDEpIHtcbiAgICAgICAgICBpbWFnZVdpZHRoID0gTWF0aC5taW4od2lkdGgsIHByZXZpZXdDb250YWluZXJXaWR0aCAqIHNjYWxlRmFjdG9yKTtcbiAgICAgICAgICBpbWFnZUhlaWdodCA9IGltYWdlV2lkdGggKiBwcmV2aWV3SW1hZ2VSYXRpbztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbWFnZUhlaWdodCA9IE1hdGgubWluKGhlaWdodCwgcHJldmlld0NvbnRhaW5lckhlaWdodCAqIHNjYWxlRmFjdG9yKTtcbiAgICAgICAgICBpbWFnZVdpZHRoID0gaW1hZ2VIZWlnaHQgLyBwcmV2aWV3SW1hZ2VSYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRyYW5zZmVyIHRvIGltYWdlIHRhZyBzbyBubyBjYW52YXMgbWVtb3J5IHdhc3RlZCBvbiBpT1NcbiAgICAgICAgdmFyIHByZXZpZXdJbWFnZSA9IGNyZWF0ZVByZXZpZXdJbWFnZShcbiAgICAgICAgICBpbWFnZURhdGEsXG4gICAgICAgICAgaW1hZ2VXaWR0aCxcbiAgICAgICAgICBpbWFnZUhlaWdodCxcbiAgICAgICAgICBvcmllbnRhdGlvblxuICAgICAgICApO1xuXG4gICAgICAgIC8vIGRvbmVcbiAgICAgICAgdmFyIGRvbmUgPSBmdW5jdGlvbiBkb25lKCkge1xuICAgICAgICAgIC8vIGNhbGN1bGF0ZSBhdmVyYWdlIGltYWdlIGNvbG9yLCBkaXNhYmxlZCBmb3Igbm93XG4gICAgICAgICAgdmFyIGF2ZXJhZ2VDb2xvciA9IHJvb3QucXVlcnkoXG4gICAgICAgICAgICAnR0VUX0lNQUdFX1BSRVZJRVdfQ0FMQ1VMQVRFX0FWRVJBR0VfSU1BR0VfQ09MT1InXG4gICAgICAgICAgKVxuICAgICAgICAgICAgPyBjYWxjdWxhdGVBdmVyYWdlQ29sb3IoZGF0YSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICBpdGVtLnNldE1ldGFkYXRhKCdjb2xvcicsIGF2ZXJhZ2VDb2xvciwgdHJ1ZSk7XG5cbiAgICAgICAgICAvLyBkYXRhIGhhcyBiZWVuIHRyYW5zZmVycmVkIHRvIGNhbnZhcyAoIGlmIHdhcyBJbWFnZUJpdG1hcCApXG4gICAgICAgICAgaWYgKCdjbG9zZScgaW4gaW1hZ2VEYXRhKSB7XG4gICAgICAgICAgICBpbWFnZURhdGEuY2xvc2UoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzaG93IHRoZSBvdmVybGF5XG4gICAgICAgICAgcm9vdC5yZWYub3ZlcmxheVNoYWRvdy5vcGFjaXR5ID0gMTtcblxuICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgZmlyc3QgaW1hZ2VcbiAgICAgICAgICBwdXNoSW1hZ2UoeyByb290OiByb290LCBwcm9wczogcHJvcHMsIGltYWdlOiBwcmV2aWV3SW1hZ2UgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gYXBwbHkgZmlsdGVyXG4gICAgICAgIHZhciBmaWx0ZXIgPSBpdGVtLmdldE1ldGFkYXRhKCdmaWx0ZXInKTtcbiAgICAgICAgaWYgKGZpbHRlcikge1xuICAgICAgICAgIGFwcGx5RmlsdGVyKHJvb3QsIGZpbHRlciwgcHJldmlld0ltYWdlKS50aGVuKGRvbmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gaWYgd2Ugc3VwcG9ydCBzY2FsaW5nIHVzaW5nIGNyZWF0ZUltYWdlQml0bWFwIHdlIHVzZSBhIHdvcmtlclxuICAgICAgaWYgKGNhbkNyZWF0ZUltYWdlQml0bWFwKGl0ZW0uZmlsZSkpIHtcbiAgICAgICAgLy8gbGV0J3Mgc2NhbGUgdGhlIGltYWdlIGluIGEgd29ya2VyXG4gICAgICAgIHZhciB3b3JrZXIgPSBjcmVhdGVXb3JrZXIoQml0bWFwV29ya2VyKTtcblxuICAgICAgICB3b3JrZXIucG9zdChcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmaWxlOiBpdGVtLmZpbGVcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZnVuY3Rpb24oaW1hZ2VCaXRtYXApIHtcbiAgICAgICAgICAgIC8vIGRlc3Ryb3kgd29ya2VyXG4gICAgICAgICAgICB3b3JrZXIudGVybWluYXRlKCk7XG5cbiAgICAgICAgICAgIC8vIG5vIGJpdG1hcCByZXR1cm5lZCwgbXVzdCBiZSBzb21ldGhpbmcgd3JvbmcsXG4gICAgICAgICAgICAvLyB0cnkgdGhlIG9sZHNjaG9vbCB3YXlcbiAgICAgICAgICAgIGlmICghaW1hZ2VCaXRtYXApIHtcbiAgICAgICAgICAgICAgbG9hZFByZXZpZXdGYWxsYmFjaygpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHlheSB3ZSBnb3Qgb3VyIGJpdG1hcCwgbGV0J3MgY29udGludWUgc2hvd2luZyB0aGUgcHJldmlld1xuICAgICAgICAgICAgcHJldmlld0ltYWdlTG9hZGVkKGltYWdlQml0bWFwKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGUgZmFsbGJhY2sgcHJldmlld1xuICAgICAgICBsb2FkUHJldmlld0ZhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdyaXRlIGhhbmRsZXIgZm9yIHdoZW4gdGhlIHByZXZpZXcgaW1hZ2UgaXMgcmVhZHkgdG8gYmUgYW5pbWF0ZWRcbiAgICAgKi9cbiAgICB2YXIgZGlkRHJhd1ByZXZpZXcgPSBmdW5jdGlvbiBkaWREcmF3UHJldmlldyhfcmVmOCkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmOC5yb290O1xuICAgICAgLy8gZ2V0IGxhc3QgYWRkZWQgaW1hZ2VcbiAgICAgIHZhciBpbWFnZSA9IHJvb3QucmVmLmltYWdlc1tyb290LnJlZi5pbWFnZXMubGVuZ3RoIC0gMV07XG4gICAgICBpbWFnZS50cmFuc2xhdGVZID0gMDtcbiAgICAgIGltYWdlLnNjYWxlWCA9IDEuMDtcbiAgICAgIGltYWdlLnNjYWxlWSA9IDEuMDtcbiAgICAgIGltYWdlLm9wYWNpdHkgPSAxO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXcml0ZSBoYW5kbGVyIGZvciB3aGVuIHRoZSBwcmV2aWV3IGhhcyBiZWVuIGxvYWRlZFxuICAgICAqL1xuICAgIHZhciByZXN0b3JlT3ZlcmxheSA9IGZ1bmN0aW9uIHJlc3RvcmVPdmVybGF5KF9yZWY5KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY5LnJvb3Q7XG4gICAgICByb290LnJlZi5vdmVybGF5U2hhZG93Lm9wYWNpdHkgPSAxO1xuICAgICAgcm9vdC5yZWYub3ZlcmxheUVycm9yLm9wYWNpdHkgPSAwO1xuICAgICAgcm9vdC5yZWYub3ZlcmxheVN1Y2Nlc3Mub3BhY2l0eSA9IDA7XG4gICAgfTtcblxuICAgIHZhciBkaWRUaHJvd0Vycm9yID0gZnVuY3Rpb24gZGlkVGhyb3dFcnJvcihfcmVmMTApIHtcbiAgICAgIHZhciByb290ID0gX3JlZjEwLnJvb3Q7XG4gICAgICByb290LnJlZi5vdmVybGF5U2hhZG93Lm9wYWNpdHkgPSAwLjI1O1xuICAgICAgcm9vdC5yZWYub3ZlcmxheUVycm9yLm9wYWNpdHkgPSAxO1xuICAgIH07XG5cbiAgICB2YXIgZGlkQ29tcGxldGVQcm9jZXNzaW5nID0gZnVuY3Rpb24gZGlkQ29tcGxldGVQcm9jZXNzaW5nKF9yZWYxMSkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmMTEucm9vdDtcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cub3BhY2l0eSA9IDAuMjU7XG4gICAgICByb290LnJlZi5vdmVybGF5U3VjY2Vzcy5vcGFjaXR5ID0gMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYxMikge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmMTIucm9vdDtcblxuICAgICAgLy8gaW1hZ2Ugdmlld1xuICAgICAgcm9vdC5yZWYuaW1hZ2VzID0gW107XG5cbiAgICAgIC8vIHRoZSBwcmV2aWV3IGltYWdlIGRhdGEgKHdlIG5lZWQgdGhpcyB0byBmaWx0ZXIgdGhlIGltYWdlKVxuICAgICAgcm9vdC5yZWYuaW1hZ2VEYXRhID0gbnVsbDtcblxuICAgICAgLy8gaW1hZ2UgYmluXG4gICAgICByb290LnJlZi5pbWFnZVZpZXdCaW4gPSBbXTtcblxuICAgICAgLy8gaW1hZ2Ugb3ZlcmxheXNcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoT3ZlcmxheVZpZXcsIHtcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIHN0YXR1czogJ2lkbGUnXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICByb290LnJlZi5vdmVybGF5U3VjY2VzcyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhPdmVybGF5Vmlldywge1xuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcydcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHJvb3QucmVmLm92ZXJsYXlFcnJvciA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhPdmVybGF5Vmlldywge1xuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgc3RhdHVzOiAnZmFpbHVyZSdcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ltYWdlLXByZXZpZXctd3JhcHBlcicsXG4gICAgICBjcmVhdGU6IGNyZWF0ZSxcbiAgICAgIHN0eWxlczogWydoZWlnaHQnXSxcblxuICAgICAgYXBpczogWydoZWlnaHQnXSxcblxuICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShfcmVmMTMpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMTMucm9vdDtcbiAgICAgICAgLy8gd2UgcmVzaXplIHRoZSBpbWFnZSBzbyBtZW1vcnkgb24gaU9TIDEyIGlzIHJlbGVhc2VkIG1vcmUgcXVpY2tseSAoaXQgc2VlbXMpXG4gICAgICAgIHJvb3QucmVmLmltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKGltYWdlVmlldykge1xuICAgICAgICAgIGltYWdlVmlldy5pbWFnZS53aWR0aCA9IDE7XG4gICAgICAgICAgaW1hZ2VWaWV3LmltYWdlLmhlaWdodCA9IDE7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGRpZFdyaXRlVmlldzogZnVuY3Rpb24gZGlkV3JpdGVWaWV3KF9yZWYxNCkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYxNC5yb290O1xuICAgICAgICByb290LnJlZi5pbWFnZXMuZm9yRWFjaChmdW5jdGlvbihpbWFnZVZpZXcpIHtcbiAgICAgICAgICBpbWFnZVZpZXcuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgd3JpdGU6IF8udXRpbHMuY3JlYXRlUm91dGUoXG4gICAgICAgIHtcbiAgICAgICAgICAvLyBpbWFnZSBwcmV2aWV3IHN0YXRlZFxuICAgICAgICAgIERJRF9JTUFHRV9QUkVWSUVXX0RSQVc6IGRpZERyYXdQcmV2aWV3LFxuICAgICAgICAgIERJRF9JTUFHRV9QUkVWSUVXX0NPTlRBSU5FUl9DUkVBVEU6IGRpZENyZWF0ZVByZXZpZXdDb250YWluZXIsXG4gICAgICAgICAgRElEX0ZJTklTSF9DQUxDVUxBVEVfUFJFVklFV1NJWkU6IGRyYXdQcmV2aWV3LFxuICAgICAgICAgIERJRF9VUERBVEVfSVRFTV9NRVRBREFUQTogZGlkVXBkYXRlSXRlbU1ldGFkYXRhLFxuXG4gICAgICAgICAgLy8gZmlsZSBzdGF0ZXNcbiAgICAgICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiBkaWRUaHJvd0Vycm9yLFxuICAgICAgICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1I6IGRpZFRocm93RXJyb3IsXG4gICAgICAgICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDogZGlkVGhyb3dFcnJvcixcbiAgICAgICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiBkaWRDb21wbGV0ZVByb2Nlc3NpbmcsXG4gICAgICAgICAgRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORzogcmVzdG9yZU92ZXJsYXksXG4gICAgICAgICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IHJlc3RvcmVPdmVybGF5XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKF9yZWYxNSkge1xuICAgICAgICAgIHZhciByb290ID0gX3JlZjE1LnJvb3Q7XG5cbiAgICAgICAgICAvLyB2aWV3cyBvbiBkZWF0aCByb3dcbiAgICAgICAgICB2YXIgdmlld3NUb1JlbW92ZSA9IHJvb3QucmVmLmltYWdlVmlld0Jpbi5maWx0ZXIoZnVuY3Rpb24oaW1hZ2VWaWV3KSB7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VWaWV3Lm9wYWNpdHkgPT09IDA7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyB2aWV3cyB0byByZXRhaW5cbiAgICAgICAgICByb290LnJlZi5pbWFnZVZpZXdCaW4gPSByb290LnJlZi5pbWFnZVZpZXdCaW4uZmlsdGVyKGZ1bmN0aW9uKFxuICAgICAgICAgICAgaW1hZ2VWaWV3XG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VWaWV3Lm9wYWNpdHkgPiAwO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gcmVtb3ZlIHRoZXNlIHZpZXdzXG4gICAgICAgICAgdmlld3NUb1JlbW92ZS5mb3JFYWNoKGZ1bmN0aW9uKGltYWdlVmlldykge1xuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUltYWdlVmlldyhyb290LCBpbWFnZVZpZXcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZpZXdzVG9SZW1vdmUubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbWFnZSBQcmV2aWV3IFBsdWdpblxuICAgKi9cbiAgdmFyIHBsdWdpbiA9IGZ1bmN0aW9uIHBsdWdpbihmcEFQSSkge1xuICAgIHZhciBhZGRGaWx0ZXIgPSBmcEFQSS5hZGRGaWx0ZXIsXG4gICAgICB1dGlscyA9IGZwQVBJLnV0aWxzO1xuICAgIHZhciBUeXBlID0gdXRpbHMuVHlwZSxcbiAgICAgIGNyZWF0ZVJvdXRlID0gdXRpbHMuY3JlYXRlUm91dGUsXG4gICAgICBpc0ZpbGUgPSB1dGlscy5pc0ZpbGU7XG5cbiAgICAvLyBpbWFnZVByZXZpZXdWaWV3XG4gICAgdmFyIGltYWdlUHJldmlld1ZpZXcgPSBjcmVhdGVJbWFnZVdyYXBwZXJWaWV3KGZwQVBJKTtcblxuICAgIC8vIGNhbGxlZCBmb3IgZWFjaCB2aWV3IHRoYXQgaXMgY3JlYXRlZCByaWdodCBhZnRlciB0aGUgJ2NyZWF0ZScgbWV0aG9kXG4gICAgYWRkRmlsdGVyKCdDUkVBVEVfVklFVycsIGZ1bmN0aW9uKHZpZXdBUEkpIHtcbiAgICAgIC8vIGdldCByZWZlcmVuY2UgdG8gY3JlYXRlZCB2aWV3XG4gICAgICB2YXIgaXMgPSB2aWV3QVBJLmlzLFxuICAgICAgICB2aWV3ID0gdmlld0FQSS52aWV3LFxuICAgICAgICBxdWVyeSA9IHZpZXdBUEkucXVlcnk7XG5cbiAgICAgIC8vIG9ubHkgaG9vayB1cCB0byBpdGVtIHZpZXcgYW5kIG9ubHkgaWYgaXMgZW5hYmxlZCBmb3IgdGhpcyBjcm9wcGVyXG4gICAgICBpZiAoIWlzKCdmaWxlJykgfHwgIXF1ZXJ5KCdHRVRfQUxMT1dfSU1BR0VfUFJFVklFVycpKSByZXR1cm47XG5cbiAgICAgIC8vIGNyZWF0ZSB0aGUgaW1hZ2UgcHJldmlldyBwbHVnaW4sIGJ1dCBvbmx5IGRvIHNvIGlmIHRoZSBpdGVtIGlzIGFuIGltYWdlXG4gICAgICB2YXIgZGlkTG9hZEl0ZW0gPSBmdW5jdGlvbiBkaWRMb2FkSXRlbShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICAgICAgdmFyIGlkID0gcHJvcHMuaWQ7XG4gICAgICAgIHZhciBpdGVtID0gcXVlcnkoJ0dFVF9JVEVNJywgaWQpO1xuXG4gICAgICAgIC8vIGl0ZW0gY291bGQgdGhlb3JldGljYWxseSBoYXZlIGJlZW4gcmVtb3ZlZCBpbiB0aGUgbWVhbiB0aW1lXG4gICAgICAgIGlmICghaXRlbSB8fCAhaXNGaWxlKGl0ZW0uZmlsZSkgfHwgaXRlbS5hcmNoaXZlZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIGdldCB0aGUgZmlsZSBvYmplY3RcbiAgICAgICAgdmFyIGZpbGUgPSBpdGVtLmZpbGU7XG5cbiAgICAgICAgLy8gZXhpdCBpZiB0aGlzIGlzIG5vdCBhbiBpbWFnZVxuICAgICAgICBpZiAoIWlzUHJldmlld2FibGVJbWFnZShmaWxlKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIHRlc3QgaWYgaXMgZmlsdGVyZWRcbiAgICAgICAgaWYgKCFxdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfRklMVEVSX0lURU0nKShpdGVtKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIGV4aXQgaWYgaW1hZ2Ugc2l6ZSBpcyB0b28gaGlnaCBhbmQgbm8gY3JlYXRlSW1hZ2VCaXRtYXAgc3VwcG9ydFxuICAgICAgICAvLyB0aGlzIHdvdWxkIHNpbXBseSBicmluZyB0aGUgYnJvd3NlciB0byBpdHMga25lZXMgYW5kIHRoYXQgaXMgbm90IHdoYXQgd2Ugd2FudFxuICAgICAgICB2YXIgc3VwcG9ydHNDcmVhdGVJbWFnZUJpdG1hcCA9ICdjcmVhdGVJbWFnZUJpdG1hcCcgaW4gKHdpbmRvdyB8fCB7fSk7XG4gICAgICAgIHZhciBtYXhQcmV2aWV3RmlsZVNpemUgPSBxdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFYX0ZJTEVfU0laRScpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXN1cHBvcnRzQ3JlYXRlSW1hZ2VCaXRtYXAgJiZcbiAgICAgICAgICBtYXhQcmV2aWV3RmlsZVNpemUgJiZcbiAgICAgICAgICBmaWxlLnNpemUgPiBtYXhQcmV2aWV3RmlsZVNpemVcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyBzZXQgcHJldmlldyB2aWV3XG4gICAgICAgIHJvb3QucmVmLmltYWdlUHJldmlldyA9IHZpZXcuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICAgIHZpZXcuY3JlYXRlQ2hpbGRWaWV3KGltYWdlUHJldmlld1ZpZXcsIHsgaWQ6IGlkIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gdXBkYXRlIGhlaWdodCBpZiBpcyBmaXhlZFxuICAgICAgICB2YXIgZml4ZWRQcmV2aWV3SGVpZ2h0ID0gcm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfSEVJR0hUJyk7XG4gICAgICAgIGlmIChmaXhlZFByZXZpZXdIZWlnaHQpIHtcbiAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfVVBEQVRFX1BBTkVMX0hFSUdIVCcsIHtcbiAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgaGVpZ2h0OiBmaXhlZFByZXZpZXdIZWlnaHRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vdyByZWFkeVxuICAgICAgICB2YXIgcXVldWUgPVxuICAgICAgICAgICFzdXBwb3J0c0NyZWF0ZUltYWdlQml0bWFwICYmXG4gICAgICAgICAgZmlsZS5zaXplID4gcXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX01BWF9JTlNUQU5UX1BSRVZJRVdfRklMRV9TSVpFJyk7XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9JTUFHRV9QUkVWSUVXX0NPTlRBSU5FUl9DUkVBVEUnLCB7IGlkOiBpZCB9LCBxdWV1ZSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgcmVzY2FsZUl0ZW0gPSBmdW5jdGlvbiByZXNjYWxlSXRlbShyb290LCBwcm9wcykge1xuICAgICAgICBpZiAoIXJvb3QucmVmLmltYWdlUHJldmlldykgcmV0dXJuO1xuICAgICAgICB2YXIgaWQgPSBwcm9wcy5pZDtcblxuICAgICAgICAvLyBnZXQgaXRlbVxuICAgICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZDogaWQgfSk7XG4gICAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIGlmIGlzIGZpeGVkIGhlaWdodCBvciBwYW5lbCBoYXMgYXNwZWN0IHJhdGlvLCBleGl0IGhlcmUsIGhlaWdodCBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWRcbiAgICAgICAgdmFyIHBhbmVsQXNwZWN0UmF0aW8gPSByb290LnF1ZXJ5KCdHRVRfUEFORUxfQVNQRUNUX1JBVElPJyk7XG4gICAgICAgIHZhciBpdGVtUGFuZWxBc3BlY3RSYXRpbyA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNX1BBTkVMX0FTUEVDVF9SQVRJTycpO1xuICAgICAgICB2YXIgZml4ZWRIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19IRUlHSFQnKTtcbiAgICAgICAgaWYgKHBhbmVsQXNwZWN0UmF0aW8gfHwgaXRlbVBhbmVsQXNwZWN0UmF0aW8gfHwgZml4ZWRIZWlnaHQpIHJldHVybjtcblxuICAgICAgICAvLyBubyBkYXRhIVxuICAgICAgICB2YXIgX3Jvb3QkcmVmID0gcm9vdC5yZWYsXG4gICAgICAgICAgaW1hZ2VXaWR0aCA9IF9yb290JHJlZi5pbWFnZVdpZHRoLFxuICAgICAgICAgIGltYWdlSGVpZ2h0ID0gX3Jvb3QkcmVmLmltYWdlSGVpZ2h0O1xuICAgICAgICBpZiAoIWltYWdlV2lkdGggfHwgIWltYWdlSGVpZ2h0KSByZXR1cm47XG5cbiAgICAgICAgLy8gZ2V0IGhlaWdodCBtaW4gYW5kIG1heFxuICAgICAgICB2YXIgbWluUHJldmlld0hlaWdodCA9IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX01JTl9IRUlHSFQnKTtcbiAgICAgICAgdmFyIG1heFByZXZpZXdIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVhfSEVJR0hUJyk7XG5cbiAgICAgICAgLy8gb3JpZW50YXRpb24gaW5mb1xuICAgICAgICB2YXIgZXhpZiA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ2V4aWYnKSB8fCB7fTtcbiAgICAgICAgdmFyIG9yaWVudGF0aW9uID0gZXhpZi5vcmllbnRhdGlvbiB8fCAtMTtcblxuICAgICAgICAvLyBnZXQgd2lkdGggYW5kIGhlaWdodCBmcm9tIGFjdGlvbiwgYW5kIHN3YXAgb2Ygb3JpZW50YXRpb24gaXMgaW5jb3JyZWN0XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA+PSA1ICYmIG9yaWVudGF0aW9uIDw9IDgpIHtcbiAgICAgICAgICB2YXIgX3JlZjIgPSBbaW1hZ2VIZWlnaHQsIGltYWdlV2lkdGhdO1xuICAgICAgICAgIGltYWdlV2lkdGggPSBfcmVmMlswXTtcbiAgICAgICAgICBpbWFnZUhlaWdodCA9IF9yZWYyWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2NhbGUgdXAgd2lkdGggYW5kIGhlaWdodCB3aGVuIHdlJ3JlIGRlYWxpbmcgd2l0aCBhbiBTVkdcbiAgICAgICAgaWYgKCFpc0JpdG1hcChpdGVtLmZpbGUpIHx8IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX1VQU0NBTEUnKSkge1xuICAgICAgICAgIHZhciBzY2FsYXIgPSAyMDQ4IC8gaW1hZ2VXaWR0aDtcbiAgICAgICAgICBpbWFnZVdpZHRoICo9IHNjYWxhcjtcbiAgICAgICAgICBpbWFnZUhlaWdodCAqPSBzY2FsYXI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbWFnZSBhc3BlY3QgcmF0aW9cbiAgICAgICAgdmFyIGltYWdlQXNwZWN0UmF0aW8gPSBpbWFnZUhlaWdodCAvIGltYWdlV2lkdGg7XG5cbiAgICAgICAgLy8gd2UgbmVlZCB0aGUgaXRlbSB0byBnZXQgdG8gdGhlIGNyb3Agc2l6ZVxuICAgICAgICB2YXIgcHJldmlld0FzcGVjdFJhdGlvID1cbiAgICAgICAgICAoaXRlbS5nZXRNZXRhZGF0YSgnY3JvcCcpIHx8IHt9KS5hc3BlY3RSYXRpbyB8fCBpbWFnZUFzcGVjdFJhdGlvO1xuXG4gICAgICAgIC8vIHByZXZpZXcgaGVpZ2h0IHJhbmdlXG4gICAgICAgIHZhciBwcmV2aWV3SGVpZ2h0TWF4ID0gTWF0aC5tYXgoXG4gICAgICAgICAgbWluUHJldmlld0hlaWdodCxcbiAgICAgICAgICBNYXRoLm1pbihpbWFnZUhlaWdodCwgbWF4UHJldmlld0hlaWdodClcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIGl0ZW1XaWR0aCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoO1xuICAgICAgICB2YXIgcHJldmlld0hlaWdodCA9IE1hdGgubWluKFxuICAgICAgICAgIGl0ZW1XaWR0aCAqIHByZXZpZXdBc3BlY3RSYXRpbyxcbiAgICAgICAgICBwcmV2aWV3SGVpZ2h0TWF4XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gcmVxdWVzdCB1cGRhdGUgdG8gcGFuZWwgaGVpZ2h0XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9VUERBVEVfUEFORUxfSEVJR0hUJywge1xuICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgIGhlaWdodDogcHJldmlld0hlaWdodFxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkaWRSZXNpemVWaWV3ID0gZnVuY3Rpb24gZGlkUmVzaXplVmlldyhfcmVmMykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3Q7XG4gICAgICAgIC8vIGFjdGlvbnMgaW4gbmV4dCB3cml0ZSBvcGVyYXRpb25cbiAgICAgICAgcm9vdC5yZWYuc2hvdWxkUmVzY2FsZSA9IHRydWU7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZGlkVXBkYXRlSXRlbU1ldGFkYXRhID0gZnVuY3Rpb24gZGlkVXBkYXRlSXRlbU1ldGFkYXRhKF9yZWY0KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjQucm9vdCxcbiAgICAgICAgICBhY3Rpb24gPSBfcmVmNC5hY3Rpb247XG5cbiAgICAgICAgaWYgKGFjdGlvbi5jaGFuZ2Uua2V5ICE9PSAnY3JvcCcpIHJldHVybjtcblxuICAgICAgICAvLyBhY3Rpb25zIGluIG5leHQgd3JpdGUgb3BlcmF0aW9uXG4gICAgICAgIHJvb3QucmVmLnNob3VsZFJlc2NhbGUgPSB0cnVlO1xuICAgICAgfTtcblxuICAgICAgdmFyIGRpZENhbGN1bGF0ZVByZXZpZXdTaXplID0gZnVuY3Rpb24gZGlkQ2FsY3VsYXRlUHJldmlld1NpemUoX3JlZjUpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICAgIGFjdGlvbiA9IF9yZWY1LmFjdGlvbjtcblxuICAgICAgICAvLyByZW1lbWJlciBkaW1lbnNpb25zXG4gICAgICAgIHJvb3QucmVmLmltYWdlV2lkdGggPSBhY3Rpb24ud2lkdGg7XG4gICAgICAgIHJvb3QucmVmLmltYWdlSGVpZ2h0ID0gYWN0aW9uLmhlaWdodDtcblxuICAgICAgICAvLyBhY3Rpb25zIGluIG5leHQgd3JpdGUgb3BlcmF0aW9uXG4gICAgICAgIHJvb3QucmVmLnNob3VsZFJlc2NhbGUgPSB0cnVlO1xuICAgICAgICByb290LnJlZi5zaG91bGREcmF3UHJldmlldyA9IHRydWU7XG5cbiAgICAgICAgLy8gYXMgaW1hZ2UgbG9hZCBjb3VsZCB0YWtlIGEgd2hpbGUgYW5kIGZpcmUgd2hlbiBkcmF3IGxvb3AgaXMgcmVzdGluZyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSBraWNrXG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0tJQ0snKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIHN0YXJ0IHdyaXRpbmdcbiAgICAgIHZpZXcucmVnaXN0ZXJXcml0ZXIoXG4gICAgICAgIGNyZWF0ZVJvdXRlKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIERJRF9SRVNJWkVfUk9PVDogZGlkUmVzaXplVmlldyxcbiAgICAgICAgICAgIERJRF9TVE9QX1JFU0laRTogZGlkUmVzaXplVmlldyxcbiAgICAgICAgICAgIERJRF9MT0FEX0lURU06IGRpZExvYWRJdGVtLFxuICAgICAgICAgICAgRElEX0lNQUdFX1BSRVZJRVdfQ0FMQ1VMQVRFX1NJWkU6IGRpZENhbGN1bGF0ZVByZXZpZXdTaXplLFxuICAgICAgICAgICAgRElEX1VQREFURV9JVEVNX01FVEFEQVRBOiBkaWRVcGRhdGVJdGVtTWV0YWRhdGFcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uKF9yZWY2KSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWY2LnJvb3QsXG4gICAgICAgICAgICAgIHByb3BzID0gX3JlZjYucHJvcHM7XG5cbiAgICAgICAgICAgIC8vIG5vIHByZXZpZXcgdmlldyBhdHRhY2hlZFxuICAgICAgICAgICAgaWYgKCFyb290LnJlZi5pbWFnZVByZXZpZXcpIHJldHVybjtcblxuICAgICAgICAgICAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgd2hpbGUgaGlkZGVuXG4gICAgICAgICAgICBpZiAocm9vdC5yZWN0LmVsZW1lbnQuaGlkZGVuKSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIHJlc2l6ZSB0aGUgaXRlbSBwYW5lbFxuICAgICAgICAgICAgaWYgKHJvb3QucmVmLnNob3VsZFJlc2NhbGUpIHtcbiAgICAgICAgICAgICAgcmVzY2FsZUl0ZW0ocm9vdCwgcHJvcHMpO1xuICAgICAgICAgICAgICByb290LnJlZi5zaG91bGRSZXNjYWxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyb290LnJlZi5zaG91bGREcmF3UHJldmlldykge1xuICAgICAgICAgICAgICAvLyBxdWV1ZSB0aWxsIG5leHQgZnJhbWUgc28gd2UncmUgc3VyZSB0aGUgaGVpZ2h0IGhhcyBiZWVuIGFwcGxpZWQgdGhpcyBmb3JjZXMgdGhlIGRyYXcgaW1hZ2UgY2FsbCBpbnNpZGUgdGhlIHdyYXBwZXIgdmlldyB0byB1c2UgdGhlIGNvcnJlY3QgaGVpZ2h0XG4gICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfRklOSVNIX0NBTENVTEFURV9QUkVWSUVXU0laRScsIHtcbiAgICAgICAgICAgICAgICAgIGlkOiBwcm9wcy5pZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcm9vdC5yZWYuc2hvdWxkRHJhd1ByZXZpZXcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICAvLyBleHBvc2UgcGx1Z2luXG4gICAgcmV0dXJuIHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgLy8gRW5hYmxlIG9yIGRpc2FibGUgaW1hZ2UgcHJldmlld1xuICAgICAgICBhbGxvd0ltYWdlUHJldmlldzogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgICAgLy8gZmlsdGVycyBmaWxlIGl0ZW1zIHRvIGRldGVybWluZSB3aGljaCBhcmUgc2hvd24gYXMgcHJldmlld1xuICAgICAgICBpbWFnZVByZXZpZXdGaWx0ZXJJdGVtOiBbXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIFR5cGUuRlVOQ1RJT05cbiAgICAgICAgXSxcblxuICAgICAgICAvLyBGaXhlZCBwcmV2aWV3IGhlaWdodFxuICAgICAgICBpbWFnZVByZXZpZXdIZWlnaHQ6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gTWluIGltYWdlIGhlaWdodFxuICAgICAgICBpbWFnZVByZXZpZXdNaW5IZWlnaHQ6IFs0NCwgVHlwZS5JTlRdLFxuXG4gICAgICAgIC8vIE1heCBpbWFnZSBoZWlnaHRcbiAgICAgICAgaW1hZ2VQcmV2aWV3TWF4SGVpZ2h0OiBbMjU2LCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gTWF4IHNpemUgb2YgcHJldmlldyBmaWxlIGZvciB3aGVuIGNyZWF0ZUltYWdlQml0bWFwIGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgaW1hZ2VQcmV2aWV3TWF4RmlsZVNpemU6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gVGhlIGFtb3VudCBvZiBleHRyYSBwaXhlbHMgYWRkZWQgdG8gdGhlIGltYWdlIHByZXZpZXcgdG8gYWxsb3cgY29tZm9ydGFibGUgem9vbWluZ1xuICAgICAgICBpbWFnZVByZXZpZXdab29tRmFjdG9yOiBbMiwgVHlwZS5JTlRdLFxuXG4gICAgICAgIC8vIFNob3VsZCB3ZSB1cHNjYWxlIHNtYWxsIGltYWdlcyB0byBmaXQgdGhlIG1heCBib3VuZGluZyBib3ggb2YgdGhlIHByZXZpZXcgYXJlYVxuICAgICAgICBpbWFnZVByZXZpZXdVcHNjYWxlOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgICAgLy8gTWF4IHNpemUgb2YgcHJldmlldyBmaWxlIHRoYXQgd2UgYWxsb3cgdG8gdHJ5IHRvIGluc3RhbnQgcHJldmlldyBpZiBjcmVhdGVJbWFnZUJpdG1hcCBpcyBub3Qgc3VwcG9ydGVkLCBlbHNlIGltYWdlIGlzIHF1ZXVlZCBmb3IgbG9hZGluZ1xuICAgICAgICBpbWFnZVByZXZpZXdNYXhJbnN0YW50UHJldmlld0ZpbGVTaXplOiBbMTAwMDAwMCwgVHlwZS5JTlRdLFxuXG4gICAgICAgIC8vIFN0eWxlIG9mIHRoZSB0cmFuc3BhcmFuY3kgaW5kaWNhdG9yIHVzZWQgYmVoaW5kIGltYWdlc1xuICAgICAgICBpbWFnZVByZXZpZXdUcmFuc3BhcmVuY3lJbmRpY2F0b3I6IFtudWxsLCBUeXBlLlNUUklOR10sXG5cbiAgICAgICAgLy8gRW5hYmxlcyBvciBkaXNhYmxlcyByZWFkaW5nIGF2ZXJhZ2UgaW1hZ2UgY29sb3JcbiAgICAgICAgaW1hZ2VQcmV2aWV3Q2FsY3VsYXRlQXZlcmFnZUltYWdlQ29sb3I6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBFbmFibGVzIG9yIGRpc2FibGVzIHRoZSBwcmV2aWV3aW5nIG9mIG1hcmt1cFxuICAgICAgICBpbWFnZVByZXZpZXdNYXJrdXBTaG93OiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBBbGxvd3MgZmlsdGVyaW5nIG9mIG1hcmt1cCB0byBvbmx5IHNob3cgY2VydGFpbiBzaGFwZXNcbiAgICAgICAgaW1hZ2VQcmV2aWV3TWFya3VwRmlsdGVyOiBbXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIFR5cGUuRlVOQ1RJT05cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gZmlyZSBwbHVnaW5sb2FkZWQgZXZlbnQgaWYgcnVubmluZyBpbiBicm93c2VyLCB0aGlzIGFsbG93cyByZWdpc3RlcmluZyB0aGUgcGx1Z2luIHdoZW4gdXNpbmcgYXN5bmMgc2NyaXB0IHRhZ3NcbiAgdmFyIGlzQnJvd3NlciA9XG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDpwbHVnaW5sb2FkZWQnLCB7IGRldGFpbDogcGx1Z2luIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBwbHVnaW47XG59KTtcbiIsIi8qIVxuICogRmlsZVBvbmRQbHVnaW5GaWxlVmFsaWRhdGVUeXBlIDEuMi41XG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmQvIGZvciBkZXRhaWxzLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbihmdW5jdGlvbihnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnXG4gICAgPyAobW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkpXG4gICAgOiB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWRcbiAgICA/IGRlZmluZShmYWN0b3J5KVxuICAgIDogKChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiksXG4gICAgICAoZ2xvYmFsLkZpbGVQb25kUGx1Z2luRmlsZVZhbGlkYXRlVHlwZSA9IGZhY3RvcnkoKSkpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgcGx1Z2luID0gZnVuY3Rpb24gcGx1Z2luKF9yZWYpIHtcbiAgICB2YXIgYWRkRmlsdGVyID0gX3JlZi5hZGRGaWx0ZXIsXG4gICAgICB1dGlscyA9IF9yZWYudXRpbHM7XG4gICAgLy8gZ2V0IHF1aWNrIHJlZmVyZW5jZSB0byBUeXBlIHV0aWxzXG4gICAgdmFyIFR5cGUgPSB1dGlscy5UeXBlLFxuICAgICAgaXNTdHJpbmcgPSB1dGlscy5pc1N0cmluZyxcbiAgICAgIHJlcGxhY2VJblN0cmluZyA9IHV0aWxzLnJlcGxhY2VJblN0cmluZyxcbiAgICAgIGd1ZXNzdGltYXRlTWltZVR5cGUgPSB1dGlscy5ndWVzc3RpbWF0ZU1pbWVUeXBlLFxuICAgICAgZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lID0gdXRpbHMuZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lLFxuICAgICAgZ2V0RmlsZW5hbWVGcm9tVVJMID0gdXRpbHMuZ2V0RmlsZW5hbWVGcm9tVVJMO1xuXG4gICAgdmFyIG1pbWVUeXBlTWF0Y2hlc1dpbGRDYXJkID0gZnVuY3Rpb24gbWltZVR5cGVNYXRjaGVzV2lsZENhcmQoXG4gICAgICBtaW1lVHlwZSxcbiAgICAgIHdpbGRjYXJkXG4gICAgKSB7XG4gICAgICB2YXIgbWltZVR5cGVHcm91cCA9ICgvXlteL10rLy5leGVjKG1pbWVUeXBlKSB8fCBbXSkucG9wKCk7IC8vIGltYWdlL3BuZyAtPiBpbWFnZVxuICAgICAgdmFyIHdpbGRjYXJkR3JvdXAgPSB3aWxkY2FyZC5zbGljZSgwLCAtMik7IC8vIGltYWdlLyogLT4gaW1hZ2VcbiAgICAgIHJldHVybiBtaW1lVHlwZUdyb3VwID09PSB3aWxkY2FyZEdyb3VwO1xuICAgIH07XG5cbiAgICB2YXIgaXNWYWxpZE1pbWVUeXBlID0gZnVuY3Rpb24gaXNWYWxpZE1pbWVUeXBlKFxuICAgICAgYWNjZXB0ZWRUeXBlcyxcbiAgICAgIHVzZXJJbnB1dFR5cGVcbiAgICApIHtcbiAgICAgIHJldHVybiBhY2NlcHRlZFR5cGVzLnNvbWUoZnVuY3Rpb24oYWNjZXB0ZWRUeXBlKSB7XG4gICAgICAgIC8vIGFjY2VwdGVkIGlzIHdpbGRjYXJkIG1pbWUgdHlwZVxuICAgICAgICBpZiAoL1xcKiQvLnRlc3QoYWNjZXB0ZWRUeXBlKSkge1xuICAgICAgICAgIHJldHVybiBtaW1lVHlwZU1hdGNoZXNXaWxkQ2FyZCh1c2VySW5wdXRUeXBlLCBhY2NlcHRlZFR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXMgbm9ybWFsIG1pbWUgdHlwZVxuICAgICAgICByZXR1cm4gYWNjZXB0ZWRUeXBlID09PSB1c2VySW5wdXRUeXBlO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRJdGVtVHlwZSA9IGZ1bmN0aW9uIGdldEl0ZW1UeXBlKGl0ZW0pIHtcbiAgICAgIC8vIGlmIHRoZSBpdGVtIGlzIGEgdXJsIHdlIGd1ZXNzIHRoZSBtaW1lIHR5cGUgYnkgdGhlIGV4dGVuc2lvblxuICAgICAgdmFyIHR5cGUgPSAnJztcbiAgICAgIGlmIChpc1N0cmluZyhpdGVtKSkge1xuICAgICAgICB2YXIgZmlsZW5hbWUgPSBnZXRGaWxlbmFtZUZyb21VUkwoaXRlbSk7XG4gICAgICAgIHZhciBleHRlbnNpb24gPSBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUoZmlsZW5hbWUpO1xuICAgICAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgdHlwZSA9IGd1ZXNzdGltYXRlTWltZVR5cGUoZXh0ZW5zaW9uKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHlwZSA9IGl0ZW0udHlwZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfTtcblxuICAgIHZhciB2YWxpZGF0ZUZpbGUgPSBmdW5jdGlvbiB2YWxpZGF0ZUZpbGUoXG4gICAgICBpdGVtLFxuICAgICAgYWNjZXB0ZWRGaWxlVHlwZXMsXG4gICAgICB0eXBlRGV0ZWN0b3JcbiAgICApIHtcbiAgICAgIC8vIG5vIHR5cGVzIGRlZmluZWQsIGV2ZXJ5dGhpbmcgaXMgYWxsb3dlZCBcXG8vXG4gICAgICBpZiAoYWNjZXB0ZWRGaWxlVHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBnZXRzIHRoZSBpdGVtIHR5cGVcbiAgICAgIHZhciB0eXBlID0gZ2V0SXRlbVR5cGUoaXRlbSk7XG5cbiAgICAgIC8vIG5vIHR5cGUgZGV0ZWN0b3IsIHRlc3Qgbm93XG4gICAgICBpZiAoIXR5cGVEZXRlY3Rvcikge1xuICAgICAgICByZXR1cm4gaXNWYWxpZE1pbWVUeXBlKGFjY2VwdGVkRmlsZVR5cGVzLCB0eXBlKTtcbiAgICAgIH1cblxuICAgICAgLy8gdXNlIHR5cGUgZGV0ZWN0b3JcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdHlwZURldGVjdG9yKGl0ZW0sIHR5cGUpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGV0ZWN0ZWRUeXBlKSB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZE1pbWVUeXBlKGFjY2VwdGVkRmlsZVR5cGVzLCBkZXRlY3RlZFR5cGUpKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGFwcGx5TWltZVR5cGVNYXAgPSBmdW5jdGlvbiBhcHBseU1pbWVUeXBlTWFwKG1hcCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGFjY2VwdGVkRmlsZVR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG1hcFthY2NlcHRlZEZpbGVUeXBlXSA9PT0gbnVsbFxuICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICA6IG1hcFthY2NlcHRlZEZpbGVUeXBlXSB8fCBhY2NlcHRlZEZpbGVUeXBlO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gc2V0dXAgYXR0cmlidXRlIG1hcHBpbmcgZm9yIGFjY2VwdFxuICAgIGFkZEZpbHRlcignU0VUX0FUVFJJQlVURV9UT19PUFRJT05fTUFQJywgZnVuY3Rpb24obWFwKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihtYXAsIHtcbiAgICAgICAgYWNjZXB0OiAnYWNjZXB0ZWRGaWxlVHlwZXMnXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIGZpbHRlcmluZyBpZiBhbiBpdGVtIGlzIGFsbG93ZWQgaW4gaG9wcGVyXG4gICAgYWRkRmlsdGVyKCdBTExPV19IT1BQRVJfSVRFTScsIGZ1bmN0aW9uKGZpbGUsIF9yZWYyKSB7XG4gICAgICB2YXIgcXVlcnkgPSBfcmVmMi5xdWVyeTtcbiAgICAgIC8vIGlmIHdlIGFyZSBub3QgZG9pbmcgZmlsZSB0eXBlIHZhbGlkYXRpb24gZXhpdFxuICAgICAgaWYgKCFxdWVyeSgnR0VUX0FMTE9XX0ZJTEVfVFlQRV9WQUxJREFUSU9OJykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIHZhbGlkYXRlIHRoZSBmaWxlIGFnYWluc3QgdGhlIGFjY2VwdGVkIGZpbGUgdHlwZXNcbiAgICAgIHJldHVybiB2YWxpZGF0ZUZpbGUoZmlsZSwgcXVlcnkoJ0dFVF9BQ0NFUFRFRF9GSUxFX1RZUEVTJykpO1xuICAgIH0pO1xuXG4gICAgLy8gY2FsbGVkIGZvciBlYWNoIGZpbGUgdGhhdCBpcyBsb2FkZWRcbiAgICAvLyByaWdodCBiZWZvcmUgaXQgaXMgc2V0IHRvIHRoZSBpdGVtIHN0YXRlXG4gICAgLy8gc2hvdWxkIHJldHVybiBhIHByb21pc2VcbiAgICBhZGRGaWx0ZXIoJ0xPQURfRklMRScsIGZ1bmN0aW9uKGZpbGUsIF9yZWYzKSB7XG4gICAgICB2YXIgcXVlcnkgPSBfcmVmMy5xdWVyeTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgaWYgKCFxdWVyeSgnR0VUX0FMTE9XX0ZJTEVfVFlQRV9WQUxJREFUSU9OJykpIHtcbiAgICAgICAgICByZXNvbHZlKGZpbGUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhY2NlcHRlZEZpbGVUeXBlcyA9IHF1ZXJ5KCdHRVRfQUNDRVBURURfRklMRV9UWVBFUycpO1xuXG4gICAgICAgIC8vIGN1c3RvbSB0eXBlIGRldGVjdG9yIG1ldGhvZFxuICAgICAgICB2YXIgdHlwZURldGVjdG9yID0gcXVlcnkoJ0dFVF9GSUxFX1ZBTElEQVRFX1RZUEVfREVURUNUX1RZUEUnKTtcblxuICAgICAgICAvLyBpZiBpbnZhbGlkLCBleGl0IGhlcmVcbiAgICAgICAgdmFyIHZhbGlkYXRpb25SZXN1bHQgPSB2YWxpZGF0ZUZpbGUoXG4gICAgICAgICAgZmlsZSxcbiAgICAgICAgICBhY2NlcHRlZEZpbGVUeXBlcyxcbiAgICAgICAgICB0eXBlRGV0ZWN0b3JcbiAgICAgICAgKTtcblxuICAgICAgICB2YXIgaGFuZGxlUmVqZWN0aW9uID0gZnVuY3Rpb24gaGFuZGxlUmVqZWN0aW9uKCkge1xuICAgICAgICAgIHZhciBhY2NlcHRlZEZpbGVUeXBlc01hcHBlZCA9IGFjY2VwdGVkRmlsZVR5cGVzXG4gICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICBhcHBseU1pbWVUeXBlTWFwKFxuICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRklMRV9WQUxJREFURV9UWVBFX0xBQkVMX0VYUEVDVEVEX1RZUEVTX01BUCcpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24obGFiZWwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGxhYmVsICE9PSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICBtYWluOiBxdWVyeSgnR0VUX0xBQkVMX0ZJTEVfVFlQRV9OT1RfQUxMT1dFRCcpLFxuICAgICAgICAgICAgICBzdWI6IHJlcGxhY2VJblN0cmluZyhcbiAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZJTEVfVkFMSURBVEVfVFlQRV9MQUJFTF9FWFBFQ1RFRF9UWVBFUycpLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGFsbFR5cGVzOiBhY2NlcHRlZEZpbGVUeXBlc01hcHBlZC5qb2luKCcsICcpLFxuICAgICAgICAgICAgICAgICAgYWxsQnV0TGFzdFR5cGU6IGFjY2VwdGVkRmlsZVR5cGVzTWFwcGVkXG4gICAgICAgICAgICAgICAgICAgIC5zbGljZSgwLCAtMSlcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJywgJyksXG4gICAgICAgICAgICAgICAgICBsYXN0VHlwZTpcbiAgICAgICAgICAgICAgICAgICAgYWNjZXB0ZWRGaWxlVHlwZXNNYXBwZWRbYWNjZXB0ZWRGaWxlVHlwZXNNYXBwZWQubGVuZ3RoIC0gMV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBoYXMgcmV0dXJuZWQgbmV3IGZpbGVuYW1lIGltbWlkaWF0ZWx5XG4gICAgICAgIGlmICh0eXBlb2YgdmFsaWRhdGlvblJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlUmVqZWN0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNvbHZlKGZpbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXMgcHJvbWlzZVxuICAgICAgICB2YWxpZGF0aW9uUmVzdWx0XG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXNvbHZlKGZpbGUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGhhbmRsZVJlamVjdGlvbik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIGV4cG9zZSBwbHVnaW5cbiAgICByZXR1cm4ge1xuICAgICAgLy8gZGVmYXVsdCBvcHRpb25zXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIC8vIEVuYWJsZSBvciBkaXNhYmxlIGZpbGUgdHlwZSB2YWxpZGF0aW9uXG4gICAgICAgIGFsbG93RmlsZVR5cGVWYWxpZGF0aW9uOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBXaGF0IGZpbGUgdHlwZXMgdG8gYWNjZXB0XG4gICAgICAgIGFjY2VwdGVkRmlsZVR5cGVzOiBbW10sIFR5cGUuQVJSQVldLFxuICAgICAgICAvLyAtIG11c3QgYmUgY29tbWEgc2VwYXJhdGVkXG4gICAgICAgIC8vIC0gbWltZSB0eXBlczogaW1hZ2UvcG5nLCBpbWFnZS9qcGVnLCBpbWFnZS9naWZcbiAgICAgICAgLy8gLSBleHRlbnNpb25zOiAucG5nLCAuanBnLCAuanBlZyAoIG5vdCBlbmFibGVkIHlldCApXG4gICAgICAgIC8vIC0gd2lsZGNhcmRzOiBpbWFnZS8qXG5cbiAgICAgICAgLy8gbGFiZWwgdG8gc2hvdyB3aGVuIGEgdHlwZSBpcyBub3QgYWxsb3dlZFxuICAgICAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogWydGaWxlIGlzIG9mIGludmFsaWQgdHlwZScsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICAvLyBuaWNlciBsYWJlbFxuICAgICAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiBbXG4gICAgICAgICAgJ0V4cGVjdHMge2FsbEJ1dExhc3RUeXBlfSBvciB7bGFzdFR5cGV9JyxcbiAgICAgICAgICBUeXBlLlNUUklOR1xuICAgICAgICBdLFxuXG4gICAgICAgIC8vIG1hcCBtaW1lIHR5cGVzIHRvIGV4dGVuc2lvbnNcbiAgICAgICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlc01hcDogW3t9LCBUeXBlLk9CSkVDVF0sXG5cbiAgICAgICAgLy8gQ3VzdG9tIGZ1bmN0aW9uIHRvIGRldGVjdCB0eXBlIG9mIGZpbGVcbiAgICAgICAgZmlsZVZhbGlkYXRlVHlwZURldGVjdFR5cGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXVxuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gZmlyZSBwbHVnaW5sb2FkZWQgZXZlbnQgaWYgcnVubmluZyBpbiBicm93c2VyLCB0aGlzIGFsbG93cyByZWdpc3RlcmluZyB0aGUgcGx1Z2luIHdoZW4gdXNpbmcgYXN5bmMgc2NyaXB0IHRhZ3NcbiAgdmFyIGlzQnJvd3NlciA9XG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDpwbHVnaW5sb2FkZWQnLCB7IGRldGFpbDogcGx1Z2luIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBwbHVnaW47XG59KTtcbiIsIi8qIVxuICogRmlsZVBvbmRQbHVnaW5GaWxlVmFsaWRhdGVTaXplIDIuMi4xXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmQvIGZvciBkZXRhaWxzLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbihmdW5jdGlvbihnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnXG4gICAgPyAobW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkpXG4gICAgOiB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWRcbiAgICA/IGRlZmluZShmYWN0b3J5KVxuICAgIDogKChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiksXG4gICAgICAoZ2xvYmFsLkZpbGVQb25kUGx1Z2luRmlsZVZhbGlkYXRlU2l6ZSA9IGZhY3RvcnkoKSkpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgcGx1Z2luID0gZnVuY3Rpb24gcGx1Z2luKF9yZWYpIHtcbiAgICB2YXIgYWRkRmlsdGVyID0gX3JlZi5hZGRGaWx0ZXIsXG4gICAgICB1dGlscyA9IF9yZWYudXRpbHM7XG4gICAgLy8gZ2V0IHF1aWNrIHJlZmVyZW5jZSB0byBUeXBlIHV0aWxzXG4gICAgdmFyIFR5cGUgPSB1dGlscy5UeXBlLFxuICAgICAgcmVwbGFjZUluU3RyaW5nID0gdXRpbHMucmVwbGFjZUluU3RyaW5nLFxuICAgICAgdG9OYXR1cmFsRmlsZVNpemUgPSB1dGlscy50b05hdHVyYWxGaWxlU2l6ZTtcblxuICAgIC8vIGZpbHRlcmluZyBpZiBhbiBpdGVtIGlzIGFsbG93ZWQgaW4gaG9wcGVyXG4gICAgYWRkRmlsdGVyKCdBTExPV19IT1BQRVJfSVRFTScsIGZ1bmN0aW9uKGZpbGUsIF9yZWYyKSB7XG4gICAgICB2YXIgcXVlcnkgPSBfcmVmMi5xdWVyeTtcbiAgICAgIGlmICghcXVlcnkoJ0dFVF9BTExPV19GSUxFX1NJWkVfVkFMSURBVElPTicpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2l6ZU1heCA9IHF1ZXJ5KCdHRVRfTUFYX0ZJTEVfU0laRScpO1xuICAgICAgaWYgKHNpemVNYXggIT09IG51bGwgJiYgZmlsZS5zaXplID49IHNpemVNYXgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2l6ZU1pbiA9IHF1ZXJ5KCdHRVRfTUlOX0ZJTEVfU0laRScpO1xuICAgICAgaWYgKHNpemVNaW4gIT09IG51bGwgJiYgZmlsZS5zaXplIDw9IHNpemVNaW4pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIC8vIGNhbGxlZCBmb3IgZWFjaCBmaWxlIHRoYXQgaXMgbG9hZGVkXG4gICAgLy8gcmlnaHQgYmVmb3JlIGl0IGlzIHNldCB0byB0aGUgaXRlbSBzdGF0ZVxuICAgIC8vIHNob3VsZCByZXR1cm4gYSBwcm9taXNlXG4gICAgYWRkRmlsdGVyKCdMT0FEX0ZJTEUnLCBmdW5jdGlvbihmaWxlLCBfcmVmMykge1xuICAgICAgdmFyIHF1ZXJ5ID0gX3JlZjMucXVlcnk7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vIGlmIG5vdCBhbGxvd2VkLCBhbGwgZmluZSwgZXhpdFxuICAgICAgICBpZiAoIXF1ZXJ5KCdHRVRfQUxMT1dfRklMRV9TSVpFX1ZBTElEQVRJT04nKSkge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKGZpbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgZmlsZSBzaG91bGQgYmUgZmlsdGVyZWRcbiAgICAgICAgdmFyIGZpbGVGaWx0ZXIgPSBxdWVyeSgnR0VUX0ZJTEVfVkFMSURBVEVfU0laRV9GSUxURVInKTtcbiAgICAgICAgaWYgKGZpbGVGaWx0ZXIgJiYgIWZpbGVGaWx0ZXIoZmlsZSkpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmaWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlamVjdCBvciByZXNvbHZlIGJhc2VkIG9uIGZpbGUgc2l6ZVxuICAgICAgICB2YXIgc2l6ZU1heCA9IHF1ZXJ5KCdHRVRfTUFYX0ZJTEVfU0laRScpO1xuICAgICAgICBpZiAoc2l6ZU1heCAhPT0gbnVsbCAmJiBmaWxlLnNpemUgPj0gc2l6ZU1heCkge1xuICAgICAgICAgIHJlamVjdCh7XG4gICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgbWFpbjogcXVlcnkoJ0dFVF9MQUJFTF9NQVhfRklMRV9TSVpFX0VYQ0VFREVEJyksXG4gICAgICAgICAgICAgIHN1YjogcmVwbGFjZUluU3RyaW5nKHF1ZXJ5KCdHRVRfTEFCRUxfTUFYX0ZJTEVfU0laRScpLCB7XG4gICAgICAgICAgICAgICAgZmlsZXNpemU6IHRvTmF0dXJhbEZpbGVTaXplKHNpemVNYXgpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZWplY3Qgb3IgcmVzb2x2ZSBiYXNlZCBvbiBmaWxlIHNpemVcbiAgICAgICAgdmFyIHNpemVNaW4gPSBxdWVyeSgnR0VUX01JTl9GSUxFX1NJWkUnKTtcbiAgICAgICAgaWYgKHNpemVNaW4gIT09IG51bGwgJiYgZmlsZS5zaXplIDw9IHNpemVNaW4pIHtcbiAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgIG1haW46IHF1ZXJ5KCdHRVRfTEFCRUxfTUlOX0ZJTEVfU0laRV9FWENFRURFRCcpLFxuICAgICAgICAgICAgICBzdWI6IHJlcGxhY2VJblN0cmluZyhxdWVyeSgnR0VUX0xBQkVMX01JTl9GSUxFX1NJWkUnKSwge1xuICAgICAgICAgICAgICAgIGZpbGVzaXplOiB0b05hdHVyYWxGaWxlU2l6ZShzaXplTWluKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmV0dXJucyB0aGUgY3VycmVudCBvcHRpb24gdmFsdWVcbiAgICAgICAgdmFyIHRvdGFsU2l6ZU1heCA9IHF1ZXJ5KCdHRVRfTUFYX1RPVEFMX0ZJTEVfU0laRScpO1xuICAgICAgICBpZiAodG90YWxTaXplTWF4ICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gZ2V0IHRoZSBjdXJyZW50IHRvdGFsIGZpbGUgc2l6ZVxuICAgICAgICAgIHZhciBjdXJyZW50VG90YWxTaXplID0gcXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKS5yZWR1Y2UoZnVuY3Rpb24oXG4gICAgICAgICAgICB0b3RhbCxcbiAgICAgICAgICAgIGl0ZW1cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB0b3RhbCArIGl0ZW0uZmlsZVNpemU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAwKTtcblxuICAgICAgICAgIC8vIGdldCB0aGUgc2l6ZSBvZiB0aGUgbmV3IGZpbGVcbiAgICAgICAgICBpZiAoY3VycmVudFRvdGFsU2l6ZSA+IHRvdGFsU2l6ZU1heCkge1xuICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgbWFpbjogcXVlcnkoJ0dFVF9MQUJFTF9NQVhfVE9UQUxfRklMRV9TSVpFX0VYQ0VFREVEJyksXG5cbiAgICAgICAgICAgICAgICBzdWI6IHJlcGxhY2VJblN0cmluZyhxdWVyeSgnR0VUX0xBQkVMX01BWF9UT1RBTF9GSUxFX1NJWkUnKSwge1xuICAgICAgICAgICAgICAgICAgZmlsZXNpemU6IHRvTmF0dXJhbEZpbGVTaXplKHRvdGFsU2l6ZU1heClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbGUgaXMgZmluZSwgbGV0J3MgcGFzcyBpdCBiYWNrXG4gICAgICAgIHJlc29sdmUoZmlsZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIC8vIEVuYWJsZSBvciBkaXNhYmxlIGZpbGUgdHlwZSB2YWxpZGF0aW9uXG4gICAgICAgIGFsbG93RmlsZVNpemVWYWxpZGF0aW9uOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBNYXggaW5kaXZpZHVhbCBmaWxlIHNpemUgaW4gYnl0ZXNcbiAgICAgICAgbWF4RmlsZVNpemU6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gTWluIGluZGl2aWR1YWwgZmlsZSBzaXplIGluIGJ5dGVzXG4gICAgICAgIG1pbkZpbGVTaXplOiBbbnVsbCwgVHlwZS5JTlRdLFxuXG4gICAgICAgIC8vIE1heCB0b3RhbCBmaWxlIHNpemUgaW4gYnl0ZXNcbiAgICAgICAgbWF4VG90YWxGaWxlU2l6ZTogW251bGwsIFR5cGUuSU5UXSxcblxuICAgICAgICAvLyBGaWx0ZXIgdGhlIGZpbGVzIHRoYXQgbmVlZCB0byBiZSB2YWxpZGF0ZWQgZm9yIHNpemVcbiAgICAgICAgZmlsZVZhbGlkYXRlU2l6ZUZpbHRlcjogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuXG4gICAgICAgIC8vIGVycm9yIGxhYmVsc1xuICAgICAgICBsYWJlbE1pbkZpbGVTaXplRXhjZWVkZWQ6IFsnRmlsZSBpcyB0b28gc21hbGwnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsTWluRmlsZVNpemU6IFsnTWluaW11bSBmaWxlIHNpemUgaXMge2ZpbGVzaXplfScsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6IFsnRmlsZSBpcyB0b28gbGFyZ2UnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsTWF4RmlsZVNpemU6IFsnTWF4aW11bSBmaWxlIHNpemUgaXMge2ZpbGVzaXplfScsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogW1xuICAgICAgICAgICdNYXhpbXVtIHRvdGFsIHNpemUgZXhjZWVkZWQnLFxuICAgICAgICAgIFR5cGUuU1RSSU5HXG4gICAgICAgIF0sXG5cbiAgICAgICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiBbXG4gICAgICAgICAgJ01heGltdW0gdG90YWwgZmlsZSBzaXplIGlzIHtmaWxlc2l6ZX0nLFxuICAgICAgICAgIFR5cGUuU1RSSU5HXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIGZpcmUgcGx1Z2lubG9hZGVkIGV2ZW50IGlmIHJ1bm5pbmcgaW4gYnJvd3NlciwgdGhpcyBhbGxvd3MgcmVnaXN0ZXJpbmcgdGhlIHBsdWdpbiB3aGVuIHVzaW5nIGFzeW5jIHNjcmlwdCB0YWdzXG4gIHZhciBpc0Jyb3dzZXIgPVxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuICBpZiAoaXNCcm93c2VyKSB7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBDdXN0b21FdmVudCgnRmlsZVBvbmQ6cGx1Z2lubG9hZGVkJywgeyBkZXRhaWw6IHBsdWdpbiB9KVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gcGx1Z2luO1xufSk7XG4iLCIvKiFcbiAqIEZpbGVQb25kUGx1Z2luRmlsZVBvc3RlciAyLjQuMVxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cbiAqIFBsZWFzZSB2aXNpdCBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kLyBmb3IgZGV0YWlscy5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4oZnVuY3Rpb24oZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJ1xuICAgID8gKG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpKVxuICAgIDogdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kXG4gICAgPyBkZWZpbmUoZmFjdG9yeSlcbiAgICA6ICgoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYpLFxuICAgICAgKGdsb2JhbC5GaWxlUG9uZFBsdWdpbkZpbGVQb3N0ZXIgPSBmYWN0b3J5KCkpKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyA9IHtcbiAgICB0eXBlOiAnc3ByaW5nJyxcbiAgICBzdGlmZm5lc3M6IDAuNSxcbiAgICBkYW1waW5nOiAwLjQ1LFxuICAgIG1hc3M6IDEwXG4gIH07XG5cbiAgdmFyIGNyZWF0ZVBvc3RlclZpZXcgPSBmdW5jdGlvbiBjcmVhdGVQb3N0ZXJWaWV3KF8pIHtcbiAgICByZXR1cm4gXy51dGlscy5jcmVhdGVWaWV3KHtcbiAgICAgIG5hbWU6ICdmaWxlLXBvc3RlcicsXG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3Q7XG4gICAgICAgIHJvb3QucmVmLmltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIHJvb3QuZWxlbWVudC5hcHBlbmRDaGlsZChyb290LnJlZi5pbWFnZSk7XG4gICAgICB9LFxuICAgICAgd3JpdGU6IF8udXRpbHMuY3JlYXRlUm91dGUoe1xuICAgICAgICBESURfRklMRV9QT1NURVJfTE9BRDogZnVuY3Rpb24gRElEX0ZJTEVfUE9TVEVSX0xPQUQoX3JlZjIpIHtcbiAgICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWYyLnByb3BzO1xuICAgICAgICAgIHZhciBpZCA9IHByb3BzLmlkO1xuXG4gICAgICAgICAgLy8gZ2V0IGl0ZW1cbiAgICAgICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZDogcHJvcHMuaWQgfSk7XG4gICAgICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG5cbiAgICAgICAgICAvLyBnZXQgcG9zdGVyXG4gICAgICAgICAgdmFyIHBvc3RlciA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ3Bvc3RlcicpO1xuICAgICAgICAgIHJvb3QucmVmLmltYWdlLnNyYyA9IHBvc3RlcjtcblxuICAgICAgICAgIC8vIGxldCBvdGhlcnMga25vdyBvZiBvdXIgZmFidWxvdXMgYWNoaWV2ZW1lbnQgKHNvIHRoZSBpbWFnZSBjYW4gYmUgZmFkZWQgaW4pXG4gICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0ZJTEVfUE9TVEVSX0RSQVcnLCB7IGlkOiBpZCB9KTtcbiAgICAgICAgfVxuICAgICAgfSksXG5cbiAgICAgIG1peGluczoge1xuICAgICAgICBzdHlsZXM6IFsnc2NhbGVYJywgJ3NjYWxlWScsICdvcGFjaXR5J10sXG4gICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICBzY2FsZVg6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICBzY2FsZVk6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiA3NTAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGFwcGx5VGVtcGxhdGUgPSBmdW5jdGlvbiBhcHBseVRlbXBsYXRlKHNvdXJjZSwgdGFyZ2V0KSB7XG4gICAgLy8gY29weSB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgdGFyZ2V0LndpZHRoID0gc291cmNlLndpZHRoO1xuICAgIHRhcmdldC5oZWlnaHQgPSBzb3VyY2UuaGVpZ2h0O1xuXG4gICAgLy8gZHJhdyB0aGUgdGVtcGxhdGVcbiAgICB2YXIgY3R4ID0gdGFyZ2V0LmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmRyYXdJbWFnZShzb3VyY2UsIDAsIDApO1xuICB9O1xuXG4gIHZhciBjcmVhdGVQb3N0ZXJPdmVybGF5VmlldyA9IGZ1bmN0aW9uIGNyZWF0ZVBvc3Rlck92ZXJsYXlWaWV3KGZwQVBJKSB7XG4gICAgcmV0dXJuIGZwQVBJLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ZpbGUtcG9zdGVyLW92ZXJsYXknLFxuICAgICAgdGFnOiAnY2FudmFzJyxcbiAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICAgICAgYXBwbHlUZW1wbGF0ZShwcm9wcy50ZW1wbGF0ZSwgcm9vdC5lbGVtZW50KTtcbiAgICAgIH0sXG4gICAgICBtaXhpbnM6IHtcbiAgICAgICAgc3R5bGVzOiBbJ29wYWNpdHknXSxcbiAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3NwcmluZycsIG1hc3M6IDI1IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnZXRJbWFnZVNpemUgPSBmdW5jdGlvbiBnZXRJbWFnZVNpemUodXJsLCBjYikge1xuICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHdpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgdmFyIGhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICBpbWFnZSA9IG51bGw7XG4gICAgICBjYih3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuICAgIGltYWdlLnNyYyA9IHVybDtcbiAgfTtcblxuICB2YXIgZWFzZUluT3V0U2luZSA9IGZ1bmN0aW9uIGVhc2VJbk91dFNpbmUodCkge1xuICAgIHJldHVybiAtMC41ICogKE1hdGguY29zKE1hdGguUEkgKiB0KSAtIDEpO1xuICB9O1xuXG4gIHZhciBhZGRHcmFkaWVudFN0ZXBzID0gZnVuY3Rpb24gYWRkR3JhZGllbnRTdGVwcyhncmFkaWVudCwgY29sb3IpIHtcbiAgICB2YXIgYWxwaGEgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuICAgIHZhciBlYXNlRm4gPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBhcmd1bWVudHNbM11cbiAgICAgICAgOiBlYXNlSW5PdXRTaW5lO1xuICAgIHZhciBzdGVwcyA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDEwO1xuICAgIHZhciBvZmZzZXQgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAwO1xuICAgIHZhciByYW5nZSA9IDEgLSBvZmZzZXQ7XG4gICAgdmFyIHJnYiA9IGNvbG9yLmpvaW4oJywnKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBzdGVwczsgaSsrKSB7XG4gICAgICB2YXIgcCA9IGkgLyBzdGVwcztcbiAgICAgIHZhciBzdG9wID0gb2Zmc2V0ICsgcmFuZ2UgKiBwO1xuICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKFxuICAgICAgICBzdG9wLFxuICAgICAgICAncmdiYSgnLmNvbmNhdChyZ2IsICcsICcpLmNvbmNhdChlYXNlRm4ocCkgKiBhbHBoYSwgJyknKVxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIE1BWF9XSURUSCA9IDEwO1xuICB2YXIgTUFYX0hFSUdIVCA9IDEwO1xuXG4gIHZhciBjYWxjdWxhdGVBdmVyYWdlQ29sb3IgPSBmdW5jdGlvbiBjYWxjdWxhdGVBdmVyYWdlQ29sb3IoaW1hZ2UpIHtcbiAgICB2YXIgc2NhbGFyID0gTWF0aC5taW4oTUFYX1dJRFRIIC8gaW1hZ2Uud2lkdGgsIE1BWF9IRUlHSFQgLyBpbWFnZS5oZWlnaHQpO1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB2YXIgd2lkdGggPSAoY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGltYWdlLndpZHRoICogc2NhbGFyKSk7XG4gICAgdmFyIGhlaWdodCA9IChjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGltYWdlLmhlaWdodCAqIHNjYWxhcikpO1xuICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHZhciBkYXRhID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGwgPSBkYXRhLmxlbmd0aDtcblxuICAgIHZhciByID0gMDtcbiAgICB2YXIgZyA9IDA7XG4gICAgdmFyIGIgPSAwO1xuICAgIHZhciBpID0gMDtcblxuICAgIGZvciAoOyBpIDwgbDsgaSArPSA0KSB7XG4gICAgICByICs9IGRhdGFbaV0gKiBkYXRhW2ldO1xuICAgICAgZyArPSBkYXRhW2kgKyAxXSAqIGRhdGFbaSArIDFdO1xuICAgICAgYiArPSBkYXRhW2kgKyAyXSAqIGRhdGFbaSArIDJdO1xuICAgIH1cblxuICAgIHIgPSBhdmVyYWdlQ29sb3IociwgbCk7XG4gICAgZyA9IGF2ZXJhZ2VDb2xvcihnLCBsKTtcbiAgICBiID0gYXZlcmFnZUNvbG9yKGIsIGwpO1xuXG4gICAgcmV0dXJuIHsgcjogciwgZzogZywgYjogYiB9O1xuICB9O1xuXG4gIHZhciBhdmVyYWdlQ29sb3IgPSBmdW5jdGlvbiBhdmVyYWdlQ29sb3IoYywgbCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGguc3FydChjIC8gKGwgLyA0KSkpO1xuICB9O1xuXG4gIHZhciBkcmF3VGVtcGxhdGUgPSBmdW5jdGlvbiBkcmF3VGVtcGxhdGUoXG4gICAgY2FudmFzLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBjb2xvcixcbiAgICBhbHBoYVRhcmdldFxuICApIHtcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHZhciBob3Jpem9udGFsQ2VudGVyID0gd2lkdGggKiAwLjU7XG5cbiAgICB2YXIgZ3JhZCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChcbiAgICAgIGhvcml6b250YWxDZW50ZXIsXG4gICAgICBoZWlnaHQgKyAxMTAsXG4gICAgICBoZWlnaHQgLSAxMDAsXG4gICAgICBob3Jpem9udGFsQ2VudGVyLFxuICAgICAgaGVpZ2h0ICsgMTEwLFxuICAgICAgaGVpZ2h0ICsgMTAwXG4gICAgKTtcblxuICAgIGFkZEdyYWRpZW50U3RlcHMoZ3JhZCwgY29sb3IsIGFscGhhVGFyZ2V0LCB1bmRlZmluZWQsIDgsIDAuNCk7XG5cbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2xhdGUoLXdpZHRoICogMC41LCAwKTtcbiAgICBjdHguc2NhbGUoMiwgMSk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IGdyYWQ7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH07XG5cbiAgdmFyIGhhc05hdmlnYXRvciA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnO1xuXG4gIHZhciB3aWR0aCA9IDUwMDtcbiAgdmFyIGhlaWdodCA9IDIwMDtcblxuICB2YXIgb3ZlcmxheVRlbXBsYXRlU2hhZG93ID0gaGFzTmF2aWdhdG9yICYmIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICB2YXIgb3ZlcmxheVRlbXBsYXRlRXJyb3IgPSBoYXNOYXZpZ2F0b3IgJiYgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIHZhciBvdmVybGF5VGVtcGxhdGVTdWNjZXNzID0gaGFzTmF2aWdhdG9yICYmIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gIGlmIChoYXNOYXZpZ2F0b3IpIHtcbiAgICBkcmF3VGVtcGxhdGUob3ZlcmxheVRlbXBsYXRlU2hhZG93LCB3aWR0aCwgaGVpZ2h0LCBbNDAsIDQwLCA0MF0sIDAuODUpO1xuICAgIGRyYXdUZW1wbGF0ZShvdmVybGF5VGVtcGxhdGVFcnJvciwgd2lkdGgsIGhlaWdodCwgWzE5NiwgNzgsIDcxXSwgMSk7XG4gICAgZHJhd1RlbXBsYXRlKG92ZXJsYXlUZW1wbGF0ZVN1Y2Nlc3MsIHdpZHRoLCBoZWlnaHQsIFs1NCwgMTUxLCA5OV0sIDEpO1xuICB9XG5cbiAgdmFyIGxvYWRJbWFnZSA9IGZ1bmN0aW9uIGxvYWRJbWFnZSh1cmwsIGNyb3NzT3JpZ2luVmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBpZiAodHlwZW9mIGNyb3NzT3JpZ2luID09PSAnc3RyaW5nJykge1xuICAgICAgICBpbWcuY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpblZhbHVlO1xuICAgICAgfVxuICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICB9O1xuICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH07XG4gICAgICBpbWcuc3JjID0gdXJsO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVQb3N0ZXJXcmFwcGVyVmlldyA9IGZ1bmN0aW9uIGNyZWF0ZVBvc3RlcldyYXBwZXJWaWV3KF8pIHtcbiAgICAvLyBjcmVhdGUgb3ZlcmxheSB2aWV3XG4gICAgdmFyIG92ZXJsYXkgPSBjcmVhdGVQb3N0ZXJPdmVybGF5VmlldyhfKTtcblxuICAgIC8qKlxuICAgICAqIFdyaXRlIGhhbmRsZXIgZm9yIHdoZW4gcHJldmlldyBjb250YWluZXIgaGFzIGJlZW4gY3JlYXRlZFxuICAgICAqL1xuICAgIHZhciBkaWRDcmVhdGVQcmV2aWV3Q29udGFpbmVyID0gZnVuY3Rpb24gZGlkQ3JlYXRlUHJldmlld0NvbnRhaW5lcihfcmVmKSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgICAgdmFyIGlkID0gcHJvcHMuaWQ7XG5cbiAgICAgIC8vIHdlIG5lZWQgdG8gZ2V0IHRoZSBmaWxlIGRhdGEgdG8gZGV0ZXJtaW5lIHRoZSBldmVudHVhbCBpbWFnZSBzaXplXG4gICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgaWQpO1xuICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG5cbiAgICAgIC8vIGdldCB1cmwgdG8gZmlsZVxuICAgICAgdmFyIGZpbGVVUkwgPSBpdGVtLmdldE1ldGFkYXRhKCdwb3N0ZXInKTtcblxuICAgICAgLy8gaW1hZ2UgaXMgbm93IHJlYWR5XG4gICAgICB2YXIgcHJldmlld0ltYWdlTG9hZGVkID0gZnVuY3Rpb24gcHJldmlld0ltYWdlTG9hZGVkKGRhdGEpIHtcbiAgICAgICAgLy8gY2FsY3VsYXRlIGF2ZXJhZ2UgaW1hZ2UgY29sb3IsIGlzIGluIHRyeSBjYXRjaCB0byBjaXJjdW12ZW50IGFueSBjb3JzIGVycm9yc1xuICAgICAgICB2YXIgYXZlcmFnZUNvbG9yID0gcm9vdC5xdWVyeShcbiAgICAgICAgICAnR0VUX0ZJTEVfUE9TVEVSX0NBTENVTEFURV9BVkVSQUdFX0lNQUdFX0NPTE9SJ1xuICAgICAgICApXG4gICAgICAgICAgPyBjYWxjdWxhdGVBdmVyYWdlQ29sb3IoZGF0YSlcbiAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGl0ZW0uc2V0TWV0YWRhdGEoJ2NvbG9yJywgYXZlcmFnZUNvbG9yLCB0cnVlKTtcblxuICAgICAgICAvLyB0aGUgcHJldmlldyBpcyBub3cgcmVhZHkgdG8gYmUgZHJhd25cbiAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0ZJTEVfUE9TVEVSX0xPQUQnLCB7XG4gICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBkZXRlcm1pbmUgaW1hZ2Ugc2l6ZSBvZiB0aGlzIGl0ZW1cbiAgICAgIGdldEltYWdlU2l6ZShmaWxlVVJMLCBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIC8vIHdlIGNhbiBub3cgc2NhbGUgdGhlIHBhbmVsIHRvIHRoZSBmaW5hbCBzaXplXG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9GSUxFX1BPU1RFUl9DQUxDVUxBVEVfU0laRScsIHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBmYWxsYmFjayBwcmV2aWV3XG4gICAgICAgIGxvYWRJbWFnZShcbiAgICAgICAgICBmaWxlVVJMLFxuICAgICAgICAgIHJvb3QucXVlcnkoJ0dFVF9GSUxFX1BPU1RFUl9DUk9TU19PUklHSU5fQVRUUklCVVRFX1ZBTFVFJylcbiAgICAgICAgKS50aGVuKHByZXZpZXdJbWFnZUxvYWRlZCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV3JpdGUgaGFuZGxlciBmb3Igd2hlbiB0aGUgcHJldmlldyBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKi9cbiAgICB2YXIgZGlkTG9hZFByZXZpZXcgPSBmdW5jdGlvbiBkaWRMb2FkUHJldmlldyhfcmVmMikge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmMi5yb290O1xuICAgICAgcm9vdC5yZWYub3ZlcmxheVNoYWRvdy5vcGFjaXR5ID0gMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV3JpdGUgaGFuZGxlciBmb3Igd2hlbiB0aGUgcHJldmlldyBpbWFnZSBpcyByZWFkeSB0byBiZSBhbmltYXRlZFxuICAgICAqL1xuICAgIHZhciBkaWREcmF3UHJldmlldyA9IGZ1bmN0aW9uIGRpZERyYXdQcmV2aWV3KF9yZWYzKSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3Q7XG4gICAgICB2YXIgaW1hZ2UgPSByb290LnJlZi5pbWFnZTtcblxuICAgICAgLy8gcmV2ZWFsIGltYWdlXG4gICAgICBpbWFnZS5zY2FsZVggPSAxLjA7XG4gICAgICBpbWFnZS5zY2FsZVkgPSAxLjA7XG4gICAgICBpbWFnZS5vcGFjaXR5ID0gMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV3JpdGUgaGFuZGxlciBmb3Igd2hlbiB0aGUgcHJldmlldyBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKi9cbiAgICB2YXIgcmVzdG9yZU92ZXJsYXkgPSBmdW5jdGlvbiByZXN0b3JlT3ZlcmxheShfcmVmNCkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmNC5yb290O1xuICAgICAgcm9vdC5yZWYub3ZlcmxheVNoYWRvdy5vcGFjaXR5ID0gMTtcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlFcnJvci5vcGFjaXR5ID0gMDtcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTdWNjZXNzLm9wYWNpdHkgPSAwO1xuICAgIH07XG5cbiAgICB2YXIgZGlkVGhyb3dFcnJvciA9IGZ1bmN0aW9uIGRpZFRocm93RXJyb3IoX3JlZjUpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjUucm9vdDtcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cub3BhY2l0eSA9IDAuMjU7XG4gICAgICByb290LnJlZi5vdmVybGF5RXJyb3Iub3BhY2l0eSA9IDE7XG4gICAgfTtcblxuICAgIHZhciBkaWRDb21wbGV0ZVByb2Nlc3NpbmcgPSBmdW5jdGlvbiBkaWRDb21wbGV0ZVByb2Nlc3NpbmcoX3JlZjYpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjYucm9vdDtcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cub3BhY2l0eSA9IDAuMjU7XG4gICAgICByb290LnJlZi5vdmVybGF5U3VjY2Vzcy5vcGFjaXR5ID0gMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKF9yZWY3KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY3LnJvb3QsXG4gICAgICAgIHByb3BzID0gX3JlZjcucHJvcHM7XG5cbiAgICAgIC8vIGltYWdlIHZpZXdcbiAgICAgIHZhciBpbWFnZSA9IGNyZWF0ZVBvc3RlclZpZXcoXyk7XG5cbiAgICAgIC8vIGFwcGVuZCBpbWFnZSBwcmVzZW50ZXJcbiAgICAgIHJvb3QucmVmLmltYWdlID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGltYWdlLCB7XG4gICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgIHNjYWxlWDogMS4yNSxcbiAgICAgICAgICBzY2FsZVk6IDEuMjUsXG4gICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgLy8gaW1hZ2Ugb3ZlcmxheXNcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcob3ZlcmxheSwge1xuICAgICAgICAgIHRlbXBsYXRlOiBvdmVybGF5VGVtcGxhdGVTaGFkb3csXG4gICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgcm9vdC5yZWYub3ZlcmxheVN1Y2Nlc3MgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcob3ZlcmxheSwge1xuICAgICAgICAgIHRlbXBsYXRlOiBvdmVybGF5VGVtcGxhdGVTdWNjZXNzLFxuICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHJvb3QucmVmLm92ZXJsYXlFcnJvciA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhvdmVybGF5LCB7XG4gICAgICAgICAgdGVtcGxhdGU6IG92ZXJsYXlUZW1wbGF0ZUVycm9yLFxuICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ZpbGUtcG9zdGVyLXdyYXBwZXInLFxuICAgICAgY3JlYXRlOiBjcmVhdGUsXG4gICAgICB3cml0ZTogXy51dGlscy5jcmVhdGVSb3V0ZSh7XG4gICAgICAgIC8vIGltYWdlIHByZXZpZXcgc3RhdGVkXG4gICAgICAgIERJRF9GSUxFX1BPU1RFUl9MT0FEOiBkaWRMb2FkUHJldmlldyxcbiAgICAgICAgRElEX0ZJTEVfUE9TVEVSX0RSQVc6IGRpZERyYXdQcmV2aWV3LFxuICAgICAgICBESURfRklMRV9QT1NURVJfQ09OVEFJTkVSX0NSRUFURTogZGlkQ3JlYXRlUHJldmlld0NvbnRhaW5lcixcblxuICAgICAgICAvLyBmaWxlIHN0YXRlc1xuICAgICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiBkaWRUaHJvd0Vycm9yLFxuICAgICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiBkaWRUaHJvd0Vycm9yLFxuICAgICAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiBkaWRUaHJvd0Vycm9yLFxuICAgICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiBkaWRDb21wbGV0ZVByb2Nlc3NpbmcsXG4gICAgICAgIERJRF9TVEFSVF9JVEVNX1BST0NFU1NJTkc6IHJlc3RvcmVPdmVybGF5LFxuICAgICAgICBESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogcmVzdG9yZU92ZXJsYXlcbiAgICAgIH0pXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEZpbGUgUG9zdGVyIFBsdWdpblxuICAgKi9cbiAgdmFyIHBsdWdpbiA9IGZ1bmN0aW9uIHBsdWdpbihmcEFQSSkge1xuICAgIHZhciBhZGRGaWx0ZXIgPSBmcEFQSS5hZGRGaWx0ZXIsXG4gICAgICB1dGlscyA9IGZwQVBJLnV0aWxzO1xuICAgIHZhciBUeXBlID0gdXRpbHMuVHlwZSxcbiAgICAgIGNyZWF0ZVJvdXRlID0gdXRpbHMuY3JlYXRlUm91dGU7XG5cbiAgICAvLyBmaWxlUG9zdGVyVmlld1xuICAgIHZhciBmaWxlUG9zdGVyVmlldyA9IGNyZWF0ZVBvc3RlcldyYXBwZXJWaWV3KGZwQVBJKTtcblxuICAgIC8vIGNhbGxlZCBmb3IgZWFjaCB2aWV3IHRoYXQgaXMgY3JlYXRlZCByaWdodCBhZnRlciB0aGUgJ2NyZWF0ZScgbWV0aG9kXG4gICAgYWRkRmlsdGVyKCdDUkVBVEVfVklFVycsIGZ1bmN0aW9uKHZpZXdBUEkpIHtcbiAgICAgIC8vIGdldCByZWZlcmVuY2UgdG8gY3JlYXRlZCB2aWV3XG4gICAgICB2YXIgaXMgPSB2aWV3QVBJLmlzLFxuICAgICAgICB2aWV3ID0gdmlld0FQSS52aWV3LFxuICAgICAgICBxdWVyeSA9IHZpZXdBUEkucXVlcnk7XG5cbiAgICAgIC8vIG9ubHkgaG9vayB1cCB0byBpdGVtIHZpZXcgYW5kIG9ubHkgaWYgaXMgZW5hYmxlZCBmb3IgdGhpcyBjcm9wcGVyXG4gICAgICBpZiAoIWlzKCdmaWxlJykgfHwgIXF1ZXJ5KCdHRVRfQUxMT1dfRklMRV9QT1NURVInKSkgcmV0dXJuO1xuXG4gICAgICAvLyBjcmVhdGUgdGhlIGZpbGUgcG9zdGVyIHBsdWdpbiwgYnV0IG9ubHkgZG8gc28gaWYgdGhlIGl0ZW0gaXMgYW4gaW1hZ2VcbiAgICAgIHZhciBkaWRMb2FkSXRlbSA9IGZ1bmN0aW9uIGRpZExvYWRJdGVtKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgICAgICB1cGRhdGVJdGVtUG9zdGVyKHJvb3QsIHByb3BzKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkaWRVcGRhdGVJdGVtTWV0YWRhdGEgPSBmdW5jdGlvbiBkaWRVcGRhdGVJdGVtTWV0YWRhdGEoX3JlZjIpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZjIucHJvcHMsXG4gICAgICAgICAgYWN0aW9uID0gX3JlZjIuYWN0aW9uO1xuICAgICAgICBpZiAoIS9wb3N0ZXIvLnRlc3QoYWN0aW9uLmNoYW5nZS5rZXkpKSByZXR1cm47XG4gICAgICAgIHVwZGF0ZUl0ZW1Qb3N0ZXIocm9vdCwgcHJvcHMpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHVwZGF0ZUl0ZW1Qb3N0ZXIgPSBmdW5jdGlvbiB1cGRhdGVJdGVtUG9zdGVyKHJvb3QsIHByb3BzKSB7XG4gICAgICAgIHZhciBpZCA9IHByb3BzLmlkO1xuICAgICAgICB2YXIgaXRlbSA9IHF1ZXJ5KCdHRVRfSVRFTScsIGlkKTtcblxuICAgICAgICAvLyBpdGVtIGNvdWxkIHRoZW9yZXRpY2FsbHkgaGF2ZSBiZWVuIHJlbW92ZWQgaW4gdGhlIG1lYW4gdGltZVxuICAgICAgICBpZiAoIWl0ZW0gfHwgIWl0ZW0uZ2V0TWV0YWRhdGEoJ3Bvc3RlcicpIHx8IGl0ZW0uYXJjaGl2ZWQpIHJldHVybjtcblxuICAgICAgICAvLyB0ZXN0IGlmIGlzIGZpbHRlcmVkXG4gICAgICAgIGlmICghcXVlcnkoJ0dFVF9GSUxFX1BPU1RFUl9GSUxURVJfSVRFTScpKGl0ZW0pKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHJvb3QucmVmLmZpbGVQb3N0ZXIpIHtcbiAgICAgICAgICB2aWV3LnJlbW92ZUNoaWxkVmlldyhyb290LnJlZi5maWxlUG9zdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBwcmV2aWV3IHZpZXdcbiAgICAgICAgcm9vdC5yZWYuZmlsZVBvc3RlciA9IHZpZXcuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICAgIHZpZXcuY3JlYXRlQ2hpbGRWaWV3KGZpbGVQb3N0ZXJWaWV3LCB7IGlkOiBpZCB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIG5vdyByZWFkeVxuICAgICAgICByb290LmRpc3BhdGNoKCdESURfRklMRV9QT1NURVJfQ09OVEFJTkVSX0NSRUFURScsIHsgaWQ6IGlkIH0pO1xuICAgICAgfTtcblxuICAgICAgdmFyIGRpZENhbGN1bGF0ZVByZXZpZXdTaXplID0gZnVuY3Rpb24gZGlkQ2FsY3VsYXRlUHJldmlld1NpemUoX3JlZjMpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgICAgIGFjdGlvbiA9IF9yZWYzLmFjdGlvbjtcblxuICAgICAgICAvLyBubyBwb3N0ZXIgc2V0XG4gICAgICAgIGlmICghcm9vdC5yZWYuZmlsZVBvc3RlcikgcmV0dXJuO1xuXG4gICAgICAgIC8vIHJlbWVtYmVyIGRpbWVuc2lvbnNcbiAgICAgICAgcm9vdC5yZWYuaW1hZ2VXaWR0aCA9IGFjdGlvbi53aWR0aDtcbiAgICAgICAgcm9vdC5yZWYuaW1hZ2VIZWlnaHQgPSBhY3Rpb24uaGVpZ2h0O1xuXG4gICAgICAgIHJvb3QucmVmLnNob3VsZFVwZGF0ZVBhbmVsSGVpZ2h0ID0gdHJ1ZTtcblxuICAgICAgICByb290LmRpc3BhdGNoKCdLSUNLJyk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZ2V0UG9zdGVySGVpZ2h0ID0gZnVuY3Rpb24gZ2V0UG9zdGVySGVpZ2h0KF9yZWY0KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjQucm9vdDtcbiAgICAgICAgdmFyIGZpeGVkUG9zdGVySGVpZ2h0ID0gcm9vdC5xdWVyeSgnR0VUX0ZJTEVfUE9TVEVSX0hFSUdIVCcpO1xuXG4gICAgICAgIC8vIGlmIGZpeGVkIGhlaWdodDogcmV0dXJuIGZpeGVkIGltbWVkaWF0ZWx5XG4gICAgICAgIGlmIChmaXhlZFBvc3RlckhlaWdodCkge1xuICAgICAgICAgIHJldHVybiBmaXhlZFBvc3RlckhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtaW5Qb3N0ZXJIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfRklMRV9QT1NURVJfTUlOX0hFSUdIVCcpO1xuICAgICAgICB2YXIgbWF4UG9zdGVySGVpZ2h0ID0gcm9vdC5xdWVyeSgnR0VUX0ZJTEVfUE9TVEVSX01BWF9IRUlHSFQnKTtcblxuICAgICAgICAvLyBpZiBuYXR1cmFsIGhlaWdodCBpcyBzbWFsbGVyIHRoYW4gbWluSGVpZ2h0OiByZXR1cm4gbWluIGhlaWdodFxuICAgICAgICBpZiAobWluUG9zdGVySGVpZ2h0ICYmIHJvb3QucmVmLmltYWdlSGVpZ2h0IDwgbWluUG9zdGVySGVpZ2h0KSB7XG4gICAgICAgICAgcmV0dXJuIG1pblBvc3RlckhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoZWlnaHQgPVxuICAgICAgICAgIHJvb3QucmVjdC5lbGVtZW50LndpZHRoICpcbiAgICAgICAgICAocm9vdC5yZWYuaW1hZ2VIZWlnaHQgLyByb290LnJlZi5pbWFnZVdpZHRoKTtcblxuICAgICAgICBpZiAobWluUG9zdGVySGVpZ2h0ICYmIGhlaWdodCA8IG1pblBvc3RlckhlaWdodCkge1xuICAgICAgICAgIHJldHVybiBtaW5Qb3N0ZXJIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heFBvc3RlckhlaWdodCAmJiBoZWlnaHQgPiBtYXhQb3N0ZXJIZWlnaHQpIHtcbiAgICAgICAgICByZXR1cm4gbWF4UG9zdGVySGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICAgIH07XG5cbiAgICAgIC8vIHN0YXJ0IHdyaXRpbmdcbiAgICAgIHZpZXcucmVnaXN0ZXJXcml0ZXIoXG4gICAgICAgIGNyZWF0ZVJvdXRlKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIERJRF9MT0FEX0lURU06IGRpZExvYWRJdGVtLFxuICAgICAgICAgICAgRElEX0ZJTEVfUE9TVEVSX0NBTENVTEFURV9TSVpFOiBkaWRDYWxjdWxhdGVQcmV2aWV3U2l6ZSxcbiAgICAgICAgICAgIERJRF9VUERBVEVfSVRFTV9NRVRBREFUQTogZGlkVXBkYXRlSXRlbU1ldGFkYXRhXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbihfcmVmNSkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICAgICAgICBwcm9wcyA9IF9yZWY1LnByb3BzO1xuXG4gICAgICAgICAgICAvLyBkb24ndCBydW4gd2l0aG91dCBwb3N0ZXJcbiAgICAgICAgICAgIGlmICghcm9vdC5yZWYuZmlsZVBvc3RlcikgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBkb24ndCBkbyBhbnl0aGluZyB3aGlsZSBoaWRkZW5cbiAgICAgICAgICAgIGlmIChyb290LnJlY3QuZWxlbWVudC5oaWRkZW4pIHJldHVybjtcblxuICAgICAgICAgICAgLy8gc2hvdWxkIHdlIHJlZHJhd1xuICAgICAgICAgICAgaWYgKHJvb3QucmVmLnNob3VsZFVwZGF0ZVBhbmVsSGVpZ2h0KSB7XG4gICAgICAgICAgICAgIC8vIHRpbWUgdG8gcmVzaXplIHRoZSBwYXJlbnQgcGFuZWxcbiAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1VQREFURV9QQU5FTF9IRUlHSFQnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgICAgICAgIGhlaWdodDogZ2V0UG9zdGVySGVpZ2h0KHsgcm9vdDogcm9vdCB9KVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAvLyBkb25lIVxuICAgICAgICAgICAgICByb290LnJlZi5zaG91bGRVcGRhdGVQYW5lbEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIGV4cG9zZSBwbHVnaW5cbiAgICByZXR1cm4ge1xuICAgICAgb3B0aW9uczoge1xuICAgICAgICAvLyBFbmFibGUgb3IgZGlzYWJsZSBmaWxlIHBvc3RlclxuICAgICAgICBhbGxvd0ZpbGVQb3N0ZXI6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgIC8vIEZpeGVkIHByZXZpZXcgaGVpZ2h0XG4gICAgICAgIGZpbGVQb3N0ZXJIZWlnaHQ6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gTWluIGltYWdlIGhlaWdodFxuICAgICAgICBmaWxlUG9zdGVyTWluSGVpZ2h0OiBbbnVsbCwgVHlwZS5JTlRdLFxuXG4gICAgICAgIC8vIE1heCBpbWFnZSBoZWlnaHRcbiAgICAgICAgZmlsZVBvc3Rlck1heEhlaWdodDogW251bGwsIFR5cGUuSU5UXSxcblxuICAgICAgICAvLyBmaWx0ZXJzIGZpbGUgaXRlbXMgdG8gZGV0ZXJtaW5lIHdoaWNoIGFyZSBzaG93biBhcyBwb3N0ZXJcbiAgICAgICAgZmlsZVBvc3RlckZpbHRlckl0ZW06IFtcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgVHlwZS5GVU5DVElPTlxuICAgICAgICBdLFxuXG4gICAgICAgIC8vIEVuYWJsZXMgb3IgZGlzYWJsZXMgcmVhZGluZyBhdmVyYWdlIGltYWdlIGNvbG9yXG4gICAgICAgIGZpbGVQb3N0ZXJDYWxjdWxhdGVBdmVyYWdlSW1hZ2VDb2xvcjogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgIC8vIEFsbG93cyBzZXR0aW5nIHRoZSB2YWx1ZSBvZiB0aGUgQ09SUyBhdHRyaWJ1dGUgKG51bGwgaXMgZG9uJ3Qgc2V0IGF0dHJpYnV0ZSlcbiAgICAgICAgZmlsZVBvc3RlckNyb3NzT3JpZ2luQXR0cmlidXRlVmFsdWU6IFsnQW5vbnltb3VzJywgVHlwZS5TVFJJTkddXG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBmaXJlIHBsdWdpbmxvYWRlZCBldmVudCBpZiBydW5uaW5nIGluIGJyb3dzZXIsIHRoaXMgYWxsb3dzIHJlZ2lzdGVyaW5nIHRoZSBwbHVnaW4gd2hlbiB1c2luZyBhc3luYyBzY3JpcHQgdGFnc1xuICB2YXIgaXNCcm93c2VyID1cbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbiAgaWYgKGlzQnJvd3Nlcikge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoJ0ZpbGVQb25kOnBsdWdpbmxvYWRlZCcsIHsgZGV0YWlsOiBwbHVnaW4gfSlcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHBsdWdpbjtcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnQgZnJvbSAnLi4vLi4vY29tcG9uZW50L2luZGV4LmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRMaWJzIGZyb20gJy4uLy4uL2xpYnMvaW5kZXguanN4JztcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudEZvcm1zIGZyb20gJy4uLy4uL2Zvcm1zL2luZGV4LmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5TdGFkQ29tcG9uZW50UG9sbEZvcm0gZXh0ZW5kcyBPcGVuU3RhZENvbXBvbmVudCB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcblxuICAgIHN1cGVyKHByb3BzLCB7XG4gICAgICB1c2VyOiB7fSxcbiAgICAgIHF1ZXN0aW9uTWluTGVuZ3RoOiAzMCxcbiAgICAgIHF1ZXN0aW9uTWF4TGVuZ3RoOiA1MDAsXG4gICAgICB0aXRsZU1pbkxlbmd0aDogMzAsXG4gICAgICB0aXRsZU1heExlbmd0aDogNTAwLFxuICAgICAgZGVzY3JpcHRpb25NaW5MZW5ndGg6IDMwLFxuICAgICAgZGVzY3JpcHRpb25NYXhMZW5ndGg6IDUwMCxcbiAgICAgIGFsbG93Q2hvaWNlVGl0bGVzOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHVzZXI6IHByb3BzLnVzZXIsXG4gICAgICBwb2xsSWQ6IHByb3BzLnBvbGxJZCxcbiAgICAgIHBvbGw6IHByb3BzLnBvbGwsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuICAgIH07XG5cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG5cbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyB1c2VyXG4gICAgaWYgKCEoIHNlbGYuc3RhdGUudXNlciAmJiBzZWxmLnN0YXRlLnVzZXIucm9sZSApKSB7XG4gICAgICBPcGVuU3RhZENvbXBvbmVudExpYnMudXNlci5nZXRVc2VyKHsgdXNlcjogc2VsZi5jb25maWcudXNlciwgand0OiBzZWxmLmNvbmZpZy5qd3QsIHNpdGVJZDogc2VsZi5jb25maWcuc2l0ZUlkLCBhcGk6IHNlbGYuY29uZmlnLmFwaSB9LCAoZXJyLCB1c2VyKSA9PiB7XG4gICAgICAgIHNlbGYuc2V0U3RhdGUoeyB1c2VyIH0sICgpID0+IHtcbiAgICAgICAgICBpZiAoICFzZWxmLnN0YXRlLnBvbGwgKSBzZWxmLmZldGNoRGF0YSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoICFzZWxmLnN0YXRlLnBvbGwgKSBzZWxmLmZldGNoRGF0YSgpO1xuICAgIH1cblxuICB9XG5cbiAgZmV0Y2hEYXRhKG5leHQpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBpZiAoIXNlbGYuc3RhdGUucG9sbElkKSB7XG4gICAgICByZXR1cm4gc2VsZi5zZXRTdGF0ZSh7IHBvbGw6IHtcbiAgICAgICAgcXVlc3Rpb246ICcnLFxuICAgICAgICBjaG9pY2VzOiB7IFwiMVwiOiB7fSwgXCIyXCI6IHt9IH0sXG4gICAgICB9fSk7XG4gICAgfVxuXG4gICAgbGV0IHVybCA9IGAke3NlbGYuY29uZmlnLmFwaSAmJiBzZWxmLmNvbmZpZy5hcGkudXJsICAgfS9hcGkvc2l0ZS8keyAgc2VsZi5jb25maWcuc2l0ZUlkICB9L2lkZWEvJHsgIHNlbGYuY29uZmlnLmlkZWFJZCAgfS9wb2xsLyR7IHNlbGYuY29uZmlnLnBvbGxJZCB9P3dpdGhVc2VyPTEmd2l0aFZvdGVzPTFgO1xuICAgIGxldCBoZWFkZXJzID0gT3BlblN0YWRDb21wb25lbnRMaWJzLmFwaS5nZXRIZWFkZXJzKHNlbGYuY29uZmlnKTtcblxuICAgIGZldGNoKHVybCwgeyBoZWFkZXJzIH0pXG4gICAgICAudGhlbiggZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyByZXNwb25zZS50ZXh0KCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oanNvbikge1xuXG4gICAgICAgIGxldCBzdGF0ZSA9IHsgLi4uc2VsZi5zdGF0ZSB9O1xuICAgICAgICBzdGF0ZS5wb2xsID0ganNvbjtcblxuICAgICAgICBzZWxmLnNldFN0YXRlKHN0YXRlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAobmV4dCkgcmV0dXJuIG5leHQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICBlcnJvci50aGVuKGZ1bmN0aW9uKG1lc3NhZ2VzKSB7IHJldHVybiBjb25zb2xlLmxvZyhtZXNzYWdlcyk7fSApO1xuICAgICAgfSk7XG5cbiAgfVxuXG4gIHZhbGlkYXRlZFJlc3VsdCgpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBsZXQgcG9sbCA9IHNlbGYuc3RhdGUucG9sbDtcblxuICAgIGxldCBxdWVzdGlvbklucHV0ID0gc2VsZlsncXVlc3Rpb24taW5wdXQnXTtcbiAgICBsZXQgaXNWYWxpZCA9IHF1ZXN0aW9uSW5wdXQudmFsaWRhdGUoKTtcbiAgICBsZXQgcmVzdWx0ID0geyBxdWVzdGlvbjogcXVlc3Rpb25JbnB1dC5zdGF0ZS52YWx1ZSwgY2hvaWNlczoge30gfTtcblxuICAgIE9iamVjdC5rZXlzKHBvbGwuY2hvaWNlcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBsZXQgdGl0bGVJbnB1dCA9IHNlbGZbYHRpdGxlLWlucHV0LSR7a2V5fWBdO1xuICAgICAgbGV0IGRlc2NyaXB0aW9uSW5wdXQgPSBzZWxmW2BkZXNjcmlwdGlvbi1pbnB1dC0ke2tleX1gXTtcbiAgICAgIGlmICghKCB0aXRsZUlucHV0ICYmIHRpdGxlSW5wdXQuc3RhdGUudmFsdWUgKSAmJiAhZGVzY3JpcHRpb25JbnB1dC5zdGF0ZS52YWx1ZSkgcmV0dXJuO1xuICAgICAgcmVzdWx0LmNob2ljZXNba2V5XSA9IHt9O1xuICAgICAgaWYgKHNlbGYuY29uZmlnLmFsbG93Q2hvaWNlVGl0bGVzICYmIHRpdGxlSW5wdXQuc3RhdGUudmFsdWUpIHtcbiAgICAgICAgcmVzdWx0LmNob2ljZXNba2V5XS50aXRsZSA9IHRpdGxlSW5wdXQuc3RhdGUudmFsdWU7XG4gICAgICAgIGlmICghdGl0bGVJbnB1dC52YWxpZGF0ZSgpKSBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZGVzY3JpcHRpb25JbnB1dC5zdGF0ZS52YWx1ZSkge1xuICAgICAgICByZXN1bHQuY2hvaWNlc1trZXldLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25JbnB1dC5zdGF0ZS52YWx1ZTtcbiAgICAgICAgaWYgKCFkZXNjcmlwdGlvbklucHV0LnZhbGlkYXRlKCkpIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghaXNWYWxpZCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKE9iamVjdC5rZXlzKHJlc3VsdC5jaG9pY2VzKS5sZW5ndGggPCAyKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuXG4gIH1cblxuICBoYW5kbGVPbkNoYW5nZShkYXRhKSB7XG5cbiAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgbGV0IHBvbGwgPSB7IC4uLnNlbGYuc3RhdGUucG9sbCB9O1xuXG4gICAgaWYgKGRhdGEuY2hvaWNlKSB7XG4gICAgICBwb2xsLmNob2ljZXNbIGRhdGEuY2hvaWNlLmlkIF0gPSB7XG4gICAgICAgIHRpdGxlOiBzZWxmLmNvbmZpZy5hbGxvd0Nob2ljZVRpdGxlcyAmJiBkYXRhLmNob2ljZS50aXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuY2hvaWNlLmRlc2NyaXB0aW9uLFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkYXRhLnF1ZXN0aW9uKSB7XG4gICAgICBwb2xsLnF1ZXN0aW9uID0gZGF0YS5xdWVzdGlvbjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHsgcG9sbCB9LCAoKSA9PiB7XG4gICAgfSk7XG5cbiAgfVxuXG4gIGFkZENob2ljZSgpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgbGV0IHBvbGwgPSB7IC4uLnNlbGYuc3RhdGUucG9sbCB9O1xuICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMocG9sbC5jaG9pY2VzKS5zb3J0KCk7XG4gICAgbGV0IGtleSA9IHBhcnNlSW50KCBrZXlzW2tleXMubGVuZ3RoLTFdICkgKyAxO1xuICAgIHBvbGwuY2hvaWNlc1sga2V5IF0gPSB7fTtcbiAgICBzZWxmLnNldFN0YXRlKHsgcG9sbCB9KVxuICB9XG5cbiAgY2FuU3VibWl0KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnBvbGwgJiYgdGhpcy5zdGF0ZS5wb2xsLmNhbikge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUucG9sbC5jYW4uZWRpdDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHJlcXVpcmVkVXNlclJvbGUgPSB0aGlzLmNvbmZpZy5yZXF1aXJlZFVzZXJSb2xlO1xuICAgICAgbGV0IHVzZXJSb2xlID0gJ21vZGVyYXRvcicgfHwgdGhpcy5wcm9wcy51c2VyICYmIHRoaXMucHJvcHMudXNlci5yb2xlO1xuICAgICAgLy8gdG9kbzogb3duZXI7IGR1cyBkaXQgbW9ldCBhbmRlcnNcbiAgICAgIHJldHVybiAoIHJlcXVpcmVkVXNlclJvbGUgPT0gJ2Fub255bW91cycgJiYgdXNlclJvbGUgKSAgfHxcbiAgICAgICAgKCByZXF1aXJlZFVzZXJSb2xlID09ICdtZW1iZXInICYmICggdXNlclJvbGUgPT0gJ21lbWJlcicgfHwgdXNlclJvbGUgPT0gJ2VkaXRvcicgfHwgdXNlclJvbGUgPT0gJ21vZGVyYXRvcicgfHwgdXNlclJvbGUgPT0gJ2FkbWluJyApICkgIHx8XG4gICAgICAgICggcmVxdWlyZWRVc2VyUm9sZSA9PSAnZWRpdG9yJyAmJiAoIHVzZXJSb2xlID09ICdlZGl0b3InIHx8IHVzZXJSb2xlID09ICdtb2RlcmF0b3InIHx8IHVzZXJSb2xlID09ICdhZG1pbicgKSApICB8fFxuICAgICAgICAoIHJlcXVpcmVkVXNlclJvbGUgPT0gJ21vZGVyYXRvcicgJiYgKCB1c2VyUm9sZSA9PSAnbW9kZXJhdG9yJyB8fCB1c2VyUm9sZSA9PSAnYWRtaW4nICkgKSAgfHxcbiAgICAgICAgKCByZXF1aXJlZFVzZXJSb2xlID09ICdhZG1pbicgJiYgdXNlclJvbGUgPT0gJ2FkbWluJyApO1xuICAgIH1cbiAgfVxuXG4gIHN1Ym1pdEZvcm0oKSB7XG5cbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLnNldFN0YXRlKHsgaXNCdXN5OiB0cnVlIH0sICgpID0+IHtcblxuICAgICAgbGV0IHZhbGlkYXRlZFJlc3VsdCA9IHNlbGYudmFsaWRhdGVkUmVzdWx0KCk7XG4gICAgICBpZiAoIXZhbGlkYXRlZFJlc3VsdCkge1xuICAgICAgICBzZWxmLnNldFN0YXRlKHsgaXNCdXN5OiBmYWxzZSB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXNlbGYuY2FuU3VibWl0KCkpIHJldHVybiBhbGVydCgnSmUgYmVudCBuaWV0IGluZ2Vsb2dkJyk7XG5cbiAgICAgIGxldCBpc05ldyA9IHRydWU7XG4gICAgICBsZXQgdXJsID0gYCR7IHNlbGYuY29uZmlnLmFwaSAmJiBzZWxmLmNvbmZpZy5hcGkudXJsIH0vYXBpL3NpdGUvJHsgc2VsZi5jb25maWcuc2l0ZUlkIH0vaWRlYS8keyBzZWxmLmNvbmZpZy5pZGVhSWQgfS9wb2xsYDtcbiAgICAgIGxldCBtZXRob2QgPSAnUE9TVCc7XG4gICAgICBpZiAoc2VsZi5zdGF0ZS5wb2xsICYmIHNlbGYuc3RhdGUucG9sbC5pZCkge1xuICAgICAgICB1cmwgKz0gYC8keyBzZWxmLnN0YXRlLnBvbGwuaWQgfWA7XG4gICAgICAgIG1ldGhvZCA9ICdQVVQnO1xuICAgICAgICBpc05ldyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgbGV0IGhlYWRlcnMgPSBPcGVuU3RhZENvbXBvbmVudExpYnMuYXBpLmdldEhlYWRlcnMoc2VsZi5jb25maWcpO1xuXG4gICAgICBsZXQgYm9keSA9IHZhbGlkYXRlZFJlc3VsdDtcblxuICAgICAgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICB9KVxuICAgICAgICAudGhlbiggZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oanNvbikge1xuXG5cdFx0ICAgICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdvc2MtbmV3LXBvbGwtc3RvcmVkJywgeyBkZXRhaWw6IGpzb24gfSk7XG4gICAgICAgICAgaWYgKCFpc05ldykgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ29zYy1wb2xsLWVkaXRlZCcsIHsgZGV0YWlsOiBqc29uIH0pO1xuXG5cdFx0ICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLmNvbmZpZy5vbkZpbmlzaGVkID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHNlbGYuY29uZmlnLm9uRmluaXNoZWQodmFsaWRhdGVkUmVzdWx0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgIGVycm9yLnRoZW4oZnVuY3Rpb24obWVzc2FnZXMpIHsgYWxlcnQobWVzc2FnZXMpOyByZXR1cm4gY29uc29sZS5sb2cobWVzc2FnZXMpO30gKTtcbiAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgaXNCdXN5OiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuICB9XG5cbiAgcmVuZGVyKCkge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBwb2xsID0gc2VsZi5zdGF0ZS5wb2xsIHx8IHt9O1xuXG4gICAgbGV0IGZvcm1JbnRybyA9IG51bGw7XG4gICAgaWYgKHNlbGYuY29uZmlnLmZvcm1JbnRybykge1xuICAgICAgZm9ybUludHJvID0gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1pbnRyb1wiPntzZWxmLmNvbmZpZy5mb3JtSW50cm99PC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICBsZXQgc3VibWl0QnV0dG9uSFRNTCA9IG51bGw7XG4gICAgaWYgKHNlbGYuY2FuU3VibWl0KCkpIHtcbiAgICAgIHN1Ym1pdEJ1dHRvbkhUTUwgPSAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLWFsaWduLXJpZ2h0LWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwib3NjLWJ1dHRvbi1ibHVlXCIgb25DbGljaz17KCkgPT4geyBpZiAoc2VsZi5jb25maWcub25GaW5pc2hlZCkgc2VsZi5jb25maWcub25GaW5pc2hlZCgpOyB9fT5UZXJ1ZzwvYnV0dG9uPlxuXHRcdFx0ICAgIDxidXR0b24gb25DbGljaz17KGUpID0+IHsgaWYgKCFzZWxmLnN0YXRlLmlzQnVzeSkgc2VsZi5zdWJtaXRGb3JtKCk7IH19IGNsYXNzTmFtZT17YG9zYy1idXR0b24tYmx1ZSBvc2MtbWFyZ2luLWxlZnQkeyBzZWxmLnN0YXRlLmlzQnVzeSA/ICcgb3NjLWRpc2FibGVkJyA6ICcnIH1gfSA+VmVyemVuZGVuPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VibWl0QnV0dG9uSFRNTCA9IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtYWxpZ24tcmlnaHQtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJvc2MtYnV0dG9uLWJsdWVcIiBvbkNsaWNrPXsoKSA9PiB7IGlmIChzZWxmLmNvbmZpZy5vbkZpbmlzaGVkKSBzZWxmLmNvbmZpZy5vbkZpbmlzaGVkKCk7IH19PlRlcnVnPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IE9wZW5TdGFkQ29tcG9uZW50TGlicy5sb2NhbFN0b3JhZ2Uuc2V0KCdvc2MtcmVhY3Rpb25zLWxvZ2luLXBlbmRpbmcnLCB0cnVlKTsgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IHNlbGYuY29uZmlnLmxvZ2luVXJsOyB9fSBjbGFzc05hbWU9XCJvc2MtYnV0dG9uLWJsdWUgb3NjLW5vdC1sb2dnZWQtaW4tYnV0dG9uIG9zYy1tYXJnaW4tbGVmdFwiPklubG9nZ2VuPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBpZD17c2VsZi5kaXZJZH0gY2xhc3NOYW1lPVwib3NjLWZvcm1cIiByZWY9e2VsID0+IChzZWxmLmluc3RhbmNlID0gZWwpfSA+XG4gICAgICAgIHtmb3JtSW50cm99XG5cbiAgICAgICAgPGg0PlZyYWFnPC9oND5cbiAgICAgICAgPE9wZW5TdGFkQ29tcG9uZW50Rm9ybXMuSW5wdXRXaXRoQ291bnRlciBjb25maWc9e3sgaW5wdXRUeXBlOiAndGV4dCcsIG1pbkxlbmd0aDogc2VsZi5jb25maWcucXVlc3Rpb25NaW5MZW5ndGgsIG1heExlbmd0aDogc2VsZi5jb25maWcucXVlc3Rpb25NYXhMZW5ndGgsIHBsYWNlaG9sZGVyOiAnVnJhYWcnIH19IHZhbHVlPXtwb2xsLnF1ZXN0aW9ufSBvbkNoYW5nZT17IGRhdGEgPT4gc2VsZi5oYW5kbGVPbkNoYW5nZSh7IHF1ZXN0aW9uOiBkYXRhLnZhbHVlIH0pIH0gcmVmPXtlbCA9PiAoc2VsZltgcXVlc3Rpb24taW5wdXRgXSA9IGVsKX0vPlxuXG4gICAgICAgIDxoND5LZXV6ZW1vZ2VsaWpraGVkZW48L2g0PlxuICAgICAgICA8b2wgY2xhc3NOYW1lPVwib3NjLXBvbGwtZm9ybS1jaG9pY2VzXCI+XG4gICAgICAgICAge3BvbGwgJiYgcG9sbC5jaG9pY2VzICYmIE9iamVjdC5rZXlzKHBvbGwuY2hvaWNlcykuc29ydCgpLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBsZXQgY2hvaWNlID0gcG9sbC5jaG9pY2VzW2tleV07XG4gICAgICAgICAgICBsZXQgdGl0bGVJbnB1dEhUTUwgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHNlbGYuY29uZmlnLmFsbG93Q2hvaWNlVGl0bGVzKSB0aXRsZUlucHV0SFRNTCA9IDxPcGVuU3RhZENvbXBvbmVudEZvcm1zLklucHV0V2l0aENvdW50ZXIgY29uZmlnPXt7IGlucHV0VHlwZTogJ3RleHQnLCBtaW5MZW5ndGg6IHNlbGYuY29uZmlnLnRpdGxlTWluTGVuZ3RoLCBtYXhMZW5ndGg6IHNlbGYuY29uZmlnLnRpdGxlTWF4TGVuZ3RoLCBwbGFjZWhvbGRlcjogJ1RpdGVsJyB9fSB2YWx1ZT17Y2hvaWNlLnRpdGxlfSBvbkNoYW5nZT17IGRhdGEgPT4gc2VsZi5oYW5kbGVPbkNoYW5nZSh7IGNob2ljZTogeyBpZDoga2V5LCB0aXRsZTogZGF0YS52YWx1ZSB9IH0pIH0gcmVmPXtlbCA9PiAoc2VsZltgdGl0bGUtaW5wdXQtJHtrZXl9YF0gPSBlbCl9Lz47XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwib3NjLXBvbGwtZm9ybS1jaG9pY2VcIiBrZXk9e2Bvc2Mta2V5LSR7a2V5fWB9PlxuICAgICAgICAgICAgICAgIHt0aXRsZUlucHV0SFRNTH1cbiAgICAgICAgICAgICAgICA8T3BlblN0YWRDb21wb25lbnRGb3Jtcy5JbnB1dFdpdGhDb3VudGVyIGNvbmZpZz17eyBpbnB1dFR5cGU6ICd0ZXh0JywgbWluTGVuZ3RoOiBzZWxmLmNvbmZpZy5kZXNjcmlwdGlvbk1pbkxlbmd0aCwgbWF4TGVuZ3RoOiBzZWxmLmNvbmZpZy5kZXNjcmlwdGlvbk1heExlbmd0aCwgcGxhY2Vob2xkZXI6ICdCZXNjaHJpanZpbmcnIH19IHZhbHVlPXtjaG9pY2UuZGVzY3JpcHRpb259IG9uQ2hhbmdlPXsgZGF0YSA9PiBzZWxmLmhhbmRsZU9uQ2hhbmdlKHsgY2hvaWNlOiB7IGlkOiBrZXksIGRlc2NyaXB0aW9uOiBkYXRhLnZhbHVlIH0gfSkgfSByZWY9e2VsID0+IChzZWxmW2BkZXNjcmlwdGlvbi1pbnB1dC0ke2tleX1gXSA9IGVsKX0vPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9vbD5cblxuICAgICAgICA8YSBjbGFzc05hbWU9XCJvc2MtYWRkLWNob2ljZS1idXR0b25cIiBvbkNsaWNrPXsgZSA9PiB0aGlzLmFkZENob2ljZSgpIH0+Tm9nIGVlbiBrZXV6ZW1vZ2VsaWpraGVpZCB0b2V2b2VnZW48L2E+XG4gICAgICAgIFxuICAgICAgICB7c3VibWl0QnV0dG9uSFRNTH1cblxuICAgICAgPC9kaXY+XG4gICAgKTtcblxuICB9XG5cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvbXBvbmVudC9pbmRleC5qc3gnO1xuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50TGlicyBmcm9tICcuLi8uLi9saWJzL2luZGV4LmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRGb3JtcyBmcm9tICcuLi8uLi9mb3Jtcy9pbmRleC5qc3gnO1xuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50UG9sbEZvcm0gZnJvbSAnLi9wb2xsLWZvcm0uanN4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlblN0YWRDb21wb25lbnRQb2xsIGV4dGVuZHMgT3BlblN0YWRDb21wb25lbnQge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cbiAgICBzdXBlcihwcm9wcywge1xuICAgICAgc2l0ZUlkOiBudWxsLFxuICAgICAgaWRlYUlkOiBudWxsLFxuICAgICAgdGl0bGU6IG51bGwsIC8vIGhvb3J0IG5pZXQgaGllclxuICAgICAgdGl0bGVNaW5MZW5ndGg6IDMwLFxuICAgICAgdGl0bGVNYXhMZW5ndGg6IDUwMCxcbiAgICAgIGRlc2NyaXB0aW9uTWluTGVuZ3RoOiAzMCxcbiAgICAgIGRlc2NyaXB0aW9uTWF4TGVuZ3RoOiA1MDAsXG4gICAgICB1c2VyOiBudWxsLFxuICAgICAgbG9naW5Vcmw6ICcnLFxuICAgICAgYXBpOiB7XG4gICAgICAgIHVybDogbnVsbCxcbiAgICAgICAgaGVhZGVyczogbnVsbCxcbiAgICAgIH0sXG4gICAgICByZXF1aXJlZFVzZXJSb2xlOiAnbWVtYmVyJyxcbiAgICAgIHdpdGhQZXJjZW50YWdlOiB0cnVlLFxuICAgICAgYWxsb3dDaG9pY2VUaXRsZXM6IHRydWUsXG4gICAgICBhbGxvd1Nob3dSZXN1bHRzSWZOb3RWb3RlZDogZmFsc2UsXG4gICAgfSk7XG5cbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLmNvbmZpZy5sb2dpblVybCA9IHNlbGYuY29uZmlnLmxvZ2luVXJsIHx8ICcvb2F1dGgvbG9naW4/cmV0dXJuVG89JyArIGVuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5sb2NhdGlvbi5ocmVmKTtcbiAgICBzZWxmLmhpZGVFZGl0Rm9ybSA9IHNlbGYuaGlkZUVkaXRGb3JtLmJpbmQoc2VsZik7XG5cbiAgICBzZWxmLnN0YXRlID0ge1xuICAgICAgdXNlcjogc2VsZi5jb25maWcudXNlcixcbiAgICAgIHBvbGw6IHByb3BzLnBvbGwsXG4gICAgICBwb2xsSWQ6ICggcHJvcHMucG9sbCAmJiBwcm9wcy5wb2xsLmlkICkgfHwgc2VsZi5jb25maWcucG9sbElkLFxuICAgICAgc2VsZWN0ZWRDaG9pY2U6IG51bGwsXG4gICAgICBzaG93UmVzdWx0OiBmYWxzZSxcbiAgICAgIHNob3dRdWVzdGlvbjogZmFsc2UsXG4gICAgICBlZGl0TW9kZTogZmFsc2UsXG4gICAgICBzaG93Vm90ZVN1Y2NlZWRlZDogZmFsc2UsXG4gICAgfTtcblxuICAgIGlmIChzZWxmLnN0YXRlLnBvbGwpIHtcbiAgICAgIHNlbGYucGFyc2VWb3RlQ291bnQoc2VsZi5zdGF0ZS5wb2xsKTtcbiAgICAgIGlmIChzZWxmLnN0YXRlLnBvbGwudXNlclZvdGUpIHtcbiAgICAgICAgc2VsZi5zdGF0ZS5zZWxlY3RlZENob2ljZSA9IHNlbGYuc3RhdGUucG9sbC51c2VyVm90ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG5cbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyB1c2VyXG4gICAgaWYgKCEoIHNlbGYuc3RhdGUudXNlciAmJiBzZWxmLnN0YXRlLnVzZXIucm9sZSApKSB7XG4gICAgICBPcGVuU3RhZENvbXBvbmVudExpYnMudXNlci5nZXRVc2VyKHsgdXNlcjogc2VsZi5jb25maWcudXNlciwgand0OiBzZWxmLmNvbmZpZy5qd3QsIHNpdGVJZDogc2VsZi5jb25maWcuc2l0ZUlkLCBhcGk6IHNlbGYuY29uZmlnLmFwaSB9LCAoZXJyLCB1c2VyKSA9PiB7XG4gICAgICAgIHNlbGYuc2V0U3RhdGUoeyB1c2VyIH0sICgpID0+IHtcbiAgICAgICAgICBpZiAoIXNlbGYuc3RhdGUucG9sbCAmJiBzZWxmLmNvbmZpZy5pZGVhSWQpIHNlbGYuZmV0Y2hEYXRhKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghc2VsZi5zdGF0ZS5wb2xsICYmIHNlbGYuY29uZmlnLmlkZWFJZCkgc2VsZi5mZXRjaERhdGEoKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZldGNoRGF0YShuZXh0KSB7XG5cbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAoIXNlbGYuc3RhdGUucG9sbElkKSB7XG4gICAgICAvLyBubyBkYXRhOiBzaG93IG5ldyBwb2xsIGZvcm1cbiAgICAgIHJldHVybiBzZWxmLnNldFN0YXRlKHsgZWRpdE1vZGU6IHRydWUgfSwgKCkgPT57XG4gICAgICB9KVxuICAgIH1cblxuICAgIGxldCB1cmwgPSBgJHtzZWxmLmNvbmZpZy5hcGkgJiYgc2VsZi5jb25maWcuYXBpLnVybCAgIH0vYXBpL3NpdGUvJHsgIHNlbGYuY29uZmlnLnNpdGVJZCAgfS9pZGVhLyR7ICBzZWxmLmNvbmZpZy5pZGVhSWQgIH0vcG9sbC8keyBzZWxmLnN0YXRlLnBvbGxJZCB9P3dpdGhVc2VyPTEmd2l0aFVzZXJWb3RlPTEmd2l0aFZvdGVDb3VudD0xJndpdGhWb3Rlcz0xYDtcbiAgICBsZXQgaGVhZGVycyA9IE9wZW5TdGFkQ29tcG9uZW50TGlicy5hcGkuZ2V0SGVhZGVycyhzZWxmLmNvbmZpZyk7XG5cbiAgICBmZXRjaCh1cmwsIHsgaGVhZGVycyB9KVxuICAgICAgLnRoZW4oIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGpzb24pIHtcblxuICAgICAgICBsZXQgc3RhdGUgPSB7IC4uLnNlbGYuc3RhdGUsIHNob3dSZXN1bHQ6IGZhbHNlLCBzaG93UXVlc3Rpb246IGZhbHNlLCB9O1xuICAgICAgICBzdGF0ZS5wb2xsID0ganNvbjtcbiAgICAgICAgc3RhdGUucG9sbElkID0ganNvbi5pZDtcblxuICAgICAgICBzZWxmLnBhcnNlVm90ZUNvdW50KHN0YXRlLnBvbGwpO1xuXG4gICAgICAgIGlmIChzdGF0ZS5wb2xsLnVzZXJWb3RlKSB7XG4gICAgICAgICAgc3RhdGUuc2VsZWN0ZWRDaG9pY2UgPSBzdGF0ZS5wb2xsLnVzZXJWb3RlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5zZXRTdGF0ZShzdGF0ZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKG5leHQpIHJldHVybiBuZXh0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgZXJyb3IudGhlbihmdW5jdGlvbihtZXNzYWdlcykgeyByZXR1cm4gY29uc29sZS5sb2cobWVzc2FnZXMpO30gKTtcbiAgICAgIH0pO1xuXG4gIH1cblxuICBwYXJzZVZvdGVDb3VudChwb2xsKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGlmIChwb2xsLnZvdGVDb3VudCkge1xuICAgICAgT2JqZWN0LmtleXMocG9sbC5jaG9pY2VzKS5zb3J0KCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGxldCBjaG9pY2UgPSBwb2xsLmNob2ljZXNba2V5XTtcbiAgICAgICAgY2hvaWNlLnZvdGVzQWJzID0gcG9sbC52b3RlQ291bnRba2V5XVxuICAgICAgICBjaG9pY2Uudm90ZXNQcmMgPSBwYXJzZUludCgxMDAgKiAoIHBvbGwudm90ZUNvdW50W2tleV0gLyBwb2xsLnZvdGVDb3VudC50b3RhbCApKTtcbiAgICAgICAgY2hvaWNlLnZvdGVzUHJjID0gY2hvaWNlLnZvdGVzUHJjIHx8IDA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfVxuXG4gIHNob3dFZGl0Rm9ybSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgZWRpdE1vZGU6IHRydWUgfSk7XG4gIH1cblxuICBoaWRlRWRpdEZvcm0oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBlZGl0TW9kZTogZmFsc2UsXG4gICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmZldGNoRGF0YSgpXG4gICAgfSk7XG4gIH1cblxuICBzZXRTaG93UmVzdWx0KCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93UmVzdWx0OiB0cnVlIH0pO1xuICB9XG5cbiAgc2V0U2hvd1F1ZXN0aW9uKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93UXVlc3Rpb246IHRydWUgfSk7XG4gIH1cblxuICBzZWxlY3RDaG9pY2UoZGF0YSkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZENob2ljZTogZGF0YS5jaG9pY2UgfSk7XG4gIH1cblxuICBvblJlYWN0aW9uRWRpdGVkKHJlYWN0aW9uKSB7XG4gICAgdGhpcy5mZXRjaERhdGEoKTtcbiAgfVxuXG4gIGlzVmFsaWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5zdGF0ZS5zZWxlY3RlZENob2ljZTtcbiAgfVxuXG4gIGNhblN1Ym1pdCgpIHtcbiAgICBsZXQgcmVxdWlyZWRVc2VyUm9sZSA9IHRoaXMuY29uZmlnLnJlcXVpcmVkVXNlclJvbGU7XG4gICAgbGV0IHVzZXJSb2xlID0gdGhpcy5zdGF0ZS51c2VyICYmIHRoaXMuc3RhdGUudXNlci5yb2xlO1xuICAgIC8vIHRvZG86IG5pZXV3ZSByb2xsZW4gc3RydWN0dXVyXG4gICAgcmV0dXJuICByZXF1aXJlZFVzZXJSb2xlID09ICdhbm9ueW1vdXMnICYmIHVzZXJSb2xlICB8fFxuICAgICAgICAgICAgcmVxdWlyZWRVc2VyUm9sZSA9PSAnbWVtYmVyJyAmJiAoIHVzZXJSb2xlID09ICdtZW1iZXInIHx8IHVzZXJSb2xlID09ICdhZG1pbicgKSAgfHxcbiAgICAgICAgICAgIHJlcXVpcmVkVXNlclJvbGUgPT0gJ2FkbWluJyAmJiB1c2VyUm9sZSA9PSAnYWRtaW4nO1xuICB9XG5cbiAgc3VibWl0Vm90ZSgpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuc2V0U3RhdGUoeyBpc0J1c3k6IHRydWUgfSwgKCkgPT4ge1xuXG4gICAgICBpZiAoIXNlbGYuaXNWYWxpZCgpKSB7XG4gICAgICAgIHNlbGYuc2V0U3RhdGUoeyBpc0J1c3k6IGZhbHNlLCBpc1ZhbGlkOiBmYWxzZSB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXNlbGYuY2FuU3VibWl0KCkpIHJldHVybiBhbGVydCgnSmUgYmVudCBuaWV0IGluZ2Vsb2dkJyk7XG5cbiAgICAgIGxldCB1cmwgPSBgJHsgc2VsZi5jb25maWcuYXBpICYmIHNlbGYuY29uZmlnLmFwaS51cmwgfS9hcGkvc2l0ZS8keyBzZWxmLmNvbmZpZy5zaXRlSWQgfS9pZGVhLyR7IHNlbGYuY29uZmlnLmlkZWFJZCB9L3BvbGwvJHsgc2VsZi5zdGF0ZS5wb2xsLmlkIH0vdm90ZWA7XG4gICAgICBsZXQgaGVhZGVycyA9IE9wZW5TdGFkQ29tcG9uZW50TGlicy5hcGkuZ2V0SGVhZGVycyhzZWxmLmNvbmZpZyk7XG4gICAgICBsZXQgbWV0aG9kID0gJ1BPU1QnO1xuXG4gICAgICBsZXQgYm9keSA9IHtcbiAgICAgICAgY2hvaWNlOiBzZWxmLnN0YXRlLnNlbGVjdGVkQ2hvaWNlLFxuICAgICAgfTtcblxuICAgICAgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICB9KVxuICAgICAgICAudGhlbiggZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oanNvbikge1xuXG4gICAgICAgICAgc2VsZi5mZXRjaERhdGEoICgpID0+IHtcbiAgICAgICAgICAgIHNlbGYuc2V0U3RhdGUoeyBpc0J1c3k6IGZhbHNlLCBzaG93Vm90ZVN1Y2NlZWRlZDogdHJ1ZSwgfSwgKCkgPT4ge1xuXHRcdCAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ29zYy1wb2xsLXZvdGVkJywgeyBkZXRhaWw6IGpzb24gfSk7XG5cdFx0ICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuY29uZmlnLm9uU3VibWl0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHNlbGYuY29uZmlnLm9uU3VibWl0KHsgZGVzY3JpcHRpb246IHNlbGYuc3RhdGUuZGVzY3JpcHRpb24gfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIGVycm9yLnRoZW4oZnVuY3Rpb24obWVzc2FnZXMpIHsgYWxlcnQobWVzc2FnZXMpOyByZXR1cm4gY29uc29sZS5sb2cobWVzc2FnZXMpO30gKTtcbiAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgaXNCdXN5OiBmYWxzZSwgaXNWYWxpZDogZmFsc2UgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgfVxuXG4gIGRlbGV0ZVBvbGwoKSB7XG5cbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLnNldFN0YXRlKHsgaXNCdXN5OiB0cnVlIH0sICgpID0+IHtcblxuICAgICAgbGV0IHBvbGwgPSBzZWxmLnN0YXRlLnBvbGw7XG4gICAgICBpZiAoISggcG9sbCAmJiBwb2xsLmNhbiAmJiBwb2xsLmNhbi5kZWxldGUgKSkgcmV0dXJuIGFsZXJ0KCdVIGt1bnQgZGV6ZSBwb2xsIG5pZXQgdmVyd2lqZGVyZW4nKTtcbiAgICAgIGlmICghKCBwb2xsICYmIHBvbGwuaWQgKSkgcmV0dXJuIGFsZXJ0KCdVIGt1bnQgZGV6ZSBwb2xsIG5pZXQgdmVyd2lqZGVyZW4nKTtcblxuICAgICAgbGV0IHVybCA9IGAkeyBzZWxmLmNvbmZpZy5hcGkgJiYgc2VsZi5jb25maWcuYXBpLnVybCB9L2FwaS9zaXRlLyR7IHNlbGYuY29uZmlnLnNpdGVJZCB9L2lkZWEvJHsgc2VsZi5jb25maWcuaWRlYUlkIH0vcG9sbC8keyBzZWxmLnN0YXRlLnBvbGwuaWQgfWA7XG4gICAgICBsZXQgbWV0aG9kID0gJ0RFTEVURSc7XG4gICAgICBsZXQgaGVhZGVycyA9IE9wZW5TdGFkQ29tcG9uZW50TGlicy5hcGkuZ2V0SGVhZGVycyhzZWxmLmNvbmZpZyk7XG5cbiAgICAgIGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2QsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICB9KVxuICAgICAgICAudGhlbiggZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oanNvbikge1xuXG5cdFx0ICAgICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdvc2MtcG9sbC1kZWxldGVkJywgeyBkZXRhaWw6IGpzb24gfSk7XG5cdFx0ICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgIGVycm9yLnRoZW4oZnVuY3Rpb24obWVzc2FnZXMpIHsgYWxlcnQobWVzc2FnZXMpOyByZXR1cm4gY29uc29sZS5sb2cobWVzc2FnZXMpO30gKTtcbiAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgaXNCdXN5OiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuICB9XG5cbiAgcmVuZGVyKCkge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBwb2xsID0gc2VsZi5zdGF0ZS5wb2xsIHx8IHt9O1xuXG4gICAgaWYgKHNlbGYuc3RhdGUuZWRpdE1vZGUpIHtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBpZD17dGhpcy5pZH0gY2xhc3NOYW1lPXtzZWxmLnByb3BzLmNsYXNzTmFtZSB8fCAnb3NjLXBvbGwnfSByZWY9eyhlbCkgPT4geyB0aGlzLmluc3RhbmNlID0gZWw7IH19ID5cbiAgICAgICAgICA8T3BlblN0YWRDb21wb25lbnRQb2xsRm9ybSBjb25maWc9e3sgLi4uc2VsZi5jb25maWcsIG9uRmluaXNoZWQ6IHNlbGYuaGlkZUVkaXRGb3JtIH19IHBvbGxJZD17c2VsZi5zdGF0ZS5wb2xsICYmIHNlbGYuc3RhdGUucG9sbC5pZH0gcG9sbD17c2VsZi5zdGF0ZS5wb2xsfSB1c2VyPXtzZWxmLnN0YXRlLnVzZXJ9Lz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgICAgXG4gICAgfSBlbHNlIHtcblxuICAgICAgbGV0IHF1ZXN0aW9uSFRNTCA9IG51bGw7XG4gICAgICBpZiAoKCBwb2xsICYmIHBvbGwuY2hvaWNlcyAmJiAhcG9sbC51c2VyVm90ZSApIHx8IHNlbGYuc3RhdGUuc2hvd1F1ZXN0aW9uKSB7XG4gICAgICAgIFxuICAgICAgICBsZXQgY29uZmlnID0geyBuYW1lOiBcInBvbGxDaG9pY2VcIiwgY2hvaWNlczogW10gfTtcbiAgICAgICAgT2JqZWN0LmtleXMocG9sbC5jaG9pY2VzKS5zb3J0KCkubWFwKGtleSA9PiB7XG4gICAgICAgICAgbGV0IGNob2ljZUhUTUwgPSBzZWxmLmNvbmZpZy5hbGxvd0Nob2ljZVRpdGxlcyAmJiBwb2xsLmNob2ljZXNba2V5XS50aXRsZSA/IGA8aDQ+JHtwb2xsLmNob2ljZXNba2V5XS50aXRsZX08L2g0PmAgOiAnJztcbiAgICAgICAgICBjaG9pY2VIVE1MICs9IHBvbGwuY2hvaWNlc1trZXldLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICAgIGNvbmZpZy5jaG9pY2VzLnB1c2goe1xuICAgICAgICAgICAgZGFuZ2Vyb3VzRGVzY3JpcHRpb246IGNob2ljZUhUTUwsXG4gICAgICAgICAgICB2YWx1ZToga2V5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IHN1Ym1pdEJ1dHRvbkhUTUwgPSBudWxsO1xuICAgICAgICBpZiAoc2VsZi5jYW5TdWJtaXQoKSkge1xuICAgICAgICAgIHN1Ym1pdEJ1dHRvbkhUTUwgPSAoPGJ1dHRvbiBvbkNsaWNrPXsoZSkgPT4geyBpZiAoIXNlbGYuc3RhdGUuaXNCdXN5KSBzZWxmLnN1Ym1pdFZvdGUoKTsgfX0gY2xhc3NOYW1lPXtgb3NjLWJ1dHRvbi1ibHVlJHsgIXNlbGYuaXNWYWxpZCgpID8gJyBvc2MtZGlzYWJsZWQnIDogJycgfWB9ID5TdGVtbWVuPC9idXR0b24+KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdWJtaXRCdXR0b25IVE1MID0gKDxidXR0b24gb25DbGljaz17KCkgPT4geyBPcGVuU3RhZENvbXBvbmVudExpYnMubG9jYWxTdG9yYWdlLnNldCgnb3NjLXBvbGwtbG9naW4tcGVuZGluZycsIHRydWUpOyBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gc2VsZi5jb25maWcubG9naW5Vcmw7IH19IGNsYXNzTmFtZT1cIm9zYy1idXR0b24tYmx1ZSBvc2Mtbm90LWxvZ2dlZC1pbi1idXR0b25cIj5JbmxvZ2dlbjwvYnV0dG9uPik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2hvd1Jlc3VsdEJ1dHRvbkhUTUwgPSBudWxsO1xuICAgICAgICBpZiAoc2VsZi5jb25maWcuYWxsb3dTaG93UmVzdWx0c0lmTm90Vm90ZWQgJiYgICEocG9sbC51c2VyVm90ZSB8fCBzZWxmLnN0YXRlLnNob3dSZXN1bHQpKSBzaG93UmVzdWx0QnV0dG9uSFRNTCA9ICg8YSBjbGFzc05hbWU9XCJvc2Mtc2hvdy1yZXN1bHQtYnV0dG9uXCIgb25DbGljaz17IGUgPT4gdGhpcy5zZXRTaG93UmVzdWx0KCkgfT5SZXN1bHRhYXQgYmVraWprZW48L2E+KTtcblxuICAgICAgICBxdWVzdGlvbkhUTUwgPSAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtcG9sbC1xdWVzdGlvbiBvc2MtZm9ybVwiPlxuICAgICAgICAgICAgPE9wZW5TdGFkQ29tcG9uZW50Rm9ybXMuUmFkaW9zIGNvbmZpZz17Y29uZmlnfSB2YWx1ZT17c2VsZi5zdGF0ZS5zZWxlY3RlZENob2ljZX0gb25DaGFuZ2U9eyBkYXRhID0+IHNlbGYuc2VsZWN0Q2hvaWNlKHsgY2hvaWNlOiBkYXRhLnZhbHVlIH0pIH0gcmVmPXtlbCA9PiAoc2VsZi5kZXNjcmlwdGlvbiA9IGVsKX0vPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtcG9sbC1xdWVzdGlvbi1idXR0b25zXCI+XG4gICAgICAgICAgICAgIHtzdWJtaXRCdXR0b25IVE1MfVxuICAgICAgICAgICAgICB7c2hvd1Jlc3VsdEJ1dHRvbkhUTUx9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHJlc3VsdEhUTUwgPSBudWxsO1xuICAgICAgaWYgKCBwb2xsICYmICggcG9sbC51c2VyVm90ZSB8fCBzZWxmLnN0YXRlLnNob3dSZXN1bHQgKSApIHtcblxuICAgICAgICBsZXQgc2hvd1F1ZXN0aW9uQnV0dG9uSFRNTCA9IG51bGw7XG4gICAgICAgIGlmICghc2VsZi5zdGF0ZS5zaG93UXVlc3Rpb24gJiYgIShwb2xsICYmIHBvbGwuY2hvaWNlcyAmJiAhcG9sbC51c2VyVm90ZSkpIHNob3dRdWVzdGlvbkJ1dHRvbkhUTUwgPSAoPGEgY2xhc3NOYW1lPVwib3NjLXNob3ctcXVlc3Rpb24tYnV0dG9uXCIgb25DbGljaz17IGUgPT4gdGhpcy5zZXRTaG93UXVlc3Rpb24oKSB9PlN0ZW0gYWFucGFzc2VuPC9hPik7XG5cbiAgICAgICAgbGV0IHRvdGFsVm90ZXNIVE1MID0gbnVsbDtcbiAgICAgICAgaWYgKHBvbGwudm90ZUNvdW50ICYmIHBvbGwudm90ZUNvdW50LnRvdGFsKSB7XG4gICAgICAgICAgbGV0IHh4ID0gcG9sbC52b3RlQ291bnQudG90YWwgPT0gMSA/ICdzdGVtJyA6ICdzdGVtbWVuJztcbiAgICAgICAgICB0b3RhbFZvdGVzSFRNTCA9IDxkaXY+VG90YWFsIHtwb2xsLnZvdGVDb3VudC50b3RhbH0ge3h4fTxici8+PGJyLz48L2Rpdj5cbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdEhUTUwgPSAoXG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm9zYy1jaG9pY2VzXCI+XG4gICAgICAgICAgICB7T2JqZWN0LmtleXMocG9sbC5jaG9pY2VzKS5zb3J0KCkubWFwKGtleSA9PiB7XG4gICAgICAgICAgICAgIGxldCBjaG9pY2UgPSBwb2xsLmNob2ljZXNba2V5XTtcbiAgICAgICAgICAgICAgbGV0IHRpdGxlSFRNTCA9IG51bGw7XG4gICAgICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy5hbGxvd0Nob2ljZVRpdGxlcyAmJiBjaG9pY2UudGl0bGUpIHRpdGxlSFRNTCA9ICg8aDQ+e2Nob2ljZS50aXRsZX08L2g0Pik7XG4gICAgICAgICAgICAgIGxldCBkZXNjcmlwdGlvbkhUTUwgPSBudWxsO1xuICAgICAgICAgICAgICBpZiAoY2hvaWNlLmRlc2NyaXB0aW9uKSBkZXNjcmlwdGlvbkhUTUwgPSAoPGRpdj57Y2hvaWNlLmRlc2NyaXB0aW9ufTwvZGl2Pik7XG4gICAgICAgICAgICAgIGxldCBwZXJjZW50YWdlSFRNTCA9IG51bGw7XG4gICAgICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy53aXRoUGVyY2VudGFnZSkge1xuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VIVE1MID0gPGRpdiBjbGFzc05hbWU9XCJvc2MtcGVyY2VudGFnZVwiPntjaG9pY2Uudm90ZXNQcmN9JTwvZGl2PlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxldCBzY29yZUhUTUwgPSAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtY2hvaWNlLWRlZmF1bHRcIj5cbiAgICAgICAgICAgICAgICAgIHt0aXRsZUhUTUx9XG4gICAgICAgICAgICAgICAgICB7ZGVzY3JpcHRpb25IVE1MfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Bvc2MtY2hvaWNlLWJhciR7c2VsZi5jb25maWcud2l0aFBlcmNlbnRhZ2UgPyAnIG9zYy13aXRoLXBlcmNlbnRhZ2UnIDogJyd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLWNob2ljZS1iYXItbWFza1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1jaG9pY2UtYmFyLXByb2dyZXNzXCIgc3R5bGU9e3sgd2lkdGg6ICggY2hvaWNlLnZvdGVzUHJjIHx8IDAgKSArICclJyB9fT48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgeyBwZXJjZW50YWdlSFRNTCB9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm9zYy1jaG9pY2VcIiBrZXk9e2Bvc2Mta2V5LSR7a2V5fWB9PlxuICAgICAgICAgICAgICAgICAge3Njb3JlSFRNTH1cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICB7dG90YWxWb3Rlc0hUTUx9XG4gICAgICAgICAgICB7c2hvd1F1ZXN0aW9uQnV0dG9uSFRNTH1cbiAgICAgICAgICA8L3VsPlxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBsZXQgZWRpdEJ1dHRvbnNIVE1MID0gbnVsbDtcbiAgICAgIGlmIChzZWxmLnN0YXRlLnBvbGwgJiYgc2VsZi5zdGF0ZS5wb2xsLmNhbiAmJiBzZWxmLnN0YXRlLnBvbGwuY2FuLmVkaXQpIHtcbiAgICAgICAgZWRpdEJ1dHRvbnNIVE1MID1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1lZGl0YnV0dG9uc1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJvc2MtZWRpdGJ1dHRvbiBvc2MtZWRpdFwiIG9uQ2xpY2s9e2V2ZW50ID0+IHNlbGYuc2hvd0VkaXRGb3JtKCl9PkJld2VyayBwb2xsPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cIm9zYy1lZGl0YnV0dG9uIG9zYy1kZWxldGVcIiBvbkNsaWNrPXtldmVudCA9PiB7IGlmIChjb25maXJtKCdXZWV0IHUgaGV0IHpla2VyJykpIHNlbGYuZGVsZXRlUG9sbCgpIH19PlZlcndpamRlciBwb2xsPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICB9XG5cbiAgICAgIGxldCB2b3RlU3VjY2VlZGVkSFRNTCA9IG51bGw7XG4gICAgICBpZiAoc2VsZi5zdGF0ZS5zaG93Vm90ZVN1Y2NlZWRlZCkge1xuICAgICAgICB2b3RlU3VjY2VlZGVkSFRNTCA9IDxkaXYgY2xhc3NOYW1lPVwib3NjLXZvdGUtc3VjY2VlZGVkXCI+VXcgc3RlbSBpcyBvcGdlc2xhZ2VuPC9kaXY+XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgaWQ9e3RoaXMuaWR9IGNsYXNzTmFtZT17c2VsZi5wcm9wcy5jbGFzc05hbWUgfHwgJ29zYy1wb2xsJ30gcmVmPXsoZWwpID0+IHsgdGhpcy5pbnN0YW5jZSA9IGVsOyB9fSA+XG4gICAgICAgICAge2VkaXRCdXR0b25zSFRNTH1cbiAgICAgICAgICB7dm90ZVN1Y2NlZWRlZEhUTUx9XG4gICAgICAgICAgPGg0Pntwb2xsLnF1ZXN0aW9ufTwvaDQ+XG4gICAgICAgICAge3F1ZXN0aW9uSFRNTH1cbiAgICAgICAgICB7cmVzdWx0SFRNTH1cbiAgICAgICAgICA8YnIvPjxici8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcblxuICAgIH1cblxuICB9XG5cbn1cbiIsIi8vIHBvbHlmaWxsc1xuaW1wb3J0ICd3aGF0d2ctZmV0Y2gnO1xuXG4vLyByZWFjdFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG4vLyBpbXBvcnQgY3NzIHRvIG1ha2Ugc3VyZSBpdCBpcyBnZW5lcmF0ZWQgaW4gdGhlIHJlc3VsdFxuaW1wb3J0ICcuL2Nzcy9kZWZhdWx0Lmxlc3MnO1xuXG4vLyB0aGUgbW9kdWxlXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRQb2xsIGZyb20gJy4vY29tcG9uZW50L3BvbGwuanN4JztcblxuLy8gcmVuZGVyIGVsZW1lbnRzXG5PcGVuU3RhZENvbXBvbmVudFBvbGwucmVuZGVyRWxlbWVudCA9IGZ1bmN0aW9uIHJlbmRlckVsZW1lbnQoIGVsZW0sIGNvbmZpZyApIHtcbiAgbGV0IGF0dHJpYnV0ZXMgPSBlbGVtLmF0dHJpYnV0ZXM7XG5cdFJlYWN0RE9NLnJlbmRlciggPE9wZW5TdGFkQ29tcG9uZW50UG9sbCBhdHRyaWJ1dGVzPXthdHRyaWJ1dGVzfSBjb25maWc9e2NvbmZpZ30vPiwgZWxlbSlcbn1cblxuZXhwb3J0IHtcbiAgT3BlblN0YWRDb21wb25lbnRQb2xsIGFzIGRlZmF1bHQsXG4gIE9wZW5TdGFkQ29tcG9uZW50UG9sbCBhcyBQb2xsLFxufTtcblxuIiwiLyohXG4gKiBGaWxlUG9uZCA0LjIwLjFcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCwgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQvXG4gKiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9wcWluYS5ubC9maWxlcG9uZC8gZm9yIGRldGFpbHMuXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgKi9cblxuKGZ1bmN0aW9uKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IGZhY3RvcnkoZXhwb3J0cylcbiAgICA6IHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZFxuICAgID8gZGVmaW5lKFsnZXhwb3J0cyddLCBmYWN0b3J5KVxuICAgIDogKChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiksIGZhY3RvcnkoKGdsb2JhbC5GaWxlUG9uZCA9IHt9KSkpO1xufSkodGhpcywgZnVuY3Rpb24oZXhwb3J0cykge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGlzTm9kZSA9IGZ1bmN0aW9uIGlzTm9kZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xuICB9O1xuXG4gIHZhciBjcmVhdGVTdG9yZSA9IGZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGluaXRpYWxTdGF0ZSkge1xuICAgIHZhciBxdWVyaWVzID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107XG4gICAgdmFyIGFjdGlvbnMgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBbXTtcbiAgICAvLyBpbnRlcm5hbCBzdGF0ZVxuICAgIHZhciBzdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIGluaXRpYWxTdGF0ZSk7XG5cbiAgICAvLyBjb250YWlucyBhbGwgYWN0aW9ucyBmb3IgbmV4dCBmcmFtZSwgaXMgY2xlYXIgd2hlbiBhY3Rpb25zIGFyZSByZXF1ZXN0ZWRcbiAgICB2YXIgYWN0aW9uUXVldWUgPSBbXTtcbiAgICB2YXIgZGlzcGF0Y2hRdWV1ZSA9IFtdO1xuXG4gICAgLy8gcmV0dXJucyBhIGR1cGxpY2F0ZSBvZiB0aGUgY3VycmVudCBzdGF0ZVxuICAgIHZhciBnZXRTdGF0ZSA9IGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKTtcbiAgICB9O1xuXG4gICAgLy8gcmV0dXJucyBhIGR1cGxpY2F0ZSBvZiB0aGUgYWN0aW9ucyBhcnJheSBhbmQgY2xlYXJzIHRoZSBhY3Rpb25zIGFycmF5XG4gICAgdmFyIHByb2Nlc3NBY3Rpb25RdWV1ZSA9IGZ1bmN0aW9uIHByb2Nlc3NBY3Rpb25RdWV1ZSgpIHtcbiAgICAgIC8vIGNyZWF0ZSBjb3B5IG9mIGFjdGlvbnMgcXVldWVcbiAgICAgIHZhciBxdWV1ZSA9IFtdLmNvbmNhdChhY3Rpb25RdWV1ZSk7XG5cbiAgICAgIC8vIGNsZWFyIGFjdGlvbnMgcXVldWUgKHdlIGRvbid0IHdhbnQgbm8gZG91YmxlIGFjdGlvbnMpXG4gICAgICBhY3Rpb25RdWV1ZS5sZW5ndGggPSAwO1xuXG4gICAgICByZXR1cm4gcXVldWU7XG4gICAgfTtcblxuICAgIC8vIHByb2Nlc3NlcyBhY3Rpb25zIHRoYXQgbWlnaHQgYmxvY2sgdGhlIG1haW4gVUkgdGhyZWFkXG4gICAgdmFyIHByb2Nlc3NEaXNwYXRjaFF1ZXVlID0gZnVuY3Rpb24gcHJvY2Vzc0Rpc3BhdGNoUXVldWUoKSB7XG4gICAgICAvLyBjcmVhdGUgY29weSBvZiBhY3Rpb25zIHF1ZXVlXG4gICAgICB2YXIgcXVldWUgPSBbXS5jb25jYXQoZGlzcGF0Y2hRdWV1ZSk7XG5cbiAgICAgIC8vIGNsZWFyIGFjdGlvbnMgcXVldWUgKHdlIGRvbid0IHdhbnQgbm8gZG91YmxlIGFjdGlvbnMpXG4gICAgICBkaXNwYXRjaFF1ZXVlLmxlbmd0aCA9IDA7XG5cbiAgICAgIC8vIG5vdyBkaXNwYXRjaCB0aGVzZSBhY3Rpb25zXG4gICAgICBxdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uKF9yZWYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBfcmVmLnR5cGUsXG4gICAgICAgICAgZGF0YSA9IF9yZWYuZGF0YTtcbiAgICAgICAgZGlzcGF0Y2godHlwZSwgZGF0YSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gYWRkcyBhIG5ldyBhY3Rpb24sIGNhbGxzIGl0cyBoYW5kbGVyIGFuZFxuICAgIHZhciBkaXNwYXRjaCA9IGZ1bmN0aW9uIGRpc3BhdGNoKHR5cGUsIGRhdGEsIGlzQmxvY2tpbmcpIHtcbiAgICAgIC8vIGlzIGJsb2NraW5nIGFjdGlvbiAoc2hvdWxkIG5ldmVyIGJsb2NrIGlmIGRvY3VtZW50IGlzIGhpZGRlbilcbiAgICAgIGlmIChpc0Jsb2NraW5nICYmICFkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgZGlzcGF0Y2hRdWV1ZS5wdXNoKHsgdHlwZTogdHlwZSwgZGF0YTogZGF0YSB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiB0aGlzIGFjdGlvbiBoYXMgYSBoYW5kbGVyLCBoYW5kbGUgdGhlIGFjdGlvblxuICAgICAgaWYgKGFjdGlvbkhhbmRsZXJzW3R5cGVdKSB7XG4gICAgICAgIGFjdGlvbkhhbmRsZXJzW3R5cGVdKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICAvLyBub3cgYWRkIGFjdGlvblxuICAgICAgYWN0aW9uUXVldWUucHVzaCh7XG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGRhdGE6IGRhdGFcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgcXVlcnkgPSBmdW5jdGlvbiBxdWVyeShzdHIpIHtcbiAgICAgIHZhciBfcXVlcnlIYW5kbGVzO1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLFxuICAgICAgICAgIF9rZXkgPSAxO1xuICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgX2tleSsrXG4gICAgICApIHtcbiAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcXVlcnlIYW5kbGVzW3N0cl1cbiAgICAgICAgPyAoX3F1ZXJ5SGFuZGxlcyA9IHF1ZXJ5SGFuZGxlcylbc3RyXS5hcHBseShfcXVlcnlIYW5kbGVzLCBhcmdzKVxuICAgICAgICA6IG51bGw7XG4gICAgfTtcblxuICAgIHZhciBhcGkgPSB7XG4gICAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG4gICAgICBwcm9jZXNzQWN0aW9uUXVldWU6IHByb2Nlc3NBY3Rpb25RdWV1ZSxcbiAgICAgIHByb2Nlc3NEaXNwYXRjaFF1ZXVlOiBwcm9jZXNzRGlzcGF0Y2hRdWV1ZSxcbiAgICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcbiAgICAgIHF1ZXJ5OiBxdWVyeVxuICAgIH07XG5cbiAgICB2YXIgcXVlcnlIYW5kbGVzID0ge307XG4gICAgcXVlcmllcy5mb3JFYWNoKGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgICBxdWVyeUhhbmRsZXMgPSBPYmplY3QuYXNzaWduKHt9LCBxdWVyeShzdGF0ZSksIHt9LCBxdWVyeUhhbmRsZXMpO1xuICAgIH0pO1xuXG4gICAgdmFyIGFjdGlvbkhhbmRsZXJzID0ge307XG4gICAgYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgYWN0aW9uSGFuZGxlcnMgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgYWN0aW9uKGRpc3BhdGNoLCBxdWVyeSwgc3RhdGUpLFxuICAgICAgICB7fSxcbiAgICAgICAgYWN0aW9uSGFuZGxlcnNcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYXBpO1xuICB9O1xuXG4gIHZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KG9iaiwgcHJvcGVydHksIGRlZmluaXRpb24pIHtcbiAgICBpZiAodHlwZW9mIGRlZmluaXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9ialtwcm9wZXJ0eV0gPSBkZWZpbml0aW9uO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wZXJ0eSwgT2JqZWN0LmFzc2lnbih7fSwgZGVmaW5pdGlvbikpO1xuICB9O1xuXG4gIHZhciBmb3JpbiA9IGZ1bmN0aW9uIGZvcmluKG9iaiwgY2IpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjYihrZXksIG9ialtrZXldKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU9iamVjdCA9IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdChkZWZpbml0aW9uKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIGZvcmluKGRlZmluaXRpb24sIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICBkZWZpbmVQcm9wZXJ0eShvYmosIHByb3BlcnR5LCBkZWZpbml0aW9uW3Byb3BlcnR5XSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICB2YXIgYXR0ciA9IGZ1bmN0aW9uIGF0dHIobm9kZSwgbmFtZSkge1xuICAgIHZhciB2YWx1ZSA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbm9kZS5nZXRBdHRyaWJ1dGUobmFtZSkgfHwgbm9kZS5oYXNBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgfTtcblxuICB2YXIgbnMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuICB2YXIgc3ZnRWxlbWVudHMgPSBbJ3N2ZycsICdwYXRoJ107IC8vIG9ubHkgc3ZnIGVsZW1lbnRzIHVzZWRcblxuICB2YXIgaXNTVkdFbGVtZW50ID0gZnVuY3Rpb24gaXNTVkdFbGVtZW50KHRhZykge1xuICAgIHJldHVybiBzdmdFbGVtZW50cy5pbmNsdWRlcyh0YWcpO1xuICB9O1xuXG4gIHZhciBjcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWcsIGNsYXNzTmFtZSkge1xuICAgIHZhciBhdHRyaWJ1dGVzID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgaWYgKHR5cGVvZiBjbGFzc05hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBhdHRyaWJ1dGVzID0gY2xhc3NOYW1lO1xuICAgICAgY2xhc3NOYW1lID0gbnVsbDtcbiAgICB9XG4gICAgdmFyIGVsZW1lbnQgPSBpc1NWR0VsZW1lbnQodGFnKVxuICAgICAgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZylcbiAgICAgIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgIGlmIChpc1NWR0VsZW1lbnQodGFnKSkge1xuICAgICAgICBhdHRyKGVsZW1lbnQsICdjbGFzcycsIGNsYXNzTmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yaW4oYXR0cmlidXRlcywgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIGF0dHIoZWxlbWVudCwgbmFtZSwgdmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9O1xuXG4gIHZhciBhcHBlbmRDaGlsZCA9IGZ1bmN0aW9uIGFwcGVuZENoaWxkKHBhcmVudCkge1xuICAgIHJldHVybiBmdW5jdGlvbihjaGlsZCwgaW5kZXgpIHtcbiAgICAgIGlmICh0eXBlb2YgaW5kZXggIT09ICd1bmRlZmluZWQnICYmIHBhcmVudC5jaGlsZHJlbltpbmRleF0pIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgcGFyZW50LmNoaWxkcmVuW2luZGV4XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGFwcGVuZENoaWxkVmlldyA9IGZ1bmN0aW9uIGFwcGVuZENoaWxkVmlldyhwYXJlbnQsIGNoaWxkVmlld3MpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmlldywgaW5kZXgpIHtcbiAgICAgIGlmICh0eXBlb2YgaW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNoaWxkVmlld3Muc3BsaWNlKGluZGV4LCAwLCB2aWV3KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkVmlld3MucHVzaCh2aWV3KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgcmVtb3ZlQ2hpbGRWaWV3ID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGRWaWV3KHBhcmVudCwgY2hpbGRWaWV3cykge1xuICAgIHJldHVybiBmdW5jdGlvbih2aWV3KSB7XG4gICAgICAvLyByZW1vdmUgZnJvbSBjaGlsZCB2aWV3c1xuICAgICAgY2hpbGRWaWV3cy5zcGxpY2UoY2hpbGRWaWV3cy5pbmRleE9mKHZpZXcpLCAxKTtcblxuICAgICAgLy8gcmVtb3ZlIHRoZSBlbGVtZW50XG4gICAgICBpZiAodmlldy5lbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHZpZXcuZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2aWV3O1xuICAgIH07XG4gIH07XG5cbiAgdmFyIElTX0JST1dTRVIgPSAoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG4gICAgKTtcbiAgfSkoKTtcbiAgdmFyIGlzQnJvd3NlciA9IGZ1bmN0aW9uIGlzQnJvd3NlcigpIHtcbiAgICByZXR1cm4gSVNfQlJPV1NFUjtcbiAgfTtcblxuICB2YXIgdGVzdEVsZW1lbnQgPSBpc0Jyb3dzZXIoKSA/IGNyZWF0ZUVsZW1lbnQoJ3N2ZycpIDoge307XG4gIHZhciBnZXRDaGlsZENvdW50ID1cbiAgICAnY2hpbGRyZW4nIGluIHRlc3RFbGVtZW50XG4gICAgICA/IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIGVsLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgOiBmdW5jdGlvbihlbCkge1xuICAgICAgICAgIHJldHVybiBlbC5jaGlsZE5vZGVzLmxlbmd0aDtcbiAgICAgICAgfTtcblxuICB2YXIgZ2V0Vmlld1JlY3QgPSBmdW5jdGlvbiBnZXRWaWV3UmVjdChcbiAgICBlbGVtZW50UmVjdCxcbiAgICBjaGlsZFZpZXdzLFxuICAgIG9mZnNldCxcbiAgICBzY2FsZVxuICApIHtcbiAgICB2YXIgbGVmdCA9IG9mZnNldFswXSB8fCBlbGVtZW50UmVjdC5sZWZ0O1xuICAgIHZhciB0b3AgPSBvZmZzZXRbMV0gfHwgZWxlbWVudFJlY3QudG9wO1xuICAgIHZhciByaWdodCA9IGxlZnQgKyBlbGVtZW50UmVjdC53aWR0aDtcbiAgICB2YXIgYm90dG9tID0gdG9wICsgZWxlbWVudFJlY3QuaGVpZ2h0ICogKHNjYWxlWzFdIHx8IDEpO1xuXG4gICAgdmFyIHJlY3QgPSB7XG4gICAgICAvLyB0aGUgcmVjdGFuZ2xlIG9mIHRoZSBlbGVtZW50IGl0c2VsZlxuICAgICAgZWxlbWVudDogT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudFJlY3QpLFxuXG4gICAgICAvLyB0aGUgcmVjdGFuZ2xlIG9mIHRoZSBlbGVtZW50IGV4cGFuZGVkIHRvIGNvbnRhaW4gaXRzIGNoaWxkcmVuLCBkb2VzIG5vdCBpbmNsdWRlIGFueSBtYXJnaW5zXG4gICAgICBpbm5lcjoge1xuICAgICAgICBsZWZ0OiBlbGVtZW50UmVjdC5sZWZ0LFxuICAgICAgICB0b3A6IGVsZW1lbnRSZWN0LnRvcCxcbiAgICAgICAgcmlnaHQ6IGVsZW1lbnRSZWN0LnJpZ2h0LFxuICAgICAgICBib3R0b206IGVsZW1lbnRSZWN0LmJvdHRvbVxuICAgICAgfSxcblxuICAgICAgLy8gdGhlIHJlY3RhbmdsZSBvZiB0aGUgZWxlbWVudCBleHBhbmRlZCB0byBjb250YWluIGl0cyBjaGlsZHJlbiBpbmNsdWRpbmcgb3duIG1hcmdpbiBhbmQgY2hpbGQgbWFyZ2luc1xuICAgICAgLy8gbWFyZ2lucyB3aWxsIGJlIGFkZGVkIGFmdGVyIHdlJ3ZlIHJlY2FsY3VsYXRlZCB0aGUgc2l6ZVxuICAgICAgb3V0ZXI6IHtcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIHJpZ2h0OiByaWdodCxcbiAgICAgICAgYm90dG9tOiBib3R0b21cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gZXhwYW5kIHJlY3QgdG8gZml0IGFsbCBjaGlsZCByZWN0YW5nbGVzXG4gICAgY2hpbGRWaWV3c1xuICAgICAgLmZpbHRlcihmdW5jdGlvbihjaGlsZFZpZXcpIHtcbiAgICAgICAgcmV0dXJuICFjaGlsZFZpZXcuaXNSZWN0SWdub3JlZCgpO1xuICAgICAgfSlcbiAgICAgIC5tYXAoZnVuY3Rpb24oY2hpbGRWaWV3KSB7XG4gICAgICAgIHJldHVybiBjaGlsZFZpZXcucmVjdDtcbiAgICAgIH0pXG4gICAgICAuZm9yRWFjaChmdW5jdGlvbihjaGlsZFZpZXdSZWN0KSB7XG4gICAgICAgIGV4cGFuZFJlY3QocmVjdC5pbm5lciwgT2JqZWN0LmFzc2lnbih7fSwgY2hpbGRWaWV3UmVjdC5pbm5lcikpO1xuICAgICAgICBleHBhbmRSZWN0KHJlY3Qub3V0ZXIsIE9iamVjdC5hc3NpZ24oe30sIGNoaWxkVmlld1JlY3Qub3V0ZXIpKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gY2FsY3VsYXRlIGlubmVyIHdpZHRoIGFuZCBoZWlnaHRcbiAgICBjYWxjdWxhdGVSZWN0U2l6ZShyZWN0LmlubmVyKTtcblxuICAgIC8vIGFwcGVuZCBhZGRpdGlvbmFsIG1hcmdpbiAodG9wIGFuZCBsZWZ0IG1hcmdpbnMgYXJlIGluY2x1ZGVkIGluIHRvcCBhbmQgbGVmdCBhdXRvbWF0aWNhbGx5KVxuICAgIHJlY3Qub3V0ZXIuYm90dG9tICs9IHJlY3QuZWxlbWVudC5tYXJnaW5Cb3R0b207XG4gICAgcmVjdC5vdXRlci5yaWdodCArPSByZWN0LmVsZW1lbnQubWFyZ2luUmlnaHQ7XG5cbiAgICAvLyBjYWxjdWxhdGUgb3V0ZXIgd2lkdGggYW5kIGhlaWdodFxuICAgIGNhbGN1bGF0ZVJlY3RTaXplKHJlY3Qub3V0ZXIpO1xuXG4gICAgcmV0dXJuIHJlY3Q7XG4gIH07XG5cbiAgdmFyIGV4cGFuZFJlY3QgPSBmdW5jdGlvbiBleHBhbmRSZWN0KHBhcmVudCwgY2hpbGQpIHtcbiAgICAvLyBhZGp1c3QgZm9yIHBhcmVudCBvZmZzZXRcbiAgICBjaGlsZC50b3AgKz0gcGFyZW50LnRvcDtcbiAgICBjaGlsZC5yaWdodCArPSBwYXJlbnQubGVmdDtcbiAgICBjaGlsZC5ib3R0b20gKz0gcGFyZW50LnRvcDtcbiAgICBjaGlsZC5sZWZ0ICs9IHBhcmVudC5sZWZ0O1xuXG4gICAgaWYgKGNoaWxkLmJvdHRvbSA+IHBhcmVudC5ib3R0b20pIHtcbiAgICAgIHBhcmVudC5ib3R0b20gPSBjaGlsZC5ib3R0b207XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkLnJpZ2h0ID4gcGFyZW50LnJpZ2h0KSB7XG4gICAgICBwYXJlbnQucmlnaHQgPSBjaGlsZC5yaWdodDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNhbGN1bGF0ZVJlY3RTaXplID0gZnVuY3Rpb24gY2FsY3VsYXRlUmVjdFNpemUocmVjdCkge1xuICAgIHJlY3Qud2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0O1xuICAgIHJlY3QuaGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcDtcbiAgfTtcblxuICB2YXIgaXNOdW1iZXIgPSBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHBvc2l0aW9uIGlzIGF0IGRlc3RpbmF0aW9uXG4gICAqIEBwYXJhbSBwb3NpdGlvblxuICAgKiBAcGFyYW0gZGVzdGluYXRpb25cbiAgICogQHBhcmFtIHZlbG9jaXR5XG4gICAqIEBwYXJhbSBlcnJvck1hcmdpblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHZhciB0aGVyZVlldCA9IGZ1bmN0aW9uIHRoZXJlWWV0KHBvc2l0aW9uLCBkZXN0aW5hdGlvbiwgdmVsb2NpdHkpIHtcbiAgICB2YXIgZXJyb3JNYXJnaW4gPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwLjAwMTtcbiAgICByZXR1cm4gKFxuICAgICAgTWF0aC5hYnMocG9zaXRpb24gLSBkZXN0aW5hdGlvbikgPCBlcnJvck1hcmdpbiAmJlxuICAgICAgTWF0aC5hYnModmVsb2NpdHkpIDwgZXJyb3JNYXJnaW5cbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcHJpbmcgYW5pbWF0aW9uXG4gICAqL1xuICB2YXIgc3ByaW5nID1cbiAgICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgICBmdW5jdGlvbiBzcHJpbmcoKSAvLyBtZXRob2QgZGVmaW5pdGlvblxuICAgIHtcbiAgICAgIHZhciBfcmVmID1cbiAgICAgICAgICBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBhcmd1bWVudHNbMF1cbiAgICAgICAgICAgIDoge30sXG4gICAgICAgIF9yZWYkc3RpZmZuZXNzID0gX3JlZi5zdGlmZm5lc3MsXG4gICAgICAgIHN0aWZmbmVzcyA9IF9yZWYkc3RpZmZuZXNzID09PSB2b2lkIDAgPyAwLjUgOiBfcmVmJHN0aWZmbmVzcyxcbiAgICAgICAgX3JlZiRkYW1waW5nID0gX3JlZi5kYW1waW5nLFxuICAgICAgICBkYW1waW5nID0gX3JlZiRkYW1waW5nID09PSB2b2lkIDAgPyAwLjc1IDogX3JlZiRkYW1waW5nLFxuICAgICAgICBfcmVmJG1hc3MgPSBfcmVmLm1hc3MsXG4gICAgICAgIG1hc3MgPSBfcmVmJG1hc3MgPT09IHZvaWQgMCA/IDEwIDogX3JlZiRtYXNzO1xuICAgICAgdmFyIHRhcmdldCA9IG51bGw7XG4gICAgICB2YXIgcG9zaXRpb24gPSBudWxsO1xuICAgICAgdmFyIHZlbG9jaXR5ID0gMDtcbiAgICAgIHZhciByZXN0aW5nID0gZmFsc2U7XG5cbiAgICAgIC8vIHVwZGF0ZXMgc3ByaW5nIHN0YXRlXG4gICAgICB2YXIgaW50ZXJwb2xhdGUgPSBmdW5jdGlvbiBpbnRlcnBvbGF0ZSh0cywgc2tpcFRvRW5kU3RhdGUpIHtcbiAgICAgICAgLy8gaW4gcmVzdCwgZG9uJ3QgYW5pbWF0ZVxuICAgICAgICBpZiAocmVzdGluZykgcmV0dXJuO1xuXG4gICAgICAgIC8vIG5lZWQgYXQgbGVhc3QgYSB0YXJnZXQgb3IgcG9zaXRpb24gdG8gZG8gc3ByaW5neSB0aGluZ3NcbiAgICAgICAgaWYgKCEoaXNOdW1iZXIodGFyZ2V0KSAmJiBpc051bWJlcihwb3NpdGlvbikpKSB7XG4gICAgICAgICAgcmVzdGluZyA9IHRydWU7XG4gICAgICAgICAgdmVsb2NpdHkgPSAwO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBzcHJpbmcgZm9yY2VcbiAgICAgICAgdmFyIGYgPSAtKHBvc2l0aW9uIC0gdGFyZ2V0KSAqIHN0aWZmbmVzcztcblxuICAgICAgICAvLyB1cGRhdGUgdmVsb2NpdHkgYnkgYWRkaW5nIGZvcmNlIGJhc2VkIG9uIG1hc3NcbiAgICAgICAgdmVsb2NpdHkgKz0gZiAvIG1hc3M7XG5cbiAgICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uIGJ5IGFkZGluZyB2ZWxvY2l0eVxuICAgICAgICBwb3NpdGlvbiArPSB2ZWxvY2l0eTtcblxuICAgICAgICAvLyBzbG93IGRvd24gYmFzZWQgb24gYW1vdW50IG9mIGRhbXBpbmdcbiAgICAgICAgdmVsb2NpdHkgKj0gZGFtcGluZztcblxuICAgICAgICAvLyB3ZSd2ZSBhcnJpdmVkIGlmIHdlJ3JlIG5lYXIgdGFyZ2V0IGFuZCBvdXIgdmVsb2NpdHkgaXMgbmVhciB6ZXJvXG4gICAgICAgIGlmICh0aGVyZVlldChwb3NpdGlvbiwgdGFyZ2V0LCB2ZWxvY2l0eSkgfHwgc2tpcFRvRW5kU3RhdGUpIHtcbiAgICAgICAgICBwb3NpdGlvbiA9IHRhcmdldDtcbiAgICAgICAgICB2ZWxvY2l0eSA9IDA7XG4gICAgICAgICAgcmVzdGluZyA9IHRydWU7XG5cbiAgICAgICAgICAvLyB3ZSBkb25lXG4gICAgICAgICAgYXBpLm9udXBkYXRlKHBvc2l0aW9uKTtcbiAgICAgICAgICBhcGkub25jb21wbGV0ZShwb3NpdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcHJvZ3Jlc3MgdXBkYXRlXG4gICAgICAgICAgYXBpLm9udXBkYXRlKHBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBTZXQgbmV3IHRhcmdldCB2YWx1ZVxuICAgICAgICogQHBhcmFtIHZhbHVlXG4gICAgICAgKi9cbiAgICAgIHZhciBzZXRUYXJnZXQgPSBmdW5jdGlvbiBzZXRUYXJnZXQodmFsdWUpIHtcbiAgICAgICAgLy8gaWYgY3VycmVudGx5IGhhcyBubyBwb3NpdGlvbiwgc2V0IHRhcmdldCBhbmQgcG9zaXRpb24gdG8gdGhpcyB2YWx1ZVxuICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWUpICYmICFpc051bWJlcihwb3NpdGlvbikpIHtcbiAgICAgICAgICBwb3NpdGlvbiA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmV4dCB0YXJnZXQgdmFsdWUgd2lsbCBub3QgYmUgYW5pbWF0ZWQgdG9cbiAgICAgICAgaWYgKHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRhcmdldCA9IHZhbHVlO1xuICAgICAgICAgIHBvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXQgc3RhcnQgbW92aW5nIHRvIHRhcmdldFxuICAgICAgICB0YXJnZXQgPSB2YWx1ZTtcblxuICAgICAgICAvLyBhbHJlYWR5IGF0IHRhcmdldFxuICAgICAgICBpZiAocG9zaXRpb24gPT09IHRhcmdldCB8fCB0eXBlb2YgdGFyZ2V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIC8vIG5vdyByZXN0aW5nIGFzIHRhcmdldCBpcyBjdXJyZW50IHBvc2l0aW9uLCBzdG9wIG1vdmluZ1xuICAgICAgICAgIHJlc3RpbmcgPSB0cnVlO1xuICAgICAgICAgIHZlbG9jaXR5ID0gMDtcblxuICAgICAgICAgIC8vIGRvbmUhXG4gICAgICAgICAgYXBpLm9udXBkYXRlKHBvc2l0aW9uKTtcbiAgICAgICAgICBhcGkub25jb21wbGV0ZShwb3NpdGlvbik7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXN0aW5nID0gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICAvLyBuZWVkICdhcGknIHRvIGNhbGwgb251cGRhdGUgY2FsbGJhY2tcbiAgICAgIHZhciBhcGkgPSBjcmVhdGVPYmplY3Qoe1xuICAgICAgICBpbnRlcnBvbGF0ZTogaW50ZXJwb2xhdGUsXG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIHNldDogc2V0VGFyZ2V0LFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzdGluZzoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3Rpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9udXBkYXRlOiBmdW5jdGlvbiBvbnVwZGF0ZSh2YWx1ZSkge30sXG4gICAgICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uIG9uY29tcGxldGUodmFsdWUpIHt9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGFwaTtcbiAgICB9O1xuXG4gIHZhciBlYXNlTGluZWFyID0gZnVuY3Rpb24gZWFzZUxpbmVhcih0KSB7XG4gICAgcmV0dXJuIHQ7XG4gIH07XG4gIHZhciBlYXNlSW5PdXRRdWFkID0gZnVuY3Rpb24gZWFzZUluT3V0UXVhZCh0KSB7XG4gICAgcmV0dXJuIHQgPCAwLjUgPyAyICogdCAqIHQgOiAtMSArICg0IC0gMiAqIHQpICogdDtcbiAgfTtcblxuICB2YXIgdHdlZW4gPVxuICAgIC8vIGRlZmF1bHQgdmFsdWVzXG4gICAgZnVuY3Rpb24gdHdlZW4oKSAvLyBtZXRob2QgZGVmaW5pdGlvblxuICAgIHtcbiAgICAgIHZhciBfcmVmID1cbiAgICAgICAgICBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBhcmd1bWVudHNbMF1cbiAgICAgICAgICAgIDoge30sXG4gICAgICAgIF9yZWYkZHVyYXRpb24gPSBfcmVmLmR1cmF0aW9uLFxuICAgICAgICBkdXJhdGlvbiA9IF9yZWYkZHVyYXRpb24gPT09IHZvaWQgMCA/IDUwMCA6IF9yZWYkZHVyYXRpb24sXG4gICAgICAgIF9yZWYkZWFzaW5nID0gX3JlZi5lYXNpbmcsXG4gICAgICAgIGVhc2luZyA9IF9yZWYkZWFzaW5nID09PSB2b2lkIDAgPyBlYXNlSW5PdXRRdWFkIDogX3JlZiRlYXNpbmcsXG4gICAgICAgIF9yZWYkZGVsYXkgPSBfcmVmLmRlbGF5LFxuICAgICAgICBkZWxheSA9IF9yZWYkZGVsYXkgPT09IHZvaWQgMCA/IDAgOiBfcmVmJGRlbGF5O1xuICAgICAgdmFyIHN0YXJ0ID0gbnVsbDtcbiAgICAgIHZhciB0O1xuICAgICAgdmFyIHA7XG4gICAgICB2YXIgcmVzdGluZyA9IHRydWU7XG4gICAgICB2YXIgcmV2ZXJzZSA9IGZhbHNlO1xuICAgICAgdmFyIHRhcmdldCA9IG51bGw7XG5cbiAgICAgIHZhciBpbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uIGludGVycG9sYXRlKHRzLCBza2lwVG9FbmRTdGF0ZSkge1xuICAgICAgICBpZiAocmVzdGluZyB8fCB0YXJnZXQgPT09IG51bGwpIHJldHVybjtcblxuICAgICAgICBpZiAoc3RhcnQgPT09IG51bGwpIHtcbiAgICAgICAgICBzdGFydCA9IHRzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRzIC0gc3RhcnQgPCBkZWxheSkgcmV0dXJuO1xuXG4gICAgICAgIHQgPSB0cyAtIHN0YXJ0IC0gZGVsYXk7XG5cbiAgICAgICAgaWYgKHQgPj0gZHVyYXRpb24gfHwgc2tpcFRvRW5kU3RhdGUpIHtcbiAgICAgICAgICB0ID0gMTtcbiAgICAgICAgICBwID0gcmV2ZXJzZSA/IDAgOiAxO1xuICAgICAgICAgIGFwaS5vbnVwZGF0ZShwICogdGFyZ2V0KTtcbiAgICAgICAgICBhcGkub25jb21wbGV0ZShwICogdGFyZ2V0KTtcbiAgICAgICAgICByZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwID0gdCAvIGR1cmF0aW9uO1xuICAgICAgICAgIGFwaS5vbnVwZGF0ZSgodCA+PSAwID8gZWFzaW5nKHJldmVyc2UgPyAxIC0gcCA6IHApIDogMCkgKiB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBuZWVkICdhcGknIHRvIGNhbGwgb251cGRhdGUgY2FsbGJhY2tcbiAgICAgIHZhciBhcGkgPSBjcmVhdGVPYmplY3Qoe1xuICAgICAgICBpbnRlcnBvbGF0ZTogaW50ZXJwb2xhdGUsXG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJldmVyc2UgPyAwIDogdGFyZ2V0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgIC8vIGlzIGluaXRpYWwgdmFsdWVcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgICAgICAgIGFwaS5vbnVwZGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIGFwaS5vbmNvbXBsZXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3YW50IHRvIHR3ZWVuIHRvIGEgc21hbGxlciB2YWx1ZSBhbmQgaGF2ZSBhIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IHRhcmdldCkge1xuICAgICAgICAgICAgICB0YXJnZXQgPSAxO1xuICAgICAgICAgICAgICByZXZlcnNlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIG5vdCB0d2VlbmluZyB0byBhIHNtYWxsZXIgdmFsdWVcbiAgICAgICAgICAgICAgcmV2ZXJzZSA9IGZhbHNlO1xuICAgICAgICAgICAgICB0YXJnZXQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbGV0J3MgZ28hXG4gICAgICAgICAgICByZXN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBzdGFydCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHJlc3Rpbmc6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN0aW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBvbnVwZGF0ZTogZnVuY3Rpb24gb251cGRhdGUodmFsdWUpIHt9LFxuICAgICAgICBvbmNvbXBsZXRlOiBmdW5jdGlvbiBvbmNvbXBsZXRlKHZhbHVlKSB7fVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBhcGk7XG4gICAgfTtcblxuICB2YXIgYW5pbWF0b3IgPSB7XG4gICAgc3ByaW5nOiBzcHJpbmcsXG4gICAgdHdlZW46IHR3ZWVuXG4gIH07XG5cbiAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiAnc3ByaW5nJywgc3RpZmZuZXNzOiAuNSwgZGFtcGluZzogLjc1LCBtYXNzOiAxMCB9O1xuICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zbGF0aW9uOiB7IHR5cGU6ICdzcHJpbmcnLCAuLi4gfSwgLi4uIH1cbiAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2xhdGlvbjogeyB4OiB7IHR5cGU6ICdzcHJpbmcnLCAuLi4gfSB9IH1cbiAgICAgICAgICAgICAgICAgICAgICAqL1xuICB2YXIgY3JlYXRlQW5pbWF0b3IgPSBmdW5jdGlvbiBjcmVhdGVBbmltYXRvcihkZWZpbml0aW9uLCBjYXRlZ29yeSwgcHJvcGVydHkpIHtcbiAgICAvLyBkZWZhdWx0IGlzIHNpbmdsZSBkZWZpbml0aW9uXG4gICAgLy8gd2UgY2hlY2sgaWYgdHJhbnNmb3JtIGlzIHNldCwgaWYgc28sIHdlIGNoZWNrIGlmIHByb3BlcnR5IGlzIHNldFxuICAgIHZhciBkZWYgPVxuICAgICAgZGVmaW5pdGlvbltjYXRlZ29yeV0gJiYgdHlwZW9mIGRlZmluaXRpb25bY2F0ZWdvcnldW3Byb3BlcnR5XSA9PT0gJ29iamVjdCdcbiAgICAgICAgPyBkZWZpbml0aW9uW2NhdGVnb3J5XVtwcm9wZXJ0eV1cbiAgICAgICAgOiBkZWZpbml0aW9uW2NhdGVnb3J5XSB8fCBkZWZpbml0aW9uO1xuXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgZGVmID09PSAnc3RyaW5nJyA/IGRlZiA6IGRlZi50eXBlO1xuICAgIHZhciBwcm9wcyA9IHR5cGVvZiBkZWYgPT09ICdvYmplY3QnID8gT2JqZWN0LmFzc2lnbih7fSwgZGVmKSA6IHt9O1xuXG4gICAgcmV0dXJuIGFuaW1hdG9yW3R5cGVdID8gYW5pbWF0b3JbdHlwZV0ocHJvcHMpIDogbnVsbDtcbiAgfTtcblxuICB2YXIgYWRkR2V0U2V0ID0gZnVuY3Rpb24gYWRkR2V0U2V0KGtleXMsIG9iaiwgcHJvcHMpIHtcbiAgICB2YXIgb3ZlcndyaXRlID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG4gICAgb2JqID0gQXJyYXkuaXNBcnJheShvYmopID8gb2JqIDogW29ial07XG4gICAgb2JqLmZvckVhY2goZnVuY3Rpb24obykge1xuICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICB2YXIgbmFtZSA9IGtleTtcbiAgICAgICAgdmFyIGdldHRlciA9IGZ1bmN0aW9uIGdldHRlcigpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHNldHRlciA9IGZ1bmN0aW9uIHNldHRlcih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiAocHJvcHNba2V5XSA9IHZhbHVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBuYW1lID0ga2V5LmtleTtcbiAgICAgICAgICBnZXR0ZXIgPSBrZXkuZ2V0dGVyIHx8IGdldHRlcjtcbiAgICAgICAgICBzZXR0ZXIgPSBrZXkuc2V0dGVyIHx8IHNldHRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvW25hbWVdICYmICFvdmVyd3JpdGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBvW25hbWVdID0ge1xuICAgICAgICAgIGdldDogZ2V0dGVyLFxuICAgICAgICAgIHNldDogc2V0dGVyXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBhZGQgdG8gc3RhdGUsXG4gIC8vIGFkZCBnZXR0ZXJzIGFuZCBzZXR0ZXJzIHRvIGludGVybmFsIGFuZCBleHRlcm5hbCBhcGkgKGlmIG5vdCBzZXQpXG4gIC8vIHNldHVwIGFuaW1hdG9yc1xuXG4gIHZhciBhbmltYXRpb25zID0gZnVuY3Rpb24gYW5pbWF0aW9ucyhfcmVmKSB7XG4gICAgdmFyIG1peGluQ29uZmlnID0gX3JlZi5taXhpbkNvbmZpZyxcbiAgICAgIHZpZXdQcm9wcyA9IF9yZWYudmlld1Byb3BzLFxuICAgICAgdmlld0ludGVybmFsQVBJID0gX3JlZi52aWV3SW50ZXJuYWxBUEksXG4gICAgICB2aWV3RXh0ZXJuYWxBUEkgPSBfcmVmLnZpZXdFeHRlcm5hbEFQSTtcbiAgICAvLyBpbml0aWFsIHByb3BlcnRpZXNcbiAgICB2YXIgaW5pdGlhbFByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgdmlld1Byb3BzKTtcblxuICAgIC8vIGxpc3Qgb2YgYWxsIGFjdGl2ZSBhbmltYXRpb25zXG4gICAgdmFyIGFuaW1hdGlvbnMgPSBbXTtcblxuICAgIC8vIHNldHVwIGFuaW1hdG9yc1xuICAgIGZvcmluKG1peGluQ29uZmlnLCBmdW5jdGlvbihwcm9wZXJ0eSwgYW5pbWF0aW9uKSB7XG4gICAgICB2YXIgYW5pbWF0b3IgPSBjcmVhdGVBbmltYXRvcihhbmltYXRpb24pO1xuICAgICAgaWYgKCFhbmltYXRvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHdoZW4gdGhlIGFuaW1hdG9yIHVwZGF0ZXMsIHVwZGF0ZSB0aGUgdmlldyBzdGF0ZSB2YWx1ZVxuICAgICAgYW5pbWF0b3Iub251cGRhdGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2aWV3UHJvcHNbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICB9O1xuXG4gICAgICAvLyBzZXQgYW5pbWF0b3IgdGFyZ2V0XG4gICAgICBhbmltYXRvci50YXJnZXQgPSBpbml0aWFsUHJvcHNbcHJvcGVydHldO1xuXG4gICAgICAvLyB3aGVuIHZhbHVlIGlzIHNldCwgc2V0IHRoZSBhbmltYXRvciB0YXJnZXQgdmFsdWVcbiAgICAgIHZhciBwcm9wID0ge1xuICAgICAgICBrZXk6IHByb3BlcnR5LFxuICAgICAgICBzZXR0ZXI6IGZ1bmN0aW9uIHNldHRlcih2YWx1ZSkge1xuICAgICAgICAgIC8vIGlmIGFscmVhZHkgYXQgdGFyZ2V0LCB3ZSBkb25lIVxuICAgICAgICAgIGlmIChhbmltYXRvci50YXJnZXQgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYW5pbWF0b3IudGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGdldHRlcjogZnVuY3Rpb24gZ2V0dGVyKCkge1xuICAgICAgICAgIHJldHVybiB2aWV3UHJvcHNbcHJvcGVydHldO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBhZGQgZ2V0dGVycyBhbmQgc2V0dGVyc1xuICAgICAgYWRkR2V0U2V0KFtwcm9wXSwgW3ZpZXdJbnRlcm5hbEFQSSwgdmlld0V4dGVybmFsQVBJXSwgdmlld1Byb3BzLCB0cnVlKTtcblxuICAgICAgLy8gYWRkIGl0IHRvIHRoZSBsaXN0IGZvciBlYXN5IHVwZGF0aW5nIGZyb20gdGhlIF93cml0ZSBtZXRob2RcbiAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRvcik7XG4gICAgfSk7XG5cbiAgICAvLyBleHBvc2UgaW50ZXJuYWwgd3JpdGUgYXBpXG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSh0cykge1xuICAgICAgICB2YXIgc2tpcFRvRW5kU3RhdGUgPSBkb2N1bWVudC5oaWRkZW47XG4gICAgICAgIHZhciByZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGFuaW1hdGlvbikge1xuICAgICAgICAgIGlmICghYW5pbWF0aW9uLnJlc3RpbmcpIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICBhbmltYXRpb24uaW50ZXJwb2xhdGUodHMsIHNraXBUb0VuZFN0YXRlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN0aW5nO1xuICAgICAgfSxcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7fVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGFkZEV2ZW50ID0gZnVuY3Rpb24gYWRkRXZlbnQoZWxlbWVudCkge1xuICAgIHJldHVybiBmdW5jdGlvbih0eXBlLCBmbikge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciByZW1vdmVFdmVudCA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odHlwZSwgZm4pIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbik7XG4gICAgfTtcbiAgfTtcblxuICAvLyBtaXhpblxuICB2YXIgbGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKF9yZWYpIHtcbiAgICB2YXIgbWl4aW5Db25maWcgPSBfcmVmLm1peGluQ29uZmlnLFxuICAgICAgdmlld1Byb3BzID0gX3JlZi52aWV3UHJvcHMsXG4gICAgICB2aWV3SW50ZXJuYWxBUEkgPSBfcmVmLnZpZXdJbnRlcm5hbEFQSSxcbiAgICAgIHZpZXdFeHRlcm5hbEFQSSA9IF9yZWYudmlld0V4dGVybmFsQVBJLFxuICAgICAgdmlld1N0YXRlID0gX3JlZi52aWV3U3RhdGUsXG4gICAgICB2aWV3ID0gX3JlZi52aWV3O1xuICAgIHZhciBldmVudHMgPSBbXTtcblxuICAgIHZhciBhZGQgPSBhZGRFdmVudCh2aWV3LmVsZW1lbnQpO1xuICAgIHZhciByZW1vdmUgPSByZW1vdmVFdmVudCh2aWV3LmVsZW1lbnQpO1xuXG4gICAgdmlld0V4dGVybmFsQVBJLm9uID0gZnVuY3Rpb24odHlwZSwgZm4pIHtcbiAgICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgZm46IGZuXG4gICAgICB9KTtcblxuICAgICAgYWRkKHR5cGUsIGZuKTtcbiAgICB9O1xuXG4gICAgdmlld0V4dGVybmFsQVBJLm9mZiA9IGZ1bmN0aW9uKHR5cGUsIGZuKSB7XG4gICAgICBldmVudHMuc3BsaWNlKFxuICAgICAgICBldmVudHMuZmluZEluZGV4KGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50LnR5cGUgPT09IHR5cGUgJiYgZXZlbnQuZm4gPT09IGZuO1xuICAgICAgICB9KSxcbiAgICAgICAgMVxuICAgICAgKTtcblxuICAgICAgcmVtb3ZlKHR5cGUsIGZuKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHtcbiAgICAgICAgLy8gbm90IGJ1c3lcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9LFxuICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICByZW1vdmUoZXZlbnQudHlwZSwgZXZlbnQuZm4pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIGFkZCB0byBleHRlcm5hbCBhcGkgYW5kIGxpbmsgdG8gcHJvcHNcblxuICB2YXIgYXBpcyA9IGZ1bmN0aW9uIGFwaXMoX3JlZikge1xuICAgIHZhciBtaXhpbkNvbmZpZyA9IF9yZWYubWl4aW5Db25maWcsXG4gICAgICB2aWV3UHJvcHMgPSBfcmVmLnZpZXdQcm9wcyxcbiAgICAgIHZpZXdFeHRlcm5hbEFQSSA9IF9yZWYudmlld0V4dGVybmFsQVBJO1xuICAgIGFkZEdldFNldChtaXhpbkNvbmZpZywgdmlld0V4dGVybmFsQVBJLCB2aWV3UHJvcHMpO1xuICB9O1xuXG4gIHZhciBpc0RlZmluZWQgPSBmdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT0gbnVsbDtcbiAgfTtcblxuICAvLyBhZGQgdG8gc3RhdGUsXG4gIC8vIGFkZCBnZXR0ZXJzIGFuZCBzZXR0ZXJzIHRvIGludGVybmFsIGFuZCBleHRlcm5hbCBhcGkgKGlmIG5vdCBzZXQpXG4gIC8vIHNldCBpbml0aWFsIHN0YXRlIGJhc2VkIG9uIHByb3BzIGluIHZpZXdQcm9wc1xuICAvLyBhcHBseSBhcyB0cmFuc2Zvcm1zIGVhY2ggZnJhbWVcblxuICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgb3BhY2l0eTogMSxcbiAgICBzY2FsZVg6IDEsXG4gICAgc2NhbGVZOiAxLFxuICAgIHRyYW5zbGF0ZVg6IDAsXG4gICAgdHJhbnNsYXRlWTogMCxcbiAgICByb3RhdGVYOiAwLFxuICAgIHJvdGF0ZVk6IDAsXG4gICAgcm90YXRlWjogMCxcbiAgICBvcmlnaW5YOiAwLFxuICAgIG9yaWdpblk6IDBcbiAgfTtcblxuICB2YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKF9yZWYpIHtcbiAgICB2YXIgbWl4aW5Db25maWcgPSBfcmVmLm1peGluQ29uZmlnLFxuICAgICAgdmlld1Byb3BzID0gX3JlZi52aWV3UHJvcHMsXG4gICAgICB2aWV3SW50ZXJuYWxBUEkgPSBfcmVmLnZpZXdJbnRlcm5hbEFQSSxcbiAgICAgIHZpZXdFeHRlcm5hbEFQSSA9IF9yZWYudmlld0V4dGVybmFsQVBJLFxuICAgICAgdmlldyA9IF9yZWYudmlldztcbiAgICAvLyBpbml0aWFsIHByb3BzXG4gICAgdmFyIGluaXRpYWxQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIHZpZXdQcm9wcyk7XG5cbiAgICAvLyBjdXJyZW50IHByb3BzXG4gICAgdmFyIGN1cnJlbnRQcm9wcyA9IHt9O1xuXG4gICAgLy8gd2Ugd2lsbCBhZGQgdGhvc2UgcHJvcGVydGllcyB0byB0aGUgZXh0ZXJuYWwgQVBJIGFuZCBsaW5rIHRoZW0gdG8gdGhlIHZpZXdTdGF0ZVxuICAgIGFkZEdldFNldChtaXhpbkNvbmZpZywgW3ZpZXdJbnRlcm5hbEFQSSwgdmlld0V4dGVybmFsQVBJXSwgdmlld1Byb3BzKTtcblxuICAgIC8vIG92ZXJyaWRlIHJlY3Qgb24gaW50ZXJuYWwgYW5kIGV4dGVybmFsIHJlY3QgZ2V0dGVyIHNvIGl0IHRha2VzIGluIGFjY291bnQgdHJhbnNmb3Jtc1xuICAgIHZhciBnZXRPZmZzZXQgPSBmdW5jdGlvbiBnZXRPZmZzZXQoKSB7XG4gICAgICByZXR1cm4gW3ZpZXdQcm9wc1sndHJhbnNsYXRlWCddIHx8IDAsIHZpZXdQcm9wc1sndHJhbnNsYXRlWSddIHx8IDBdO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0U2NhbGUgPSBmdW5jdGlvbiBnZXRTY2FsZSgpIHtcbiAgICAgIHJldHVybiBbdmlld1Byb3BzWydzY2FsZVgnXSB8fCAwLCB2aWV3UHJvcHNbJ3NjYWxlWSddIHx8IDBdO1xuICAgIH07XG4gICAgdmFyIGdldFJlY3QgPSBmdW5jdGlvbiBnZXRSZWN0KCkge1xuICAgICAgcmV0dXJuIHZpZXcucmVjdFxuICAgICAgICA/IGdldFZpZXdSZWN0KHZpZXcucmVjdCwgdmlldy5jaGlsZFZpZXdzLCBnZXRPZmZzZXQoKSwgZ2V0U2NhbGUoKSlcbiAgICAgICAgOiBudWxsO1xuICAgIH07XG4gICAgdmlld0ludGVybmFsQVBJLnJlY3QgPSB7IGdldDogZ2V0UmVjdCB9O1xuICAgIHZpZXdFeHRlcm5hbEFQSS5yZWN0ID0geyBnZXQ6IGdldFJlY3QgfTtcblxuICAgIC8vIGFwcGx5IHZpZXcgcHJvcHNcbiAgICBtaXhpbkNvbmZpZy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmlld1Byb3BzW2tleV0gPVxuICAgICAgICB0eXBlb2YgaW5pdGlhbFByb3BzW2tleV0gPT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgPyBkZWZhdWx0c1trZXldXG4gICAgICAgICAgOiBpbml0aWFsUHJvcHNba2V5XTtcbiAgICB9KTtcblxuICAgIC8vIGV4cG9zZSBhcGlcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge1xuICAgICAgICAvLyBzZWUgaWYgcHJvcHMgaGF2ZSBjaGFuZ2VkXG4gICAgICAgIGlmICghcHJvcHNIYXZlQ2hhbmdlZChjdXJyZW50UHJvcHMsIHZpZXdQcm9wcykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3ZlcyBlbGVtZW50IHRvIGNvcnJlY3QgcG9zaXRpb24gb24gc2NyZWVuXG4gICAgICAgIGFwcGx5U3R5bGVzKHZpZXcuZWxlbWVudCwgdmlld1Byb3BzKTtcblxuICAgICAgICAvLyBzdG9yZSBuZXcgdHJhbnNmb3Jtc1xuICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnRQcm9wcywgT2JqZWN0LmFzc2lnbih7fSwgdmlld1Byb3BzKSk7XG5cbiAgICAgICAgLy8gbm8gbG9uZ2VyIGJ1c3lcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9LFxuICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHt9XG4gICAgfTtcbiAgfTtcblxuICB2YXIgcHJvcHNIYXZlQ2hhbmdlZCA9IGZ1bmN0aW9uIHByb3BzSGF2ZUNoYW5nZWQoY3VycmVudFByb3BzLCBuZXdQcm9wcykge1xuICAgIC8vIGRpZmZlcmVudCBhbW91bnQgb2Yga2V5c1xuICAgIGlmIChPYmplY3Qua2V5cyhjdXJyZW50UHJvcHMpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMobmV3UHJvcHMpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gbGV0cyBhbmFseXplIHRoZSBpbmRpdmlkdWFsIHByb3BzXG4gICAgZm9yICh2YXIgcHJvcCBpbiBuZXdQcm9wcykge1xuICAgICAgaWYgKG5ld1Byb3BzW3Byb3BdICE9PSBjdXJyZW50UHJvcHNbcHJvcF0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHZhciBhcHBseVN0eWxlcyA9IGZ1bmN0aW9uIGFwcGx5U3R5bGVzKGVsZW1lbnQsIF9yZWYyKSB7XG4gICAgdmFyIG9wYWNpdHkgPSBfcmVmMi5vcGFjaXR5LFxuICAgICAgcGVyc3BlY3RpdmUgPSBfcmVmMi5wZXJzcGVjdGl2ZSxcbiAgICAgIHRyYW5zbGF0ZVggPSBfcmVmMi50cmFuc2xhdGVYLFxuICAgICAgdHJhbnNsYXRlWSA9IF9yZWYyLnRyYW5zbGF0ZVksXG4gICAgICBzY2FsZVggPSBfcmVmMi5zY2FsZVgsXG4gICAgICBzY2FsZVkgPSBfcmVmMi5zY2FsZVksXG4gICAgICByb3RhdGVYID0gX3JlZjIucm90YXRlWCxcbiAgICAgIHJvdGF0ZVkgPSBfcmVmMi5yb3RhdGVZLFxuICAgICAgcm90YXRlWiA9IF9yZWYyLnJvdGF0ZVosXG4gICAgICBvcmlnaW5YID0gX3JlZjIub3JpZ2luWCxcbiAgICAgIG9yaWdpblkgPSBfcmVmMi5vcmlnaW5ZLFxuICAgICAgd2lkdGggPSBfcmVmMi53aWR0aCxcbiAgICAgIGhlaWdodCA9IF9yZWYyLmhlaWdodDtcblxuICAgIHZhciB0cmFuc2Zvcm1zID0gJyc7XG4gICAgdmFyIHN0eWxlcyA9ICcnO1xuXG4gICAgLy8gaGFuZGxlIHRyYW5zZm9ybSBvcmlnaW5cbiAgICBpZiAoaXNEZWZpbmVkKG9yaWdpblgpIHx8IGlzRGVmaW5lZChvcmlnaW5ZKSkge1xuICAgICAgc3R5bGVzICs9XG4gICAgICAgICd0cmFuc2Zvcm0tb3JpZ2luOiAnICsgKG9yaWdpblggfHwgMCkgKyAncHggJyArIChvcmlnaW5ZIHx8IDApICsgJ3B4Oyc7XG4gICAgfVxuXG4gICAgLy8gdHJhbnNmb3JtIG9yZGVyIGlzIHJlbGV2YW50XG4gICAgLy8gMC4gcGVyc3BlY3RpdmVcbiAgICBpZiAoaXNEZWZpbmVkKHBlcnNwZWN0aXZlKSkge1xuICAgICAgdHJhbnNmb3JtcyArPSAncGVyc3BlY3RpdmUoJyArIHBlcnNwZWN0aXZlICsgJ3B4KSAnO1xuICAgIH1cblxuICAgIC8vIDEuIHRyYW5zbGF0ZVxuICAgIGlmIChpc0RlZmluZWQodHJhbnNsYXRlWCkgfHwgaXNEZWZpbmVkKHRyYW5zbGF0ZVkpKSB7XG4gICAgICB0cmFuc2Zvcm1zICs9XG4gICAgICAgICd0cmFuc2xhdGUzZCgnICtcbiAgICAgICAgKHRyYW5zbGF0ZVggfHwgMCkgK1xuICAgICAgICAncHgsICcgK1xuICAgICAgICAodHJhbnNsYXRlWSB8fCAwKSArXG4gICAgICAgICdweCwgMCkgJztcbiAgICB9XG5cbiAgICAvLyAyLiBzY2FsZVxuICAgIGlmIChpc0RlZmluZWQoc2NhbGVYKSB8fCBpc0RlZmluZWQoc2NhbGVZKSkge1xuICAgICAgdHJhbnNmb3JtcyArPVxuICAgICAgICAnc2NhbGUzZCgnICtcbiAgICAgICAgKGlzRGVmaW5lZChzY2FsZVgpID8gc2NhbGVYIDogMSkgK1xuICAgICAgICAnLCAnICtcbiAgICAgICAgKGlzRGVmaW5lZChzY2FsZVkpID8gc2NhbGVZIDogMSkgK1xuICAgICAgICAnLCAxKSAnO1xuICAgIH1cblxuICAgIC8vIDMuIHJvdGF0ZVxuICAgIGlmIChpc0RlZmluZWQocm90YXRlWikpIHtcbiAgICAgIHRyYW5zZm9ybXMgKz0gJ3JvdGF0ZVooJyArIHJvdGF0ZVogKyAncmFkKSAnO1xuICAgIH1cblxuICAgIGlmIChpc0RlZmluZWQocm90YXRlWCkpIHtcbiAgICAgIHRyYW5zZm9ybXMgKz0gJ3JvdGF0ZVgoJyArIHJvdGF0ZVggKyAncmFkKSAnO1xuICAgIH1cblxuICAgIGlmIChpc0RlZmluZWQocm90YXRlWSkpIHtcbiAgICAgIHRyYW5zZm9ybXMgKz0gJ3JvdGF0ZVkoJyArIHJvdGF0ZVkgKyAncmFkKSAnO1xuICAgIH1cblxuICAgIC8vIGFkZCB0cmFuc2Zvcm1zXG4gICAgaWYgKHRyYW5zZm9ybXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZXMgKz0gJ3RyYW5zZm9ybTonICsgdHJhbnNmb3JtcyArICc7JztcbiAgICB9XG5cbiAgICAvLyBhZGQgb3BhY2l0eVxuICAgIGlmIChpc0RlZmluZWQob3BhY2l0eSkpIHtcbiAgICAgIHN0eWxlcyArPSAnb3BhY2l0eTonICsgb3BhY2l0eSArICc7JztcblxuICAgICAgLy8gaWYgd2UgcmVhY2ggemVybywgd2UgbWFrZSB0aGUgZWxlbWVudCBpbmFjY2Vzc2libGVcbiAgICAgIGlmIChvcGFjaXR5ID09PSAwKSB7XG4gICAgICAgIHN0eWxlcyArPSAndmlzaWJpbGl0eTpoaWRkZW47JztcbiAgICAgIH1cblxuICAgICAgLy8gaWYgd2UncmUgYmVsb3cgMTAwJSBvcGFjaXR5IHRoaXMgZWxlbWVudCBjYW4ndCBiZSBjbGlja2VkXG4gICAgICBpZiAob3BhY2l0eSA8IDEpIHtcbiAgICAgICAgc3R5bGVzICs9ICdwb2ludGVyLWV2ZW50czpub25lOyc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkIGhlaWdodFxuICAgIGlmIChpc0RlZmluZWQoaGVpZ2h0KSkge1xuICAgICAgc3R5bGVzICs9ICdoZWlnaHQ6JyArIGhlaWdodCArICdweDsnO1xuICAgIH1cblxuICAgIC8vIGFkZCB3aWR0aFxuICAgIGlmIChpc0RlZmluZWQod2lkdGgpKSB7XG4gICAgICBzdHlsZXMgKz0gJ3dpZHRoOicgKyB3aWR0aCArICdweDsnO1xuICAgIH1cblxuICAgIC8vIGFwcGx5IHN0eWxlc1xuICAgIHZhciBlbGVtZW50Q3VycmVudFN0eWxlID0gZWxlbWVudC5lbGVtZW50Q3VycmVudFN0eWxlIHx8ICcnO1xuXG4gICAgLy8gaWYgbmV3IHN0eWxlcyBkb2VzIG5vdCBtYXRjaCBjdXJyZW50IHN0eWxlcywgbGV0cyB1cGRhdGUhXG4gICAgaWYgKFxuICAgICAgc3R5bGVzLmxlbmd0aCAhPT0gZWxlbWVudEN1cnJlbnRTdHlsZS5sZW5ndGggfHxcbiAgICAgIHN0eWxlcyAhPT0gZWxlbWVudEN1cnJlbnRTdHlsZVxuICAgICkge1xuICAgICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gc3R5bGVzO1xuICAgICAgLy8gc3RvcmUgY3VycmVudCBzdHlsZXMgc28gd2UgY2FuIGNvbXBhcmUgdGhlbSB0byBuZXcgc3R5bGVzIGxhdGVyIG9uXG4gICAgICAvLyBfbm90XyBnZXR0aW5nIHRoZSBzdHlsZSB2YWx1ZSBpcyBmYXN0ZXJcbiAgICAgIGVsZW1lbnQuZWxlbWVudEN1cnJlbnRTdHlsZSA9IHN0eWxlcztcbiAgICB9XG4gIH07XG5cbiAgdmFyIE1peGlucyA9IHtcbiAgICBzdHlsZXM6IHN0eWxlcyxcbiAgICBsaXN0ZW5lcnM6IGxpc3RlbmVycyxcbiAgICBhbmltYXRpb25zOiBhbmltYXRpb25zLFxuICAgIGFwaXM6IGFwaXNcbiAgfTtcblxuICB2YXIgdXBkYXRlUmVjdCA9IGZ1bmN0aW9uIHVwZGF0ZVJlY3QoKSB7XG4gICAgdmFyIHJlY3QgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgZWxlbWVudCA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBzdHlsZSA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuXG4gICAgaWYgKCFlbGVtZW50LmxheW91dENhbGN1bGF0ZWQpIHtcbiAgICAgIHJlY3QucGFkZGluZ1RvcCA9IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdUb3AsIDEwKSB8fCAwO1xuICAgICAgcmVjdC5tYXJnaW5Ub3AgPSBwYXJzZUludChzdHlsZS5tYXJnaW5Ub3AsIDEwKSB8fCAwO1xuICAgICAgcmVjdC5tYXJnaW5SaWdodCA9IHBhcnNlSW50KHN0eWxlLm1hcmdpblJpZ2h0LCAxMCkgfHwgMDtcbiAgICAgIHJlY3QubWFyZ2luQm90dG9tID0gcGFyc2VJbnQoc3R5bGUubWFyZ2luQm90dG9tLCAxMCkgfHwgMDtcbiAgICAgIHJlY3QubWFyZ2luTGVmdCA9IHBhcnNlSW50KHN0eWxlLm1hcmdpbkxlZnQsIDEwKSB8fCAwO1xuICAgICAgZWxlbWVudC5sYXlvdXRDYWxjdWxhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZWN0LmxlZnQgPSBlbGVtZW50Lm9mZnNldExlZnQgfHwgMDtcbiAgICByZWN0LnRvcCA9IGVsZW1lbnQub2Zmc2V0VG9wIHx8IDA7XG4gICAgcmVjdC53aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGggfHwgMDtcbiAgICByZWN0LmhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8IDA7XG5cbiAgICByZWN0LnJpZ2h0ID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aDtcbiAgICByZWN0LmJvdHRvbSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQ7XG5cbiAgICByZWN0LnNjcm9sbFRvcCA9IGVsZW1lbnQuc2Nyb2xsVG9wO1xuXG4gICAgcmVjdC5oaWRkZW4gPSBlbGVtZW50Lm9mZnNldFBhcmVudCA9PT0gbnVsbDtcblxuICAgIHJldHVybiByZWN0O1xuICB9O1xuXG4gIHZhciBjcmVhdGVWaWV3ID1cbiAgICAvLyBkZWZhdWx0IHZpZXcgZGVmaW5pdGlvblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVZpZXcoKSB7XG4gICAgICB2YXIgX3JlZiA9XG4gICAgICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gYXJndW1lbnRzWzBdXG4gICAgICAgICAgICA6IHt9LFxuICAgICAgICBfcmVmJHRhZyA9IF9yZWYudGFnLFxuICAgICAgICB0YWcgPSBfcmVmJHRhZyA9PT0gdm9pZCAwID8gJ2RpdicgOiBfcmVmJHRhZyxcbiAgICAgICAgX3JlZiRuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgICBuYW1lID0gX3JlZiRuYW1lID09PSB2b2lkIDAgPyBudWxsIDogX3JlZiRuYW1lLFxuICAgICAgICBfcmVmJGF0dHJpYnV0ZXMgPSBfcmVmLmF0dHJpYnV0ZXMsXG4gICAgICAgIGF0dHJpYnV0ZXMgPSBfcmVmJGF0dHJpYnV0ZXMgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRhdHRyaWJ1dGVzLFxuICAgICAgICBfcmVmJHJlYWQgPSBfcmVmLnJlYWQsXG4gICAgICAgIHJlYWQgPSBfcmVmJHJlYWQgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmJHJlYWQsXG4gICAgICAgIF9yZWYkd3JpdGUgPSBfcmVmLndyaXRlLFxuICAgICAgICB3cml0ZSA9IF9yZWYkd3JpdGUgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmJHdyaXRlLFxuICAgICAgICBfcmVmJGNyZWF0ZSA9IF9yZWYuY3JlYXRlLFxuICAgICAgICBjcmVhdGUgPSBfcmVmJGNyZWF0ZSA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWYkY3JlYXRlLFxuICAgICAgICBfcmVmJGRlc3Ryb3kgPSBfcmVmLmRlc3Ryb3ksXG4gICAgICAgIGRlc3Ryb3kgPSBfcmVmJGRlc3Ryb3kgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmJGRlc3Ryb3ksXG4gICAgICAgIF9yZWYkZmlsdGVyRnJhbWVBY3RpbyA9IF9yZWYuZmlsdGVyRnJhbWVBY3Rpb25zRm9yQ2hpbGQsXG4gICAgICAgIGZpbHRlckZyYW1lQWN0aW9uc0ZvckNoaWxkID1cbiAgICAgICAgICBfcmVmJGZpbHRlckZyYW1lQWN0aW8gPT09IHZvaWQgMFxuICAgICAgICAgICAgPyBmdW5jdGlvbihjaGlsZCwgYWN0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb25zO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9yZWYkZmlsdGVyRnJhbWVBY3RpbyxcbiAgICAgICAgX3JlZiRkaWRDcmVhdGVWaWV3ID0gX3JlZi5kaWRDcmVhdGVWaWV3LFxuICAgICAgICBkaWRDcmVhdGVWaWV3ID1cbiAgICAgICAgICBfcmVmJGRpZENyZWF0ZVZpZXcgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmJGRpZENyZWF0ZVZpZXcsXG4gICAgICAgIF9yZWYkZGlkV3JpdGVWaWV3ID0gX3JlZi5kaWRXcml0ZVZpZXcsXG4gICAgICAgIGRpZFdyaXRlVmlldyA9XG4gICAgICAgICAgX3JlZiRkaWRXcml0ZVZpZXcgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmJGRpZFdyaXRlVmlldyxcbiAgICAgICAgX3JlZiRpZ25vcmVSZWN0ID0gX3JlZi5pZ25vcmVSZWN0LFxuICAgICAgICBpZ25vcmVSZWN0ID0gX3JlZiRpZ25vcmVSZWN0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkaWdub3JlUmVjdCxcbiAgICAgICAgX3JlZiRpZ25vcmVSZWN0VXBkYXRlID0gX3JlZi5pZ25vcmVSZWN0VXBkYXRlLFxuICAgICAgICBpZ25vcmVSZWN0VXBkYXRlID1cbiAgICAgICAgICBfcmVmJGlnbm9yZVJlY3RVcGRhdGUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRpZ25vcmVSZWN0VXBkYXRlLFxuICAgICAgICBfcmVmJG1peGlucyA9IF9yZWYubWl4aW5zLFxuICAgICAgICBtaXhpbnMgPSBfcmVmJG1peGlucyA9PT0gdm9pZCAwID8gW10gOiBfcmVmJG1peGlucztcbiAgICAgIHJldHVybiBmdW5jdGlvbihcbiAgICAgICAgLy8gZWFjaCB2aWV3IHJlcXVpcmVzIHJlZmVyZW5jZSB0byBzdG9yZVxuICAgICAgICBzdG9yZVxuICAgICAgKSB7XG4gICAgICAgIHZhciBwcm9wcyA9XG4gICAgICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gYXJndW1lbnRzWzFdXG4gICAgICAgICAgICA6IHt9O1xuICAgICAgICAvLyByb290IGVsZW1lbnQgc2hvdWxkIG5vdCBiZSBjaGFuZ2VkXG4gICAgICAgIHZhciBlbGVtZW50ID0gY3JlYXRlRWxlbWVudCh0YWcsICdmaWxlcG9uZC0tJyArIG5hbWUsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIC8vIHN0eWxlIHJlZmVyZW5jZSBzaG91bGQgYWxzbyBub3QgYmUgY2hhbmdlZFxuICAgICAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcblxuICAgICAgICAvLyBlbGVtZW50IHJlY3RhbmdsZVxuICAgICAgICB2YXIgcmVjdCA9IHVwZGF0ZVJlY3QoKTtcbiAgICAgICAgdmFyIGZyYW1lUmVjdCA9IG51bGw7XG5cbiAgICAgICAgLy8gcmVzdCBzdGF0ZVxuICAgICAgICB2YXIgaXNSZXN0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgLy8gcHJldHR5IHNlbGYgZXhwbGFuYXRvcnlcbiAgICAgICAgdmFyIGNoaWxkVmlld3MgPSBbXTtcblxuICAgICAgICAvLyBsb2FkZWQgbWl4aW5zXG4gICAgICAgIHZhciBhY3RpdmVNaXhpbnMgPSBbXTtcblxuICAgICAgICAvLyByZWZlcmVuY2VzIHRvIGNyZWF0ZWQgY2hpbGRyZW5cbiAgICAgICAgdmFyIHJlZiA9IHt9O1xuXG4gICAgICAgIC8vIHN0YXRlIHVzZWQgZm9yIGVhY2ggaW5zdGFuY2VcbiAgICAgICAgdmFyIHN0YXRlID0ge307XG5cbiAgICAgICAgLy8gbGlzdCBvZiB3cml0ZXJzIHRoYXQgd2lsbCBiZSBjYWxsZWQgdG8gdXBkYXRlIHRoaXMgdmlld1xuICAgICAgICB2YXIgd3JpdGVycyA9IFtcbiAgICAgICAgICB3cml0ZSAvLyBkZWZhdWx0IHdyaXRlclxuICAgICAgICBdO1xuXG4gICAgICAgIHZhciByZWFkZXJzID0gW1xuICAgICAgICAgIHJlYWQgLy8gZGVmYXVsdCByZWFkZXJcbiAgICAgICAgXTtcblxuICAgICAgICB2YXIgZGVzdHJveWVycyA9IFtcbiAgICAgICAgICBkZXN0cm95IC8vIGRlZmF1bHQgZGVzdHJveVxuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGNvcmUgdmlldyBtZXRob2RzXG4gICAgICAgIHZhciBnZXRFbGVtZW50ID0gZnVuY3Rpb24gZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGdldENoaWxkVmlld3MgPSBmdW5jdGlvbiBnZXRDaGlsZFZpZXdzKCkge1xuICAgICAgICAgIHJldHVybiBjaGlsZFZpZXdzLmNvbmNhdCgpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2V0UmVmZXJlbmNlID0gZnVuY3Rpb24gZ2V0UmVmZXJlbmNlKCkge1xuICAgICAgICAgIHJldHVybiByZWY7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjcmVhdGVDaGlsZFZpZXcgPSBmdW5jdGlvbiBjcmVhdGVDaGlsZFZpZXcoc3RvcmUpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odmlldywgcHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3KHN0b3JlLCBwcm9wcyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGdldFJlY3QgPSBmdW5jdGlvbiBnZXRSZWN0KCkge1xuICAgICAgICAgIGlmIChmcmFtZVJlY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBmcmFtZVJlY3Q7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZyYW1lUmVjdCA9IGdldFZpZXdSZWN0KHJlY3QsIGNoaWxkVmlld3MsIFswLCAwXSwgWzEsIDFdKTtcbiAgICAgICAgICByZXR1cm4gZnJhbWVSZWN0O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2V0U3R5bGUgPSBmdW5jdGlvbiBnZXRTdHlsZSgpIHtcbiAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlYWQgZGF0YSBmcm9tIERPTVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF9yZWFkID0gZnVuY3Rpb24gX3JlYWQoKSB7XG4gICAgICAgICAgZnJhbWVSZWN0ID0gbnVsbDtcblxuICAgICAgICAgIC8vIHJlYWQgY2hpbGQgdmlld3NcbiAgICAgICAgICBjaGlsZFZpZXdzLmZvckVhY2goZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZC5fcmVhZCgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIHNob3VsZFVwZGF0ZSA9ICEoaWdub3JlUmVjdFVwZGF0ZSAmJiByZWN0LndpZHRoICYmIHJlY3QuaGVpZ2h0KTtcbiAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgICB1cGRhdGVSZWN0KHJlY3QsIGVsZW1lbnQsIHN0eWxlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZWFkZXJzXG4gICAgICAgICAgdmFyIGFwaSA9IHsgcm9vdDogaW50ZXJuYWxBUEksIHByb3BzOiBwcm9wcywgcmVjdDogcmVjdCB9O1xuICAgICAgICAgIHJlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihyZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkZXIoYXBpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV3JpdGUgZGF0YSB0byBET01cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfd3JpdGUgPSBmdW5jdGlvbiBfd3JpdGUodHMsIGZyYW1lQWN0aW9ucywgc2hvdWxkT3B0aW1pemUpIHtcbiAgICAgICAgICAvLyBpZiBubyBhY3Rpb25zLCB3ZSBhc3N1bWUgdGhhdCB0aGUgdmlldyBpcyByZXN0aW5nXG4gICAgICAgICAgdmFyIHJlc3RpbmcgPSBmcmFtZUFjdGlvbnMubGVuZ3RoID09PSAwO1xuXG4gICAgICAgICAgLy8gd3JpdGVyc1xuICAgICAgICAgIHdyaXRlcnMuZm9yRWFjaChmdW5jdGlvbih3cml0ZXIpIHtcbiAgICAgICAgICAgIHZhciB3cml0ZXJSZXN0aW5nID0gd3JpdGVyKHtcbiAgICAgICAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICAgICAgICByb290OiBpbnRlcm5hbEFQSSxcbiAgICAgICAgICAgICAgYWN0aW9uczogZnJhbWVBY3Rpb25zLFxuICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRzLFxuICAgICAgICAgICAgICBzaG91bGRPcHRpbWl6ZTogc2hvdWxkT3B0aW1pemVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAod3JpdGVyUmVzdGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmVzdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gcnVuIG1peGluc1xuICAgICAgICAgIGFjdGl2ZU1peGlucy5mb3JFYWNoKGZ1bmN0aW9uKG1peGluKSB7XG4gICAgICAgICAgICAvLyBpZiBvbmUgb2YgdGhlIG1peGlucyBpcyBzdGlsbCBidXN5IGFmdGVyIHdyaXRlIG9wZXJhdGlvbiwgd2UgYXJlIG5vdCByZXN0aW5nXG4gICAgICAgICAgICB2YXIgbWl4aW5SZXN0aW5nID0gbWl4aW4ud3JpdGUodHMpO1xuICAgICAgICAgICAgaWYgKG1peGluUmVzdGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmVzdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gdXBkYXRlcyBjaGlsZCB2aWV3cyB0aGF0IGFyZSBjdXJyZW50bHkgYXR0YWNoZWQgdG8gdGhlIERPTVxuICAgICAgICAgIGNoaWxkVmlld3NcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICEhY2hpbGQuZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICAgIC8vIGlmIGEgY2hpbGQgdmlldyBpcyBub3QgcmVzdGluZywgd2UgYXJlIG5vdCByZXN0aW5nXG4gICAgICAgICAgICAgIHZhciBjaGlsZFJlc3RpbmcgPSBjaGlsZC5fd3JpdGUoXG4gICAgICAgICAgICAgICAgdHMsXG4gICAgICAgICAgICAgICAgZmlsdGVyRnJhbWVBY3Rpb25zRm9yQ2hpbGQoY2hpbGQsIGZyYW1lQWN0aW9ucyksXG4gICAgICAgICAgICAgICAgc2hvdWxkT3B0aW1pemVcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBpZiAoIWNoaWxkUmVzdGluZykge1xuICAgICAgICAgICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBhcHBlbmQgbmV3IGVsZW1lbnRzIHRvIERPTSBhbmQgdXBkYXRlIHRob3NlXG4gICAgICAgICAgY2hpbGRWaWV3c1xuICAgICAgICAgICAgLy8uZmlsdGVyKGNoaWxkID0+ICFjaGlsZC5lbGVtZW50LnBhcmVudE5vZGUpXG4gICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgLy8gc2tpcFxuICAgICAgICAgICAgICBpZiAoY2hpbGQuZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gYXBwZW5kIHRvIERPTVxuICAgICAgICAgICAgICBpbnRlcm5hbEFQSS5hcHBlbmRDaGlsZChjaGlsZC5lbGVtZW50LCBpbmRleCk7XG5cbiAgICAgICAgICAgICAgLy8gY2FsbCByZWFkIChuZWVkIHRvIGtub3cgdGhlIHNpemUgb2YgdGhlc2UgZWxlbWVudHMpXG4gICAgICAgICAgICAgIGNoaWxkLl9yZWFkKCk7XG5cbiAgICAgICAgICAgICAgLy8gcmUtY2FsbCB3cml0ZVxuICAgICAgICAgICAgICBjaGlsZC5fd3JpdGUoXG4gICAgICAgICAgICAgICAgdHMsXG4gICAgICAgICAgICAgICAgZmlsdGVyRnJhbWVBY3Rpb25zRm9yQ2hpbGQoY2hpbGQsIGZyYW1lQWN0aW9ucyksXG4gICAgICAgICAgICAgICAgc2hvdWxkT3B0aW1pemVcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAvLyB3ZSBqdXN0IGFkZGVkIHNvbXRoaW5nIHRvIHRoZSBkb20sIG5vIHJlc3RcbiAgICAgICAgICAgICAgcmVzdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyB1cGRhdGUgcmVzdGluZyBzdGF0ZVxuICAgICAgICAgIGlzUmVzdGluZyA9IHJlc3Rpbmc7XG5cbiAgICAgICAgICBkaWRXcml0ZVZpZXcoe1xuICAgICAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICAgICAgcm9vdDogaW50ZXJuYWxBUEksXG4gICAgICAgICAgICBhY3Rpb25zOiBmcmFtZUFjdGlvbnMsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRzXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBsZXQgcGFyZW50IGtub3cgaWYgd2UgYXJlIHJlc3RpbmdcbiAgICAgICAgICByZXR1cm4gcmVzdGluZztcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgX2Rlc3Ryb3kgPSBmdW5jdGlvbiBfZGVzdHJveSgpIHtcbiAgICAgICAgICBhY3RpdmVNaXhpbnMuZm9yRWFjaChmdW5jdGlvbihtaXhpbikge1xuICAgICAgICAgICAgcmV0dXJuIG1peGluLmRlc3Ryb3koKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkZXN0cm95ZXJzLmZvckVhY2goZnVuY3Rpb24oZGVzdHJveWVyKSB7XG4gICAgICAgICAgICBkZXN0cm95ZXIoeyByb290OiBpbnRlcm5hbEFQSSwgcHJvcHM6IHByb3BzIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNoaWxkVmlld3MuZm9yRWFjaChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkLl9kZXN0cm95KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc2hhcmVkQVBJXG4gICAgICAgIHZhciBzaGFyZWRBUElEZWZpbml0aW9uID0ge1xuICAgICAgICAgIGVsZW1lbnQ6IHtcbiAgICAgICAgICAgIGdldDogZ2V0RWxlbWVudFxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgZ2V0OiBnZXRTdHlsZVxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBjaGlsZFZpZXdzOiB7XG4gICAgICAgICAgICBnZXQ6IGdldENoaWxkVmlld3NcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gcHJpdmF0ZSBBUEkgZGVmaW5pdGlvblxuICAgICAgICB2YXIgaW50ZXJuYWxBUElEZWZpbml0aW9uID0gT2JqZWN0LmFzc2lnbih7fSwgc2hhcmVkQVBJRGVmaW5pdGlvbiwge1xuICAgICAgICAgIHJlY3Q6IHtcbiAgICAgICAgICAgIGdldDogZ2V0UmVjdFxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvLyBhY2Nlc3MgdG8gY3VzdG9tIGNoaWxkcmVuIHJlZmVyZW5jZXNcbiAgICAgICAgICByZWY6IHtcbiAgICAgICAgICAgIGdldDogZ2V0UmVmZXJlbmNlXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIC8vIGRvbSBtb2RpZmllcnNcbiAgICAgICAgICBpczogZnVuY3Rpb24gaXMobmVlZGxlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmFtZSA9PT0gbmVlZGxlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYXBwZW5kQ2hpbGQ6IGFwcGVuZENoaWxkKGVsZW1lbnQpLFxuICAgICAgICAgIGNyZWF0ZUNoaWxkVmlldzogY3JlYXRlQ2hpbGRWaWV3KHN0b3JlKSxcbiAgICAgICAgICBsaW5rVmlldzogZnVuY3Rpb24gbGlua1ZpZXcodmlldykge1xuICAgICAgICAgICAgY2hpbGRWaWV3cy5wdXNoKHZpZXcpO1xuICAgICAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB1bmxpbmtWaWV3OiBmdW5jdGlvbiB1bmxpbmtWaWV3KHZpZXcpIHtcbiAgICAgICAgICAgIGNoaWxkVmlld3Muc3BsaWNlKGNoaWxkVmlld3MuaW5kZXhPZih2aWV3KSwgMSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcHBlbmRDaGlsZFZpZXc6IGFwcGVuZENoaWxkVmlldyhlbGVtZW50LCBjaGlsZFZpZXdzKSxcbiAgICAgICAgICByZW1vdmVDaGlsZFZpZXc6IHJlbW92ZUNoaWxkVmlldyhlbGVtZW50LCBjaGlsZFZpZXdzKSxcbiAgICAgICAgICByZWdpc3RlcldyaXRlcjogZnVuY3Rpb24gcmVnaXN0ZXJXcml0ZXIod3JpdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JpdGVycy5wdXNoKHdyaXRlcik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZWdpc3RlclJlYWRlcjogZnVuY3Rpb24gcmVnaXN0ZXJSZWFkZXIocmVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZGVycy5wdXNoKHJlYWRlcik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZWdpc3RlckRlc3Ryb3llcjogZnVuY3Rpb24gcmVnaXN0ZXJEZXN0cm95ZXIoZGVzdHJveWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVzdHJveWVycy5wdXNoKGRlc3Ryb3llcik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbnZhbGlkYXRlTGF5b3V0OiBmdW5jdGlvbiBpbnZhbGlkYXRlTGF5b3V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIChlbGVtZW50LmxheW91dENhbGN1bGF0ZWQgPSBmYWxzZSk7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIC8vIGFjY2VzcyB0byBkYXRhIHN0b3JlXG4gICAgICAgICAgZGlzcGF0Y2g6IHN0b3JlLmRpc3BhdGNoLFxuICAgICAgICAgIHF1ZXJ5OiBzdG9yZS5xdWVyeVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBwdWJsaWMgdmlldyBBUEkgbWV0aG9kc1xuICAgICAgICB2YXIgZXh0ZXJuYWxBUElEZWZpbml0aW9uID0ge1xuICAgICAgICAgIGVsZW1lbnQ6IHtcbiAgICAgICAgICAgIGdldDogZ2V0RWxlbWVudFxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBjaGlsZFZpZXdzOiB7XG4gICAgICAgICAgICBnZXQ6IGdldENoaWxkVmlld3NcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgcmVjdDoge1xuICAgICAgICAgICAgZ2V0OiBnZXRSZWN0XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHJlc3Rpbmc6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICByZXR1cm4gaXNSZXN0aW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBpc1JlY3RJZ25vcmVkOiBmdW5jdGlvbiBpc1JlY3RJZ25vcmVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlnbm9yZVJlY3Q7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBfcmVhZDogX3JlYWQsXG4gICAgICAgICAgX3dyaXRlOiBfd3JpdGUsXG4gICAgICAgICAgX2Rlc3Ryb3k6IF9kZXN0cm95XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gbWl4aW4gQVBJIG1ldGhvZHNcbiAgICAgICAgdmFyIG1peGluQVBJRGVmaW5pdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIHNoYXJlZEFQSURlZmluaXRpb24sIHtcbiAgICAgICAgICByZWN0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhZGQgbWl4aW4gZnVuY3Rpb25hbGl0eVxuICAgICAgICBPYmplY3Qua2V5cyhtaXhpbnMpXG4gICAgICAgICAgLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgLy8gbW92ZSBzdHlsZXMgdG8gdGhlIGJhY2sgb2YgdGhlIG1peGluIGxpc3QgKHNvIGFkanVzdG1lbnRzIG9mIG90aGVyIG1peGlucyBhcmUgYXBwbGllZCB0byB0aGUgcHJvcHMgY29ycmVjdGx5KVxuICAgICAgICAgICAgaWYgKGEgPT09ICdzdHlsZXMnKSB7XG4gICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAnc3R5bGVzJykge1xuICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgdmFyIG1peGluQVBJID0gTWl4aW5zW2tleV0oe1xuICAgICAgICAgICAgICBtaXhpbkNvbmZpZzogbWl4aW5zW2tleV0sXG4gICAgICAgICAgICAgIHZpZXdQcm9wczogcHJvcHMsXG4gICAgICAgICAgICAgIHZpZXdTdGF0ZTogc3RhdGUsXG4gICAgICAgICAgICAgIHZpZXdJbnRlcm5hbEFQSTogaW50ZXJuYWxBUElEZWZpbml0aW9uLFxuICAgICAgICAgICAgICB2aWV3RXh0ZXJuYWxBUEk6IGV4dGVybmFsQVBJRGVmaW5pdGlvbixcbiAgICAgICAgICAgICAgdmlldzogY3JlYXRlT2JqZWN0KG1peGluQVBJRGVmaW5pdGlvbilcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAobWl4aW5BUEkpIHtcbiAgICAgICAgICAgICAgYWN0aXZlTWl4aW5zLnB1c2gobWl4aW5BUEkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNvbnN0cnVjdCBwcml2YXRlIGFwaVxuICAgICAgICB2YXIgaW50ZXJuYWxBUEkgPSBjcmVhdGVPYmplY3QoaW50ZXJuYWxBUElEZWZpbml0aW9uKTtcblxuICAgICAgICAvLyBjcmVhdGUgdGhlIHZpZXdcbiAgICAgICAgY3JlYXRlKHtcbiAgICAgICAgICByb290OiBpbnRlcm5hbEFQSSxcbiAgICAgICAgICBwcm9wczogcHJvcHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYXBwZW5kIGNyZWF0ZWQgY2hpbGQgdmlld3MgdG8gcm9vdCBub2RlXG4gICAgICAgIHZhciBjaGlsZENvdW50ID0gZ2V0Q2hpbGRDb3VudChlbGVtZW50KTsgLy8gbmVlZCB0byBrbm93IHRoZSBjdXJyZW50IGNoaWxkIGNvdW50IHNvIGFwcGVuZGluZyBoYXBwZW5zIGluIGNvcnJlY3Qgb3JkZXJcbiAgICAgICAgY2hpbGRWaWV3cy5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkLCBpbmRleCkge1xuICAgICAgICAgIGludGVybmFsQVBJLmFwcGVuZENoaWxkKGNoaWxkLmVsZW1lbnQsIGNoaWxkQ291bnQgKyBpbmRleCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNhbGwgZGlkIGNyZWF0ZVxuICAgICAgICBkaWRDcmVhdGVWaWV3KGludGVybmFsQVBJKTtcblxuICAgICAgICAvLyBleHBvc2UgcHVibGljIGFwaVxuICAgICAgICByZXR1cm4gY3JlYXRlT2JqZWN0KGV4dGVybmFsQVBJRGVmaW5pdGlvbik7XG4gICAgICB9O1xuICAgIH07XG5cbiAgdmFyIGNyZWF0ZVBhaW50ZXIgPSBmdW5jdGlvbiBjcmVhdGVQYWludGVyKHJlYWQsIHdyaXRlKSB7XG4gICAgdmFyIGZwcyA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDYwO1xuXG4gICAgdmFyIG5hbWUgPSAnX19mcmFtZVBhaW50ZXInO1xuXG4gICAgLy8gc2V0IGdsb2JhbCBwYWludGVyXG4gICAgaWYgKHdpbmRvd1tuYW1lXSkge1xuICAgICAgd2luZG93W25hbWVdLnJlYWRlcnMucHVzaChyZWFkKTtcbiAgICAgIHdpbmRvd1tuYW1lXS53cml0ZXJzLnB1c2god3JpdGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdpbmRvd1tuYW1lXSA9IHtcbiAgICAgIHJlYWRlcnM6IFtyZWFkXSxcbiAgICAgIHdyaXRlcnM6IFt3cml0ZV1cbiAgICB9O1xuXG4gICAgdmFyIHBhaW50ZXIgPSB3aW5kb3dbbmFtZV07XG5cbiAgICB2YXIgaW50ZXJ2YWwgPSAxMDAwIC8gZnBzO1xuICAgIHZhciBsYXN0ID0gbnVsbDtcbiAgICB2YXIgaWQgPSBudWxsO1xuICAgIHZhciByZXF1ZXN0VGljayA9IG51bGw7XG4gICAgdmFyIGNhbmNlbFRpY2sgPSBudWxsO1xuXG4gICAgdmFyIHNldFRpbWVyVHlwZSA9IGZ1bmN0aW9uIHNldFRpbWVyVHlwZSgpIHtcbiAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiByZXF1ZXN0VGljaygpIHtcbiAgICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGljayhwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgICAgfSwgaW50ZXJ2YWwpO1xuICAgICAgICB9O1xuICAgICAgICBjYW5jZWxUaWNrID0gZnVuY3Rpb24gY2FuY2VsVGljaygpIHtcbiAgICAgICAgICByZXR1cm4gd2luZG93LmNsZWFyVGltZW91dChpZCk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXF1ZXN0VGljayA9IGZ1bmN0aW9uIHJlcXVlc3RUaWNrKCkge1xuICAgICAgICAgIHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spO1xuICAgICAgICB9O1xuICAgICAgICBjYW5jZWxUaWNrID0gZnVuY3Rpb24gY2FuY2VsVGljaygpIHtcbiAgICAgICAgICByZXR1cm4gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGNhbmNlbFRpY2spIGNhbmNlbFRpY2soKTtcbiAgICAgIHNldFRpbWVyVHlwZSgpO1xuICAgICAgdGljayhwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgfSk7XG5cbiAgICB2YXIgdGljayA9IGZ1bmN0aW9uIHRpY2sodHMpIHtcbiAgICAgIC8vIHF1ZXVlIG5leHQgdGlja1xuICAgICAgaWQgPSByZXF1ZXN0VGljayh0aWNrKTtcblxuICAgICAgLy8gbGltaXQgZnBzXG4gICAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgbGFzdCA9IHRzO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGVsdGEgPSB0cyAtIGxhc3Q7XG5cbiAgICAgIGlmIChkZWx0YSA8PSBpbnRlcnZhbCkge1xuICAgICAgICAvLyBza2lwIGZyYW1lXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gYWxpZ24gbmV4dCBmcmFtZVxuICAgICAgbGFzdCA9IHRzIC0gKGRlbHRhICUgaW50ZXJ2YWwpO1xuXG4gICAgICAvLyB1cGRhdGUgdmlld1xuICAgICAgcGFpbnRlci5yZWFkZXJzLmZvckVhY2goZnVuY3Rpb24ocmVhZCkge1xuICAgICAgICByZXR1cm4gcmVhZCgpO1xuICAgICAgfSk7XG4gICAgICBwYWludGVyLndyaXRlcnMuZm9yRWFjaChmdW5jdGlvbih3cml0ZSkge1xuICAgICAgICByZXR1cm4gd3JpdGUodHMpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHNldFRpbWVyVHlwZSgpO1xuICAgIHRpY2socGVyZm9ybWFuY2Uubm93KCkpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdXNlOiBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgICAgY2FuY2VsVGljayhpZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICB2YXIgY3JlYXRlUm91dGUgPSBmdW5jdGlvbiBjcmVhdGVSb3V0ZShyb3V0ZXMsIGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKF9yZWYpIHtcbiAgICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgICBwcm9wcyA9IF9yZWYucHJvcHMsXG4gICAgICAgIF9yZWYkYWN0aW9ucyA9IF9yZWYuYWN0aW9ucyxcbiAgICAgICAgYWN0aW9ucyA9IF9yZWYkYWN0aW9ucyA9PT0gdm9pZCAwID8gW10gOiBfcmVmJGFjdGlvbnMsXG4gICAgICAgIHRpbWVzdGFtcCA9IF9yZWYudGltZXN0YW1wLFxuICAgICAgICBzaG91bGRPcHRpbWl6ZSA9IF9yZWYuc2hvdWxkT3B0aW1pemU7XG4gICAgICBhY3Rpb25zXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHJvdXRlc1thY3Rpb24udHlwZV07XG4gICAgICAgIH0pXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiByb3V0ZXNbYWN0aW9uLnR5cGVdKHtcbiAgICAgICAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbi5kYXRhLFxuICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICBzaG91bGRPcHRpbWl6ZTogc2hvdWxkT3B0aW1pemVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGlmIChmbikge1xuICAgICAgICBmbih7XG4gICAgICAgICAgcm9vdDogcm9vdCxcbiAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgYWN0aW9uczogYWN0aW9ucyxcbiAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCxcbiAgICAgICAgICBzaG91bGRPcHRpbWl6ZTogc2hvdWxkT3B0aW1pemVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICB2YXIgaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24gaW5zZXJ0QmVmb3JlKG5ld05vZGUsIHJlZmVyZW5jZU5vZGUpIHtcbiAgICByZXR1cm4gcmVmZXJlbmNlTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlKTtcbiAgfTtcblxuICB2YXIgaW5zZXJ0QWZ0ZXIgPSBmdW5jdGlvbiBpbnNlcnRBZnRlcihuZXdOb2RlLCByZWZlcmVuY2VOb2RlKSB7XG4gICAgcmV0dXJuIHJlZmVyZW5jZU5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoXG4gICAgICBuZXdOb2RlLFxuICAgICAgcmVmZXJlbmNlTm9kZS5uZXh0U2libGluZ1xuICAgICk7XG4gIH07XG5cbiAgdmFyIGlzQXJyYXkgPSBmdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpO1xuICB9O1xuXG4gIHZhciBpc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICB9O1xuXG4gIHZhciB0cmltID0gZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKTtcbiAgfTtcblxuICB2YXIgdG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiAnJyArIHZhbHVlO1xuICB9O1xuXG4gIHZhciB0b0FycmF5ID0gZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICAgIHZhciBzcGxpdHRlciA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcsJztcbiAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSlcbiAgICAgIC5zcGxpdChzcGxpdHRlcilcbiAgICAgIC5tYXAodHJpbSlcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIubGVuZ3RoO1xuICAgICAgfSk7XG4gIH07XG5cbiAgdmFyIGlzQm9vbGVhbiA9IGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcbiAgfTtcblxuICB2YXIgdG9Cb29sZWFuID0gZnVuY3Rpb24gdG9Cb29sZWFuKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzQm9vbGVhbih2YWx1ZSkgPyB2YWx1ZSA6IHZhbHVlID09PSAndHJ1ZSc7XG4gIH07XG5cbiAgdmFyIGlzU3RyaW5nID0gZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbiAgfTtcblxuICB2YXIgdG9OdW1iZXIgPSBmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiBpc051bWJlcih2YWx1ZSlcbiAgICAgID8gdmFsdWVcbiAgICAgIDogaXNTdHJpbmcodmFsdWUpXG4gICAgICA/IHRvU3RyaW5nKHZhbHVlKS5yZXBsYWNlKC9bYS16XSsvZ2ksICcnKVxuICAgICAgOiAwO1xuICB9O1xuXG4gIHZhciB0b0ludCA9IGZ1bmN0aW9uIHRvSW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHRvTnVtYmVyKHZhbHVlKSwgMTApO1xuICB9O1xuXG4gIHZhciB0b0Zsb2F0ID0gZnVuY3Rpb24gdG9GbG9hdCh2YWx1ZSkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KHRvTnVtYmVyKHZhbHVlKSk7XG4gIH07XG5cbiAgdmFyIGlzSW50ID0gZnVuY3Rpb24gaXNJbnQodmFsdWUpIHtcbiAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIGlzRmluaXRlKHZhbHVlKSAmJiBNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XG4gIH07XG5cbiAgdmFyIHRvQnl0ZXMgPSBmdW5jdGlvbiB0b0J5dGVzKHZhbHVlKSB7XG4gICAgLy8gaXMgaW4gYnl0ZXNcbiAgICBpZiAoaXNJbnQodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gaXMgbmF0dXJhbCBmaWxlIHNpemVcbiAgICB2YXIgbmF0dXJhbEZpbGVTaXplID0gdG9TdHJpbmcodmFsdWUpLnRyaW0oKTtcblxuICAgIC8vIGlmIGlzIHZhbHVlIGluIG1lZ2FieXRlc1xuICAgIGlmICgvTUIkL2kudGVzdChuYXR1cmFsRmlsZVNpemUpKSB7XG4gICAgICBuYXR1cmFsRmlsZVNpemUgPSBuYXR1cmFsRmlsZVNpemUucmVwbGFjZSgvTUIkaS8sICcnKS50cmltKCk7XG4gICAgICByZXR1cm4gdG9JbnQobmF0dXJhbEZpbGVTaXplKSAqIDEwMDAgKiAxMDAwO1xuICAgIH1cblxuICAgIC8vIGlmIGlzIHZhbHVlIGluIGtpbG9ieXRlc1xuICAgIGlmICgvS0IvaS50ZXN0KG5hdHVyYWxGaWxlU2l6ZSkpIHtcbiAgICAgIG5hdHVyYWxGaWxlU2l6ZSA9IG5hdHVyYWxGaWxlU2l6ZS5yZXBsYWNlKC9LQiRpLywgJycpLnRyaW0oKTtcbiAgICAgIHJldHVybiB0b0ludChuYXR1cmFsRmlsZVNpemUpICogMTAwMDtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9JbnQobmF0dXJhbEZpbGVTaXplKTtcbiAgfTtcblxuICB2YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuICB9O1xuXG4gIHZhciB0b0Z1bmN0aW9uUmVmZXJlbmNlID0gZnVuY3Rpb24gdG9GdW5jdGlvblJlZmVyZW5jZShzdHJpbmcpIHtcbiAgICB2YXIgcmVmID0gc2VsZjtcbiAgICB2YXIgbGV2ZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG4gICAgdmFyIGxldmVsID0gbnVsbDtcbiAgICB3aGlsZSAoKGxldmVsID0gbGV2ZWxzLnNoaWZ0KCkpKSB7XG4gICAgICByZWYgPSByZWZbbGV2ZWxdO1xuICAgICAgaWYgKCFyZWYpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZWY7XG4gIH07XG5cbiAgdmFyIG1ldGhvZHMgPSB7XG4gICAgcHJvY2VzczogJ1BPU1QnLFxuICAgIHBhdGNoOiAnUEFUQ0gnLFxuICAgIHJldmVydDogJ0RFTEVURScsXG4gICAgZmV0Y2g6ICdHRVQnLFxuICAgIHJlc3RvcmU6ICdHRVQnLFxuICAgIGxvYWQ6ICdHRVQnXG4gIH07XG5cbiAgdmFyIGNyZWF0ZVNlcnZlckFQSSA9IGZ1bmN0aW9uIGNyZWF0ZVNlcnZlckFQSShvdXRsaW5lKSB7XG4gICAgdmFyIGFwaSA9IHt9O1xuXG4gICAgYXBpLnVybCA9IGlzU3RyaW5nKG91dGxpbmUpID8gb3V0bGluZSA6IG91dGxpbmUudXJsIHx8ICcnO1xuICAgIGFwaS50aW1lb3V0ID0gb3V0bGluZS50aW1lb3V0ID8gcGFyc2VJbnQob3V0bGluZS50aW1lb3V0LCAxMCkgOiAwO1xuICAgIGFwaS5oZWFkZXJzID0gb3V0bGluZS5oZWFkZXJzID8gb3V0bGluZS5oZWFkZXJzIDoge307XG5cbiAgICBmb3JpbihtZXRob2RzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIGFwaVtrZXldID0gY3JlYXRlQWN0aW9uKFxuICAgICAgICBrZXksXG4gICAgICAgIG91dGxpbmVba2V5XSxcbiAgICAgICAgbWV0aG9kc1trZXldLFxuICAgICAgICBhcGkudGltZW91dCxcbiAgICAgICAgYXBpLmhlYWRlcnNcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICAvLyBzcGVjaWFsIHRyZWF0bWVudCBmb3IgcmVtb3ZlXG4gICAgYXBpLnJlbW92ZSA9IG91dGxpbmUucmVtb3ZlIHx8IG51bGw7XG5cbiAgICAvLyByZW1vdmUgZ2VuZXJpYyBoZWFkZXJzIGZyb20gYXBpIG9iamVjdFxuICAgIGRlbGV0ZSBhcGkuaGVhZGVycztcblxuICAgIHJldHVybiBhcGk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUFjdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZUFjdGlvbihcbiAgICBuYW1lLFxuICAgIG91dGxpbmUsXG4gICAgbWV0aG9kLFxuICAgIHRpbWVvdXQsXG4gICAgaGVhZGVyc1xuICApIHtcbiAgICAvLyBpcyBleHBsaWNpdGVseSBzZXQgdG8gbnVsbCBzbyBkaXNhYmxlXG4gICAgaWYgKG91dGxpbmUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIGlmIGlzIGN1c3RvbSBmdW5jdGlvbiwgZG9uZSEgRGV2IGhhbmRsZXMgZXZlcnl0aGluZy5cbiAgICBpZiAodHlwZW9mIG91dGxpbmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBvdXRsaW5lO1xuICAgIH1cblxuICAgIC8vIGJ1aWxkIGFjdGlvbiBvYmplY3RcbiAgICB2YXIgYWN0aW9uID0ge1xuICAgICAgdXJsOiBtZXRob2QgPT09ICdHRVQnIHx8IG1ldGhvZCA9PT0gJ1BBVENIJyA/ICc/JyArIG5hbWUgKyAnPScgOiAnJyxcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIHdpdGhDcmVkZW50aWFsczogZmFsc2UsXG4gICAgICB0aW1lb3V0OiB0aW1lb3V0LFxuICAgICAgb25sb2FkOiBudWxsLFxuICAgICAgb25kYXRhOiBudWxsLFxuICAgICAgb25lcnJvcjogbnVsbFxuICAgIH07XG5cbiAgICAvLyBpcyBhIHNpbmdsZSB1cmxcbiAgICBpZiAoaXNTdHJpbmcob3V0bGluZSkpIHtcbiAgICAgIGFjdGlvbi51cmwgPSBvdXRsaW5lO1xuICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9XG5cbiAgICAvLyBvdmVyd3JpdGVcbiAgICBPYmplY3QuYXNzaWduKGFjdGlvbiwgb3V0bGluZSk7XG5cbiAgICAvLyBzZWUgaWYgc2hvdWxkIHJlZm9ybWF0IGhlYWRlcnM7XG4gICAgaWYgKGlzU3RyaW5nKGFjdGlvbi5oZWFkZXJzKSkge1xuICAgICAgdmFyIHBhcnRzID0gYWN0aW9uLmhlYWRlcnMuc3BsaXQoLzooLispLyk7XG4gICAgICBhY3Rpb24uaGVhZGVycyA9IHtcbiAgICAgICAgaGVhZGVyOiBwYXJ0c1swXSxcbiAgICAgICAgdmFsdWU6IHBhcnRzWzFdXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIGlmIGlzIGJvb2wgd2l0aENyZWRlbnRpYWxzXG4gICAgYWN0aW9uLndpdGhDcmVkZW50aWFscyA9IHRvQm9vbGVhbihhY3Rpb24ud2l0aENyZWRlbnRpYWxzKTtcblxuICAgIHJldHVybiBhY3Rpb247XG4gIH07XG5cbiAgdmFyIHRvU2VydmVyQVBJID0gZnVuY3Rpb24gdG9TZXJ2ZXJBUEkodmFsdWUpIHtcbiAgICByZXR1cm4gY3JlYXRlU2VydmVyQVBJKHZhbHVlKTtcbiAgfTtcblxuICB2YXIgaXNOdWxsID0gZnVuY3Rpb24gaXNOdWxsKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICB9O1xuXG4gIHZhciBpc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGw7XG4gIH07XG5cbiAgdmFyIGlzQVBJID0gZnVuY3Rpb24gaXNBUEkodmFsdWUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgaXNPYmplY3QodmFsdWUpICYmXG4gICAgICBpc1N0cmluZyh2YWx1ZS51cmwpICYmXG4gICAgICBpc09iamVjdCh2YWx1ZS5wcm9jZXNzKSAmJlxuICAgICAgaXNPYmplY3QodmFsdWUucmV2ZXJ0KSAmJlxuICAgICAgaXNPYmplY3QodmFsdWUucmVzdG9yZSkgJiZcbiAgICAgIGlzT2JqZWN0KHZhbHVlLmZldGNoKVxuICAgICk7XG4gIH07XG5cbiAgdmFyIGdldFR5cGUgPSBmdW5jdGlvbiBnZXRUeXBlKHZhbHVlKSB7XG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ2FycmF5JztcbiAgICB9XG5cbiAgICBpZiAoaXNOdWxsKHZhbHVlKSkge1xuICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9XG5cbiAgICBpZiAoaXNJbnQodmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ2ludCc7XG4gICAgfVxuXG4gICAgaWYgKC9eWzAtOV0rID8oPzpHQnxNQnxLQikkL2dpLnRlc3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ2J5dGVzJztcbiAgICB9XG5cbiAgICBpZiAoaXNBUEkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ2FwaSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZTtcbiAgfTtcblxuICB2YXIgcmVwbGFjZVNpbmdsZVF1b3RlcyA9IGZ1bmN0aW9uIHJlcGxhY2VTaW5nbGVRdW90ZXMoc3RyKSB7XG4gICAgcmV0dXJuIHN0clxuICAgICAgLnJlcGxhY2UoL3tcXHMqJy9nLCAne1wiJylcbiAgICAgIC5yZXBsYWNlKC8nXFxzKn0vZywgJ1wifScpXG4gICAgICAucmVwbGFjZSgvJ1xccyo6L2csICdcIjonKVxuICAgICAgLnJlcGxhY2UoLzpcXHMqJy9nLCAnOlwiJylcbiAgICAgIC5yZXBsYWNlKC8sXFxzKicvZywgJyxcIicpXG4gICAgICAucmVwbGFjZSgvJ1xccyosL2csICdcIiwnKTtcbiAgfTtcblxuICB2YXIgY29udmVyc2lvblRhYmxlID0ge1xuICAgIGFycmF5OiB0b0FycmF5LFxuICAgIGJvb2xlYW46IHRvQm9vbGVhbixcbiAgICBpbnQ6IGZ1bmN0aW9uIGludCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGdldFR5cGUodmFsdWUpID09PSAnYnl0ZXMnID8gdG9CeXRlcyh2YWx1ZSkgOiB0b0ludCh2YWx1ZSk7XG4gICAgfSxcbiAgICBudW1iZXI6IHRvRmxvYXQsXG4gICAgZmxvYXQ6IHRvRmxvYXQsXG4gICAgYnl0ZXM6IHRvQnl0ZXMsXG4gICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlIDogdG9TdHJpbmcodmFsdWUpO1xuICAgIH0sXG4gICAgZnVuY3Rpb246IGZ1bmN0aW9uIF9mdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvRnVuY3Rpb25SZWZlcmVuY2UodmFsdWUpO1xuICAgIH0sXG4gICAgc2VydmVyYXBpOiB0b1NlcnZlckFQSSxcbiAgICBvYmplY3Q6IGZ1bmN0aW9uIG9iamVjdCh2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVwbGFjZVNpbmdsZVF1b3Rlcyh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGNvbnZlcnRUbyA9IGZ1bmN0aW9uIGNvbnZlcnRUbyh2YWx1ZSwgdHlwZSkge1xuICAgIHJldHVybiBjb252ZXJzaW9uVGFibGVbdHlwZV0odmFsdWUpO1xuICB9O1xuXG4gIHZhciBnZXRWYWx1ZUJ5VHlwZSA9IGZ1bmN0aW9uIGdldFZhbHVlQnlUeXBlKFxuICAgIG5ld1ZhbHVlLFxuICAgIGRlZmF1bHRWYWx1ZSxcbiAgICB2YWx1ZVR5cGVcbiAgKSB7XG4gICAgLy8gY2FuIGFsd2F5cyBhc3NpZ24gZGVmYXVsdCB2YWx1ZVxuICAgIGlmIChuZXdWYWx1ZSA9PT0gZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gbmV3VmFsdWU7XG4gICAgfVxuXG4gICAgLy8gZ2V0IHRoZSB0eXBlIG9mIHRoZSBuZXcgdmFsdWVcbiAgICB2YXIgbmV3VmFsdWVUeXBlID0gZ2V0VHlwZShuZXdWYWx1ZSk7XG5cbiAgICAvLyBpcyB2YWxpZCB0eXBlP1xuICAgIGlmIChuZXdWYWx1ZVR5cGUgIT09IHZhbHVlVHlwZSkge1xuICAgICAgLy8gaXMgc3RyaW5nIGlucHV0LCBsZXQncyBhdHRlbXB0IHRvIGNvbnZlcnRcbiAgICAgIHZhciBjb252ZXJ0ZWRWYWx1ZSA9IGNvbnZlcnRUbyhuZXdWYWx1ZSwgdmFsdWVUeXBlKTtcblxuICAgICAgLy8gd2hhdCBpcyB0aGUgdHlwZSBub3dcbiAgICAgIG5ld1ZhbHVlVHlwZSA9IGdldFR5cGUoY29udmVydGVkVmFsdWUpO1xuXG4gICAgICAvLyBubyB2YWxpZCBjb252ZXJzaW9ucyBmb3VuZFxuICAgICAgaWYgKGNvbnZlcnRlZFZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHRocm93ICdUcnlpbmcgdG8gYXNzaWduIHZhbHVlIHdpdGggaW5jb3JyZWN0IHR5cGUgdG8gXCInICtcbiAgICAgICAgICBvcHRpb24gK1xuICAgICAgICAgICdcIiwgYWxsb3dlZCB0eXBlOiBcIicgK1xuICAgICAgICAgIHZhbHVlVHlwZSArXG4gICAgICAgICAgJ1wiJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1ZhbHVlID0gY29udmVydGVkVmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYXNzaWduIG5ldyB2YWx1ZVxuICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgfTtcblxuICB2YXIgY3JlYXRlT3B0aW9uID0gZnVuY3Rpb24gY3JlYXRlT3B0aW9uKGRlZmF1bHRWYWx1ZSwgdmFsdWVUeXBlKSB7XG4gICAgdmFyIGN1cnJlbnRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICByZXR1cm4ge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gY3VycmVudFZhbHVlO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld1ZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRWYWx1ZSA9IGdldFZhbHVlQnlUeXBlKG5ld1ZhbHVlLCBkZWZhdWx0VmFsdWUsIHZhbHVlVHlwZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICB2YXIgY3JlYXRlT3B0aW9ucyA9IGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMob3B0aW9ucykge1xuICAgIHZhciBvYmogPSB7fTtcbiAgICBmb3JpbihvcHRpb25zLCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICB2YXIgb3B0aW9uRGVmaW5pdGlvbiA9IG9wdGlvbnNbcHJvcF07XG4gICAgICBvYmpbcHJvcF0gPSBjcmVhdGVPcHRpb24ob3B0aW9uRGVmaW5pdGlvblswXSwgb3B0aW9uRGVmaW5pdGlvblsxXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNyZWF0ZU9iamVjdChvYmopO1xuICB9O1xuXG4gIHZhciBjcmVhdGVJbml0aWFsU3RhdGUgPSBmdW5jdGlvbiBjcmVhdGVJbml0aWFsU3RhdGUob3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBtb2RlbFxuICAgICAgaXRlbXM6IFtdLFxuXG4gICAgICAvLyB0aW1lb3V0IHVzZWQgZm9yIGNhbGxpbmcgdXBkYXRlIGl0ZW1zXG4gICAgICBsaXN0VXBkYXRlVGltZW91dDogbnVsbCxcblxuICAgICAgLy8gdGltZW91dCB1c2VkIGZvciBzdGFja2luZyBtZXRhZGF0YSB1cGRhdGVzXG4gICAgICBpdGVtVXBkYXRlVGltZW91dDogbnVsbCxcblxuICAgICAgLy8gcXVldWUgb2YgaXRlbXMgd2FpdGluZyB0byBiZSBwcm9jZXNzZWRcbiAgICAgIHByb2Nlc3NpbmdRdWV1ZTogW10sXG5cbiAgICAgIC8vIG9wdGlvbnNcbiAgICAgIG9wdGlvbnM6IGNyZWF0ZU9wdGlvbnMob3B0aW9ucylcbiAgICB9O1xuICB9O1xuXG4gIHZhciBmcm9tQ2FtZWxzID0gZnVuY3Rpb24gZnJvbUNhbWVscyhzdHJpbmcpIHtcbiAgICB2YXIgc2VwYXJhdG9yID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJy0nO1xuICAgIHJldHVybiBzdHJpbmdcbiAgICAgIC5zcGxpdCgvKD89W0EtWl0pLylcbiAgICAgIC5tYXAoZnVuY3Rpb24ocGFydCkge1xuICAgICAgICByZXR1cm4gcGFydC50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSlcbiAgICAgIC5qb2luKHNlcGFyYXRvcik7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU9wdGlvbkFQSSA9IGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbkFQSShzdG9yZSwgb3B0aW9ucykge1xuICAgIHZhciBvYmogPSB7fTtcbiAgICBmb3JpbihvcHRpb25zLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIG9ialtrZXldID0ge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gc3RvcmUuZ2V0U3RhdGUoKS5vcHRpb25zW2tleV07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1NFVF8nICsgZnJvbUNhbWVscyhrZXksICdfJykudG9VcHBlckNhc2UoKSwge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICB2YXIgY3JlYXRlT3B0aW9uQWN0aW9ucyA9IGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbkFjdGlvbnMob3B0aW9ucykge1xuICAgIHJldHVybiBmdW5jdGlvbihkaXNwYXRjaCwgcXVlcnksIHN0YXRlKSB7XG4gICAgICB2YXIgb2JqID0ge307XG4gICAgICBmb3JpbihvcHRpb25zLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBmcm9tQ2FtZWxzKGtleSwgJ18nKS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgIG9ialsnU0VUXycgKyBuYW1lXSA9IGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdGF0ZS5vcHRpb25zW2tleV0gPSBhY3Rpb24udmFsdWU7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge30gLy8gbm9wZSwgZmFpbGVkXG5cbiAgICAgICAgICAvLyB3ZSBzdWNjZXNzZnVsbHkgc2V0IHRoZSB2YWx1ZSBvZiB0aGlzIG9wdGlvblxuICAgICAgICAgIGRpc3BhdGNoKCdESURfU0VUXycgKyBuYW1lLCB7IHZhbHVlOiBzdGF0ZS5vcHRpb25zW2tleV0gfSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgY3JlYXRlT3B0aW9uUXVlcmllcyA9IGZ1bmN0aW9uIGNyZWF0ZU9wdGlvblF1ZXJpZXMob3B0aW9ucykge1xuICAgIHJldHVybiBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgZm9yaW4ob3B0aW9ucywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIG9ialsnR0VUXycgKyBmcm9tQ2FtZWxzKGtleSwgJ18nKS50b1VwcGVyQ2FzZSgpXSA9IGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBzdGF0ZS5vcHRpb25zW2tleV07XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgSW50ZXJhY3Rpb25NZXRob2QgPSB7XG4gICAgQVBJOiAxLFxuICAgIERST1A6IDIsXG4gICAgQlJPV1NFOiAzLFxuICAgIFBBU1RFOiA0LFxuICAgIE5PTkU6IDVcbiAgfTtcblxuICB2YXIgZ2V0VW5pcXVlSWQgPSBmdW5jdGlvbiBnZXRVbmlxdWVJZCgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKVxuICAgICAgLnRvU3RyaW5nKDM2KVxuICAgICAgLnN1YnN0cigyLCA5KTtcbiAgfTtcblxuICBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdzeW1ib2wnKSB7XG4gICAgICBfdHlwZW9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3R5cGVvZiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmXG4gICAgICAgICAgdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmXG4gICAgICAgICAgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlXG4gICAgICAgICAgPyAnc3ltYm9sJ1xuICAgICAgICAgIDogdHlwZW9mIG9iajtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbiAgfVxuXG4gIHZhciBSRUFDVF9FTEVNRU5UX1RZUEU7XG5cbiAgZnVuY3Rpb24gX2pzeCh0eXBlLCBwcm9wcywga2V5LCBjaGlsZHJlbikge1xuICAgIGlmICghUkVBQ1RfRUxFTUVOVF9UWVBFKSB7XG4gICAgICBSRUFDVF9FTEVNRU5UX1RZUEUgPVxuICAgICAgICAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgIFN5bWJvbFsnZm9yJ10gJiZcbiAgICAgICAgICBTeW1ib2xbJ2ZvciddKCdyZWFjdC5lbGVtZW50JykpIHx8XG4gICAgICAgIDB4ZWFjNztcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdFByb3BzID0gdHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcztcbiAgICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMztcblxuICAgIGlmICghcHJvcHMgJiYgY2hpbGRyZW5MZW5ndGggIT09IDApIHtcbiAgICAgIHByb3BzID0ge1xuICAgICAgICBjaGlsZHJlbjogdm9pZCAwXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChwcm9wcyAmJiBkZWZhdWx0UHJvcHMpIHtcbiAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB2b2lkIDApIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghcHJvcHMpIHtcbiAgICAgIHByb3BzID0gZGVmYXVsdFByb3BzIHx8IHt9O1xuICAgIH1cblxuICAgIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgICAgdmFyIGNoaWxkQXJyYXkgPSBuZXcgQXJyYXkoY2hpbGRyZW5MZW5ndGgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgM107XG4gICAgICB9XG5cbiAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBrZXk6IGtleSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6ICcnICsga2V5LFxuICAgICAgcmVmOiBudWxsLFxuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgX293bmVyOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hc3luY0l0ZXJhdG9yKGl0ZXJhYmxlKSB7XG4gICAgdmFyIG1ldGhvZDtcblxuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKFN5bWJvbC5hc3luY0l0ZXJhdG9yKSB7XG4gICAgICAgIG1ldGhvZCA9IGl0ZXJhYmxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTtcbiAgICAgICAgaWYgKG1ldGhvZCAhPSBudWxsKSByZXR1cm4gbWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICAgIG1ldGhvZCA9IGl0ZXJhYmxlW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgICAgIGlmIChtZXRob2QgIT0gbnVsbCkgcmV0dXJuIG1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QgaXMgbm90IGFzeW5jIGl0ZXJhYmxlJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfQXdhaXRWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMud3JhcHBlZCA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX0FzeW5jR2VuZXJhdG9yKGdlbikge1xuICAgIHZhciBmcm9udCwgYmFjaztcblxuICAgIGZ1bmN0aW9uIHNlbmQoa2V5LCBhcmcpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgYXJnOiBhcmcsXG4gICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICByZWplY3Q6IHJlamVjdCxcbiAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGJhY2spIHtcbiAgICAgICAgICBiYWNrID0gYmFjay5uZXh0ID0gcmVxdWVzdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmcm9udCA9IGJhY2sgPSByZXF1ZXN0O1xuICAgICAgICAgIHJlc3VtZShrZXksIGFyZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc3VtZShrZXksIGFyZykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGdlbltrZXldKGFyZyk7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgdmFyIHdyYXBwZWRBd2FpdCA9IHZhbHVlIGluc3RhbmNlb2YgX0F3YWl0VmFsdWU7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSh3cmFwcGVkQXdhaXQgPyB2YWx1ZS53cmFwcGVkIDogdmFsdWUpLnRoZW4oXG4gICAgICAgICAgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgICAgICBpZiAod3JhcHBlZEF3YWl0KSB7XG4gICAgICAgICAgICAgIHJlc3VtZSgnbmV4dCcsIGFyZyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0dGxlKHJlc3VsdC5kb25lID8gJ3JldHVybicgOiAnbm9ybWFsJywgYXJnKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgcmVzdW1lKCd0aHJvdycsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNldHRsZSgndGhyb3cnLCBlcnIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldHRsZSh0eXBlLCB2YWx1ZSkge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ3JldHVybic6XG4gICAgICAgICAgZnJvbnQucmVzb2x2ZSh7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBkb25lOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAndGhyb3cnOlxuICAgICAgICAgIGZyb250LnJlamVjdCh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBmcm9udC5yZXNvbHZlKHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGZyb250ID0gZnJvbnQubmV4dDtcblxuICAgICAgaWYgKGZyb250KSB7XG4gICAgICAgIHJlc3VtZShmcm9udC5rZXksIGZyb250LmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYWNrID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9pbnZva2UgPSBzZW5kO1xuXG4gICAgaWYgKHR5cGVvZiBnZW4ucmV0dXJuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLnJldHVybiA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuYXN5bmNJdGVyYXRvcikge1xuICAgIF9Bc3luY0dlbmVyYXRvci5wcm90b3R5cGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICB9XG5cbiAgX0FzeW5jR2VuZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludm9rZSgnbmV4dCcsIGFyZyk7XG4gIH07XG5cbiAgX0FzeW5jR2VuZXJhdG9yLnByb3RvdHlwZS50aHJvdyA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0aGlzLl9pbnZva2UoJ3Rocm93JywgYXJnKTtcbiAgfTtcblxuICBfQXN5bmNHZW5lcmF0b3IucHJvdG90eXBlLnJldHVybiA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0aGlzLl9pbnZva2UoJ3JldHVybicsIGFyZyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gX3dyYXBBc3luY0dlbmVyYXRvcihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgX0FzeW5jR2VuZXJhdG9yKGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBfYXdhaXRBc3luY0dlbmVyYXRvcih2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgX0F3YWl0VmFsdWUodmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2FzeW5jR2VuZXJhdG9yRGVsZWdhdGUoaW5uZXIsIGF3YWl0V3JhcCkge1xuICAgIHZhciBpdGVyID0ge30sXG4gICAgICB3YWl0aW5nID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBwdW1wKGtleSwgdmFsdWUpIHtcbiAgICAgIHdhaXRpbmcgPSB0cnVlO1xuICAgICAgdmFsdWUgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIHJlc29sdmUoaW5uZXJba2V5XSh2YWx1ZSkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IGF3YWl0V3JhcCh2YWx1ZSlcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAod2FpdGluZykge1xuICAgICAgICB3YWl0aW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHB1bXAoJ25leHQnLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgaW5uZXIudGhyb3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGl0ZXIudGhyb3cgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAod2FpdGluZykge1xuICAgICAgICAgIHdhaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICB0aHJvdyB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwdW1wKCd0aHJvdycsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbm5lci5yZXR1cm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGl0ZXIucmV0dXJuID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHB1bXAoJ3JldHVybicsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZXI7XG4gIH1cblxuICBmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7XG4gICAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKFxuICAgICAgICAgICAgZ2VuLFxuICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgIF9uZXh0LFxuICAgICAgICAgICAgX3Rocm93LFxuICAgICAgICAgICAgJ25leHQnLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikge1xuICAgICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgJ3Rocm93JywgZXJyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZUVudW1lcmFibGVQcm9wZXJ0aWVzKG9iaiwgZGVzY3MpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gZGVzY3MpIHtcbiAgICAgIHZhciBkZXNjID0gZGVzY3Nba2V5XTtcbiAgICAgIGRlc2MuY29uZmlndXJhYmxlID0gZGVzYy5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmICgndmFsdWUnIGluIGRlc2MpIGRlc2Mud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCBkZXNjKTtcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgdmFyIG9iamVjdFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGRlc2NzKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3RTeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzeW0gPSBvYmplY3RTeW1ib2xzW2ldO1xuICAgICAgICB2YXIgZGVzYyA9IGRlc2NzW3N5bV07XG4gICAgICAgIGRlc2MuY29uZmlndXJhYmxlID0gZGVzYy5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCd2YWx1ZScgaW4gZGVzYykgZGVzYy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHN5bSwgZGVzYyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTtcblxuICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgICBfZXh0ZW5kcyA9XG4gICAgICBPYmplY3QuYXNzaWduIHx8XG4gICAgICBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfTtcblxuICAgIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG4gICAgICB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoXG4gICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbihzeW0pIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIG93bktleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xuICAgICAgaWYgKGVudW1lcmFibGVPbmx5KVxuICAgICAgICBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24oc3ltKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgICAgIH0pO1xuICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgICBpZiAoaSAlIDIpIHtcbiAgICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSlcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gICAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gICAgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mXG4gICAgICA/IE9iamVjdC5nZXRQcm90b3R5cGVPZlxuICAgICAgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgICAgICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gICAgICAgIH07XG4gICAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgX3NldFByb3RvdHlwZU9mID1cbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICAgICAgby5fX3Byb3RvX18gPSBwO1xuICAgICAgICByZXR1cm4gbztcbiAgICAgIH07XG5cbiAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkge1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gJ3VuZGVmaW5lZCcgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIFByb3h5ID09PSAnZnVuY3Rpb24nKSByZXR1cm4gdHJ1ZTtcblxuICAgIHRyeSB7XG4gICAgICBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbigpIHt9KSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgaWYgKGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7XG4gICAgICBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgICAgICAgdmFyIGEgPSBbbnVsbF07XG4gICAgICAgIGEucHVzaC5hcHBseShhLCBhcmdzKTtcbiAgICAgICAgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsIGEpO1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgICAgICAgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoJ1tuYXRpdmUgY29kZV0nKSAhPT0gLTE7XG4gIH1cblxuICBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09ICdmdW5jdGlvbicgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7XG5cbiAgICBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICAgICAgaWYgKENsYXNzID09PSBudWxsIHx8ICFfaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzcztcblxuICAgICAgaWYgKHR5cGVvZiBDbGFzcyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbidcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBfY2FjaGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpO1xuXG4gICAgICAgIF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBXcmFwcGVyKCkge1xuICAgICAgICByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpO1xuICAgICAgfVxuXG4gICAgICBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IFdyYXBwZXIsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbnN0YW5jZW9mKGxlZnQsIHJpZ2h0KSB7XG4gICAgaWYgKFxuICAgICAgcmlnaHQgIT0gbnVsbCAmJlxuICAgICAgdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHJpZ2h0W1N5bWJvbC5oYXNJbnN0YW5jZV1cbiAgICApIHtcbiAgICAgIHJldHVybiAhIXJpZ2h0W1N5bWJvbC5oYXNJbnN0YW5jZV0obGVmdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBsZWZ0IGluc3RhbmNlb2YgcmlnaHQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlXG4gICAgICA/IG9ialxuICAgICAgOiB7XG4gICAgICAgICAgZGVmYXVsdDogb2JqXG4gICAgICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHtcbiAgICBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbmV3T2JqID0ge307XG5cbiAgICAgIGlmIChvYmogIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgIHZhciBkZXNjID1cbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpXG4gICAgICAgICAgICAgICAgOiB7fTtcblxuICAgICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7XG4gICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBuZXdPYmouZGVmYXVsdCA9IG9iajtcbiAgICAgIHJldHVybiBuZXdPYmo7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX25ld0Fycm93Q2hlY2soaW5uZXJUaGlzLCBib3VuZFRoaXMpIHtcbiAgICBpZiAoaW5uZXJUaGlzICE9PSBib3VuZFRoaXMpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBpbnN0YW50aWF0ZSBhbiBhcnJvdyBmdW5jdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3REZXN0cnVjdHVyaW5nRW1wdHkob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgZGVzdHJ1Y3R1cmUgdW5kZWZpbmVkJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gICAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gICAgdmFyIHRhcmdldCA9IHt9O1xuICAgIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICB2YXIga2V5LCBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcblxuICAgIHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTtcblxuICAgIHZhciBrZXksIGk7XG5cbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07XG4gICAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICAgIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcbiAgICAgICAgXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgICBpZiAoY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBjYWxsID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgcmV0dXJuIGNhbGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XG4gIH1cblxuICBmdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgd2hpbGUgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkpIHtcbiAgICAgIG9iamVjdCA9IF9nZXRQcm90b3R5cGVPZihvYmplY3QpO1xuICAgICAgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgIT09ICd1bmRlZmluZWQnICYmIFJlZmxlY3QuZ2V0KSB7XG4gICAgICBfZ2V0ID0gUmVmbGVjdC5nZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gICAgICAgIHZhciBiYXNlID0gX3N1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKCFiYXNlKSByZXR1cm47XG4gICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyKSB7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSAndW5kZWZpbmVkJyAmJiBSZWZsZWN0LnNldCkge1xuICAgICAgc2V0ID0gUmVmbGVjdC5zZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldCA9IGZ1bmN0aW9uIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTtcblxuICAgICAgICB2YXIgZGVzYztcblxuICAgICAgICBpZiAoYmFzZSkge1xuICAgICAgICAgIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTtcblxuICAgICAgICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgICAgICAgZGVzYy5zZXQuY2FsbChyZWNlaXZlciwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmICghZGVzYy53cml0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJlY2VpdmVyLCBwcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKGRlc2MpIHtcbiAgICAgICAgICBpZiAoIWRlc2Mud3JpdGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZXNjLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlY2VpdmVyLCBwcm9wZXJ0eSwgZGVzYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2RlZmluZVByb3BlcnR5KHJlY2VpdmVyLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBzZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyLCBpc1N0cmljdCkge1xuICAgIHZhciBzID0gc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlciB8fCB0YXJnZXQpO1xuXG4gICAgaWYgKCFzICYmIGlzU3RyaWN0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBzZXQgcHJvcGVydHknKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKHN0cmluZ3MsIHJhdykge1xuICAgIGlmICghcmF3KSB7XG4gICAgICByYXcgPSBzdHJpbmdzLnNsaWNlKDApO1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3QuZnJlZXplKFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3RyaW5ncywge1xuICAgICAgICByYXc6IHtcbiAgICAgICAgICB2YWx1ZTogT2JqZWN0LmZyZWV6ZShyYXcpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShzdHJpbmdzLCByYXcpIHtcbiAgICBpZiAoIXJhdykge1xuICAgICAgcmF3ID0gc3RyaW5ncy5zbGljZSgwKTtcbiAgICB9XG5cbiAgICBzdHJpbmdzLnJhdyA9IHJhdztcbiAgICByZXR1cm4gc3RyaW5ncztcbiAgfVxuXG4gIGZ1bmN0aW9uIF90ZW1wb3JhbFJlZih2YWwsIG5hbWUpIHtcbiAgICBpZiAodmFsID09PSBfdGVtcG9yYWxVbmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihuYW1lICsgJyBpcyBub3QgZGVmaW5lZCAtIHRlbXBvcmFsIGRlYWQgem9uZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZWFkT25seUVycm9yKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIG5hbWUgKyAnXCIgaXMgcmVhZC1vbmx5Jyk7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NOYW1lVERaRXJyb3IobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdDbGFzcyBcIicgKyBuYW1lICsgJ1wiIGNhbm5vdCBiZSByZWZlcmVuY2VkIGluIGNvbXB1dGVkIHByb3BlcnR5IGtleXMuJ1xuICAgICk7XG4gIH1cblxuICB2YXIgX3RlbXBvcmFsVW5kZWZpbmVkID0ge307XG5cbiAgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8XG4gICAgICBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fFxuICAgICAgX25vbkl0ZXJhYmxlUmVzdCgpXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5TG9vc2UoYXJyLCBpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8XG4gICAgICBfaXRlcmFibGVUb0FycmF5TGltaXRMb29zZShhcnIsIGkpIHx8XG4gICAgICBfbm9uSXRlcmFibGVSZXN0KClcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RvQXJyYXkoYXJyKSB7XG4gICAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspXG4gICAgICAgIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgICAgIHJldHVybiBhcnIyO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gICAgaWYgKFxuICAgICAgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fFxuICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAnW29iamVjdCBBcmd1bWVudHNdJ1xuICAgIClcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICAgIHZhciBfYXJyID0gW107XG4gICAgdmFyIF9uID0gdHJ1ZTtcbiAgICB2YXIgX2QgPSBmYWxzZTtcbiAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7XG4gICAgICAgICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpO1xuICAgICAgICBfbiA9IHRydWVcbiAgICAgICkge1xuICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gdHJ1ZTtcbiAgICAgIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIF9pWydyZXR1cm4nXSAhPSBudWxsKSBfaVsncmV0dXJuJ10oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hcnI7XG4gIH1cblxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXRMb29zZShhcnIsIGkpIHtcbiAgICB2YXIgX2FyciA9IFtdO1xuXG4gICAgZm9yIChcbiAgICAgIHZhciBfaXRlcmF0b3IgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDtcbiAgICAgICEoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lO1xuXG4gICAgKSB7XG4gICAgICBfYXJyLnB1c2goX3N0ZXAudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hcnI7XG4gIH1cblxuICBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NraXBGaXJzdEdlbmVyYXRvck5leHQoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaXQgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgaXQubmV4dCgpO1xuICAgICAgcmV0dXJuIGl0O1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnb2JqZWN0JyB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0O1xuICAgIHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtcblxuICAgIGlmIChwcmltICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgJ2RlZmF1bHQnKTtcbiAgICAgIGlmICh0eXBlb2YgcmVzICE9PSAnb2JqZWN0JykgcmV0dXJuIHJlcztcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0BAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChoaW50ID09PSAnc3RyaW5nJyA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gICAgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsICdzdHJpbmcnKTtcblxuICAgIHJldHVybiB0eXBlb2Yga2V5ID09PSAnc3ltYm9sJyA/IGtleSA6IFN0cmluZyhrZXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luaXRpYWxpemVyV2FybmluZ0hlbHBlcihkZXNjcmlwdG9yLCBjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArXG4gICAgICAgICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHNldCB0byB1c2UgbG9vc2UgbW9kZS4gJyArXG4gICAgICAgICdUbyB1c2UgcHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpbiBzcGVjIG1vZGUgd2l0aCBkZWNvcmF0b3JzLCB3YWl0IGZvciAnICtcbiAgICAgICAgJ3RoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgZGVjb3JhdG9ycyBpbiBzdGFnZSAyLidcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkge1xuICAgIGlmICghZGVzY3JpcHRvcikgcmV0dXJuO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7XG4gICAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsXG4gICAgICBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLFxuICAgICAgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsXG4gICAgICB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplclxuICAgICAgICA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KVxuICAgICAgICA6IHZvaWQgMFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihcbiAgICB0YXJnZXQsXG4gICAgcHJvcGVydHksXG4gICAgZGVjb3JhdG9ycyxcbiAgICBkZXNjcmlwdG9yLFxuICAgIGNvbnRleHRcbiAgKSB7XG4gICAgdmFyIGRlc2MgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldO1xuICAgIH0pO1xuICAgIGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlO1xuICAgIGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTtcblxuICAgIGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikge1xuICAgICAgZGVzYy53cml0YWJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgZGVzYyA9IGRlY29yYXRvcnNcbiAgICAgIC5zbGljZSgpXG4gICAgICAucmV2ZXJzZSgpXG4gICAgICAucmVkdWNlKGZ1bmN0aW9uKGRlc2MsIGRlY29yYXRvcikge1xuICAgICAgICByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7XG4gICAgICB9LCBkZXNjKTtcblxuICAgIGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkge1xuICAgICAgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7XG4gICAgICBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTtcbiAgICAgIGRlc2MgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBkZXNjO1xuICB9XG5cbiAgdmFyIGlkID0gMDtcblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShuYW1lKSB7XG4gICAgcmV0dXJuICdfX3ByaXZhdGVfJyArIGlkKysgKyAnXycgKyBuYW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVjZWl2ZXIsIHByaXZhdGVLZXkpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhdHRlbXB0ZWQgdG8gdXNlIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlY2VpdmVyO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XG5cbiAgICBpZiAoIWRlc2NyaXB0b3IpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICB9XG5cbiAgICBpZiAoZGVzY3JpcHRvci5nZXQpIHtcbiAgICAgIHJldHVybiBkZXNjcmlwdG9yLmdldC5jYWxsKHJlY2VpdmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVzY3JpcHRvci52YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcblxuICAgIGlmICghZGVzY3JpcHRvcikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZScpO1xuICAgIH1cblxuICAgIGlmIChkZXNjcmlwdG9yLnNldCkge1xuICAgICAgZGVzY3JpcHRvci5zZXQuY2FsbChyZWNlaXZlciwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWRlc2NyaXB0b3Iud3JpdGFibGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgcHJpdmF0ZSBmaWVsZCcpO1xuICAgICAgfVxuXG4gICAgICBkZXNjcmlwdG9yLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkRGVzdHJ1Y3R1cmVTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZScpO1xuICAgIH1cblxuICAgIHZhciBkZXNjcmlwdG9yID0gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xuXG4gICAgaWYgKGRlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICBpZiAoISgnX19kZXN0ck9iaicgaW4gZGVzY3JpcHRvcikpIHtcbiAgICAgICAgZGVzY3JpcHRvci5fX2Rlc3RyT2JqID0ge1xuICAgICAgICAgIHNldCB2YWx1ZSh2KSB7XG4gICAgICAgICAgICBkZXNjcmlwdG9yLnNldC5jYWxsKHJlY2VpdmVyLCB2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZXNjcmlwdG9yLl9fZGVzdHJPYmo7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghZGVzY3JpcHRvci53cml0YWJsZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhdHRlbXB0ZWQgdG8gc2V0IHJlYWQgb25seSBwcml2YXRlIGZpZWxkJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1N0YXRpY1ByaXZhdGVGaWVsZFNwZWNHZXQoXG4gICAgcmVjZWl2ZXIsXG4gICAgY2xhc3NDb25zdHJ1Y3RvcixcbiAgICBkZXNjcmlwdG9yXG4gICkge1xuICAgIGlmIChyZWNlaXZlciAhPT0gY2xhc3NDb25zdHJ1Y3Rvcikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJpdmF0ZSBzdGF0aWMgYWNjZXNzIG9mIHdyb25nIHByb3ZlbmFuY2UnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVzY3JpcHRvci52YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1N0YXRpY1ByaXZhdGVGaWVsZFNwZWNTZXQoXG4gICAgcmVjZWl2ZXIsXG4gICAgY2xhc3NDb25zdHJ1Y3RvcixcbiAgICBkZXNjcmlwdG9yLFxuICAgIHZhbHVlXG4gICkge1xuICAgIGlmIChyZWNlaXZlciAhPT0gY2xhc3NDb25zdHJ1Y3Rvcikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJpdmF0ZSBzdGF0aWMgYWNjZXNzIG9mIHdyb25nIHByb3ZlbmFuY2UnKTtcbiAgICB9XG5cbiAgICBpZiAoIWRlc2NyaXB0b3Iud3JpdGFibGUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcmVhZCBvbmx5IHByaXZhdGUgZmllbGQnKTtcbiAgICB9XG5cbiAgICBkZXNjcmlwdG9yLnZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzU3RhdGljUHJpdmF0ZU1ldGhvZEdldChyZWNlaXZlciwgY2xhc3NDb25zdHJ1Y3RvciwgbWV0aG9kKSB7XG4gICAgaWYgKHJlY2VpdmVyICE9PSBjbGFzc0NvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIHN0YXRpYyBhY2Nlc3Mgb2Ygd3JvbmcgcHJvdmVuYW5jZScpO1xuICAgIH1cblxuICAgIHJldHVybiBtZXRob2Q7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NTdGF0aWNQcml2YXRlTWV0aG9kU2V0KCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcmVhZCBvbmx5IHN0YXRpYyBwcml2YXRlIGZpZWxkJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVjb3JhdGUoZGVjb3JhdG9ycywgZmFjdG9yeSwgc3VwZXJDbGFzcywgbWl4aW5zKSB7XG4gICAgdmFyIGFwaSA9IF9nZXREZWNvcmF0b3JzQXBpKCk7XG5cbiAgICBpZiAobWl4aW5zKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcGkgPSBtaXhpbnNbaV0oYXBpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgciA9IGZhY3RvcnkoZnVuY3Rpb24gaW5pdGlhbGl6ZShPKSB7XG4gICAgICBhcGkuaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHMoTywgZGVjb3JhdGVkLmVsZW1lbnRzKTtcbiAgICB9LCBzdXBlckNsYXNzKTtcbiAgICB2YXIgZGVjb3JhdGVkID0gYXBpLmRlY29yYXRlQ2xhc3MoXG4gICAgICBfY29hbGVzY2VDbGFzc0VsZW1lbnRzKHIuZC5tYXAoX2NyZWF0ZUVsZW1lbnREZXNjcmlwdG9yKSksXG4gICAgICBkZWNvcmF0b3JzXG4gICAgKTtcbiAgICBhcGkuaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHMoci5GLCBkZWNvcmF0ZWQuZWxlbWVudHMpO1xuICAgIHJldHVybiBhcGkucnVuQ2xhc3NGaW5pc2hlcnMoci5GLCBkZWNvcmF0ZWQuZmluaXNoZXJzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXREZWNvcmF0b3JzQXBpKCkge1xuICAgIF9nZXREZWNvcmF0b3JzQXBpID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYXBpO1xuICAgIH07XG5cbiAgICB2YXIgYXBpID0ge1xuICAgICAgZWxlbWVudHNEZWZpbml0aW9uT3JkZXI6IFtbJ21ldGhvZCddLCBbJ2ZpZWxkJ11dLFxuICAgICAgaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHM6IGZ1bmN0aW9uKE8sIGVsZW1lbnRzKSB7XG4gICAgICAgIFsnbWV0aG9kJywgJ2ZpZWxkJ10uZm9yRWFjaChmdW5jdGlvbihraW5kKSB7XG4gICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5raW5kID09PSBraW5kICYmIGVsZW1lbnQucGxhY2VtZW50ID09PSAnb3duJykge1xuICAgICAgICAgICAgICB0aGlzLmRlZmluZUNsYXNzRWxlbWVudChPLCBlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9LFxuICAgICAgaW5pdGlhbGl6ZUNsYXNzRWxlbWVudHM6IGZ1bmN0aW9uKEYsIGVsZW1lbnRzKSB7XG4gICAgICAgIHZhciBwcm90byA9IEYucHJvdG90eXBlO1xuICAgICAgICBbJ21ldGhvZCcsICdmaWVsZCddLmZvckVhY2goZnVuY3Rpb24oa2luZCkge1xuICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIHBsYWNlbWVudCA9IGVsZW1lbnQucGxhY2VtZW50O1xuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGVsZW1lbnQua2luZCA9PT0ga2luZCAmJlxuICAgICAgICAgICAgICAocGxhY2VtZW50ID09PSAnc3RhdGljJyB8fCBwbGFjZW1lbnQgPT09ICdwcm90b3R5cGUnKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHZhciByZWNlaXZlciA9IHBsYWNlbWVudCA9PT0gJ3N0YXRpYycgPyBGIDogcHJvdG87XG4gICAgICAgICAgICAgIHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KHJlY2VpdmVyLCBlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9LFxuICAgICAgZGVmaW5lQ2xhc3NFbGVtZW50OiBmdW5jdGlvbihyZWNlaXZlciwgZWxlbWVudCkge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjtcblxuICAgICAgICBpZiAoZWxlbWVudC5raW5kID09PSAnZmllbGQnKSB7XG4gICAgICAgICAgdmFyIGluaXRpYWxpemVyID0gZWxlbWVudC5pbml0aWFsaXplcjtcbiAgICAgICAgICBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLFxuICAgICAgICAgICAgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLFxuICAgICAgICAgICAgdmFsdWU6IGluaXRpYWxpemVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbml0aWFsaXplci5jYWxsKHJlY2VpdmVyKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIGVsZW1lbnQua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgIH0sXG4gICAgICBkZWNvcmF0ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50cywgZGVjb3JhdG9ycykge1xuICAgICAgICB2YXIgbmV3RWxlbWVudHMgPSBbXTtcbiAgICAgICAgdmFyIGZpbmlzaGVycyA9IFtdO1xuICAgICAgICB2YXIgcGxhY2VtZW50cyA9IHtcbiAgICAgICAgICBzdGF0aWM6IFtdLFxuICAgICAgICAgIHByb3RvdHlwZTogW10sXG4gICAgICAgICAgb3duOiBbXVxuICAgICAgICB9O1xuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICBpZiAoIV9oYXNEZWNvcmF0b3JzKGVsZW1lbnQpKSByZXR1cm4gbmV3RWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICB2YXIgZWxlbWVudEZpbmlzaGVyc0V4dHJhcyA9IHRoaXMuZGVjb3JhdGVFbGVtZW50KFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIHBsYWNlbWVudHNcbiAgICAgICAgICApO1xuICAgICAgICAgIG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudEZpbmlzaGVyc0V4dHJhcy5lbGVtZW50KTtcbiAgICAgICAgICBuZXdFbGVtZW50cy5wdXNoLmFwcGx5KG5ld0VsZW1lbnRzLCBlbGVtZW50RmluaXNoZXJzRXh0cmFzLmV4dHJhcyk7XG4gICAgICAgICAgZmluaXNoZXJzLnB1c2guYXBwbHkoZmluaXNoZXJzLCBlbGVtZW50RmluaXNoZXJzRXh0cmFzLmZpbmlzaGVycyk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIGlmICghZGVjb3JhdG9ycykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbGVtZW50czogbmV3RWxlbWVudHMsXG4gICAgICAgICAgICBmaW5pc2hlcnM6IGZpbmlzaGVyc1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5kZWNvcmF0ZUNvbnN0cnVjdG9yKG5ld0VsZW1lbnRzLCBkZWNvcmF0b3JzKTtcbiAgICAgICAgZmluaXNoZXJzLnB1c2guYXBwbHkoZmluaXNoZXJzLCByZXN1bHQuZmluaXNoZXJzKTtcbiAgICAgICAgcmVzdWx0LmZpbmlzaGVycyA9IGZpbmlzaGVycztcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICBhZGRFbGVtZW50UGxhY2VtZW50OiBmdW5jdGlvbihlbGVtZW50LCBwbGFjZW1lbnRzLCBzaWxlbnQpIHtcbiAgICAgICAgdmFyIGtleXMgPSBwbGFjZW1lbnRzW2VsZW1lbnQucGxhY2VtZW50XTtcblxuICAgICAgICBpZiAoIXNpbGVudCAmJiBrZXlzLmluZGV4T2YoZWxlbWVudC5rZXkpICE9PSAtMSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0R1cGxpY2F0ZWQgZWxlbWVudCAoJyArIGVsZW1lbnQua2V5ICsgJyknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGtleXMucHVzaChlbGVtZW50LmtleSk7XG4gICAgICB9LFxuICAgICAgZGVjb3JhdGVFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBwbGFjZW1lbnRzKSB7XG4gICAgICAgIHZhciBleHRyYXMgPSBbXTtcbiAgICAgICAgdmFyIGZpbmlzaGVycyA9IFtdO1xuXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnMsIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgaSA+PSAwO1xuICAgICAgICAgIGktLVxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIga2V5cyA9IHBsYWNlbWVudHNbZWxlbWVudC5wbGFjZW1lbnRdO1xuICAgICAgICAgIGtleXMuc3BsaWNlKGtleXMuaW5kZXhPZihlbGVtZW50LmtleSksIDEpO1xuICAgICAgICAgIHZhciBlbGVtZW50T2JqZWN0ID0gdGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudCk7XG4gICAgICAgICAgdmFyIGVsZW1lbnRGaW5pc2hlckV4dHJhcyA9IHRoaXMudG9FbGVtZW50RmluaXNoZXJFeHRyYXMoXG4gICAgICAgICAgICAoMCwgZGVjb3JhdG9yc1tpXSkoZWxlbWVudE9iamVjdCkgfHwgZWxlbWVudE9iamVjdFxuICAgICAgICAgICk7XG4gICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRGaW5pc2hlckV4dHJhcy5lbGVtZW50O1xuICAgICAgICAgIHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKTtcblxuICAgICAgICAgIGlmIChlbGVtZW50RmluaXNoZXJFeHRyYXMuZmluaXNoZXIpIHtcbiAgICAgICAgICAgIGZpbmlzaGVycy5wdXNoKGVsZW1lbnRGaW5pc2hlckV4dHJhcy5maW5pc2hlcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG5ld0V4dHJhcyA9IGVsZW1lbnRGaW5pc2hlckV4dHJhcy5leHRyYXM7XG5cbiAgICAgICAgICBpZiAobmV3RXh0cmFzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5ld0V4dHJhcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQobmV3RXh0cmFzW2pdLCBwbGFjZW1lbnRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZXh0cmFzLnB1c2guYXBwbHkoZXh0cmFzLCBuZXdFeHRyYXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICBmaW5pc2hlcnM6IGZpbmlzaGVycyxcbiAgICAgICAgICBleHRyYXM6IGV4dHJhc1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGRlY29yYXRlQ29uc3RydWN0b3I6IGZ1bmN0aW9uKGVsZW1lbnRzLCBkZWNvcmF0b3JzKSB7XG4gICAgICAgIHZhciBmaW5pc2hlcnMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHZhciBvYmogPSB0aGlzLmZyb21DbGFzc0Rlc2NyaXB0b3IoZWxlbWVudHMpO1xuICAgICAgICAgIHZhciBlbGVtZW50c0FuZEZpbmlzaGVyID0gdGhpcy50b0NsYXNzRGVzY3JpcHRvcihcbiAgICAgICAgICAgICgwLCBkZWNvcmF0b3JzW2ldKShvYmopIHx8IG9ialxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAoZWxlbWVudHNBbmRGaW5pc2hlci5maW5pc2hlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmaW5pc2hlcnMucHVzaChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZWxlbWVudHNBbmRGaW5pc2hlci5lbGVtZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlbGVtZW50cyA9IGVsZW1lbnRzQW5kRmluaXNoZXIuZWxlbWVudHM7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZWxlbWVudHMubGVuZ3RoIC0gMTsgaisrKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGsgPSBqICsgMTsgayA8IGVsZW1lbnRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgZWxlbWVudHNbal0ua2V5ID09PSBlbGVtZW50c1trXS5rZXkgJiZcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRzW2pdLnBsYWNlbWVudCA9PT0gZWxlbWVudHNba10ucGxhY2VtZW50XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnRHVwbGljYXRlZCBlbGVtZW50ICgnICsgZWxlbWVudHNbal0ua2V5ICsgJyknXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgICAgICAgIGZpbmlzaGVyczogZmluaXNoZXJzXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgZnJvbUVsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciBvYmogPSB7XG4gICAgICAgICAga2luZDogZWxlbWVudC5raW5kLFxuICAgICAgICAgIGtleTogZWxlbWVudC5rZXksXG4gICAgICAgICAgcGxhY2VtZW50OiBlbGVtZW50LnBsYWNlbWVudCxcbiAgICAgICAgICBkZXNjcmlwdG9yOiBlbGVtZW50LmRlc2NyaXB0b3JcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlc2MgPSB7XG4gICAgICAgICAgdmFsdWU6ICdEZXNjcmlwdG9yJyxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkZXNjKTtcbiAgICAgICAgaWYgKGVsZW1lbnQua2luZCA9PT0gJ2ZpZWxkJykgb2JqLmluaXRpYWxpemVyID0gZWxlbWVudC5pbml0aWFsaXplcjtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sXG4gICAgICB0b0VsZW1lbnREZXNjcmlwdG9yczogZnVuY3Rpb24oZWxlbWVudE9iamVjdHMpIHtcbiAgICAgICAgaWYgKGVsZW1lbnRPYmplY3RzID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgcmV0dXJuIF90b0FycmF5KGVsZW1lbnRPYmplY3RzKS5tYXAoZnVuY3Rpb24oZWxlbWVudE9iamVjdCkge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnRPYmplY3QpO1xuICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShcbiAgICAgICAgICAgIGVsZW1lbnRPYmplY3QsXG4gICAgICAgICAgICAnZmluaXNoZXInLFxuICAgICAgICAgICAgJ0FuIGVsZW1lbnQgZGVzY3JpcHRvcidcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShcbiAgICAgICAgICAgIGVsZW1lbnRPYmplY3QsXG4gICAgICAgICAgICAnZXh0cmFzJyxcbiAgICAgICAgICAgICdBbiBlbGVtZW50IGRlc2NyaXB0b3InXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9LFxuICAgICAgdG9FbGVtZW50RGVzY3JpcHRvcjogZnVuY3Rpb24oZWxlbWVudE9iamVjdCkge1xuICAgICAgICB2YXIga2luZCA9IFN0cmluZyhlbGVtZW50T2JqZWN0LmtpbmQpO1xuXG4gICAgICAgIGlmIChraW5kICE9PSAnbWV0aG9kJyAmJiBraW5kICE9PSAnZmllbGQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5raW5kIHByb3BlcnR5IG11c3QgYmUgZWl0aGVyIFwibWV0aG9kXCIgb3InICtcbiAgICAgICAgICAgICAgJyBcImZpZWxkXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvciB3aXRoJyArXG4gICAgICAgICAgICAgICcgLmtpbmQgXCInICtcbiAgICAgICAgICAgICAga2luZCArXG4gICAgICAgICAgICAgICdcIidcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGtleSA9IF90b1Byb3BlcnR5S2V5KGVsZW1lbnRPYmplY3Qua2V5KTtcblxuICAgICAgICB2YXIgcGxhY2VtZW50ID0gU3RyaW5nKGVsZW1lbnRPYmplY3QucGxhY2VtZW50KTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgcGxhY2VtZW50ICE9PSAnc3RhdGljJyAmJlxuICAgICAgICAgIHBsYWNlbWVudCAhPT0gJ3Byb3RvdHlwZScgJiZcbiAgICAgICAgICBwbGFjZW1lbnQgIT09ICdvd24nXG4gICAgICAgICkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAnQW4gZWxlbWVudCBkZXNjcmlwdG9yXFwncyAucGxhY2VtZW50IHByb3BlcnR5IG11c3QgYmUgb25lIG9mIFwic3RhdGljXCIsJyArXG4gICAgICAgICAgICAgICcgXCJwcm90b3R5cGVcIiBvciBcIm93blwiLCBidXQgYSBkZWNvcmF0b3IgY3JlYXRlZCBhbiBlbGVtZW50IGRlc2NyaXB0b3InICtcbiAgICAgICAgICAgICAgJyB3aXRoIC5wbGFjZW1lbnQgXCInICtcbiAgICAgICAgICAgICAgcGxhY2VtZW50ICtcbiAgICAgICAgICAgICAgJ1wiJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnRPYmplY3QuZGVzY3JpcHRvcjtcbiAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KFxuICAgICAgICAgIGVsZW1lbnRPYmplY3QsXG4gICAgICAgICAgJ2VsZW1lbnRzJyxcbiAgICAgICAgICAnQW4gZWxlbWVudCBkZXNjcmlwdG9yJ1xuICAgICAgICApO1xuICAgICAgICB2YXIgZWxlbWVudCA9IHtcbiAgICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgICAgIGRlc2NyaXB0b3I6IE9iamVjdC5hc3NpZ24oe30sIGRlc2NyaXB0b3IpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGtpbmQgIT09ICdmaWVsZCcpIHtcbiAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgICBlbGVtZW50T2JqZWN0LFxuICAgICAgICAgICAgJ2luaXRpYWxpemVyJyxcbiAgICAgICAgICAgICdBIG1ldGhvZCBkZXNjcmlwdG9yJ1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KFxuICAgICAgICAgICAgZGVzY3JpcHRvcixcbiAgICAgICAgICAgICdnZXQnLFxuICAgICAgICAgICAgJ1RoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvcidcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShcbiAgICAgICAgICAgIGRlc2NyaXB0b3IsXG4gICAgICAgICAgICAnc2V0JyxcbiAgICAgICAgICAgICdUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3InXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgJ3ZhbHVlJyxcbiAgICAgICAgICAgICdUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3InXG4gICAgICAgICAgKTtcbiAgICAgICAgICBlbGVtZW50LmluaXRpYWxpemVyID0gZWxlbWVudE9iamVjdC5pbml0aWFsaXplcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfSxcbiAgICAgIHRvRWxlbWVudEZpbmlzaGVyRXh0cmFzOiBmdW5jdGlvbihlbGVtZW50T2JqZWN0KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9yKGVsZW1lbnRPYmplY3QpO1xuXG4gICAgICAgIHZhciBmaW5pc2hlciA9IF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkoZWxlbWVudE9iamVjdCwgJ2ZpbmlzaGVyJyk7XG5cbiAgICAgICAgdmFyIGV4dHJhcyA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcnMoZWxlbWVudE9iamVjdC5leHRyYXMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgZmluaXNoZXI6IGZpbmlzaGVyLFxuICAgICAgICAgIGV4dHJhczogZXh0cmFzXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgZnJvbUNsYXNzRGVzY3JpcHRvcjogZnVuY3Rpb24oZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIG9iaiA9IHtcbiAgICAgICAgICBraW5kOiAnY2xhc3MnLFxuICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cy5tYXAodGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IsIHRoaXMpXG4gICAgICAgIH07XG4gICAgICAgIHZhciBkZXNjID0ge1xuICAgICAgICAgIHZhbHVlOiAnRGVzY3JpcHRvcicsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIFN5bWJvbC50b1N0cmluZ1RhZywgZGVzYyk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9LFxuICAgICAgdG9DbGFzc0Rlc2NyaXB0b3I6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICB2YXIga2luZCA9IFN0cmluZyhvYmoua2luZCk7XG5cbiAgICAgICAgaWYgKGtpbmQgIT09ICdjbGFzcycpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgJ0EgY2xhc3MgZGVzY3JpcHRvclxcJ3MgLmtpbmQgcHJvcGVydHkgbXVzdCBiZSBcImNsYXNzXCIsIGJ1dCBhIGRlY29yYXRvcicgK1xuICAgICAgICAgICAgICAnIGNyZWF0ZWQgYSBjbGFzcyBkZXNjcmlwdG9yIHdpdGggLmtpbmQgXCInICtcbiAgICAgICAgICAgICAga2luZCArXG4gICAgICAgICAgICAgICdcIidcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgJ2tleScsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcbiAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgJ3BsYWNlbWVudCcsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcbiAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgJ2Rlc2NyaXB0b3InLCAnQSBjbGFzcyBkZXNjcmlwdG9yJyk7XG4gICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosICdpbml0aWFsaXplcicsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcbiAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgJ2V4dHJhcycsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcblxuICAgICAgICB2YXIgZmluaXNoZXIgPSBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KG9iaiwgJ2ZpbmlzaGVyJyk7XG5cbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhvYmouZWxlbWVudHMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgICAgICBmaW5pc2hlcjogZmluaXNoZXJcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBydW5DbGFzc0ZpbmlzaGVyczogZnVuY3Rpb24oY29uc3RydWN0b3IsIGZpbmlzaGVycykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmlzaGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBuZXdDb25zdHJ1Y3RvciA9ICgwLCBmaW5pc2hlcnNbaV0pKGNvbnN0cnVjdG9yKTtcblxuICAgICAgICAgIGlmIChuZXdDb25zdHJ1Y3RvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5ld0NvbnN0cnVjdG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpbmlzaGVycyBtdXN0IHJldHVybiBhIGNvbnN0cnVjdG9yLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdHJ1Y3RvciA9IG5ld0NvbnN0cnVjdG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgIH0sXG4gICAgICBkaXNhbGxvd1Byb3BlcnR5OiBmdW5jdGlvbihvYmosIG5hbWUsIG9iamVjdFR5cGUpIHtcbiAgICAgICAgaWYgKG9ialtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgIG9iamVjdFR5cGUgKyBcIiBjYW4ndCBoYXZlIGEgLlwiICsgbmFtZSArICcgcHJvcGVydHkuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBhcGk7XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlRWxlbWVudERlc2NyaXB0b3IoZGVmKSB7XG4gICAgdmFyIGtleSA9IF90b1Byb3BlcnR5S2V5KGRlZi5rZXkpO1xuXG4gICAgdmFyIGRlc2NyaXB0b3I7XG5cbiAgICBpZiAoZGVmLmtpbmQgPT09ICdtZXRob2QnKSB7XG4gICAgICBkZXNjcmlwdG9yID0ge1xuICAgICAgICB2YWx1ZTogZGVmLnZhbHVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGRlZi5raW5kID09PSAnZ2V0Jykge1xuICAgICAgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgZ2V0OiBkZWYudmFsdWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gJ3NldCcpIHtcbiAgICAgIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgIHNldDogZGVmLnZhbHVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09ICdmaWVsZCcpIHtcbiAgICAgIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSB7XG4gICAgICBraW5kOiBkZWYua2luZCA9PT0gJ2ZpZWxkJyA/ICdmaWVsZCcgOiAnbWV0aG9kJyxcbiAgICAgIGtleToga2V5LFxuICAgICAgcGxhY2VtZW50OiBkZWYuc3RhdGljXG4gICAgICAgID8gJ3N0YXRpYydcbiAgICAgICAgOiBkZWYua2luZCA9PT0gJ2ZpZWxkJ1xuICAgICAgICA/ICdvd24nXG4gICAgICAgIDogJ3Byb3RvdHlwZScsXG4gICAgICBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yXG4gICAgfTtcbiAgICBpZiAoZGVmLmRlY29yYXRvcnMpIGVsZW1lbnQuZGVjb3JhdG9ycyA9IGRlZi5kZWNvcmF0b3JzO1xuICAgIGlmIChkZWYua2luZCA9PT0gJ2ZpZWxkJykgZWxlbWVudC5pbml0aWFsaXplciA9IGRlZi52YWx1ZTtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jb2FsZXNjZUdldHRlclNldHRlcihlbGVtZW50LCBvdGhlcikge1xuICAgIGlmIChlbGVtZW50LmRlc2NyaXB0b3IuZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG90aGVyLmRlc2NyaXB0b3IuZ2V0ID0gZWxlbWVudC5kZXNjcmlwdG9yLmdldDtcbiAgICB9IGVsc2Uge1xuICAgICAgb3RoZXIuZGVzY3JpcHRvci5zZXQgPSBlbGVtZW50LmRlc2NyaXB0b3Iuc2V0O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoZWxlbWVudHMpIHtcbiAgICB2YXIgbmV3RWxlbWVudHMgPSBbXTtcblxuICAgIHZhciBpc1NhbWVFbGVtZW50ID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG90aGVyLmtpbmQgPT09ICdtZXRob2QnICYmXG4gICAgICAgIG90aGVyLmtleSA9PT0gZWxlbWVudC5rZXkgJiZcbiAgICAgICAgb3RoZXIucGxhY2VtZW50ID09PSBlbGVtZW50LnBsYWNlbWVudFxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgIHZhciBvdGhlcjtcblxuICAgICAgaWYgKFxuICAgICAgICBlbGVtZW50LmtpbmQgPT09ICdtZXRob2QnICYmXG4gICAgICAgIChvdGhlciA9IG5ld0VsZW1lbnRzLmZpbmQoaXNTYW1lRWxlbWVudCkpXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIF9pc0RhdGFEZXNjcmlwdG9yKGVsZW1lbnQuZGVzY3JpcHRvcikgfHxcbiAgICAgICAgICBfaXNEYXRhRGVzY3JpcHRvcihvdGhlci5kZXNjcmlwdG9yKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoX2hhc0RlY29yYXRvcnMoZWxlbWVudCkgfHwgX2hhc0RlY29yYXRvcnMob3RoZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXG4gICAgICAgICAgICAgICdEdXBsaWNhdGVkIG1ldGhvZHMgKCcgKyBlbGVtZW50LmtleSArIFwiKSBjYW4ndCBiZSBkZWNvcmF0ZWQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb3RoZXIuZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGlmIChfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxuICAgICAgICAgICAgICAgIFwiRGVjb3JhdG9ycyBjYW4ndCBiZSBwbGFjZWQgb24gZGlmZmVyZW50IGFjY2Vzc29ycyB3aXRoIGZvciBcIiArXG4gICAgICAgICAgICAgICAgICAndGhlIHNhbWUgcHJvcGVydHkgKCcgK1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5rZXkgK1xuICAgICAgICAgICAgICAgICAgJykuJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdGhlci5kZWNvcmF0b3JzID0gZWxlbWVudC5kZWNvcmF0b3JzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9jb2FsZXNjZUdldHRlclNldHRlcihlbGVtZW50LCBvdGhlcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0VsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0VsZW1lbnRzO1xuICB9XG5cbiAgZnVuY3Rpb24gX2hhc0RlY29yYXRvcnMoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50LmRlY29yYXRvcnMgJiYgZWxlbWVudC5kZWNvcmF0b3JzLmxlbmd0aDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pc0RhdGFEZXNjcmlwdG9yKGRlc2MpIHtcbiAgICByZXR1cm4gKFxuICAgICAgZGVzYyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAhKGRlc2MudmFsdWUgPT09IHVuZGVmaW5lZCAmJiBkZXNjLndyaXRhYmxlID09PSB1bmRlZmluZWQpXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkob2JqLCBuYW1lKSB7XG4gICAgdmFyIHZhbHVlID0gb2JqW25hbWVdO1xuXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgJ1wiICsgbmFtZSArIFwiJyB0byBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVNZXRob2RHZXQocmVjZWl2ZXIsIHByaXZhdGVTZXQsIGZuKSB7XG4gICAgaWYgKCFwcml2YXRlU2V0LmhhcyhyZWNlaXZlcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm47XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlTWV0aG9kU2V0KCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byByZWFzc2lnbiBwcml2YXRlIG1ldGhvZCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3dyYXBSZWdFeHAocmUsIGdyb3Vwcykge1xuICAgIF93cmFwUmVnRXhwID0gZnVuY3Rpb24ocmUsIGdyb3Vwcykge1xuICAgICAgcmV0dXJuIG5ldyBCYWJlbFJlZ0V4cChyZSwgZ3JvdXBzKTtcbiAgICB9O1xuXG4gICAgdmFyIF9SZWdFeHAgPSBfd3JhcE5hdGl2ZVN1cGVyKFJlZ0V4cCk7XG5cbiAgICB2YXIgX3N1cGVyID0gUmVnRXhwLnByb3RvdHlwZTtcblxuICAgIHZhciBfZ3JvdXBzID0gbmV3IFdlYWtNYXAoKTtcblxuICAgIGZ1bmN0aW9uIEJhYmVsUmVnRXhwKHJlLCBncm91cHMpIHtcbiAgICAgIHZhciBfdGhpcyA9IF9SZWdFeHAuY2FsbCh0aGlzLCByZSk7XG5cbiAgICAgIF9ncm91cHMuc2V0KF90aGlzLCBncm91cHMpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2luaGVyaXRzKEJhYmVsUmVnRXhwLCBfUmVnRXhwKTtcblxuICAgIEJhYmVsUmVnRXhwLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gX3N1cGVyLmV4ZWMuY2FsbCh0aGlzLCBzdHIpO1xuXG4gICAgICBpZiAocmVzdWx0KSByZXN1bHQuZ3JvdXBzID0gYnVpbGRHcm91cHMocmVzdWx0LCB0aGlzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIEJhYmVsUmVnRXhwLnByb3RvdHlwZVtTeW1ib2wucmVwbGFjZV0gPSBmdW5jdGlvbihzdHIsIHN1YnN0aXR1dGlvbikge1xuICAgICAgaWYgKHR5cGVvZiBzdWJzdGl0dXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciBncm91cHMgPSBfZ3JvdXBzLmdldCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gX3N1cGVyW1N5bWJvbC5yZXBsYWNlXS5jYWxsKFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgc3RyLFxuICAgICAgICAgIHN1YnN0aXR1dGlvbi5yZXBsYWNlKC9cXCQ8KFtePl0rKT4vZywgZnVuY3Rpb24oXywgbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuICckJyArIGdyb3Vwc1tuYW1lXTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3Vic3RpdHV0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIF9zdXBlcltTeW1ib2wucmVwbGFjZV0uY2FsbCh0aGlzLCBzdHIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgYXJncy5wdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaChidWlsZEdyb3VwcyhhcmdzLCBfdGhpcykpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzdWJzdGl0dXRpb24uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlcltTeW1ib2wucmVwbGFjZV0uY2FsbCh0aGlzLCBzdHIsIHN1YnN0aXR1dGlvbik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGJ1aWxkR3JvdXBzKHJlc3VsdCwgcmUpIHtcbiAgICAgIHZhciBnID0gX2dyb3Vwcy5nZXQocmUpO1xuXG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoZykucmVkdWNlKGZ1bmN0aW9uKGdyb3VwcywgbmFtZSkge1xuICAgICAgICBncm91cHNbbmFtZV0gPSByZXN1bHRbZ1tuYW1lXV07XG4gICAgICAgIHJldHVybiBncm91cHM7XG4gICAgICB9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3dyYXBSZWdFeHAuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHZhciBhcnJheVJlbW92ZSA9IGZ1bmN0aW9uIGFycmF5UmVtb3ZlKGFyciwgaW5kZXgpIHtcbiAgICByZXR1cm4gYXJyLnNwbGljZShpbmRleCwgMSk7XG4gIH07XG5cbiAgdmFyIHJ1biA9IGZ1bmN0aW9uIHJ1bihjYiwgc3luYykge1xuICAgIGlmIChzeW5jKSB7XG4gICAgICBjYigpO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICBQcm9taXNlLnJlc29sdmUoMSkudGhlbihjYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQoY2IsIDApO1xuICAgIH1cbiAgfTtcblxuICB2YXIgb24gPSBmdW5jdGlvbiBvbigpIHtcbiAgICB2YXIgbGlzdGVuZXJzID0gW107XG4gICAgdmFyIG9mZiA9IGZ1bmN0aW9uIG9mZihldmVudCwgY2IpIHtcbiAgICAgIGFycmF5UmVtb3ZlKFxuICAgICAgICBsaXN0ZW5lcnMsXG4gICAgICAgIGxpc3RlbmVycy5maW5kSW5kZXgoZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuZXZlbnQgPT09IGV2ZW50ICYmIChsaXN0ZW5lci5jYiA9PT0gY2IgfHwgIWNiKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfTtcbiAgICB2YXIgX2ZpcmUgPSBmdW5jdGlvbiBmaXJlKGV2ZW50LCBhcmdzLCBzeW5jKSB7XG4gICAgICBsaXN0ZW5lcnNcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgIHJldHVybiBsaXN0ZW5lci5ldmVudCA9PT0gZXZlbnQ7XG4gICAgICAgIH0pXG4gICAgICAgIC5tYXAoZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuY2I7XG4gICAgICAgIH0pXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGNiKSB7XG4gICAgICAgICAgcmV0dXJuIHJ1bihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBjYi5hcHBseSh2b2lkIDAsIF90b0NvbnN1bWFibGVBcnJheShhcmdzKSk7XG4gICAgICAgICAgfSwgc3luYyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpcmVTeW5jOiBmdW5jdGlvbiBmaXJlU3luYyhldmVudCkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLFxuICAgICAgICAgICAgX2tleSA9IDE7XG4gICAgICAgICAgX2tleSA8IF9sZW47XG4gICAgICAgICAgX2tleSsrXG4gICAgICAgICkge1xuICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG4gICAgICAgIF9maXJlKGV2ZW50LCBhcmdzLCB0cnVlKTtcbiAgICAgIH0sXG4gICAgICBmaXJlOiBmdW5jdGlvbiBmaXJlKGV2ZW50KSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksXG4gICAgICAgICAgICBfa2V5MiA9IDE7XG4gICAgICAgICAgX2tleTIgPCBfbGVuMjtcbiAgICAgICAgICBfa2V5MisrXG4gICAgICAgICkge1xuICAgICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgIH1cbiAgICAgICAgX2ZpcmUoZXZlbnQsIGFyZ3MsIGZhbHNlKTtcbiAgICAgIH0sXG4gICAgICBvbjogZnVuY3Rpb24gb24oZXZlbnQsIGNiKSB7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKHsgZXZlbnQ6IGV2ZW50LCBjYjogY2IgfSk7XG4gICAgICB9LFxuICAgICAgb25PbmNlOiBmdW5jdGlvbiBvbk9uY2UoZXZlbnQsIF9jYikge1xuICAgICAgICBsaXN0ZW5lcnMucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGNiOiBmdW5jdGlvbiBjYigpIHtcbiAgICAgICAgICAgIG9mZihldmVudCwgX2NiKTtcbiAgICAgICAgICAgIF9jYi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBvZmY6IG9mZlxuICAgIH07XG4gIH07XG5cbiAgdmFyIGNvcHlPYmplY3RQcm9wZXJ0aWVzVG9PYmplY3QgPSBmdW5jdGlvbiBjb3B5T2JqZWN0UHJvcGVydGllc1RvT2JqZWN0KFxuICAgIHNyYyxcbiAgICB0YXJnZXQsXG4gICAgZXhjbHVkZWRcbiAgKSB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc3JjKVxuICAgICAgLmZpbHRlcihmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gIWV4Y2x1ZGVkLmluY2x1ZGVzKHByb3BlcnR5KTtcbiAgICAgIH0pXG4gICAgICAuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc3JjLCBrZXkpXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgfTtcblxuICB2YXIgUFJJVkFURSA9IFtcbiAgICAnZmlyZScsXG4gICAgJ3Byb2Nlc3MnLFxuICAgICdyZXZlcnQnLFxuICAgICdsb2FkJyxcbiAgICAnb24nLFxuICAgICdvZmYnLFxuICAgICdvbk9uY2UnLFxuICAgICdyZXRyeUxvYWQnLFxuICAgICdleHRlbmQnLFxuICAgICdhcmNoaXZlJyxcbiAgICAnYXJjaGl2ZWQnLFxuICAgICdyZWxlYXNlJyxcbiAgICAncmVsZWFzZWQnLFxuICAgICdyZXF1ZXN0UHJvY2Vzc2luZycsXG4gICAgJ2ZyZWV6ZSdcbiAgXTtcblxuICB2YXIgY3JlYXRlSXRlbUFQSSA9IGZ1bmN0aW9uIGNyZWF0ZUl0ZW1BUEkoaXRlbSkge1xuICAgIHZhciBhcGkgPSB7fTtcbiAgICBjb3B5T2JqZWN0UHJvcGVydGllc1RvT2JqZWN0KGl0ZW0sIGFwaSwgUFJJVkFURSk7XG4gICAgcmV0dXJuIGFwaTtcbiAgfTtcblxuICB2YXIgcmVtb3ZlUmVsZWFzZWRJdGVtcyA9IGZ1bmN0aW9uIHJlbW92ZVJlbGVhc2VkSXRlbXMoaXRlbXMpIHtcbiAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICBpZiAoaXRlbS5yZWxlYXNlZCkge1xuICAgICAgICBhcnJheVJlbW92ZShpdGVtcywgaW5kZXgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBJdGVtU3RhdHVzID0ge1xuICAgIElOSVQ6IDEsXG4gICAgSURMRTogMixcbiAgICBQUk9DRVNTSU5HX1FVRVVFRDogOSxcbiAgICBQUk9DRVNTSU5HOiAzLFxuICAgIFBST0NFU1NJTkdfQ09NUExFVEU6IDUsXG4gICAgUFJPQ0VTU0lOR19FUlJPUjogNixcbiAgICBQUk9DRVNTSU5HX1JFVkVSVF9FUlJPUjogMTAsXG4gICAgTE9BRElORzogNyxcbiAgICBMT0FEX0VSUk9SOiA4XG4gIH07XG5cbiAgdmFyIEZpbGVPcmlnaW4gPSB7XG4gICAgSU5QVVQ6IDEsXG4gICAgTElNQk86IDIsXG4gICAgTE9DQUw6IDNcbiAgfTtcblxuICB2YXIgZ2V0Tm9uTnVtZXJpYyA9IGZ1bmN0aW9uIGdldE5vbk51bWVyaWMoc3RyKSB7XG4gICAgcmV0dXJuIC9bXjAtOV0rLy5leGVjKHN0cik7XG4gIH07XG5cbiAgdmFyIGdldERlY2ltYWxTZXBhcmF0b3IgPSBmdW5jdGlvbiBnZXREZWNpbWFsU2VwYXJhdG9yKCkge1xuICAgIHJldHVybiBnZXROb25OdW1lcmljKCgxLjEpLnRvTG9jYWxlU3RyaW5nKCkpWzBdO1xuICB9O1xuXG4gIHZhciBnZXRUaG91c2FuZHNTZXBhcmF0b3IgPSBmdW5jdGlvbiBnZXRUaG91c2FuZHNTZXBhcmF0b3IoKSB7XG4gICAgLy8gQWRkZWQgZm9yIGJyb3dzZXJzIHRoYXQgZG8gbm90IHJldHVybiB0aGUgdGhvdXNhbmRzIHNlcGFyYXRvciAoaGFwcGVuZCBvbiBuYXRpdmUgYnJvd3NlciBBbmRyb2lkIDQuNC40KVxuICAgIC8vIFdlIGNoZWNrIGFnYWluc3QgdGhlIG5vcm1hbCB0b1N0cmluZyBvdXRwdXQgYW5kIGlmIHRoZXkncmUgdGhlIHNhbWUgcmV0dXJuIGEgY29tbWEgd2hlbiBkZWNpbWFsIHNlcGFyYXRvciBpcyBhIGRvdFxuICAgIHZhciBkZWNpbWFsU2VwYXJhdG9yID0gZ2V0RGVjaW1hbFNlcGFyYXRvcigpO1xuICAgIHZhciB0aG91c2FuZHNTdHJpbmdXaXRoU2VwYXJhdG9yID0gKDEwMDAuMCkudG9Mb2NhbGVTdHJpbmcoKTtcbiAgICB2YXIgdGhvdXNhbmRzU3RyaW5nV2l0aG91dFNlcGFyYXRvciA9ICgxMDAwLjApLnRvU3RyaW5nKCk7XG4gICAgaWYgKHRob3VzYW5kc1N0cmluZ1dpdGhTZXBhcmF0b3IgIT09IHRob3VzYW5kc1N0cmluZ1dpdGhvdXRTZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBnZXROb25OdW1lcmljKHRob3VzYW5kc1N0cmluZ1dpdGhTZXBhcmF0b3IpWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZGVjaW1hbFNlcGFyYXRvciA9PT0gJy4nID8gJywnIDogJy4nO1xuICB9O1xuXG4gIHZhciBUeXBlID0ge1xuICAgIEJPT0xFQU46ICdib29sZWFuJyxcbiAgICBJTlQ6ICdpbnQnLFxuICAgIE5VTUJFUjogJ251bWJlcicsXG4gICAgU1RSSU5HOiAnc3RyaW5nJyxcbiAgICBBUlJBWTogJ2FycmF5JyxcbiAgICBPQkpFQ1Q6ICdvYmplY3QnLFxuICAgIEZVTkNUSU9OOiAnZnVuY3Rpb24nLFxuICAgIEFDVElPTjogJ2FjdGlvbicsXG4gICAgU0VSVkVSX0FQSTogJ3NlcnZlcmFwaScsXG4gICAgUkVHRVg6ICdyZWdleCdcbiAgfTtcblxuICAvLyBhbGwgcmVnaXN0ZXJlZCBmaWx0ZXJzXG4gIHZhciBmaWx0ZXJzID0gW107XG5cbiAgLy8gbG9vcHMgb3ZlciBtYXRjaGluZyBmaWx0ZXJzIGFuZCBwYXNzZXMgb3B0aW9ucyB0byBlYWNoIGZpbHRlciwgcmV0dXJuaW5nIHRoZSBtYXBwZWQgcmVzdWx0c1xuICB2YXIgYXBwbHlGaWx0ZXJDaGFpbiA9IGZ1bmN0aW9uIGFwcGx5RmlsdGVyQ2hhaW4oa2V5LCB2YWx1ZSwgdXRpbHMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAvLyBmaW5kIG1hdGNoaW5nIGZpbHRlcnMgZm9yIHRoaXMga2V5XG4gICAgICB2YXIgbWF0Y2hpbmdGaWx0ZXJzID0gZmlsdGVyc1xuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICByZXR1cm4gZi5rZXkgPT09IGtleTtcbiAgICAgICAgfSlcbiAgICAgICAgLm1hcChmdW5jdGlvbihmKSB7XG4gICAgICAgICAgcmV0dXJuIGYuY2I7XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyByZXNvbHZlIG5vd1xuICAgICAgaWYgKG1hdGNoaW5nRmlsdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gZmlyc3QgZmlsdGVyIHRvIGtpY2sgdGhpbmdzIG9mXG4gICAgICB2YXIgaW5pdGlhbEZpbHRlciA9IG1hdGNoaW5nRmlsdGVycy5zaGlmdCgpO1xuXG4gICAgICAvLyBjaGFpbiBmaWx0ZXJzXG4gICAgICBtYXRjaGluZ0ZpbHRlcnNcbiAgICAgICAgLnJlZHVjZShcbiAgICAgICAgICAvLyBsb29wIG92ZXIgcHJvbWlzZXMgcGFzc2luZyB2YWx1ZSB0byBuZXh0IHByb21pc2VcbiAgICAgICAgICBmdW5jdGlvbihjdXJyZW50LCBuZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudC50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0KHZhbHVlLCB1dGlscyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgLy8gY2FsbCBpbml0aWFsIGZpbHRlciwgd2lsbCByZXR1cm4gYSBwcm9taXNlXG4gICAgICAgICAgaW5pdGlhbEZpbHRlcih2YWx1ZSwgdXRpbHMpXG5cbiAgICAgICAgICAvLyBhbGwgZXhlY3V0ZWRcbiAgICAgICAgKVxuICAgICAgICAudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBhcHBseUZpbHRlcnMgPSBmdW5jdGlvbiBhcHBseUZpbHRlcnMoa2V5LCB2YWx1ZSwgdXRpbHMpIHtcbiAgICByZXR1cm4gZmlsdGVyc1xuICAgICAgLmZpbHRlcihmdW5jdGlvbihmKSB7XG4gICAgICAgIHJldHVybiBmLmtleSA9PT0ga2V5O1xuICAgICAgfSlcbiAgICAgIC5tYXAoZnVuY3Rpb24oZikge1xuICAgICAgICByZXR1cm4gZi5jYih2YWx1ZSwgdXRpbHMpO1xuICAgICAgfSk7XG4gIH07XG5cbiAgLy8gYWRkcyBhIG5ldyBmaWx0ZXIgdG8gdGhlIGxpc3RcbiAgdmFyIGFkZEZpbHRlciA9IGZ1bmN0aW9uIGFkZEZpbHRlcihrZXksIGNiKSB7XG4gICAgcmV0dXJuIGZpbHRlcnMucHVzaCh7IGtleToga2V5LCBjYjogY2IgfSk7XG4gIH07XG5cbiAgdmFyIGV4dGVuZERlZmF1bHRPcHRpb25zID0gZnVuY3Rpb24gZXh0ZW5kRGVmYXVsdE9wdGlvbnMoYWRkaXRpb25hbE9wdGlvbnMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihkZWZhdWx0T3B0aW9ucywgYWRkaXRpb25hbE9wdGlvbnMpO1xuICB9O1xuXG4gIHZhciBnZXRPcHRpb25zID0gZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMpO1xuICB9O1xuXG4gIHZhciBzZXRPcHRpb25zID0gZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRzKSB7XG4gICAgZm9yaW4ob3B0cywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgLy8ga2V5IGRvZXMgbm90IGV4aXN0LCBzbyB0aGlzIG9wdGlvbiBjYW5ub3QgYmUgc2V0XG4gICAgICBpZiAoIWRlZmF1bHRPcHRpb25zW2tleV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVmYXVsdE9wdGlvbnNba2V5XVswXSA9IGdldFZhbHVlQnlUeXBlKFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgZGVmYXVsdE9wdGlvbnNba2V5XVswXSxcbiAgICAgICAgZGVmYXVsdE9wdGlvbnNba2V5XVsxXVxuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBkZWZhdWx0IG9wdGlvbnMgb24gYXBwXG4gIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAvLyB0aGUgaWQgdG8gYWRkIHRvIHRoZSByb290IGVsZW1lbnRcbiAgICBpZDogW251bGwsIFR5cGUuU1RSSU5HXSxcblxuICAgIC8vIGlucHV0IGZpZWxkIG5hbWUgdG8gdXNlXG4gICAgbmFtZTogWydmaWxlcG9uZCcsIFR5cGUuU1RSSU5HXSxcblxuICAgIC8vIGRpc2FibGUgdGhlIGZpZWxkXG4gICAgZGlzYWJsZWQ6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSxcblxuICAgIC8vIGNsYXNzbmFtZSB0byBwdXQgb24gd3JhcHBlclxuICAgIGNsYXNzTmFtZTogW251bGwsIFR5cGUuU1RSSU5HXSxcblxuICAgIC8vIGlzIHRoZSBmaWVsZCByZXF1aXJlZFxuICAgIHJlcXVpcmVkOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAvLyBBbGxvdyBtZWRpYSBjYXB0dXJlIHdoZW4gdmFsdWUgaXMgc2V0XG4gICAgY2FwdHVyZU1ldGhvZDogW251bGwsIFR5cGUuU1RSSU5HXSxcbiAgICAvLyAtIFwiY2FtZXJhXCIsIFwibWljcm9waG9uZVwiIG9yIFwiY2FtY29yZGVyXCIsXG4gICAgLy8gLSBEb2VzIG5vdCB3b3JrIHdpdGggbXVsdGlwbGUgb24gYXBwbGUgZGV2aWNlc1xuICAgIC8vIC0gSWYgc2V0LCBhY2NlcHRlZEZpbGVUeXBlcyBtdXN0IGJlIG1hZGUgdG8gbWF0Y2ggd2l0aCBtZWRpYSB3aWxkY2FyZCBcImltYWdlLypcIiwgXCJhdWRpby8qXCIgb3IgXCJ2aWRlby8qXCJcblxuICAgIC8vIHN5bmMgYGFjY2VwdGVkRmlsZVR5cGVzYCBwcm9wZXJ0eSB3aXRoIGBhY2NlcHRgIGF0dHJpYnV0ZVxuICAgIGFsbG93U3luY0FjY2VwdEF0dHJpYnV0ZTogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAvLyBGZWF0dXJlIHRvZ2dsZXNcbiAgICBhbGxvd0Ryb3A6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyBkcm9wcGluZyBvZiBmaWxlc1xuICAgIGFsbG93QnJvd3NlOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgYnJvd3NpbmcgdGhlIGZpbGUgc3lzdGVtXG4gICAgYWxsb3dQYXN0ZTogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IHBhc3RpbmcgZmlsZXNcbiAgICBhbGxvd011bHRpcGxlOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IG11bHRpcGxlIGZpbGVzIChkaXNhYmxlZCBieSBkZWZhdWx0LCBhcyBtdWx0aXBsZSBhdHRyaWJ1dGUgaXMgYWxzbyByZXF1aXJlZCBvbiBpbnB1dCB0byBhbGxvdyBtdWx0aXBsZSlcbiAgICBhbGxvd1JlcGxhY2U6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyBkcm9wcGluZyBhIGZpbGUgb24gb3RoZXIgZmlsZSB0byByZXBsYWNlIGl0IChvbmx5IHdvcmtzIHdoZW4gbXVsdGlwbGUgaXMgc2V0IHRvIGZhbHNlKVxuICAgIGFsbG93UmV2ZXJ0OiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3dzIHVzZXIgdG8gcmV2ZXJ0IGZpbGUgdXBsb2FkXG4gICAgYWxsb3dSZW1vdmU6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyB1c2VyIHRvIHJlbW92ZSBhIGZpbGVcbiAgICBhbGxvd1Byb2Nlc3M6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvd3MgdXNlciB0byBwcm9jZXNzIGEgZmlsZSwgd2hlbiBzZXQgdG8gZmFsc2UsIHRoaXMgcmVtb3ZlcyB0aGUgZmlsZSB1cGxvYWQgYnV0dG9uXG4gICAgYWxsb3dSZW9yZGVyOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IHJlb3JkZXJpbmcgb2YgZmlsZXNcbiAgICBhbGxvd0RpcmVjdG9yaWVzT25seTogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyBvbmx5IHNlbGVjdGluZyBkaXJlY3RvcmllcyB3aXRoIGJyb3dzZSAobm8gc3VwcG9ydCBmb3IgZmlsdGVyaW5nIGRuZCBhdCB0aGlzIHBvaW50KVxuXG4gICAgLy8gUmV2ZXJ0IG1vZGVcbiAgICBmb3JjZVJldmVydDogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBTZXQgdG8gJ2ZvcmNlJyB0byByZXF1aXJlIHRoZSBmaWxlIHRvIGJlIHJldmVydGVkIGJlZm9yZSByZW1vdmFsXG5cbiAgICAvLyBJbnB1dCByZXF1aXJlbWVudHNcbiAgICBtYXhGaWxlczogW251bGwsIFR5cGUuSU5UXSwgLy8gTWF4IG51bWJlciBvZiBmaWxlc1xuICAgIGNoZWNrVmFsaWRpdHk6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gRW5hYmxlcyBjdXN0b20gdmFsaWRpdHkgbWVzc2FnZXNcblxuICAgIC8vIFdoZXJlIHRvIHB1dCBmaWxlXG4gICAgaXRlbUluc2VydExvY2F0aW9uRnJlZWRvbTogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIFNldCB0byBmYWxzZSB0byBhbHdheXMgYWRkIGl0ZW1zIHRvIGJlZ2luIG9yIGVuZCBvZiBsaXN0XG4gICAgaXRlbUluc2VydExvY2F0aW9uOiBbJ2JlZm9yZScsIFR5cGUuU1RSSU5HXSwgLy8gRGVmYXVsdCBpbmRleCBpbiBsaXN0IHRvIGFkZCBpdGVtcyB0aGF0IGhhdmUgYmVlbiBkcm9wcGVkIGF0IHRoZSB0b3Agb2YgdGhlIGxpc3RcbiAgICBpdGVtSW5zZXJ0SW50ZXJ2YWw6IFs3NSwgVHlwZS5JTlRdLFxuXG4gICAgLy8gRHJhZyAnbiBEcm9wIHJlbGF0ZWRcbiAgICBkcm9wT25QYWdlOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IGRyb3BwaW5nIG9mIGZpbGVzIGFueXdoZXJlIG9uIHBhZ2UgKHByZXZlbnRzIGJyb3dzZXIgZnJvbSBvcGVuaW5nIGZpbGUgaWYgZHJvcHBlZCBvdXRzaWRlIG9mIFVwKVxuICAgIGRyb3BPbkVsZW1lbnQ6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBEcm9wIG5lZWRzIHRvIGhhcHBlbiBvbiBlbGVtZW50IChzZXQgdG8gZmFsc2UgdG8gYWxzbyBsb2FkIGRyb3BzIG91dHNpZGUgb2YgVXApXG4gICAgZHJvcFZhbGlkYXRpb246IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gRW5hYmxlIG9yIGRpc2FibGUgdmFsaWRhdGluZyBmaWxlcyBvbiBkcm9wXG4gICAgaWdub3JlZEZpbGVzOiBbWycuZHNfc3RvcmUnLCAndGh1bWJzLmRiJywgJ2Rlc2t0b3AuaW5pJ10sIFR5cGUuQVJSQVldLFxuXG4gICAgLy8gVXBsb2FkIHJlbGF0ZWRcbiAgICBpbnN0YW50VXBsb2FkOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gU2hvdWxkIHVwbG9hZCBmaWxlcyBpbW1pZGlhdGVseSBvbiBkcm9wXG4gICAgbWF4UGFyYWxsZWxVcGxvYWRzOiBbMiwgVHlwZS5JTlRdLCAvLyBNYXhpbXVtIGZpbGVzIHRvIHVwbG9hZCBpbiBwYXJhbGxlbFxuXG4gICAgLy8gQ2h1bmtzXG4gICAgY2h1bmtVcGxvYWRzOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIEVuYWJsZSBjaHVua2VkIHVwbG9hZHNcbiAgICBjaHVua0ZvcmNlOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIEZvcmNlIHVzZSBvZiBjaHVuayB1cGxvYWRzIGV2ZW4gZm9yIGZpbGVzIHNtYWxsZXIgdGhhbiBjaHVuayBzaXplXG4gICAgY2h1bmtTaXplOiBbNTAwMDAwMCwgVHlwZS5JTlRdLCAvLyBTaXplIG9mIGNodW5rcyAoNU1CIGRlZmF1bHQpXG4gICAgY2h1bmtSZXRyeURlbGF5czogW1s1MDAsIDEwMDAsIDMwMDBdLCBUeXBlLkFycmF5XSwgLy8gQW1vdW50IG9mIHRpbWVzIHRvIHJldHJ5IHVwbG9hZCBvZiBhIGNodW5rIHdoZW4gaXQgZmFpbHNcblxuICAgIC8vIFRoZSBzZXJ2ZXIgYXBpIGVuZCBwb2ludHMgdG8gdXNlIGZvciB1cGxvYWRpbmcgKHNlZSBkb2NzKVxuICAgIHNlcnZlcjogW251bGwsIFR5cGUuU0VSVkVSX0FQSV0sXG5cbiAgICAvLyBMYWJlbHMgYW5kIHN0YXR1cyBtZXNzYWdlc1xuICAgIGxhYmVsRGVjaW1hbFNlcGFyYXRvcjogW2dldERlY2ltYWxTZXBhcmF0b3IoKSwgVHlwZS5TVFJJTkddLCAvLyBEZWZhdWx0IGlzIGxvY2FsZSBzZXBhcmF0b3JcbiAgICBsYWJlbFRob3VzYW5kc1NlcGFyYXRvcjogW2dldFRob3VzYW5kc1NlcGFyYXRvcigpLCBUeXBlLlNUUklOR10sIC8vIERlZmF1bHQgaXMgbG9jYWxlIHNlcGFyYXRvclxuXG4gICAgbGFiZWxJZGxlOiBbXG4gICAgICAnRHJhZyAmIERyb3AgeW91ciBmaWxlcyBvciA8c3BhbiBjbGFzcz1cImZpbGVwb25kLS1sYWJlbC1hY3Rpb25cIj5Ccm93c2U8L3NwYW4+JyxcbiAgICAgIFR5cGUuU1RSSU5HXG4gICAgXSxcbiAgICBsYWJlbEludmFsaWRGaWVsZDogWydGaWVsZCBjb250YWlucyBpbnZhbGlkIGZpbGVzJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplOiBbJ1dhaXRpbmcgZm9yIHNpemUnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogWydTaXplIG5vdCBhdmFpbGFibGUnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlQ291bnRTaW5ndWxhcjogWydmaWxlIGluIGxpc3QnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlQ291bnRQbHVyYWw6IFsnZmlsZXMgaW4gbGlzdCcsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVMb2FkaW5nOiBbJ0xvYWRpbmcnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlQWRkZWQ6IFsnQWRkZWQnLCBUeXBlLlNUUklOR10sIC8vIGFzc2lzdGl2ZSBvbmx5XG4gICAgbGFiZWxGaWxlTG9hZEVycm9yOiBbJ0Vycm9yIGR1cmluZyBsb2FkJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZVJlbW92ZWQ6IFsnUmVtb3ZlZCcsIFR5cGUuU1RSSU5HXSwgLy8gYXNzaXN0aXZlIG9ubHlcbiAgICBsYWJlbEZpbGVSZW1vdmVFcnJvcjogWydFcnJvciBkdXJpbmcgcmVtb3ZlJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZVByb2Nlc3Npbmc6IFsnVXBsb2FkaW5nJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogWydVcGxvYWQgY29tcGxldGUnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ6IFsnVXBsb2FkIGNhbmNlbGxlZCcsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3I6IFsnRXJyb3IgZHVyaW5nIHVwbG9hZCcsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6IFsnRXJyb3IgZHVyaW5nIHJldmVydCcsIFR5cGUuU1RSSU5HXSxcblxuICAgIGxhYmVsVGFwVG9DYW5jZWw6IFsndGFwIHRvIGNhbmNlbCcsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbFRhcFRvUmV0cnk6IFsndGFwIHRvIHJldHJ5JywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsVGFwVG9VbmRvOiBbJ3RhcCB0byB1bmRvJywgVHlwZS5TVFJJTkddLFxuXG4gICAgbGFiZWxCdXR0b25SZW1vdmVJdGVtOiBbJ1JlbW92ZScsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ6IFsnQWJvcnQnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiBbJ1JldHJ5JywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogWydDYW5jZWwnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc6IFsnVW5kbycsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6IFsnUmV0cnknLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxCdXR0b25Qcm9jZXNzSXRlbTogWydVcGxvYWQnLCBUeXBlLlNUUklOR10sXG5cbiAgICAvLyBtYWtlIHN1cmUgd2lkdGggYW5kIGhlaWdodCBwbHVzIHZpZXdwb3ggYXJlIGV2ZW4gbnVtYmVycyBzbyBpY29ucyBhcmUgbmljZWx5IGNlbnRlcmVkXG4gICAgaWNvblJlbW92ZTogW1xuICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTExLjU4NiAxM2wtMi4yOTMgMi4yOTNhMSAxIDAgMCAwIDEuNDE0IDEuNDE0TDEzIDE0LjQxNGwyLjI5MyAyLjI5M2ExIDEgMCAwIDAgMS40MTQtMS40MTRMMTQuNDE0IDEzbDIuMjkzLTIuMjkzYTEgMSAwIDAgMC0xLjQxNC0xLjQxNEwxMyAxMS41ODZsLTIuMjkzLTIuMjkzYTEgMSAwIDAgMC0xLjQxNCAxLjQxNEwxMS41ODYgMTN6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+JyxcbiAgICAgIFR5cGUuU1RSSU5HXG4gICAgXSxcblxuICAgIGljb25Qcm9jZXNzOiBbXG4gICAgICAnPHN2ZyB3aWR0aD1cIjI2XCIgaGVpZ2h0PVwiMjZcIiB2aWV3Qm94PVwiMCAwIDI2IDI2XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTQgMTAuNDE0djMuNTg1YTEgMSAwIDAgMS0yIDB2LTMuNTg1bC0xLjI5MyAxLjI5M2ExIDEgMCAwIDEtMS40MTQtMS40MTVsMy0zYTEgMSAwIDAgMSAxLjQxNCAwbDMgM2ExIDEgMCAwIDEtMS40MTQgMS40MTVMMTQgMTAuNDE0ek05IDE4YTEgMSAwIDAgMSAwLTJoOGExIDEgMCAwIDEgMCAySDl6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+JyxcbiAgICAgIFR5cGUuU1RSSU5HXG4gICAgXSxcblxuICAgIGljb25SZXRyeTogW1xuICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTEwLjgxIDkuMTg1bC0uMDM4LjAyQTQuOTk3IDQuOTk3IDAgMCAwIDggMTMuNjgzYTUgNSAwIDAgMCA1IDUgNSA1IDAgMCAwIDUtNSAxIDEgMCAwIDEgMiAwQTcgNyAwIDEgMSA5LjcyMiA3LjQ5NmwtLjg0Mi0uMjFhLjk5OS45OTkgMCAxIDEgLjQ4NC0xLjk0bDMuMjMuODA2Yy41MzUuMTMzLjg2LjY3NS43MyAxLjIxbC0uODA0IDMuMjMzYS45OTcuOTk3IDAgMCAxLTEuMjEuNzMuOTk3Ljk5NyAwIDAgMS0uNzMtMS4yMWwuMjMtLjkyOHYtLjAwMnpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nLFxuICAgICAgVHlwZS5TVFJJTkdcbiAgICBdLFxuXG4gICAgaWNvblVuZG86IFtcbiAgICAgICc8c3ZnIHdpZHRoPVwiMjZcIiBoZWlnaHQ9XCIyNlwiIHZpZXdCb3g9XCIwIDAgMjYgMjZcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk05LjE4NSAxMC44MWwuMDItLjAzOEE0Ljk5NyA0Ljk5NyAwIDAgMSAxMy42ODMgOGE1IDUgMCAwIDEgNSA1IDUgNSAwIDAgMS01IDUgMSAxIDAgMCAwIDAgMkE3IDcgMCAxIDAgNy40OTYgOS43MjJsLS4yMS0uODQyYS45OTkuOTk5IDAgMSAwLTEuOTQuNDg0bC44MDYgMy4yM2MuMTMzLjUzNS42NzUuODYgMS4yMS43M2wzLjIzMy0uODAzYS45OTcuOTk3IDAgMCAwIC43My0xLjIxLjk5Ny45OTcgMCAwIDAtMS4yMS0uNzNsLS45MjguMjMtLjAwMi0uMDAxelwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIvPjwvc3ZnPicsXG4gICAgICBUeXBlLlNUUklOR1xuICAgIF0sXG5cbiAgICBpY29uRG9uZTogW1xuICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE4LjI5MyA5LjI5M2ExIDEgMCAwIDEgMS40MTQgMS40MTRsLTcuMDAyIDdhMSAxIDAgMCAxLTEuNDE0IDBsLTMuOTk4LTRhMSAxIDAgMSAxIDEuNDE0LTEuNDE0TDEyIDE1LjU4Nmw2LjI5NC02LjI5M3pcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nLFxuICAgICAgVHlwZS5TVFJJTkdcbiAgICBdLFxuXG4gICAgLy8gZXZlbnQgaGFuZGxlcnNcbiAgICBvbmluaXQ6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbndhcm5pbmc6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbmVycm9yOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25hY3RpdmF0ZWZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbmluaXRmaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25hZGRmaWxlc3RhcnQ6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbmFkZGZpbGVwcm9ncmVzczogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9uYWRkZmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucHJvY2Vzc2ZpbGVzdGFydDogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucHJvY2Vzc2ZpbGVwcm9ncmVzczogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucHJvY2Vzc2ZpbGVhYm9ydDogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucHJvY2Vzc2ZpbGVyZXZlcnQ6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbnByb2Nlc3NmaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25wcm9jZXNzZmlsZXM6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbnJlbW92ZWZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbnByZXBhcmVmaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb251cGRhdGVmaWxlczogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucmVvcmRlcmZpbGVzOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG5cbiAgICAvLyBob29rc1xuICAgIGJlZm9yZURyb3BGaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgYmVmb3JlQWRkRmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIGJlZm9yZVJlbW92ZUZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcblxuICAgIC8vIHN0eWxlc1xuICAgIHN0eWxlUGFuZWxMYXlvdXQ6IFtudWxsLCBUeXBlLlNUUklOR10sIC8vIG51bGwgJ2ludGVncmF0ZWQnLCAnY29tcGFjdCcsICdjaXJjbGUnXG4gICAgc3R5bGVQYW5lbEFzcGVjdFJhdGlvOiBbbnVsbCwgVHlwZS5TVFJJTkddLCAvLyBudWxsIG9yICczOjInIG9yIDFcbiAgICBzdHlsZUl0ZW1QYW5lbEFzcGVjdFJhdGlvOiBbbnVsbCwgVHlwZS5TVFJJTkddLFxuICAgIHN0eWxlQnV0dG9uUmVtb3ZlSXRlbVBvc2l0aW9uOiBbJ2xlZnQnLCBUeXBlLlNUUklOR10sXG4gICAgc3R5bGVCdXR0b25Qcm9jZXNzSXRlbVBvc2l0aW9uOiBbJ3JpZ2h0JywgVHlwZS5TVFJJTkddLFxuICAgIHN0eWxlTG9hZEluZGljYXRvclBvc2l0aW9uOiBbJ3JpZ2h0JywgVHlwZS5TVFJJTkddLFxuICAgIHN0eWxlUHJvZ3Jlc3NJbmRpY2F0b3JQb3NpdGlvbjogWydyaWdodCcsIFR5cGUuU1RSSU5HXSxcbiAgICBzdHlsZUJ1dHRvblJlbW92ZUl0ZW1BbGlnbjogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgLy8gY3VzdG9tIGluaXRpYWwgZmlsZXMgYXJyYXlcbiAgICBmaWxlczogW1tdLCBUeXBlLkFSUkFZXVxuICB9O1xuXG4gIHZhciBnZXRJdGVtQnlRdWVyeSA9IGZ1bmN0aW9uIGdldEl0ZW1CeVF1ZXJ5KGl0ZW1zLCBxdWVyeSkge1xuICAgIC8vIGp1c3QgcmV0dXJuIGZpcnN0IGluZGV4XG4gICAgaWYgKGlzRW1wdHkocXVlcnkpKSB7XG4gICAgICByZXR1cm4gaXRlbXNbMF0gfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvLyBxdWVyeSBpcyBpbmRleFxuICAgIGlmIChpc0ludChxdWVyeSkpIHtcbiAgICAgIHJldHVybiBpdGVtc1txdWVyeV0gfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvLyBpZiBxdWVyeSBpcyBpdGVtLCBnZXQgdGhlIGlkXG4gICAgaWYgKHR5cGVvZiBxdWVyeSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuaWQ7XG4gICAgfVxuXG4gICAgLy8gYXNzdW1lIHF1ZXJ5IGlzIGEgc3RyaW5nIGFuZCByZXR1cm4gaXRlbSBieSBpZFxuICAgIHJldHVybiAoXG4gICAgICBpdGVtcy5maW5kKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IHF1ZXJ5O1xuICAgICAgfSkgfHwgbnVsbFxuICAgICk7XG4gIH07XG5cbiAgdmFyIGdldE51bWVyaWNBc3BlY3RSYXRpb0Zyb21TdHJpbmcgPSBmdW5jdGlvbiBnZXROdW1lcmljQXNwZWN0UmF0aW9Gcm9tU3RyaW5nKFxuICAgIGFzcGVjdFJhdGlvXG4gICkge1xuICAgIGlmIChpc0VtcHR5KGFzcGVjdFJhdGlvKSkge1xuICAgICAgcmV0dXJuIGFzcGVjdFJhdGlvO1xuICAgIH1cbiAgICBpZiAoLzovLnRlc3QoYXNwZWN0UmF0aW8pKSB7XG4gICAgICB2YXIgcGFydHMgPSBhc3BlY3RSYXRpby5zcGxpdCgnOicpO1xuICAgICAgcmV0dXJuIHBhcnRzWzFdIC8gcGFydHNbMF07XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUZsb2F0KGFzcGVjdFJhdGlvKTtcbiAgfTtcblxuICB2YXIgZ2V0QWN0aXZlSXRlbXMgPSBmdW5jdGlvbiBnZXRBY3RpdmVJdGVtcyhpdGVtcykge1xuICAgIHJldHVybiBpdGVtcy5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuICFpdGVtLmFyY2hpdmVkO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBTdGF0dXMgPSB7XG4gICAgRU1QVFk6IDAsXG4gICAgSURMRTogMSwgLy8gd2FpdGluZ1xuICAgIEVSUk9SOiAyLCAvLyBhIGZpbGUgaXMgaW4gZXJyb3Igc3RhdGVcbiAgICBCVVNZOiAzLCAvLyBidXN5IHByb2Nlc3Npbmcgb3IgbG9hZGluZ1xuICAgIFJFQURZOiA0IC8vIGFsbCBmaWxlcyB1cGxvYWRlZFxuICB9O1xuXG4gIHZhciBJVEVNX0VSUk9SID0gW1xuICAgIEl0ZW1TdGF0dXMuTE9BRF9FUlJPUixcbiAgICBJdGVtU3RhdHVzLlBST0NFU1NJTkdfRVJST1IsXG4gICAgSXRlbVN0YXR1cy5QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUlxuICBdO1xuICB2YXIgSVRFTV9CVVNZID0gW1xuICAgIEl0ZW1TdGF0dXMuTE9BRElORyxcbiAgICBJdGVtU3RhdHVzLlBST0NFU1NJTkcsXG4gICAgSXRlbVN0YXR1cy5QUk9DRVNTSU5HX1FVRVVFRCxcbiAgICBJdGVtU3RhdHVzLklOSVRcbiAgXTtcbiAgdmFyIElURU1fUkVBRFkgPSBbSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFXTtcblxuICB2YXIgaXNJdGVtSW5FcnJvclN0YXRlID0gZnVuY3Rpb24gaXNJdGVtSW5FcnJvclN0YXRlKGl0ZW0pIHtcbiAgICByZXR1cm4gSVRFTV9FUlJPUi5pbmNsdWRlcyhpdGVtLnN0YXR1cyk7XG4gIH07XG4gIHZhciBpc0l0ZW1JbkJ1c3lTdGF0ZSA9IGZ1bmN0aW9uIGlzSXRlbUluQnVzeVN0YXRlKGl0ZW0pIHtcbiAgICByZXR1cm4gSVRFTV9CVVNZLmluY2x1ZGVzKGl0ZW0uc3RhdHVzKTtcbiAgfTtcbiAgdmFyIGlzSXRlbUluUmVhZHlTdGF0ZSA9IGZ1bmN0aW9uIGlzSXRlbUluUmVhZHlTdGF0ZShpdGVtKSB7XG4gICAgcmV0dXJuIElURU1fUkVBRFkuaW5jbHVkZXMoaXRlbS5zdGF0dXMpO1xuICB9O1xuXG4gIHZhciBxdWVyaWVzID0gZnVuY3Rpb24gcXVlcmllcyhzdGF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICBHRVRfU1RBVFVTOiBmdW5jdGlvbiBHRVRfU1RBVFVTKCkge1xuICAgICAgICB2YXIgaXRlbXMgPSBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcyk7XG4gICAgICAgIHZhciBFTVBUWSA9IFN0YXR1cy5FTVBUWSxcbiAgICAgICAgICBFUlJPUiA9IFN0YXR1cy5FUlJPUixcbiAgICAgICAgICBCVVNZID0gU3RhdHVzLkJVU1ksXG4gICAgICAgICAgSURMRSA9IFN0YXR1cy5JRExFLFxuICAgICAgICAgIFJFQURZID0gU3RhdHVzLlJFQURZO1xuXG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHJldHVybiBFTVBUWTtcblxuICAgICAgICBpZiAoaXRlbXMuc29tZShpc0l0ZW1JbkVycm9yU3RhdGUpKSByZXR1cm4gRVJST1I7XG5cbiAgICAgICAgaWYgKGl0ZW1zLnNvbWUoaXNJdGVtSW5CdXN5U3RhdGUpKSByZXR1cm4gQlVTWTtcblxuICAgICAgICBpZiAoaXRlbXMuc29tZShpc0l0ZW1JblJlYWR5U3RhdGUpKSByZXR1cm4gUkVBRFk7XG5cbiAgICAgICAgcmV0dXJuIElETEU7XG4gICAgICB9LFxuXG4gICAgICBHRVRfSVRFTTogZnVuY3Rpb24gR0VUX0lURU0ocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIGdldEl0ZW1CeVF1ZXJ5KHN0YXRlLml0ZW1zLCBxdWVyeSk7XG4gICAgICB9LFxuXG4gICAgICBHRVRfQUNUSVZFX0lURU06IGZ1bmN0aW9uIEdFVF9BQ1RJVkVfSVRFTShxdWVyeSkge1xuICAgICAgICByZXR1cm4gZ2V0SXRlbUJ5UXVlcnkoZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpLCBxdWVyeSk7XG4gICAgICB9LFxuXG4gICAgICBHRVRfQUNUSVZFX0lURU1TOiBmdW5jdGlvbiBHRVRfQUNUSVZFX0lURU1TKCkge1xuICAgICAgICByZXR1cm4gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpO1xuICAgICAgfSxcblxuICAgICAgR0VUX0lURU1TOiBmdW5jdGlvbiBHRVRfSVRFTVMoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5pdGVtcztcbiAgICAgIH0sXG5cbiAgICAgIEdFVF9JVEVNX05BTUU6IGZ1bmN0aW9uIEdFVF9JVEVNX05BTUUocXVlcnkpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBnZXRJdGVtQnlRdWVyeShzdGF0ZS5pdGVtcywgcXVlcnkpO1xuICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0uZmlsZW5hbWUgOiBudWxsO1xuICAgICAgfSxcblxuICAgICAgR0VUX0lURU1fU0laRTogZnVuY3Rpb24gR0VUX0lURU1fU0laRShxdWVyeSkge1xuICAgICAgICB2YXIgaXRlbSA9IGdldEl0ZW1CeVF1ZXJ5KHN0YXRlLml0ZW1zLCBxdWVyeSk7XG4gICAgICAgIHJldHVybiBpdGVtID8gaXRlbS5maWxlU2l6ZSA6IG51bGw7XG4gICAgICB9LFxuXG4gICAgICBHRVRfU1RZTEVTOiBmdW5jdGlvbiBHRVRfU1RZTEVTKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoc3RhdGUub3B0aW9ucylcbiAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIC9ec3R5bGUvLnRlc3Qoa2V5KTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5tYXAoZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBuYW1lOiBvcHRpb24sXG4gICAgICAgICAgICAgIHZhbHVlOiBzdGF0ZS5vcHRpb25zW29wdGlvbl1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBHRVRfUEFORUxfQVNQRUNUX1JBVElPOiBmdW5jdGlvbiBHRVRfUEFORUxfQVNQRUNUX1JBVElPKCkge1xuICAgICAgICB2YXIgaXNTaGFwZUNpcmNsZSA9IC9jaXJjbGUvLnRlc3Qoc3RhdGUub3B0aW9ucy5zdHlsZVBhbmVsTGF5b3V0KTtcbiAgICAgICAgdmFyIGFzcGVjdFJhdGlvID0gaXNTaGFwZUNpcmNsZVxuICAgICAgICAgID8gMVxuICAgICAgICAgIDogZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyhcbiAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zdHlsZVBhbmVsQXNwZWN0UmF0aW9cbiAgICAgICAgICAgICk7XG4gICAgICAgIHJldHVybiBhc3BlY3RSYXRpbztcbiAgICAgIH0sXG5cbiAgICAgIEdFVF9JVEVNX1BBTkVMX0FTUEVDVF9SQVRJTzogZnVuY3Rpb24gR0VUX0lURU1fUEFORUxfQVNQRUNUX1JBVElPKCkge1xuICAgICAgICByZXR1cm4gc3RhdGUub3B0aW9ucy5zdHlsZUl0ZW1QYW5lbEFzcGVjdFJhdGlvO1xuICAgICAgfSxcblxuICAgICAgR0VUX0lURU1TX0JZX1NUQVRVUzogZnVuY3Rpb24gR0VUX0lURU1TX0JZX1NUQVRVUyhzdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuIGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLnN0YXR1cyA9PT0gc3RhdHVzO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIEdFVF9UT1RBTF9JVEVNUzogZnVuY3Rpb24gR0VUX1RPVEFMX0lURU1TKCkge1xuICAgICAgICByZXR1cm4gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpLmxlbmd0aDtcbiAgICAgIH0sXG5cbiAgICAgIElTX0FTWU5DOiBmdW5jdGlvbiBJU19BU1lOQygpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBpc09iamVjdChzdGF0ZS5vcHRpb25zLnNlcnZlcikgJiZcbiAgICAgICAgICAoaXNPYmplY3Qoc3RhdGUub3B0aW9ucy5zZXJ2ZXIucHJvY2VzcykgfHxcbiAgICAgICAgICAgIGlzRnVuY3Rpb24oc3RhdGUub3B0aW9ucy5zZXJ2ZXIucHJvY2VzcykpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICB2YXIgaGFzUm9vbUZvckl0ZW0gPSBmdW5jdGlvbiBoYXNSb29tRm9ySXRlbShzdGF0ZSkge1xuICAgIHZhciBjb3VudCA9IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKS5sZW5ndGg7XG5cbiAgICAvLyBpZiBjYW5ub3QgaGF2ZSBtdWx0aXBsZSBpdGVtcywgdG8gYWRkIG9uZSBpdGVtIGl0IHNob3VsZCBjdXJyZW50bHkgbm90IGNvbnRhaW4gaXRlbXNcbiAgICBpZiAoIXN0YXRlLm9wdGlvbnMuYWxsb3dNdWx0aXBsZSkge1xuICAgICAgcmV0dXJuIGNvdW50ID09PSAwO1xuICAgIH1cblxuICAgIC8vIGlmIGFsbG93cyBtdWx0aXBsZSBpdGVtcywgd2UgY2hlY2sgaWYgYSBtYXggaXRlbSBjb3VudCBoYXMgYmVlbiBzZXQsIGlmIG5vdCwgdGhlcmUncyBubyBsaW1pdFxuICAgIHZhciBtYXhGaWxlQ291bnQgPSBzdGF0ZS5vcHRpb25zLm1heEZpbGVzO1xuICAgIGlmIChtYXhGaWxlQ291bnQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIHdlIGNoZWNrIGlmIHRoZSBjdXJyZW50IGNvdW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgbWF4IGNvdW50LCBpZiBzbywgYW5vdGhlciBmaWxlIGNhbiBzdGlsbCBiZSBhZGRlZFxuICAgIGlmIChjb3VudCA8IG1heEZpbGVDb3VudCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gbm8gbW9yZSByb29tIGZvciBhbm90aGVyIGZpbGVcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdmFyIGxpbWl0ID0gZnVuY3Rpb24gbGltaXQodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKG1heCwgdmFsdWUpLCBtaW4pO1xuICB9O1xuXG4gIHZhciBhcnJheUluc2VydCA9IGZ1bmN0aW9uIGFycmF5SW5zZXJ0KGFyciwgaW5kZXgsIGl0ZW0pIHtcbiAgICByZXR1cm4gYXJyLnNwbGljZShpbmRleCwgMCwgaXRlbSk7XG4gIH07XG5cbiAgdmFyIGluc2VydEl0ZW0gPSBmdW5jdGlvbiBpbnNlcnRJdGVtKGl0ZW1zLCBpdGVtLCBpbmRleCkge1xuICAgIGlmIChpc0VtcHR5KGl0ZW0pKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBpZiBpbmRleCBpcyB1bmRlZmluZWQsIGFwcGVuZFxuICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuXG4gICAgLy8gbGltaXQgdGhlIGluZGV4IHRvIHRoZSBzaXplIG9mIHRoZSBpdGVtcyBhcnJheVxuICAgIGluZGV4ID0gbGltaXQoaW5kZXgsIDAsIGl0ZW1zLmxlbmd0aCk7XG5cbiAgICAvLyBhZGQgaXRlbSB0byBhcnJheVxuICAgIGFycmF5SW5zZXJ0KGl0ZW1zLCBpbmRleCwgaXRlbSk7XG5cbiAgICAvLyBleHBvc2VcbiAgICByZXR1cm4gaXRlbTtcbiAgfTtcblxuICB2YXIgaXNCYXNlNjREYXRhVVJJID0gZnVuY3Rpb24gaXNCYXNlNjREYXRhVVJJKHN0cikge1xuICAgIHJldHVybiAvXlxccypkYXRhOihbYS16XStcXC9bYS16MC05LSsuXSsoO1thLXotXSs9W2EtejAtOS1dKyk/KT8oO2Jhc2U2NCk/LChbYS16MC05ISQmJywoKSorOz1cXC0uX346QFxcLz8lXFxzXSopXFxzKiQvaS50ZXN0KFxuICAgICAgc3RyXG4gICAgKTtcbiAgfTtcblxuICB2YXIgZ2V0RmlsZW5hbWVGcm9tVVJMID0gZnVuY3Rpb24gZ2V0RmlsZW5hbWVGcm9tVVJMKHVybCkge1xuICAgIHJldHVybiB1cmxcbiAgICAgIC5zcGxpdCgnLycpXG4gICAgICAucG9wKClcbiAgICAgIC5zcGxpdCgnPycpXG4gICAgICAuc2hpZnQoKTtcbiAgfTtcblxuICB2YXIgZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lID0gZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gbmFtZS5zcGxpdCgnLicpLnBvcCgpO1xuICB9O1xuXG4gIHZhciBndWVzc3RpbWF0ZUV4dGVuc2lvbiA9IGZ1bmN0aW9uIGd1ZXNzdGltYXRlRXh0ZW5zaW9uKHR5cGUpIHtcbiAgICAvLyBpZiBubyBleHRlbnNpb24gc3VwcGxpZWQsIGV4aXQgaGVyZVxuICAgIGlmICh0eXBlb2YgdHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvLyBnZXQgc3VidHlwZVxuICAgIHZhciBzdWJ0eXBlID0gdHlwZS5zcGxpdCgnLycpLnBvcCgpO1xuXG4gICAgLy8gaXMgc3ZnIHN1YnR5cGVcbiAgICBpZiAoL3N2Zy8udGVzdChzdWJ0eXBlKSkge1xuICAgICAgcmV0dXJuICdzdmcnO1xuICAgIH1cblxuICAgIGlmICgvemlwfGNvbXByZXNzZWQvLnRlc3Qoc3VidHlwZSkpIHtcbiAgICAgIHJldHVybiAnemlwJztcbiAgICB9XG5cbiAgICBpZiAoL3BsYWluLy50ZXN0KHN1YnR5cGUpKSB7XG4gICAgICByZXR1cm4gJ3R4dCc7XG4gICAgfVxuXG4gICAgaWYgKC9tc3dvcmQvLnRlc3Qoc3VidHlwZSkpIHtcbiAgICAgIHJldHVybiAnZG9jJztcbiAgICB9XG5cbiAgICAvLyBpZiBpcyB2YWxpZCBzdWJ0eXBlXG4gICAgaWYgKC9bYS16XSsvLnRlc3Qoc3VidHlwZSkpIHtcbiAgICAgIC8vIGFsd2F5cyB1c2UganBnIGV4dGVuc2lvblxuICAgICAgaWYgKHN1YnR5cGUgPT09ICdqcGVnJykge1xuICAgICAgICByZXR1cm4gJ2pwZyc7XG4gICAgICB9XG5cbiAgICAgIC8vIHJldHVybiBzdWJ0eXBlXG4gICAgICByZXR1cm4gc3VidHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH07XG5cbiAgdmFyIGxlZnRQYWQgPSBmdW5jdGlvbiBsZWZ0UGFkKHZhbHVlKSB7XG4gICAgdmFyIHBhZGRpbmcgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJztcbiAgICByZXR1cm4gKHBhZGRpbmcgKyB2YWx1ZSkuc2xpY2UoLXBhZGRpbmcubGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgZ2V0RGF0ZVN0cmluZyA9IGZ1bmN0aW9uIGdldERhdGVTdHJpbmcoKSB7XG4gICAgdmFyIGRhdGUgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBhcmd1bWVudHNbMF1cbiAgICAgICAgOiBuZXcgRGF0ZSgpO1xuICAgIHJldHVybiAoXG4gICAgICBkYXRlLmdldEZ1bGxZZWFyKCkgK1xuICAgICAgJy0nICtcbiAgICAgIGxlZnRQYWQoZGF0ZS5nZXRNb250aCgpICsgMSwgJzAwJykgK1xuICAgICAgJy0nICtcbiAgICAgIGxlZnRQYWQoZGF0ZS5nZXREYXRlKCksICcwMCcpICtcbiAgICAgICdfJyArXG4gICAgICBsZWZ0UGFkKGRhdGUuZ2V0SG91cnMoKSwgJzAwJykgK1xuICAgICAgJy0nICtcbiAgICAgIGxlZnRQYWQoZGF0ZS5nZXRNaW51dGVzKCksICcwMCcpICtcbiAgICAgICctJyArXG4gICAgICBsZWZ0UGFkKGRhdGUuZ2V0U2Vjb25kcygpLCAnMDAnKVxuICAgICk7XG4gIH07XG5cbiAgdmFyIGdldEZpbGVGcm9tQmxvYiA9IGZ1bmN0aW9uIGdldEZpbGVGcm9tQmxvYihibG9iLCBmaWxlbmFtZSkge1xuICAgIHZhciB0eXBlID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcbiAgICB2YXIgZXh0ZW5zaW9uID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcbiAgICB2YXIgZmlsZSA9XG4gICAgICB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBibG9iLnNsaWNlKDAsIGJsb2Iuc2l6ZSwgdHlwZSlcbiAgICAgICAgOiBibG9iLnNsaWNlKDAsIGJsb2Iuc2l6ZSwgYmxvYi50eXBlKTtcbiAgICBmaWxlLmxhc3RNb2RpZmllZERhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgLy8gY29weSByZWxhdGl2ZSBwYXRoXG4gICAgaWYgKGJsb2IuX3JlbGF0aXZlUGF0aCkgZmlsZS5fcmVsYXRpdmVQYXRoID0gYmxvYi5fcmVsYXRpdmVQYXRoO1xuXG4gICAgLy8gaWYgYmxvYiBoYXMgbmFtZSBwcm9wZXJ0eSwgdXNlIGFzIGZpbGVuYW1lIGlmIG5vIGZpbGVuYW1lIHN1cHBsaWVkXG4gICAgaWYgKCFpc1N0cmluZyhmaWxlbmFtZSkpIHtcbiAgICAgIGZpbGVuYW1lID0gZ2V0RGF0ZVN0cmluZygpO1xuICAgIH1cblxuICAgIC8vIGlmIGZpbGVuYW1lIHN1cHBsaWVkIGJ1dCBubyBleHRlbnNpb24gYW5kIGZpbGVuYW1lIGhhcyBleHRlbnNpb25cbiAgICBpZiAoZmlsZW5hbWUgJiYgZXh0ZW5zaW9uID09PSBudWxsICYmIGdldEV4dGVuc2lvbkZyb21GaWxlbmFtZShmaWxlbmFtZSkpIHtcbiAgICAgIGZpbGUubmFtZSA9IGZpbGVuYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHRlbnNpb24gPSBleHRlbnNpb24gfHwgZ3Vlc3N0aW1hdGVFeHRlbnNpb24oZmlsZS50eXBlKTtcbiAgICAgIGZpbGUubmFtZSA9IGZpbGVuYW1lICsgKGV4dGVuc2lvbiA/ICcuJyArIGV4dGVuc2lvbiA6ICcnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmlsZTtcbiAgfTtcblxuICB2YXIgZ2V0QmxvYkJ1aWxkZXIgPSBmdW5jdGlvbiBnZXRCbG9iQnVpbGRlcigpIHtcbiAgICByZXR1cm4gKHdpbmRvdy5CbG9iQnVpbGRlciA9XG4gICAgICB3aW5kb3cuQmxvYkJ1aWxkZXIgfHxcbiAgICAgIHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlciB8fFxuICAgICAgd2luZG93Lk1vekJsb2JCdWlsZGVyIHx8XG4gICAgICB3aW5kb3cuTVNCbG9iQnVpbGRlcik7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUJsb2IgPSBmdW5jdGlvbiBjcmVhdGVCbG9iKGFycmF5QnVmZmVyLCBtaW1lVHlwZSkge1xuICAgIHZhciBCQiA9IGdldEJsb2JCdWlsZGVyKCk7XG5cbiAgICBpZiAoQkIpIHtcbiAgICAgIHZhciBiYiA9IG5ldyBCQigpO1xuICAgICAgYmIuYXBwZW5kKGFycmF5QnVmZmVyKTtcbiAgICAgIHJldHVybiBiYi5nZXRCbG9iKG1pbWVUeXBlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEJsb2IoW2FycmF5QnVmZmVyXSwge1xuICAgICAgdHlwZTogbWltZVR5cGVcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZ2V0QmxvYkZyb21CeXRlU3RyaW5nV2l0aE1pbWVUeXBlID0gZnVuY3Rpb24gZ2V0QmxvYkZyb21CeXRlU3RyaW5nV2l0aE1pbWVUeXBlKFxuICAgIGJ5dGVTdHJpbmcsXG4gICAgbWltZVR5cGVcbiAgKSB7XG4gICAgdmFyIGFiID0gbmV3IEFycmF5QnVmZmVyKGJ5dGVTdHJpbmcubGVuZ3RoKTtcbiAgICB2YXIgaWEgPSBuZXcgVWludDhBcnJheShhYik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlhW2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVCbG9iKGFiLCBtaW1lVHlwZSk7XG4gIH07XG5cbiAgdmFyIGdldE1pbWVUeXBlRnJvbUJhc2U2NERhdGFVUkkgPSBmdW5jdGlvbiBnZXRNaW1lVHlwZUZyb21CYXNlNjREYXRhVVJJKFxuICAgIGRhdGFVUklcbiAgKSB7XG4gICAgcmV0dXJuICgvXmRhdGE6KC4rKTsvLmV4ZWMoZGF0YVVSSSkgfHwgW10pWzFdIHx8IG51bGw7XG4gIH07XG5cbiAgdmFyIGdldEJhc2U2NERhdGFGcm9tQmFzZTY0RGF0YVVSSSA9IGZ1bmN0aW9uIGdldEJhc2U2NERhdGFGcm9tQmFzZTY0RGF0YVVSSShcbiAgICBkYXRhVVJJXG4gICkge1xuICAgIC8vIGdldCBkYXRhIHBhcnQgb2Ygc3RyaW5nIChyZW1vdmUgZGF0YTppbWFnZS9qcGVnLi4uLClcbiAgICB2YXIgZGF0YSA9IGRhdGFVUkkuc3BsaXQoJywnKVsxXTtcblxuICAgIC8vIHJlbW92ZSBhbnkgd2hpdGVzcGFjZSBhcyB0aGF0IGNhdXNlcyBJbnZhbGlkQ2hhcmFjdGVyRXJyb3IgaW4gSUVcbiAgICByZXR1cm4gZGF0YS5yZXBsYWNlKC9cXHMvZywgJycpO1xuICB9O1xuXG4gIHZhciBnZXRCeXRlU3RyaW5nRnJvbUJhc2U2NERhdGFVUkkgPSBmdW5jdGlvbiBnZXRCeXRlU3RyaW5nRnJvbUJhc2U2NERhdGFVUkkoXG4gICAgZGF0YVVSSVxuICApIHtcbiAgICByZXR1cm4gYXRvYihnZXRCYXNlNjREYXRhRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSkpO1xuICB9O1xuXG4gIHZhciBnZXRCbG9iRnJvbUJhc2U2NERhdGFVUkkgPSBmdW5jdGlvbiBnZXRCbG9iRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSkge1xuICAgIHZhciBtaW1lVHlwZSA9IGdldE1pbWVUeXBlRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSk7XG4gICAgdmFyIGJ5dGVTdHJpbmcgPSBnZXRCeXRlU3RyaW5nRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSk7XG5cbiAgICByZXR1cm4gZ2V0QmxvYkZyb21CeXRlU3RyaW5nV2l0aE1pbWVUeXBlKGJ5dGVTdHJpbmcsIG1pbWVUeXBlKTtcbiAgfTtcblxuICB2YXIgZ2V0RmlsZUZyb21CYXNlNjREYXRhVVJJID0gZnVuY3Rpb24gZ2V0RmlsZUZyb21CYXNlNjREYXRhVVJJKFxuICAgIGRhdGFVUkksXG4gICAgZmlsZW5hbWUsXG4gICAgZXh0ZW5zaW9uXG4gICkge1xuICAgIHJldHVybiBnZXRGaWxlRnJvbUJsb2IoXG4gICAgICBnZXRCbG9iRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSksXG4gICAgICBmaWxlbmFtZSxcbiAgICAgIG51bGwsXG4gICAgICBleHRlbnNpb25cbiAgICApO1xuICB9O1xuXG4gIHZhciBnZXRGaWxlTmFtZUZyb21IZWFkZXIgPSBmdW5jdGlvbiBnZXRGaWxlTmFtZUZyb21IZWFkZXIoaGVhZGVyKSB7XG4gICAgLy8gdGVzdCBpZiBpcyBjb250ZW50IGRpc3Bvc2l0aW9uIGhlYWRlciwgaWYgbm90IGV4aXRcbiAgICBpZiAoIS9eY29udGVudC1kaXNwb3NpdGlvbjovaS50ZXN0KGhlYWRlcikpIHJldHVybiBudWxsO1xuXG4gICAgLy8gZ2V0IGZpbGVuYW1lIHBhcnRzXG4gICAgdmFyIG1hdGNoZXMgPSBoZWFkZXJcbiAgICAgIC5zcGxpdCgvZmlsZW5hbWU9fGZpbGVuYW1lXFwqPS4rJycvKVxuICAgICAgLnNwbGljZSgxKVxuICAgICAgLm1hcChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHJldHVybiBuYW1lLnRyaW0oKS5yZXBsYWNlKC9eW1wiJ118WztcIiddezAsMn0kL2csICcnKTtcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5hbWUubGVuZ3RoO1xuICAgICAgfSk7XG5cbiAgICByZXR1cm4gbWF0Y2hlcy5sZW5ndGggPyBkZWNvZGVVUkkobWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdKSA6IG51bGw7XG4gIH07XG5cbiAgdmFyIGdldEZpbGVTaXplRnJvbUhlYWRlciA9IGZ1bmN0aW9uIGdldEZpbGVTaXplRnJvbUhlYWRlcihoZWFkZXIpIHtcbiAgICBpZiAoL2NvbnRlbnQtbGVuZ3RoOi9pLnRlc3QoaGVhZGVyKSkge1xuICAgICAgdmFyIHNpemUgPSBoZWFkZXIubWF0Y2goL1swLTldKy8pWzBdO1xuICAgICAgcmV0dXJuIHNpemUgPyBwYXJzZUludChzaXplLCAxMCkgOiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgZ2V0VHJhbmZzZXJJZEZyb21IZWFkZXIgPSBmdW5jdGlvbiBnZXRUcmFuZnNlcklkRnJvbUhlYWRlcihoZWFkZXIpIHtcbiAgICBpZiAoL3gtY29udGVudC10cmFuc2Zlci1pZDovaS50ZXN0KGhlYWRlcikpIHtcbiAgICAgIHZhciBpZCA9IChoZWFkZXIuc3BsaXQoJzonKVsxXSB8fCAnJykudHJpbSgpO1xuICAgICAgcmV0dXJuIGlkIHx8IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBnZXRGaWxlSW5mb0Zyb21IZWFkZXJzID0gZnVuY3Rpb24gZ2V0RmlsZUluZm9Gcm9tSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdmFyIGluZm8gPSB7XG4gICAgICBzb3VyY2U6IG51bGwsXG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgc2l6ZTogbnVsbFxuICAgIH07XG5cbiAgICB2YXIgcm93cyA9IGhlYWRlcnMuc3BsaXQoJ1xcbicpO1xuICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgdHJ5IHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSByb3dzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7XG4gICAgICAgICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpO1xuICAgICAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIHZhciBoZWFkZXIgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICB2YXIgbmFtZSA9IGdldEZpbGVOYW1lRnJvbUhlYWRlcihoZWFkZXIpO1xuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIGluZm8ubmFtZSA9IG5hbWU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2l6ZSA9IGdldEZpbGVTaXplRnJvbUhlYWRlcihoZWFkZXIpO1xuICAgICAgICBpZiAoc2l6ZSkge1xuICAgICAgICAgIGluZm8uc2l6ZSA9IHNpemU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc291cmNlID0gZ2V0VHJhbmZzZXJJZEZyb21IZWFkZXIoaGVhZGVyKTtcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgIGluZm8uc291cmNlID0gc291cmNlO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkge1xuICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5mbztcbiAgfTtcblxuICB2YXIgY3JlYXRlRmlsZUxvYWRlciA9IGZ1bmN0aW9uIGNyZWF0ZUZpbGVMb2FkZXIoZmV0Y2hGbikge1xuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgIHNvdXJjZTogbnVsbCxcbiAgICAgIGNvbXBsZXRlOiBmYWxzZSxcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgc2l6ZTogbnVsbCxcbiAgICAgIHRpbWVzdGFtcDogbnVsbCxcbiAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgcmVxdWVzdDogbnVsbFxuICAgIH07XG5cbiAgICB2YXIgZ2V0UHJvZ3Jlc3MgPSBmdW5jdGlvbiBnZXRQcm9ncmVzcygpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5wcm9ncmVzcztcbiAgICB9O1xuICAgIHZhciBhYm9ydCA9IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgaWYgKHN0YXRlLnJlcXVlc3QgJiYgc3RhdGUucmVxdWVzdC5hYm9ydCkge1xuICAgICAgICBzdGF0ZS5yZXF1ZXN0LmFib3J0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIGxvYWQgc291cmNlXG4gICAgdmFyIGxvYWQgPSBmdW5jdGlvbiBsb2FkKCkge1xuICAgICAgLy8gZ2V0IHF1aWNrIHJlZmVyZW5jZVxuICAgICAgdmFyIHNvdXJjZSA9IHN0YXRlLnNvdXJjZTtcblxuICAgICAgYXBpLmZpcmUoJ2luaXQnLCBzb3VyY2UpO1xuXG4gICAgICAvLyBMb2FkIEZpbGVzXG4gICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICBhcGkuZmlyZSgnbG9hZCcsIHNvdXJjZSk7XG4gICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgLy8gTG9hZCBibG9icywgc2V0IGRlZmF1bHQgbmFtZSB0byBjdXJyZW50IGRhdGVcbiAgICAgICAgYXBpLmZpcmUoJ2xvYWQnLCBnZXRGaWxlRnJvbUJsb2Ioc291cmNlLCBzb3VyY2UubmFtZSkpO1xuICAgICAgfSBlbHNlIGlmIChpc0Jhc2U2NERhdGFVUkkoc291cmNlKSkge1xuICAgICAgICAvLyBMb2FkIGJhc2UgNjQsIHNldCBkZWZhdWx0IG5hbWUgdG8gY3VycmVudCBkYXRlXG4gICAgICAgIGFwaS5maXJlKCdsb2FkJywgZ2V0RmlsZUZyb21CYXNlNjREYXRhVVJJKHNvdXJjZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRGVhbCBhcyBpZiBpcyBleHRlcm5hbCBVUkwsIGxldCdzIGxvYWQgaXQhXG4gICAgICAgIGxvYWRVUkwoc291cmNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gbG9hZHMgYSB1cmxcbiAgICB2YXIgbG9hZFVSTCA9IGZ1bmN0aW9uIGxvYWRVUkwodXJsKSB7XG4gICAgICAvLyBpcyByZW1vdGUgdXJsIGFuZCBubyBmZXRjaCBtZXRob2Qgc3VwcGxpZWRcbiAgICAgIGlmICghZmV0Y2hGbikge1xuICAgICAgICBhcGkuZmlyZSgnZXJyb3InLCB7XG4gICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICBib2R5OiBcIkNhbid0IGxvYWQgVVJMXCIsXG4gICAgICAgICAgY29kZTogNDAwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0IHJlcXVlc3Qgc3RhcnRcbiAgICAgIHN0YXRlLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIGxvYWQgZmlsZVxuICAgICAgc3RhdGUucmVxdWVzdCA9IGZldGNoRm4oXG4gICAgICAgIHVybCxcbiAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAvLyB1cGRhdGUgZHVyYXRpb25cbiAgICAgICAgICBzdGF0ZS5kdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXA7XG5cbiAgICAgICAgICAvLyBkb25lIVxuICAgICAgICAgIHN0YXRlLmNvbXBsZXRlID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIHR1cm4gYmxvYiByZXNwb25zZSBpbnRvIGEgZmlsZVxuICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gZ2V0RmlsZUZyb21CbG9iKFxuICAgICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgICAgcmVzcG9uc2UubmFtZSB8fCBnZXRGaWxlbmFtZUZyb21VUkwodXJsKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhcGkuZmlyZShcbiAgICAgICAgICAgICdsb2FkJyxcbiAgICAgICAgICAgIC8vIGlmIGhhcyByZWNlaXZlZCBibG9iLCB3ZSBnbyB3aXRoIGJsb2IsIGlmIG5vIHJlc3BvbnNlLCB3ZSByZXR1cm4gbnVsbFxuICAgICAgICAgICAgcmVzcG9uc2UgaW5zdGFuY2VvZiBCbG9iXG4gICAgICAgICAgICAgID8gcmVzcG9uc2VcbiAgICAgICAgICAgICAgOiByZXNwb25zZVxuICAgICAgICAgICAgICA/IHJlc3BvbnNlLmJvZHlcbiAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICBhcGkuZmlyZShcbiAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICB0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgIGNvZGU6IDAsXG4gICAgICAgICAgICAgICAgICBib2R5OiBlcnJvclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgOiBlcnJvclxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKGNvbXB1dGFibGUsIGN1cnJlbnQsIHRvdGFsKSB7XG4gICAgICAgICAgLy8gY29sbGVjdGVkIHNvbWUgbWV0YSBkYXRhIGFscmVhZHlcbiAgICAgICAgICBpZiAodG90YWwpIHtcbiAgICAgICAgICAgIHN0YXRlLnNpemUgPSB0b3RhbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB1cGRhdGUgZHVyYXRpb25cbiAgICAgICAgICBzdGF0ZS5kdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXA7XG5cbiAgICAgICAgICAvLyBpZiB3ZSBjYW4ndCBjb21wdXRlIHByb2dyZXNzLCB3ZSdyZSBub3QgZ29pbmcgdG8gZmlyZSBwcm9ncmVzcyBldmVudHNcbiAgICAgICAgICBpZiAoIWNvbXB1dGFibGUpIHtcbiAgICAgICAgICAgIHN0YXRlLnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB1cGRhdGUgcHJvZ3Jlc3MgcGVyY2VudGFnZVxuICAgICAgICAgIHN0YXRlLnByb2dyZXNzID0gY3VycmVudCAvIHRvdGFsO1xuXG4gICAgICAgICAgLy8gZXhwb3NlXG4gICAgICAgICAgYXBpLmZpcmUoJ3Byb2dyZXNzJywgc3RhdGUucHJvZ3Jlc3MpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICBhcGkuZmlyZSgnYWJvcnQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICB2YXIgZmlsZWluZm8gPSBnZXRGaWxlSW5mb0Zyb21IZWFkZXJzKFxuICAgICAgICAgICAgdHlwZW9mIHJlc3BvbnNlID09PSAnc3RyaW5nJyA/IHJlc3BvbnNlIDogcmVzcG9uc2UuaGVhZGVyc1xuICAgICAgICAgICk7XG4gICAgICAgICAgYXBpLmZpcmUoJ21ldGEnLCB7XG4gICAgICAgICAgICBzaXplOiBzdGF0ZS5zaXplIHx8IGZpbGVpbmZvLnNpemUsXG4gICAgICAgICAgICBmaWxlbmFtZTogZmlsZWluZm8ubmFtZSxcbiAgICAgICAgICAgIHNvdXJjZTogZmlsZWluZm8uc291cmNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIHZhciBhcGkgPSBPYmplY3QuYXNzaWduKHt9LCBvbigpLCB7XG4gICAgICBzZXRTb3VyY2U6IGZ1bmN0aW9uIHNldFNvdXJjZShzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIChzdGF0ZS5zb3VyY2UgPSBzb3VyY2UpO1xuICAgICAgfSxcbiAgICAgIGdldFByb2dyZXNzOiBnZXRQcm9ncmVzcywgLy8gZmlsZSBsb2FkIHByb2dyZXNzXG4gICAgICBhYm9ydDogYWJvcnQsIC8vIGFib3J0IGZpbGUgbG9hZFxuICAgICAgbG9hZDogbG9hZCAvLyBzdGFydCBsb2FkXG4gICAgfSk7XG5cbiAgICByZXR1cm4gYXBpO1xuICB9O1xuXG4gIHZhciBpc0dldCA9IGZ1bmN0aW9uIGlzR2V0KG1ldGhvZCkge1xuICAgIHJldHVybiAvR0VUfEhFQUQvLnRlc3QobWV0aG9kKTtcbiAgfTtcblxuICB2YXIgc2VuZFJlcXVlc3QgPSBmdW5jdGlvbiBzZW5kUmVxdWVzdChkYXRhLCB1cmwsIG9wdGlvbnMpIHtcbiAgICB2YXIgYXBpID0ge1xuICAgICAgb25oZWFkZXJzOiBmdW5jdGlvbiBvbmhlYWRlcnMoKSB7fSxcbiAgICAgIG9ucHJvZ3Jlc3M6IGZ1bmN0aW9uIG9ucHJvZ3Jlc3MoKSB7fSxcbiAgICAgIG9ubG9hZDogZnVuY3Rpb24gb25sb2FkKCkge30sXG4gICAgICBvbnRpbWVvdXQ6IGZ1bmN0aW9uIG9udGltZW91dCgpIHt9LFxuICAgICAgb25lcnJvcjogZnVuY3Rpb24gb25lcnJvcigpIHt9LFxuICAgICAgb25hYm9ydDogZnVuY3Rpb24gb25hYm9ydCgpIHt9LFxuICAgICAgYWJvcnQ6IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIHRpbWVvdXQgaWRlbnRpZmllciwgb25seSB1c2VkIHdoZW4gdGltZW91dCBpcyBkZWZpbmVkXG4gICAgdmFyIGFib3J0ZWQgPSBmYWxzZTtcbiAgICB2YXIgaGVhZGVyc1JlY2VpdmVkID0gZmFsc2U7XG5cbiAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuXG4gICAgLy8gZW5jb2RlIHVybFxuICAgIHVybCA9IGVuY29kZVVSSSh1cmwpO1xuXG4gICAgLy8gaWYgbWV0aG9kIGlzIEdFVCwgYWRkIGFueSByZWNlaXZlZCBkYXRhIHRvIHVybFxuXG4gICAgaWYgKGlzR2V0KG9wdGlvbnMubWV0aG9kKSAmJiBkYXRhKSB7XG4gICAgICB1cmwgPVxuICAgICAgICAnJyArXG4gICAgICAgIHVybCArXG4gICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChcbiAgICAgICAgICB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgPyBkYXRhIDogSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgcmVxdWVzdFxuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIC8vIHByb2dyZXNzIG9mIGxvYWRcbiAgICB2YXIgcHJvY2VzcyA9IGlzR2V0KG9wdGlvbnMubWV0aG9kKSA/IHhociA6IHhoci51cGxvYWQ7XG4gICAgcHJvY2Vzcy5vbnByb2dyZXNzID0gZnVuY3Rpb24oZSkge1xuICAgICAgLy8gbm8gcHJvZ3Jlc3MgZXZlbnQgd2hlbiBhYm9ydGVkICggb25wcm9ncmVzcyBpcyBjYWxsZWQgb25jZSBhZnRlciBhYm9ydCgpIClcbiAgICAgIGlmIChhYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXBpLm9ucHJvZ3Jlc3MoZS5sZW5ndGhDb21wdXRhYmxlLCBlLmxvYWRlZCwgZS50b3RhbCk7XG4gICAgfTtcblxuICAgIC8vIHRyaWVzIHRvIGdldCBoZWFkZXIgaW5mbyB0byB0aGUgYXBwIGFzIGZhc3QgYXMgcG9zc2libGVcbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBub3QgaW50ZXJlc3RpbmcgaW4gdGhlc2Ugc3RhdGVzICgndW5zZW50JyBhbmQgJ29wZW5lbmQnIGFzIHRoZXkgZG9uJ3QgZ2l2ZSB1cyBhbnkgYWRkaXRpb25hbCBpbmZvKVxuICAgICAgaWYgKHhoci5yZWFkeVN0YXRlIDwgMikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIG5vIHNlcnZlciByZXNwb25zZVxuICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0ICYmIHhoci5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGVhZGVyc1JlY2VpdmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaGVhZGVyc1JlY2VpdmVkID0gdHJ1ZTtcblxuICAgICAgLy8gd2UndmUgcHJvYmFibHkgcmVjZWl2ZWQgc29tZSB1c2VmdWwgZGF0YSBpbiByZXNwb25zZSBoZWFkZXJzXG4gICAgICBhcGkub25oZWFkZXJzKHhocik7XG4gICAgfTtcblxuICAgIC8vIGxvYWQgc3VjY2Vzc2Z1bFxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIC8vIGlzIGNsYXNzaWZpZWQgYXMgdmFsaWQgcmVzcG9uc2VcbiAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgIGFwaS5vbmxvYWQoeGhyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwaS5vbmVycm9yKHhocik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIGVycm9yIGR1cmluZyBsb2FkXG4gICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBhcGkub25lcnJvcih4aHIpO1xuICAgIH07XG5cbiAgICAvLyByZXF1ZXN0IGFib3J0ZWRcbiAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgYWJvcnRlZCA9IHRydWU7XG4gICAgICBhcGkub25hYm9ydCgpO1xuICAgIH07XG5cbiAgICAvLyByZXF1ZXN0IHRpbWVvdXRcbiAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYXBpLm9udGltZW91dCh4aHIpO1xuICAgIH07XG5cbiAgICAvLyBvcGVuIHVwIG9wZW4gdXAhXG4gICAgeGhyLm9wZW4ob3B0aW9ucy5tZXRob2QsIHVybCwgdHJ1ZSk7XG5cbiAgICAvLyBzZXQgdGltZW91dCBpZiBkZWZpbmVkIChkbyBpdCBhZnRlciBvcGVuIHNvIElFMTEgcGxheXMgYmFsbClcbiAgICBpZiAoaXNJbnQob3B0aW9ucy50aW1lb3V0KSkge1xuICAgICAgeGhyLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQ7XG4gICAgfVxuXG4gICAgLy8gYWRkIGhlYWRlcnNcbiAgICBPYmplY3Qua2V5cyhvcHRpb25zLmhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQob3B0aW9ucy5oZWFkZXJzW2tleV0pKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHR5cGUgb2YgcmVzcG9uc2VcbiAgICBpZiAob3B0aW9ucy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBvcHRpb25zLnJlc3BvbnNlVHlwZTtcbiAgICB9XG5cbiAgICAvLyBzZXQgY3JlZGVudGlhbHNcbiAgICBpZiAob3B0aW9ucy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGxldCdzIHNlbmQgb3VyIGRhdGFcbiAgICB4aHIuc2VuZChkYXRhKTtcblxuICAgIHJldHVybiBhcGk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVJlc3BvbnNlID0gZnVuY3Rpb24gY3JlYXRlUmVzcG9uc2UodHlwZSwgY29kZSwgYm9keSwgaGVhZGVycykge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgY29kZTogY29kZSxcbiAgICAgIGJvZHk6IGJvZHksXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzXG4gICAgfTtcbiAgfTtcblxuICB2YXIgY3JlYXRlVGltZW91dFJlc3BvbnNlID0gZnVuY3Rpb24gY3JlYXRlVGltZW91dFJlc3BvbnNlKGNiKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHhocikge1xuICAgICAgY2IoY3JlYXRlUmVzcG9uc2UoJ2Vycm9yJywgMCwgJ1RpbWVvdXQnLCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBoYXNRUyA9IGZ1bmN0aW9uIGhhc1FTKHN0cikge1xuICAgIHJldHVybiAvXFw/Ly50ZXN0KHN0cik7XG4gIH07XG4gIHZhciBidWlsZFVSTCA9IGZ1bmN0aW9uIGJ1aWxkVVJMKCkge1xuICAgIHZhciB1cmwgPSAnJztcbiAgICBmb3IgKFxuICAgICAgdmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwYXJ0cyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7XG4gICAgICBfa2V5IDwgX2xlbjtcbiAgICAgIF9rZXkrK1xuICAgICkge1xuICAgICAgcGFydHNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIHBhcnRzLmZvckVhY2goZnVuY3Rpb24ocGFydCkge1xuICAgICAgdXJsICs9IGhhc1FTKHVybCkgJiYgaGFzUVMocGFydCkgPyBwYXJ0LnJlcGxhY2UoL1xcPy8sICcmJykgOiBwYXJ0O1xuICAgIH0pO1xuICAgIHJldHVybiB1cmw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUZldGNoRnVuY3Rpb24gPSBmdW5jdGlvbiBjcmVhdGVGZXRjaEZ1bmN0aW9uKCkge1xuICAgIHZhciBhcGlVcmwgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgLy8gY3VzdG9tIGhhbmRsZXIgKHNob3VsZCBhbHNvIGhhbmRsZSBmaWxlLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MgYW5kIGFib3J0KVxuICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH1cblxuICAgIC8vIG5vIGFjdGlvbiBzdXBwbGllZFxuICAgIGlmICghYWN0aW9uIHx8ICFpc1N0cmluZyhhY3Rpb24udXJsKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gc2V0IG9ubG9hZCBoYW5sZGVyXG4gICAgdmFyIG9ubG9hZCA9XG4gICAgICBhY3Rpb24ub25sb2FkIHx8XG4gICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH07XG4gICAgdmFyIG9uZXJyb3IgPVxuICAgICAgYWN0aW9uLm9uZXJyb3IgfHxcbiAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH07XG5cbiAgICAvLyBpbnRlcm5hbCBoYW5kbGVyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHVybCwgbG9hZCwgZXJyb3IsIHByb2dyZXNzLCBhYm9ydCwgaGVhZGVycykge1xuICAgICAgLy8gZG8gbG9jYWwgb3IgcmVtb3RlIHJlcXVlc3QgYmFzZWQgb24gaWYgdGhlIHVybCBpcyBleHRlcm5hbFxuICAgICAgdmFyIHJlcXVlc3QgPSBzZW5kUmVxdWVzdChcbiAgICAgICAgdXJsLFxuICAgICAgICBidWlsZFVSTChhcGlVcmwsIGFjdGlvbi51cmwpLFxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBhY3Rpb24sIHtcbiAgICAgICAgICByZXNwb25zZVR5cGU6ICdibG9iJ1xuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgLy8gZ2V0IGhlYWRlcnNcbiAgICAgICAgdmFyIGhlYWRlcnMgPSB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7XG5cbiAgICAgICAgLy8gZ2V0IGZpbGVuYW1lXG4gICAgICAgIHZhciBmaWxlbmFtZSA9XG4gICAgICAgICAgZ2V0RmlsZUluZm9Gcm9tSGVhZGVycyhoZWFkZXJzKS5uYW1lIHx8IGdldEZpbGVuYW1lRnJvbVVSTCh1cmwpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSByZXNwb25zZVxuICAgICAgICBsb2FkKFxuICAgICAgICAgIGNyZWF0ZVJlc3BvbnNlKFxuICAgICAgICAgICAgJ2xvYWQnLFxuICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgIGFjdGlvbi5tZXRob2QgPT09ICdIRUFEJ1xuICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgOiBnZXRGaWxlRnJvbUJsb2Iob25sb2FkKHhoci5yZXNwb25zZSksIGZpbGVuYW1lKSxcbiAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgZXJyb3IoXG4gICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub25oZWFkZXJzID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgIGhlYWRlcnMoXG4gICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAnaGVhZGVycycsXG4gICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgcmVxdWVzdC5vbmFib3J0ID0gYWJvcnQ7XG5cbiAgICAgIC8vIHNob3VsZCByZXR1cm4gcmVxdWVzdFxuICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgQ2h1bmtTdGF0dXMgPSB7XG4gICAgUVVFVUVEOiAwLFxuICAgIENPTVBMRVRFOiAxLFxuICAgIFBST0NFU1NJTkc6IDIsXG4gICAgRVJST1I6IDMsXG4gICAgV0FJVElORzogNFxuICB9O1xuXG4gIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2lnbmF0dXJlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZpbGUsIG1ldGFkYXRhLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0LCB0cmFuc2Zlciwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYm9ydDooKSA9PiB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4gIC8vIGFwaVVybCwgYWN0aW9uLCBuYW1lLCBmaWxlLCBtZXRhZGF0YSwgbG9hZCwgZXJyb3IsIHByb2dyZXNzLCBhYm9ydCwgdHJhbnNmZXIsIG9wdGlvbnNcbiAgdmFyIHByb2Nlc3NGaWxlQ2h1bmtlZCA9IGZ1bmN0aW9uIHByb2Nlc3NGaWxlQ2h1bmtlZChcbiAgICBhcGlVcmwsXG4gICAgYWN0aW9uLFxuICAgIG5hbWUsXG4gICAgZmlsZSxcbiAgICBtZXRhZGF0YSxcbiAgICBsb2FkLFxuICAgIGVycm9yLFxuICAgIHByb2dyZXNzLFxuICAgIGFib3J0LFxuICAgIHRyYW5zZmVyLFxuICAgIG9wdGlvbnNcbiAgKSB7XG4gICAgLy8gYWxsIGNodW5rc1xuICAgIHZhciBjaHVua3MgPSBbXTtcbiAgICB2YXIgY2h1bmtUcmFuc2ZlcklkID0gb3B0aW9ucy5jaHVua1RyYW5zZmVySWQsXG4gICAgICBjaHVua1NlcnZlciA9IG9wdGlvbnMuY2h1bmtTZXJ2ZXIsXG4gICAgICBjaHVua1NpemUgPSBvcHRpb25zLmNodW5rU2l6ZSxcbiAgICAgIGNodW5rUmV0cnlEZWxheXMgPSBvcHRpb25zLmNodW5rUmV0cnlEZWxheXM7XG5cbiAgICAvLyBkZWZhdWx0IHN0YXRlXG4gICAgdmFyIHN0YXRlID0ge1xuICAgICAgc2VydmVySWQ6IGNodW5rVHJhbnNmZXJJZCxcbiAgICAgIGFib3J0ZWQ6IGZhbHNlXG4gICAgfTtcblxuICAgIC8vIHNldCBvbmxvYWQgaGFuZGxlcnNcbiAgICB2YXIgb25kYXRhID1cbiAgICAgIGFjdGlvbi5vbmRhdGEgfHxcbiAgICAgIGZ1bmN0aW9uKGZkKSB7XG4gICAgICAgIHJldHVybiBmZDtcbiAgICAgIH07XG4gICAgdmFyIG9ubG9hZCA9XG4gICAgICBhY3Rpb24ub25sb2FkIHx8XG4gICAgICBmdW5jdGlvbih4aHIsIG1ldGhvZCkge1xuICAgICAgICByZXR1cm4gbWV0aG9kID09PSAnSEVBRCdcbiAgICAgICAgICA/IHhoci5nZXRSZXNwb25zZUhlYWRlcignVXBsb2FkLU9mZnNldCcpXG4gICAgICAgICAgOiB4aHIucmVzcG9uc2U7XG4gICAgICB9O1xuICAgIHZhciBvbmVycm9yID1cbiAgICAgIGFjdGlvbi5vbmVycm9yIHx8XG4gICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9O1xuXG4gICAgLy8gY3JlYXRlIHNlcnZlciBob29rXG4gICAgdmFyIHJlcXVlc3RUcmFuc2ZlcklkID0gZnVuY3Rpb24gcmVxdWVzdFRyYW5zZmVySWQoY2IpIHtcbiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgICAvLyBhZGQgbWV0YWRhdGEgdW5kZXIgc2FtZSBuYW1lXG4gICAgICBpZiAoaXNPYmplY3QobWV0YWRhdGEpKSBmb3JtRGF0YS5hcHBlbmQobmFtZSwgSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpKTtcblxuICAgICAgdmFyIGhlYWRlcnMgPVxuICAgICAgICB0eXBlb2YgYWN0aW9uLmhlYWRlcnMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICA/IGFjdGlvbi5oZWFkZXJzKGZpbGUsIG1ldGFkYXRhKVxuICAgICAgICAgIDogT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uLmhlYWRlcnMsIHtcbiAgICAgICAgICAgICAgJ1VwbG9hZC1MZW5ndGgnOiBmaWxlLnNpemVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICB2YXIgcmVxdWVzdFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbiwge1xuICAgICAgICBoZWFkZXJzOiBoZWFkZXJzXG4gICAgICB9KTtcblxuICAgICAgLy8gc2VuZCByZXF1ZXN0IG9iamVjdFxuICAgICAgdmFyIHJlcXVlc3QgPSBzZW5kUmVxdWVzdChcbiAgICAgICAgb25kYXRhKGZvcm1EYXRhKSxcbiAgICAgICAgYnVpbGRVUkwoYXBpVXJsLCBhY3Rpb24udXJsKSxcbiAgICAgICAgcmVxdWVzdFBhcmFtc1xuICAgICAgKTtcblxuICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgcmV0dXJuIGNiKG9ubG9hZCh4aHIsIHJlcXVlc3RQYXJhbXMubWV0aG9kKSk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgIGNyZWF0ZVJlc3BvbnNlKFxuICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICBvbmVycm9yKHhoci5yZXNwb25zZSkgfHwgeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9udGltZW91dCA9IGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcik7XG4gICAgfTtcblxuICAgIHZhciByZXF1ZXN0VHJhbnNmZXJPZmZzZXQgPSBmdW5jdGlvbiByZXF1ZXN0VHJhbnNmZXJPZmZzZXQoY2IpIHtcbiAgICAgIHZhciByZXF1ZXN0VXJsID0gYnVpbGRVUkwoYXBpVXJsLCBjaHVua1NlcnZlci51cmwsIHN0YXRlLnNlcnZlcklkKTtcblxuICAgICAgdmFyIGhlYWRlcnMgPVxuICAgICAgICB0eXBlb2YgYWN0aW9uLmhlYWRlcnMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICA/IGFjdGlvbi5oZWFkZXJzKHN0YXRlLnNlcnZlcklkKVxuICAgICAgICAgIDogT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uLmhlYWRlcnMpO1xuXG4gICAgICB2YXIgcmVxdWVzdFBhcmFtcyA9IHtcbiAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgbWV0aG9kOiAnSEVBRCdcbiAgICAgIH07XG5cbiAgICAgIHZhciByZXF1ZXN0ID0gc2VuZFJlcXVlc3QobnVsbCwgcmVxdWVzdFVybCwgcmVxdWVzdFBhcmFtcyk7XG5cbiAgICAgIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgIHJldHVybiBjYihvbmxvYWQoeGhyLCByZXF1ZXN0UGFyYW1zLm1ldGhvZCkpO1xuICAgICAgfTtcblxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpO1xuICAgIH07XG5cbiAgICAvLyBjcmVhdGUgY2h1bmtzXG4gICAgdmFyIGxhc3RDaHVua0luZGV4ID0gTWF0aC5mbG9vcihmaWxlLnNpemUgLyBjaHVua1NpemUpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGxhc3RDaHVua0luZGV4OyBpKyspIHtcbiAgICAgIHZhciBvZmZzZXQgPSBpICogY2h1bmtTaXplO1xuICAgICAgdmFyIGRhdGEgPSBmaWxlLnNsaWNlKFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIG9mZnNldCArIGNodW5rU2l6ZSxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL29mZnNldCtvY3RldC1zdHJlYW0nXG4gICAgICApO1xuICAgICAgY2h1bmtzW2ldID0ge1xuICAgICAgICBpbmRleDogaSxcbiAgICAgICAgc2l6ZTogZGF0YS5zaXplLFxuICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgZmlsZTogZmlsZSxcbiAgICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICAgIHJldHJpZXM6IF90b0NvbnN1bWFibGVBcnJheShjaHVua1JldHJ5RGVsYXlzKSxcbiAgICAgICAgc3RhdHVzOiBDaHVua1N0YXR1cy5RVUVVRUQsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICByZXF1ZXN0OiBudWxsLFxuICAgICAgICB0aW1lb3V0OiBudWxsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBjb21wbGV0ZVByb2Nlc3NpbmdDaHVua3MgPSBmdW5jdGlvbiBjb21wbGV0ZVByb2Nlc3NpbmdDaHVua3MoKSB7XG4gICAgICByZXR1cm4gbG9hZChzdGF0ZS5zZXJ2ZXJJZCk7XG4gICAgfTtcblxuICAgIHZhciBjYW5Qcm9jZXNzQ2h1bmsgPSBmdW5jdGlvbiBjYW5Qcm9jZXNzQ2h1bmsoY2h1bmspIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGNodW5rLnN0YXR1cyA9PT0gQ2h1bmtTdGF0dXMuUVVFVUVEIHx8XG4gICAgICAgIGNodW5rLnN0YXR1cyA9PT0gQ2h1bmtTdGF0dXMuRVJST1JcbiAgICAgICk7XG4gICAgfTtcblxuICAgIHZhciBwcm9jZXNzQ2h1bmsgPSBmdW5jdGlvbiBwcm9jZXNzQ2h1bmsoY2h1bmspIHtcbiAgICAgIC8vIHByb2Nlc3NpbmcgaXMgcGF1c2VkLCB3YWl0IGhlcmVcbiAgICAgIGlmIChzdGF0ZS5hYm9ydGVkKSByZXR1cm47XG5cbiAgICAgIC8vIGdldCBuZXh0IGNodW5rIHRvIHByb2Nlc3NcbiAgICAgIGNodW5rID0gY2h1bmsgfHwgY2h1bmtzLmZpbmQoY2FuUHJvY2Vzc0NodW5rKTtcblxuICAgICAgLy8gbm8gbW9yZSBjaHVua3MgdG8gcHJvY2Vzc1xuICAgICAgaWYgKCFjaHVuaykge1xuICAgICAgICAvLyBhbGwgZG9uZT9cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNodW5rcy5ldmVyeShmdW5jdGlvbihjaHVuaykge1xuICAgICAgICAgICAgcmV0dXJuIGNodW5rLnN0YXR1cyA9PT0gQ2h1bmtTdGF0dXMuQ09NUExFVEU7XG4gICAgICAgICAgfSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29tcGxldGVQcm9jZXNzaW5nQ2h1bmtzKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBjaHVuayB0byBoYW5kbGVcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBub3cgcHJvY2Vzc2luZyB0aGlzIGNodW5rXG4gICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5QUk9DRVNTSU5HO1xuICAgICAgY2h1bmsucHJvZ3Jlc3MgPSBudWxsO1xuXG4gICAgICAvLyBhbGxvdyBwYXJzaW5nIG9mIGZvcm1kYXRhXG4gICAgICB2YXIgb25kYXRhID1cbiAgICAgICAgY2h1bmtTZXJ2ZXIub25kYXRhIHx8XG4gICAgICAgIGZ1bmN0aW9uKGZkKSB7XG4gICAgICAgICAgcmV0dXJuIGZkO1xuICAgICAgICB9O1xuICAgICAgdmFyIG9uZXJyb3IgPVxuICAgICAgICBjaHVua1NlcnZlci5vbmVycm9yIHx8XG4gICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAvLyBzZW5kIHJlcXVlc3Qgb2JqZWN0XG4gICAgICB2YXIgcmVxdWVzdFVybCA9IGJ1aWxkVVJMKGFwaVVybCwgY2h1bmtTZXJ2ZXIudXJsLCBzdGF0ZS5zZXJ2ZXJJZCk7XG5cbiAgICAgIHZhciBoZWFkZXJzID1cbiAgICAgICAgdHlwZW9mIGNodW5rU2VydmVyLmhlYWRlcnMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICA/IGNodW5rU2VydmVyLmhlYWRlcnMoY2h1bmspXG4gICAgICAgICAgOiBPYmplY3QuYXNzaWduKHt9LCBjaHVua1NlcnZlci5oZWFkZXJzLCB7XG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vb2Zmc2V0K29jdGV0LXN0cmVhbScsXG4gICAgICAgICAgICAgICdVcGxvYWQtT2Zmc2V0JzogY2h1bmsub2Zmc2V0LFxuICAgICAgICAgICAgICAnVXBsb2FkLUxlbmd0aCc6IGZpbGUuc2l6ZSxcbiAgICAgICAgICAgICAgJ1VwbG9hZC1OYW1lJzogZmlsZS5uYW1lXG4gICAgICAgICAgICB9KTtcblxuICAgICAgdmFyIHJlcXVlc3QgPSAoY2h1bmsucmVxdWVzdCA9IHNlbmRSZXF1ZXN0KFxuICAgICAgICBvbmRhdGEoY2h1bmsuZGF0YSksXG4gICAgICAgIHJlcXVlc3RVcmwsXG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGNodW5rU2VydmVyLCB7XG4gICAgICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgICAgICB9KVxuICAgICAgKSk7XG5cbiAgICAgIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGRvbmUhXG4gICAgICAgIGNodW5rLnN0YXR1cyA9IENodW5rU3RhdHVzLkNPTVBMRVRFO1xuXG4gICAgICAgIC8vIHJlbW92ZSByZXF1ZXN0IHJlZmVyZW5jZVxuICAgICAgICBjaHVuay5yZXF1ZXN0ID0gbnVsbDtcblxuICAgICAgICAvLyBzdGFydCBwcm9jZXNzaW5nIG1vcmUgY2h1bmtzXG4gICAgICAgIHByb2Nlc3NDaHVua3MoKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub25wcm9ncmVzcyA9IGZ1bmN0aW9uKGxlbmd0aENvbXB1dGFibGUsIGxvYWRlZCwgdG90YWwpIHtcbiAgICAgICAgY2h1bmsucHJvZ3Jlc3MgPSBsZW5ndGhDb21wdXRhYmxlID8gbG9hZGVkIDogbnVsbDtcbiAgICAgICAgdXBkYXRlVG90YWxQcm9ncmVzcygpO1xuICAgICAgfTtcblxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgIGNodW5rLnN0YXR1cyA9IENodW5rU3RhdHVzLkVSUk9SO1xuICAgICAgICBjaHVuay5yZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgY2h1bmsuZXJyb3IgPSBvbmVycm9yKHhoci5yZXNwb25zZSkgfHwgeGhyLnN0YXR1c1RleHQ7XG4gICAgICAgIGlmICghcmV0cnlQcm9jZXNzQ2h1bmsoY2h1bmspKSB7XG4gICAgICAgICAgZXJyb3IoXG4gICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5FUlJPUjtcbiAgICAgICAgY2h1bmsucmVxdWVzdCA9IG51bGw7XG4gICAgICAgIGlmICghcmV0cnlQcm9jZXNzQ2h1bmsoY2h1bmspKSB7XG4gICAgICAgICAgY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKSh4aHIpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuUVVFVUVEO1xuICAgICAgICBjaHVuay5yZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgYWJvcnQoKTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciByZXRyeVByb2Nlc3NDaHVuayA9IGZ1bmN0aW9uIHJldHJ5UHJvY2Vzc0NodW5rKGNodW5rKSB7XG4gICAgICAvLyBubyBtb3JlIHJldHJpZXMgbGVmdFxuICAgICAgaWYgKGNodW5rLnJldHJpZXMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIG5ldyByZXRyeVxuICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuV0FJVElORztcbiAgICAgIGNsZWFyVGltZW91dChjaHVuay50aW1lb3V0KTtcbiAgICAgIGNodW5rLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9jZXNzQ2h1bmsoY2h1bmspO1xuICAgICAgfSwgY2h1bmsucmV0cmllcy5zaGlmdCgpKTtcblxuICAgICAgLy8gd2UncmUgZ29pbmcgdG8gcmV0cnlcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICB2YXIgdXBkYXRlVG90YWxQcm9ncmVzcyA9IGZ1bmN0aW9uIHVwZGF0ZVRvdGFsUHJvZ3Jlc3MoKSB7XG4gICAgICAvLyBjYWxjdWxhdGUgdG90YWwgcHJvZ3Jlc3MgZnJhY3Rpb25cbiAgICAgIHZhciB0b3RhbEJ5dGVzVHJhbnNmZXJlZCA9IGNodW5rcy5yZWR1Y2UoZnVuY3Rpb24ocCwgY2h1bmspIHtcbiAgICAgICAgaWYgKHAgPT09IG51bGwgfHwgY2h1bmsucHJvZ3Jlc3MgPT09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gcCArIGNodW5rLnByb2dyZXNzO1xuICAgICAgfSwgMCk7XG5cbiAgICAgIC8vIGNhbid0IGNvbXB1dGUgcHJvZ3Jlc3NcbiAgICAgIGlmICh0b3RhbEJ5dGVzVHJhbnNmZXJlZCA9PT0gbnVsbCkgcmV0dXJuIHByb2dyZXNzKGZhbHNlLCAwLCAwKTtcblxuICAgICAgLy8gY2FsY3VsYXRlIHByb2dyZXNzIHZhbHVlc1xuICAgICAgdmFyIHRvdGFsU2l6ZSA9IGNodW5rcy5yZWR1Y2UoZnVuY3Rpb24odG90YWwsIGNodW5rKSB7XG4gICAgICAgIHJldHVybiB0b3RhbCArIGNodW5rLnNpemU7XG4gICAgICB9LCAwKTtcblxuICAgICAgLy8gY2FuIHVwZGF0ZSBwcm9ncmVzcyBpbmRpY2F0b3JcbiAgICAgIHByb2dyZXNzKHRydWUsIHRvdGFsQnl0ZXNUcmFuc2ZlcmVkLCB0b3RhbFNpemUpO1xuICAgIH07XG5cbiAgICAvLyBwcm9jZXNzIG5ldyBjaHVua3NcbiAgICB2YXIgcHJvY2Vzc0NodW5rcyA9IGZ1bmN0aW9uIHByb2Nlc3NDaHVua3MoKSB7XG4gICAgICB2YXIgdG90YWxQcm9jZXNzaW5nID0gY2h1bmtzLmZpbHRlcihmdW5jdGlvbihjaHVuaykge1xuICAgICAgICByZXR1cm4gY2h1bmsuc3RhdHVzID09PSBDaHVua1N0YXR1cy5QUk9DRVNTSU5HO1xuICAgICAgfSkubGVuZ3RoO1xuICAgICAgaWYgKHRvdGFsUHJvY2Vzc2luZyA+PSAxKSByZXR1cm47XG4gICAgICBwcm9jZXNzQ2h1bmsoKTtcbiAgICB9O1xuXG4gICAgdmFyIGFib3J0Q2h1bmtzID0gZnVuY3Rpb24gYWJvcnRDaHVua3MoKSB7XG4gICAgICBjaHVua3MuZm9yRWFjaChmdW5jdGlvbihjaHVuaykge1xuICAgICAgICBjbGVhclRpbWVvdXQoY2h1bmsudGltZW91dCk7XG4gICAgICAgIGlmIChjaHVuay5yZXF1ZXN0KSB7XG4gICAgICAgICAgY2h1bmsucmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gbGV0J3MgZ28hXG4gICAgaWYgKCFzdGF0ZS5zZXJ2ZXJJZCkge1xuICAgICAgcmVxdWVzdFRyYW5zZmVySWQoZnVuY3Rpb24oc2VydmVySWQpIHtcbiAgICAgICAgLy8gc3RvcCBoZXJlIGlmIGFib3J0ZWQsIG1pZ2h0IGhhdmUgaGFwcGVuZWQgaW4gYmV0d2VlbiByZXF1ZXN0IGFuZCBjYWxsYmFja1xuICAgICAgICBpZiAoc3RhdGUuYWJvcnRlZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIHBhc3MgYmFjayB0byBpdGVtIHNvIHdlIGNhbiB1c2UgaXQgaWYgc29tZXRoaW5nIGdvZXMgd3JvbmdcbiAgICAgICAgdHJhbnNmZXIoc2VydmVySWQpO1xuXG4gICAgICAgIC8vIHN0b3JlIGludGVybmFsbHlcbiAgICAgICAgc3RhdGUuc2VydmVySWQgPSBzZXJ2ZXJJZDtcbiAgICAgICAgcHJvY2Vzc0NodW5rcygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcXVlc3RUcmFuc2Zlck9mZnNldChmdW5jdGlvbihvZmZzZXQpIHtcbiAgICAgICAgLy8gc3RvcCBoZXJlIGlmIGFib3J0ZWQsIG1pZ2h0IGhhdmUgaGFwcGVuZWQgaW4gYmV0d2VlbiByZXF1ZXN0IGFuZCBjYWxsYmFja1xuICAgICAgICBpZiAoc3RhdGUuYWJvcnRlZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIG1hcmsgY2h1bmtzIHdpdGggbG93ZXIgb2Zmc2V0IGFzIGNvbXBsZXRlXG4gICAgICAgIGNodW5rc1xuICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oY2h1bmspIHtcbiAgICAgICAgICAgIHJldHVybiBjaHVuay5vZmZzZXQgPCBvZmZzZXQ7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihjaHVuaykge1xuICAgICAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuQ09NUExFVEU7XG4gICAgICAgICAgICBjaHVuay5wcm9ncmVzcyA9IGNodW5rLnNpemU7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gY29udGludWUgcHJvY2Vzc2luZ1xuICAgICAgICBwcm9jZXNzQ2h1bmtzKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgYWJvcnQ6IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgICBzdGF0ZS5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgYWJvcnRDaHVua3MoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaWduYXR1cmU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmaWxlLCBtZXRhZGF0YSwgbG9hZCwgZXJyb3IsIHByb2dyZXNzLCBhYm9ydCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnQ6KCkgPT4ge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgdmFyIGNyZWF0ZUZpbGVQcm9jZXNzb3JGdW5jdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZUZpbGVQcm9jZXNzb3JGdW5jdGlvbihcbiAgICBhcGlVcmwsXG4gICAgYWN0aW9uLFxuICAgIG5hbWUsXG4gICAgb3B0aW9uc1xuICApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZmlsZSwgbWV0YWRhdGEsIGxvYWQsIGVycm9yLCBwcm9ncmVzcywgYWJvcnQsIHRyYW5zZmVyKSB7XG4gICAgICAvLyBubyBmaWxlIHJlY2VpdmVkXG4gICAgICBpZiAoIWZpbGUpIHJldHVybjtcblxuICAgICAgLy8gaWYgd2FzIHBhc3NlZCBhIGZpbGUsIGFuZCB3ZSBjYW4gY2h1bmsgaXQsIGV4aXQgaGVyZVxuICAgICAgdmFyIGNhbkNodW5rVXBsb2FkID0gb3B0aW9ucy5jaHVua1VwbG9hZHM7XG4gICAgICB2YXIgc2hvdWxkQ2h1bmtVcGxvYWQgPSBjYW5DaHVua1VwbG9hZCAmJiBmaWxlLnNpemUgPiBvcHRpb25zLmNodW5rU2l6ZTtcbiAgICAgIHZhciB3aWxsQ2h1bmtVcGxvYWQgPVxuICAgICAgICBjYW5DaHVua1VwbG9hZCAmJiAoc2hvdWxkQ2h1bmtVcGxvYWQgfHwgb3B0aW9ucy5jaHVua0ZvcmNlKTtcbiAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgQmxvYiAmJiB3aWxsQ2h1bmtVcGxvYWQpXG4gICAgICAgIHJldHVybiBwcm9jZXNzRmlsZUNodW5rZWQoXG4gICAgICAgICAgYXBpVXJsLFxuICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGZpbGUsXG4gICAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgICAgbG9hZCxcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgICBwcm9ncmVzcyxcbiAgICAgICAgICBhYm9ydCxcbiAgICAgICAgICB0cmFuc2ZlcixcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG5cbiAgICAgIC8vIHNldCBoYW5kbGVyc1xuICAgICAgdmFyIG9uZGF0YSA9XG4gICAgICAgIGFjdGlvbi5vbmRhdGEgfHxcbiAgICAgICAgZnVuY3Rpb24oZmQpIHtcbiAgICAgICAgICByZXR1cm4gZmQ7XG4gICAgICAgIH07XG4gICAgICB2YXIgb25sb2FkID1cbiAgICAgICAgYWN0aW9uLm9ubG9hZCB8fFxuICAgICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9O1xuICAgICAgdmFyIG9uZXJyb3IgPVxuICAgICAgICBhY3Rpb24ub25lcnJvciB8fFxuICAgICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcblxuICAgICAgLy8gY3JlYXRlIGZvcm1kYXRhIG9iamVjdFxuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgIC8vIGFkZCBtZXRhZGF0YSB1bmRlciBzYW1lIG5hbWVcbiAgICAgIGlmIChpc09iamVjdChtZXRhZGF0YSkpIHtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKG5hbWUsIEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFR1cm4gaW50byBhbiBhcnJheSBvZiBvYmplY3RzIHNvIG5vIG1hdHRlciB3aGF0IHRoZSBpbnB1dCwgd2UgY2FuIGhhbmRsZSBpdCB0aGUgc2FtZSB3YXlcbiAgICAgIChmaWxlIGluc3RhbmNlb2YgQmxvYiA/IFt7IG5hbWU6IG51bGwsIGZpbGU6IGZpbGUgfV0gOiBmaWxlKS5mb3JFYWNoKFxuICAgICAgICBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgZm9ybURhdGEuYXBwZW5kKFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGl0ZW0uZmlsZSxcbiAgICAgICAgICAgIGl0ZW0ubmFtZSA9PT0gbnVsbFxuICAgICAgICAgICAgICA/IGl0ZW0uZmlsZS5uYW1lXG4gICAgICAgICAgICAgIDogJycgKyBpdGVtLm5hbWUgKyBpdGVtLmZpbGUubmFtZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIC8vIHNlbmQgcmVxdWVzdCBvYmplY3RcbiAgICAgIHZhciByZXF1ZXN0ID0gc2VuZFJlcXVlc3QoXG4gICAgICAgIG9uZGF0YShmb3JtRGF0YSksXG4gICAgICAgIGJ1aWxkVVJMKGFwaVVybCwgYWN0aW9uLnVybCksXG4gICAgICAgIGFjdGlvblxuICAgICAgKTtcbiAgICAgIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgIGxvYWQoXG4gICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAnbG9hZCcsXG4gICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgb25sb2FkKHhoci5yZXNwb25zZSksXG4gICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgZXJyb3IoXG4gICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgcmVxdWVzdC5vbmFib3J0ID0gYWJvcnQ7XG5cbiAgICAgIC8vIHNob3VsZCByZXR1cm4gcmVxdWVzdFxuICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgY3JlYXRlUHJvY2Vzc29yRnVuY3Rpb24gPSBmdW5jdGlvbiBjcmVhdGVQcm9jZXNzb3JGdW5jdGlvbigpIHtcbiAgICB2YXIgYXBpVXJsID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHZhciBuYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDtcblxuICAgIC8vIGN1c3RvbSBoYW5kbGVyIChzaG91bGQgYWxzbyBoYW5kbGUgZmlsZSwgbG9hZCwgZXJyb3IsIHByb2dyZXNzIGFuZCBhYm9ydClcbiAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBhcmFtcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7XG4gICAgICAgICAgX2tleSA8IF9sZW47XG4gICAgICAgICAgX2tleSsrXG4gICAgICAgICkge1xuICAgICAgICAgIHBhcmFtc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aW9uLmFwcGx5KHZvaWQgMCwgW25hbWVdLmNvbmNhdChwYXJhbXMsIFtvcHRpb25zXSkpO1xuICAgICAgfTtcblxuICAgIC8vIG5vIGFjdGlvbiBzdXBwbGllZFxuICAgIGlmICghYWN0aW9uIHx8ICFpc1N0cmluZyhhY3Rpb24udXJsKSkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBpbnRlcm5hbCBoYW5kbGVyXG4gICAgcmV0dXJuIGNyZWF0ZUZpbGVQcm9jZXNzb3JGdW5jdGlvbihhcGlVcmwsIGFjdGlvbiwgbmFtZSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNpZ25hdHVyZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1bmlxdWVGaWxlSWQsIGxvYWQsIGVycm9yKSA9PiB7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIHZhciBjcmVhdGVSZXZlcnRGdW5jdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZVJldmVydEZ1bmN0aW9uKCkge1xuICAgIHZhciBhcGlVcmwgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgLy8gaXMgY3VzdG9tIGltcGxlbWVudGF0aW9uXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBhY3Rpb247XG4gICAgfVxuXG4gICAgLy8gbm8gYWN0aW9uIHN1cHBsaWVkLCByZXR1cm4gc3R1YiBmdW5jdGlvbiwgaW50ZXJmYWNlIHdpbGwgd29yaywgYnV0IGZpbGUgd29uJ3QgYmUgcmVtb3ZlZFxuICAgIGlmICghYWN0aW9uIHx8ICFpc1N0cmluZyhhY3Rpb24udXJsKSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHVuaXF1ZUZpbGVJZCwgbG9hZCkge1xuICAgICAgICByZXR1cm4gbG9hZCgpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBzZXQgb25sb2FkIGhhbmxkZXJcbiAgICB2YXIgb25sb2FkID1cbiAgICAgIGFjdGlvbi5vbmxvYWQgfHxcbiAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfTtcbiAgICB2YXIgb25lcnJvciA9XG4gICAgICBhY3Rpb24ub25lcnJvciB8fFxuICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfTtcblxuICAgIC8vIGludGVybmFsIGltcGxlbWVudGF0aW9uXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHVuaXF1ZUZpbGVJZCwgbG9hZCwgZXJyb3IpIHtcbiAgICAgIHZhciByZXF1ZXN0ID0gc2VuZFJlcXVlc3QoXG4gICAgICAgIHVuaXF1ZUZpbGVJZCxcbiAgICAgICAgYXBpVXJsICsgYWN0aW9uLnVybCxcbiAgICAgICAgYWN0aW9uIC8vIGNvbnRhaW5zIG1ldGhvZCwgaGVhZGVycyBhbmQgd2l0aENyZWRlbnRpYWxzIHByb3BlcnRpZXNcbiAgICAgICk7XG4gICAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICBsb2FkKFxuICAgICAgICAgIGNyZWF0ZVJlc3BvbnNlKFxuICAgICAgICAgICAgJ2xvYWQnLFxuICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgIG9ubG9hZCh4aHIucmVzcG9uc2UpLFxuICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgIGVycm9yKFxuICAgICAgICAgIGNyZWF0ZVJlc3BvbnNlKFxuICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICBvbmVycm9yKHhoci5yZXNwb25zZSkgfHwgeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9udGltZW91dCA9IGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcik7XG5cbiAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGdldFJhbmRvbU51bWJlciA9IGZ1bmN0aW9uIGdldFJhbmRvbU51bWJlcigpIHtcbiAgICB2YXIgbWluID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICB2YXIgbWF4ID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTtcbiAgICByZXR1cm4gbWluICsgTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVQZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIgPSBmdW5jdGlvbiBjcmVhdGVQZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIoXG4gICAgY2JcbiAgKSB7XG4gICAgdmFyIGR1cmF0aW9uID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTAwMDtcbiAgICB2YXIgb2Zmc2V0ID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICB2YXIgdGlja01pbiA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDI1O1xuICAgIHZhciB0aWNrTWF4ID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogMjUwO1xuICAgIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgICB2YXIgc3RhcnQgPSBEYXRlLm5vdygpO1xuXG4gICAgdmFyIHRpY2sgPSBmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgdmFyIHJ1bnRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnQ7XG4gICAgICB2YXIgZGVsYXkgPSBnZXRSYW5kb21OdW1iZXIodGlja01pbiwgdGlja01heCk7XG5cbiAgICAgIGlmIChydW50aW1lICsgZGVsYXkgPiBkdXJhdGlvbikge1xuICAgICAgICBkZWxheSA9IHJ1bnRpbWUgKyBkZWxheSAtIGR1cmF0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvZ3Jlc3MgPSBydW50aW1lIC8gZHVyYXRpb247XG4gICAgICBpZiAocHJvZ3Jlc3MgPj0gMSB8fCBkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgY2IoMSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2IocHJvZ3Jlc3MpO1xuXG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCh0aWNrLCBkZWxheSk7XG4gICAgfTtcblxuICAgIHRpY2soKTtcblxuICAgIHJldHVybiB7XG4gICAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIHZhciBjcmVhdGVGaWxlUHJvY2Vzc29yID0gZnVuY3Rpb24gY3JlYXRlRmlsZVByb2Nlc3Nvcihwcm9jZXNzRm4pIHtcbiAgICB2YXIgc3RhdGUgPSB7XG4gICAgICBjb21wbGV0ZTogZmFsc2UsXG4gICAgICBwZXJjZWl2ZWRQcm9ncmVzczogMCxcbiAgICAgIHBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlcjogbnVsbCxcbiAgICAgIHByb2dyZXNzOiBudWxsLFxuICAgICAgdGltZXN0YW1wOiBudWxsLFxuICAgICAgcGVyY2VpdmVkRHVyYXRpb246IDAsXG4gICAgICBkdXJhdGlvbjogMCxcbiAgICAgIHJlcXVlc3Q6IG51bGwsXG4gICAgICByZXNwb25zZTogbnVsbFxuICAgIH07XG5cbiAgICB2YXIgcHJvY2VzcyA9IGZ1bmN0aW9uIHByb2Nlc3MoZmlsZSwgbWV0YWRhdGEpIHtcbiAgICAgIHZhciBwcm9ncmVzc0ZuID0gZnVuY3Rpb24gcHJvZ3Jlc3NGbigpIHtcbiAgICAgICAgLy8gd2UndmUgbm90IHlldCBzdGFydGVkIHRoZSByZWFsIGRvd25sb2FkLCBzdG9wIGhlcmVcbiAgICAgICAgLy8gdGhlIHJlcXVlc3QgbWlnaHQgbm90IGdvIHRocm91Z2gsIGZvciBpbnN0YW5jZSwgdGhlcmUgbWlnaHQgYmUgc29tZSBzZXJ2ZXIgdHJvdWJsZVxuICAgICAgICAvLyBpZiBzdGF0ZS5wcm9ncmVzcyBpcyBudWxsLCB0aGUgc2VydmVyIGRvZXMgbm90IGFsbG93IGNvbXB1dGluZyBwcm9ncmVzcyBhbmQgd2Ugc2hvdyB0aGUgc3Bpbm5lciBpbnN0ZWFkXG4gICAgICAgIGlmIChzdGF0ZS5kdXJhdGlvbiA9PT0gMCB8fCBzdGF0ZS5wcm9ncmVzcyA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIGFzIHdlJ3JlIG5vdyBwcm9jZXNzaW5nLCBmaXJlIHRoZSBwcm9ncmVzcyBldmVudFxuICAgICAgICBhcGkuZmlyZSgncHJvZ3Jlc3MnLCBhcGkuZ2V0UHJvZ3Jlc3MoKSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgY29tcGxldGVGbiA9IGZ1bmN0aW9uIGNvbXBsZXRlRm4oKSB7XG4gICAgICAgIHN0YXRlLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgYXBpLmZpcmUoJ2xvYWQtcGVyY2VpdmVkJywgc3RhdGUucmVzcG9uc2UuYm9keSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBsZXQncyBzdGFydCBwcm9jZXNzaW5nXG4gICAgICBhcGkuZmlyZSgnc3RhcnQnKTtcblxuICAgICAgLy8gc2V0IHJlcXVlc3Qgc3RhcnRcbiAgICAgIHN0YXRlLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIGNyZWF0ZSBwZXJjZWl2ZWQgcGVyZm9ybWFuY2UgcHJvZ3Jlc3MgaW5kaWNhdG9yXG4gICAgICBzdGF0ZS5wZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIgPSBjcmVhdGVQZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIoXG4gICAgICAgIGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICAgICAgc3RhdGUucGVyY2VpdmVkUHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWREdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXA7XG5cbiAgICAgICAgICBwcm9ncmVzc0ZuKCk7XG5cbiAgICAgICAgICAvLyBpZiBmYWtlIHByb2dyZXNzIGlzIGRvbmUsIGFuZCBhIHJlc3BvbnNlIGhhcyBiZWVuIHJlY2VpdmVkLFxuICAgICAgICAgIC8vIGFuZCB3ZSd2ZSBub3QgeWV0IGNhbGxlZCB0aGUgY29tcGxldGUgbWV0aG9kXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgc3RhdGUucmVzcG9uc2UgJiZcbiAgICAgICAgICAgIHN0YXRlLnBlcmNlaXZlZFByb2dyZXNzID09PSAxICYmXG4gICAgICAgICAgICAhc3RhdGUuY29tcGxldGVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIHdlIGRvbmUhXG4gICAgICAgICAgICBjb21wbGV0ZUZuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvLyByYW5kb20gZGVsYXkgYXMgaW4gYSBsaXN0IG9mIGZpbGVzIHlvdSBzdGFydCBub3RpY2luZ1xuICAgICAgICAvLyBmaWxlcyB1cGxvYWRpbmcgYXQgdGhlIGV4YWN0IHNhbWUgc3BlZWRcbiAgICAgICAgZ2V0UmFuZG9tTnVtYmVyKDc1MCwgMTUwMClcbiAgICAgICk7XG5cbiAgICAgIC8vIHJlbWVtYmVyIHJlcXVlc3Qgc28gd2UgY2FuIGFib3J0IGl0IGxhdGVyXG4gICAgICBzdGF0ZS5yZXF1ZXN0ID0gcHJvY2Vzc0ZuKFxuICAgICAgICAvLyB0aGUgZmlsZSB0byBwcm9jZXNzXG4gICAgICAgIGZpbGUsXG5cbiAgICAgICAgLy8gdGhlIG1ldGFkYXRhIHRvIHNlbmQgYWxvbmdcbiAgICAgICAgbWV0YWRhdGEsXG5cbiAgICAgICAgLy8gY2FsbGJhY2tzIChsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0LCB0cmFuc2ZlcilcbiAgICAgICAgLy8gbG9hZCBleHBlY3RzIHRoZSBib2R5IHRvIGJlIGEgc2VydmVyIGlkIGlmXG4gICAgICAgIC8vIHlvdSB3YW50IHRvIG1ha2UgdXNlIG9mIHJldmVydFxuICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIC8vIHdlIHB1dCB0aGUgcmVzcG9uc2UgaW4gc3RhdGUgc28gd2UgY2FuIGFjY2Vzc1xuICAgICAgICAgIC8vIGl0IG91dHNpZGUgb2YgdGhpcyBtZXRob2RcbiAgICAgICAgICBzdGF0ZS5yZXNwb25zZSA9IGlzT2JqZWN0KHJlc3BvbnNlKVxuICAgICAgICAgICAgPyByZXNwb25zZVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2xvYWQnLFxuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICBib2R5OiAnJyArIHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyB1cGRhdGUgZHVyYXRpb25cbiAgICAgICAgICBzdGF0ZS5kdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXA7XG5cbiAgICAgICAgICAvLyBmb3JjZSBwcm9ncmVzcyB0byAxIGFzIHdlJ3JlIG5vdyBkb25lXG4gICAgICAgICAgc3RhdGUucHJvZ3Jlc3MgPSAxO1xuXG4gICAgICAgICAgLy8gYWN0dWFsIGxvYWQgaXMgZG9uZSBsZXQncyBzaGFyZSByZXN1bHRzXG4gICAgICAgICAgYXBpLmZpcmUoJ2xvYWQnLCBzdGF0ZS5yZXNwb25zZS5ib2R5KTtcblxuICAgICAgICAgIC8vIHdlIGFyZSByZWFsbHkgZG9uZVxuICAgICAgICAgIC8vIGlmIHBlcmNlaXZlZCBwcm9ncmVzcyBpcyAxICggd2FpdCBmb3IgcGVyY2VpdmVkIHByb2dyZXNzIHRvIGNvbXBsZXRlIClcbiAgICAgICAgICAvLyBvciBpZiBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBwcm9ncmVzcyAoIG51bGwgKVxuICAgICAgICAgIGlmIChzdGF0ZS5wZXJjZWl2ZWRQcm9ncmVzcyA9PT0gMSkge1xuICAgICAgICAgICAgY29tcGxldGVGbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBlcnJvciBpcyBleHBlY3RlZCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0eXBlLCBjb2RlLCBib2R5XG4gICAgICAgIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gY2FuY2VsIHVwZGF0ZXJcbiAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIuY2xlYXIoKTtcblxuICAgICAgICAgIC8vIHVwZGF0ZSBvdGhlcnMgYWJvdXQgdGhpcyBlcnJvclxuICAgICAgICAgIGFwaS5maXJlKFxuICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgIGlzT2JqZWN0KGVycm9yKVxuICAgICAgICAgICAgICA/IGVycm9yXG4gICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgIGNvZGU6IDAsXG4gICAgICAgICAgICAgICAgICBib2R5OiAnJyArIGVycm9yXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gYWN0dWFsIHByb2Nlc3NpbmcgcHJvZ3Jlc3NcbiAgICAgICAgZnVuY3Rpb24oY29tcHV0YWJsZSwgY3VycmVudCwgdG90YWwpIHtcbiAgICAgICAgICAvLyB1cGRhdGUgYWN0dWFsIGR1cmF0aW9uXG4gICAgICAgICAgc3RhdGUuZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhdGUudGltZXN0YW1wO1xuXG4gICAgICAgICAgLy8gdXBkYXRlIGFjdHVhbCBwcm9ncmVzc1xuICAgICAgICAgIHN0YXRlLnByb2dyZXNzID0gY29tcHV0YWJsZSA/IGN1cnJlbnQgLyB0b3RhbCA6IG51bGw7XG5cbiAgICAgICAgICBwcm9ncmVzc0ZuKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gYWJvcnQgZG9lcyBub3QgZXhwZWN0IGEgdmFsdWVcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gc3RvcCB1cGRhdGVyXG4gICAgICAgICAgc3RhdGUucGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyLmNsZWFyKCk7XG5cbiAgICAgICAgICAvLyBmaXJlIHRoZSBhYm9ydCBldmVudCBzbyB3ZSBjYW4gc3dpdGNoIHZpc3VhbHNcbiAgICAgICAgICBhcGkuZmlyZSgnYWJvcnQnLCBzdGF0ZS5yZXNwb25zZSA/IHN0YXRlLnJlc3BvbnNlLmJvZHkgOiBudWxsKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyByZWdpc3RlciB0aGUgaWQgZm9yIHRoaXMgdHJhbnNmZXJcbiAgICAgICAgZnVuY3Rpb24odHJhbnNmZXJJZCkge1xuICAgICAgICAgIGFwaS5maXJlKCd0cmFuc2ZlcicsIHRyYW5zZmVySWQpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG5cbiAgICB2YXIgYWJvcnQgPSBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICAgIC8vIG5vIHJlcXVlc3QgcnVubmluZywgY2FuJ3QgYWJvcnRcbiAgICAgIGlmICghc3RhdGUucmVxdWVzdCkgcmV0dXJuO1xuXG4gICAgICAvLyBzdG9wIHVwZGF0ZXJcbiAgICAgIHN0YXRlLnBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlci5jbGVhcigpO1xuXG4gICAgICAvLyBhYm9ydCBhY3R1YWwgcmVxdWVzdFxuICAgICAgaWYgKHN0YXRlLnJlcXVlc3QuYWJvcnQpIHN0YXRlLnJlcXVlc3QuYWJvcnQoKTtcblxuICAgICAgLy8gaWYgaGFzIHJlc3BvbnNlIG9iamVjdCwgd2UndmUgY29tcGxldGVkIHRoZSByZXF1ZXN0XG4gICAgICBzdGF0ZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgfTtcblxuICAgIHZhciByZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgYWJvcnQoKTtcbiAgICAgIHN0YXRlLmNvbXBsZXRlID0gZmFsc2U7XG4gICAgICBzdGF0ZS5wZXJjZWl2ZWRQcm9ncmVzcyA9IDA7XG4gICAgICBzdGF0ZS5wcm9ncmVzcyA9IDA7XG4gICAgICBzdGF0ZS50aW1lc3RhbXAgPSBudWxsO1xuICAgICAgc3RhdGUucGVyY2VpdmVkRHVyYXRpb24gPSAwO1xuICAgICAgc3RhdGUuZHVyYXRpb24gPSAwO1xuICAgICAgc3RhdGUucmVxdWVzdCA9IG51bGw7XG4gICAgICBzdGF0ZS5yZXNwb25zZSA9IG51bGw7XG4gICAgfTtcblxuICAgIHZhciBnZXRQcm9ncmVzcyA9IGZ1bmN0aW9uIGdldFByb2dyZXNzKCkge1xuICAgICAgcmV0dXJuIHN0YXRlLnByb2dyZXNzXG4gICAgICAgID8gTWF0aC5taW4oc3RhdGUucHJvZ3Jlc3MsIHN0YXRlLnBlcmNlaXZlZFByb2dyZXNzKVxuICAgICAgICA6IG51bGw7XG4gICAgfTtcbiAgICB2YXIgZ2V0RHVyYXRpb24gPSBmdW5jdGlvbiBnZXREdXJhdGlvbigpIHtcbiAgICAgIHJldHVybiBNYXRoLm1pbihzdGF0ZS5kdXJhdGlvbiwgc3RhdGUucGVyY2VpdmVkRHVyYXRpb24pO1xuICAgIH07XG5cbiAgICB2YXIgYXBpID0gT2JqZWN0LmFzc2lnbih7fSwgb24oKSwge1xuICAgICAgcHJvY2VzczogcHJvY2VzcywgLy8gc3RhcnQgcHJvY2Vzc2luZyBmaWxlXG4gICAgICBhYm9ydDogYWJvcnQsIC8vIGFib3J0IGFjdGl2ZSBwcm9jZXNzIHJlcXVlc3RcbiAgICAgIGdldFByb2dyZXNzOiBnZXRQcm9ncmVzcyxcbiAgICAgIGdldER1cmF0aW9uOiBnZXREdXJhdGlvbixcbiAgICAgIHJlc2V0OiByZXNldFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFwaTtcbiAgfTtcblxuICB2YXIgZ2V0RmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uID0gZnVuY3Rpb24gZ2V0RmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uKG5hbWUpIHtcbiAgICByZXR1cm4gbmFtZS5zdWJzdHIoMCwgbmFtZS5sYXN0SW5kZXhPZignLicpKSB8fCBuYW1lO1xuICB9O1xuXG4gIHZhciBjcmVhdGVGaWxlU3R1YiA9IGZ1bmN0aW9uIGNyZWF0ZUZpbGVTdHViKHNvdXJjZSkge1xuICAgIHZhciBkYXRhID0gW3NvdXJjZS5uYW1lLCBzb3VyY2Uuc2l6ZSwgc291cmNlLnR5cGVdO1xuXG4gICAgLy8gaXMgYmxvYiBvciBiYXNlNjQsIHRoZW4gd2UgbmVlZCB0byBzZXQgdGhlIG5hbWVcbiAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQmxvYiB8fCBpc0Jhc2U2NERhdGFVUkkoc291cmNlKSkge1xuICAgICAgZGF0YVswXSA9IHNvdXJjZS5uYW1lIHx8IGdldERhdGVTdHJpbmcoKTtcbiAgICB9IGVsc2UgaWYgKGlzQmFzZTY0RGF0YVVSSShzb3VyY2UpKSB7XG4gICAgICAvLyBpZiBpcyBiYXNlNjQgZGF0YSB1cmkgd2UgbmVlZCB0byBkZXRlcm1pbmUgdGhlIGF2ZXJhZ2Ugc2l6ZSBhbmQgdHlwZVxuICAgICAgZGF0YVsxXSA9IHNvdXJjZS5sZW5ndGg7XG4gICAgICBkYXRhWzJdID0gZ2V0TWltZVR5cGVGcm9tQmFzZTY0RGF0YVVSSShzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoc291cmNlKSkge1xuICAgICAgLy8gdXJsXG4gICAgICBkYXRhWzBdID0gZ2V0RmlsZW5hbWVGcm9tVVJMKHNvdXJjZSk7XG4gICAgICBkYXRhWzFdID0gMDtcbiAgICAgIGRhdGFbMl0gPSAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogZGF0YVswXSxcbiAgICAgIHNpemU6IGRhdGFbMV0sXG4gICAgICB0eXBlOiBkYXRhWzJdXG4gICAgfTtcbiAgfTtcblxuICB2YXIgaXNGaWxlID0gZnVuY3Rpb24gaXNGaWxlKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhKHZhbHVlIGluc3RhbmNlb2YgRmlsZSB8fCAodmFsdWUgaW5zdGFuY2VvZiBCbG9iICYmIHZhbHVlLm5hbWUpKTtcbiAgfTtcblxuICB2YXIgZGVlcENsb25lT2JqZWN0ID0gZnVuY3Rpb24gZGVlcENsb25lT2JqZWN0KHNyYykge1xuICAgIGlmICghaXNPYmplY3Qoc3JjKSkgcmV0dXJuIHNyYztcbiAgICB2YXIgdGFyZ2V0ID0gaXNBcnJheShzcmMpID8gW10gOiB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgICBpZiAoIXNyYy5oYXNPd25Qcm9wZXJ0eShrZXkpKSBjb250aW51ZTtcbiAgICAgIHZhciB2ID0gc3JjW2tleV07XG4gICAgICB0YXJnZXRba2V5XSA9IHYgJiYgaXNPYmplY3QodikgPyBkZWVwQ2xvbmVPYmplY3QodikgOiB2O1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHZhciBjcmVhdGVJdGVtID0gZnVuY3Rpb24gY3JlYXRlSXRlbSgpIHtcbiAgICB2YXIgb3JpZ2luID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgICB2YXIgc2VydmVyRmlsZVJlZmVyZW5jZSA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG51bGw7XG4gICAgdmFyIGZpbGUgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuICAgIC8vIHVuaXF1ZSBpZCBmb3IgdGhpcyBpdGVtLCBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoZSBpdGVtIGFjcm9zcyB2aWV3c1xuICAgIHZhciBpZCA9IGdldFVuaXF1ZUlkKCk7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBpdGVtIHN0YXRlXG4gICAgICovXG4gICAgdmFyIHN0YXRlID0ge1xuICAgICAgLy8gaXMgYXJjaGl2ZWRcbiAgICAgIGFyY2hpdmVkOiBmYWxzZSxcblxuICAgICAgLy8gaWYgaXMgZnJvemVuLCBubyBsb25nZXIgZmlyZXMgZXZlbnRzXG4gICAgICBmcm96ZW46IGZhbHNlLFxuXG4gICAgICAvLyByZW1vdmVkIGZyb20gdmlld1xuICAgICAgcmVsZWFzZWQ6IGZhbHNlLFxuXG4gICAgICAvLyBvcmlnaW5hbCBzb3VyY2VcbiAgICAgIHNvdXJjZTogbnVsbCxcblxuICAgICAgLy8gZmlsZSBtb2RlbCByZWZlcmVuY2VcbiAgICAgIGZpbGU6IGZpbGUsXG5cbiAgICAgIC8vIGlkIG9mIGZpbGUgb24gc2VydmVyXG4gICAgICBzZXJ2ZXJGaWxlUmVmZXJlbmNlOiBzZXJ2ZXJGaWxlUmVmZXJlbmNlLFxuXG4gICAgICAvLyBpZCBvZiBmaWxlIHRyYW5zZmVyIG9uIHNlcnZlclxuICAgICAgdHJhbnNmZXJJZDogbnVsbCxcblxuICAgICAgLy8gaXMgYWJvcnRlZFxuICAgICAgcHJvY2Vzc2luZ0Fib3J0ZWQ6IGZhbHNlLFxuXG4gICAgICAvLyBjdXJyZW50IGl0ZW0gc3RhdHVzXG4gICAgICBzdGF0dXM6IHNlcnZlckZpbGVSZWZlcmVuY2VcbiAgICAgICAgPyBJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEVcbiAgICAgICAgOiBJdGVtU3RhdHVzLklOSVQsXG5cbiAgICAgIC8vIGFjdGl2ZSBwcm9jZXNzZXNcbiAgICAgIGFjdGl2ZUxvYWRlcjogbnVsbCxcbiAgICAgIGFjdGl2ZVByb2Nlc3NvcjogbnVsbFxuICAgIH07XG5cbiAgICAvLyBjYWxsYmFjayB1c2VkIHdoZW4gYWJvcnQgcHJvY2Vzc2luZyBpcyBjYWxsZWQgdG8gbGluayBiYWNrIHRvIHRoZSByZXNvbHZlIG1ldGhvZFxuICAgIHZhciBhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogRXh0ZXJuYWxseSBhZGRlZCBpdGVtIG1ldGFkYXRhXG4gICAgICovXG4gICAgdmFyIG1ldGFkYXRhID0ge307XG5cbiAgICAvLyBpdGVtIGRhdGFcbiAgICB2YXIgc2V0U3RhdHVzID0gZnVuY3Rpb24gc2V0U3RhdHVzKHN0YXR1cykge1xuICAgICAgcmV0dXJuIChzdGF0ZS5zdGF0dXMgPSBzdGF0dXMpO1xuICAgIH07XG5cbiAgICAvLyBmaXJlIGV2ZW50IHVubGVzcyB0aGUgaXRlbSBoYXMgYmVlbiBhcmNoaXZlZFxuICAgIHZhciBmaXJlID0gZnVuY3Rpb24gZmlyZShldmVudCkge1xuICAgICAgaWYgKHN0YXRlLnJlbGVhc2VkIHx8IHN0YXRlLmZyb3plbikgcmV0dXJuO1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgIHBhcmFtcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksXG4gICAgICAgICAgX2tleSA9IDE7XG4gICAgICAgIF9rZXkgPCBfbGVuO1xuICAgICAgICBfa2V5KytcbiAgICAgICkge1xuICAgICAgICBwYXJhbXNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgYXBpLmZpcmUuYXBwbHkoYXBpLCBbZXZlbnRdLmNvbmNhdChwYXJhbXMpKTtcbiAgICB9O1xuXG4gICAgLy8gZmlsZSBkYXRhXG4gICAgdmFyIGdldEZpbGVFeHRlbnNpb24gPSBmdW5jdGlvbiBnZXRGaWxlRXh0ZW5zaW9uKCkge1xuICAgICAgcmV0dXJuIGdldEV4dGVuc2lvbkZyb21GaWxlbmFtZShzdGF0ZS5maWxlLm5hbWUpO1xuICAgIH07XG4gICAgdmFyIGdldEZpbGVUeXBlID0gZnVuY3Rpb24gZ2V0RmlsZVR5cGUoKSB7XG4gICAgICByZXR1cm4gc3RhdGUuZmlsZS50eXBlO1xuICAgIH07XG4gICAgdmFyIGdldEZpbGVTaXplID0gZnVuY3Rpb24gZ2V0RmlsZVNpemUoKSB7XG4gICAgICByZXR1cm4gc3RhdGUuZmlsZS5zaXplO1xuICAgIH07XG4gICAgdmFyIGdldEZpbGUgPSBmdW5jdGlvbiBnZXRGaWxlKCkge1xuICAgICAgcmV0dXJuIHN0YXRlLmZpbGU7XG4gICAgfTtcblxuICAgIC8vXG4gICAgLy8gbG9naWMgdG8gbG9hZCBhIGZpbGVcbiAgICAvL1xuICAgIHZhciBsb2FkID0gZnVuY3Rpb24gbG9hZChzb3VyY2UsIGxvYWRlciwgb25sb2FkKSB7XG4gICAgICAvLyByZW1lbWJlciB0aGUgb3JpZ2luYWwgaXRlbSBzb3VyY2VcbiAgICAgIHN0YXRlLnNvdXJjZSA9IHNvdXJjZTtcblxuICAgICAgLy8gc291cmNlIGlzIGtub3duXG4gICAgICBhcGkuZmlyZVN5bmMoJ2luaXQnKTtcblxuICAgICAgLy8gZmlsZSBzdHViIGlzIGFscmVhZHkgdGhlcmVcbiAgICAgIGlmIChzdGF0ZS5maWxlKSB7XG4gICAgICAgIGFwaS5maXJlU3luYygnbG9hZC1za2lwJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0IGEgc3R1YiBmaWxlIG9iamVjdCB3aGlsZSBsb2FkaW5nIHRoZSBhY3R1YWwgZGF0YVxuICAgICAgc3RhdGUuZmlsZSA9IGNyZWF0ZUZpbGVTdHViKHNvdXJjZSk7XG5cbiAgICAgIC8vIHN0YXJ0cyBsb2FkaW5nXG4gICAgICBsb2FkZXIub24oJ2luaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZmlyZSgnbG9hZC1pbml0Jyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gd2UnZXZlIHJlY2VpdmVkIGEgc2l6ZSBpbmRpY2F0aW9uLCBsZXQncyB1cGRhdGUgdGhlIHN0dWJcbiAgICAgIGxvYWRlci5vbignbWV0YScsIGZ1bmN0aW9uKG1ldGEpIHtcbiAgICAgICAgLy8gc2V0IHNpemUgb2YgZmlsZSBzdHViXG4gICAgICAgIHN0YXRlLmZpbGUuc2l6ZSA9IG1ldGEuc2l6ZTtcblxuICAgICAgICAvLyBzZXQgbmFtZSBvZiBmaWxlIHN0dWJcbiAgICAgICAgc3RhdGUuZmlsZS5maWxlbmFtZSA9IG1ldGEuZmlsZW5hbWU7XG5cbiAgICAgICAgLy8gaWYgaGFzIHJlY2VpdmVkIHNvdXJjZSwgd2UgZG9uZVxuICAgICAgICBpZiAobWV0YS5zb3VyY2UpIHtcbiAgICAgICAgICBvcmlnaW4gPSBGaWxlT3JpZ2luLkxJTUJPO1xuICAgICAgICAgIHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgPSBtZXRhLnNvdXJjZTtcbiAgICAgICAgICBzdGF0ZS5zdGF0dXMgPSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaXplIGhhcyBiZWVuIHVwZGF0ZWRcbiAgICAgICAgZmlyZSgnbG9hZC1tZXRhJyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gdGhlIGZpbGUgaXMgbm93IGxvYWRpbmcgd2UgbmVlZCB0byB1cGRhdGUgdGhlIHByb2dyZXNzIGluZGljYXRvcnNcbiAgICAgIGxvYWRlci5vbigncHJvZ3Jlc3MnLCBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5MT0FESU5HKTtcblxuICAgICAgICBmaXJlKCdsb2FkLXByb2dyZXNzJywgcHJvZ3Jlc3MpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGFuIGVycm9yIHdhcyB0aHJvd24gd2hpbGUgbG9hZGluZyB0aGUgZmlsZSwgd2UgbmVlZCB0byBzd2l0Y2ggdG8gZXJyb3Igc3RhdGVcbiAgICAgIGxvYWRlci5vbignZXJyb3InLCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5MT0FEX0VSUk9SKTtcblxuICAgICAgICBmaXJlKCdsb2FkLXJlcXVlc3QtZXJyb3InLCBlcnJvcik7XG4gICAgICB9KTtcblxuICAgICAgLy8gdXNlciBvciBhbm90aGVyIHByb2Nlc3MgYWJvcnRlZCB0aGUgZmlsZSBsb2FkIChjYW5ub3QgcmV0cnkpXG4gICAgICBsb2FkZXIub24oJ2Fib3J0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklOSVQpO1xuICAgICAgICBmaXJlKCdsb2FkLWFib3J0Jyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gZG9uZSBsb2FkaW5nXG4gICAgICBsb2FkZXIub24oJ2xvYWQnLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIC8vIGFzIHdlJ3ZlIG5vdyBsb2FkZWQgdGhlIGZpbGUgdGhlIGxvYWRlciBpcyBubyBsb25nZXIgcmVxdWlyZWRcbiAgICAgICAgc3RhdGUuYWN0aXZlTG9hZGVyID0gbnVsbDtcblxuICAgICAgICAvLyBjYWxsZWQgd2hlbiBmaWxlIGhhcyBsb2FkZWQgc3VjY2VzZnVsbHlcbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiBzdWNjZXNzKHJlc3VsdCkge1xuICAgICAgICAgIC8vIHNldCAocG9zc2libHkpIHRyYW5zZm9ybWVkIGZpbGVcbiAgICAgICAgICBzdGF0ZS5maWxlID0gaXNGaWxlKHJlc3VsdCkgPyByZXN1bHQgOiBzdGF0ZS5maWxlO1xuXG4gICAgICAgICAgLy8gZmlsZSByZWNlaXZlZFxuICAgICAgICAgIGlmIChvcmlnaW4gPT09IEZpbGVPcmlnaW4uTElNQk8gJiYgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSkge1xuICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklETEUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZpcmUoJ2xvYWQnKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZXJyb3IgPSBmdW5jdGlvbiBlcnJvcihyZXN1bHQpIHtcbiAgICAgICAgICAvLyBzZXQgb3JpZ2luYWwgZmlsZVxuICAgICAgICAgIHN0YXRlLmZpbGUgPSBmaWxlO1xuICAgICAgICAgIGZpcmUoJ2xvYWQtbWV0YScpO1xuXG4gICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuTE9BRF9FUlJPUik7XG4gICAgICAgICAgZmlyZSgnbG9hZC1maWxlLWVycm9yJywgcmVzdWx0KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSBzZXJ2ZXIgZmlsZSByZWZlcmVuY2UsIHdlIGRvbid0IG5lZWQgdG8gY2FsbCB0aGUgb25sb2FkIG1ldGhvZFxuICAgICAgICBpZiAoc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSkge1xuICAgICAgICAgIHN1Y2Nlc3MoZmlsZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gc2VydmVyIGlkLCBsZXQncyBnaXZlIHRoaXMgZmlsZSB0aGUgZnVsbCB0cmVhdG1lbnRcbiAgICAgICAgb25sb2FkKGZpbGUsIHN1Y2Nlc3MsIGVycm9yKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBzZXQgbG9hZGVyIHNvdXJjZSBkYXRhXG4gICAgICBsb2FkZXIuc2V0U291cmNlKHNvdXJjZSk7XG5cbiAgICAgIC8vIHNldCBhcyBhY3RpdmUgbG9hZGVyXG4gICAgICBzdGF0ZS5hY3RpdmVMb2FkZXIgPSBsb2FkZXI7XG5cbiAgICAgIC8vIGxvYWQgdGhlIHNvdXJjZSBkYXRhXG4gICAgICBsb2FkZXIubG9hZCgpO1xuICAgIH07XG5cbiAgICB2YXIgcmV0cnlMb2FkID0gZnVuY3Rpb24gcmV0cnlMb2FkKCkge1xuICAgICAgaWYgKCFzdGF0ZS5hY3RpdmVMb2FkZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc3RhdGUuYWN0aXZlTG9hZGVyLmxvYWQoKTtcbiAgICB9O1xuXG4gICAgdmFyIGFib3J0TG9hZCA9IGZ1bmN0aW9uIGFib3J0TG9hZCgpIHtcbiAgICAgIGlmIChzdGF0ZS5hY3RpdmVMb2FkZXIpIHtcbiAgICAgICAgc3RhdGUuYWN0aXZlTG9hZGVyLmFib3J0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklOSVQpO1xuICAgICAgZmlyZSgnbG9hZC1hYm9ydCcpO1xuICAgIH07XG5cbiAgICAvL1xuICAgIC8vIGxvZ2ljIHRvIHByb2Nlc3MgYSBmaWxlXG4gICAgLy9cbiAgICB2YXIgcHJvY2VzcyA9IGZ1bmN0aW9uIHByb2Nlc3MocHJvY2Vzc29yLCBvbnByb2Nlc3MpIHtcbiAgICAgIC8vIHByb2Nlc3Npbmcgd2FzIGFib3J0ZWRcbiAgICAgIGlmIChzdGF0ZS5wcm9jZXNzaW5nQWJvcnRlZCkge1xuICAgICAgICBzdGF0ZS5wcm9jZXNzaW5nQWJvcnRlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIG5vdyBwcm9jZXNzaW5nXG4gICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HKTtcblxuICAgICAgLy8gcmVzZXQgYWJvcnQgY2FsbGJhY2tcbiAgICAgIGFib3J0UHJvY2Vzc2luZ1JlcXVlc3RDb21wbGV0ZSA9IG51bGw7XG5cbiAgICAgIC8vIGlmIG5vIGZpbGUgbG9hZGVkIHdlJ2xsIHdhaXQgZm9yIHRoZSBsb2FkIGV2ZW50XG4gICAgICBpZiAoIShzdGF0ZS5maWxlIGluc3RhbmNlb2YgQmxvYikpIHtcbiAgICAgICAgYXBpLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcHJvY2Vzcyhwcm9jZXNzb3IsIG9ucHJvY2Vzcyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHNldHVwIHByb2Nlc3NvclxuICAgICAgcHJvY2Vzc29yLm9uKCdsb2FkJywgZnVuY3Rpb24oc2VydmVyRmlsZVJlZmVyZW5jZSkge1xuICAgICAgICAvLyBuZWVkIHRoaXMgaWQgdG8gYmUgYWJsZSB0byByZXZlcnQgdGhlIHVwbG9hZFxuICAgICAgICBzdGF0ZS50cmFuc2ZlcklkID0gbnVsbDtcbiAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSA9IHNlcnZlckZpbGVSZWZlcmVuY2U7XG4gICAgICB9KTtcblxuICAgICAgLy8gcmVnaXN0ZXIgdHJhbnNmZXIgaWRcbiAgICAgIHByb2Nlc3Nvci5vbigndHJhbnNmZXInLCBmdW5jdGlvbih0cmFuc2ZlcklkKSB7XG4gICAgICAgIC8vIG5lZWQgdGhpcyBpZCB0byBiZSBhYmxlIHRvIHJldmVydCB0aGUgdXBsb2FkXG4gICAgICAgIHN0YXRlLnRyYW5zZmVySWQgPSB0cmFuc2ZlcklkO1xuICAgICAgfSk7XG5cbiAgICAgIHByb2Nlc3Nvci5vbignbG9hZC1wZXJjZWl2ZWQnLCBmdW5jdGlvbihzZXJ2ZXJGaWxlUmVmZXJlbmNlKSB7XG4gICAgICAgIC8vIG5vIGxvbmdlciByZXF1aXJlZFxuICAgICAgICBzdGF0ZS5hY3RpdmVQcm9jZXNzb3IgPSBudWxsO1xuXG4gICAgICAgIC8vIG5lZWQgdGhpcyBpZCB0byBiZSBhYmxlIHRvIHJldmVyIHRoZSB1cGxvYWRcbiAgICAgICAgc3RhdGUudHJhbnNmZXJJZCA9IG51bGw7XG4gICAgICAgIHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgPSBzZXJ2ZXJGaWxlUmVmZXJlbmNlO1xuXG4gICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEUpO1xuICAgICAgICBmaXJlKCdwcm9jZXNzLWNvbXBsZXRlJywgc2VydmVyRmlsZVJlZmVyZW5jZSk7XG4gICAgICB9KTtcblxuICAgICAgcHJvY2Vzc29yLm9uKCdzdGFydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBmaXJlKCdwcm9jZXNzLXN0YXJ0Jyk7XG4gICAgICB9KTtcblxuICAgICAgcHJvY2Vzc29yLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIHN0YXRlLmFjdGl2ZVByb2Nlc3NvciA9IG51bGw7XG4gICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLlBST0NFU1NJTkdfRVJST1IpO1xuICAgICAgICBmaXJlKCdwcm9jZXNzLWVycm9yJywgZXJyb3IpO1xuICAgICAgfSk7XG5cbiAgICAgIHByb2Nlc3Nvci5vbignYWJvcnQnLCBmdW5jdGlvbihzZXJ2ZXJGaWxlUmVmZXJlbmNlKSB7XG4gICAgICAgIHN0YXRlLmFjdGl2ZVByb2Nlc3NvciA9IG51bGw7XG5cbiAgICAgICAgLy8gaWYgZmlsZSB3YXMgdXBsb2FkZWQgYnV0IHByb2Nlc3Npbmcgd2FzIGNhbmNlbGxlZCBkdXJpbmcgcGVyY2VpdmVkIHByb2Nlc3NvciB0aW1lIHN0b3JlIGZpbGUgcmVmZXJlbmNlXG4gICAgICAgIHN0YXRlLnRyYW5zZmVySWQgPSBudWxsO1xuICAgICAgICBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlID0gc2VydmVyRmlsZVJlZmVyZW5jZTtcblxuICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5JRExFKTtcbiAgICAgICAgZmlyZSgncHJvY2Vzcy1hYm9ydCcpO1xuXG4gICAgICAgIC8vIGhhcyB0aW1lb3V0IHNvIGRvZXNuJ3QgaW50ZXJmZXJlIHdpdGggcmVtb3ZlIGFjdGlvblxuICAgICAgICBpZiAoYWJvcnRQcm9jZXNzaW5nUmVxdWVzdENvbXBsZXRlKSB7XG4gICAgICAgICAgYWJvcnRQcm9jZXNzaW5nUmVxdWVzdENvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBwcm9jZXNzb3Iub24oJ3Byb2dyZXNzJywgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgZmlyZSgncHJvY2Vzcy1wcm9ncmVzcycsIHByb2dyZXNzKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyB3aGVuIHN1Y2Nlc3NmdWxseSB0cmFuc2Zvcm1lZFxuICAgICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiBzdWNjZXNzKGZpbGUpIHtcbiAgICAgICAgLy8gaWYgd2FzIGFyY2hpdmVkIGluIHRoZSBtZWFuIHRpbWUsIGRvbid0IHByb2Nlc3NcbiAgICAgICAgaWYgKHN0YXRlLmFyY2hpdmVkKSByZXR1cm47XG5cbiAgICAgICAgLy8gcHJvY2VzcyBmaWxlIVxuICAgICAgICBwcm9jZXNzb3IucHJvY2VzcyhmaWxlLCBPYmplY3QuYXNzaWduKHt9LCBtZXRhZGF0YSkpO1xuICAgICAgfTtcblxuICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIHRyYW5zZm9ybSBwaGFzZVxuICAgICAgdmFyIGVycm9yID0gY29uc29sZS5lcnJvcjtcblxuICAgICAgLy8gc3RhcnQgcHJvY2Vzc2luZyB0aGUgZmlsZVxuICAgICAgb25wcm9jZXNzKHN0YXRlLmZpbGUsIHN1Y2Nlc3MsIGVycm9yKTtcblxuICAgICAgLy8gc2V0IGFzIGFjdGl2ZSBwcm9jZXNzb3JcbiAgICAgIHN0YXRlLmFjdGl2ZVByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICB9O1xuXG4gICAgdmFyIHJlcXVlc3RQcm9jZXNzaW5nID0gZnVuY3Rpb24gcmVxdWVzdFByb2Nlc3NpbmcoKSB7XG4gICAgICBzdGF0ZS5wcm9jZXNzaW5nQWJvcnRlZCA9IGZhbHNlO1xuICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19RVUVVRUQpO1xuICAgIH07XG5cbiAgICB2YXIgYWJvcnRQcm9jZXNzaW5nID0gZnVuY3Rpb24gYWJvcnRQcm9jZXNzaW5nKCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgaWYgKCFzdGF0ZS5hY3RpdmVQcm9jZXNzb3IpIHtcbiAgICAgICAgICBzdGF0ZS5wcm9jZXNzaW5nQWJvcnRlZCA9IHRydWU7XG5cbiAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5JRExFKTtcbiAgICAgICAgICBmaXJlKCdwcm9jZXNzLWFib3J0Jyk7XG5cbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYWJvcnRQcm9jZXNzaW5nUmVxdWVzdENvbXBsZXRlID0gZnVuY3Rpb24gYWJvcnRQcm9jZXNzaW5nUmVxdWVzdENvbXBsZXRlKCkge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzdGF0ZS5hY3RpdmVQcm9jZXNzb3IuYWJvcnQoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvL1xuICAgIC8vIGxvZ2ljIHRvIHJldmVydCBhIHByb2Nlc3NlZCBmaWxlXG4gICAgLy9cbiAgICB2YXIgcmV2ZXJ0ID0gZnVuY3Rpb24gcmV2ZXJ0KHJldmVydEZpbGVVcGxvYWQsIGZvcmNlUmV2ZXJ0KSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vIGNhbm5vdCByZXZlcnQgd2l0aG91dCBhIHNlcnZlciBpZCBmb3IgdGhpcyBwcm9jZXNzXG4gICAgICAgIGlmIChzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJldmVydCB0aGUgdXBsb2FkIChmaXJlIGFuZCBmb3JnZXQpXG4gICAgICAgIHJldmVydEZpbGVVcGxvYWQoXG4gICAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIHJlc2V0IGZpbGUgc2VydmVyIGlkIGFzIG5vdyBpdCdzIG5vIGF2YWlsYWJsZSBvbiB0aGUgc2VydmVyXG4gICAgICAgICAgICBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlID0gbnVsbDtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBzZXQgZXJyb3Igc3RhdGUgd2hlbiByZXZlcnRpbmcgaXMgb3B0aW9uYWwsIGl0IHdpbGwgYWx3YXlzIHJlc29sdmVcbiAgICAgICAgICAgIGlmICghZm9yY2VSZXZlcnQpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9oIG5vIGVycm9yc1xuICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19SRVZFUlRfRVJST1IpO1xuICAgICAgICAgICAgZmlyZSgncHJvY2Vzcy1yZXZlcnQtZXJyb3InKTtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIGZpcmUgZXZlbnRcbiAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuSURMRSk7XG4gICAgICAgIGZpcmUoJ3Byb2Nlc3MtcmV2ZXJ0Jyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gZXhwb3NlZCBtZXRob2RzXG4gICAgdmFyIF9zZXRNZXRhZGF0YSA9IGZ1bmN0aW9uIHNldE1ldGFkYXRhKGtleSwgdmFsdWUsIHNpbGVudCkge1xuICAgICAgdmFyIGtleXMgPSBrZXkuc3BsaXQoJy4nKTtcbiAgICAgIHZhciByb290ID0ga2V5c1swXTtcbiAgICAgIHZhciBsYXN0ID0ga2V5cy5wb3AoKTtcbiAgICAgIHZhciBkYXRhID0gbWV0YWRhdGE7XG4gICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiAoZGF0YSA9IGRhdGFba2V5XSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gY29tcGFyZSBvbGQgdmFsdWUgYWdhaW5zdCBuZXcgdmFsdWUsIGlmIHRoZXkncmUgdGhlIHNhbWUsIHdlJ3JlIG5vdCB1cGRhdGluZ1xuICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGRhdGFbbGFzdF0pID09PSBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpIHJldHVybjtcblxuICAgICAgLy8gdXBkYXRlIHZhbHVlXG4gICAgICBkYXRhW2xhc3RdID0gdmFsdWU7XG5cbiAgICAgIC8vIGRvbid0IGZpcmUgdXBkYXRlXG4gICAgICBpZiAoc2lsZW50KSByZXR1cm47XG5cbiAgICAgIC8vIGZpcmUgdXBkYXRlXG4gICAgICBmaXJlKCdtZXRhZGF0YS11cGRhdGUnLCB7XG4gICAgICAgIGtleTogcm9vdCxcbiAgICAgICAgdmFsdWU6IG1ldGFkYXRhW3Jvb3RdXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGdldE1ldGFkYXRhID0gZnVuY3Rpb24gZ2V0TWV0YWRhdGEoa2V5KSB7XG4gICAgICByZXR1cm4gZGVlcENsb25lT2JqZWN0KGtleSA/IG1ldGFkYXRhW2tleV0gOiBtZXRhZGF0YSk7XG4gICAgfTtcblxuICAgIHZhciBhcGkgPSBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICBpZDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3JpZ2luOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2VydmVySWQ6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdHJhbnNmZXJJZDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnRyYW5zZmVySWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5zdGF0dXM7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmaWxlbmFtZToge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmZpbGUubmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbjoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbihzdGF0ZS5maWxlLm5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZmlsZUV4dGVuc2lvbjogeyBnZXQ6IGdldEZpbGVFeHRlbnNpb24gfSxcbiAgICAgICAgZmlsZVR5cGU6IHsgZ2V0OiBnZXRGaWxlVHlwZSB9LFxuICAgICAgICBmaWxlU2l6ZTogeyBnZXQ6IGdldEZpbGVTaXplIH0sXG4gICAgICAgIGZpbGU6IHsgZ2V0OiBnZXRGaWxlIH0sXG4gICAgICAgIHJlbGF0aXZlUGF0aDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmZpbGUuX3JlbGF0aXZlUGF0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc291cmNlOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuc291cmNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBnZXRNZXRhZGF0YTogZ2V0TWV0YWRhdGEsXG4gICAgICAgIHNldE1ldGFkYXRhOiBmdW5jdGlvbiBzZXRNZXRhZGF0YShrZXksIHZhbHVlLCBzaWxlbnQpIHtcbiAgICAgICAgICBpZiAoaXNPYmplY3Qoa2V5KSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBrZXk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICBfc2V0TWV0YWRhdGEoa2V5LCBkYXRhW2tleV0sIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3NldE1ldGFkYXRhKGtleSwgdmFsdWUsIHNpbGVudCk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGV4dGVuZDogZnVuY3Rpb24gZXh0ZW5kKG5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgICByZXR1cm4gKGl0ZW1BUElbbmFtZV0gPSBoYW5kbGVyKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhYm9ydExvYWQ6IGFib3J0TG9hZCxcbiAgICAgICAgcmV0cnlMb2FkOiByZXRyeUxvYWQsXG4gICAgICAgIHJlcXVlc3RQcm9jZXNzaW5nOiByZXF1ZXN0UHJvY2Vzc2luZyxcbiAgICAgICAgYWJvcnRQcm9jZXNzaW5nOiBhYm9ydFByb2Nlc3NpbmcsXG5cbiAgICAgICAgbG9hZDogbG9hZCxcbiAgICAgICAgcHJvY2VzczogcHJvY2VzcyxcbiAgICAgICAgcmV2ZXJ0OiByZXZlcnRcbiAgICAgIH0sXG5cbiAgICAgIG9uKCksXG4gICAgICB7XG4gICAgICAgIGZyZWV6ZTogZnVuY3Rpb24gZnJlZXplKCkge1xuICAgICAgICAgIHJldHVybiAoc3RhdGUuZnJvemVuID0gdHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVsZWFzZTogZnVuY3Rpb24gcmVsZWFzZSgpIHtcbiAgICAgICAgICByZXR1cm4gKHN0YXRlLnJlbGVhc2VkID0gdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbGVhc2VkOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUucmVsZWFzZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFyY2hpdmU6IGZ1bmN0aW9uIGFyY2hpdmUoKSB7XG4gICAgICAgICAgcmV0dXJuIChzdGF0ZS5hcmNoaXZlZCA9IHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBhcmNoaXZlZDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmFyY2hpdmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBjcmVhdGUgaXQgaGVyZSBpbnN0ZWFkIG9mIHJldHVybmluZyBpdCBpbnN0YW50bHkgc28gd2UgY2FuIGV4dGVuZCBpdCBsYXRlclxuICAgIHZhciBpdGVtQVBJID0gY3JlYXRlT2JqZWN0KGFwaSk7XG5cbiAgICByZXR1cm4gaXRlbUFQSTtcbiAgfTtcblxuICB2YXIgZ2V0SXRlbUluZGV4QnlRdWVyeSA9IGZ1bmN0aW9uIGdldEl0ZW1JbmRleEJ5UXVlcnkoaXRlbXMsIHF1ZXJ5KSB7XG4gICAgLy8ganVzdCByZXR1cm4gZmlyc3QgaW5kZXhcbiAgICBpZiAoaXNFbXB0eShxdWVyeSkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8vIGludmFsaWQgcXVlcmllc1xuICAgIGlmICghaXNTdHJpbmcocXVlcnkpKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLy8gcmV0dXJuIGl0ZW0gYnkgaWQgKG9yIC0xIGlmIG5vdCBmb3VuZClcbiAgICByZXR1cm4gaXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLmlkID09PSBxdWVyeTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZ2V0SXRlbUJ5SWQgPSBmdW5jdGlvbiBnZXRJdGVtQnlJZChpdGVtcywgaXRlbUlkKSB7XG4gICAgdmFyIGluZGV4ID0gZ2V0SXRlbUluZGV4QnlRdWVyeShpdGVtcywgaXRlbUlkKTtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBpdGVtc1tpbmRleF0gfHwgbnVsbDtcbiAgfTtcblxuICB2YXIgZmV0Y2hCbG9iID0gZnVuY3Rpb24gZmV0Y2hCbG9iKFxuICAgIHVybCxcbiAgICBsb2FkLFxuICAgIGVycm9yLFxuICAgIHByb2dyZXNzLFxuICAgIGFib3J0LFxuICAgIGhlYWRlcnNcbiAgKSB7XG4gICAgdmFyIHJlcXVlc3QgPSBzZW5kUmVxdWVzdChudWxsLCB1cmwsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICByZXNwb25zZVR5cGU6ICdibG9iJ1xuICAgIH0pO1xuXG4gICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgIC8vIGdldCBoZWFkZXJzXG4gICAgICB2YXIgaGVhZGVycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTtcblxuICAgICAgLy8gZ2V0IGZpbGVuYW1lXG4gICAgICB2YXIgZmlsZW5hbWUgPVxuICAgICAgICBnZXRGaWxlSW5mb0Zyb21IZWFkZXJzKGhlYWRlcnMpLm5hbWUgfHwgZ2V0RmlsZW5hbWVGcm9tVVJMKHVybCk7XG5cbiAgICAgIC8vIGNyZWF0ZSByZXNwb25zZVxuICAgICAgbG9hZChcbiAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgJ2xvYWQnLFxuICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgZ2V0RmlsZUZyb21CbG9iKHhoci5yZXNwb25zZSwgZmlsZW5hbWUpLFxuICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICBlcnJvcihcbiAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgIHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH07XG5cbiAgICByZXF1ZXN0Lm9uaGVhZGVycyA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgaGVhZGVycyhcbiAgICAgICAgY3JlYXRlUmVzcG9uc2UoJ2hlYWRlcnMnLCB4aHIuc3RhdHVzLCBudWxsLCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpXG4gICAgICApO1xuICAgIH07XG5cbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcik7XG4gICAgcmVxdWVzdC5vbnByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgcmVxdWVzdC5vbmFib3J0ID0gYWJvcnQ7XG5cbiAgICAvLyBzaG91bGQgcmV0dXJuIHJlcXVlc3RcbiAgICByZXR1cm4gcmVxdWVzdDtcbiAgfTtcblxuICB2YXIgZ2V0RG9tYWluRnJvbVVSTCA9IGZ1bmN0aW9uIGdldERvbWFpbkZyb21VUkwodXJsKSB7XG4gICAgaWYgKHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICB1cmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIHVybDtcbiAgICB9XG4gICAgcmV0dXJuIHVybFxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKCdibG9iOicsICcnKVxuICAgICAgLnJlcGxhY2UoLyhbYS16XSk/OlxcL1xcLy8sICckMScpXG4gICAgICAuc3BsaXQoJy8nKVswXTtcbiAgfTtcblxuICB2YXIgaXNFeHRlcm5hbFVSTCA9IGZ1bmN0aW9uIGlzRXh0ZXJuYWxVUkwodXJsKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICh1cmwuaW5kZXhPZignOicpID4gLTEgfHwgdXJsLmluZGV4T2YoJy8vJykgPiAtMSkgJiZcbiAgICAgIGdldERvbWFpbkZyb21VUkwobG9jYXRpb24uaHJlZikgIT09IGdldERvbWFpbkZyb21VUkwodXJsKVxuICAgICk7XG4gIH07XG5cbiAgdmFyIGR5bmFtaWNMYWJlbCA9IGZ1bmN0aW9uIGR5bmFtaWNMYWJlbChsYWJlbCkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpc0Z1bmN0aW9uKGxhYmVsKSA/IGxhYmVsLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKSA6IGxhYmVsO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGlzTW9ja0l0ZW0gPSBmdW5jdGlvbiBpc01vY2tJdGVtKGl0ZW0pIHtcbiAgICByZXR1cm4gIWlzRmlsZShpdGVtLmZpbGUpO1xuICB9O1xuXG4gIHZhciBsaXN0VXBkYXRlZCA9IGZ1bmN0aW9uIGxpc3RVcGRhdGVkKGRpc3BhdGNoLCBzdGF0ZSkge1xuICAgIGNsZWFyVGltZW91dChzdGF0ZS5saXN0VXBkYXRlVGltZW91dCk7XG4gICAgc3RhdGUubGlzdFVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgZGlzcGF0Y2goJ0RJRF9VUERBVEVfSVRFTVMnLCB7IGl0ZW1zOiBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcykgfSk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgdmFyIG9wdGlvbmFsUHJvbWlzZSA9IGZ1bmN0aW9uIG9wdGlvbmFsUHJvbWlzZShmbikge1xuICAgIGZvciAoXG4gICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgIHBhcmFtcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksXG4gICAgICAgIF9rZXkgPSAxO1xuICAgICAgX2tleSA8IF9sZW47XG4gICAgICBfa2V5KytcbiAgICApIHtcbiAgICAgIHBhcmFtc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICBpZiAoIWZuKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKHRydWUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzdWx0ID0gZm4uYXBwbHkodm9pZCAwLCBwYXJhbXMpO1xuXG4gICAgICBpZiAocmVzdWx0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXN1bHQudGhlbihyZXNvbHZlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgc29ydEl0ZW1zID0gZnVuY3Rpb24gc29ydEl0ZW1zKHN0YXRlLCBjb21wYXJlKSB7XG4gICAgc3RhdGUuaXRlbXMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICByZXR1cm4gY29tcGFyZShjcmVhdGVJdGVtQVBJKGEpLCBjcmVhdGVJdGVtQVBJKGIpKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyByZXR1cm5zIGl0ZW0gYmFzZWQgb24gc3RhdGVcbiAgdmFyIGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlID0gZnVuY3Rpb24gZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoXG4gICAgc3RhdGUsXG4gICAgaXRlbUhhbmRsZXJcbiAgKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF9yZWYgPVxuICAgICAgICBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgdmFyIHF1ZXJ5ID0gX3JlZi5xdWVyeSxcbiAgICAgICAgX3JlZiRzdWNjZXNzID0gX3JlZi5zdWNjZXNzLFxuICAgICAgICBzdWNjZXNzID0gX3JlZiRzdWNjZXNzID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZiRzdWNjZXNzLFxuICAgICAgICBfcmVmJGZhaWx1cmUgPSBfcmVmLmZhaWx1cmUsXG4gICAgICAgIGZhaWx1cmUgPSBfcmVmJGZhaWx1cmUgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmJGZhaWx1cmUsXG4gICAgICAgIG9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgW1xuICAgICAgICAgICdxdWVyeScsXG4gICAgICAgICAgJ3N1Y2Nlc3MnLFxuICAgICAgICAgICdmYWlsdXJlJ1xuICAgICAgICBdKTtcbiAgICAgIHZhciBpdGVtID0gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KTtcbiAgICAgIGlmICghaXRlbSkge1xuICAgICAgICBmYWlsdXJlKHtcbiAgICAgICAgICBlcnJvcjogY3JlYXRlUmVzcG9uc2UoJ2Vycm9yJywgMCwgJ0l0ZW0gbm90IGZvdW5kJyksXG5cbiAgICAgICAgICBmaWxlOiBudWxsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGl0ZW1IYW5kbGVyKGl0ZW0sIHN1Y2Nlc3MsIGZhaWx1cmUsIG9wdGlvbnMgfHwge30pO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGFjdGlvbnMgPSBmdW5jdGlvbiBhY3Rpb25zKGRpc3BhdGNoLCBxdWVyeSwgc3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBBYm9ydHMgYWxsIG9uZ29pbmcgcHJvY2Vzc2VzXG4gICAgICAgKi9cbiAgICAgIEFCT1JUX0FMTDogZnVuY3Rpb24gQUJPUlRfQUxMKCkge1xuICAgICAgICBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcykuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgaXRlbS5mcmVlemUoKTtcbiAgICAgICAgICBpdGVtLmFib3J0TG9hZCgpO1xuICAgICAgICAgIGl0ZW0uYWJvcnRQcm9jZXNzaW5nKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTZXRzIGluaXRpYWwgZmlsZXNcbiAgICAgICAqL1xuICAgICAgRElEX1NFVF9GSUxFUzogZnVuY3Rpb24gRElEX1NFVF9GSUxFUyhfcmVmMikge1xuICAgICAgICB2YXIgX3JlZjIkdmFsdWUgPSBfcmVmMi52YWx1ZSxcbiAgICAgICAgICB2YWx1ZSA9IF9yZWYyJHZhbHVlID09PSB2b2lkIDAgPyBbXSA6IF9yZWYyJHZhbHVlO1xuXG4gICAgICAgIC8vIG1hcCB2YWx1ZXMgdG8gZmlsZSBvYmplY3RzXG4gICAgICAgIHZhciBmaWxlcyA9IHZhbHVlLm1hcChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNvdXJjZTogZmlsZS5zb3VyY2UgPyBmaWxlLnNvdXJjZSA6IGZpbGUsXG4gICAgICAgICAgICBvcHRpb25zOiBmaWxlLm9wdGlvbnNcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBsb29wIG92ZXIgZmlsZXMsIGlmIGZpbGUgaXMgaW4gbGlzdCwgbGVhdmUgaXQgYmUsIGlmIG5vdCwgcmVtb3ZlXG4gICAgICAgIC8vIHRlc3QgaWYgaXRlbXMgc2hvdWxkIGJlIG1vdmVkXG4gICAgICAgIHZhciBhY3RpdmVJdGVtcyA9IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKTtcblxuICAgICAgICBhY3RpdmVJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAvLyBpZiBpdGVtIG5vdCBpcyBpbiBuZXcgdmFsdWUsIHJlbW92ZVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFmaWxlcy5maW5kKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZpbGUuc291cmNlID09PSBpdGVtLnNvdXJjZSB8fCBmaWxlLnNvdXJjZSA9PT0gaXRlbS5maWxlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHsgcXVlcnk6IGl0ZW0sIHJlbW92ZTogZmFsc2UgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhZGQgbmV3IGZpbGVzXG4gICAgICAgIGFjdGl2ZUl0ZW1zID0gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpO1xuICAgICAgICBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uKGZpbGUsIGluZGV4KSB7XG4gICAgICAgICAgLy8gaWYgZmlsZSBpcyBhbHJlYWR5IGluIGxpc3RcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBhY3RpdmVJdGVtcy5maW5kKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uc291cmNlID09PSBmaWxlLnNvdXJjZSB8fCBpdGVtLmZpbGUgPT09IGZpbGUuc291cmNlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAvLyBub3QgaW4gbGlzdCwgYWRkXG4gICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAnQUREX0lURU0nLFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgZmlsZSwge1xuICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogSW50ZXJhY3Rpb25NZXRob2QuTk9ORSxcbiAgICAgICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgRElEX1VQREFURV9JVEVNX01FVEFEQVRBOiBmdW5jdGlvbiBESURfVVBEQVRFX0lURU1fTUVUQURBVEEoX3JlZjMpIHtcbiAgICAgICAgdmFyIGlkID0gX3JlZjMuaWQ7XG5cbiAgICAgICAgLy8gaWYgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGluIGNsb3NlIHN1Y2Nlc3Npb24gd2UgY29tYmluZWQgYWxsIGNhbGxzIHRvZ2V0aGVyIHRvIHNhdmUgcmVzb3VyY2VzXG4gICAgICAgIGNsZWFyVGltZW91dChzdGF0ZS5pdGVtVXBkYXRlVGltZW91dCk7XG4gICAgICAgIHN0YXRlLml0ZW1VcGRhdGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IGdldEl0ZW1CeUlkKHN0YXRlLml0ZW1zLCBpZCk7XG5cbiAgICAgICAgICAvLyBvbmx5IHJldmVydCBhbmQgYXR0ZW1wdCB0byB1cGxvYWQgd2hlbiB3ZSdyZSB1cGxvYWRpbmcgdG8gYSBzZXJ2ZXJcbiAgICAgICAgICBpZiAoIXF1ZXJ5KCdJU19BU1lOQycpKSB7XG4gICAgICAgICAgICAvLyBzaG91bGQgd2UgdXBkYXRlIHRoZSBvdXRwdXQgZGF0YVxuICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignU0hPVUxEX1BSRVBBUkVfT1VUUFVUJywgZmFsc2UsIHtcbiAgICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHNob3VsZFByZXBhcmVPdXRwdXQpIHtcbiAgICAgICAgICAgICAgaWYgKCFzaG91bGRQcmVwYXJlT3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgICdSRVFVRVNUX1BSRVBBUkVfT1VUUFVUJyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBxdWVyeTogaWQsXG4gICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfUFJFUEFSRV9PVVRQVVQnLCB7IGlkOiBpZCwgZmlsZTogZmlsZSB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZm9yIGFzeW5jIHNjZW5hcmlvc1xuICAgICAgICAgIHZhciB1cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQoKSB7XG4gICAgICAgICAgICAvLyB3ZSBwdXNoIHRoaXMgZm9yd2FyZCBhIGJpdCBzbyB0aGUgaW50ZXJmYWNlIGlzIHVwZGF0ZWQgY29ycmVjdGx5XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLCB7IHF1ZXJ5OiBpZCB9KTtcbiAgICAgICAgICAgIH0sIDMyKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHJldmVydCA9IGZ1bmN0aW9uIHJldmVydChkb1VwbG9hZCkge1xuICAgICAgICAgICAgaXRlbVxuICAgICAgICAgICAgICAucmV2ZXJ0KFxuICAgICAgICAgICAgICAgIGNyZWF0ZVJldmVydEZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIudXJsLFxuICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIucmV2ZXJ0XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZPUkNFX1JFVkVSVCcpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnRoZW4oZG9VcGxvYWQgPyB1cGxvYWQgOiBmdW5jdGlvbigpIHt9KVxuICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7fSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBhYm9ydCA9IGZ1bmN0aW9uIGFib3J0KGRvVXBsb2FkKSB7XG4gICAgICAgICAgICBpdGVtLmFib3J0UHJvY2Vzc2luZygpLnRoZW4oZG9VcGxvYWQgPyB1cGxvYWQgOiBmdW5jdGlvbigpIHt9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gaWYgd2Ugc2hvdWxkIHJlLXVwbG9hZCB0aGUgZmlsZSBpbW1pZGlhdGVseVxuICAgICAgICAgIGlmIChpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFKSB7XG4gICAgICAgICAgICByZXR1cm4gcmV2ZXJ0KHN0YXRlLm9wdGlvbnMuaW5zdGFudFVwbG9hZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gaWYgY3VycmVudGx5IHVwbG9hZGluZywgY2FuY2VsIHVwbG9hZFxuICAgICAgICAgIGlmIChpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HKSB7XG4gICAgICAgICAgICByZXR1cm4gYWJvcnQoc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkKSB7XG4gICAgICAgICAgICB1cGxvYWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgICAgfSxcblxuICAgICAgTU9WRV9JVEVNOiBmdW5jdGlvbiBNT1ZFX0lURU0oX3JlZjQpIHtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gX3JlZjQucXVlcnksXG4gICAgICAgICAgaW5kZXggPSBfcmVmNC5pbmRleDtcbiAgICAgICAgdmFyIGl0ZW0gPSBnZXRJdGVtQnlRdWVyeShzdGF0ZS5pdGVtcywgcXVlcnkpO1xuICAgICAgICBpZiAoIWl0ZW0pIHJldHVybjtcbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHN0YXRlLml0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIGluZGV4ID0gbGltaXQoaW5kZXgsIDAsIHN0YXRlLml0ZW1zLmxlbmd0aCAtIDEpO1xuICAgICAgICBpZiAoY3VycmVudEluZGV4ID09PSBpbmRleCkgcmV0dXJuO1xuICAgICAgICBzdGF0ZS5pdGVtcy5zcGxpY2UoaW5kZXgsIDAsIHN0YXRlLml0ZW1zLnNwbGljZShjdXJyZW50SW5kZXgsIDEpWzBdKTtcbiAgICAgIH0sXG5cbiAgICAgIFNPUlQ6IGZ1bmN0aW9uIFNPUlQoX3JlZjUpIHtcbiAgICAgICAgdmFyIGNvbXBhcmUgPSBfcmVmNS5jb21wYXJlO1xuICAgICAgICBzb3J0SXRlbXMoc3RhdGUsIGNvbXBhcmUpO1xuICAgICAgICBkaXNwYXRjaCgnRElEX1NPUlRfSVRFTVMnLCB7XG4gICAgICAgICAgaXRlbXM6IHF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJylcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBBRERfSVRFTVM6IGZ1bmN0aW9uIEFERF9JVEVNUyhfcmVmNikge1xuICAgICAgICB2YXIgaXRlbXMgPSBfcmVmNi5pdGVtcyxcbiAgICAgICAgICBpbmRleCA9IF9yZWY2LmluZGV4LFxuICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kID0gX3JlZjYuaW50ZXJhY3Rpb25NZXRob2QsXG4gICAgICAgICAgX3JlZjYkc3VjY2VzcyA9IF9yZWY2LnN1Y2Nlc3MsXG4gICAgICAgICAgc3VjY2VzcyA9IF9yZWY2JHN1Y2Nlc3MgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmNiRzdWNjZXNzLFxuICAgICAgICAgIF9yZWY2JGZhaWx1cmUgPSBfcmVmNi5mYWlsdXJlLFxuICAgICAgICAgIGZhaWx1cmUgPSBfcmVmNiRmYWlsdXJlID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZjYkZmFpbHVyZTtcblxuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSB8fCB0eXBlb2YgaW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFyIGluc2VydExvY2F0aW9uID0gcXVlcnkoJ0dFVF9JVEVNX0lOU0VSVF9MT0NBVElPTicpO1xuICAgICAgICAgIHZhciB0b3RhbEl0ZW1zID0gcXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpO1xuICAgICAgICAgIGN1cnJlbnRJbmRleCA9IGluc2VydExvY2F0aW9uID09PSAnYmVmb3JlJyA/IDAgOiB0b3RhbEl0ZW1zO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlnbm9yZWRGaWxlcyA9IHF1ZXJ5KCdHRVRfSUdOT1JFRF9GSUxFUycpO1xuICAgICAgICB2YXIgaXNWYWxpZEZpbGUgPSBmdW5jdGlvbiBpc1ZhbGlkRmlsZShzb3VyY2UpIHtcbiAgICAgICAgICByZXR1cm4gaXNGaWxlKHNvdXJjZSlcbiAgICAgICAgICAgID8gIWlnbm9yZWRGaWxlcy5pbmNsdWRlcyhzb3VyY2UubmFtZS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgOiAhaXNFbXB0eShzb3VyY2UpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdmFsaWRJdGVtcyA9IGl0ZW1zLmZpbHRlcihpc1ZhbGlkRmlsZSk7XG5cbiAgICAgICAgdmFyIHByb21pc2VzID0gdmFsaWRJdGVtcy5tYXAoZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ0FERF9JVEVNJywge1xuICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogaW50ZXJhY3Rpb25NZXRob2QsXG4gICAgICAgICAgICAgIHNvdXJjZTogc291cmNlLnNvdXJjZSB8fCBzb3VyY2UsXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHJlc29sdmUsXG4gICAgICAgICAgICAgIGZhaWx1cmU6IHJlamVjdCxcbiAgICAgICAgICAgICAgaW5kZXg6IGN1cnJlbnRJbmRleCsrLFxuICAgICAgICAgICAgICBvcHRpb25zOiBzb3VyY2Uub3B0aW9ucyB8fCB7fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgIC50aGVuKHN1Y2Nlc3MpXG4gICAgICAgICAgLmNhdGNoKGZhaWx1cmUpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0gc291cmNlXG4gICAgICAgKiBAcGFyYW0gaW5kZXhcbiAgICAgICAqIEBwYXJhbSBpbnRlcmFjdGlvbk1ldGhvZFxuICAgICAgICovXG4gICAgICBBRERfSVRFTTogZnVuY3Rpb24gQUREX0lURU0oX3JlZjcpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IF9yZWY3LnNvdXJjZSxcbiAgICAgICAgICBfcmVmNyRpbmRleCA9IF9yZWY3LmluZGV4LFxuICAgICAgICAgIGluZGV4ID0gX3JlZjckaW5kZXggPT09IHZvaWQgMCA/IC0xIDogX3JlZjckaW5kZXgsXG4gICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2QgPSBfcmVmNy5pbnRlcmFjdGlvbk1ldGhvZCxcbiAgICAgICAgICBfcmVmNyRzdWNjZXNzID0gX3JlZjcuc3VjY2VzcyxcbiAgICAgICAgICBzdWNjZXNzID0gX3JlZjckc3VjY2VzcyA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWY3JHN1Y2Nlc3MsXG4gICAgICAgICAgX3JlZjckZmFpbHVyZSA9IF9yZWY3LmZhaWx1cmUsXG4gICAgICAgICAgZmFpbHVyZSA9IF9yZWY3JGZhaWx1cmUgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmNyRmYWlsdXJlLFxuICAgICAgICAgIF9yZWY3JG9wdGlvbnMgPSBfcmVmNy5vcHRpb25zLFxuICAgICAgICAgIG9wdGlvbnMgPSBfcmVmNyRvcHRpb25zID09PSB2b2lkIDAgPyB7fSA6IF9yZWY3JG9wdGlvbnM7XG5cbiAgICAgICAgLy8gaWYgbm8gc291cmNlIHN1cHBsaWVkXG4gICAgICAgIGlmIChpc0VtcHR5KHNvdXJjZSkpIHtcbiAgICAgICAgICBmYWlsdXJlKHtcbiAgICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnZXJyb3InLCAwLCAnTm8gc291cmNlJyksXG5cbiAgICAgICAgICAgIGZpbGU6IG51bGxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbHRlciBvdXQgaW52YWxpZCBmaWxlIGl0ZW1zLCB1c2VkIHRvIGZpbHRlciBkcm9wcGVkIGRpcmVjdG9yeSBjb250ZW50c1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNGaWxlKHNvdXJjZSkgJiZcbiAgICAgICAgICBzdGF0ZS5vcHRpb25zLmlnbm9yZWRGaWxlcy5pbmNsdWRlcyhzb3VyY2UubmFtZS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBmYWlsIHNpbGVudGx5XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGVzdCBpZiB0aGVyZSdzIHN0aWxsIHJvb20gaW4gdGhlIGxpc3Qgb2YgZmlsZXNcbiAgICAgICAgaWYgKCFoYXNSb29tRm9ySXRlbShzdGF0ZSkpIHtcbiAgICAgICAgICAvLyBpZiBtdWx0aXBsZSBhbGxvd2VkLCB3ZSBjYW4ndCByZXBsYWNlXG4gICAgICAgICAgLy8gb3IgaWYgb25seSBhIHNpbmdsZSBpdGVtIGlzIGFsbG93ZWQgYnV0IHdlJ3JlIG5vdCBhbGxvd2VkIHRvIHJlcGxhY2UgaXQgd2UgZXhpdFxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuYWxsb3dNdWx0aXBsZSB8fFxuICAgICAgICAgICAgKCFzdGF0ZS5vcHRpb25zLmFsbG93TXVsdGlwbGUgJiYgIXN0YXRlLm9wdGlvbnMuYWxsb3dSZXBsYWNlKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gY3JlYXRlUmVzcG9uc2UoJ3dhcm5pbmcnLCAwLCAnTWF4IGZpbGVzJyk7XG5cbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfTUFYX0ZJTEVTJywge1xuICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZmFpbHVyZSh7IGVycm9yOiBlcnJvciwgZmlsZTogbnVsbCB9KTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGxldCdzIHJlcGxhY2UgdGhlIGl0ZW1cbiAgICAgICAgICAvLyBpZCBvZiBmaXJzdCBpdGVtIHdlJ3JlIGFib3V0IHRvIHJlbW92ZVxuICAgICAgICAgIHZhciBfaXRlbSA9IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKVswXTtcblxuICAgICAgICAgIC8vIGlmIGhhcyBiZWVuIHByb2Nlc3NlZCByZW1vdmUgaXQgZnJvbSB0aGUgc2VydmVyIGFzIHdlbGxcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBfaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSB8fFxuICAgICAgICAgICAgX2l0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUkVWRVJUX0VSUk9SXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgZm9yY2VSZXZlcnQgPSBxdWVyeSgnR0VUX0ZPUkNFX1JFVkVSVCcpO1xuICAgICAgICAgICAgX2l0ZW1cbiAgICAgICAgICAgICAgLnJldmVydChcbiAgICAgICAgICAgICAgICBjcmVhdGVSZXZlcnRGdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuc2VydmVyLnVybCxcbiAgICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuc2VydmVyLnJldmVydFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgZm9yY2VSZXZlcnRcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWZvcmNlUmV2ZXJ0KSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAvLyB0cnkgdG8gYWRkIG5vd1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdBRERfSVRFTScsIHtcbiAgICAgICAgICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IGludGVyYWN0aW9uTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgIGZhaWx1cmU6IGZhaWx1cmUsXG4gICAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbigpIHt9KTsgLy8gbm8gbmVlZCB0byBoYW5kbGUgdGhpcyBjYXRjaCBzdGF0ZSBmb3Igbm93XG5cbiAgICAgICAgICAgIGlmIChmb3JjZVJldmVydCkgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHJlbW92ZSBmaXJzdCBpdGVtIGFzIGl0IHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhpcyBpdGVtXG4gICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogX2l0ZW0uaWQgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGVyZSBkaWQgdGhlIGZpbGUgb3JpZ2luYXRlXG4gICAgICAgIHZhciBvcmlnaW4gPVxuICAgICAgICAgIG9wdGlvbnMudHlwZSA9PT0gJ2xvY2FsJ1xuICAgICAgICAgICAgPyBGaWxlT3JpZ2luLkxPQ0FMXG4gICAgICAgICAgICA6IG9wdGlvbnMudHlwZSA9PT0gJ2xpbWJvJ1xuICAgICAgICAgICAgPyBGaWxlT3JpZ2luLkxJTUJPXG4gICAgICAgICAgICA6IEZpbGVPcmlnaW4uSU5QVVQ7XG5cbiAgICAgICAgLy8gY3JlYXRlIGEgbmV3IGJsYW5rIGl0ZW1cbiAgICAgICAgdmFyIGl0ZW0gPSBjcmVhdGVJdGVtKFxuICAgICAgICAgIC8vIHdoZXJlIGRpZCB0aGlzIGZpbGUgY29tZSBmcm9tXG4gICAgICAgICAgb3JpZ2luLFxuXG4gICAgICAgICAgLy8gYW4gaW5wdXQgZmlsZSBuZXZlciBoYXMgYSBzZXJ2ZXIgZmlsZSByZWZlcmVuY2VcbiAgICAgICAgICBvcmlnaW4gPT09IEZpbGVPcmlnaW4uSU5QVVQgPyBudWxsIDogc291cmNlLFxuXG4gICAgICAgICAgLy8gZmlsZSBtb2NrIGRhdGEsIGlmIGRlZmluZWRcbiAgICAgICAgICBvcHRpb25zLmZpbGVcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBzZXQgaW5pdGlhbCBtZXRhIGRhdGFcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucy5tZXRhZGF0YSB8fCB7fSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICBpdGVtLnNldE1ldGFkYXRhKGtleSwgb3B0aW9ucy5tZXRhZGF0YVtrZXldKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gY3JlYXRlZCB0aGUgaXRlbSwgbGV0IHBsdWdpbnMgYWRkIG1ldGhvZHNcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCdESURfQ1JFQVRFX0lURU0nLCBpdGVtLCB7XG4gICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgIGRpc3BhdGNoOiBkaXNwYXRjaFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyB3aGVyZSB0byBpbnNlcnQgbmV3IGl0ZW1zXG4gICAgICAgIHZhciBpdGVtSW5zZXJ0TG9jYXRpb24gPSBxdWVyeSgnR0VUX0lURU1fSU5TRVJUX0xPQ0FUSU9OJyk7XG5cbiAgICAgICAgLy8gYWRqdXN0IGluZGV4IGlmIGlzIG5vdCBhbGxvd2VkIHRvIHBpY2sgbG9jYXRpb25cbiAgICAgICAgaWYgKCFzdGF0ZS5vcHRpb25zLml0ZW1JbnNlcnRMb2NhdGlvbkZyZWVkb20pIHtcbiAgICAgICAgICBpbmRleCA9IGl0ZW1JbnNlcnRMb2NhdGlvbiA9PT0gJ2JlZm9yZScgPyAtMSA6IHN0YXRlLml0ZW1zLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBpdGVtIHRvIGxpc3RcbiAgICAgICAgaW5zZXJ0SXRlbShzdGF0ZS5pdGVtcywgaXRlbSwgaW5kZXgpO1xuXG4gICAgICAgIC8vIHNvcnQgaXRlbXMgaW4gbGlzdFxuICAgICAgICBpZiAoaXNGdW5jdGlvbihpdGVtSW5zZXJ0TG9jYXRpb24pICYmIHNvdXJjZSkge1xuICAgICAgICAgIHNvcnRJdGVtcyhzdGF0ZSwgaXRlbUluc2VydExvY2F0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBhIHF1aWNrIHJlZmVyZW5jZSB0byB0aGUgaXRlbSBpZFxuICAgICAgICB2YXIgaWQgPSBpdGVtLmlkO1xuXG4gICAgICAgIC8vIG9ic2VydmUgaXRlbSBldmVudHNcbiAgICAgICAgaXRlbS5vbignaW5pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfSU5JVF9JVEVNJywgeyBpZDogaWQgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ2xvYWQtaW5pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfU1RBUlRfSVRFTV9MT0FEJywgeyBpZDogaWQgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ2xvYWQtbWV0YScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfVVBEQVRFX0lURU1fTUVUQScsIHsgaWQ6IGlkIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdsb2FkLXByb2dyZXNzJywgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICBkaXNwYXRjaCgnRElEX1VQREFURV9JVEVNX0xPQURfUFJPR1JFU1MnLCB7XG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBwcm9ncmVzczogcHJvZ3Jlc3NcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbignbG9hZC1yZXF1ZXN0LWVycm9yJywgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICB2YXIgbWFpblN0YXR1cyA9IGR5bmFtaWNMYWJlbChzdGF0ZS5vcHRpb25zLmxhYmVsRmlsZUxvYWRFcnJvcikoXG4gICAgICAgICAgICBlcnJvclxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBpcyBjbGllbnQgZXJyb3IsIG5vIHdheSB0byByZWNvdmVyXG4gICAgICAgICAgaWYgKGVycm9yLmNvZGUgPj0gNDAwICYmIGVycm9yLmNvZGUgPCA1MDApIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfSVRFTV9JTlZBTElEJywge1xuICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgbWFpbjogbWFpblN0YXR1cyxcbiAgICAgICAgICAgICAgICBzdWI6IGVycm9yLmNvZGUgKyAnICgnICsgZXJyb3IuYm9keSArICcpJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gcmVqZWN0IHRoZSBmaWxlIHNvIGNhbiBiZSBkZWFsdCB3aXRoIHRocm91Z2ggQVBJXG4gICAgICAgICAgICBmYWlsdXJlKHsgZXJyb3I6IGVycm9yLCBmaWxlOiBjcmVhdGVJdGVtQVBJKGl0ZW0pIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGlzIHBvc3NpYmxlIHNlcnZlciBlcnJvciwgc28gbWlnaHQgYmUgcG9zc2libGUgdG8gcmV0cnlcbiAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX0lURU1fTE9BRF9FUlJPUicsIHtcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICBtYWluOiBtYWluU3RhdHVzLFxuICAgICAgICAgICAgICBzdWI6IHN0YXRlLm9wdGlvbnMubGFiZWxUYXBUb1JldHJ5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ2xvYWQtZmlsZS1lcnJvcicsIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX0lOVkFMSUQnLCB7XG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBlcnJvcjogZXJyb3Iuc3RhdHVzLFxuICAgICAgICAgICAgc3RhdHVzOiBlcnJvci5zdGF0dXNcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGZhaWx1cmUoeyBlcnJvcjogZXJyb3Iuc3RhdHVzLCBmaWxlOiBjcmVhdGVJdGVtQVBJKGl0ZW0pIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdsb2FkLWFib3J0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogaWQgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ2xvYWQtc2tpcCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRpc3BhdGNoKCdDT01QTEVURV9MT0FEX0lURU0nLCB7XG4gICAgICAgICAgICBxdWVyeTogaWQsXG4gICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICAgICAgc3VjY2Vzczogc3VjY2Vzc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGhhbmRsZUFkZCA9IGZ1bmN0aW9uIGhhbmRsZUFkZChzaG91bGRBZGQpIHtcbiAgICAgICAgICAgIC8vIG5vIHNob3VsZCBub3QgYWRkIHRoaXMgZmlsZVxuICAgICAgICAgICAgaWYgKCFzaG91bGRBZGQpIHtcbiAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywge1xuICAgICAgICAgICAgICAgIHF1ZXJ5OiBpZFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vdyBpbnRlcmVzdGVkIGluIG1ldGFkYXRhIHVwZGF0ZXNcbiAgICAgICAgICAgIGl0ZW0ub24oJ21ldGFkYXRhLXVwZGF0ZScsIGZ1bmN0aW9uKGNoYW5nZSkge1xuICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1VQREFURV9JVEVNX01FVEFEQVRBJywgeyBpZDogaWQsIGNoYW5nZTogY2hhbmdlIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGxldCBwbHVnaW5zIGRlY2lkZSBpZiB0aGUgb3V0cHV0IGRhdGEgc2hvdWxkIGJlIHByZXBhcmVkIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgICAgIC8vIG1lYW5zIHdlJ2xsIGRvIHRoaXMgYW5kIHdhaXQgZm9yIGlkbGUgc3RhdGVcbiAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ1NIT1VMRF9QUkVQQVJFX09VVFBVVCcsIGZhbHNlLCB7XG4gICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihzaG91bGRQcmVwYXJlT3V0cHV0KSB7XG4gICAgICAgICAgICAgIHZhciBsb2FkQ29tcGxldGUgPSBmdW5jdGlvbiBsb2FkQ29tcGxldGUoKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0NPTVBMRVRFX0xPQURfSVRFTScsIHtcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBpZCxcbiAgICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBsaXN0VXBkYXRlZChkaXNwYXRjaCwgc3RhdGUpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIC8vIGV4aXRcbiAgICAgICAgICAgICAgaWYgKHNob3VsZFByZXBhcmVPdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciBpZGxlIHN0YXRlIGFuZCB0aGVuIHJ1biBQUkVQQVJFX09VVFBVVFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgICAgJ1JFUVVFU1RfUFJFUEFSRV9PVVRQVVQnLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeTogaWQsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfUFJFUEFSRV9PVVRQVVQnLCB7IGlkOiBpZCwgZmlsZTogZmlsZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBsb2FkQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgbG9hZENvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gaXRlbSBsb2FkZWQsIGFsbG93IHBsdWdpbnMgdG9cbiAgICAgICAgICAvLyAtIHJlYWQgZGF0YSAocXVpY2tseSlcbiAgICAgICAgICAvLyAtIGFkZCBtZXRhZGF0YVxuICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ0RJRF9MT0FEX0lURU0nLCBpdGVtLCB7XG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgICBkaXNwYXRjaDogZGlzcGF0Y2hcbiAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIG9wdGlvbmFsUHJvbWlzZShcbiAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0JFRk9SRV9BRERfRklMRScpLFxuICAgICAgICAgICAgICAgIGNyZWF0ZUl0ZW1BUEkoaXRlbSlcbiAgICAgICAgICAgICAgKS50aGVuKGhhbmRsZUFkZCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBoYW5kbGVBZGQoZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3Mtc3RhcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkaXNwYXRjaCgnRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORycsIHsgaWQ6IGlkIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLXByb2dyZXNzJywgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICBkaXNwYXRjaCgnRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1MnLCB7XG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBwcm9ncmVzczogcHJvZ3Jlc3NcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbigncHJvY2Vzcy1lcnJvcicsIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1InLCB7XG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgbWFpbjogZHluYW1pY0xhYmVsKHN0YXRlLm9wdGlvbnMubGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yKShlcnJvciksXG4gICAgICAgICAgICAgIHN1Yjogc3RhdGUub3B0aW9ucy5sYWJlbFRhcFRvUmV0cnlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbigncHJvY2Vzcy1yZXZlcnQtZXJyb3InLCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUicsIHtcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICBtYWluOiBkeW5hbWljTGFiZWwoc3RhdGUub3B0aW9ucy5sYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3IpKFxuICAgICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHN1Yjogc3RhdGUub3B0aW9ucy5sYWJlbFRhcFRvUmV0cnlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbigncHJvY2Vzcy1jb21wbGV0ZScsIGZ1bmN0aW9uKHNlcnZlckZpbGVSZWZlcmVuY2UpIHtcbiAgICAgICAgICBkaXNwYXRjaCgnRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORycsIHtcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgc2VydmVyRmlsZVJlZmVyZW5jZTogc2VydmVyRmlsZVJlZmVyZW5jZVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9ERUZJTkVfVkFMVUUnLCB7IGlkOiBpZCwgdmFsdWU6IHNlcnZlckZpbGVSZWZlcmVuY2UgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtYWJvcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkaXNwYXRjaCgnRElEX0FCT1JUX0lURU1fUFJPQ0VTU0lORycsIHsgaWQ6IGlkIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLXJldmVydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsIHsgaWQ6IGlkIH0pO1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfREVGSU5FX1ZBTFVFJywgeyBpZDogaWQsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBsZXQgdmlldyBrbm93IHRoZSBpdGVtIGhhcyBiZWVuIGluc2VydGVkXG4gICAgICAgIGRpc3BhdGNoKCdESURfQUREX0lURU0nLCB7XG4gICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogaW50ZXJhY3Rpb25NZXRob2RcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGlzdFVwZGF0ZWQoZGlzcGF0Y2gsIHN0YXRlKTtcblxuICAgICAgICAvLyBzdGFydCBsb2FkaW5nIHRoZSBzb3VyY2VcbiAgICAgICAgdmFyIF9yZWY4ID0gc3RhdGUub3B0aW9ucy5zZXJ2ZXIgfHwge30sXG4gICAgICAgICAgdXJsID0gX3JlZjgudXJsLFxuICAgICAgICAgIGxvYWQgPSBfcmVmOC5sb2FkLFxuICAgICAgICAgIHJlc3RvcmUgPSBfcmVmOC5yZXN0b3JlLFxuICAgICAgICAgIGZldGNoID0gX3JlZjguZmV0Y2g7XG5cbiAgICAgICAgaXRlbS5sb2FkKFxuICAgICAgICAgIHNvdXJjZSxcblxuICAgICAgICAgIC8vIHRoaXMgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbG9hZHMgdGhlIGZpbGUgYmFzZWQgb24gdGhlIHR5cGUgb2YgZmlsZSAoc3RyaW5nLCBiYXNlNjQsIGJsb2IsIGZpbGUpIGFuZCBsb2NhdGlvbiBvZiBmaWxlIChsb2NhbCwgcmVtb3RlLCBsaW1ibylcbiAgICAgICAgICBjcmVhdGVGaWxlTG9hZGVyKFxuICAgICAgICAgICAgb3JpZ2luID09PSBGaWxlT3JpZ2luLklOUFVUXG4gICAgICAgICAgICAgID8gLy8gaW5wdXQsIGlmIGlzIHJlbW90ZSwgc2VlIGlmIHNob3VsZCB1c2UgY3VzdG9tIGZldGNoLCBlbHNlIHVzZSBkZWZhdWx0IGZldGNoQmxvYlxuICAgICAgICAgICAgICAgIGlzU3RyaW5nKHNvdXJjZSkgJiYgaXNFeHRlcm5hbFVSTChzb3VyY2UpXG4gICAgICAgICAgICAgICAgPyBmZXRjaFxuICAgICAgICAgICAgICAgICAgPyBjcmVhdGVGZXRjaEZ1bmN0aW9uKHVybCwgZmV0Y2gpXG4gICAgICAgICAgICAgICAgICA6IGZldGNoQmxvYiAvLyByZW1vdGUgdXJsXG4gICAgICAgICAgICAgICAgOiBmZXRjaEJsb2IgLy8gdHJ5IHRvIGZldGNoIHVybFxuICAgICAgICAgICAgICA6IC8vIGxpbWJvIG9yIGxvY2FsXG4gICAgICAgICAgICAgIG9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MSU1CT1xuICAgICAgICAgICAgICA/IGNyZWF0ZUZldGNoRnVuY3Rpb24odXJsLCByZXN0b3JlKSAvLyBsaW1ib1xuICAgICAgICAgICAgICA6IGNyZWF0ZUZldGNoRnVuY3Rpb24odXJsLCBsb2FkKSAvLyBsb2NhbFxuICAgICAgICAgICksXG5cbiAgICAgICAgICAvLyBjYWxsZWQgd2hlbiB0aGUgZmlsZSBpcyBsb2FkZWQgc28gaXQgY2FuIGJlIHBpcGVkIHRocm91Z2ggdGhlIGZpbHRlcnNcbiAgICAgICAgICBmdW5jdGlvbihmaWxlLCBzdWNjZXNzLCBlcnJvcikge1xuICAgICAgICAgICAgLy8gbGV0J3MgcHJvY2VzcyB0aGUgZmlsZVxuICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignTE9BRF9GSUxFJywgZmlsZSwgeyBxdWVyeTogcXVlcnkgfSlcbiAgICAgICAgICAgICAgLnRoZW4oc3VjY2VzcylcbiAgICAgICAgICAgICAgLmNhdGNoKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9LFxuXG4gICAgICBSRVFVRVNUX1BSRVBBUkVfT1VUUFVUOiBmdW5jdGlvbiBSRVFVRVNUX1BSRVBBUkVfT1VUUFVUKF9yZWY5KSB7XG4gICAgICAgIHZhciBpdGVtID0gX3JlZjkuaXRlbSxcbiAgICAgICAgICBzdWNjZXNzID0gX3JlZjkuc3VjY2VzcyxcbiAgICAgICAgICBfcmVmOSRmYWlsdXJlID0gX3JlZjkuZmFpbHVyZSxcbiAgICAgICAgICBmYWlsdXJlID0gX3JlZjkkZmFpbHVyZSA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWY5JGZhaWx1cmU7XG5cbiAgICAgICAgLy8gZXJyb3IgcmVzcG9uc2UgaWYgaXRlbSBhcmNoaXZlZFxuICAgICAgICB2YXIgZXJyID0ge1xuICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnZXJyb3InLCAwLCAnSXRlbSBub3QgZm91bmQnKSxcblxuICAgICAgICAgIGZpbGU6IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBkb24ndCBoYW5kbGUgYXJjaGl2ZWQgaXRlbXMsIGFuIGl0ZW0gY291bGQgaGF2ZSBiZWVuIGFyY2hpdmVkIChsb2FkIGFib3J0ZWQpIHdoaWxlIHdhaXRpbmcgdG8gYmUgcHJlcGFyZWRcbiAgICAgICAgaWYgKGl0ZW0uYXJjaGl2ZWQpIHJldHVybiBmYWlsdXJlKGVycik7XG5cbiAgICAgICAgLy8gYWxsb3cgcGx1Z2lucyB0byBhbHRlciB0aGUgZmlsZSBkYXRhXG4gICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ1BSRVBBUkVfT1VUUFVUJywgaXRlbS5maWxlLCB7XG4gICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgIGl0ZW06IGl0ZW1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdDT01QTEVURV9QUkVQQVJFX09VVFBVVCcsIHJlc3VsdCwge1xuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgICAgaXRlbTogaXRlbVxuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAvLyBkb24ndCBoYW5kbGUgYXJjaGl2ZWQgaXRlbXMsIGFuIGl0ZW0gY291bGQgaGF2ZSBiZWVuIGFyY2hpdmVkIChsb2FkIGFib3J0ZWQpIHdoaWxlIGJlaW5nIHByZXBhcmVkXG4gICAgICAgICAgICBpZiAoaXRlbS5hcmNoaXZlZCkgcmV0dXJuIGZhaWx1cmUoZXJyKTtcblxuICAgICAgICAgICAgLy8gd2UgZG9uZSFcbiAgICAgICAgICAgIHN1Y2Nlc3MocmVzdWx0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBDT01QTEVURV9MT0FEX0lURU06IGZ1bmN0aW9uIENPTVBMRVRFX0xPQURfSVRFTShfcmVmMTApIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBfcmVmMTAuaXRlbSxcbiAgICAgICAgICBkYXRhID0gX3JlZjEwLmRhdGE7XG4gICAgICAgIHZhciBzdWNjZXNzID0gZGF0YS5zdWNjZXNzLFxuICAgICAgICAgIHNvdXJjZSA9IGRhdGEuc291cmNlO1xuXG4gICAgICAgIC8vIHNvcnQgaXRlbXMgaW4gbGlzdFxuICAgICAgICB2YXIgaXRlbUluc2VydExvY2F0aW9uID0gcXVlcnkoJ0dFVF9JVEVNX0lOU0VSVF9MT0NBVElPTicpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihpdGVtSW5zZXJ0TG9jYXRpb24pICYmIHNvdXJjZSkge1xuICAgICAgICAgIHNvcnRJdGVtcyhzdGF0ZSwgaXRlbUluc2VydExvY2F0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldCBpbnRlcmZhY2Uga25vdyB0aGUgaXRlbSBoYXMgbG9hZGVkXG4gICAgICAgIGRpc3BhdGNoKCdESURfTE9BRF9JVEVNJywge1xuICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgIHNlcnZlckZpbGVSZWZlcmVuY2U6IGl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLklOUFVUID8gbnVsbCA6IHNvdXJjZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpdGVtIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBsb2FkZWQgYW5kIGFkZGVkIHRvIHRoZVxuICAgICAgICAvLyBsaXN0IG9mIGl0ZW1zIHNvIGNhbiBub3cgYmUgc2FmZWx5IHJldHVybmVkIGZvciB1c2VcbiAgICAgICAgc3VjY2VzcyhjcmVhdGVJdGVtQVBJKGl0ZW0pKTtcblxuICAgICAgICAvLyBpZiB0aGlzIGlzIGEgbG9jYWwgc2VydmVyIGZpbGUgd2UgbmVlZCB0byBzaG93IGEgZGlmZmVyZW50IHN0YXRlXG4gICAgICAgIGlmIChpdGVtLm9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MT0NBTCkge1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfTE9BRF9MT0NBTF9JVEVNJywgeyBpZDogaXRlbS5pZCB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBpcyBhIHRlbXAgc2VydmVyIGZpbGUgd2UgcHJldmVudCBhc3luYyB1cGxvYWQgY2FsbCBoZXJlIChhcyB0aGUgZmlsZSBpcyBhbHJlYWR5IG9uIHRoZSBzZXJ2ZXIpXG4gICAgICAgIGlmIChpdGVtLm9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MSU1CTykge1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HJywge1xuICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIHNlcnZlckZpbGVSZWZlcmVuY2U6IHNvdXJjZVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9ERUZJTkVfVkFMVUUnLCB7XG4gICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgIHZhbHVlOiBzb3VyY2VcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlkIHdlIGFyZSBhbGxvd2VkIHRvIHVwbG9hZCB0aGUgZmlsZSBpbW1pZGlhdGVseSwgbGV0cyBkbyBpdFxuICAgICAgICBpZiAocXVlcnkoJ0lTX0FTWU5DJykgJiYgc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJywgeyBxdWVyeTogaXRlbS5pZCB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgUkVUUllfSVRFTV9MT0FEOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAvLyB0cnkgbG9hZGluZyB0aGUgc291cmNlIG9uZSBtb3JlIHRpbWVcbiAgICAgICAgaXRlbS5yZXRyeUxvYWQoKTtcbiAgICAgIH0pLFxuXG4gICAgICBSRVFVRVNUX0lURU1fUFJFUEFSRTogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKFxuICAgICAgICBpdGVtLFxuICAgICAgICBfc3VjY2VzcyxcbiAgICAgICAgZmFpbHVyZVxuICAgICAgKSB7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICdSRVFVRVNUX1BSRVBBUkVfT1VUUFVUJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBxdWVyeTogaXRlbS5pZCxcbiAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGZpbGUpIHtcbiAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9QUkVQQVJFX09VVFBVVCcsIHsgaWQ6IGl0ZW0uaWQsIGZpbGU6IGZpbGUgfSk7XG4gICAgICAgICAgICAgIF9zdWNjZXNzKHtcbiAgICAgICAgICAgICAgICBmaWxlOiBpdGVtLFxuICAgICAgICAgICAgICAgIG91dHB1dDogZmlsZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWlsdXJlOiBmYWlsdXJlXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICB9KSxcblxuICAgICAgUkVRVUVTVF9JVEVNX1BST0NFU1NJTkc6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihcbiAgICAgICAgaXRlbSxcbiAgICAgICAgc3VjY2VzcyxcbiAgICAgICAgZmFpbHVyZVxuICAgICAgKSB7XG4gICAgICAgIC8vIGNhbm5vdCBiZSBxdWV1ZWQgKG9yIGlzIGFscmVhZHkgcXVldWVkKVxuICAgICAgICB2YXIgaXRlbUNhbkJlUXVldWVkRm9yUHJvY2Vzc2luZyA9XG4gICAgICAgICAgLy8gd2FpdGluZyBmb3Igc29tZXRoaW5nXG4gICAgICAgICAgaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuSURMRSB8fFxuICAgICAgICAgIC8vIHByb2Nlc3Npbmcgd2VudCB3cm9uZyBlYXJsaWVyXG4gICAgICAgICAgaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19FUlJPUjtcblxuICAgICAgICAvLyBub3QgcmVhZHkgdG8gYmUgcHJvY2Vzc2VkXG4gICAgICAgIGlmICghaXRlbUNhbkJlUXVldWVkRm9yUHJvY2Vzc2luZykge1xuICAgICAgICAgIHZhciBwcm9jZXNzTm93ID0gZnVuY3Rpb24gcHJvY2Vzc05vdygpIHtcbiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLCB7XG4gICAgICAgICAgICAgIHF1ZXJ5OiBpdGVtLFxuICAgICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxuICAgICAgICAgICAgICBmYWlsdXJlOiBmYWlsdXJlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHByb2Nlc3MgPSBmdW5jdGlvbiBwcm9jZXNzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmhpZGRlbiA/IHByb2Nlc3NOb3coKSA6IHNldFRpbWVvdXQocHJvY2Vzc05vdywgMzIpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBpZiBhbHJlYWR5IGRvbmUgcHJvY2Vzc2luZyBvciB0cmllZCB0byByZXZlcnQgYnV0IGRpZG4ndCB3b3JrLCB0cnkgYWdhaW5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFIHx8XG4gICAgICAgICAgICBpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaXRlbVxuICAgICAgICAgICAgICAucmV2ZXJ0KFxuICAgICAgICAgICAgICAgIGNyZWF0ZVJldmVydEZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIudXJsLFxuICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIucmV2ZXJ0XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZPUkNFX1JFVkVSVCcpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLnRoZW4ocHJvY2VzcylcbiAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKCkge30pOyAvLyBkb24ndCBjb250aW51ZSB3aXRoIHByb2Nlc3NpbmcgaWYgc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkcpIHtcbiAgICAgICAgICAgIGl0ZW0uYWJvcnRQcm9jZXNzaW5nKCkudGhlbihwcm9jZXNzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbHJlYWR5IHF1ZXVlZCBmb3IgcHJvY2Vzc2luZ1xuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19RVUVVRUQpIHJldHVybjtcblxuICAgICAgICBpdGVtLnJlcXVlc3RQcm9jZXNzaW5nKCk7XG5cbiAgICAgICAgZGlzcGF0Y2goJ0RJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORycsIHsgaWQ6IGl0ZW0uaWQgfSk7XG5cbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgJ1BST0NFU1NfSVRFTScsXG4gICAgICAgICAgeyBxdWVyeTogaXRlbSwgc3VjY2Vzczogc3VjY2VzcywgZmFpbHVyZTogZmFpbHVyZSB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgIH0pLFxuXG4gICAgICBQUk9DRVNTX0lURU06IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihcbiAgICAgICAgaXRlbSxcbiAgICAgICAgc3VjY2VzcyxcbiAgICAgICAgZmFpbHVyZVxuICAgICAgKSB7XG4gICAgICAgIHZhciBtYXhQYXJhbGxlbFVwbG9hZHMgPSBxdWVyeSgnR0VUX01BWF9QQVJBTExFTF9VUExPQURTJyk7XG4gICAgICAgIHZhciB0b3RhbEN1cnJlbnRVcGxvYWRzID0gcXVlcnkoXG4gICAgICAgICAgJ0dFVF9JVEVNU19CWV9TVEFUVVMnLFxuICAgICAgICAgIEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR1xuICAgICAgICApLmxlbmd0aDtcblxuICAgICAgICAvLyBxdWV1ZSBhbmQgd2FpdCB0aWxsIHF1ZXVlIGlzIGZyZWVkIHVwXG4gICAgICAgIGlmICh0b3RhbEN1cnJlbnRVcGxvYWRzID09PSBtYXhQYXJhbGxlbFVwbG9hZHMpIHtcbiAgICAgICAgICAvLyBxdWV1ZSBmb3IgbGF0ZXIgcHJvY2Vzc2luZ1xuICAgICAgICAgIHN0YXRlLnByb2Nlc3NpbmdRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgICAgIGZhaWx1cmU6IGZhaWx1cmVcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIHN0b3AgaXQhXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgd2FzIG5vdCBxdWV1ZWQgb3IgaXMgYWxyZWFkeSBwcm9jZXNzaW5nIGV4aXQgaGVyZVxuICAgICAgICBpZiAoaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lORykgcmV0dXJuO1xuXG4gICAgICAgIHZhciBwcm9jZXNzTmV4dCA9IGZ1bmN0aW9uIHByb2Nlc3NOZXh0KCkge1xuICAgICAgICAgIC8vIHByb2Nlc3MgcXVldWV1ZCBpdGVtc1xuICAgICAgICAgIHZhciBxdWV1ZUVudHJ5ID0gc3RhdGUucHJvY2Vzc2luZ1F1ZXVlLnNoaWZ0KCk7XG5cbiAgICAgICAgICAvLyBubyBpdGVtcyBsZWZ0XG4gICAgICAgICAgaWYgKCFxdWV1ZUVudHJ5KSByZXR1cm47XG5cbiAgICAgICAgICAvLyBnZXQgaXRlbSByZWZlcmVuY2VcbiAgICAgICAgICB2YXIgaWQgPSBxdWV1ZUVudHJ5LmlkLFxuICAgICAgICAgICAgc3VjY2VzcyA9IHF1ZXVlRW50cnkuc3VjY2VzcyxcbiAgICAgICAgICAgIGZhaWx1cmUgPSBxdWV1ZUVudHJ5LmZhaWx1cmU7XG4gICAgICAgICAgdmFyIGl0ZW1SZWZlcmVuY2UgPSBnZXRJdGVtQnlRdWVyeShzdGF0ZS5pdGVtcywgaWQpO1xuXG4gICAgICAgICAgLy8gaWYgaXRlbSB3YXMgYXJjaGl2ZWQgd2hpbGUgaW4gcXVldWUsIGp1bXAgdG8gbmV4dFxuICAgICAgICAgIGlmICghaXRlbVJlZmVyZW5jZSB8fCBpdGVtUmVmZXJlbmNlLmFyY2hpdmVkKSB7XG4gICAgICAgICAgICBwcm9jZXNzTmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHByb2Nlc3MgcXVldWVkIGl0ZW1cbiAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICdQUk9DRVNTX0lURU0nLFxuICAgICAgICAgICAgeyBxdWVyeTogaWQsIHN1Y2Nlc3M6IHN1Y2Nlc3MsIGZhaWx1cmU6IGZhaWx1cmUgfSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHdlIGRvbmUgZnVuY3Rpb25cbiAgICAgICAgaXRlbS5vbk9uY2UoJ3Byb2Nlc3MtY29tcGxldGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzdWNjZXNzKGNyZWF0ZUl0ZW1BUEkoaXRlbSkpO1xuICAgICAgICAgIHByb2Nlc3NOZXh0KCk7XG5cbiAgICAgICAgICAvLyBBbGwgaXRlbXMgcHJvY2Vzc2VkPyBObyBlcnJvcnM/XG4gICAgICAgICAgdmFyIGFsbEl0ZW1zUHJvY2Vzc2VkID1cbiAgICAgICAgICAgIHF1ZXJ5KCdHRVRfSVRFTVNfQllfU1RBVFVTJywgSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFKVxuICAgICAgICAgICAgICAubGVuZ3RoID09PSBzdGF0ZS5pdGVtcy5sZW5ndGg7XG4gICAgICAgICAgaWYgKGFsbEl0ZW1zUHJvY2Vzc2VkKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lOR19BTEwnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHdlIGVycm9yIGZ1bmN0aW9uXG4gICAgICAgIGl0ZW0ub25PbmNlKCdwcm9jZXNzLWVycm9yJywgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICBmYWlsdXJlKHsgZXJyb3I6IGVycm9yLCBmaWxlOiBjcmVhdGVJdGVtQVBJKGl0ZW0pIH0pO1xuICAgICAgICAgIHByb2Nlc3NOZXh0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHN0YXJ0IGZpbGUgcHJvY2Vzc2luZ1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHN0YXRlLm9wdGlvbnM7XG4gICAgICAgIGl0ZW0ucHJvY2VzcyhcbiAgICAgICAgICBjcmVhdGVGaWxlUHJvY2Vzc29yKFxuICAgICAgICAgICAgY3JlYXRlUHJvY2Vzc29yRnVuY3Rpb24oXG4gICAgICAgICAgICAgIG9wdGlvbnMuc2VydmVyLnVybCxcbiAgICAgICAgICAgICAgb3B0aW9ucy5zZXJ2ZXIucHJvY2VzcyxcbiAgICAgICAgICAgICAgb3B0aW9ucy5uYW1lLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2h1bmtUcmFuc2ZlcklkOiBpdGVtLnRyYW5zZmVySWQsXG4gICAgICAgICAgICAgICAgY2h1bmtTZXJ2ZXI6IG9wdGlvbnMuc2VydmVyLnBhdGNoLFxuICAgICAgICAgICAgICAgIGNodW5rVXBsb2Fkczogb3B0aW9ucy5jaHVua1VwbG9hZHMsXG4gICAgICAgICAgICAgICAgY2h1bmtGb3JjZTogb3B0aW9ucy5jaHVua0ZvcmNlLFxuICAgICAgICAgICAgICAgIGNodW5rU2l6ZTogb3B0aW9ucy5jaHVua1NpemUsXG4gICAgICAgICAgICAgICAgY2h1bmtSZXRyeURlbGF5czogb3B0aW9ucy5jaHVua1JldHJ5RGVsYXlzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuXG4gICAgICAgICAgLy8gY2FsbGVkIHdoZW4gdGhlIGZpbGUgaXMgYWJvdXQgdG8gYmUgcHJvY2Vzc2VkIHNvIGl0IGNhbiBiZSBwaXBlZCB0aHJvdWdoIHRoZSB0cmFuc2Zvcm0gZmlsdGVyc1xuICAgICAgICAgIGZ1bmN0aW9uKGZpbGUsIHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgICAgICAgICAvLyBhbGxvdyBwbHVnaW5zIHRvIGFsdGVyIHRoZSBmaWxlIGRhdGFcbiAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ1BSRVBBUkVfT1VUUFVUJywgZmlsZSwge1xuICAgICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgICAgIGl0ZW06IGl0ZW1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1BSRVBBUkVfT1VUUFVUJywgeyBpZDogaXRlbS5pZCwgZmlsZTogZmlsZSB9KTtcblxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MoZmlsZSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5jYXRjaChlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSksXG5cbiAgICAgIFJFVFJZX0lURU1fUFJPQ0VTU0lORzogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgZGlzcGF0Y2goJ1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJywgeyBxdWVyeTogaXRlbSB9KTtcbiAgICAgIH0pLFxuXG4gICAgICBSRVFVRVNUX1JFTU9WRV9JVEVNOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBvcHRpb25hbFByb21pc2UoXG4gICAgICAgICAgcXVlcnkoJ0dFVF9CRUZPUkVfUkVNT1ZFX0ZJTEUnKSxcbiAgICAgICAgICBjcmVhdGVJdGVtQVBJKGl0ZW0pXG4gICAgICAgICkudGhlbihmdW5jdGlvbihzaG91bGRSZW1vdmUpIHtcbiAgICAgICAgICBpZiAoIXNob3VsZFJlbW92ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCB7IHF1ZXJ5OiBpdGVtIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pLFxuXG4gICAgICBSRUxFQVNFX0lURU06IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW0ucmVsZWFzZSgpO1xuICAgICAgfSksXG5cbiAgICAgIFJFTU9WRV9JVEVNOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgZnVuY3Rpb24oXG4gICAgICAgIGl0ZW0sXG4gICAgICAgIHN1Y2Nlc3MsXG4gICAgICAgIGZhaWx1cmUsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICkge1xuICAgICAgICB2YXIgcmVtb3ZlRnJvbVZpZXcgPSBmdW5jdGlvbiByZW1vdmVGcm9tVmlldygpIHtcbiAgICAgICAgICAvLyBnZXQgaWQgcmVmZXJlbmNlXG4gICAgICAgICAgdmFyIGlkID0gaXRlbS5pZDtcblxuICAgICAgICAgIC8vIGFyY2hpdmUgdGhlIGl0ZW0sIHRoaXMgZG9lcyBub3QgcmVtb3ZlIGl0IGZyb20gdGhlIGxpc3RcbiAgICAgICAgICBnZXRJdGVtQnlJZChzdGF0ZS5pdGVtcywgaWQpLmFyY2hpdmUoKTtcblxuICAgICAgICAgIC8vIHRlbGwgdGhlIHZpZXcgdGhlIGl0ZW0gaGFzIGJlZW4gcmVtb3ZlZFxuICAgICAgICAgIGRpc3BhdGNoKCdESURfUkVNT1ZFX0lURU0nLCB7IGVycm9yOiBudWxsLCBpZDogaWQsIGl0ZW06IGl0ZW0gfSk7XG5cbiAgICAgICAgICAvLyBub3cgdGhlIGxpc3QgaGFzIGJlZW4gbW9kaWZpZWRcbiAgICAgICAgICBsaXN0VXBkYXRlZChkaXNwYXRjaCwgc3RhdGUpO1xuXG4gICAgICAgICAgLy8gY29ycmVjdGx5IHJlbW92ZWRcbiAgICAgICAgICBzdWNjZXNzKGNyZWF0ZUl0ZW1BUEkoaXRlbSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYSBsb2NhbCBmaWxlIGFuZCB0aGUgc2VydmVyLnJlbW92ZSBmdW5jdGlvbiBoYXMgYmVlbiBjb25maWd1cmVkLCBzZW5kIHNvdXJjZSB0aGVyZSBzbyBkZXYgY2FuIHJlbW92ZSBmaWxlIGZyb20gc2VydmVyXG4gICAgICAgIHZhciBzZXJ2ZXIgPSBzdGF0ZS5vcHRpb25zLnNlcnZlcjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLkxPQ0FMICYmXG4gICAgICAgICAgc2VydmVyICYmXG4gICAgICAgICAgaXNGdW5jdGlvbihzZXJ2ZXIucmVtb3ZlKSAmJlxuICAgICAgICAgIG9wdGlvbnMucmVtb3ZlICE9PSBmYWxzZVxuICAgICAgICApIHtcbiAgICAgICAgICBkaXNwYXRjaCgnRElEX1NUQVJUX0lURU1fUkVNT1ZFJywgeyBpZDogaXRlbS5pZCB9KTtcblxuICAgICAgICAgIHNlcnZlci5yZW1vdmUoXG4gICAgICAgICAgICBpdGVtLnNvdXJjZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlRnJvbVZpZXcoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihzdGF0dXMpIHtcbiAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX1JFTU9WRV9FUlJPUicsIHtcbiAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICBlcnJvcjogY3JlYXRlUmVzcG9uc2UoJ2Vycm9yJywgMCwgc3RhdHVzLCBudWxsKSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgIG1haW46IGR5bmFtaWNMYWJlbChzdGF0ZS5vcHRpb25zLmxhYmVsRmlsZVJlbW92ZUVycm9yKShcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgc3ViOiBzdGF0ZS5vcHRpb25zLmxhYmVsVGFwVG9SZXRyeVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpZiBpcyByZXF1ZXN0aW5nIHJldmVydCBhbmQgY2FuIHJldmVydCBuZWVkIHRvIGNhbGwgcmV2ZXJ0IGhhbmRsZXIgKG5vdCBjYWxsaW5nIHJlcXVlc3RfIGJlY2F1c2UgdGhhdCB3b3VsZCBhbHNvIHRyaWdnZXIgYmVmb3JlUmVtb3ZlSG9vaylcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBvcHRpb25zLnJldmVydCAmJlxuICAgICAgICAgICAgaXRlbS5vcmlnaW4gIT09IEZpbGVPcmlnaW4uTE9DQUwgJiZcbiAgICAgICAgICAgIGl0ZW0uc2VydmVySWQgIT09IG51bGxcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGl0ZW0ucmV2ZXJ0KFxuICAgICAgICAgICAgICBjcmVhdGVSZXZlcnRGdW5jdGlvbihcbiAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci51cmwsXG4gICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIucmV2ZXJ0XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRk9SQ0VfUkVWRVJUJylcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gY2FuIG5vdyBzYWZlbHkgcmVtb3ZlIGZyb20gdmlld1xuICAgICAgICAgIHJlbW92ZUZyb21WaWV3KCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuXG4gICAgICBBQk9SVF9JVEVNX0xPQUQ6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW0uYWJvcnRMb2FkKCk7XG4gICAgICB9KSxcblxuICAgICAgQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAvLyB0ZXN0IGlmIGlzIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgIGlmIChpdGVtLnNlcnZlcklkKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ1JFVkVSVF9JVEVNX1BST0NFU1NJTkcnLCB7IGlkOiBpdGVtLmlkIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFib3J0XG4gICAgICAgIGl0ZW0uYWJvcnRQcm9jZXNzaW5nKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgc2hvdWxkUmVtb3ZlID0gc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkO1xuICAgICAgICAgIGlmIChzaG91bGRSZW1vdmUpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHsgcXVlcnk6IGl0ZW0uaWQgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pLFxuXG4gICAgICBSRVFVRVNUX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihcbiAgICAgICAgaXRlbVxuICAgICAgKSB7XG4gICAgICAgIC8vIG5vdCBpbnN0YW50IHVwbG9hZGluZywgcmV2ZXJ0IGltbWlkaWF0ZWx5XG4gICAgICAgIGlmICghc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ1JFVkVSVF9JVEVNX1BST0NFU1NJTkcnLCB7IHF1ZXJ5OiBpdGVtIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHdlJ3JlIGluc3RhbnQgdXBsb2FkaW5nIHRoZSBmaWxlIHdpbGwgYWxzbyBiZSByZW1vdmVkIGlmIHdlIHJldmVydCxcbiAgICAgICAgLy8gc28gaWYgYSBiZWZvcmUgcmVtb3ZlIGZpbGUgaG9vayBpcyBkZWZpbmVkIHdlIG5lZWQgdG8gcnVuIGl0IG5vd1xuICAgICAgICB2YXIgaGFuZGxlUmV2ZXJ0ID0gZnVuY3Rpb24gaGFuZGxlUmV2ZXJ0KHNob3VsZFJldmVydCkge1xuICAgICAgICAgIGlmICghc2hvdWxkUmV2ZXJ0KSByZXR1cm47XG4gICAgICAgICAgZGlzcGF0Y2goJ1JFVkVSVF9JVEVNX1BST0NFU1NJTkcnLCB7IHF1ZXJ5OiBpdGVtIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBmbiA9IHF1ZXJ5KCdHRVRfQkVGT1JFX1JFTU9WRV9GSUxFJyk7XG4gICAgICAgIGlmICghZm4pIHtcbiAgICAgICAgICByZXR1cm4gaGFuZGxlUmV2ZXJ0KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcXVlc3RSZW1vdmVSZXN1bHQgPSBmbihjcmVhdGVJdGVtQVBJKGl0ZW0pKTtcbiAgICAgICAgaWYgKHJlcXVlc3RSZW1vdmVSZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgIC8vIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZVJldmVydCh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdFJlbW92ZVJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZVJldmVydChyZXF1ZXN0UmVtb3ZlUmVzdWx0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdFJlbW92ZVJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmVxdWVzdFJlbW92ZVJlc3VsdC50aGVuKGhhbmRsZVJldmVydCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuXG4gICAgICBSRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpdGVtXG4gICAgICAgICAgLnJldmVydChcbiAgICAgICAgICAgIGNyZWF0ZVJldmVydEZ1bmN0aW9uKFxuICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci51cmwsXG4gICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuc2VydmVyLnJldmVydFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRk9SQ0VfUkVWRVJUJylcbiAgICAgICAgICApXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2hvdWxkUmVtb3ZlID0gc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkIHx8IGlzTW9ja0l0ZW0oaXRlbSk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUmVtb3ZlKSB7XG4gICAgICAgICAgICAgIGRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHsgcXVlcnk6IGl0ZW0uaWQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7fSk7XG4gICAgICB9KSxcblxuICAgICAgU0VUX09QVElPTlM6IGZ1bmN0aW9uIFNFVF9PUFRJT05TKF9yZWYxMSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IF9yZWYxMS5vcHRpb25zO1xuICAgICAgICBmb3JpbihvcHRpb25zLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ1NFVF8nICsgZnJvbUNhbWVscyhrZXksICdfJykudG9VcHBlckNhc2UoKSwge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGZvcm1hdEZpbGVuYW1lID0gZnVuY3Rpb24gZm9ybWF0RmlsZW5hbWUobmFtZSkge1xuICAgIHJldHVybiBuYW1lO1xuICB9O1xuXG4gIHZhciBjcmVhdGVFbGVtZW50JDEgPSBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZ05hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgfTtcblxuICB2YXIgdGV4dCA9IGZ1bmN0aW9uIHRleHQobm9kZSwgdmFsdWUpIHtcbiAgICB2YXIgdGV4dE5vZGUgPSBub2RlLmNoaWxkTm9kZXNbMF07XG4gICAgaWYgKCF0ZXh0Tm9kZSkge1xuICAgICAgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSk7XG4gICAgICBub2RlLmFwcGVuZENoaWxkKHRleHROb2RlKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB0ZXh0Tm9kZS5ub2RlVmFsdWUpIHtcbiAgICAgIHRleHROb2RlLm5vZGVWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcG9sYXJUb0NhcnRlc2lhbiA9IGZ1bmN0aW9uIHBvbGFyVG9DYXJ0ZXNpYW4oXG4gICAgY2VudGVyWCxcbiAgICBjZW50ZXJZLFxuICAgIHJhZGl1cyxcbiAgICBhbmdsZUluRGVncmVlc1xuICApIHtcbiAgICB2YXIgYW5nbGVJblJhZGlhbnMgPSAoKChhbmdsZUluRGVncmVlcyAlIDM2MCkgLSA5MCkgKiBNYXRoLlBJKSAvIDE4MC4wO1xuICAgIHJldHVybiB7XG4gICAgICB4OiBjZW50ZXJYICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpLFxuICAgICAgeTogY2VudGVyWSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlSW5SYWRpYW5zKVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGRlc2NyaWJlQXJjID0gZnVuY3Rpb24gZGVzY3JpYmVBcmMoXG4gICAgeCxcbiAgICB5LFxuICAgIHJhZGl1cyxcbiAgICBzdGFydEFuZ2xlLFxuICAgIGVuZEFuZ2xlLFxuICAgIGFyY1N3ZWVwXG4gICkge1xuICAgIHZhciBzdGFydCA9IHBvbGFyVG9DYXJ0ZXNpYW4oeCwgeSwgcmFkaXVzLCBlbmRBbmdsZSk7XG4gICAgdmFyIGVuZCA9IHBvbGFyVG9DYXJ0ZXNpYW4oeCwgeSwgcmFkaXVzLCBzdGFydEFuZ2xlKTtcbiAgICByZXR1cm4gW1xuICAgICAgJ00nLFxuICAgICAgc3RhcnQueCxcbiAgICAgIHN0YXJ0LnksXG4gICAgICAnQScsXG4gICAgICByYWRpdXMsXG4gICAgICByYWRpdXMsXG4gICAgICAwLFxuICAgICAgYXJjU3dlZXAsXG4gICAgICAwLFxuICAgICAgZW5kLngsXG4gICAgICBlbmQueVxuICAgIF0uam9pbignICcpO1xuICB9O1xuXG4gIHZhciBwZXJjZW50YWdlQXJjID0gZnVuY3Rpb24gcGVyY2VudGFnZUFyYyh4LCB5LCByYWRpdXMsIGZyb20sIHRvKSB7XG4gICAgdmFyIGFyY1N3ZWVwID0gMTtcbiAgICBpZiAodG8gPiBmcm9tICYmIHRvIC0gZnJvbSA8PSAwLjUpIHtcbiAgICAgIGFyY1N3ZWVwID0gMDtcbiAgICB9XG4gICAgaWYgKGZyb20gPiB0byAmJiBmcm9tIC0gdG8gPj0gMC41KSB7XG4gICAgICBhcmNTd2VlcCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBkZXNjcmliZUFyYyhcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgcmFkaXVzLFxuICAgICAgTWF0aC5taW4oMC45OTk5LCBmcm9tKSAqIDM2MCxcbiAgICAgIE1hdGgubWluKDAuOTk5OSwgdG8pICogMzYwLFxuICAgICAgYXJjU3dlZXBcbiAgICApO1xuICB9O1xuXG4gIHZhciBjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgIC8vIHN0YXJ0IGF0IDBcbiAgICBwcm9wcy5zcGluID0gZmFsc2U7XG4gICAgcHJvcHMucHJvZ3Jlc3MgPSAwO1xuICAgIHByb3BzLm9wYWNpdHkgPSAwO1xuXG4gICAgLy8gc3ZnXG4gICAgdmFyIHN2ZyA9IGNyZWF0ZUVsZW1lbnQoJ3N2ZycpO1xuICAgIHJvb3QucmVmLnBhdGggPSBjcmVhdGVFbGVtZW50KCdwYXRoJywge1xuICAgICAgJ3N0cm9rZS13aWR0aCc6IDIsXG4gICAgICAnc3Ryb2tlLWxpbmVjYXAnOiAncm91bmQnXG4gICAgfSk7XG5cbiAgICBzdmcuYXBwZW5kQ2hpbGQocm9vdC5yZWYucGF0aCk7XG5cbiAgICByb290LnJlZi5zdmcgPSBzdmc7XG5cbiAgICByb290LmFwcGVuZENoaWxkKHN2Zyk7XG4gIH07XG5cbiAgdmFyIHdyaXRlID0gZnVuY3Rpb24gd3JpdGUoX3JlZjIpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYyLnByb3BzO1xuXG4gICAgaWYgKHByb3BzLm9wYWNpdHkgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuYWxpZ24pIHtcbiAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmFsaWduID0gcHJvcHMuYWxpZ247XG4gICAgfVxuXG4gICAgLy8gZ2V0IHdpZHRoIG9mIHN0cm9rZVxuICAgIHZhciByaW5nU3Ryb2tlV2lkdGggPSBwYXJzZUludChhdHRyKHJvb3QucmVmLnBhdGgsICdzdHJva2Utd2lkdGgnKSwgMTApO1xuXG4gICAgLy8gY2FsY3VsYXRlIHNpemUgb2YgcmluZ1xuICAgIHZhciBzaXplID0gcm9vdC5yZWN0LmVsZW1lbnQud2lkdGggKiAwLjU7XG5cbiAgICAvLyByaW5nIHN0YXRlXG4gICAgdmFyIHJpbmdGcm9tID0gMDtcbiAgICB2YXIgcmluZ1RvID0gMDtcblxuICAgIC8vIG5vdyBpbiBidXN5IG1vZGVcbiAgICBpZiAocHJvcHMuc3Bpbikge1xuICAgICAgcmluZ0Zyb20gPSAwO1xuICAgICAgcmluZ1RvID0gMC41O1xuICAgIH0gZWxzZSB7XG4gICAgICByaW5nRnJvbSA9IDA7XG4gICAgICByaW5nVG8gPSBwcm9wcy5wcm9ncmVzcztcbiAgICB9XG5cbiAgICAvLyBnZXQgYXJjIHBhdGhcbiAgICB2YXIgY29vcmRpbmF0ZXMgPSBwZXJjZW50YWdlQXJjKFxuICAgICAgc2l6ZSxcbiAgICAgIHNpemUsXG4gICAgICBzaXplIC0gcmluZ1N0cm9rZVdpZHRoLFxuICAgICAgcmluZ0Zyb20sXG4gICAgICByaW5nVG9cbiAgICApO1xuXG4gICAgLy8gdXBkYXRlIHByb2dyZXNzIGJhclxuICAgIGF0dHIocm9vdC5yZWYucGF0aCwgJ2QnLCBjb29yZGluYXRlcyk7XG5cbiAgICAvLyBoaWRlIHdoaWxlIGNvbnRhaW5zIDAgdmFsdWVcbiAgICBhdHRyKFxuICAgICAgcm9vdC5yZWYucGF0aCxcbiAgICAgICdzdHJva2Utb3BhY2l0eScsXG4gICAgICBwcm9wcy5zcGluIHx8IHByb3BzLnByb2dyZXNzID4gMCA/IDEgOiAwXG4gICAgKTtcbiAgfTtcblxuICB2YXIgcHJvZ3Jlc3NJbmRpY2F0b3IgPSBjcmVhdGVWaWV3KHtcbiAgICB0YWc6ICdkaXYnLFxuICAgIG5hbWU6ICdwcm9ncmVzcy1pbmRpY2F0b3InLFxuICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBjcmVhdGU6IGNyZWF0ZSxcbiAgICB3cml0ZTogd3JpdGUsXG4gICAgbWl4aW5zOiB7XG4gICAgICBhcGlzOiBbJ3Byb2dyZXNzJywgJ3NwaW4nLCAnYWxpZ24nXSxcbiAgICAgIHN0eWxlczogWydvcGFjaXR5J10sXG4gICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDUwMCB9LFxuICAgICAgICBwcm9ncmVzczoge1xuICAgICAgICAgIHR5cGU6ICdzcHJpbmcnLFxuICAgICAgICAgIHN0aWZmbmVzczogMC45NSxcbiAgICAgICAgICBkYW1waW5nOiAwLjY1LFxuICAgICAgICAgIG1hc3M6IDEwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZhciBjcmVhdGUkMSA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG4gICAgcm9vdC5lbGVtZW50LmlubmVySFRNTCA9XG4gICAgICAocHJvcHMuaWNvbiB8fCAnJykgKyAoJzxzcGFuPicgKyBwcm9wcy5sYWJlbCArICc8L3NwYW4+Jyk7XG5cbiAgICBwcm9wcy5pc0Rpc2FibGVkID0gZmFsc2U7XG4gIH07XG5cbiAgdmFyIHdyaXRlJDEgPSBmdW5jdGlvbiB3cml0ZShfcmVmMikge1xuICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZjIucHJvcHM7XG4gICAgdmFyIGlzRGlzYWJsZWQgPSBwcm9wcy5pc0Rpc2FibGVkO1xuICAgIHZhciBzaG91bGREaXNhYmxlID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJykgfHwgcHJvcHMub3BhY2l0eSA9PT0gMDtcblxuICAgIGlmIChzaG91bGREaXNhYmxlICYmICFpc0Rpc2FibGVkKSB7XG4gICAgICBwcm9wcy5pc0Rpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGF0dHIocm9vdC5lbGVtZW50LCAnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICB9IGVsc2UgaWYgKCFzaG91bGREaXNhYmxlICYmIGlzRGlzYWJsZWQpIHtcbiAgICAgIHByb3BzLmlzRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBmaWxlQWN0aW9uQnV0dG9uID0gY3JlYXRlVmlldyh7XG4gICAgdGFnOiAnYnV0dG9uJyxcbiAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICB0eXBlOiAnYnV0dG9uJ1xuICAgIH0sXG5cbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgbmFtZTogJ2ZpbGUtYWN0aW9uLWJ1dHRvbicsXG4gICAgbWl4aW5zOiB7XG4gICAgICBhcGlzOiBbJ2xhYmVsJ10sXG4gICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnb3BhY2l0eSddLFxuICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICBzY2FsZVg6ICdzcHJpbmcnLFxuICAgICAgICBzY2FsZVk6ICdzcHJpbmcnLFxuICAgICAgICB0cmFuc2xhdGVYOiAnc3ByaW5nJyxcbiAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZycsXG4gICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDI1MCB9XG4gICAgICB9LFxuXG4gICAgICBsaXN0ZW5lcnM6IHRydWVcbiAgICB9LFxuXG4gICAgY3JlYXRlOiBjcmVhdGUkMSxcbiAgICB3cml0ZTogd3JpdGUkMVxuICB9KTtcblxuICB2YXIgdG9OYXR1cmFsRmlsZVNpemUgPSBmdW5jdGlvbiB0b05hdHVyYWxGaWxlU2l6ZShieXRlcykge1xuICAgIHZhciBkZWNpbWFsU2VwYXJhdG9yID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJy4nO1xuICAgIC8vIG5vcGUsIG5vIG5lZ2F0aXZlIGJ5dGUgc2l6ZXNcbiAgICBieXRlcyA9IE1hdGgucm91bmQoTWF0aC5hYnMoYnl0ZXMpKTtcblxuICAgIC8vIGp1c3QgYnl0ZXNcbiAgICBpZiAoYnl0ZXMgPCAxMDAwKSB7XG4gICAgICByZXR1cm4gYnl0ZXMgKyAnIGJ5dGVzJztcbiAgICB9XG5cbiAgICAvLyBraWxvYnl0ZXNcbiAgICBpZiAoYnl0ZXMgPCBNQikge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoYnl0ZXMgLyBLQikgKyAnIEtCJztcbiAgICB9XG5cbiAgICAvLyBtZWdhYnl0ZXNcbiAgICBpZiAoYnl0ZXMgPCBHQikge1xuICAgICAgcmV0dXJuIHJlbW92ZURlY2ltYWxzV2hlblplcm8oYnl0ZXMgLyBNQiwgMSwgZGVjaW1hbFNlcGFyYXRvcikgKyAnIE1CJztcbiAgICB9XG5cbiAgICAvLyBnaWdhYnl0ZXNcbiAgICByZXR1cm4gcmVtb3ZlRGVjaW1hbHNXaGVuWmVybyhieXRlcyAvIEdCLCAyLCBkZWNpbWFsU2VwYXJhdG9yKSArICcgR0InO1xuICB9O1xuXG4gIHZhciBLQiA9IDEwMDA7XG4gIHZhciBNQiA9IDEwMDAwMDA7XG4gIHZhciBHQiA9IDEwMDAwMDAwMDA7XG5cbiAgdmFyIHJlbW92ZURlY2ltYWxzV2hlblplcm8gPSBmdW5jdGlvbiByZW1vdmVEZWNpbWFsc1doZW5aZXJvKFxuICAgIHZhbHVlLFxuICAgIGRlY2ltYWxDb3VudCxcbiAgICBzZXBhcmF0b3JcbiAgKSB7XG4gICAgcmV0dXJuIHZhbHVlXG4gICAgICAudG9GaXhlZChkZWNpbWFsQ291bnQpXG4gICAgICAuc3BsaXQoJy4nKVxuICAgICAgLmZpbHRlcihmdW5jdGlvbihwYXJ0KSB7XG4gICAgICAgIHJldHVybiBwYXJ0ICE9PSAnMCc7XG4gICAgICB9KVxuICAgICAgLmpvaW4oc2VwYXJhdG9yKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlJDIgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgIC8vIGZpbGVuYW1lXG4gICAgdmFyIGZpbGVOYW1lID0gY3JlYXRlRWxlbWVudCQxKCdzcGFuJyk7XG4gICAgZmlsZU5hbWUuY2xhc3NOYW1lID0gJ2ZpbGVwb25kLS1maWxlLWluZm8tbWFpbic7XG4gICAgLy8gaGlkZSBmb3Igc2NyZWVucmVhZGVyc1xuICAgIC8vIHRoZSBmaWxlIGlzIGNvbnRhaW5lZCBpbiBhIGZpZWxkc2V0IHdpdGggbGVnZW5kIHRoYXQgY29udGFpbnMgdGhlIGZpbGVuYW1lXG4gICAgLy8gbm8gbmVlZCB0byByZWFkIGl0IHR3aWNlXG4gICAgYXR0cihmaWxlTmFtZSwgJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICByb290LmFwcGVuZENoaWxkKGZpbGVOYW1lKTtcbiAgICByb290LnJlZi5maWxlTmFtZSA9IGZpbGVOYW1lO1xuXG4gICAgLy8gZmlsZXNpemVcbiAgICB2YXIgZmlsZVNpemUgPSBjcmVhdGVFbGVtZW50JDEoJ3NwYW4nKTtcbiAgICBmaWxlU2l6ZS5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLWZpbGUtaW5mby1zdWInO1xuICAgIHJvb3QuYXBwZW5kQ2hpbGQoZmlsZVNpemUpO1xuICAgIHJvb3QucmVmLmZpbGVTaXplID0gZmlsZVNpemU7XG5cbiAgICAvLyBzZXQgaW5pdGlhbCB2YWx1ZXNcbiAgICB0ZXh0KGZpbGVTaXplLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9XQUlUSU5HX0ZPUl9TSVpFJykpO1xuICAgIHRleHQoZmlsZU5hbWUsIGZvcm1hdEZpbGVuYW1lKHJvb3QucXVlcnkoJ0dFVF9JVEVNX05BTUUnLCBwcm9wcy5pZCkpKTtcbiAgfTtcblxuICB2YXIgdXBkYXRlRmlsZSA9IGZ1bmN0aW9uIHVwZGF0ZUZpbGUoX3JlZjIpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYyLnByb3BzO1xuICAgIHRleHQoXG4gICAgICByb290LnJlZi5maWxlU2l6ZSxcbiAgICAgIHRvTmF0dXJhbEZpbGVTaXplKHJvb3QucXVlcnkoJ0dFVF9JVEVNX1NJWkUnLCBwcm9wcy5pZCkpXG4gICAgKTtcblxuICAgIHRleHQoXG4gICAgICByb290LnJlZi5maWxlTmFtZSxcbiAgICAgIGZvcm1hdEZpbGVuYW1lKHJvb3QucXVlcnkoJ0dFVF9JVEVNX05BTUUnLCBwcm9wcy5pZCkpXG4gICAgKTtcbiAgfTtcblxuICB2YXIgdXBkYXRlRmlsZVNpemVPbkVycm9yID0gZnVuY3Rpb24gdXBkYXRlRmlsZVNpemVPbkVycm9yKF9yZWYzKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgcHJvcHMgPSBfcmVmMy5wcm9wcztcbiAgICAvLyBpZiBzaXplIGlzIGF2YWlsYWJsZSBkb24ndCBmYWxsYmFjayB0byB1bmtub3duIHNpemUgbWVzc2FnZVxuICAgIGlmIChpc0ludChyb290LnF1ZXJ5KCdHRVRfSVRFTV9TSVpFJywgcHJvcHMuaWQpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRleHQocm9vdC5yZWYuZmlsZVNpemUsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1NJWkVfTk9UX0FWQUlMQUJMRScpKTtcbiAgfTtcblxuICB2YXIgZmlsZUluZm8gPSBjcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnZmlsZS1pbmZvJyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgIERJRF9MT0FEX0lURU06IHVwZGF0ZUZpbGUsXG4gICAgICBESURfVVBEQVRFX0lURU1fTUVUQTogdXBkYXRlRmlsZSxcbiAgICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IHVwZGF0ZUZpbGVTaXplT25FcnJvcixcbiAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IHVwZGF0ZUZpbGVTaXplT25FcnJvclxuICAgIH0pLFxuXG4gICAgZGlkQ3JlYXRlVmlldzogZnVuY3Rpb24gZGlkQ3JlYXRlVmlldyhyb290KSB7XG4gICAgICBhcHBseUZpbHRlcnMoJ0NSRUFURV9WSUVXJywgT2JqZWN0LmFzc2lnbih7fSwgcm9vdCwgeyB2aWV3OiByb290IH0pKTtcbiAgICB9LFxuICAgIGNyZWF0ZTogY3JlYXRlJDIsXG4gICAgbWl4aW5zOiB7XG4gICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJ10sXG4gICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgIHRyYW5zbGF0ZVg6ICdzcHJpbmcnLFxuICAgICAgICB0cmFuc2xhdGVZOiAnc3ByaW5nJ1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdmFyIHRvUGVyY2VudGFnZSA9IGZ1bmN0aW9uIHRvUGVyY2VudGFnZSh2YWx1ZSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogMTAwKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlJDMgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgIHZhciByb290ID0gX3JlZi5yb290O1xuXG4gICAgLy8gbWFpbiBzdGF0dXNcbiAgICB2YXIgbWFpbiA9IGNyZWF0ZUVsZW1lbnQkMSgnc3BhbicpO1xuICAgIG1haW4uY2xhc3NOYW1lID0gJ2ZpbGVwb25kLS1maWxlLXN0YXR1cy1tYWluJztcbiAgICByb290LmFwcGVuZENoaWxkKG1haW4pO1xuICAgIHJvb3QucmVmLm1haW4gPSBtYWluO1xuXG4gICAgLy8gc3ViIHN0YXR1c1xuICAgIHZhciBzdWIgPSBjcmVhdGVFbGVtZW50JDEoJ3NwYW4nKTtcbiAgICBzdWIuY2xhc3NOYW1lID0gJ2ZpbGVwb25kLS1maWxlLXN0YXR1cy1zdWInO1xuICAgIHJvb3QuYXBwZW5kQ2hpbGQoc3ViKTtcbiAgICByb290LnJlZi5zdWIgPSBzdWI7XG5cbiAgICBkaWRTZXRJdGVtTG9hZFByb2dyZXNzKHsgcm9vdDogcm9vdCwgYWN0aW9uOiB7IHByb2dyZXNzOiBudWxsIH0gfSk7XG4gIH07XG5cbiAgdmFyIGRpZFNldEl0ZW1Mb2FkUHJvZ3Jlc3MgPSBmdW5jdGlvbiBkaWRTZXRJdGVtTG9hZFByb2dyZXNzKF9yZWYyKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgYWN0aW9uID0gX3JlZjIuYWN0aW9uO1xuICAgIHZhciB0aXRsZSA9XG4gICAgICBhY3Rpb24ucHJvZ3Jlc3MgPT09IG51bGxcbiAgICAgICAgPyByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9MT0FESU5HJylcbiAgICAgICAgOiByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9MT0FESU5HJykgK1xuICAgICAgICAgICcgJyArXG4gICAgICAgICAgdG9QZXJjZW50YWdlKGFjdGlvbi5wcm9ncmVzcykgK1xuICAgICAgICAgICclJztcblxuICAgIHRleHQocm9vdC5yZWYubWFpbiwgdGl0bGUpO1xuICAgIHRleHQocm9vdC5yZWYuc3ViLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfVEFQX1RPX0NBTkNFTCcpKTtcbiAgfTtcblxuICB2YXIgZGlkU2V0SXRlbVByb2Nlc3NQcm9ncmVzcyA9IGZ1bmN0aW9uIGRpZFNldEl0ZW1Qcm9jZXNzUHJvZ3Jlc3MoX3JlZjMpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmMy5hY3Rpb247XG4gICAgdmFyIHRpdGxlID1cbiAgICAgIGFjdGlvbi5wcm9ncmVzcyA9PT0gbnVsbFxuICAgICAgICA/IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkcnKVxuICAgICAgICA6IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkcnKSArXG4gICAgICAgICAgJyAnICtcbiAgICAgICAgICB0b1BlcmNlbnRhZ2UoYWN0aW9uLnByb2dyZXNzKSArXG4gICAgICAgICAgJyUnO1xuXG4gICAgdGV4dChyb290LnJlZi5tYWluLCB0aXRsZSk7XG4gICAgdGV4dChyb290LnJlZi5zdWIsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9UQVBfVE9fQ0FOQ0VMJykpO1xuICB9O1xuXG4gIHZhciBkaWRSZXF1ZXN0SXRlbVByb2Nlc3NpbmcgPSBmdW5jdGlvbiBkaWRSZXF1ZXN0SXRlbVByb2Nlc3NpbmcoX3JlZjQpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY0LnJvb3Q7XG4gICAgdGV4dChyb290LnJlZi5tYWluLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9QUk9DRVNTSU5HJykpO1xuICAgIHRleHQocm9vdC5yZWYuc3ViLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfVEFQX1RPX0NBTkNFTCcpKTtcbiAgfTtcblxuICB2YXIgZGlkQWJvcnRJdGVtUHJvY2Vzc2luZyA9IGZ1bmN0aW9uIGRpZEFib3J0SXRlbVByb2Nlc3NpbmcoX3JlZjUpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY1LnJvb3Q7XG4gICAgdGV4dChyb290LnJlZi5tYWluLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9QUk9DRVNTSU5HX0FCT1JURUQnKSk7XG4gICAgdGV4dChyb290LnJlZi5zdWIsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9UQVBfVE9fUkVUUlknKSk7XG4gIH07XG5cbiAgdmFyIGRpZENvbXBsZXRlSXRlbVByb2Nlc3NpbmcgPSBmdW5jdGlvbiBkaWRDb21wbGV0ZUl0ZW1Qcm9jZXNzaW5nKF9yZWY2KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmNi5yb290O1xuICAgIHRleHQocm9vdC5yZWYubWFpbiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lOR19DT01QTEVURScpKTtcbiAgICB0ZXh0KHJvb3QucmVmLnN1Yiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX1RBUF9UT19VTkRPJykpO1xuICB9O1xuXG4gIHZhciBjbGVhciA9IGZ1bmN0aW9uIGNsZWFyKF9yZWY3KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmNy5yb290O1xuICAgIHRleHQocm9vdC5yZWYubWFpbiwgJycpO1xuICAgIHRleHQocm9vdC5yZWYuc3ViLCAnJyk7XG4gIH07XG5cbiAgdmFyIGVycm9yID0gZnVuY3Rpb24gZXJyb3IoX3JlZjgpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY4LnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmOC5hY3Rpb247XG4gICAgdGV4dChyb290LnJlZi5tYWluLCBhY3Rpb24uc3RhdHVzLm1haW4pO1xuICAgIHRleHQocm9vdC5yZWYuc3ViLCBhY3Rpb24uc3RhdHVzLnN1Yik7XG4gIH07XG5cbiAgdmFyIGZpbGVTdGF0dXMgPSBjcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnZmlsZS1zdGF0dXMnLFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICB3cml0ZTogY3JlYXRlUm91dGUoe1xuICAgICAgRElEX0xPQURfSVRFTTogY2xlYXIsXG4gICAgICBESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogY2xlYXIsXG4gICAgICBESURfUkVRVUVTVF9JVEVNX1BST0NFU1NJTkc6IGRpZFJlcXVlc3RJdGVtUHJvY2Vzc2luZyxcbiAgICAgIERJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkc6IGRpZEFib3J0SXRlbVByb2Nlc3NpbmcsXG4gICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiBkaWRDb21wbGV0ZUl0ZW1Qcm9jZXNzaW5nLFxuICAgICAgRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1M6IGRpZFNldEl0ZW1Qcm9jZXNzUHJvZ3Jlc3MsXG4gICAgICBESURfVVBEQVRFX0lURU1fTE9BRF9QUk9HUkVTUzogZGlkU2V0SXRlbUxvYWRQcm9ncmVzcyxcbiAgICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IGVycm9yLFxuICAgICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDogZXJyb3IsXG4gICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiBlcnJvcixcbiAgICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfUkVWRVJUX0VSUk9SOiBlcnJvcixcbiAgICAgIERJRF9USFJPV19JVEVNX1JFTU9WRV9FUlJPUjogZXJyb3JcbiAgICB9KSxcblxuICAgIGRpZENyZWF0ZVZpZXc6IGZ1bmN0aW9uIGRpZENyZWF0ZVZpZXcocm9vdCkge1xuICAgICAgYXBwbHlGaWx0ZXJzKCdDUkVBVEVfVklFVycsIE9iamVjdC5hc3NpZ24oe30sIHJvb3QsIHsgdmlldzogcm9vdCB9KSk7XG4gICAgfSxcbiAgICBjcmVhdGU6IGNyZWF0ZSQzLFxuICAgIG1peGluczoge1xuICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICdvcGFjaXR5J10sXG4gICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDI1MCB9LFxuICAgICAgICB0cmFuc2xhdGVYOiAnc3ByaW5nJyxcbiAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZydcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBCdXR0b24gZGVmaW5pdGlvbnMgZm9yIHRoZSBmaWxlIHZpZXdcbiAgICovXG5cbiAgdmFyIEJ1dHRvbnMgPSB7XG4gICAgQWJvcnRJdGVtTG9hZDoge1xuICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fTE9BRCcsXG4gICAgICBhY3Rpb246ICdBQk9SVF9JVEVNX0xPQUQnLFxuICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1hYm9ydC1pdGVtLWxvYWQnLFxuICAgICAgYWxpZ246ICdMT0FEX0lORElDQVRPUl9QT1NJVElPTicgLy8gcmlnaHRcbiAgICB9LFxuICAgIFJldHJ5SXRlbUxvYWQ6IHtcbiAgICAgIGxhYmVsOiAnR0VUX0xBQkVMX0JVVFRPTl9SRVRSWV9JVEVNX0xPQUQnLFxuICAgICAgYWN0aW9uOiAnUkVUUllfSVRFTV9MT0FEJyxcbiAgICAgIGljb246ICdHRVRfSUNPTl9SRVRSWScsXG4gICAgICBjbGFzc05hbWU6ICdmaWxlcG9uZC0tYWN0aW9uLXJldHJ5LWl0ZW0tbG9hZCcsXG4gICAgICBhbGlnbjogJ0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nIC8vIHJpZ2h0XG4gICAgfSxcbiAgICBSZW1vdmVJdGVtOiB7XG4gICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fUkVNT1ZFX0lURU0nLFxuICAgICAgYWN0aW9uOiAnUkVRVUVTVF9SRU1PVkVfSVRFTScsXG4gICAgICBpY29uOiAnR0VUX0lDT05fUkVNT1ZFJyxcbiAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tcmVtb3ZlLWl0ZW0nLFxuICAgICAgYWxpZ246ICdCVVRUT05fUkVNT1ZFX0lURU1fUE9TSVRJT04nIC8vIGxlZnRcbiAgICB9LFxuICAgIFByb2Nlc3NJdGVtOiB7XG4gICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fUFJPQ0VTU19JVEVNJyxcbiAgICAgIGFjdGlvbjogJ1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgIGljb246ICdHRVRfSUNPTl9QUk9DRVNTJyxcbiAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tcHJvY2Vzcy1pdGVtJyxcbiAgICAgIGFsaWduOiAnQlVUVE9OX1BST0NFU1NfSVRFTV9QT1NJVElPTicgLy8gcmlnaHRcbiAgICB9LFxuICAgIEFib3J0SXRlbVByb2Nlc3Npbmc6IHtcbiAgICAgIGxhYmVsOiAnR0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgYWN0aW9uOiAnQUJPUlRfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tYWJvcnQtaXRlbS1wcm9jZXNzaW5nJyxcbiAgICAgIGFsaWduOiAnQlVUVE9OX1BST0NFU1NfSVRFTV9QT1NJVElPTicgLy8gcmlnaHRcbiAgICB9LFxuICAgIFJldHJ5SXRlbVByb2Nlc3Npbmc6IHtcbiAgICAgIGxhYmVsOiAnR0VUX0xBQkVMX0JVVFRPTl9SRVRSWV9JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgYWN0aW9uOiAnUkVUUllfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgIGljb246ICdHRVRfSUNPTl9SRVRSWScsXG4gICAgICBjbGFzc05hbWU6ICdmaWxlcG9uZC0tYWN0aW9uLXJldHJ5LWl0ZW0tcHJvY2Vzc2luZycsXG4gICAgICBhbGlnbjogJ0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nIC8vIHJpZ2h0XG4gICAgfSxcbiAgICBSZXZlcnRJdGVtUHJvY2Vzc2luZzoge1xuICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX1VORE9fSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgIGFjdGlvbjogJ1JFUVVFU1RfUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICBpY29uOiAnR0VUX0lDT05fVU5ETycsXG4gICAgICBjbGFzc05hbWU6ICdmaWxlcG9uZC0tYWN0aW9uLXJldmVydC1pdGVtLXByb2Nlc3NpbmcnLFxuICAgICAgYWxpZ246ICdCVVRUT05fUFJPQ0VTU19JVEVNX1BPU0lUSU9OJyAvLyByaWdodFxuICAgIH1cbiAgfTtcblxuICAvLyBtYWtlIGEgbGlzdCBvZiBidXR0b25zLCB3ZSBjYW4gdGhlbiByZW1vdmUgYnV0dG9ucyBmcm9tIHRoaXMgbGlzdCBpZiB0aGV5J3JlIGRpc2FibGVkXG4gIHZhciBCdXR0b25LZXlzID0gW107XG4gIGZvcmluKEJ1dHRvbnMsIGZ1bmN0aW9uKGtleSkge1xuICAgIEJ1dHRvbktleXMucHVzaChrZXkpO1xuICB9KTtcblxuICB2YXIgY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgPSBmdW5jdGlvbiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldChyb290KSB7XG4gICAgdmFyIGJ1dHRvblJlY3QgPSByb290LnJlZi5idXR0b25SZW1vdmVJdGVtLnJlY3QuZWxlbWVudDtcbiAgICByZXR1cm4gYnV0dG9uUmVjdC5oaWRkZW4gPyBudWxsIDogYnV0dG9uUmVjdC53aWR0aCArIGJ1dHRvblJlY3QubGVmdDtcbiAgfTtcblxuICB2YXIgY2FsY3VsYXRlQnV0dG9uV2lkdGggPSBmdW5jdGlvbiBjYWxjdWxhdGVCdXR0b25XaWR0aChyb290KSB7XG4gICAgdmFyIGJ1dHRvblJlY3QgPSByb290LnJlZi5idXR0b25BYm9ydEl0ZW1Mb2FkLnJlY3QuZWxlbWVudDtcbiAgICByZXR1cm4gYnV0dG9uUmVjdC53aWR0aDtcbiAgfTtcblxuICAvLyBGb3JjZSBvbiBmdWxsIHBpeGVscyBzbyB0ZXh0IHN0YXlzIGNyaXBzXG4gIHZhciBjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQgPSBmdW5jdGlvbiBjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQoXG4gICAgcm9vdFxuICApIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihyb290LnJlZi5idXR0b25SZW1vdmVJdGVtLnJlY3QuZWxlbWVudC5oZWlnaHQgLyA0KTtcbiAgfTtcbiAgdmFyIGNhbGN1bGF0ZUZpbGVIb3Jpem9udGFsQ2VudGVyT2Zmc2V0ID0gZnVuY3Rpb24gY2FsY3VsYXRlRmlsZUhvcml6b250YWxDZW50ZXJPZmZzZXQoXG4gICAgcm9vdFxuICApIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihyb290LnJlZi5idXR0b25SZW1vdmVJdGVtLnJlY3QuZWxlbWVudC5sZWZ0IC8gMik7XG4gIH07XG5cbiAgdmFyIGdldExvYWRJbmRpY2F0b3JBbGlnbm1lbnQgPSBmdW5jdGlvbiBnZXRMb2FkSW5kaWNhdG9yQWxpZ25tZW50KHJvb3QpIHtcbiAgICByZXR1cm4gcm9vdC5xdWVyeSgnR0VUX1NUWUxFX0xPQURfSU5ESUNBVE9SX1BPU0lUSU9OJyk7XG4gIH07XG4gIHZhciBnZXRQcm9jZXNzSW5kaWNhdG9yQWxpZ25tZW50ID0gZnVuY3Rpb24gZ2V0UHJvY2Vzc0luZGljYXRvckFsaWdubWVudChcbiAgICByb290XG4gICkge1xuICAgIHJldHVybiByb290LnF1ZXJ5KCdHRVRfU1RZTEVfUFJPR1JFU1NfSU5ESUNBVE9SX1BPU0lUSU9OJyk7XG4gIH07XG4gIHZhciBnZXRSZW1vdmVJbmRpY2F0b3JBbGlnbWVudCA9IGZ1bmN0aW9uIGdldFJlbW92ZUluZGljYXRvckFsaWdtZW50KHJvb3QpIHtcbiAgICByZXR1cm4gcm9vdC5xdWVyeSgnR0VUX1NUWUxFX0JVVFRPTl9SRU1PVkVfSVRFTV9QT1NJVElPTicpO1xuICB9O1xuXG4gIHZhciBEZWZhdWx0U3R5bGUgPSB7XG4gICAgYnV0dG9uQWJvcnRJdGVtTG9hZDogeyBvcGFjaXR5OiAwIH0sXG4gICAgYnV0dG9uUmV0cnlJdGVtTG9hZDogeyBvcGFjaXR5OiAwIH0sXG4gICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAwIH0sXG4gICAgYnV0dG9uUHJvY2Vzc0l0ZW06IHsgb3BhY2l0eTogMCB9LFxuICAgIGJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6IHsgb3BhY2l0eTogMCB9LFxuICAgIGJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6IHsgb3BhY2l0eTogMCB9LFxuICAgIGJ1dHRvblJldmVydEl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDAgfSxcbiAgICBsb2FkUHJvZ3Jlc3NJbmRpY2F0b3I6IHsgb3BhY2l0eTogMCwgYWxpZ246IGdldExvYWRJbmRpY2F0b3JBbGlnbm1lbnQgfSxcbiAgICBwcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3I6IHtcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBhbGlnbjogZ2V0UHJvY2Vzc0luZGljYXRvckFsaWdubWVudFxuICAgIH0sXG4gICAgcHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yOiB7IG9wYWNpdHk6IDAsIHNjYWxlWDogMC43NSwgc2NhbGVZOiAwLjc1IH0sXG4gICAgaW5mbzogeyB0cmFuc2xhdGVYOiAwLCB0cmFuc2xhdGVZOiAwLCBvcGFjaXR5OiAwIH0sXG4gICAgc3RhdHVzOiB7IHRyYW5zbGF0ZVg6IDAsIHRyYW5zbGF0ZVk6IDAsIG9wYWNpdHk6IDAgfVxuICB9O1xuXG4gIHZhciBJZGxlU3R5bGUgPSB7XG4gICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgYnV0dG9uUHJvY2Vzc0l0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICBzdGF0dXM6IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfVxuICB9O1xuXG4gIHZhciBQcm9jZXNzaW5nU3R5bGUgPSB7XG4gICAgYnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAxIH0sXG4gICAgcHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yOiB7IG9wYWNpdHk6IDEgfSxcbiAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9XG4gIH07XG5cbiAgdmFyIFN0eWxlTWFwID0ge1xuICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IHtcbiAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgc3RhdHVzOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0LCBvcGFjaXR5OiAxIH1cbiAgICB9LFxuXG4gICAgRElEX1NUQVJUX0lURU1fTE9BRDoge1xuICAgICAgYnV0dG9uQWJvcnRJdGVtTG9hZDogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBsb2FkUHJvZ3Jlc3NJbmRpY2F0b3I6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfVxuICAgIH0sXG5cbiAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiB7XG4gICAgICBidXR0b25SZXRyeUl0ZW1Mb2FkOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfVxuICAgIH0sXG5cbiAgICBESURfU1RBUlRfSVRFTV9SRU1PVkU6IHtcbiAgICAgIHByb2Nlc3NQcm9ncmVzc0luZGljYXRvcjoge1xuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICBhbGlnbjogZ2V0UmVtb3ZlSW5kaWNhdG9yQWxpZ21lbnRcbiAgICAgIH0sXG4gICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMCB9XG4gICAgfSxcblxuICAgIERJRF9USFJPV19JVEVNX1JFTU9WRV9FUlJPUjoge1xuICAgICAgcHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIGFsaWduOiBnZXRSZW1vdmVJbmRpY2F0b3JBbGlnbWVudFxuICAgICAgfSxcbiAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEsIHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH1cbiAgICB9LFxuXG4gICAgRElEX0xPQURfSVRFTTogSWRsZVN0eWxlLFxuICAgIERJRF9MT0FEX0xPQ0FMX0lURU06IHtcbiAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgc3RhdHVzOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH1cbiAgICB9LFxuXG4gICAgRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORzogUHJvY2Vzc2luZ1N0eWxlLFxuICAgIERJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORzogUHJvY2Vzc2luZ1N0eWxlLFxuICAgIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTOiBQcm9jZXNzaW5nU3R5bGUsXG4gICAgRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORzoge1xuICAgICAgYnV0dG9uUmV2ZXJ0SXRlbVByb2Nlc3Npbmc6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgaW5mbzogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9XG4gICAgfSxcblxuICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1I6IHtcbiAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgYnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9XG4gICAgfSxcblxuICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfUkVWRVJUX0VSUk9SOiB7XG4gICAgICBidXR0b25SZXZlcnRJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgaW5mbzogeyBvcGFjaXR5OiAxIH1cbiAgICB9LFxuXG4gICAgRElEX0FCT1JUX0lURU1fUFJPQ0VTU0lORzoge1xuICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBidXR0b25Qcm9jZXNzSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9XG4gICAgfSxcblxuICAgIERJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiBJZGxlU3R5bGVcbiAgfTtcblxuICAvLyBjb21wbGV0ZSBpbmRpY2F0b3Igdmlld1xuICB2YXIgcHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yVmlldyA9IGNyZWF0ZVZpZXcoe1xuICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgIHZhciByb290ID0gX3JlZi5yb290O1xuICAgICAgcm9vdC5lbGVtZW50LmlubmVySFRNTCA9IHJvb3QucXVlcnkoJ0dFVF9JQ09OX0RPTkUnKTtcbiAgICB9LFxuICAgIG5hbWU6ICdwcm9jZXNzaW5nLWNvbXBsZXRlLWluZGljYXRvcicsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBtaXhpbnM6IHtcbiAgICAgIHN0eWxlczogWydzY2FsZVgnLCAnc2NhbGVZJywgJ29wYWNpdHknXSxcbiAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgc2NhbGVYOiAnc3ByaW5nJyxcbiAgICAgICAgc2NhbGVZOiAnc3ByaW5nJyxcbiAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogMjUwIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBmaWxlIHZpZXdcbiAgICovXG4gIHZhciBjcmVhdGUkNCA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmMikge1xuICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZjIucHJvcHM7XG4gICAgdmFyIGlkID0gcHJvcHMuaWQ7XG5cbiAgICAvLyBhbGxvdyByZXZlcnRpbmcgdXBsb2FkXG4gICAgdmFyIGFsbG93UmV2ZXJ0ID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1JFVkVSVCcpO1xuXG4gICAgLy8gYWxsb3cgcmVtb3ZlIGZpbGVcbiAgICB2YXIgYWxsb3dSZW1vdmUgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfUkVNT1ZFJyk7XG5cbiAgICAvLyBhbGxvdyBwcm9jZXNzaW5nIHVwbG9hZFxuICAgIHZhciBhbGxvd1Byb2Nlc3MgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfUFJPQ0VTUycpO1xuXG4gICAgLy8gaXMgaW5zdGFudCB1cGxvYWRpbmcsIG5lZWQgdGhpcyB0byBkZXRlcm1pbmUgdGhlIGljb24gb2YgdGhlIHVuZG8gYnV0dG9uXG4gICAgdmFyIGluc3RhbnRVcGxvYWQgPSByb290LnF1ZXJ5KCdHRVRfSU5TVEFOVF9VUExPQUQnKTtcblxuICAgIC8vIGlzIGFzeW5jIHNldCB1cFxuICAgIHZhciBpc0FzeW5jID0gcm9vdC5xdWVyeSgnSVNfQVNZTkMnKTtcblxuICAgIC8vIHNob3VsZCBhbGlnbiByZW1vdmUgaXRlbSBidXR0b25zXG4gICAgdmFyIGFsaWduUmVtb3ZlSXRlbUJ1dHRvbiA9IHJvb3QucXVlcnkoXG4gICAgICAnR0VUX1NUWUxFX0JVVFRPTl9SRU1PVkVfSVRFTV9BTElHTidcbiAgICApO1xuXG4gICAgLy8gZW5hYmxlZCBidXR0b25zIGFycmF5XG4gICAgdmFyIGJ1dHRvbkZpbHRlcjtcbiAgICBpZiAoaXNBc3luYykge1xuICAgICAgaWYgKGFsbG93UHJvY2VzcyAmJiAhYWxsb3dSZXZlcnQpIHtcbiAgICAgICAgLy8gb25seSByZW1vdmUgcmV2ZXJ0IGJ1dHRvblxuICAgICAgICBidXR0b25GaWx0ZXIgPSBmdW5jdGlvbiBidXR0b25GaWx0ZXIoa2V5KSB7XG4gICAgICAgICAgcmV0dXJuICEvUmV2ZXJ0SXRlbVByb2Nlc3NpbmcvLnRlc3Qoa2V5KTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoIWFsbG93UHJvY2VzcyAmJiBhbGxvd1JldmVydCkge1xuICAgICAgICAvLyBvbmx5IHJlbW92ZSBwcm9jZXNzIGJ1dHRvblxuICAgICAgICBidXR0b25GaWx0ZXIgPSBmdW5jdGlvbiBidXR0b25GaWx0ZXIoa2V5KSB7XG4gICAgICAgICAgcmV0dXJuICEvUHJvY2Vzc0l0ZW18UmV0cnlJdGVtUHJvY2Vzc2luZ3xBYm9ydEl0ZW1Qcm9jZXNzaW5nLy50ZXN0KFxuICAgICAgICAgICAga2V5XG4gICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoIWFsbG93UHJvY2VzcyAmJiAhYWxsb3dSZXZlcnQpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGFsbCBwcm9jZXNzIGJ1dHRvbnNcbiAgICAgICAgYnV0dG9uRmlsdGVyID0gZnVuY3Rpb24gYnV0dG9uRmlsdGVyKGtleSkge1xuICAgICAgICAgIHJldHVybiAhL1Byb2Nlc3MvLnRlc3Qoa2V5KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbm8gcHJvY2VzcyBjb250cm9scyBhdmFpbGFibGVcbiAgICAgIGJ1dHRvbkZpbHRlciA9IGZ1bmN0aW9uIGJ1dHRvbkZpbHRlcihrZXkpIHtcbiAgICAgICAgcmV0dXJuICEvUHJvY2Vzcy8udGVzdChrZXkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgZW5hYmxlZEJ1dHRvbnMgPSBidXR0b25GaWx0ZXJcbiAgICAgID8gQnV0dG9uS2V5cy5maWx0ZXIoYnV0dG9uRmlsdGVyKVxuICAgICAgOiBCdXR0b25LZXlzLmNvbmNhdCgpO1xuXG4gICAgLy8gdXBkYXRlIGljb24gYW5kIGxhYmVsIGZvciByZXZlcnQgYnV0dG9uIHdoZW4gaW5zdGFudCB1cGxvYWRpbmdcbiAgICBpZiAoaW5zdGFudFVwbG9hZCAmJiBhbGxvd1JldmVydCkge1xuICAgICAgQnV0dG9uc1snUmV2ZXJ0SXRlbVByb2Nlc3NpbmcnXS5sYWJlbCA9ICdHRVRfTEFCRUxfQlVUVE9OX1JFTU9WRV9JVEVNJztcbiAgICAgIEJ1dHRvbnNbJ1JldmVydEl0ZW1Qcm9jZXNzaW5nJ10uaWNvbiA9ICdHRVRfSUNPTl9SRU1PVkUnO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBsYXN0IGJ1dHRvbiAocmV2ZXJ0KSBpZiBub3QgYWxsb3dlZFxuICAgIGlmIChpc0FzeW5jICYmICFhbGxvd1JldmVydCkge1xuICAgICAgdmFyIG1hcCA9IFN0eWxlTWFwWydESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HJ107XG4gICAgICBtYXAuaW5mby50cmFuc2xhdGVYID0gY2FsY3VsYXRlRmlsZUhvcml6b250YWxDZW50ZXJPZmZzZXQ7XG4gICAgICBtYXAuaW5mby50cmFuc2xhdGVZID0gY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0O1xuICAgICAgbWFwLnN0YXR1cy50cmFuc2xhdGVZID0gY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0O1xuICAgICAgbWFwLnByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvciA9IHsgb3BhY2l0eTogMSwgc2NhbGVYOiAxLCBzY2FsZVk6IDEgfTtcbiAgICB9XG5cbiAgICAvLyBzaG91bGQgYWxpZ24gY2VudGVyXG4gICAgaWYgKGlzQXN5bmMgJiYgIWFsbG93UHJvY2Vzcykge1xuICAgICAgW1xuICAgICAgICAnRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgICdESURfUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgICAnRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1MnLFxuICAgICAgICAnRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUidcbiAgICAgIF0uZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgU3R5bGVNYXBba2V5XS5zdGF0dXMudHJhbnNsYXRlWSA9IGNhbGN1bGF0ZUZpbGVWZXJ0aWNhbENlbnRlck9mZnNldDtcbiAgICAgIH0pO1xuICAgICAgU3R5bGVNYXBbXG4gICAgICAgICdESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SJ1xuICAgICAgXS5zdGF0dXMudHJhbnNsYXRlWCA9IGNhbGN1bGF0ZUJ1dHRvbldpZHRoO1xuICAgIH1cblxuICAgIC8vIG1vdmUgcmVtb3ZlIGJ1dHRvbiB0byByaWdodFxuICAgIGlmIChhbGlnblJlbW92ZUl0ZW1CdXR0b24gJiYgYWxsb3dSZXZlcnQpIHtcbiAgICAgIEJ1dHRvbnNbJ1JldmVydEl0ZW1Qcm9jZXNzaW5nJ10uYWxpZ24gPSAnQlVUVE9OX1JFTU9WRV9JVEVNX1BPU0lUSU9OJztcbiAgICAgIHZhciBfbWFwID0gU3R5bGVNYXBbJ0RJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkcnXTtcbiAgICAgIF9tYXAuaW5mby50cmFuc2xhdGVYID0gY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQ7XG4gICAgICBfbWFwLnN0YXR1cy50cmFuc2xhdGVZID0gY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0O1xuICAgICAgX21hcC5wcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3IgPSB7IG9wYWNpdHk6IDEsIHNjYWxlWDogMSwgc2NhbGVZOiAxIH07XG4gICAgfVxuXG4gICAgaWYgKCFhbGxvd1JlbW92ZSkge1xuICAgICAgQnV0dG9uc1snUmVtb3ZlSXRlbSddLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgdGhlIGJ1dHRvbiB2aWV3c1xuICAgIGZvcmluKEJ1dHRvbnMsIGZ1bmN0aW9uKGtleSwgZGVmaW5pdGlvbikge1xuICAgICAgLy8gY3JlYXRlIGJ1dHRvblxuICAgICAgdmFyIGJ1dHRvblZpZXcgPSByb290LmNyZWF0ZUNoaWxkVmlldyhmaWxlQWN0aW9uQnV0dG9uLCB7XG4gICAgICAgIGxhYmVsOiByb290LnF1ZXJ5KGRlZmluaXRpb24ubGFiZWwpLFxuICAgICAgICBpY29uOiByb290LnF1ZXJ5KGRlZmluaXRpb24uaWNvbiksXG4gICAgICAgIG9wYWNpdHk6IDBcbiAgICAgIH0pO1xuXG4gICAgICAvLyBzaG91bGQgYmUgYXBwZW5kZWQ/XG4gICAgICBpZiAoZW5hYmxlZEJ1dHRvbnMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICByb290LmFwcGVuZENoaWxkVmlldyhidXR0b25WaWV3KTtcbiAgICAgIH1cblxuICAgICAgLy8gdG9nZ2xlXG4gICAgICBpZiAoZGVmaW5pdGlvbi5kaXNhYmxlZCkge1xuICAgICAgICBidXR0b25WaWV3LmVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICBidXR0b25WaWV3LmVsZW1lbnQuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnaGlkZGVuJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFkZCBwb3NpdGlvbiBhdHRyaWJ1dGVcbiAgICAgIGJ1dHRvblZpZXcuZWxlbWVudC5kYXRhc2V0LmFsaWduID0gcm9vdC5xdWVyeShcbiAgICAgICAgJ0dFVF9TVFlMRV8nICsgZGVmaW5pdGlvbi5hbGlnblxuICAgICAgKTtcblxuICAgICAgLy8gYWRkIGNsYXNzXG4gICAgICBidXR0b25WaWV3LmVsZW1lbnQuY2xhc3NMaXN0LmFkZChkZWZpbml0aW9uLmNsYXNzTmFtZSk7XG5cbiAgICAgIC8vIGhhbmRsZSBpbnRlcmFjdGlvbnNcbiAgICAgIGJ1dHRvblZpZXcub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAoZGVmaW5pdGlvbi5kaXNhYmxlZCkgcmV0dXJuO1xuICAgICAgICByb290LmRpc3BhdGNoKGRlZmluaXRpb24uYWN0aW9uLCB7IHF1ZXJ5OiBpZCB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBzZXQgcmVmZXJlbmNlXG4gICAgICByb290LnJlZlsnYnV0dG9uJyArIGtleV0gPSBidXR0b25WaWV3O1xuICAgIH0pO1xuXG4gICAgLy8gY2hlY2ttYXJrXG4gICAgcm9vdC5yZWYucHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhwcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3JWaWV3KVxuICAgICk7XG4gICAgcm9vdC5yZWYucHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yLmVsZW1lbnQuZGF0YXNldC5hbGlnbiA9IHJvb3QucXVlcnkoXG4gICAgICAnR0VUX1NUWUxFX0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nXG4gICAgKTtcblxuICAgIC8vIGNyZWF0ZSBmaWxlIGluZm8gdmlld1xuICAgIHJvb3QucmVmLmluZm8gPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGZpbGVJbmZvLCB7IGlkOiBpZCB9KVxuICAgICk7XG5cbiAgICAvLyBjcmVhdGUgZmlsZSBzdGF0dXMgdmlld1xuICAgIHJvb3QucmVmLnN0YXR1cyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoZmlsZVN0YXR1cywgeyBpZDogaWQgfSlcbiAgICApO1xuXG4gICAgLy8gYWRkIHByb2dyZXNzIGluZGljYXRvcnNcbiAgICB2YXIgbG9hZEluZGljYXRvclZpZXcgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHByb2dyZXNzSW5kaWNhdG9yLCB7XG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIGFsaWduOiByb290LnF1ZXJ5KCdHRVRfU1RZTEVfTE9BRF9JTkRJQ0FUT1JfUE9TSVRJT04nKVxuICAgICAgfSlcbiAgICApO1xuXG4gICAgbG9hZEluZGljYXRvclZpZXcuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmaWxlcG9uZC0tbG9hZC1pbmRpY2F0b3InKTtcbiAgICByb290LnJlZi5sb2FkUHJvZ3Jlc3NJbmRpY2F0b3IgPSBsb2FkSW5kaWNhdG9yVmlldztcblxuICAgIHZhciBwcm9ncmVzc0luZGljYXRvclZpZXcgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHByb2dyZXNzSW5kaWNhdG9yLCB7XG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIGFsaWduOiByb290LnF1ZXJ5KCdHRVRfU1RZTEVfUFJPR1JFU1NfSU5ESUNBVE9SX1BPU0lUSU9OJylcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIHByb2dyZXNzSW5kaWNhdG9yVmlldy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZpbGVwb25kLS1wcm9jZXNzLWluZGljYXRvcicpO1xuICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvciA9IHByb2dyZXNzSW5kaWNhdG9yVmlldztcblxuICAgIC8vIGN1cnJlbnQgYWN0aXZlIHN0eWxlc1xuICAgIHJvb3QucmVmLmFjdGl2ZVN0eWxlcyA9IFtdO1xuICB9O1xuXG4gIHZhciB3cml0ZSQyID0gZnVuY3Rpb24gd3JpdGUoX3JlZjMpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICBhY3Rpb25zID0gX3JlZjMuYWN0aW9ucyxcbiAgICAgIHByb3BzID0gX3JlZjMucHJvcHM7XG5cbiAgICAvLyByb3V0ZSBhY3Rpb25zXG4gICAgcm91dGUoeyByb290OiByb290LCBhY3Rpb25zOiBhY3Rpb25zLCBwcm9wczogcHJvcHMgfSk7XG5cbiAgICAvLyBzZWxlY3QgbGFzdCBzdGF0ZSBjaGFuZ2UgYWN0aW9uXG4gICAgdmFyIGFjdGlvbiA9IGFjdGlvbnNcbiAgICAgIC5jb25jYXQoKVxuICAgICAgLmZpbHRlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIC9eRElEXy8udGVzdChhY3Rpb24udHlwZSk7XG4gICAgICB9KVxuICAgICAgLnJldmVyc2UoKVxuICAgICAgLmZpbmQoZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBTdHlsZU1hcFthY3Rpb24udHlwZV07XG4gICAgICB9KTtcblxuICAgIC8vIGEgbmV3IGFjdGlvbiBoYXBwZW5lZCwgbGV0J3MgZ2V0IHRoZSBtYXRjaGluZyBzdHlsZXNcbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAvLyBkZWZpbmUgbmV3IGFjdGl2ZSBzdHlsZXNcbiAgICAgIHJvb3QucmVmLmFjdGl2ZVN0eWxlcyA9IFtdO1xuXG4gICAgICB2YXIgc3R5bGVzVG9BcHBseSA9IFN0eWxlTWFwW2FjdGlvbi50eXBlXTtcbiAgICAgIGZvcmluKERlZmF1bHRTdHlsZSwgZnVuY3Rpb24obmFtZSwgZGVmYXVsdFN0eWxlcykge1xuICAgICAgICAvLyBnZXQgcmVmZXJlbmNlIHRvIGNvbnRyb2xcbiAgICAgICAgdmFyIGNvbnRyb2wgPSByb290LnJlZltuYW1lXTtcblxuICAgICAgICAvLyBsb29wIG92ZXIgYWxsIHN0eWxlcyBmb3IgdGhpcyBjb250cm9sXG4gICAgICAgIGZvcmluKGRlZmF1bHRTdHlsZXMsIGZ1bmN0aW9uKGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID1cbiAgICAgICAgICAgIHN0eWxlc1RvQXBwbHlbbmFtZV0gJiZcbiAgICAgICAgICAgIHR5cGVvZiBzdHlsZXNUb0FwcGx5W25hbWVdW2tleV0gIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgID8gc3R5bGVzVG9BcHBseVtuYW1lXVtrZXldXG4gICAgICAgICAgICAgIDogZGVmYXVsdFZhbHVlO1xuICAgICAgICAgIHJvb3QucmVmLmFjdGl2ZVN0eWxlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvbnRyb2w6IGNvbnRyb2wsXG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGFwcGx5IGFjdGl2ZSBzdHlsZXMgdG8gZWxlbWVudFxuICAgIHJvb3QucmVmLmFjdGl2ZVN0eWxlcy5mb3JFYWNoKGZ1bmN0aW9uKF9yZWY0KSB7XG4gICAgICB2YXIgY29udHJvbCA9IF9yZWY0LmNvbnRyb2wsXG4gICAgICAgIGtleSA9IF9yZWY0LmtleSxcbiAgICAgICAgdmFsdWUgPSBfcmVmNC52YWx1ZTtcbiAgICAgIGNvbnRyb2xba2V5XSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlKHJvb3QpIDogdmFsdWU7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHJvdXRlID0gY3JlYXRlUm91dGUoe1xuICAgIERJRF9TRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fUFJPQ0VTU0lORzogZnVuY3Rpb24gRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9QUk9DRVNTSU5HKFxuICAgICAgX3JlZjVcbiAgICApIHtcbiAgICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgICAgYWN0aW9uID0gX3JlZjUuYWN0aW9uO1xuICAgICAgcm9vdC5yZWYuYnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZy5sYWJlbCA9IGFjdGlvbi52YWx1ZTtcbiAgICB9LFxuICAgIERJRF9TRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fTE9BRDogZnVuY3Rpb24gRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9MT0FEKFxuICAgICAgX3JlZjZcbiAgICApIHtcbiAgICAgIHZhciByb290ID0gX3JlZjYucm9vdCxcbiAgICAgICAgYWN0aW9uID0gX3JlZjYuYWN0aW9uO1xuICAgICAgcm9vdC5yZWYuYnV0dG9uQWJvcnRJdGVtTG9hZC5sYWJlbCA9IGFjdGlvbi52YWx1ZTtcbiAgICB9LFxuICAgIERJRF9TRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fUkVNT1ZBTDogZnVuY3Rpb24gRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9SRU1PVkFMKFxuICAgICAgX3JlZjdcbiAgICApIHtcbiAgICAgIHZhciByb290ID0gX3JlZjcucm9vdCxcbiAgICAgICAgYWN0aW9uID0gX3JlZjcuYWN0aW9uO1xuICAgICAgcm9vdC5yZWYuYnV0dG9uQWJvcnRJdGVtUmVtb3ZhbC5sYWJlbCA9IGFjdGlvbi52YWx1ZTtcbiAgICB9LFxuICAgIERJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORzogZnVuY3Rpb24gRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HKF9yZWY4KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY4LnJvb3Q7XG4gICAgICByb290LnJlZi5wcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3Iuc3BpbiA9IHRydWU7XG4gICAgICByb290LnJlZi5wcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3IucHJvZ3Jlc3MgPSAwO1xuICAgIH0sXG4gICAgRElEX1NUQVJUX0lURU1fTE9BRDogZnVuY3Rpb24gRElEX1NUQVJUX0lURU1fTE9BRChfcmVmOSkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmOS5yb290O1xuICAgICAgcm9vdC5yZWYubG9hZFByb2dyZXNzSW5kaWNhdG9yLnNwaW4gPSB0cnVlO1xuICAgICAgcm9vdC5yZWYubG9hZFByb2dyZXNzSW5kaWNhdG9yLnByb2dyZXNzID0gMDtcbiAgICB9LFxuICAgIERJRF9TVEFSVF9JVEVNX1JFTU9WRTogZnVuY3Rpb24gRElEX1NUQVJUX0lURU1fUkVNT1ZFKF9yZWYxMCkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmMTAucm9vdDtcbiAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5zcGluID0gdHJ1ZTtcbiAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5wcm9ncmVzcyA9IDA7XG4gICAgfSxcbiAgICBESURfVVBEQVRFX0lURU1fTE9BRF9QUk9HUkVTUzogZnVuY3Rpb24gRElEX1VQREFURV9JVEVNX0xPQURfUFJPR1JFU1MoXG4gICAgICBfcmVmMTFcbiAgICApIHtcbiAgICAgIHZhciByb290ID0gX3JlZjExLnJvb3QsXG4gICAgICAgIGFjdGlvbiA9IF9yZWYxMS5hY3Rpb247XG4gICAgICByb290LnJlZi5sb2FkUHJvZ3Jlc3NJbmRpY2F0b3Iuc3BpbiA9IGZhbHNlO1xuICAgICAgcm9vdC5yZWYubG9hZFByb2dyZXNzSW5kaWNhdG9yLnByb2dyZXNzID0gYWN0aW9uLnByb2dyZXNzO1xuICAgIH0sXG4gICAgRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1M6IGZ1bmN0aW9uIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTKFxuICAgICAgX3JlZjEyXG4gICAgKSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWYxMi5yb290LFxuICAgICAgICBhY3Rpb24gPSBfcmVmMTIuYWN0aW9uO1xuICAgICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yLnNwaW4gPSBmYWxzZTtcbiAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5wcm9ncmVzcyA9IGFjdGlvbi5wcm9ncmVzcztcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBmaWxlID0gY3JlYXRlVmlldyh7XG4gICAgY3JlYXRlOiBjcmVhdGUkNCxcbiAgICB3cml0ZTogd3JpdGUkMixcbiAgICBkaWRDcmVhdGVWaWV3OiBmdW5jdGlvbiBkaWRDcmVhdGVWaWV3KHJvb3QpIHtcbiAgICAgIGFwcGx5RmlsdGVycygnQ1JFQVRFX1ZJRVcnLCBPYmplY3QuYXNzaWduKHt9LCByb290LCB7IHZpZXc6IHJvb3QgfSkpO1xuICAgIH0sXG4gICAgbmFtZTogJ2ZpbGUnXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBmaWxlIHZpZXdcbiAgICovXG4gIHZhciBjcmVhdGUkNSA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG5cbiAgICAvLyBmaWxlbmFtZVxuICAgIHJvb3QucmVmLmZpbGVOYW1lID0gY3JlYXRlRWxlbWVudCQxKCdsZWdlbmQnKTtcbiAgICByb290LmFwcGVuZENoaWxkKHJvb3QucmVmLmZpbGVOYW1lKTtcblxuICAgIC8vIGZpbGUgYXBwZW5kZWRcbiAgICByb290LnJlZi5maWxlID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhmaWxlLCB7IGlkOiBwcm9wcy5pZCB9KVxuICAgICk7XG5cbiAgICAvLyBkYXRhIGhhcyBtb3ZlZCB0byBkYXRhLmpzXG4gICAgcm9vdC5yZWYuZGF0YSA9IGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEYXRhIHN0b3JhZ2VcbiAgICovXG4gIHZhciBkaWRMb2FkSXRlbSA9IGZ1bmN0aW9uIGRpZExvYWRJdGVtKF9yZWYyKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcztcbiAgICAvLyB1cGRhdGVzIHRoZSBsZWdlbmQgb2YgdGhlIGZpZWxkc2V0IHNvIHNjcmVlbnJlYWRlcnMgY2FuIGJldHRlciBncm91cCBidXR0b25zXG4gICAgdGV4dChcbiAgICAgIHJvb3QucmVmLmZpbGVOYW1lLFxuICAgICAgZm9ybWF0RmlsZW5hbWUocm9vdC5xdWVyeSgnR0VUX0lURU1fTkFNRScsIHByb3BzLmlkKSlcbiAgICApO1xuICB9O1xuXG4gIHZhciBmaWxlV3JhcHBlciA9IGNyZWF0ZVZpZXcoe1xuICAgIGNyZWF0ZTogY3JlYXRlJDUsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICB3cml0ZTogY3JlYXRlUm91dGUoe1xuICAgICAgRElEX0xPQURfSVRFTTogZGlkTG9hZEl0ZW1cbiAgICB9KSxcblxuICAgIGRpZENyZWF0ZVZpZXc6IGZ1bmN0aW9uIGRpZENyZWF0ZVZpZXcocm9vdCkge1xuICAgICAgYXBwbHlGaWx0ZXJzKCdDUkVBVEVfVklFVycsIE9iamVjdC5hc3NpZ24oe30sIHJvb3QsIHsgdmlldzogcm9vdCB9KSk7XG4gICAgfSxcbiAgICB0YWc6ICdmaWVsZHNldCcsXG4gICAgbmFtZTogJ2ZpbGUtd3JhcHBlcidcbiAgfSk7XG5cbiAgdmFyIFBBTkVMX1NQUklOR19QUk9QUyA9IHsgdHlwZTogJ3NwcmluZycsIGRhbXBpbmc6IDAuNiwgbWFzczogNyB9O1xuXG4gIHZhciBjcmVhdGUkNiA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG4gICAgW1xuICAgICAge1xuICAgICAgICBuYW1lOiAndG9wJ1xuICAgICAgfSxcblxuICAgICAge1xuICAgICAgICBuYW1lOiAnY2VudGVyJyxcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICB0cmFuc2xhdGVZOiBudWxsLFxuICAgICAgICAgIHNjYWxlWTogbnVsbFxuICAgICAgICB9LFxuXG4gICAgICAgIG1peGluczoge1xuICAgICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgIHNjYWxlWTogUEFORUxfU1BSSU5HX1BST1BTXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVZJywgJ3NjYWxlWSddXG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ2JvdHRvbScsXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgdHJhbnNsYXRlWTogbnVsbFxuICAgICAgICB9LFxuXG4gICAgICAgIG1peGluczoge1xuICAgICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6IFBBTkVMX1NQUklOR19QUk9QU1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWSddXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdLmZvckVhY2goZnVuY3Rpb24oc2VjdGlvbikge1xuICAgICAgY3JlYXRlU2VjdGlvbihyb290LCBzZWN0aW9uLCBwcm9wcy5uYW1lKTtcbiAgICB9KTtcblxuICAgIHJvb3QuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmaWxlcG9uZC0tJyArIHByb3BzLm5hbWUpO1xuXG4gICAgcm9vdC5yZWYuc2NhbGFibGUgPSBudWxsO1xuICB9O1xuXG4gIHZhciBjcmVhdGVTZWN0aW9uID0gZnVuY3Rpb24gY3JlYXRlU2VjdGlvbihyb290LCBzZWN0aW9uLCBjbGFzc05hbWUpIHtcbiAgICB2YXIgdmlld0NvbnN0cnVjdG9yID0gY3JlYXRlVmlldyh7XG4gICAgICBuYW1lOiAncGFuZWwtJyArIHNlY3Rpb24ubmFtZSArICcgZmlsZXBvbmQtLScgKyBjbGFzc05hbWUsXG4gICAgICBtaXhpbnM6IHNlY3Rpb24ubWl4aW5zLFxuICAgICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgdmFyIHZpZXcgPSByb290LmNyZWF0ZUNoaWxkVmlldyh2aWV3Q29uc3RydWN0b3IsIHNlY3Rpb24ucHJvcHMpO1xuXG4gICAgcm9vdC5yZWZbc2VjdGlvbi5uYW1lXSA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHZpZXcpO1xuICB9O1xuXG4gIHZhciB3cml0ZSQzID0gZnVuY3Rpb24gd3JpdGUoX3JlZjIpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYyLnByb3BzO1xuXG4gICAgLy8gdXBkYXRlIHNjYWxhYmxlIHN0YXRlXG4gICAgaWYgKHJvb3QucmVmLnNjYWxhYmxlID09PSBudWxsIHx8IHByb3BzLnNjYWxhYmxlICE9PSByb290LnJlZi5zY2FsYWJsZSkge1xuICAgICAgcm9vdC5yZWYuc2NhbGFibGUgPSBpc0Jvb2xlYW4ocHJvcHMuc2NhbGFibGUpID8gcHJvcHMuc2NhbGFibGUgOiB0cnVlO1xuICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuc2NhbGFibGUgPSByb290LnJlZi5zY2FsYWJsZTtcbiAgICB9XG5cbiAgICAvLyBubyBoZWlnaHQsIGNhbid0IHNldFxuICAgIGlmICghcHJvcHMuaGVpZ2h0KSByZXR1cm47XG5cbiAgICAvLyBnZXQgY2hpbGQgcmVjdHNcbiAgICB2YXIgdG9wUmVjdCA9IHJvb3QucmVmLnRvcC5yZWN0LmVsZW1lbnQ7XG4gICAgdmFyIGJvdHRvbVJlY3QgPSByb290LnJlZi5ib3R0b20ucmVjdC5lbGVtZW50O1xuXG4gICAgLy8gbWFrZSBzdXJlIGhlaWdodCBuZXZlciBpcyBzbWFsbGVyIHRoYW4gYm90dG9tIGFuZCB0b3Agc2VjaXRvbiBoZWlnaHRzIGNvbWJpbmVkICh3aWxsIHByb2JhYmx5IG5ldmVyIGhhcHBlbiwgYnV0IHdobyBrbm93cylcbiAgICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgodG9wUmVjdC5oZWlnaHQgKyBib3R0b21SZWN0LmhlaWdodCwgcHJvcHMuaGVpZ2h0KTtcblxuICAgIC8vIG9mZnNldCBjZW50ZXIgcGFydFxuICAgIHJvb3QucmVmLmNlbnRlci50cmFuc2xhdGVZID0gdG9wUmVjdC5oZWlnaHQ7XG5cbiAgICAvLyBzY2FsZSBjZW50ZXIgcGFydFxuICAgIC8vIHVzZSBtYXRoIGNlaWwgdG8gcHJldmVudCB0cmFuc3BhcmVudCBsaW5lcyBiZWNhdXNlIG9mIHJvdW5kaW5nIGVycm9yc1xuICAgIHJvb3QucmVmLmNlbnRlci5zY2FsZVkgPVxuICAgICAgKGhlaWdodCAtIHRvcFJlY3QuaGVpZ2h0IC0gYm90dG9tUmVjdC5oZWlnaHQpIC8gMTAwO1xuXG4gICAgLy8gb2Zmc2V0IGJvdHRvbSBwYXJ0XG4gICAgcm9vdC5yZWYuYm90dG9tLnRyYW5zbGF0ZVkgPSBoZWlnaHQgLSBib3R0b21SZWN0LmhlaWdodDtcbiAgfTtcblxuICB2YXIgcGFuZWwgPSBjcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAncGFuZWwnLFxuICAgIHdyaXRlOiB3cml0ZSQzLFxuICAgIGNyZWF0ZTogY3JlYXRlJDYsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBtaXhpbnM6IHtcbiAgICAgIGFwaXM6IFsnaGVpZ2h0JywgJ3NjYWxhYmxlJ11cbiAgICB9XG4gIH0pO1xuXG4gIHZhciBjcmVhdGVEcmFnSGVscGVyID0gZnVuY3Rpb24gY3JlYXRlRHJhZ0hlbHBlcihpdGVtcykge1xuICAgIHZhciBpdGVtSWRzID0gaXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLmlkO1xuICAgIH0pO1xuICAgIHZhciBwcmV2SW5kZXggPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNldEluZGV4OiBmdW5jdGlvbiBzZXRJbmRleChpbmRleCkge1xuICAgICAgICBwcmV2SW5kZXggPSBpbmRleDtcbiAgICAgIH0sXG4gICAgICBnZXRJbmRleDogZnVuY3Rpb24gZ2V0SW5kZXgoKSB7XG4gICAgICAgIHJldHVybiBwcmV2SW5kZXg7XG4gICAgICB9LFxuICAgICAgZ2V0SXRlbUluZGV4OiBmdW5jdGlvbiBnZXRJdGVtSW5kZXgoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbUlkcy5pbmRleE9mKGl0ZW0uaWQpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgdmFyIElURU1fVFJBTlNMQVRFX1NQUklORyA9IHtcbiAgICB0eXBlOiAnc3ByaW5nJyxcbiAgICBzdGlmZm5lc3M6IDAuNzUsXG4gICAgZGFtcGluZzogMC40NSxcbiAgICBtYXNzOiAxMFxuICB9O1xuXG4gIHZhciBJVEVNX1NDQUxFX1NQUklORyA9ICdzcHJpbmcnO1xuXG4gIHZhciBTdGF0ZU1hcCA9IHtcbiAgICBESURfU1RBUlRfSVRFTV9MT0FEOiAnYnVzeScsXG4gICAgRElEX1VQREFURV9JVEVNX0xPQURfUFJPR1JFU1M6ICdsb2FkaW5nJyxcbiAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiAnbG9hZC1pbnZhbGlkJyxcbiAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiAnbG9hZC1lcnJvcicsXG4gICAgRElEX0xPQURfSVRFTTogJ2lkbGUnLFxuICAgIERJRF9USFJPV19JVEVNX1JFTU9WRV9FUlJPUjogJ3JlbW92ZS1lcnJvcicsXG4gICAgRElEX1NUQVJUX0lURU1fUkVNT1ZFOiAnYnVzeScsXG4gICAgRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORzogJ2J1c3kgcHJvY2Vzc2luZycsXG4gICAgRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HOiAnYnVzeSBwcm9jZXNzaW5nJyxcbiAgICBESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUzogJ3Byb2Nlc3NpbmcnLFxuICAgIERJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkc6ICdwcm9jZXNzaW5nLWNvbXBsZXRlJyxcbiAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiAncHJvY2Vzc2luZy1lcnJvcicsXG4gICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19SRVZFUlRfRVJST1I6ICdwcm9jZXNzaW5nLXJldmVydC1lcnJvcicsXG4gICAgRElEX0FCT1JUX0lURU1fUFJPQ0VTU0lORzogJ2NhbmNlbGxlZCcsXG4gICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6ICdpZGxlJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBmaWxlIHZpZXdcbiAgICovXG4gIHZhciBjcmVhdGUkNyA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG5cbiAgICAvLyBzZWxlY3RcbiAgICByb290LnJlZi5oYW5kbGVDbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHJldHVybiByb290LmRpc3BhdGNoKCdESURfQUNUSVZBVEVfSVRFTScsIHsgaWQ6IHByb3BzLmlkIH0pO1xuICAgIH07XG5cbiAgICAvLyBzZXQgaWRcbiAgICByb290LmVsZW1lbnQuaWQgPSAnZmlsZXBvbmQtLWl0ZW0tJyArIHByb3BzLmlkO1xuICAgIHJvb3QuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJvb3QucmVmLmhhbmRsZUNsaWNrKTtcblxuICAgIC8vIGZpbGUgdmlld1xuICAgIHJvb3QucmVmLmNvbnRhaW5lciA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoZmlsZVdyYXBwZXIsIHsgaWQ6IHByb3BzLmlkIH0pXG4gICAgKTtcblxuICAgIC8vIGZpbGUgcGFuZWxcbiAgICByb290LnJlZi5wYW5lbCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcocGFuZWwsIHsgbmFtZTogJ2l0ZW0tcGFuZWwnIH0pXG4gICAgKTtcblxuICAgIC8vIGRlZmF1bHQgc3RhcnQgaGVpZ2h0XG4gICAgcm9vdC5yZWYucGFuZWwuaGVpZ2h0ID0gbnVsbDtcblxuICAgIC8vIGJ5IGRlZmF1bHQgbm90IG1hcmtlZCBmb3IgcmVtb3ZhbFxuICAgIHByb3BzLm1hcmtlZEZvclJlbW92YWwgPSBmYWxzZTtcblxuICAgIC8vIGlmIG5vdCBhbGxvd2VkIHRvIHJlb3JkZXIgZmlsZSBpdGVtcywgZXhpdCBoZXJlXG4gICAgaWYgKCFyb290LnF1ZXJ5KCdHRVRfQUxMT1dfUkVPUkRFUicpKSByZXR1cm47XG5cbiAgICAvLyBzZXQgdG8gaWRsZSBzbyBzaG93cyBncmFiIGN1cnNvclxuICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRyYWdTdGF0ZSA9ICdpZGxlJztcblxuICAgIHZhciBncmFiID0gZnVuY3Rpb24gZ3JhYihlKSB7XG4gICAgICBpZiAoIWUuaXNQcmltYXJ5KSByZXR1cm47XG5cbiAgICAgIHZhciByZW1vdmVkQWN0aXZhdGVMaXN0ZW5lciA9IGZhbHNlO1xuXG4gICAgICB2YXIgb3JpZ2luID0ge1xuICAgICAgICB4OiBlLnBhZ2VYLFxuICAgICAgICB5OiBlLnBhZ2VZXG4gICAgICB9O1xuXG4gICAgICBwcm9wcy5kcmFnT3JpZ2luID0ge1xuICAgICAgICB4OiByb290LnRyYW5zbGF0ZVgsXG4gICAgICAgIHk6IHJvb3QudHJhbnNsYXRlWVxuICAgICAgfTtcblxuICAgICAgcHJvcHMuZHJhZ0NlbnRlciA9IHtcbiAgICAgICAgeDogZS5vZmZzZXRYLFxuICAgICAgICB5OiBlLm9mZnNldFlcbiAgICAgIH07XG5cbiAgICAgIHZhciBkcmFnU3RhdGUgPSBjcmVhdGVEcmFnSGVscGVyKHJvb3QucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKSk7XG5cbiAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9HUkFCX0lURU0nLCB7IGlkOiBwcm9wcy5pZCwgZHJhZ1N0YXRlOiBkcmFnU3RhdGUgfSk7XG5cbiAgICAgIHZhciBkcmFnID0gZnVuY3Rpb24gZHJhZyhlKSB7XG4gICAgICAgIGlmICghZS5pc1ByaW1hcnkpIHJldHVybjtcblxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgcHJvcHMuZHJhZ09mZnNldCA9IHtcbiAgICAgICAgICB4OiBlLnBhZ2VYIC0gb3JpZ2luLngsXG4gICAgICAgICAgeTogZS5wYWdlWSAtIG9yaWdpbi55XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaWYgZHJhZ2dlZCBzdG9wIGxpc3RlbmluZyB0byBjbGlja3MsIHdpbGwgcmUtYWRkIHdoZW4gZG9uZSBkcmFnZ2luZ1xuICAgICAgICB2YXIgZGlzdCA9XG4gICAgICAgICAgcHJvcHMuZHJhZ09mZnNldC54ICogcHJvcHMuZHJhZ09mZnNldC54ICtcbiAgICAgICAgICBwcm9wcy5kcmFnT2Zmc2V0LnkgKiBwcm9wcy5kcmFnT2Zmc2V0Lnk7XG4gICAgICAgIGlmIChkaXN0ID4gMTYgJiYgIXJlbW92ZWRBY3RpdmF0ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgcmVtb3ZlZEFjdGl2YXRlTGlzdGVuZXIgPSB0cnVlO1xuICAgICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJvb3QucmVmLmhhbmRsZUNsaWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9EUkFHX0lURU0nLCB7IGlkOiBwcm9wcy5pZCwgZHJhZ1N0YXRlOiBkcmFnU3RhdGUgfSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZHJvcCA9IGZ1bmN0aW9uIGRyb3AoZSkge1xuICAgICAgICBpZiAoIWUuaXNQcmltYXJ5KSByZXR1cm47XG5cbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBkcmFnKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgZHJvcCk7XG5cbiAgICAgICAgcHJvcHMuZHJhZ09mZnNldCA9IHtcbiAgICAgICAgICB4OiBlLnBhZ2VYIC0gb3JpZ2luLngsXG4gICAgICAgICAgeTogZS5wYWdlWSAtIG9yaWdpbi55XG4gICAgICAgIH07XG5cbiAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0RST1BfSVRFTScsIHsgaWQ6IHByb3BzLmlkLCBkcmFnU3RhdGU6IGRyYWdTdGF0ZSB9KTtcblxuICAgICAgICAvLyBzdGFydCBsaXN0ZW5pbmcgdG8gY2xpY2tzIGFnYWluXG4gICAgICAgIGlmIChyZW1vdmVkQWN0aXZhdGVMaXN0ZW5lcikge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcm9vdC5yZWYuaGFuZGxlQ2xpY2spO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGRyYWcpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgZHJvcCk7XG4gICAgfTtcblxuICAgIHJvb3QuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGdyYWIpO1xuICB9O1xuXG4gIHZhciByb3V0ZSQxID0gY3JlYXRlUm91dGUoe1xuICAgIERJRF9VUERBVEVfUEFORUxfSEVJR0hUOiBmdW5jdGlvbiBESURfVVBEQVRFX1BBTkVMX0hFSUdIVChfcmVmMikge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgICBhY3Rpb24gPSBfcmVmMi5hY3Rpb247XG4gICAgICByb290LmhlaWdodCA9IGFjdGlvbi5oZWlnaHQ7XG4gICAgfVxuICB9KTtcblxuICB2YXIgd3JpdGUkNCA9IGNyZWF0ZVJvdXRlKFxuICAgIHtcbiAgICAgIERJRF9HUkFCX0lURU06IGZ1bmN0aW9uIERJRF9HUkFCX0lURU0oX3JlZjMpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZjMucHJvcHM7XG4gICAgICAgIHByb3BzLmRyYWdPcmlnaW4gPSB7XG4gICAgICAgICAgeDogcm9vdC50cmFuc2xhdGVYLFxuICAgICAgICAgIHk6IHJvb3QudHJhbnNsYXRlWVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIERJRF9EUkFHX0lURU06IGZ1bmN0aW9uIERJRF9EUkFHX0lURU0oX3JlZjQpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNC5yb290O1xuICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5kcmFnU3RhdGUgPSAnZHJhZyc7XG4gICAgICB9LFxuICAgICAgRElEX0RST1BfSVRFTTogZnVuY3Rpb24gRElEX0RST1BfSVRFTShfcmVmNSkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY1LnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmNS5wcm9wcztcbiAgICAgICAgcHJvcHMuZHJhZ09mZnNldCA9IG51bGw7XG4gICAgICAgIHByb3BzLmRyYWdPcmlnaW4gPSBudWxsO1xuICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5kcmFnU3RhdGUgPSAnZHJvcCc7XG4gICAgICB9XG4gICAgfSxcbiAgICBmdW5jdGlvbihfcmVmNikge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmNi5yb290LFxuICAgICAgICBhY3Rpb25zID0gX3JlZjYuYWN0aW9ucyxcbiAgICAgICAgcHJvcHMgPSBfcmVmNi5wcm9wcyxcbiAgICAgICAgc2hvdWxkT3B0aW1pemUgPSBfcmVmNi5zaG91bGRPcHRpbWl6ZTtcblxuICAgICAgaWYgKHJvb3QuZWxlbWVudC5kYXRhc2V0LmRyYWdTdGF0ZSA9PT0gJ2Ryb3AnKSB7XG4gICAgICAgIGlmIChyb290LnNjYWxlWCA8PSAxKSB7XG4gICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuZHJhZ1N0YXRlID0gJ2lkbGUnO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHNlbGVjdCBsYXN0IHN0YXRlIGNoYW5nZSBhY3Rpb25cbiAgICAgIHZhciBhY3Rpb24gPSBhY3Rpb25zXG4gICAgICAgIC5jb25jYXQoKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiAvXkRJRF8vLnRlc3QoYWN0aW9uLnR5cGUpO1xuICAgICAgICB9KVxuICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgIC5maW5kKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBTdGF0ZU1hcFthY3Rpb24udHlwZV07XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyBubyBuZWVkIHRvIHNldCBzYW1lIHN0YXRlIHR3aWNlXG4gICAgICBpZiAoYWN0aW9uICYmIGFjdGlvbi50eXBlICE9PSBwcm9wcy5jdXJyZW50U3RhdGUpIHtcbiAgICAgICAgLy8gc2V0IGN1cnJlbnQgc3RhdGVcbiAgICAgICAgcHJvcHMuY3VycmVudFN0YXRlID0gYWN0aW9uLnR5cGU7XG5cbiAgICAgICAgLy8gc2V0IHN0YXRlXG4gICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmZpbGVwb25kSXRlbVN0YXRlID1cbiAgICAgICAgICBTdGF0ZU1hcFtwcm9wcy5jdXJyZW50U3RhdGVdIHx8ICcnO1xuICAgICAgfVxuXG4gICAgICAvLyByb3V0ZSBhY3Rpb25zXG4gICAgICB2YXIgYXNwZWN0UmF0aW8gPVxuICAgICAgICByb290LnF1ZXJ5KCdHRVRfSVRFTV9QQU5FTF9BU1BFQ1RfUkFUSU8nKSB8fFxuICAgICAgICByb290LnF1ZXJ5KCdHRVRfUEFORUxfQVNQRUNUX1JBVElPJyk7XG4gICAgICBpZiAoIWFzcGVjdFJhdGlvKSB7XG4gICAgICAgIHJvdXRlJDEoeyByb290OiByb290LCBhY3Rpb25zOiBhY3Rpb25zLCBwcm9wczogcHJvcHMgfSk7XG4gICAgICAgIGlmICghcm9vdC5oZWlnaHQgJiYgcm9vdC5yZWYuY29udGFpbmVyLnJlY3QuZWxlbWVudC5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgcm9vdC5oZWlnaHQgPSByb290LnJlZi5jb250YWluZXIucmVjdC5lbGVtZW50LmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghc2hvdWxkT3B0aW1pemUpIHtcbiAgICAgICAgcm9vdC5oZWlnaHQgPSByb290LnJlY3QuZWxlbWVudC53aWR0aCAqIGFzcGVjdFJhdGlvO1xuICAgICAgfVxuXG4gICAgICAvLyBzeW5jIHBhbmVsIGhlaWdodCB3aXRoIGl0ZW0gaGVpZ2h0XG4gICAgICBpZiAoc2hvdWxkT3B0aW1pemUpIHtcbiAgICAgICAgcm9vdC5yZWYucGFuZWwuaGVpZ2h0ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcm9vdC5yZWYucGFuZWwuaGVpZ2h0ID0gcm9vdC5oZWlnaHQ7XG4gICAgfVxuICApO1xuXG4gIHZhciBpdGVtID0gY3JlYXRlVmlldyh7XG4gICAgY3JlYXRlOiBjcmVhdGUkNyxcbiAgICB3cml0ZTogd3JpdGUkNCxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KF9yZWY3KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY3LnJvb3QsXG4gICAgICAgIHByb3BzID0gX3JlZjcucHJvcHM7XG4gICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVDbGljayk7XG4gICAgICByb290LmRpc3BhdGNoKCdSRUxFQVNFX0lURU0nLCB7IHF1ZXJ5OiBwcm9wcy5pZCB9KTtcbiAgICB9LFxuICAgIHRhZzogJ2xpJyxcbiAgICBuYW1lOiAnaXRlbScsXG4gICAgbWl4aW5zOiB7XG4gICAgICBhcGlzOiBbXG4gICAgICAgICdpZCcsXG4gICAgICAgICdpbnRlcmFjdGlvbk1ldGhvZCcsXG4gICAgICAgICdtYXJrZWRGb3JSZW1vdmFsJyxcbiAgICAgICAgJ3NwYXduRGF0ZScsXG4gICAgICAgICdkcmFnQ2VudGVyJyxcbiAgICAgICAgJ2RyYWdPcmlnaW4nLFxuICAgICAgICAnZHJhZ09mZnNldCdcbiAgICAgIF0sXG4gICAgICBzdHlsZXM6IFtcbiAgICAgICAgJ3RyYW5zbGF0ZVgnLFxuICAgICAgICAndHJhbnNsYXRlWScsXG4gICAgICAgICdzY2FsZVgnLFxuICAgICAgICAnc2NhbGVZJyxcbiAgICAgICAgJ29wYWNpdHknLFxuICAgICAgICAnaGVpZ2h0J1xuICAgICAgXSxcblxuICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICBzY2FsZVg6IElURU1fU0NBTEVfU1BSSU5HLFxuICAgICAgICBzY2FsZVk6IElURU1fU0NBTEVfU1BSSU5HLFxuICAgICAgICB0cmFuc2xhdGVYOiBJVEVNX1RSQU5TTEFURV9TUFJJTkcsXG4gICAgICAgIHRyYW5zbGF0ZVk6IElURU1fVFJBTlNMQVRFX1NQUklORyxcbiAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogMTUwIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZhciBnZXRJdGVtSW5kZXhCeVBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0SXRlbUluZGV4QnlQb3NpdGlvbihcbiAgICB2aWV3LFxuICAgIGNoaWxkcmVuLFxuICAgIHBvc2l0aW9uSW5WaWV3XG4gICkge1xuICAgIGlmICghcG9zaXRpb25JblZpZXcpIHJldHVybjtcblxuICAgIHZhciBob3Jpem9udGFsU3BhY2UgPSB2aWV3LnJlY3QuZWxlbWVudC53aWR0aDtcbiAgICAvLyBjb25zdCBjaGlsZHJlbiA9IHZpZXcuY2hpbGRWaWV3cztcbiAgICB2YXIgbCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICB2YXIgbGFzdCA9IG51bGw7XG5cbiAgICAvLyAtMSwgZG9uJ3QgbW92ZSBpdGVtcyB0byBhY2NvbW9kYXRlIChlaXRoZXIgYWRkIHRvIHRvcCBvciBib3R0b20pXG4gICAgaWYgKGwgPT09IDAgfHwgcG9zaXRpb25JblZpZXcudG9wIDwgY2hpbGRyZW5bMF0ucmVjdC5lbGVtZW50LnRvcCkgcmV0dXJuIC0xO1xuXG4gICAgLy8gbGV0J3MgZ2V0IHRoZSBpdGVtIHdpZHRoXG4gICAgdmFyIGl0ZW0gPSBjaGlsZHJlblswXTtcbiAgICB2YXIgaXRlbVJlY3QgPSBpdGVtLnJlY3QuZWxlbWVudDtcbiAgICB2YXIgaXRlbUhvcml6b250YWxNYXJnaW4gPSBpdGVtUmVjdC5tYXJnaW5MZWZ0ICsgaXRlbVJlY3QubWFyZ2luUmlnaHQ7XG4gICAgdmFyIGl0ZW1XaWR0aCA9IGl0ZW1SZWN0LndpZHRoICsgaXRlbUhvcml6b250YWxNYXJnaW47XG4gICAgdmFyIGl0ZW1zUGVyUm93ID0gTWF0aC5yb3VuZChob3Jpem9udGFsU3BhY2UgLyBpdGVtV2lkdGgpO1xuXG4gICAgLy8gc3RhY2tcbiAgICBpZiAoaXRlbXNQZXJSb3cgPT09IDEpIHtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2luZGV4XTtcbiAgICAgICAgdmFyIGNoaWxkTWlkID0gY2hpbGQucmVjdC5vdXRlci50b3AgKyBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0ICogMC41O1xuICAgICAgICBpZiAocG9zaXRpb25JblZpZXcudG9wIDwgY2hpbGRNaWQpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBsO1xuICAgIH1cblxuICAgIC8vIGdyaWRcbiAgICB2YXIgaXRlbVZlcnRpY2FsTWFyZ2luID0gaXRlbVJlY3QubWFyZ2luVG9wICsgaXRlbVJlY3QubWFyZ2luQm90dG9tO1xuICAgIHZhciBpdGVtSGVpZ2h0ID0gaXRlbVJlY3QuaGVpZ2h0ICsgaXRlbVZlcnRpY2FsTWFyZ2luO1xuICAgIGZvciAodmFyIF9pbmRleCA9IDA7IF9pbmRleCA8IGw7IF9pbmRleCsrKSB7XG4gICAgICB2YXIgaW5kZXhYID0gX2luZGV4ICUgaXRlbXNQZXJSb3c7XG4gICAgICB2YXIgaW5kZXhZID0gTWF0aC5mbG9vcihfaW5kZXggLyBpdGVtc1BlclJvdyk7XG5cbiAgICAgIHZhciBvZmZzZXRYID0gaW5kZXhYICogaXRlbVdpZHRoO1xuICAgICAgdmFyIG9mZnNldFkgPSBpbmRleFkgKiBpdGVtSGVpZ2h0O1xuXG4gICAgICB2YXIgaXRlbVRvcCA9IG9mZnNldFkgLSBpdGVtUmVjdC5tYXJnaW5Ub3A7XG4gICAgICB2YXIgaXRlbVJpZ2h0ID0gb2Zmc2V0WCArIGl0ZW1XaWR0aDtcbiAgICAgIHZhciBpdGVtQm90dG9tID0gb2Zmc2V0WSArIGl0ZW1IZWlnaHQgKyBpdGVtUmVjdC5tYXJnaW5Cb3R0b207XG5cbiAgICAgIGlmIChwb3NpdGlvbkluVmlldy50b3AgPCBpdGVtQm90dG9tICYmIHBvc2l0aW9uSW5WaWV3LnRvcCA+IGl0ZW1Ub3ApIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uSW5WaWV3LmxlZnQgPCBpdGVtUmlnaHQpIHtcbiAgICAgICAgICByZXR1cm4gX2luZGV4O1xuICAgICAgICB9IGVsc2UgaWYgKF9pbmRleCAhPT0gbCAtIDEpIHtcbiAgICAgICAgICBsYXN0ID0gX2luZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3QgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxhc3QgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBsYXN0O1xuICAgIH1cblxuICAgIHJldHVybiBsO1xuICB9O1xuXG4gIHZhciBkcm9wQXJlYURpbWVuc2lvbnMgPSB7XG4gICAgaGVpZ2h0OiAwLFxuICAgIHdpZHRoOiAwLFxuICAgIGdldCBnZXRIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7XG4gICAgfSxcbiAgICBzZXQgc2V0SGVpZ2h0KHZhbCkge1xuICAgICAgaWYgKHRoaXMuaGVpZ2h0ID09PSAwIHx8IHZhbCA9PT0gMCkgdGhpcy5oZWlnaHQgPSB2YWw7XG4gICAgfSxcbiAgICBnZXQgZ2V0V2lkdGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy53aWR0aDtcbiAgICB9LFxuICAgIHNldCBzZXRXaWR0aCh2YWwpIHtcbiAgICAgIGlmICh0aGlzLndpZHRoID09PSAwIHx8IHZhbCA9PT0gMCkgdGhpcy53aWR0aCA9IHZhbDtcbiAgICB9LFxuICAgIHNldERpbWVuc2lvbnM6IGZ1bmN0aW9uIHNldERpbWVuc2lvbnMoaGVpZ2h0LCB3aWR0aCkge1xuICAgICAgaWYgKHRoaXMuaGVpZ2h0ID09PSAwIHx8IGhlaWdodCA9PT0gMCkgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBpZiAodGhpcy53aWR0aCA9PT0gMCB8fCB3aWR0aCA9PT0gMCkgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY3JlYXRlJDggPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgIHZhciByb290ID0gX3JlZi5yb290O1xuICAgIC8vIG5lZWQgdG8gc2V0IHJvbGUgdG8gbGlzdCBhcyBvdGhlcndpc2UgaXQgd29uJ3QgYmUgcmVhZCBhcyBhIGxpc3QgYnkgVm9pY2VPdmVyXG4gICAgYXR0cihyb290LmVsZW1lbnQsICdyb2xlJywgJ2xpc3QnKTtcblxuICAgIHJvb3QucmVmLmxhc3RJdGVtU3BhbndEYXRlID0gRGF0ZS5ub3coKTtcbiAgfTtcblxuICAvKipcbiAgICogSW5zZXJ0cyBhIG5ldyBpdGVtXG4gICAqIEBwYXJhbSByb290XG4gICAqIEBwYXJhbSBhY3Rpb25cbiAgICovXG4gIHZhciBhZGRJdGVtVmlldyA9IGZ1bmN0aW9uIGFkZEl0ZW1WaWV3KF9yZWYyKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgYWN0aW9uID0gX3JlZjIuYWN0aW9uO1xuICAgIHZhciBpZCA9IGFjdGlvbi5pZCxcbiAgICAgIGluZGV4ID0gYWN0aW9uLmluZGV4LFxuICAgICAgaW50ZXJhY3Rpb25NZXRob2QgPSBhY3Rpb24uaW50ZXJhY3Rpb25NZXRob2Q7XG5cbiAgICByb290LnJlZi5hZGRJbmRleCA9IGluZGV4O1xuXG4gICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgdmFyIHNwYXduRGF0ZSA9IG5vdztcbiAgICB2YXIgb3BhY2l0eSA9IDE7XG5cbiAgICBpZiAoaW50ZXJhY3Rpb25NZXRob2QgIT09IEludGVyYWN0aW9uTWV0aG9kLk5PTkUpIHtcbiAgICAgIG9wYWNpdHkgPSAwO1xuICAgICAgdmFyIGNvb2xkb3duID0gcm9vdC5xdWVyeSgnR0VUX0lURU1fSU5TRVJUX0lOVEVSVkFMJyk7XG4gICAgICB2YXIgZGlzdCA9IG5vdyAtIHJvb3QucmVmLmxhc3RJdGVtU3BhbndEYXRlO1xuICAgICAgc3Bhd25EYXRlID0gZGlzdCA8IGNvb2xkb3duID8gbm93ICsgKGNvb2xkb3duIC0gZGlzdCkgOiBub3c7XG4gICAgfVxuXG4gICAgcm9vdC5yZWYubGFzdEl0ZW1TcGFud0RhdGUgPSBzcGF3bkRhdGU7XG5cbiAgICByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KFxuICAgICAgICAvLyB2aWV3IHR5cGVcbiAgICAgICAgaXRlbSxcblxuICAgICAgICAvLyBwcm9wc1xuICAgICAgICB7XG4gICAgICAgICAgc3Bhd25EYXRlOiBzcGF3bkRhdGUsXG4gICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgIG9wYWNpdHk6IG9wYWNpdHksXG4gICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IGludGVyYWN0aW9uTWV0aG9kXG4gICAgICAgIH1cbiAgICAgICksXG5cbiAgICAgIGluZGV4XG4gICAgKTtcbiAgfTtcblxuICB2YXIgbW92ZUl0ZW0gPSBmdW5jdGlvbiBtb3ZlSXRlbShpdGVtLCB4LCB5KSB7XG4gICAgdmFyIHZ4ID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcbiAgICB2YXIgdnkgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAxO1xuXG4gICAgLy8gc2V0IHRvIG51bGwgdG8gcmVtb3ZlIGFuaW1hdGlvbiB3aGlsZSBkcmFnZ2luZ1xuICAgIGlmIChpdGVtLmRyYWdPZmZzZXQpIHtcbiAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IG51bGw7XG4gICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgaXRlbS50cmFuc2xhdGVYID0gaXRlbS5kcmFnT3JpZ2luLnggKyBpdGVtLmRyYWdPZmZzZXQueDtcbiAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IGl0ZW0uZHJhZ09yaWdpbi55ICsgaXRlbS5kcmFnT2Zmc2V0Lnk7XG4gICAgICBpdGVtLnNjYWxlWCA9IDEuMDI1O1xuICAgICAgaXRlbS5zY2FsZVkgPSAxLjAyNTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbS50cmFuc2xhdGVYID0geDtcbiAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IHk7XG5cbiAgICAgIGlmIChEYXRlLm5vdygpID4gaXRlbS5zcGF3bkRhdGUpIHtcbiAgICAgICAgLy8gcmV2ZWFsIGVsZW1lbnRcbiAgICAgICAgaWYgKGl0ZW0ub3BhY2l0eSA9PT0gMCkge1xuICAgICAgICAgIGludHJvSXRlbVZpZXcoaXRlbSwgeCwgeSwgdngsIHZ5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSBpcyBkZWZhdWx0IHNjYWxlIGV2ZXJ5IGZyYW1lXG4gICAgICAgIGl0ZW0uc2NhbGVYID0gMTtcbiAgICAgICAgaXRlbS5zY2FsZVkgPSAxO1xuICAgICAgICBpdGVtLm9wYWNpdHkgPSAxO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgaW50cm9JdGVtVmlldyA9IGZ1bmN0aW9uIGludHJvSXRlbVZpZXcoaXRlbSwgeCwgeSwgdngsIHZ5KSB7XG4gICAgaWYgKGl0ZW0uaW50ZXJhY3Rpb25NZXRob2QgPT09IEludGVyYWN0aW9uTWV0aG9kLk5PTkUpIHtcbiAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IG51bGw7XG4gICAgICBpdGVtLnRyYW5zbGF0ZVggPSB4O1xuICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IHk7XG4gICAgfSBlbHNlIGlmIChpdGVtLmludGVyYWN0aW9uTWV0aG9kID09PSBJbnRlcmFjdGlvbk1ldGhvZC5EUk9QKSB7XG4gICAgICBpdGVtLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgaXRlbS50cmFuc2xhdGVYID0geCAtIHZ4ICogMjA7XG5cbiAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IG51bGw7XG4gICAgICBpdGVtLnRyYW5zbGF0ZVkgPSB5IC0gdnkgKiAxMDtcblxuICAgICAgaXRlbS5zY2FsZVggPSAwLjg7XG4gICAgICBpdGVtLnNjYWxlWSA9IDAuODtcbiAgICB9IGVsc2UgaWYgKGl0ZW0uaW50ZXJhY3Rpb25NZXRob2QgPT09IEludGVyYWN0aW9uTWV0aG9kLkJST1dTRSkge1xuICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IHkgLSAzMDtcbiAgICB9IGVsc2UgaWYgKGl0ZW0uaW50ZXJhY3Rpb25NZXRob2QgPT09IEludGVyYWN0aW9uTWV0aG9kLkFQSSkge1xuICAgICAgaXRlbS50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IHggLSAzMDtcbiAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIGV4aXN0aW5nIGl0ZW1cbiAgICogQHBhcmFtIHJvb3RcbiAgICogQHBhcmFtIGFjdGlvblxuICAgKi9cbiAgdmFyIHJlbW92ZUl0ZW1WaWV3ID0gZnVuY3Rpb24gcmVtb3ZlSXRlbVZpZXcoX3JlZjMpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmMy5hY3Rpb247XG4gICAgdmFyIGlkID0gYWN0aW9uLmlkO1xuXG4gICAgLy8gZ2V0IHRoZSB2aWV3IG1hdGNoaW5nIHRoZSBnaXZlbiBpZFxuICAgIHZhciB2aWV3ID0gcm9vdC5jaGlsZFZpZXdzLmZpbmQoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIHJldHVybiBjaGlsZC5pZCA9PT0gaWQ7XG4gICAgfSk7XG5cbiAgICAvLyBpZiBubyB2aWV3IGZvdW5kLCBleGl0XG4gICAgaWYgKCF2aWV3KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYW5pbWF0ZSB2aWV3IG91dCBvZiB2aWV3XG4gICAgdmlldy5zY2FsZVggPSAwLjk7XG4gICAgdmlldy5zY2FsZVkgPSAwLjk7XG4gICAgdmlldy5vcGFjaXR5ID0gMDtcblxuICAgIC8vIG1hcmsgZm9yIHJlbW92YWxcbiAgICB2aWV3Lm1hcmtlZEZvclJlbW92YWwgPSB0cnVlO1xuICB9O1xuXG4gIHZhciBnZXRJdGVtSGVpZ2h0ID0gZnVuY3Rpb24gZ2V0SXRlbUhlaWdodChjaGlsZCkge1xuICAgIHJldHVybiAoXG4gICAgICBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0ICtcbiAgICAgIGNoaWxkLnJlY3QuZWxlbWVudC5tYXJnaW5Cb3R0b20gKiAwLjUgK1xuICAgICAgY2hpbGQucmVjdC5lbGVtZW50Lm1hcmdpblRvcCAqIDAuNVxuICAgICk7XG4gIH07XG4gIHZhciBnZXRJdGVtV2lkdGggPSBmdW5jdGlvbiBnZXRJdGVtV2lkdGgoY2hpbGQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgY2hpbGQucmVjdC5lbGVtZW50LndpZHRoICtcbiAgICAgIGNoaWxkLnJlY3QuZWxlbWVudC5tYXJnaW5MZWZ0ICogMC41ICtcbiAgICAgIGNoaWxkLnJlY3QuZWxlbWVudC5tYXJnaW5SaWdodCAqIDAuNVxuICAgICk7XG4gIH07XG5cbiAgdmFyIGRyYWdJdGVtID0gZnVuY3Rpb24gZHJhZ0l0ZW0oX3JlZjQpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY0LnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmNC5hY3Rpb247XG4gICAgdmFyIGlkID0gYWN0aW9uLmlkLFxuICAgICAgZHJhZ1N0YXRlID0gYWN0aW9uLmRyYWdTdGF0ZTtcblxuICAgIC8vIHJlZmVyZW5jZSB0byBpdGVtXG4gICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIHsgaWQ6IGlkIH0pO1xuXG4gICAgLy8gZ2V0IHRoZSB2aWV3IG1hdGNoaW5nIHRoZSBnaXZlbiBpZFxuICAgIHZhciB2aWV3ID0gcm9vdC5jaGlsZFZpZXdzLmZpbmQoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIHJldHVybiBjaGlsZC5pZCA9PT0gaWQ7XG4gICAgfSk7XG5cbiAgICB2YXIgbnVtSXRlbXMgPSByb290LmNoaWxkVmlld3MubGVuZ3RoO1xuICAgIHZhciBvbGRJbmRleCA9IGRyYWdTdGF0ZS5nZXRJdGVtSW5kZXgoaXRlbSk7XG5cbiAgICAvLyBpZiBubyB2aWV3IGZvdW5kLCBleGl0XG4gICAgaWYgKCF2aWV3KSByZXR1cm47XG5cbiAgICB2YXIgZHJhZ1Bvc2l0aW9uID0ge1xuICAgICAgeDogdmlldy5kcmFnT3JpZ2luLnggKyB2aWV3LmRyYWdPZmZzZXQueCArIHZpZXcuZHJhZ0NlbnRlci54LFxuICAgICAgeTogdmlldy5kcmFnT3JpZ2luLnkgKyB2aWV3LmRyYWdPZmZzZXQueSArIHZpZXcuZHJhZ0NlbnRlci55XG5cbiAgICAgIC8vIGdldCBkcmFnIGFyZWEgZGltZW5zaW9uc1xuICAgIH07XG4gICAgdmFyIGRyYWdIZWlnaHQgPSBnZXRJdGVtSGVpZ2h0KHZpZXcpO1xuICAgIHZhciBkcmFnV2lkdGggPSBnZXRJdGVtV2lkdGgodmlldyk7XG5cbiAgICAvLyBnZXQgcm93cyBhbmQgY29sdW1ucyAoVGhlcmUgd2lsbCBhbHdheXMgYmUgYXQgbGVhc3Qgb25lIHJvdyBhbmQgb25lIGNvbHVtbiBpZiBhIGZpbGUgaXMgcHJlc2VudClcbiAgICB2YXIgY29scyA9IE1hdGguZmxvb3Iocm9vdC5yZWN0Lm91dGVyLndpZHRoIC8gZHJhZ1dpZHRoKTtcbiAgICBpZiAoY29scyA+IG51bUl0ZW1zKSBjb2xzID0gbnVtSXRlbXM7XG5cbiAgICAvLyByb3dzIGFyZSB1c2VkIHRvIGZpbmQgd2hlbiB3ZSBoYXZlIGxlZnQgdGhlIHByZXZpZXcgYXJlYSBib3VuZGluZyBib3hcbiAgICB2YXIgcm93cyA9IE1hdGguZmxvb3IobnVtSXRlbXMgLyBjb2xzICsgMSk7XG5cbiAgICBkcm9wQXJlYURpbWVuc2lvbnMuc2V0SGVpZ2h0ID0gZHJhZ0hlaWdodCAqIHJvd3M7XG4gICAgZHJvcEFyZWFEaW1lbnNpb25zLnNldFdpZHRoID0gZHJhZ1dpZHRoICogY29scztcblxuICAgIC8vIGdldCBuZXcgaW5kZXggb2YgZHJhZ2dlZCBpdGVtXG4gICAgdmFyIGxvY2F0aW9uID0ge1xuICAgICAgeTogTWF0aC5mbG9vcihkcmFnUG9zaXRpb24ueSAvIGRyYWdIZWlnaHQpLFxuICAgICAgeDogTWF0aC5mbG9vcihkcmFnUG9zaXRpb24ueCAvIGRyYWdXaWR0aCksXG4gICAgICBnZXRHcmlkSW5kZXg6IGZ1bmN0aW9uIGdldEdyaWRJbmRleCgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRyYWdQb3NpdGlvbi55ID4gZHJvcEFyZWFEaW1lbnNpb25zLmdldEhlaWdodCB8fFxuICAgICAgICAgIGRyYWdQb3NpdGlvbi55IDwgMCB8fFxuICAgICAgICAgIGRyYWdQb3NpdGlvbi54ID4gZHJvcEFyZWFEaW1lbnNpb25zLmdldFdpZHRoIHx8XG4gICAgICAgICAgZHJhZ1Bvc2l0aW9uLnggPCAwXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gb2xkSW5kZXg7XG4gICAgICAgIHJldHVybiB0aGlzLnkgKiBjb2xzICsgdGhpcy54O1xuICAgICAgfSxcbiAgICAgIGdldENvbEluZGV4OiBmdW5jdGlvbiBnZXRDb2xJbmRleCgpIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gcm9vdC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpO1xuICAgICAgICB2YXIgdmlzaWJsZUNoaWxkcmVuID0gcm9vdC5jaGlsZFZpZXdzLmZpbHRlcihmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgIHJldHVybiBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0O1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gaXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gdmlzaWJsZUNoaWxkcmVuLmZpbmQoZnVuY3Rpb24oY2hpbGRWaWV3KSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGRWaWV3LmlkID09PSBpdGVtLmlkO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGNoaWxkcmVuLmZpbmRJbmRleChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgIHJldHVybiBjaGlsZCA9PT0gdmlldztcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBkcmFnSGVpZ2h0ID0gZ2V0SXRlbUhlaWdodCh2aWV3KTtcbiAgICAgICAgdmFyIGwgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIHZhciBpZHggPSBsO1xuICAgICAgICB2YXIgY2hpbGRIZWlnaHQgPSAwO1xuICAgICAgICB2YXIgY2hpbGRCb3R0b20gPSAwO1xuICAgICAgICB2YXIgY2hpbGRUb3AgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGNoaWxkSGVpZ2h0ID0gZ2V0SXRlbUhlaWdodChjaGlsZHJlbltpXSk7XG4gICAgICAgICAgY2hpbGRUb3AgPSBjaGlsZEJvdHRvbTtcbiAgICAgICAgICBjaGlsZEJvdHRvbSA9IGNoaWxkVG9wICsgY2hpbGRIZWlnaHQ7XG4gICAgICAgICAgaWYgKGRyYWdQb3NpdGlvbi55IDwgY2hpbGRCb3R0b20pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPiBpKSB7XG4gICAgICAgICAgICAgIGlmIChkcmFnUG9zaXRpb24ueSA8IGNoaWxkVG9wICsgZHJhZ0hlaWdodCkge1xuICAgICAgICAgICAgICAgIGlkeCA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZHggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpZHg7XG4gICAgICB9XG5cbiAgICAgIC8vIGdldCBuZXcgaW5kZXhcbiAgICB9O1xuICAgIHZhciBpbmRleCA9IGNvbHMgPiAxID8gbG9jYXRpb24uZ2V0R3JpZEluZGV4KCkgOiBsb2NhdGlvbi5nZXRDb2xJbmRleCgpO1xuICAgIHJvb3QuZGlzcGF0Y2goJ01PVkVfSVRFTScsIHsgcXVlcnk6IHZpZXcsIGluZGV4OiBpbmRleCB9KTtcblxuICAgIC8vIGlmIHRoZSBpbmRleCBvZiB0aGUgaXRlbSBjaGFuZ2VkLCBkaXNwYXRjaCByZW9yZGVyIGFjdGlvblxuICAgIHZhciBjdXJyZW50SW5kZXggPSBkcmFnU3RhdGUuZ2V0SW5kZXgoKTtcblxuICAgIGlmIChjdXJyZW50SW5kZXggPT09IHVuZGVmaW5lZCB8fCBjdXJyZW50SW5kZXggIT09IGluZGV4KSB7XG4gICAgICBkcmFnU3RhdGUuc2V0SW5kZXgoaW5kZXgpO1xuXG4gICAgICBpZiAoY3VycmVudEluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1JFT1JERVJfSVRFTVMnLCB7XG4gICAgICAgIGl0ZW1zOiByb290LnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJyksXG4gICAgICAgIG9yaWdpbjogb2xkSW5kZXgsXG4gICAgICAgIHRhcmdldDogaW5kZXhcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0dXAgYWN0aW9uIHJvdXRlc1xuICAgKi9cbiAgdmFyIHJvdXRlJDIgPSBjcmVhdGVSb3V0ZSh7XG4gICAgRElEX0FERF9JVEVNOiBhZGRJdGVtVmlldyxcbiAgICBESURfUkVNT1ZFX0lURU06IHJlbW92ZUl0ZW1WaWV3LFxuICAgIERJRF9EUkFHX0lURU06IGRyYWdJdGVtXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBXcml0ZSB0byB2aWV3XG4gICAqIEBwYXJhbSByb290XG4gICAqIEBwYXJhbSBhY3Rpb25zXG4gICAqIEBwYXJhbSBwcm9wc1xuICAgKi9cbiAgdmFyIHdyaXRlJDUgPSBmdW5jdGlvbiB3cml0ZShfcmVmNSkge1xuICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZjUucHJvcHMsXG4gICAgICBhY3Rpb25zID0gX3JlZjUuYWN0aW9ucyxcbiAgICAgIHNob3VsZE9wdGltaXplID0gX3JlZjUuc2hvdWxkT3B0aW1pemU7XG5cbiAgICAvLyByb3V0ZSBhY3Rpb25zXG4gICAgcm91dGUkMih7IHJvb3Q6IHJvb3QsIHByb3BzOiBwcm9wcywgYWN0aW9uczogYWN0aW9ucyB9KTtcbiAgICB2YXIgZHJhZ0Nvb3JkaW5hdGVzID0gcHJvcHMuZHJhZ0Nvb3JkaW5hdGVzO1xuXG4gICAgLy8gYXZhaWxhYmxlIHNwYWNlIG9uIGhvcml6b250YWwgYXhpc1xuICAgIHZhciBob3Jpem9udGFsU3BhY2UgPSByb290LnJlY3QuZWxlbWVudC53aWR0aDtcblxuICAgIC8vIG9ubHkgZHJhdyBjaGlsZHJlbiB0aGF0IGhhdmUgZGltZW5zaW9uc1xuICAgIHZhciB2aXNpYmxlQ2hpbGRyZW4gPSByb290LmNoaWxkVmlld3MuZmlsdGVyKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICByZXR1cm4gY2hpbGQucmVjdC5lbGVtZW50LmhlaWdodDtcbiAgICB9KTtcblxuICAgIC8vIHNvcnQgYmFzZWQgb24gY3VycmVudCBhY3RpdmUgaXRlbXNcbiAgICB2YXIgY2hpbGRyZW4gPSByb290XG4gICAgICAucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKVxuICAgICAgLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiB2aXNpYmxlQ2hpbGRyZW4uZmluZChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgIHJldHVybiBjaGlsZC5pZCA9PT0gaXRlbS5pZDtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG5cbiAgICAvLyBnZXQgaW5kZXhcbiAgICB2YXIgZHJhZ0luZGV4ID0gZHJhZ0Nvb3JkaW5hdGVzXG4gICAgICA/IGdldEl0ZW1JbmRleEJ5UG9zaXRpb24ocm9vdCwgY2hpbGRyZW4sIGRyYWdDb29yZGluYXRlcylcbiAgICAgIDogbnVsbDtcblxuICAgIC8vIGFkZCBpbmRleCBpcyB1c2VkIHRvIHJlc2VydmUgdGhlIGRyb3BwZWQvYWRkZWQgaXRlbSBpbmRleCB0aWxsIHRoZSBhY3R1YWwgaXRlbSBpcyByZW5kZXJlZFxuICAgIHZhciBhZGRJbmRleCA9IHJvb3QucmVmLmFkZEluZGV4IHx8IG51bGw7XG5cbiAgICAvLyBhZGQgaW5kZXggbm8gbG9uZ2VyIG5lZWRlZCB0aWxsIHBvc3NpYmx5IG5leHQgZHJhd1xuICAgIHJvb3QucmVmLmFkZEluZGV4ID0gbnVsbDtcblxuICAgIHZhciBkcmFnSW5kZXhPZmZzZXQgPSAwO1xuICAgIHZhciByZW1vdmVJbmRleE9mZnNldCA9IDA7XG4gICAgdmFyIGFkZEluZGV4T2Zmc2V0ID0gMDtcblxuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIHZhciBjaGlsZFJlY3QgPSBjaGlsZHJlblswXS5yZWN0LmVsZW1lbnQ7XG4gICAgdmFyIGl0ZW1WZXJ0aWNhbE1hcmdpbiA9IGNoaWxkUmVjdC5tYXJnaW5Ub3AgKyBjaGlsZFJlY3QubWFyZ2luQm90dG9tO1xuICAgIHZhciBpdGVtSG9yaXpvbnRhbE1hcmdpbiA9IGNoaWxkUmVjdC5tYXJnaW5MZWZ0ICsgY2hpbGRSZWN0Lm1hcmdpblJpZ2h0O1xuICAgIHZhciBpdGVtV2lkdGggPSBjaGlsZFJlY3Qud2lkdGggKyBpdGVtSG9yaXpvbnRhbE1hcmdpbjtcbiAgICB2YXIgaXRlbUhlaWdodCA9IGNoaWxkUmVjdC5oZWlnaHQgKyBpdGVtVmVydGljYWxNYXJnaW47XG4gICAgdmFyIGl0ZW1zUGVyUm93ID0gTWF0aC5yb3VuZChob3Jpem9udGFsU3BhY2UgLyBpdGVtV2lkdGgpO1xuXG4gICAgLy8gc3RhY2tcbiAgICBpZiAoaXRlbXNQZXJSb3cgPT09IDEpIHtcbiAgICAgIHZhciBvZmZzZXRZID0gMDtcbiAgICAgIHZhciBkcmFnT2Zmc2V0ID0gMDtcblxuICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGRyYWdJbmRleCkge1xuICAgICAgICAgIHZhciBkaXN0ID0gaW5kZXggLSBkcmFnSW5kZXg7XG4gICAgICAgICAgaWYgKGRpc3QgPT09IC0yKSB7XG4gICAgICAgICAgICBkcmFnT2Zmc2V0ID0gLWl0ZW1WZXJ0aWNhbE1hcmdpbiAqIDAuMjU7XG4gICAgICAgICAgfSBlbHNlIGlmIChkaXN0ID09PSAtMSkge1xuICAgICAgICAgICAgZHJhZ09mZnNldCA9IC1pdGVtVmVydGljYWxNYXJnaW4gKiAwLjc1O1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGlzdCA9PT0gMCkge1xuICAgICAgICAgICAgZHJhZ09mZnNldCA9IGl0ZW1WZXJ0aWNhbE1hcmdpbiAqIDAuNzU7XG4gICAgICAgICAgfSBlbHNlIGlmIChkaXN0ID09PSAxKSB7XG4gICAgICAgICAgICBkcmFnT2Zmc2V0ID0gaXRlbVZlcnRpY2FsTWFyZ2luICogMC4yNTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZHJhZ09mZnNldCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNob3VsZE9wdGltaXplKSB7XG4gICAgICAgICAgY2hpbGQudHJhbnNsYXRlWCA9IG51bGw7XG4gICAgICAgICAgY2hpbGQudHJhbnNsYXRlWSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNoaWxkLm1hcmtlZEZvclJlbW92YWwpIHtcbiAgICAgICAgICBtb3ZlSXRlbShjaGlsZCwgMCwgb2Zmc2V0WSArIGRyYWdPZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGl0ZW1IZWlnaHQgPSBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0ICsgaXRlbVZlcnRpY2FsTWFyZ2luO1xuXG4gICAgICAgIHZhciB2aXN1YWxIZWlnaHQgPVxuICAgICAgICAgIGl0ZW1IZWlnaHQgKiAoY2hpbGQubWFya2VkRm9yUmVtb3ZhbCA/IGNoaWxkLm9wYWNpdHkgOiAxKTtcblxuICAgICAgICBvZmZzZXRZICs9IHZpc3VhbEhlaWdodDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBncmlkXG4gICAgZWxzZSB7XG4gICAgICB2YXIgcHJldlggPSAwO1xuICAgICAgdmFyIHByZXZZID0gMDtcblxuICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSBkcmFnSW5kZXgpIHtcbiAgICAgICAgICBkcmFnSW5kZXhPZmZzZXQgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSBhZGRJbmRleCkge1xuICAgICAgICAgIGFkZEluZGV4T2Zmc2V0ICs9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGQubWFya2VkRm9yUmVtb3ZhbCAmJiBjaGlsZC5vcGFjaXR5IDwgMC41KSB7XG4gICAgICAgICAgcmVtb3ZlSW5kZXhPZmZzZXQgLT0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2aXN1YWxJbmRleCA9XG4gICAgICAgICAgaW5kZXggKyBhZGRJbmRleE9mZnNldCArIGRyYWdJbmRleE9mZnNldCArIHJlbW92ZUluZGV4T2Zmc2V0O1xuXG4gICAgICAgIHZhciBpbmRleFggPSB2aXN1YWxJbmRleCAlIGl0ZW1zUGVyUm93O1xuICAgICAgICB2YXIgaW5kZXhZID0gTWF0aC5mbG9vcih2aXN1YWxJbmRleCAvIGl0ZW1zUGVyUm93KTtcblxuICAgICAgICB2YXIgb2Zmc2V0WCA9IGluZGV4WCAqIGl0ZW1XaWR0aDtcbiAgICAgICAgdmFyIG9mZnNldFkgPSBpbmRleFkgKiBpdGVtSGVpZ2h0O1xuXG4gICAgICAgIHZhciB2ZWN0b3JYID0gTWF0aC5zaWduKG9mZnNldFggLSBwcmV2WCk7XG4gICAgICAgIHZhciB2ZWN0b3JZID0gTWF0aC5zaWduKG9mZnNldFkgLSBwcmV2WSk7XG5cbiAgICAgICAgcHJldlggPSBvZmZzZXRYO1xuICAgICAgICBwcmV2WSA9IG9mZnNldFk7XG5cbiAgICAgICAgaWYgKGNoaWxkLm1hcmtlZEZvclJlbW92YWwpIHJldHVybjtcblxuICAgICAgICBpZiAoc2hvdWxkT3B0aW1pemUpIHtcbiAgICAgICAgICBjaGlsZC50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgICAgICBjaGlsZC50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vdmVJdGVtKGNoaWxkLCBvZmZzZXRYLCBvZmZzZXRZLCB2ZWN0b3JYLCB2ZWN0b3JZKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRmlsdGVycyBhY3Rpb25zIHRoYXQgYXJlIG1lYW50IHNwZWNpZmljYWxseSBmb3IgYSBjZXJ0YWluIGNoaWxkIG9mIHRoZSBsaXN0XG4gICAqIEBwYXJhbSBjaGlsZFxuICAgKiBAcGFyYW0gYWN0aW9uc1xuICAgKi9cbiAgdmFyIGZpbHRlclNldEl0ZW1BY3Rpb25zID0gZnVuY3Rpb24gZmlsdGVyU2V0SXRlbUFjdGlvbnMoY2hpbGQsIGFjdGlvbnMpIHtcbiAgICByZXR1cm4gYWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAvLyBpZiBhY3Rpb24gaGFzIGFuIGlkLCBmaWx0ZXIgb3V0IGFjdGlvbnMgdGhhdCBkb24ndCBoYXZlIHRoaXMgY2hpbGQgaWRcbiAgICAgIGlmIChhY3Rpb24uZGF0YSAmJiBhY3Rpb24uZGF0YS5pZCkge1xuICAgICAgICByZXR1cm4gY2hpbGQuaWQgPT09IGFjdGlvbi5kYXRhLmlkO1xuICAgICAgfVxuXG4gICAgICAvLyBhbGxvdyBhbGwgb3RoZXIgYWN0aW9uc1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGxpc3QgPSBjcmVhdGVWaWV3KHtcbiAgICBjcmVhdGU6IGNyZWF0ZSQ4LFxuICAgIHdyaXRlOiB3cml0ZSQ1LFxuICAgIHRhZzogJ3VsJyxcbiAgICBuYW1lOiAnbGlzdCcsXG4gICAgZGlkV3JpdGVWaWV3OiBmdW5jdGlvbiBkaWRXcml0ZVZpZXcoX3JlZjYpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjYucm9vdDtcbiAgICAgIHJvb3QuY2hpbGRWaWV3c1xuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKHZpZXcpIHtcbiAgICAgICAgICByZXR1cm4gdmlldy5tYXJrZWRGb3JSZW1vdmFsICYmIHZpZXcub3BhY2l0eSA9PT0gMCAmJiB2aWV3LnJlc3Rpbmc7XG4gICAgICAgIH0pXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKHZpZXcpIHtcbiAgICAgICAgICB2aWV3Ll9kZXN0cm95KCk7XG4gICAgICAgICAgcm9vdC5yZW1vdmVDaGlsZFZpZXcodmlldyk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZmlsdGVyRnJhbWVBY3Rpb25zRm9yQ2hpbGQ6IGZpbHRlclNldEl0ZW1BY3Rpb25zLFxuICAgIG1peGluczoge1xuICAgICAgYXBpczogWydkcmFnQ29vcmRpbmF0ZXMnXVxuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGNyZWF0ZSQ5ID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICByb290LnJlZi5saXN0ID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcocm9vdC5jcmVhdGVDaGlsZFZpZXcobGlzdCkpO1xuICAgIHByb3BzLmRyYWdDb29yZGluYXRlcyA9IG51bGw7XG4gICAgcHJvcHMub3ZlcmZsb3dpbmcgPSBmYWxzZTtcbiAgfTtcblxuICB2YXIgc3RvcmVEcmFnQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbiBzdG9yZURyYWdDb29yZGluYXRlcyhfcmVmMikge1xuICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZjIucHJvcHMsXG4gICAgICBhY3Rpb24gPSBfcmVmMi5hY3Rpb247XG4gICAgaWYgKCFyb290LnF1ZXJ5KCdHRVRfSVRFTV9JTlNFUlRfTE9DQVRJT05fRlJFRURPTScpKSByZXR1cm47XG4gICAgcHJvcHMuZHJhZ0Nvb3JkaW5hdGVzID0ge1xuICAgICAgbGVmdDogYWN0aW9uLnBvc2l0aW9uLnNjb3BlTGVmdCAtIHJvb3QucmVmLmxpc3QucmVjdC5lbGVtZW50LmxlZnQsXG4gICAgICB0b3A6XG4gICAgICAgIGFjdGlvbi5wb3NpdGlvbi5zY29wZVRvcCAtXG4gICAgICAgIChyb290LnJlY3Qub3V0ZXIudG9wICtcbiAgICAgICAgICByb290LnJlY3QuZWxlbWVudC5tYXJnaW5Ub3AgK1xuICAgICAgICAgIHJvb3QucmVjdC5lbGVtZW50LnNjcm9sbFRvcClcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjbGVhckRyYWdDb29yZGluYXRlcyA9IGZ1bmN0aW9uIGNsZWFyRHJhZ0Nvb3JkaW5hdGVzKF9yZWYzKSB7XG4gICAgdmFyIHByb3BzID0gX3JlZjMucHJvcHM7XG4gICAgcHJvcHMuZHJhZ0Nvb3JkaW5hdGVzID0gbnVsbDtcbiAgfTtcblxuICB2YXIgcm91dGUkMyA9IGNyZWF0ZVJvdXRlKHtcbiAgICBESURfRFJBRzogc3RvcmVEcmFnQ29vcmRpbmF0ZXMsXG4gICAgRElEX0VORF9EUkFHOiBjbGVhckRyYWdDb29yZGluYXRlc1xuICB9KTtcblxuICB2YXIgd3JpdGUkNiA9IGZ1bmN0aW9uIHdyaXRlKF9yZWY0KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmNC5yb290LFxuICAgICAgcHJvcHMgPSBfcmVmNC5wcm9wcyxcbiAgICAgIGFjdGlvbnMgPSBfcmVmNC5hY3Rpb25zO1xuXG4gICAgLy8gcm91dGUgYWN0aW9uc1xuICAgIHJvdXRlJDMoeyByb290OiByb290LCBwcm9wczogcHJvcHMsIGFjdGlvbnM6IGFjdGlvbnMgfSk7XG5cbiAgICAvLyBjdXJyZW50IGRyYWcgcG9zaXRpb25cbiAgICByb290LnJlZi5saXN0LmRyYWdDb29yZGluYXRlcyA9IHByb3BzLmRyYWdDb29yZGluYXRlcztcblxuICAgIC8vIGlmIGN1cnJlbnRseSBvdmVyZmxvd2luZyBidXQgbm8gbG9uZ2VyIHJlY2VpdmVkIG92ZXJmbG93XG4gICAgaWYgKHByb3BzLm92ZXJmbG93aW5nICYmICFwcm9wcy5vdmVyZmxvdykge1xuICAgICAgcHJvcHMub3ZlcmZsb3dpbmcgPSBmYWxzZTtcblxuICAgICAgLy8gcmVzZXQgb3ZlcmZsb3cgc3RhdGVcbiAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LnN0YXRlID0gJyc7XG4gICAgICByb290LmhlaWdodCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gaWYgaXMgbm90IG92ZXJmbG93aW5nIGN1cnJlbnRseSBidXQgZG9lcyByZWNlaXZlIG92ZXJmbG93IHZhbHVlXG4gICAgaWYgKHByb3BzLm92ZXJmbG93KSB7XG4gICAgICB2YXIgbmV3SGVpZ2h0ID0gTWF0aC5yb3VuZChwcm9wcy5vdmVyZmxvdyk7XG4gICAgICBpZiAobmV3SGVpZ2h0ICE9PSByb290LmhlaWdodCkge1xuICAgICAgICBwcm9wcy5vdmVyZmxvd2luZyA9IHRydWU7XG4gICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LnN0YXRlID0gJ292ZXJmbG93JztcbiAgICAgICAgcm9vdC5oZWlnaHQgPSBuZXdIZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBsaXN0U2Nyb2xsZXIgPSBjcmVhdGVWaWV3KHtcbiAgICBjcmVhdGU6IGNyZWF0ZSQ5LFxuICAgIHdyaXRlOiB3cml0ZSQ2LFxuICAgIG5hbWU6ICdsaXN0LXNjcm9sbGVyJyxcbiAgICBtaXhpbnM6IHtcbiAgICAgIGFwaXM6IFsnb3ZlcmZsb3cnLCAnZHJhZ0Nvb3JkaW5hdGVzJ10sXG4gICAgICBzdHlsZXM6IFsnaGVpZ2h0JywgJ3RyYW5zbGF0ZVknXSxcbiAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZydcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZhciBhdHRyVG9nZ2xlID0gZnVuY3Rpb24gYXR0clRvZ2dsZShlbGVtZW50LCBuYW1lLCBzdGF0ZSkge1xuICAgIHZhciBlbmFibGVkVmFsdWUgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnJztcbiAgICBpZiAoc3RhdGUpIHtcbiAgICAgIGF0dHIoZWxlbWVudCwgbmFtZSwgZW5hYmxlZFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciByZXNldEZpbGVJbnB1dCA9IGZ1bmN0aW9uIHJlc2V0RmlsZUlucHV0KGlucHV0KSB7XG4gICAgLy8gbm8gdmFsdWUsIG5vIG5lZWQgdG8gcmVzZXRcbiAgICBpZiAoIWlucHV0IHx8IGlucHV0LnZhbHVlID09PSAnJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBmb3IgbW9kZXJuIGJyb3dzZXJzXG4gICAgICBpbnB1dC52YWx1ZSA9ICcnO1xuICAgIH0gY2F0Y2ggKGVycikge31cblxuICAgIC8vIGZvciBJRTEwXG4gICAgaWYgKGlucHV0LnZhbHVlKSB7XG4gICAgICAvLyBxdWlja2x5IGFwcGVuZCBpbnB1dCB0byB0ZW1wIGZvcm0gYW5kIHJlc2V0IGZvcm1cbiAgICAgIHZhciBmb3JtID0gY3JlYXRlRWxlbWVudCQxKCdmb3JtJyk7XG4gICAgICB2YXIgcGFyZW50Tm9kZSA9IGlucHV0LnBhcmVudE5vZGU7XG4gICAgICB2YXIgcmVmID0gaW5wdXQubmV4dFNpYmxpbmc7XG4gICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgIGZvcm0ucmVzZXQoKTtcblxuICAgICAgLy8gcmUtaW5qZWN0IGlucHV0IHdoZXJlIGl0IG9yaWdpbmFsbHkgd2FzXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGlucHV0LCByZWYpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBjcmVhdGUkYSA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG5cbiAgICAvLyBzZXQgaWQgc28gY2FuIGJlIHJlZmVyZW5jZWQgZnJvbSBvdXRzaWRlIGxhYmVsc1xuICAgIHJvb3QuZWxlbWVudC5pZCA9ICdmaWxlcG9uZC0tYnJvd3Nlci0nICsgcHJvcHMuaWQ7XG5cbiAgICAvLyBzZXQgbmFtZSBvZiBlbGVtZW50IChpcyByZW1vdmVkIHdoZW4gYSB2YWx1ZSBpcyBzZXQpXG4gICAgYXR0cihyb290LmVsZW1lbnQsICduYW1lJywgcm9vdC5xdWVyeSgnR0VUX05BTUUnKSk7XG5cbiAgICAvLyB3ZSBoYXZlIHRvIGxpbmsgdGhpcyBlbGVtZW50IHRvIHRoZSBzdGF0dXMgZWxlbWVudFxuICAgIGF0dHIocm9vdC5lbGVtZW50LCAnYXJpYS1jb250cm9scycsICdmaWxlcG9uZC0tYXNzaXN0YW50LScgKyBwcm9wcy5pZCk7XG5cbiAgICAvLyBzZXQgbGFiZWwsIHdlIHVzZSBsYWJlbGxlZCBieSBhcyBvdGhlcndpc2UgdGhlIHNjcmVlbnJlYWRlciBkb2VzIG5vdCByZWFkIHRoZSBcImJyb3dzZVwiIHRleHQgaW4gdGhlIGxhYmVsIChhcyBpdCBoYXMgdGFiaW5kZXg6IDApXG4gICAgYXR0cihyb290LmVsZW1lbnQsICdhcmlhLWxhYmVsbGVkYnknLCAnZmlsZXBvbmQtLWRyb3AtbGFiZWwtJyArIHByb3BzLmlkKTtcblxuICAgIC8vIHNldCBjb25maWd1cmFibGUgcHJvcHNcbiAgICBzZXRBY2NlcHRlZEZpbGVUeXBlcyh7XG4gICAgICByb290OiByb290LFxuICAgICAgYWN0aW9uOiB7IHZhbHVlOiByb290LnF1ZXJ5KCdHRVRfQUNDRVBURURfRklMRV9UWVBFUycpIH1cbiAgICB9KTtcbiAgICB0b2dnbGVBbGxvd011bHRpcGxlKHtcbiAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICBhY3Rpb246IHsgdmFsdWU6IHJvb3QucXVlcnkoJ0dFVF9BTExPV19NVUxUSVBMRScpIH1cbiAgICB9KTtcbiAgICB0b2dnbGVEaXJlY3RvcnlGaWx0ZXIoe1xuICAgICAgcm9vdDogcm9vdCxcbiAgICAgIGFjdGlvbjogeyB2YWx1ZTogcm9vdC5xdWVyeSgnR0VUX0FMTE9XX0RJUkVDVE9SSUVTX09OTFknKSB9XG4gICAgfSk7XG4gICAgdG9nZ2xlRGlzYWJsZWQoeyByb290OiByb290IH0pO1xuICAgIHRvZ2dsZVJlcXVpcmVkKHtcbiAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICBhY3Rpb246IHsgdmFsdWU6IHJvb3QucXVlcnkoJ0dFVF9SRVFVSVJFRCcpIH1cbiAgICB9KTtcbiAgICBzZXRDYXB0dXJlTWV0aG9kKHtcbiAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICBhY3Rpb246IHsgdmFsdWU6IHJvb3QucXVlcnkoJ0dFVF9DQVBUVVJFX01FVEhPRCcpIH1cbiAgICB9KTtcblxuICAgIC8vIGhhbmRsZSBjaGFuZ2VzIHRvIHRoZSBpbnB1dCBmaWVsZFxuICAgIHJvb3QucmVmLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghcm9vdC5lbGVtZW50LnZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gZXh0cmFjdCBmaWxlcyBhbmQgbW92ZSB2YWx1ZSBvZiB3ZWJraXRSZWxhdGl2ZVBhdGggcGF0aCB0byBfcmVsYXRpdmVQYXRoXG4gICAgICB2YXIgZmlsZXMgPSBBcnJheS5mcm9tKHJvb3QuZWxlbWVudC5maWxlcykubWFwKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgZmlsZS5fcmVsYXRpdmVQYXRoID0gZmlsZS53ZWJraXRSZWxhdGl2ZVBhdGg7XG4gICAgICAgIHJldHVybiBmaWxlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHdlIGFkZCBhIGxpdHRsZSBkZWxheSBzbyB0aGUgT1MgZmlsZSBzZWxlY3Qgd2luZG93IGNhbiBtb3ZlIG91dCBvZiB0aGUgd2F5IGJlZm9yZSB3ZSBhZGQgb3VyIGZpbGVcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGxvYWQgZmlsZXNcbiAgICAgICAgcHJvcHMub25sb2FkKGZpbGVzKTtcblxuICAgICAgICAvLyByZXNldCBpbnB1dCwgaXQncyBqdXN0IGZvciBleHBvc2luZyBhIG1ldGhvZCB0byBkcm9wIGZpbGVzLCBzaG91bGQgbm90IHJldGFpbiBhbnkgc3RhdGVcbiAgICAgICAgcmVzZXRGaWxlSW5wdXQocm9vdC5lbGVtZW50KTtcbiAgICAgIH0sIDI1MCk7XG4gICAgfTtcblxuICAgIHJvb3QuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCByb290LnJlZi5oYW5kbGVDaGFuZ2UpO1xuICB9O1xuXG4gIHZhciBzZXRBY2NlcHRlZEZpbGVUeXBlcyA9IGZ1bmN0aW9uIHNldEFjY2VwdGVkRmlsZVR5cGVzKF9yZWYyKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgYWN0aW9uID0gX3JlZjIuYWN0aW9uO1xuICAgIGlmICghcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1NZTkNfQUNDRVBUX0FUVFJJQlVURScpKSByZXR1cm47XG4gICAgYXR0clRvZ2dsZShcbiAgICAgIHJvb3QuZWxlbWVudCxcbiAgICAgICdhY2NlcHQnLFxuICAgICAgISFhY3Rpb24udmFsdWUsXG4gICAgICBhY3Rpb24udmFsdWUgPyBhY3Rpb24udmFsdWUuam9pbignLCcpIDogJydcbiAgICApO1xuICB9O1xuXG4gIHZhciB0b2dnbGVBbGxvd011bHRpcGxlID0gZnVuY3Rpb24gdG9nZ2xlQWxsb3dNdWx0aXBsZShfcmVmMykge1xuICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWYzLmFjdGlvbjtcbiAgICBhdHRyVG9nZ2xlKHJvb3QuZWxlbWVudCwgJ211bHRpcGxlJywgYWN0aW9uLnZhbHVlKTtcbiAgfTtcblxuICB2YXIgdG9nZ2xlRGlyZWN0b3J5RmlsdGVyID0gZnVuY3Rpb24gdG9nZ2xlRGlyZWN0b3J5RmlsdGVyKF9yZWY0KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmNC5yb290LFxuICAgICAgYWN0aW9uID0gX3JlZjQuYWN0aW9uO1xuICAgIGF0dHJUb2dnbGUocm9vdC5lbGVtZW50LCAnd2Via2l0ZGlyZWN0b3J5JywgYWN0aW9uLnZhbHVlKTtcbiAgfTtcblxuICB2YXIgdG9nZ2xlRGlzYWJsZWQgPSBmdW5jdGlvbiB0b2dnbGVEaXNhYmxlZChfcmVmNSkge1xuICAgIHZhciByb290ID0gX3JlZjUucm9vdDtcbiAgICB2YXIgaXNEaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgIHZhciBkb2VzQWxsb3dCcm93c2UgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfQlJPV1NFJyk7XG4gICAgdmFyIGRpc2FibGVGaWVsZCA9IGlzRGlzYWJsZWQgfHwgIWRvZXNBbGxvd0Jyb3dzZTtcbiAgICBhdHRyVG9nZ2xlKHJvb3QuZWxlbWVudCwgJ2Rpc2FibGVkJywgZGlzYWJsZUZpZWxkKTtcbiAgfTtcblxuICB2YXIgdG9nZ2xlUmVxdWlyZWQgPSBmdW5jdGlvbiB0b2dnbGVSZXF1aXJlZChfcmVmNikge1xuICAgIHZhciByb290ID0gX3JlZjYucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWY2LmFjdGlvbjtcbiAgICAvLyB3YW50IHRvIHJlbW92ZSByZXF1aXJlZCwgYWx3YXlzIHBvc3NpYmxlXG4gICAgaWYgKCFhY3Rpb24udmFsdWUpIHtcbiAgICAgIGF0dHJUb2dnbGUocm9vdC5lbGVtZW50LCAncmVxdWlyZWQnLCBmYWxzZSk7XG4gICAgfVxuICAgIC8vIGlmIHdhbnQgdG8gbWFrZSByZXF1aXJlZCwgb25seSBwb3NzaWJsZSB3aGVuIHplcm8gaXRlbXNcbiAgICBlbHNlIGlmIChyb290LnF1ZXJ5KCdHRVRfVE9UQUxfSVRFTVMnKSA9PT0gMCkge1xuICAgICAgYXR0clRvZ2dsZShyb290LmVsZW1lbnQsICdyZXF1aXJlZCcsIHRydWUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgc2V0Q2FwdHVyZU1ldGhvZCA9IGZ1bmN0aW9uIHNldENhcHR1cmVNZXRob2QoX3JlZjcpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY3LnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmNy5hY3Rpb247XG4gICAgYXR0clRvZ2dsZShcbiAgICAgIHJvb3QuZWxlbWVudCxcbiAgICAgICdjYXB0dXJlJyxcbiAgICAgICEhYWN0aW9uLnZhbHVlLFxuICAgICAgYWN0aW9uLnZhbHVlID09PSB0cnVlID8gJycgOiBhY3Rpb24udmFsdWVcbiAgICApO1xuICB9O1xuXG4gIHZhciB1cGRhdGVSZXF1aXJlZFN0YXR1cyA9IGZ1bmN0aW9uIHVwZGF0ZVJlcXVpcmVkU3RhdHVzKF9yZWY4KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmOC5yb290O1xuICAgIHZhciBlbGVtZW50ID0gcm9vdC5lbGVtZW50O1xuICAgIC8vIGFsd2F5cyByZW1vdmUgdGhlIHJlcXVpcmVkIGF0dHJpYnV0ZSB3aGVuIG1vcmUgdGhhbiB6ZXJvIGl0ZW1zXG4gICAgaWYgKHJvb3QucXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpID4gMCkge1xuICAgICAgYXR0clRvZ2dsZShlbGVtZW50LCAncmVxdWlyZWQnLCBmYWxzZSk7XG4gICAgICBhdHRyVG9nZ2xlKGVsZW1lbnQsICduYW1lJywgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhZGQgbmFtZSBhdHRyaWJ1dGVcbiAgICAgIGF0dHJUb2dnbGUoZWxlbWVudCwgJ25hbWUnLCB0cnVlLCByb290LnF1ZXJ5KCdHRVRfTkFNRScpKTtcblxuICAgICAgLy8gcmVtb3ZlIGFueSB2YWxpZGF0aW9uIG1lc3NhZ2VzXG4gICAgICB2YXIgc2hvdWxkQ2hlY2tWYWxpZGl0eSA9IHJvb3QucXVlcnkoJ0dFVF9DSEVDS19WQUxJRElUWScpO1xuICAgICAgaWYgKHNob3VsZENoZWNrVmFsaWRpdHkpIHtcbiAgICAgICAgZWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIG9ubHkgYWRkIHJlcXVpcmVkIGlmIHRoZSBmaWVsZCBoYXMgYmVlbiBkZWVtZWQgcmVxdWlyZWRcbiAgICAgIGlmIChyb290LnF1ZXJ5KCdHRVRfUkVRVUlSRUQnKSkge1xuICAgICAgICBhdHRyVG9nZ2xlKGVsZW1lbnQsICdyZXF1aXJlZCcsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgdXBkYXRlRmllbGRWYWxpZGl0eVN0YXR1cyA9IGZ1bmN0aW9uIHVwZGF0ZUZpZWxkVmFsaWRpdHlTdGF0dXMoX3JlZjkpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY5LnJvb3Q7XG4gICAgdmFyIHNob3VsZENoZWNrVmFsaWRpdHkgPSByb290LnF1ZXJ5KCdHRVRfQ0hFQ0tfVkFMSURJVFknKTtcbiAgICBpZiAoIXNob3VsZENoZWNrVmFsaWRpdHkpIHJldHVybjtcbiAgICByb290LmVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkocm9vdC5xdWVyeSgnR0VUX0xBQkVMX0lOVkFMSURfRklFTEQnKSk7XG4gIH07XG5cbiAgdmFyIGJyb3dzZXIgPSBjcmVhdGVWaWV3KHtcbiAgICB0YWc6ICdpbnB1dCcsXG4gICAgbmFtZTogJ2Jyb3dzZXInLFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICB0eXBlOiAnZmlsZSdcbiAgICB9LFxuXG4gICAgY3JlYXRlOiBjcmVhdGUkYSxcbiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KF9yZWYxMCkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmMTAucm9vdDtcbiAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCByb290LnJlZi5oYW5kbGVDaGFuZ2UpO1xuICAgIH0sXG4gICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgIERJRF9MT0FEX0lURU06IHVwZGF0ZVJlcXVpcmVkU3RhdHVzLFxuICAgICAgRElEX1JFTU9WRV9JVEVNOiB1cGRhdGVSZXF1aXJlZFN0YXR1cyxcbiAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IHVwZGF0ZUZpZWxkVmFsaWRpdHlTdGF0dXMsXG5cbiAgICAgIERJRF9TRVRfRElTQUJMRUQ6IHRvZ2dsZURpc2FibGVkLFxuICAgICAgRElEX1NFVF9BTExPV19CUk9XU0U6IHRvZ2dsZURpc2FibGVkLFxuICAgICAgRElEX1NFVF9BTExPV19ESVJFQ1RPUklFU19PTkxZOiB0b2dnbGVEaXJlY3RvcnlGaWx0ZXIsXG4gICAgICBESURfU0VUX0FMTE9XX01VTFRJUExFOiB0b2dnbGVBbGxvd011bHRpcGxlLFxuICAgICAgRElEX1NFVF9BQ0NFUFRFRF9GSUxFX1RZUEVTOiBzZXRBY2NlcHRlZEZpbGVUeXBlcyxcbiAgICAgIERJRF9TRVRfQ0FQVFVSRV9NRVRIT0Q6IHNldENhcHR1cmVNZXRob2QsXG4gICAgICBESURfU0VUX1JFUVVJUkVEOiB0b2dnbGVSZXF1aXJlZFxuICAgIH0pXG4gIH0pO1xuXG4gIHZhciBLZXkgPSB7XG4gICAgRU5URVI6IDEzLFxuICAgIFNQQUNFOiAzMlxuICB9O1xuXG4gIHZhciBjcmVhdGUkYiA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG5cbiAgICAvLyBjcmVhdGUgdGhlIGxhYmVsIGFuZCBsaW5rIGl0IHRvIHRoZSBmaWxlIGJyb3dzZXJcbiAgICB2YXIgbGFiZWwgPSBjcmVhdGVFbGVtZW50JDEoJ2xhYmVsJyk7XG4gICAgYXR0cihsYWJlbCwgJ2ZvcicsICdmaWxlcG9uZC0tYnJvd3Nlci0nICsgcHJvcHMuaWQpO1xuXG4gICAgLy8gdXNlIGZvciBsYWJlbGluZyBmaWxlIGlucHV0IChhcmlhLWxhYmVsbGVkYnkgb24gZmlsZSBpbnB1dClcbiAgICBhdHRyKGxhYmVsLCAnaWQnLCAnZmlsZXBvbmQtLWRyb3AtbGFiZWwtJyArIHByb3BzLmlkKTtcblxuICAgIC8vIGhpZGUgdGhlIGxhYmVsIGZvciBzY3JlZW5yZWFkZXJzLCB0aGUgaW5wdXQgZWxlbWVudCB3aWxsIHJlYWQgdGhlIGNvbnRlbnRzIG9mIHRoZSBsYWJlbCB3aGVuIGl0J3MgZm9jdXNzZWQuIElmIHdlIGRvbid0IHNldCBhcmlhLWhpZGRlbiB0aGUgc2NyZWVucmVhZGVyIHdpbGwgYWxzbyBuYXZpZ2F0ZSB0aGUgY29udGVudHMgb2YgdGhlIGxhYmVsIHNlcGFyYXRlbHkgZnJvbSB0aGUgaW5wdXQuXG4gICAgYXR0cihsYWJlbCwgJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgIC8vIGhhbmRsZSBrZXlzXG4gICAgcm9vdC5yZWYuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBpc0FjdGl2YXRpb25LZXkgPSBlLmtleUNvZGUgPT09IEtleS5FTlRFUiB8fCBlLmtleUNvZGUgPT09IEtleS5TUEFDRTtcbiAgICAgIGlmICghaXNBY3RpdmF0aW9uS2V5KSByZXR1cm47XG4gICAgICAvLyBzdG9wcyBmcm9tIHRyaWdnZXJpbmcgdGhlIGVsZW1lbnQgYSBzZWNvbmQgdGltZVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAvLyBjbGljayBsaW5rICh3aWxsIHRoZW4gaW4gdHVybiBhY3RpdmF0ZSBmaWxlIGlucHV0KVxuICAgICAgcm9vdC5yZWYubGFiZWwuY2xpY2soKTtcbiAgICB9O1xuXG4gICAgcm9vdC5yZWYuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgaXNMYWJlbENsaWNrID0gZS50YXJnZXQgPT09IGxhYmVsIHx8IGxhYmVsLmNvbnRhaW5zKGUudGFyZ2V0KTtcblxuICAgICAgLy8gZG9uJ3Qgd2FudCB0byBjbGljayB0d2ljZVxuICAgICAgaWYgKGlzTGFiZWxDbGljaykgcmV0dXJuO1xuXG4gICAgICAvLyBjbGljayBsaW5rICh3aWxsIHRoZW4gaW4gdHVybiBhY3RpdmF0ZSBmaWxlIGlucHV0KVxuICAgICAgcm9vdC5yZWYubGFiZWwuY2xpY2soKTtcbiAgICB9O1xuXG4gICAgLy8gYXR0YWNoIGV2ZW50c1xuICAgIGxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCByb290LnJlZi5oYW5kbGVLZXlEb3duKTtcbiAgICByb290LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVDbGljayk7XG5cbiAgICAvLyB1cGRhdGVcbiAgICB1cGRhdGVMYWJlbFZhbHVlKGxhYmVsLCBwcm9wcy5jYXB0aW9uKTtcblxuICAgIC8vIGFkZCFcbiAgICByb290LmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICByb290LnJlZi5sYWJlbCA9IGxhYmVsO1xuICB9O1xuXG4gIHZhciB1cGRhdGVMYWJlbFZhbHVlID0gZnVuY3Rpb24gdXBkYXRlTGFiZWxWYWx1ZShsYWJlbCwgdmFsdWUpIHtcbiAgICBsYWJlbC5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgICB2YXIgY2xpY2thYmxlID0gbGFiZWwucXVlcnlTZWxlY3RvcignLmZpbGVwb25kLS1sYWJlbC1hY3Rpb24nKTtcbiAgICBpZiAoY2xpY2thYmxlKSB7XG4gICAgICBhdHRyKGNsaWNrYWJsZSwgJ3RhYmluZGV4JywgJzAnKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIHZhciBkcm9wTGFiZWwgPSBjcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnZHJvcC1sYWJlbCcsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBjcmVhdGU6IGNyZWF0ZSRiLFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koX3JlZjIpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjIucm9vdDtcbiAgICAgIHJvb3QucmVmLmxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCByb290LnJlZi5oYW5kbGVLZXlEb3duKTtcbiAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJvb3QucmVmLmhhbmRsZUNsaWNrKTtcbiAgICB9LFxuICAgIHdyaXRlOiBjcmVhdGVSb3V0ZSh7XG4gICAgICBESURfU0VUX0xBQkVMX0lETEU6IGZ1bmN0aW9uIERJRF9TRVRfTEFCRUxfSURMRShfcmVmMykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICAgICAgYWN0aW9uID0gX3JlZjMuYWN0aW9uO1xuICAgICAgICB1cGRhdGVMYWJlbFZhbHVlKHJvb3QucmVmLmxhYmVsLCBhY3Rpb24udmFsdWUpO1xuICAgICAgfVxuICAgIH0pLFxuXG4gICAgbWl4aW5zOiB7XG4gICAgICBzdHlsZXM6IFsnb3BhY2l0eScsICd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknXSxcbiAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogMTUwIH0sXG4gICAgICAgIHRyYW5zbGF0ZVg6ICdzcHJpbmcnLFxuICAgICAgICB0cmFuc2xhdGVZOiAnc3ByaW5nJ1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGJsb2IgPSBjcmVhdGVWaWV3KHtcbiAgICBuYW1lOiAnZHJpcC1ibG9iJyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIG1peGluczoge1xuICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ29wYWNpdHknXSxcbiAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgc2NhbGVYOiAnc3ByaW5nJyxcbiAgICAgICAgc2NhbGVZOiAnc3ByaW5nJyxcbiAgICAgICAgdHJhbnNsYXRlWDogJ3NwcmluZycsXG4gICAgICAgIHRyYW5zbGF0ZVk6ICdzcHJpbmcnLFxuICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiAyNTAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGFkZEJsb2IgPSBmdW5jdGlvbiBhZGRCbG9iKF9yZWYpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdDtcbiAgICB2YXIgY2VudGVyWCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoICogMC41O1xuICAgIHZhciBjZW50ZXJZID0gcm9vdC5yZWN0LmVsZW1lbnQuaGVpZ2h0ICogMC41O1xuXG4gICAgcm9vdC5yZWYuYmxvYiA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoYmxvYiwge1xuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICBzY2FsZVg6IDIuNSxcbiAgICAgICAgc2NhbGVZOiAyLjUsXG4gICAgICAgIHRyYW5zbGF0ZVg6IGNlbnRlclgsXG4gICAgICAgIHRyYW5zbGF0ZVk6IGNlbnRlcllcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICB2YXIgbW92ZUJsb2IgPSBmdW5jdGlvbiBtb3ZlQmxvYihfcmVmMikge1xuICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWYyLmFjdGlvbjtcbiAgICBpZiAoIXJvb3QucmVmLmJsb2IpIHtcbiAgICAgIGFkZEJsb2IoeyByb290OiByb290IH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJvb3QucmVmLmJsb2IudHJhbnNsYXRlWCA9IGFjdGlvbi5wb3NpdGlvbi5zY29wZUxlZnQ7XG4gICAgcm9vdC5yZWYuYmxvYi50cmFuc2xhdGVZID0gYWN0aW9uLnBvc2l0aW9uLnNjb3BlVG9wO1xuICAgIHJvb3QucmVmLmJsb2Iuc2NhbGVYID0gMTtcbiAgICByb290LnJlZi5ibG9iLnNjYWxlWSA9IDE7XG4gICAgcm9vdC5yZWYuYmxvYi5vcGFjaXR5ID0gMTtcbiAgfTtcblxuICB2YXIgaGlkZUJsb2IgPSBmdW5jdGlvbiBoaWRlQmxvYihfcmVmMykge1xuICAgIHZhciByb290ID0gX3JlZjMucm9vdDtcbiAgICBpZiAoIXJvb3QucmVmLmJsb2IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcm9vdC5yZWYuYmxvYi5vcGFjaXR5ID0gMDtcbiAgfTtcblxuICB2YXIgZXhwbG9kZUJsb2IgPSBmdW5jdGlvbiBleHBsb2RlQmxvYihfcmVmNCkge1xuICAgIHZhciByb290ID0gX3JlZjQucm9vdDtcbiAgICBpZiAoIXJvb3QucmVmLmJsb2IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcm9vdC5yZWYuYmxvYi5zY2FsZVggPSAyLjU7XG4gICAgcm9vdC5yZWYuYmxvYi5zY2FsZVkgPSAyLjU7XG4gICAgcm9vdC5yZWYuYmxvYi5vcGFjaXR5ID0gMDtcbiAgfTtcblxuICB2YXIgd3JpdGUkNyA9IGZ1bmN0aW9uIHdyaXRlKF9yZWY1KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgcHJvcHMgPSBfcmVmNS5wcm9wcyxcbiAgICAgIGFjdGlvbnMgPSBfcmVmNS5hY3Rpb25zO1xuICAgIHJvdXRlJDQoeyByb290OiByb290LCBwcm9wczogcHJvcHMsIGFjdGlvbnM6IGFjdGlvbnMgfSk7XG4gICAgdmFyIGJsb2IgPSByb290LnJlZi5ibG9iO1xuXG4gICAgaWYgKGFjdGlvbnMubGVuZ3RoID09PSAwICYmIGJsb2IgJiYgYmxvYi5vcGFjaXR5ID09PSAwKSB7XG4gICAgICByb290LnJlbW92ZUNoaWxkVmlldyhibG9iKTtcbiAgICAgIHJvb3QucmVmLmJsb2IgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcm91dGUkNCA9IGNyZWF0ZVJvdXRlKHtcbiAgICBESURfRFJBRzogbW92ZUJsb2IsXG4gICAgRElEX0RST1A6IGV4cGxvZGVCbG9iLFxuICAgIERJRF9FTkRfRFJBRzogaGlkZUJsb2JcbiAgfSk7XG5cbiAgdmFyIGRyaXAgPSBjcmVhdGVWaWV3KHtcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgbmFtZTogJ2RyaXAnLFxuICAgIHdyaXRlOiB3cml0ZSQ3XG4gIH0pO1xuXG4gIHZhciBjcmVhdGUkYyA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmLnJvb3Q7XG4gICAgcmV0dXJuIChyb290LnJlZi5maWVsZHMgPSB7fSk7XG4gIH07XG5cbiAgdmFyIGdldEZpZWxkID0gZnVuY3Rpb24gZ2V0RmllbGQocm9vdCwgaWQpIHtcbiAgICByZXR1cm4gcm9vdC5yZWYuZmllbGRzW2lkXTtcbiAgfTtcblxuICB2YXIgc3luY0ZpZWxkUG9zaXRpb25zV2l0aEl0ZW1zID0gZnVuY3Rpb24gc3luY0ZpZWxkUG9zaXRpb25zV2l0aEl0ZW1zKHJvb3QpIHtcbiAgICByb290LnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAoIXJvb3QucmVmLmZpZWxkc1tpdGVtLmlkXSkgcmV0dXJuO1xuICAgICAgcm9vdC5lbGVtZW50LmFwcGVuZENoaWxkKHJvb3QucmVmLmZpZWxkc1tpdGVtLmlkXSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGRpZFJlb3JkZXJJdGVtcyA9IGZ1bmN0aW9uIGRpZFJlb3JkZXJJdGVtcyhfcmVmMikge1xuICAgIHZhciByb290ID0gX3JlZjIucm9vdDtcbiAgICByZXR1cm4gc3luY0ZpZWxkUG9zaXRpb25zV2l0aEl0ZW1zKHJvb3QpO1xuICB9O1xuXG4gIHZhciBkaWRBZGRJdGVtID0gZnVuY3Rpb24gZGlkQWRkSXRlbShfcmVmMykge1xuICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWYzLmFjdGlvbjtcbiAgICB2YXIgZGF0YUNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQkMSgnaW5wdXQnKTtcbiAgICBkYXRhQ29udGFpbmVyLnR5cGUgPSAnaGlkZGVuJztcbiAgICBkYXRhQ29udGFpbmVyLm5hbWUgPSByb290LnF1ZXJ5KCdHRVRfTkFNRScpO1xuICAgIGRhdGFDb250YWluZXIuZGlzYWJsZWQgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKTtcbiAgICByb290LnJlZi5maWVsZHNbYWN0aW9uLmlkXSA9IGRhdGFDb250YWluZXI7XG4gICAgc3luY0ZpZWxkUG9zaXRpb25zV2l0aEl0ZW1zKHJvb3QpO1xuICB9O1xuXG4gIHZhciBkaWRMb2FkSXRlbSQxID0gZnVuY3Rpb24gZGlkTG9hZEl0ZW0oX3JlZjQpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY0LnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmNC5hY3Rpb247XG4gICAgdmFyIGZpZWxkID0gZ2V0RmllbGQocm9vdCwgYWN0aW9uLmlkKTtcbiAgICBpZiAoIWZpZWxkIHx8IGFjdGlvbi5zZXJ2ZXJGaWxlUmVmZXJlbmNlID09PSBudWxsKSByZXR1cm47XG4gICAgZmllbGQudmFsdWUgPSBhY3Rpb24uc2VydmVyRmlsZVJlZmVyZW5jZTtcbiAgfTtcblxuICB2YXIgZGlkU2V0RGlzYWJsZWQgPSBmdW5jdGlvbiBkaWRTZXREaXNhYmxlZChfcmVmNSkge1xuICAgIHZhciByb290ID0gX3JlZjUucm9vdDtcbiAgICByb290LmVsZW1lbnQuZGlzYWJsZWQgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKTtcbiAgfTtcblxuICB2YXIgZGlkUmVtb3ZlSXRlbSA9IGZ1bmN0aW9uIGRpZFJlbW92ZUl0ZW0oX3JlZjYpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY2LnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmNi5hY3Rpb247XG4gICAgdmFyIGZpZWxkID0gZ2V0RmllbGQocm9vdCwgYWN0aW9uLmlkKTtcbiAgICBpZiAoIWZpZWxkKSByZXR1cm47XG4gICAgZmllbGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmaWVsZCk7XG4gICAgZGVsZXRlIHJvb3QucmVmLmZpZWxkc1thY3Rpb24uaWRdO1xuICB9O1xuXG4gIHZhciBkaWREZWZpbmVWYWx1ZSA9IGZ1bmN0aW9uIGRpZERlZmluZVZhbHVlKF9yZWY3KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmNy5yb290LFxuICAgICAgYWN0aW9uID0gX3JlZjcuYWN0aW9uO1xuICAgIHZhciBmaWVsZCA9IGdldEZpZWxkKHJvb3QsIGFjdGlvbi5pZCk7XG4gICAgaWYgKCFmaWVsZCkgcmV0dXJuO1xuICAgIGlmIChhY3Rpb24udmFsdWUgPT09IG51bGwpIHtcbiAgICAgIGZpZWxkLnJlbW92ZUF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmllbGQudmFsdWUgPSBhY3Rpb24udmFsdWU7XG4gICAgfVxuICAgIHN5bmNGaWVsZFBvc2l0aW9uc1dpdGhJdGVtcyhyb290KTtcbiAgfTtcblxuICB2YXIgd3JpdGUkOCA9IGNyZWF0ZVJvdXRlKHtcbiAgICBESURfU0VUX0RJU0FCTEVEOiBkaWRTZXREaXNhYmxlZCxcbiAgICBESURfQUREX0lURU06IGRpZEFkZEl0ZW0sXG4gICAgRElEX0xPQURfSVRFTTogZGlkTG9hZEl0ZW0kMSxcbiAgICBESURfUkVNT1ZFX0lURU06IGRpZFJlbW92ZUl0ZW0sXG4gICAgRElEX0RFRklORV9WQUxVRTogZGlkRGVmaW5lVmFsdWUsXG4gICAgRElEX1JFT1JERVJfSVRFTVM6IGRpZFJlb3JkZXJJdGVtcyxcbiAgICBESURfU09SVF9JVEVNUzogZGlkUmVvcmRlckl0ZW1zXG4gIH0pO1xuXG4gIHZhciBkYXRhID0gY3JlYXRlVmlldyh7XG4gICAgdGFnOiAnZmllbGRzZXQnLFxuICAgIG5hbWU6ICdkYXRhJyxcbiAgICBjcmVhdGU6IGNyZWF0ZSRjLFxuICAgIHdyaXRlOiB3cml0ZSQ4LFxuICAgIGlnbm9yZVJlY3Q6IHRydWVcbiAgfSk7XG5cbiAgdmFyIGdldFJvb3ROb2RlID0gZnVuY3Rpb24gZ2V0Um9vdE5vZGUoZWxlbWVudCkge1xuICAgIHJldHVybiAnZ2V0Um9vdE5vZGUnIGluIGVsZW1lbnQgPyBlbGVtZW50LmdldFJvb3ROb2RlKCkgOiBkb2N1bWVudDtcbiAgfTtcblxuICB2YXIgaW1hZ2VzID0gWydqcGcnLCAnanBlZycsICdwbmcnLCAnZ2lmJywgJ2JtcCcsICd3ZWJwJywgJ3N2ZycsICd0aWZmJ107XG4gIHZhciB0ZXh0JDEgPSBbJ2NzcycsICdjc3YnLCAnaHRtbCcsICd0eHQnXTtcbiAgdmFyIG1hcCA9IHtcbiAgICB6aXA6ICd6aXB8Y29tcHJlc3NlZCcsXG4gICAgZXB1YjogJ2FwcGxpY2F0aW9uL2VwdWIremlwJ1xuICB9O1xuXG4gIHZhciBndWVzc3RpbWF0ZU1pbWVUeXBlID0gZnVuY3Rpb24gZ3Vlc3N0aW1hdGVNaW1lVHlwZSgpIHtcbiAgICB2YXIgZXh0ZW5zaW9uID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGltYWdlcy5pbmNsdWRlcyhleHRlbnNpb24pKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAnaW1hZ2UvJyArXG4gICAgICAgIChleHRlbnNpb24gPT09ICdqcGcnXG4gICAgICAgICAgPyAnanBlZydcbiAgICAgICAgICA6IGV4dGVuc2lvbiA9PT0gJ3N2ZydcbiAgICAgICAgICA/ICdzdmcreG1sJ1xuICAgICAgICAgIDogZXh0ZW5zaW9uKVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRleHQkMS5pbmNsdWRlcyhleHRlbnNpb24pKSB7XG4gICAgICByZXR1cm4gJ3RleHQvJyArIGV4dGVuc2lvbjtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwW2V4dGVuc2lvbl0gfHwgJyc7XG4gIH07XG5cbiAgdmFyIHJlcXVlc3REYXRhVHJhbnNmZXJJdGVtcyA9IGZ1bmN0aW9uIHJlcXVlc3REYXRhVHJhbnNmZXJJdGVtcyhcbiAgICBkYXRhVHJhbnNmZXJcbiAgKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgLy8gdHJ5IHRvIGdldCBsaW5rcyBmcm9tIHRyYW5zZmVyLCBpZiBmb3VuZCB3ZSdsbCBleGl0IGltbWlkaWF0ZWx5ICh1bmxlc3MgYSBmaWxlIGlzIGluIHRoZSBkYXRhVHJhbnNmZXIgYXMgd2VsbCwgdGhpcyBpcyBiZWNhdXNlIEZpcmVmb3ggY291bGQgcmVwcmVzZW50IHRoZSBmaWxlIGFzIGEgVVJMIGFuZCBhIGZpbGUgb2JqZWN0IGF0IHRoZSBzYW1lIHRpbWUpXG4gICAgICB2YXIgbGlua3MgPSBnZXRMaW5rcyhkYXRhVHJhbnNmZXIpO1xuICAgICAgaWYgKGxpbmtzLmxlbmd0aCAmJiAhaGFzRmlsZXMoZGF0YVRyYW5zZmVyKSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZShsaW5rcyk7XG4gICAgICB9XG4gICAgICAvLyB0cnkgdG8gZ2V0IGZpbGVzIGZyb20gdGhlIHRyYW5zZmVyXG4gICAgICBnZXRGaWxlcyhkYXRhVHJhbnNmZXIpLnRoZW4ocmVzb2x2ZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgZGF0YXRyYW5zZmVyIGhhcyBmaWxlc1xuICAgKi9cbiAgdmFyIGhhc0ZpbGVzID0gZnVuY3Rpb24gaGFzRmlsZXMoZGF0YVRyYW5zZmVyKSB7XG4gICAgaWYgKGRhdGFUcmFuc2Zlci5maWxlcykgcmV0dXJuIGRhdGFUcmFuc2Zlci5maWxlcy5sZW5ndGggPiAwO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogRXh0cmFjdHMgZmlsZXMgZnJvbSBhIERhdGFUcmFuc2ZlciBvYmplY3RcbiAgICovXG4gIHZhciBnZXRGaWxlcyA9IGZ1bmN0aW9uIGdldEZpbGVzKGRhdGFUcmFuc2Zlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIC8vIGdldCB0aGUgdHJhbnNmZXIgaXRlbXMgYXMgcHJvbWlzZXNcbiAgICAgIHZhciBwcm9taXNlZEZpbGVzID0gKGRhdGFUcmFuc2Zlci5pdGVtc1xuICAgICAgICA/IEFycmF5LmZyb20oZGF0YVRyYW5zZmVyLml0ZW1zKVxuICAgICAgICA6IFtdXG4gICAgICApXG4gICAgICAgIC8vIG9ubHkga2VlcCBmaWxlIHN5c3RlbSBpdGVtcyAoZmlsZXMgYW5kIGRpcmVjdG9yaWVzKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXNGaWxlU3lzdGVtSXRlbShpdGVtKTtcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBtYXAgZWFjaCBpdGVtIHRvIHByb21pc2VcbiAgICAgICAgLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGdldEZpbGVzRnJvbUl0ZW0oaXRlbSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyBpZiBpcyBlbXB0eSwgc2VlIGlmIHdlIGNhbiBleHRyYWN0IHNvbWUgaW5mbyBmcm9tIHRoZSBmaWxlcyBwcm9wZXJ0eSBhcyBhIGZhbGxiYWNrXG4gICAgICBpZiAoIXByb21pc2VkRmlsZXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIFRPRE86IHRlc3QgZm9yIGRpcmVjdG9yaWVzIChzaG91bGQgbm90IGJlIGFsbG93ZWQpXG4gICAgICAgIC8vIFVzZSBGaWxlUmVhZGVyLCBwcm9ibGVtIGlzIHRoYXQgdGhlIGZpbGVzIHByb3BlcnR5IGdldHMgbG9zdCBpbiB0aGUgcHJvY2Vzc1xuICAgICAgICByZXNvbHZlKGRhdGFUcmFuc2Zlci5maWxlcyA/IEFycmF5LmZyb20oZGF0YVRyYW5zZmVyLmZpbGVzKSA6IFtdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBkb25lIVxuICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZWRGaWxlcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmV0dXJuZWRGaWxlR3JvdXBzKSB7XG4gICAgICAgICAgLy8gZmxhdHRlbiBncm91cHNcbiAgICAgICAgICB2YXIgZmlsZXMgPSBbXTtcbiAgICAgICAgICByZXR1cm5lZEZpbGVHcm91cHMuZm9yRWFjaChmdW5jdGlvbihncm91cCkge1xuICAgICAgICAgICAgZmlsZXMucHVzaC5hcHBseShmaWxlcywgZ3JvdXApO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gZG9uZSAoZmlsdGVyIG91dCBlbXB0eSBmaWxlcykhXG4gICAgICAgICAgcmVzb2x2ZShcbiAgICAgICAgICAgIGZpbGVzXG4gICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWxlO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGUuX3JlbGF0aXZlUGF0aClcbiAgICAgICAgICAgICAgICAgIGZpbGUuX3JlbGF0aXZlUGF0aCA9IGZpbGUud2Via2l0UmVsYXRpdmVQYXRoO1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWxlO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgaXNGaWxlU3lzdGVtSXRlbSA9IGZ1bmN0aW9uIGlzRmlsZVN5c3RlbUl0ZW0oaXRlbSkge1xuICAgIGlmIChpc0VudHJ5KGl0ZW0pKSB7XG4gICAgICB2YXIgZW50cnkgPSBnZXRBc0VudHJ5KGl0ZW0pO1xuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5pc0ZpbGUgfHwgZW50cnkuaXNEaXJlY3Rvcnk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpdGVtLmtpbmQgPT09ICdmaWxlJztcbiAgfTtcblxuICB2YXIgZ2V0RmlsZXNGcm9tSXRlbSA9IGZ1bmN0aW9uIGdldEZpbGVzRnJvbUl0ZW0oaXRlbSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmIChpc0RpcmVjdG9yeUVudHJ5KGl0ZW0pKSB7XG4gICAgICAgIGdldEZpbGVzSW5EaXJlY3RvcnkoZ2V0QXNFbnRyeShpdGVtKSlcbiAgICAgICAgICAudGhlbihyZXNvbHZlKVxuICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUoW2l0ZW0uZ2V0QXNGaWxlKCldKTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZ2V0RmlsZXNJbkRpcmVjdG9yeSA9IGZ1bmN0aW9uIGdldEZpbGVzSW5EaXJlY3RvcnkoZW50cnkpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZmlsZXMgPSBbXTtcblxuICAgICAgLy8gdGhlIHRvdGFsIGVudHJpZXMgdG8gcmVhZFxuICAgICAgdmFyIGRpckNvdW50ZXIgPSAwO1xuICAgICAgdmFyIGZpbGVDb3VudGVyID0gMDtcblxuICAgICAgdmFyIHJlc29sdmVJZkRvbmUgPSBmdW5jdGlvbiByZXNvbHZlSWZEb25lKCkge1xuICAgICAgICBpZiAoZmlsZUNvdW50ZXIgPT09IDAgJiYgZGlyQ291bnRlciA9PT0gMCkge1xuICAgICAgICAgIHJlc29sdmUoZmlsZXMpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyB0aGUgcmVjdXJzaXZlIGZ1bmN0aW9uXG4gICAgICB2YXIgcmVhZEVudHJpZXMgPSBmdW5jdGlvbiByZWFkRW50cmllcyhkaXJFbnRyeSkge1xuICAgICAgICBkaXJDb3VudGVyKys7XG5cbiAgICAgICAgdmFyIGRpcmVjdG9yeVJlYWRlciA9IGRpckVudHJ5LmNyZWF0ZVJlYWRlcigpO1xuXG4gICAgICAgIC8vIGRpcmVjdG9yaWVzIGFyZSByZXR1cm5lZCBpbiBiYXRjaGVzLCB3ZSBuZWVkIHRvIHByb2Nlc3MgYWxsIGJhdGNoZXMgYmVmb3JlIHdlJ3JlIGRvbmVcbiAgICAgICAgdmFyIHJlYWRCYXRjaCA9IGZ1bmN0aW9uIHJlYWRCYXRjaCgpIHtcbiAgICAgICAgICBkaXJlY3RvcnlSZWFkZXIucmVhZEVudHJpZXMoZnVuY3Rpb24oZW50cmllcykge1xuICAgICAgICAgICAgaWYgKGVudHJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGRpckNvdW50ZXItLTtcbiAgICAgICAgICAgICAgcmVzb2x2ZUlmRG9uZSgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbihlbnRyeSkge1xuICAgICAgICAgICAgICAvLyByZWN1cnNpdmVseSByZWFkIG1vcmUgZGlyZWN0b3JpZXNcbiAgICAgICAgICAgICAgaWYgKGVudHJ5LmlzRGlyZWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgcmVhZEVudHJpZXMoZW50cnkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJlYWQgYXMgZmlsZVxuICAgICAgICAgICAgICAgIGZpbGVDb3VudGVyKys7XG5cbiAgICAgICAgICAgICAgICBlbnRyeS5maWxlKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBjb3JyZWN0ZWRGaWxlID0gY29ycmVjdE1pc3NpbmdGaWxlVHlwZShmaWxlKTtcbiAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5mdWxsUGF0aClcbiAgICAgICAgICAgICAgICAgICAgY29ycmVjdGVkRmlsZS5fcmVsYXRpdmVQYXRoID0gZW50cnkuZnVsbFBhdGg7XG4gICAgICAgICAgICAgICAgICBmaWxlcy5wdXNoKGNvcnJlY3RlZEZpbGUpO1xuICAgICAgICAgICAgICAgICAgZmlsZUNvdW50ZXItLTtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmVJZkRvbmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHRyeSB0byBnZXQgbmV4dCBiYXRjaCBvZiBmaWxlc1xuICAgICAgICAgICAgcmVhZEJhdGNoKCk7XG4gICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyByZWFkIGZpcnN0IGJhdGNoIG9mIGZpbGVzXG4gICAgICAgIHJlYWRCYXRjaCgpO1xuICAgICAgfTtcblxuICAgICAgLy8gZ28hXG4gICAgICByZWFkRW50cmllcyhlbnRyeSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNvcnJlY3RNaXNzaW5nRmlsZVR5cGUgPSBmdW5jdGlvbiBjb3JyZWN0TWlzc2luZ0ZpbGVUeXBlKGZpbGUpIHtcbiAgICBpZiAoZmlsZS50eXBlLmxlbmd0aCkgcmV0dXJuIGZpbGU7XG4gICAgdmFyIGRhdGUgPSBmaWxlLmxhc3RNb2RpZmllZERhdGU7XG4gICAgdmFyIG5hbWUgPSBmaWxlLm5hbWU7XG4gICAgZmlsZSA9IGZpbGUuc2xpY2UoXG4gICAgICAwLFxuICAgICAgZmlsZS5zaXplLFxuICAgICAgZ3Vlc3N0aW1hdGVNaW1lVHlwZShnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUoZmlsZS5uYW1lKSlcbiAgICApO1xuICAgIGZpbGUubmFtZSA9IG5hbWU7XG4gICAgZmlsZS5sYXN0TW9kaWZpZWREYXRlID0gZGF0ZTtcbiAgICByZXR1cm4gZmlsZTtcbiAgfTtcblxuICB2YXIgaXNEaXJlY3RvcnlFbnRyeSA9IGZ1bmN0aW9uIGlzRGlyZWN0b3J5RW50cnkoaXRlbSkge1xuICAgIHJldHVybiBpc0VudHJ5KGl0ZW0pICYmIChnZXRBc0VudHJ5KGl0ZW0pIHx8IHt9KS5pc0RpcmVjdG9yeTtcbiAgfTtcblxuICB2YXIgaXNFbnRyeSA9IGZ1bmN0aW9uIGlzRW50cnkoaXRlbSkge1xuICAgIHJldHVybiAnd2Via2l0R2V0QXNFbnRyeScgaW4gaXRlbTtcbiAgfTtcblxuICB2YXIgZ2V0QXNFbnRyeSA9IGZ1bmN0aW9uIGdldEFzRW50cnkoaXRlbSkge1xuICAgIHJldHVybiBpdGVtLndlYmtpdEdldEFzRW50cnkoKTtcbiAgfTtcblxuICAvKipcbiAgICogRXh0cmFjdHMgbGlua3MgZnJvbSBhIERhdGFUcmFuc2ZlciBvYmplY3RcbiAgICovXG4gIHZhciBnZXRMaW5rcyA9IGZ1bmN0aW9uIGdldExpbmtzKGRhdGFUcmFuc2Zlcikge1xuICAgIHZhciBsaW5rcyA9IFtdO1xuICAgIHRyeSB7XG4gICAgICAvLyBsb29rIGluIG1ldGEgZGF0YSBwcm9wZXJ0eVxuICAgICAgbGlua3MgPSBnZXRMaW5rc0Zyb21UcmFuc2Zlck1ldGFEYXRhKGRhdGFUcmFuc2Zlcik7XG4gICAgICBpZiAobGlua3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBsaW5rcztcbiAgICAgIH1cbiAgICAgIGxpbmtzID0gZ2V0TGlua3NGcm9tVHJhbnNmZXJVUkxEYXRhKGRhdGFUcmFuc2Zlcik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gbm9wZSBub3BlIG5vcGUgKHByb2JhYmx5IElFIHRyb3VibGUpXG4gICAgfVxuICAgIHJldHVybiBsaW5rcztcbiAgfTtcblxuICB2YXIgZ2V0TGlua3NGcm9tVHJhbnNmZXJVUkxEYXRhID0gZnVuY3Rpb24gZ2V0TGlua3NGcm9tVHJhbnNmZXJVUkxEYXRhKFxuICAgIGRhdGFUcmFuc2ZlclxuICApIHtcbiAgICB2YXIgZGF0YSA9IGRhdGFUcmFuc2Zlci5nZXREYXRhKCd1cmwnKTtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW2RhdGFdO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH07XG5cbiAgdmFyIGdldExpbmtzRnJvbVRyYW5zZmVyTWV0YURhdGEgPSBmdW5jdGlvbiBnZXRMaW5rc0Zyb21UcmFuc2Zlck1ldGFEYXRhKFxuICAgIGRhdGFUcmFuc2ZlclxuICApIHtcbiAgICB2YXIgZGF0YSA9IGRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L2h0bWwnKTtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEubGVuZ3RoKSB7XG4gICAgICB2YXIgbWF0Y2hlcyA9IGRhdGEubWF0Y2goL3NyY1xccyo9XFxzKlwiKC4rPylcIi8pO1xuICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIFttYXRjaGVzWzFdXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9O1xuXG4gIHZhciBkcmFnTkRyb3BPYnNlcnZlcnMgPSBbXTtcblxuICB2YXIgZXZlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIGV2ZW50UG9zaXRpb24oZSkge1xuICAgIHJldHVybiB7XG4gICAgICBwYWdlTGVmdDogZS5wYWdlWCxcbiAgICAgIHBhZ2VUb3A6IGUucGFnZVksXG4gICAgICBzY29wZUxlZnQ6IGUub2Zmc2V0WCB8fCBlLmxheWVyWCxcbiAgICAgIHNjb3BlVG9wOiBlLm9mZnNldFkgfHwgZS5sYXllcllcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjcmVhdGVEcmFnTkRyb3BDbGllbnQgPSBmdW5jdGlvbiBjcmVhdGVEcmFnTkRyb3BDbGllbnQoXG4gICAgZWxlbWVudCxcbiAgICBzY29wZVRvT2JzZXJ2ZSxcbiAgICBmaWx0ZXJFbGVtZW50XG4gICkge1xuICAgIHZhciBvYnNlcnZlciA9IGdldERyYWdORHJvcE9ic2VydmVyKHNjb3BlVG9PYnNlcnZlKTtcblxuICAgIHZhciBjbGllbnQgPSB7XG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgZmlsdGVyRWxlbWVudDogZmlsdGVyRWxlbWVudCxcbiAgICAgIHN0YXRlOiBudWxsLFxuICAgICAgb25kcm9wOiBmdW5jdGlvbiBvbmRyb3AoKSB7fSxcbiAgICAgIG9uZW50ZXI6IGZ1bmN0aW9uIG9uZW50ZXIoKSB7fSxcbiAgICAgIG9uZHJhZzogZnVuY3Rpb24gb25kcmFnKCkge30sXG4gICAgICBvbmV4aXQ6IGZ1bmN0aW9uIG9uZXhpdCgpIHt9LFxuICAgICAgb25sb2FkOiBmdW5jdGlvbiBvbmxvYWQoKSB7fSxcbiAgICAgIGFsbG93ZHJvcDogZnVuY3Rpb24gYWxsb3dkcm9wKCkge31cbiAgICB9O1xuXG4gICAgY2xpZW50LmRlc3Ryb3kgPSBvYnNlcnZlci5hZGRMaXN0ZW5lcihjbGllbnQpO1xuXG4gICAgcmV0dXJuIGNsaWVudDtcbiAgfTtcblxuICB2YXIgZ2V0RHJhZ05Ecm9wT2JzZXJ2ZXIgPSBmdW5jdGlvbiBnZXREcmFnTkRyb3BPYnNlcnZlcihlbGVtZW50KSB7XG4gICAgLy8gc2VlIGlmIGFscmVhZHkgZXhpc3RzLCBpZiBzbywgcmV0dXJuXG4gICAgdmFyIG9ic2VydmVyID0gZHJhZ05Ecm9wT2JzZXJ2ZXJzLmZpbmQoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uZWxlbWVudCA9PT0gZWxlbWVudDtcbiAgICB9KTtcbiAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgIHJldHVybiBvYnNlcnZlcjtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgbmV3IG9ic2VydmVyLCBkb2VzIG5vdCB5ZXQgZXhpc3QgZm9yIHRoaXMgZWxlbWVudFxuICAgIHZhciBuZXdPYnNlcnZlciA9IGNyZWF0ZURyYWdORHJvcE9ic2VydmVyKGVsZW1lbnQpO1xuICAgIGRyYWdORHJvcE9ic2VydmVycy5wdXNoKG5ld09ic2VydmVyKTtcbiAgICByZXR1cm4gbmV3T2JzZXJ2ZXI7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZURyYWdORHJvcE9ic2VydmVyID0gZnVuY3Rpb24gY3JlYXRlRHJhZ05Ecm9wT2JzZXJ2ZXIoZWxlbWVudCkge1xuICAgIHZhciBjbGllbnRzID0gW107XG5cbiAgICB2YXIgcm91dGVzID0ge1xuICAgICAgZHJhZ2VudGVyOiBkcmFnZW50ZXIsXG4gICAgICBkcmFnb3ZlcjogZHJhZ292ZXIsXG4gICAgICBkcmFnbGVhdmU6IGRyYWdsZWF2ZSxcbiAgICAgIGRyb3A6IGRyb3BcbiAgICB9O1xuXG4gICAgdmFyIGhhbmRsZXJzID0ge307XG5cbiAgICBmb3Jpbihyb3V0ZXMsIGZ1bmN0aW9uKGV2ZW50LCBjcmVhdGVIYW5kbGVyKSB7XG4gICAgICBoYW5kbGVyc1tldmVudF0gPSBjcmVhdGVIYW5kbGVyKGVsZW1lbnQsIGNsaWVudHMpO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyc1tldmVudF0sIGZhbHNlKTtcbiAgICB9KTtcblxuICAgIHZhciBvYnNlcnZlciA9IHtcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICBhZGRMaXN0ZW5lcjogZnVuY3Rpb24gYWRkTGlzdGVuZXIoY2xpZW50KSB7XG4gICAgICAgIC8vIGFkZCBhcyBjbGllbnRcbiAgICAgICAgY2xpZW50cy5wdXNoKGNsaWVudCk7XG5cbiAgICAgICAgLy8gcmV0dXJuIHJlbW92ZUxpc3RlbmVyIGZ1bmN0aW9uXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyByZW1vdmUgY2xpZW50XG4gICAgICAgICAgY2xpZW50cy5zcGxpY2UoY2xpZW50cy5pbmRleE9mKGNsaWVudCksIDEpO1xuXG4gICAgICAgICAgLy8gaWYgbm8gbW9yZSBjbGllbnRzLCBjbGVhbiB1cCBvYnNlcnZlclxuICAgICAgICAgIGlmIChjbGllbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZHJhZ05Ecm9wT2JzZXJ2ZXJzLnNwbGljZShkcmFnTkRyb3BPYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlciksIDEpO1xuXG4gICAgICAgICAgICBmb3Jpbihyb3V0ZXMsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlcnNbZXZlbnRdLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBvYnNlcnZlcjtcbiAgfTtcblxuICB2YXIgZWxlbWVudEZyb21Qb2ludCA9IGZ1bmN0aW9uIGVsZW1lbnRGcm9tUG9pbnQocm9vdCwgcG9pbnQpIHtcbiAgICBpZiAoISgnZWxlbWVudEZyb21Qb2ludCcgaW4gcm9vdCkpIHtcbiAgICAgIHJvb3QgPSBkb2N1bWVudDtcbiAgICB9XG4gICAgcmV0dXJuIHJvb3QuZWxlbWVudEZyb21Qb2ludChwb2ludC54LCBwb2ludC55KTtcbiAgfTtcblxuICB2YXIgaXNFdmVudFRhcmdldCA9IGZ1bmN0aW9uIGlzRXZlbnRUYXJnZXQoZSwgdGFyZ2V0KSB7XG4gICAgLy8gZ2V0IHJvb3RcbiAgICB2YXIgcm9vdCA9IGdldFJvb3ROb2RlKHRhcmdldCk7XG5cbiAgICAvLyBnZXQgZWxlbWVudCBhdCBwb3NpdGlvblxuICAgIC8vIGlmIHJvb3QgaXMgbm90IGFjdHVhbCBzaGFkb3cgRE9NIGFuZCBkb2VzIG5vdCBoYXZlIGVsZW1lbnRGcm9tUG9pbnQgbWV0aG9kLCB1c2UgdGhlIG9uZSBvbiBkb2N1bWVudFxuICAgIHZhciBlbGVtZW50QXRQb3NpdGlvbiA9IGVsZW1lbnRGcm9tUG9pbnQocm9vdCwge1xuICAgICAgeDogZS5wYWdlWCAtIHdpbmRvdy5wYWdlWE9mZnNldCxcbiAgICAgIHk6IGUucGFnZVkgLSB3aW5kb3cucGFnZVlPZmZzZXRcbiAgICB9KTtcblxuICAgIC8vIHRlc3QgaWYgdGFyZ2V0IGlzIHRoZSBlbGVtZW50IG9yIGlmIG9uZSBvZiBpdHMgY2hpbGRyZW4gaXNcbiAgICByZXR1cm4gZWxlbWVudEF0UG9zaXRpb24gPT09IHRhcmdldCB8fCB0YXJnZXQuY29udGFpbnMoZWxlbWVudEF0UG9zaXRpb24pO1xuICB9O1xuXG4gIHZhciBpbml0aWFsVGFyZ2V0ID0gbnVsbDtcblxuICB2YXIgc2V0RHJvcEVmZmVjdCA9IGZ1bmN0aW9uIHNldERyb3BFZmZlY3QoZGF0YVRyYW5zZmVyLCBlZmZlY3QpIHtcbiAgICAvLyBpcyBpbiB0cnkgY2F0Y2ggYXMgSUUxMSB3aWxsIHRocm93IGVycm9yIGlmIG5vdFxuICAgIHRyeSB7XG4gICAgICBkYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9IGVmZmVjdDtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9O1xuXG4gIHZhciBkcmFnZW50ZXIgPSBmdW5jdGlvbiBkcmFnZW50ZXIocm9vdCwgY2xpZW50cykge1xuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGluaXRpYWxUYXJnZXQgPSBlLnRhcmdldDtcblxuICAgICAgY2xpZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGNsaWVudCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGNsaWVudC5lbGVtZW50LFxuICAgICAgICAgIG9uZW50ZXIgPSBjbGllbnQub25lbnRlcjtcblxuICAgICAgICBpZiAoaXNFdmVudFRhcmdldChlLCBlbGVtZW50KSkge1xuICAgICAgICAgIGNsaWVudC5zdGF0ZSA9ICdlbnRlcic7XG5cbiAgICAgICAgICAvLyBmaXJlIGVudGVyIGV2ZW50XG4gICAgICAgICAgb25lbnRlcihldmVudFBvc2l0aW9uKGUpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgZHJhZ292ZXIgPSBmdW5jdGlvbiBkcmFnb3Zlcihyb290LCBjbGllbnRzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgdmFyIGRhdGFUcmFuc2ZlciA9IGUuZGF0YVRyYW5zZmVyO1xuXG4gICAgICByZXF1ZXN0RGF0YVRyYW5zZmVySXRlbXMoZGF0YVRyYW5zZmVyKS50aGVuKGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgIHZhciBvdmVyRHJvcFRhcmdldCA9IGZhbHNlO1xuXG4gICAgICAgIGNsaWVudHMuc29tZShmdW5jdGlvbihjbGllbnQpIHtcbiAgICAgICAgICB2YXIgZmlsdGVyRWxlbWVudCA9IGNsaWVudC5maWx0ZXJFbGVtZW50LFxuICAgICAgICAgICAgZWxlbWVudCA9IGNsaWVudC5lbGVtZW50LFxuICAgICAgICAgICAgb25lbnRlciA9IGNsaWVudC5vbmVudGVyLFxuICAgICAgICAgICAgb25leGl0ID0gY2xpZW50Lm9uZXhpdCxcbiAgICAgICAgICAgIG9uZHJhZyA9IGNsaWVudC5vbmRyYWcsXG4gICAgICAgICAgICBhbGxvd2Ryb3AgPSBjbGllbnQuYWxsb3dkcm9wO1xuXG4gICAgICAgICAgLy8gYnkgZGVmYXVsdCB3ZSBjYW4gZHJvcFxuICAgICAgICAgIHNldERyb3BFZmZlY3QoZGF0YVRyYW5zZmVyLCAnY29weScpO1xuXG4gICAgICAgICAgLy8gYWxsb3cgdHJhbnNmZXIgb2YgdGhlc2UgaXRlbXNcbiAgICAgICAgICB2YXIgYWxsb3dzVHJhbnNmZXIgPSBhbGxvd2Ryb3AoaXRlbXMpO1xuXG4gICAgICAgICAgLy8gb25seSB1c2VkIHdoZW4gY2FuIGJlIGRyb3BwZWQgb24gcGFnZVxuICAgICAgICAgIGlmICghYWxsb3dzVHJhbnNmZXIpIHtcbiAgICAgICAgICAgIHNldERyb3BFZmZlY3QoZGF0YVRyYW5zZmVyLCAnbm9uZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHRhcmdldHRpbmcgdGhpcyBjbGllbnRcbiAgICAgICAgICBpZiAoaXNFdmVudFRhcmdldChlLCBlbGVtZW50KSkge1xuICAgICAgICAgICAgb3ZlckRyb3BUYXJnZXQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBoYWQgbm8gcHJldmlvdXMgc3RhdGUsIG1lYW5zIHdlIGFyZSBlbnRlcmluZyB0aGlzIGNsaWVudFxuICAgICAgICAgICAgaWYgKGNsaWVudC5zdGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBjbGllbnQuc3RhdGUgPSAnZW50ZXInO1xuICAgICAgICAgICAgICBvbmVudGVyKGV2ZW50UG9zaXRpb24oZSkpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vdyBvdmVyIGVsZW1lbnQgKG5vIG1hdHRlciBpZiBpdCBhbGxvd3MgdGhlIGRyb3Agb3Igbm90KVxuICAgICAgICAgICAgY2xpZW50LnN0YXRlID0gJ292ZXInO1xuXG4gICAgICAgICAgICAvLyBuZWVkcyB0byBhbGxvdyB0cmFuc2ZlclxuICAgICAgICAgICAgaWYgKGZpbHRlckVsZW1lbnQgJiYgIWFsbG93c1RyYW5zZmVyKSB7XG4gICAgICAgICAgICAgIHNldERyb3BFZmZlY3QoZGF0YVRyYW5zZmVyLCAnbm9uZScpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGRyYWdnaW5nXG4gICAgICAgICAgICBvbmRyYWcoZXZlbnRQb3NpdGlvbihlKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSBvdmVyIGFuIGVsZW1lbnQgdG8gZHJvcFxuICAgICAgICAgICAgaWYgKGZpbHRlckVsZW1lbnQgJiYgIW92ZXJEcm9wVGFyZ2V0KSB7XG4gICAgICAgICAgICAgIHNldERyb3BFZmZlY3QoZGF0YVRyYW5zZmVyLCAnbm9uZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBtaWdodCBoYXZlIGp1c3QgbGVmdCB0aGlzIGNsaWVudD9cbiAgICAgICAgICAgIGlmIChjbGllbnQuc3RhdGUpIHtcbiAgICAgICAgICAgICAgY2xpZW50LnN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgb25leGl0KGV2ZW50UG9zaXRpb24oZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBkcm9wID0gZnVuY3Rpb24gZHJvcChyb290LCBjbGllbnRzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgdmFyIGRhdGFUcmFuc2ZlciA9IGUuZGF0YVRyYW5zZmVyO1xuXG4gICAgICByZXF1ZXN0RGF0YVRyYW5zZmVySXRlbXMoZGF0YVRyYW5zZmVyKS50aGVuKGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgIGNsaWVudHMuZm9yRWFjaChmdW5jdGlvbihjbGllbnQpIHtcbiAgICAgICAgICB2YXIgZmlsdGVyRWxlbWVudCA9IGNsaWVudC5maWx0ZXJFbGVtZW50LFxuICAgICAgICAgICAgZWxlbWVudCA9IGNsaWVudC5lbGVtZW50LFxuICAgICAgICAgICAgb25kcm9wID0gY2xpZW50Lm9uZHJvcCxcbiAgICAgICAgICAgIG9uZXhpdCA9IGNsaWVudC5vbmV4aXQsXG4gICAgICAgICAgICBhbGxvd2Ryb3AgPSBjbGllbnQuYWxsb3dkcm9wO1xuXG4gICAgICAgICAgY2xpZW50LnN0YXRlID0gbnVsbDtcblxuICAgICAgICAgIC8vIGlmIHdlJ3JlIGZpbHRlcmluZyBvbiBlbGVtZW50IHdlIG5lZWQgdG8gYmUgb3ZlciB0aGUgZWxlbWVudCB0byBkcm9wXG4gICAgICAgICAgaWYgKGZpbHRlckVsZW1lbnQgJiYgIWlzRXZlbnRUYXJnZXQoZSwgZWxlbWVudCkpIHJldHVybjtcblxuICAgICAgICAgIC8vIG5vIHRyYW5zZmVyIGZvciB0aGlzIGNsaWVudFxuICAgICAgICAgIGlmICghYWxsb3dkcm9wKGl0ZW1zKSkgcmV0dXJuIG9uZXhpdChldmVudFBvc2l0aW9uKGUpKTtcblxuICAgICAgICAgIC8vIHdlIGNhbiBkcm9wIHRoZXNlIGl0ZW1zIG9uIHRoaXMgY2xpZW50XG4gICAgICAgICAgb25kcm9wKGV2ZW50UG9zaXRpb24oZSksIGl0ZW1zKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBkcmFnbGVhdmUgPSBmdW5jdGlvbiBkcmFnbGVhdmUocm9vdCwgY2xpZW50cykge1xuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoaW5pdGlhbFRhcmdldCAhPT0gZS50YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjbGllbnRzLmZvckVhY2goZnVuY3Rpb24oY2xpZW50KSB7XG4gICAgICAgIHZhciBvbmV4aXQgPSBjbGllbnQub25leGl0O1xuXG4gICAgICAgIGNsaWVudC5zdGF0ZSA9IG51bGw7XG5cbiAgICAgICAgb25leGl0KGV2ZW50UG9zaXRpb24oZSkpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgY3JlYXRlSG9wcGVyID0gZnVuY3Rpb24gY3JlYXRlSG9wcGVyKHNjb3BlLCB2YWxpZGF0ZUl0ZW1zLCBvcHRpb25zKSB7XG4gICAgLy8gaXMgbm93IGhvcHBlciBzY29wZVxuICAgIHNjb3BlLmNsYXNzTGlzdC5hZGQoJ2ZpbGVwb25kLS1ob3BwZXInKTtcblxuICAgIC8vIHNob3J0Y3V0c1xuICAgIHZhciBjYXRjaGVzRHJvcHNPblBhZ2UgPSBvcHRpb25zLmNhdGNoZXNEcm9wc09uUGFnZSxcbiAgICAgIHJlcXVpcmVzRHJvcE9uRWxlbWVudCA9IG9wdGlvbnMucmVxdWlyZXNEcm9wT25FbGVtZW50LFxuICAgICAgX29wdGlvbnMkZmlsdGVySXRlbXMgPSBvcHRpb25zLmZpbHRlckl0ZW1zLFxuICAgICAgZmlsdGVySXRlbXMgPVxuICAgICAgICBfb3B0aW9ucyRmaWx0ZXJJdGVtcyA9PT0gdm9pZCAwXG4gICAgICAgICAgPyBmdW5jdGlvbihpdGVtcykge1xuICAgICAgICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiBfb3B0aW9ucyRmaWx0ZXJJdGVtcztcblxuICAgIC8vIGNyZWF0ZSBhIGRuZCBjbGllbnRcbiAgICB2YXIgY2xpZW50ID0gY3JlYXRlRHJhZ05Ecm9wQ2xpZW50KFxuICAgICAgc2NvcGUsXG4gICAgICBjYXRjaGVzRHJvcHNPblBhZ2UgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBzY29wZSxcbiAgICAgIHJlcXVpcmVzRHJvcE9uRWxlbWVudFxuICAgICk7XG5cbiAgICAvLyBjdXJyZW50IGNsaWVudCBzdGF0ZVxuICAgIHZhciBsYXN0U3RhdGUgPSAnJztcbiAgICB2YXIgY3VycmVudFN0YXRlID0gJyc7XG5cbiAgICAvLyBkZXRlcm1pbmVzIGlmIGEgZmlsZSBtYXkgYmUgZHJvcHBlZFxuICAgIGNsaWVudC5hbGxvd2Ryb3AgPSBmdW5jdGlvbihpdGVtcykge1xuICAgICAgLy8gVE9ETzogaWYgd2UgY2FuLCB0aHJvdyBlcnJvciB0byBpbmRpY2F0ZSB0aGUgaXRlbXMgY2Fubm90IGJ5IGRyb3BwZWRcblxuICAgICAgcmV0dXJuIHZhbGlkYXRlSXRlbXMoZmlsdGVySXRlbXMoaXRlbXMpKTtcbiAgICB9O1xuXG4gICAgY2xpZW50Lm9uZHJvcCA9IGZ1bmN0aW9uKHBvc2l0aW9uLCBpdGVtcykge1xuICAgICAgdmFyIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJJdGVtcyhpdGVtcyk7XG5cbiAgICAgIGlmICghdmFsaWRhdGVJdGVtcyhmaWx0ZXJlZEl0ZW1zKSkge1xuICAgICAgICBhcGkub25kcmFnZW5kKHBvc2l0aW9uKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50U3RhdGUgPSAnZHJhZy1kcm9wJztcblxuICAgICAgYXBpLm9ubG9hZChmaWx0ZXJlZEl0ZW1zLCBwb3NpdGlvbik7XG4gICAgfTtcblxuICAgIGNsaWVudC5vbmRyYWcgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgYXBpLm9uZHJhZyhwb3NpdGlvbik7XG4gICAgfTtcblxuICAgIGNsaWVudC5vbmVudGVyID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgIGN1cnJlbnRTdGF0ZSA9ICdkcmFnLW92ZXInO1xuXG4gICAgICBhcGkub25kcmFnc3RhcnQocG9zaXRpb24pO1xuICAgIH07XG5cbiAgICBjbGllbnQub25leGl0ID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgIGN1cnJlbnRTdGF0ZSA9ICdkcmFnLWV4aXQnO1xuXG4gICAgICBhcGkub25kcmFnZW5kKHBvc2l0aW9uKTtcbiAgICB9O1xuXG4gICAgdmFyIGFwaSA9IHtcbiAgICAgIHVwZGF0ZUhvcHBlclN0YXRlOiBmdW5jdGlvbiB1cGRhdGVIb3BwZXJTdGF0ZSgpIHtcbiAgICAgICAgaWYgKGxhc3RTdGF0ZSAhPT0gY3VycmVudFN0YXRlKSB7XG4gICAgICAgICAgc2NvcGUuZGF0YXNldC5ob3BwZXJTdGF0ZSA9IGN1cnJlbnRTdGF0ZTtcbiAgICAgICAgICBsYXN0U3RhdGUgPSBjdXJyZW50U3RhdGU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbmxvYWQ6IGZ1bmN0aW9uIG9ubG9hZCgpIHt9LFxuICAgICAgb25kcmFnc3RhcnQ6IGZ1bmN0aW9uIG9uZHJhZ3N0YXJ0KCkge30sXG4gICAgICBvbmRyYWc6IGZ1bmN0aW9uIG9uZHJhZygpIHt9LFxuICAgICAgb25kcmFnZW5kOiBmdW5jdGlvbiBvbmRyYWdlbmQoKSB7fSxcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIC8vIGRlc3Ryb3kgY2xpZW50XG4gICAgICAgIGNsaWVudC5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBhcGk7XG4gIH07XG5cbiAgdmFyIGxpc3RlbmluZyA9IGZhbHNlO1xuICB2YXIgbGlzdGVuZXJzJDEgPSBbXTtcblxuICB2YXIgaGFuZGxlUGFzdGUgPSBmdW5jdGlvbiBoYW5kbGVQYXN0ZShlKSB7XG4gICAgLy8gaWYgaXMgcGFzdGluZyBpbiBpbnB1dCBvciB0ZXh0YXJlYSBhbmQgdGhlIHRhcmdldCBpcyBvdXRzaWRlIG9mIGEgZmlsZXBvbmQgc2NvcGUsIGlnbm9yZVxuICAgIHZhciBhY3RpdmVFbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgaWYgKGFjdGl2ZUVsICYmIC90ZXh0YXJlYXxpbnB1dC9pLnRlc3QoYWN0aXZlRWwubm9kZU5hbWUpKSB7XG4gICAgICAvLyB0ZXN0IHRleHRhcmVhIG9yIGlucHV0IGlzIGNvbnRhaW5lZCBpbiBmaWxlcG9uZCByb290XG4gICAgICB2YXIgaW5TY29wZSA9IGZhbHNlO1xuICAgICAgdmFyIGVsZW1lbnQgPSBhY3RpdmVFbDtcbiAgICAgIHdoaWxlIChlbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZmlsZXBvbmQtLXJvb3QnKSkge1xuICAgICAgICAgIGluU2NvcGUgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaW5TY29wZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlcXVlc3REYXRhVHJhbnNmZXJJdGVtcyhlLmNsaXBib2FyZERhdGEpLnRoZW4oZnVuY3Rpb24oZmlsZXMpIHtcbiAgICAgIC8vIG5vIGZpbGVzIHJlY2VpdmVkXG4gICAgICBpZiAoIWZpbGVzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIG5vdGlmeSBsaXN0ZW5lcnMgb2YgcmVjZWl2ZWQgZmlsZXNcbiAgICAgIGxpc3RlbmVycyQxLmZvckVhY2goZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyKGZpbGVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBsaXN0ZW4gPSBmdW5jdGlvbiBsaXN0ZW4oY2IpIHtcbiAgICAvLyBjYW4ndCBhZGQgdHdpY2VcbiAgICBpZiAobGlzdGVuZXJzJDEuaW5jbHVkZXMoY2IpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYWRkIGluaXRpYWwgbGlzdGVuZXJcbiAgICBsaXN0ZW5lcnMkMS5wdXNoKGNiKTtcblxuICAgIC8vIHNldHVwIHBhc3RlIGxpc3RlbmVyIGZvciBlbnRpcmUgcGFnZVxuICAgIGlmIChsaXN0ZW5pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsaXN0ZW5pbmcgPSB0cnVlO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgaGFuZGxlUGFzdGUpO1xuICB9O1xuXG4gIHZhciB1bmxpc3RlbiA9IGZ1bmN0aW9uIHVubGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgYXJyYXlSZW1vdmUobGlzdGVuZXJzJDEsIGxpc3RlbmVycyQxLmluZGV4T2YobGlzdGVuZXIpKTtcblxuICAgIC8vIGNsZWFuIHVwXG4gICAgaWYgKGxpc3RlbmVycyQxLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGFzdGUnLCBoYW5kbGVQYXN0ZSk7XG4gICAgICBsaXN0ZW5pbmcgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVBhc3RlciA9IGZ1bmN0aW9uIGNyZWF0ZVBhc3RlcigpIHtcbiAgICB2YXIgY2IgPSBmdW5jdGlvbiBjYihmaWxlcykge1xuICAgICAgYXBpLm9ubG9hZChmaWxlcyk7XG4gICAgfTtcblxuICAgIHZhciBhcGkgPSB7XG4gICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB1bmxpc3RlbihjYik7XG4gICAgICB9LFxuICAgICAgb25sb2FkOiBmdW5jdGlvbiBvbmxvYWQoKSB7fVxuICAgIH07XG5cbiAgICBsaXN0ZW4oY2IpO1xuXG4gICAgcmV0dXJuIGFwaTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyB0aGUgZmlsZSB2aWV3XG4gICAqL1xuICB2YXIgY3JlYXRlJGQgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgIHJvb3QuZWxlbWVudC5pZCA9ICdmaWxlcG9uZC0tYXNzaXN0YW50LScgKyBwcm9wcy5pZDtcbiAgICBhdHRyKHJvb3QuZWxlbWVudCwgJ3JvbGUnLCAnc3RhdHVzJyk7XG4gICAgYXR0cihyb290LmVsZW1lbnQsICdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgYXR0cihyb290LmVsZW1lbnQsICdhcmlhLXJlbGV2YW50JywgJ2FkZGl0aW9ucycpO1xuICB9O1xuXG4gIHZhciBhZGRGaWxlc05vdGlmaWNhdGlvblRpbWVvdXQgPSBudWxsO1xuICB2YXIgbm90aWZpY2F0aW9uQ2xlYXJUaW1lb3V0ID0gbnVsbDtcblxuICB2YXIgZmlsZW5hbWVzID0gW107XG5cbiAgdmFyIGFzc2lzdCA9IGZ1bmN0aW9uIGFzc2lzdChyb290LCBtZXNzYWdlKSB7XG4gICAgcm9vdC5lbGVtZW50LnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgfTtcblxuICB2YXIgY2xlYXIkMSA9IGZ1bmN0aW9uIGNsZWFyKHJvb3QpIHtcbiAgICByb290LmVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfTtcblxuICB2YXIgbGlzdE1vZGlmaWVkID0gZnVuY3Rpb24gbGlzdE1vZGlmaWVkKHJvb3QsIGZpbGVuYW1lLCBsYWJlbCkge1xuICAgIHZhciB0b3RhbCA9IHJvb3QucXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpO1xuICAgIGFzc2lzdChcbiAgICAgIHJvb3QsXG4gICAgICBsYWJlbCArXG4gICAgICAgICcgJyArXG4gICAgICAgIGZpbGVuYW1lICtcbiAgICAgICAgJywgJyArXG4gICAgICAgIHRvdGFsICtcbiAgICAgICAgJyAnICtcbiAgICAgICAgKHRvdGFsID09PSAxXG4gICAgICAgICAgPyByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9DT1VOVF9TSU5HVUxBUicpXG4gICAgICAgICAgOiByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9DT1VOVF9QTFVSQUwnKSlcbiAgICApO1xuXG4gICAgLy8gY2xlYXIgZ3JvdXAgYWZ0ZXIgc2V0IGFtb3VudCBvZiB0aW1lIHNvIHRoZSBzdGF0dXMgaXMgbm90IHJlYWQgdHdpY2VcbiAgICBjbGVhclRpbWVvdXQobm90aWZpY2F0aW9uQ2xlYXJUaW1lb3V0KTtcbiAgICBub3RpZmljYXRpb25DbGVhclRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgY2xlYXIkMShyb290KTtcbiAgICB9LCAxNTAwKTtcbiAgfTtcblxuICB2YXIgaXNVc2luZ0ZpbGVQb25kID0gZnVuY3Rpb24gaXNVc2luZ0ZpbGVQb25kKHJvb3QpIHtcbiAgICByZXR1cm4gcm9vdC5lbGVtZW50LnBhcmVudE5vZGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gIH07XG5cbiAgdmFyIGl0ZW1BZGRlZCA9IGZ1bmN0aW9uIGl0ZW1BZGRlZChfcmVmMikge1xuICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWYyLmFjdGlvbjtcbiAgICBpZiAoIWlzVXNpbmdGaWxlUG9uZChyb290KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJvb3QuZWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgIHZhciBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBhY3Rpb24uaWQpO1xuICAgIGZpbGVuYW1lcy5wdXNoKGl0ZW0uZmlsZW5hbWUpO1xuXG4gICAgY2xlYXJUaW1lb3V0KGFkZEZpbGVzTm90aWZpY2F0aW9uVGltZW91dCk7XG4gICAgYWRkRmlsZXNOb3RpZmljYXRpb25UaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGxpc3RNb2RpZmllZChcbiAgICAgICAgcm9vdCxcbiAgICAgICAgZmlsZW5hbWVzLmpvaW4oJywgJyksXG4gICAgICAgIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX0FEREVEJylcbiAgICAgICk7XG5cbiAgICAgIGZpbGVuYW1lcy5sZW5ndGggPSAwO1xuICAgIH0sIDc1MCk7XG4gIH07XG5cbiAgdmFyIGl0ZW1SZW1vdmVkID0gZnVuY3Rpb24gaXRlbVJlbW92ZWQoX3JlZjMpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmMy5hY3Rpb247XG4gICAgaWYgKCFpc1VzaW5nRmlsZVBvbmQocm9vdCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaXRlbSA9IGFjdGlvbi5pdGVtO1xuICAgIGxpc3RNb2RpZmllZChyb290LCBpdGVtLmZpbGVuYW1lLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9SRU1PVkVEJykpO1xuICB9O1xuXG4gIHZhciBpdGVtUHJvY2Vzc2VkID0gZnVuY3Rpb24gaXRlbVByb2Nlc3NlZChfcmVmNCkge1xuICAgIHZhciByb290ID0gX3JlZjQucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWY0LmFjdGlvbjtcbiAgICAvLyB3aWxsIGFsc28gbm90aWZ5IHRoZSB1c2VyIHdoZW4gRmlsZVBvbmQgaXMgbm90IGJlaW5nIHVzZWQsIGFzIHRoZSB1c2VyIG1pZ2h0IGJlIG9jY3VwaWVkIHdpdGggb3RoZXIgYWN0aXZpdGllcyB3aGlsZSB1cGxvYWRpbmcgYSBmaWxlXG5cbiAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgYWN0aW9uLmlkKTtcbiAgICB2YXIgZmlsZW5hbWUgPSBpdGVtLmZpbGVuYW1lO1xuICAgIHZhciBsYWJlbCA9IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkdfQ09NUExFVEUnKTtcblxuICAgIGFzc2lzdChyb290LCBmaWxlbmFtZSArICcgJyArIGxhYmVsKTtcbiAgfTtcblxuICB2YXIgaXRlbVByb2Nlc3NlZFVuZG8gPSBmdW5jdGlvbiBpdGVtUHJvY2Vzc2VkVW5kbyhfcmVmNSkge1xuICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWY1LmFjdGlvbjtcbiAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgYWN0aW9uLmlkKTtcbiAgICB2YXIgZmlsZW5hbWUgPSBpdGVtLmZpbGVuYW1lO1xuICAgIHZhciBsYWJlbCA9IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkdfQUJPUlRFRCcpO1xuXG4gICAgYXNzaXN0KHJvb3QsIGZpbGVuYW1lICsgJyAnICsgbGFiZWwpO1xuICB9O1xuXG4gIHZhciBpdGVtRXJyb3IgPSBmdW5jdGlvbiBpdGVtRXJyb3IoX3JlZjYpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY2LnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmNi5hY3Rpb247XG4gICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGFjdGlvbi5pZCk7XG4gICAgdmFyIGZpbGVuYW1lID0gaXRlbS5maWxlbmFtZTtcblxuICAgIC8vIHdpbGwgYWxzbyBub3RpZnkgdGhlIHVzZXIgd2hlbiBGaWxlUG9uZCBpcyBub3QgYmVpbmcgdXNlZCwgYXMgdGhlIHVzZXIgbWlnaHQgYmUgb2NjdXBpZWQgd2l0aCBvdGhlciBhY3Rpdml0aWVzIHdoaWxlIHVwbG9hZGluZyBhIGZpbGVcblxuICAgIGFzc2lzdChyb290LCBhY3Rpb24uc3RhdHVzLm1haW4gKyAnICcgKyBmaWxlbmFtZSArICcgJyArIGFjdGlvbi5zdGF0dXMuc3ViKTtcbiAgfTtcblxuICB2YXIgYXNzaXN0YW50ID0gY3JlYXRlVmlldyh7XG4gICAgY3JlYXRlOiBjcmVhdGUkZCxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgIERJRF9MT0FEX0lURU06IGl0ZW1BZGRlZCxcbiAgICAgIERJRF9SRU1PVkVfSVRFTTogaXRlbVJlbW92ZWQsXG4gICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiBpdGVtUHJvY2Vzc2VkLFxuXG4gICAgICBESURfQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiBpdGVtUHJvY2Vzc2VkVW5kbyxcbiAgICAgIERJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiBpdGVtUHJvY2Vzc2VkVW5kbyxcblxuICAgICAgRElEX1RIUk9XX0lURU1fUkVNT1ZFX0VSUk9SOiBpdGVtRXJyb3IsXG4gICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiBpdGVtRXJyb3IsXG4gICAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiBpdGVtRXJyb3IsXG4gICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiBpdGVtRXJyb3JcbiAgICB9KSxcblxuICAgIHRhZzogJ3NwYW4nLFxuICAgIG5hbWU6ICdhc3Npc3RhbnQnXG4gIH0pO1xuXG4gIHZhciB0b0NhbWVscyA9IGZ1bmN0aW9uIHRvQ2FtZWxzKHN0cmluZykge1xuICAgIHZhciBzZXBhcmF0b3IgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnLSc7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKG5ldyBSZWdFeHAoc2VwYXJhdG9yICsgJy4nLCAnZycpLCBmdW5jdGlvbihzdWIpIHtcbiAgICAgIHJldHVybiBzdWIuY2hhckF0KDEpLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGRlYm91bmNlID0gZnVuY3Rpb24gZGVib3VuY2UoZnVuYykge1xuICAgIHZhciBpbnRlcnZhbCA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE2O1xuICAgIHZhciBpbW1pZGlhdGVPbmx5ID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTtcbiAgICB2YXIgbGFzdCA9IERhdGUubm93KCk7XG4gICAgdmFyIHRpbWVvdXQgPSBudWxsO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDtcbiAgICAgICAgX2tleSA8IF9sZW47XG4gICAgICAgIF9rZXkrK1xuICAgICAgKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG5cbiAgICAgIHZhciBkaXN0ID0gRGF0ZS5ub3coKSAtIGxhc3Q7XG5cbiAgICAgIHZhciBmbiA9IGZ1bmN0aW9uIGZuKCkge1xuICAgICAgICBsYXN0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgZnVuYy5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgICAgfTtcblxuICAgICAgaWYgKGRpc3QgPCBpbnRlcnZhbCkge1xuICAgICAgICAvLyB3ZSBuZWVkIHRvIGRlbGF5IGJ5IHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gaW50ZXJ2YWwgYW5kIGRpc3RcbiAgICAgICAgLy8gZm9yIGV4YW1wbGU6IGlmIGRpc3RhbmNlIGlzIDEwIG1zIGFuZCBpbnRlcnZhbCBpcyAxNiBtcyxcbiAgICAgICAgLy8gd2UgbmVlZCB0byB3YWl0IGFuIGFkZGl0aW9uYWwgNm1zIGJlZm9yZSBjYWxsaW5nIHRoZSBmdW5jdGlvbilcbiAgICAgICAgaWYgKCFpbW1pZGlhdGVPbmx5KSB7XG4gICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZm4sIGludGVydmFsIC0gZGlzdCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGdvIVxuICAgICAgICBmbigpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgdmFyIE1BWF9GSUxFU19MSU1JVCA9IDEwMDAwMDA7XG5cbiAgdmFyIHByZXZlbnQgPSBmdW5jdGlvbiBwcmV2ZW50KGUpIHtcbiAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIHZhciBjcmVhdGUkZSA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG5cbiAgICAvLyBBZGQgaWRcbiAgICB2YXIgaWQgPSByb290LnF1ZXJ5KCdHRVRfSUQnKTtcbiAgICBpZiAoaWQpIHtcbiAgICAgIHJvb3QuZWxlbWVudC5pZCA9IGlkO1xuICAgIH1cblxuICAgIC8vIEFkZCBjbGFzc05hbWVcbiAgICB2YXIgY2xhc3NOYW1lID0gcm9vdC5xdWVyeSgnR0VUX0NMQVNTX05BTUUnKTtcbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICBjbGFzc05hbWVcbiAgICAgICAgLnNwbGl0KCcgJylcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIG5hbWUubGVuZ3RoO1xuICAgICAgICB9KVxuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgcm9vdC5lbGVtZW50LmNsYXNzTGlzdC5hZGQobmFtZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEZpZWxkIGxhYmVsXG4gICAgcm9vdC5yZWYubGFiZWwgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KFxuICAgICAgICBkcm9wTGFiZWwsXG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdHJhbnNsYXRlWTogbnVsbCxcbiAgICAgICAgICBjYXB0aW9uOiByb290LnF1ZXJ5KCdHRVRfTEFCRUxfSURMRScpXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKTtcblxuICAgIC8vIExpc3Qgb2YgaXRlbXNcbiAgICByb290LnJlZi5saXN0ID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhsaXN0U2Nyb2xsZXIsIHsgdHJhbnNsYXRlWTogbnVsbCB9KVxuICAgICk7XG5cbiAgICAvLyBCYWNrZ3JvdW5kIHBhbmVsXG4gICAgcm9vdC5yZWYucGFuZWwgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHBhbmVsLCB7IG5hbWU6ICdwYW5lbC1yb290JyB9KVxuICAgICk7XG5cbiAgICAvLyBBc3Npc3RhbnQgbm90aWZpZXMgYXNzaXN0aXZlIHRlY2ggd2hlbiBjb250ZW50IGNoYW5nZXNcbiAgICByb290LnJlZi5hc3Npc3RhbnQgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGFzc2lzdGFudCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKVxuICAgICk7XG5cbiAgICAvLyBEYXRhXG4gICAgcm9vdC5yZWYuZGF0YSA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoZGF0YSwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKVxuICAgICk7XG5cbiAgICAvLyBNZWFzdXJlICh0ZXN0cyBpZiBmaXhlZCBoZWlnaHQgd2FzIHNldClcbiAgICAvLyBET0NUWVBFIG5lZWRzIHRvIGJlIHNldCBmb3IgdGhpcyB0byB3b3JrXG4gICAgcm9vdC5yZWYubWVhc3VyZSA9IGNyZWF0ZUVsZW1lbnQkMSgnZGl2Jyk7XG4gICAgcm9vdC5yZWYubWVhc3VyZS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgcm9vdC5lbGVtZW50LmFwcGVuZENoaWxkKHJvb3QucmVmLm1lYXN1cmUpO1xuXG4gICAgLy8gaW5mb3JtYXRpb24gb24gdGhlIHJvb3QgaGVpZ2h0IG9yIGZpeGVkIGhlaWdodCBzdGF0dXNcbiAgICByb290LnJlZi5ib3VuZHMgPSBudWxsO1xuXG4gICAgLy8gYXBwbHkgaW5pdGlhbCBzdHlsZSBwcm9wZXJ0aWVzXG4gICAgcm9vdFxuICAgICAgLnF1ZXJ5KCdHRVRfU1RZTEVTJylcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgcmV0dXJuICFpc0VtcHR5KHN0eWxlLnZhbHVlKTtcbiAgICAgIH0pXG4gICAgICAubWFwKGZ1bmN0aW9uKF9yZWYyKSB7XG4gICAgICAgIHZhciBuYW1lID0gX3JlZjIubmFtZSxcbiAgICAgICAgICB2YWx1ZSA9IF9yZWYyLnZhbHVlO1xuICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldFtuYW1lXSA9IHZhbHVlO1xuICAgICAgfSk7XG5cbiAgICAvLyBkZXRlcm1pbmUgaWYgd2lkdGggY2hhbmdlZFxuICAgIHJvb3QucmVmLndpZHRoUHJldmlvdXMgPSBudWxsO1xuICAgIHJvb3QucmVmLndpZHRoVXBkYXRlZCA9IGRlYm91bmNlKGZ1bmN0aW9uKCkge1xuICAgICAgcm9vdC5yZWYudXBkYXRlSGlzdG9yeSA9IFtdO1xuICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1JFU0laRV9ST09UJyk7XG4gICAgfSwgMjUwKTtcblxuICAgIC8vIGhpc3Rvcnkgb2YgdXBkYXRlc1xuICAgIHJvb3QucmVmLnByZXZpb3VzQXNwZWN0UmF0aW8gPSBudWxsO1xuICAgIHJvb3QucmVmLnVwZGF0ZUhpc3RvcnkgPSBbXTtcblxuICAgIC8vIHByZXZlbnQgc2Nyb2xsaW5nIGFuZCB6b29taW5nIG9uIGlPUyAob25seSBpZiBzdXBwb3J0cyBwb2ludGVyIGV2ZW50cywgZm9yIHRoZW4gd2UgY2FuIGVuYWJsZSByZW9yZGVyKVxuICAgIHZhciBjYW5Ib3ZlciA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocG9pbnRlcjogZmluZSkgYW5kIChob3ZlcjogaG92ZXIpJylcbiAgICAgIC5tYXRjaGVzO1xuICAgIHZhciBoYXNQb2ludGVyRXZlbnRzID0gJ1BvaW50ZXJFdmVudCcgaW4gd2luZG93O1xuICAgIGlmIChyb290LnF1ZXJ5KCdHRVRfQUxMT1dfUkVPUkRFUicpICYmIGhhc1BvaW50ZXJFdmVudHMgJiYgIWNhbkhvdmVyKSB7XG4gICAgICByb290LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgcHJldmVudCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgIHJvb3QuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlc3RhcnQnLCBwcmV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHdyaXRlJDkgPSBmdW5jdGlvbiB3cml0ZShfcmVmMykge1xuICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZjMucHJvcHMsXG4gICAgICBhY3Rpb25zID0gX3JlZjMuYWN0aW9ucztcblxuICAgIC8vIHJvdXRlIGFjdGlvbnNcbiAgICByb3V0ZSQ1KHsgcm9vdDogcm9vdCwgcHJvcHM6IHByb3BzLCBhY3Rpb25zOiBhY3Rpb25zIH0pO1xuXG4gICAgLy8gYXBwbHkgc3R5bGUgcHJvcGVydGllc1xuICAgIGFjdGlvbnNcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiAvXkRJRF9TRVRfU1RZTEVfLy50ZXN0KGFjdGlvbi50eXBlKTtcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICByZXR1cm4gIWlzRW1wdHkoYWN0aW9uLmRhdGEudmFsdWUpO1xuICAgICAgfSlcbiAgICAgIC5tYXAoZnVuY3Rpb24oX3JlZjQpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBfcmVmNC50eXBlLFxuICAgICAgICAgIGRhdGEgPSBfcmVmNC5kYXRhO1xuICAgICAgICB2YXIgbmFtZSA9IHRvQ2FtZWxzKHR5cGUuc3Vic3RyKDgpLnRvTG93ZXJDYXNlKCksICdfJyk7XG4gICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0W25hbWVdID0gZGF0YS52YWx1ZTtcbiAgICAgICAgcm9vdC5pbnZhbGlkYXRlTGF5b3V0KCk7XG4gICAgICB9KTtcblxuICAgIGlmIChyb290LnJlY3QuZWxlbWVudC5oaWRkZW4pIHJldHVybjtcblxuICAgIGlmIChyb290LnJlY3QuZWxlbWVudC53aWR0aCAhPT0gcm9vdC5yZWYud2lkdGhQcmV2aW91cykge1xuICAgICAgcm9vdC5yZWYud2lkdGhQcmV2aW91cyA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoO1xuICAgICAgcm9vdC5yZWYud2lkdGhVcGRhdGVkKCk7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGJveCBib3VuZHMsIHdlIGRvIHRoaXMgb25seSBvbmNlXG4gICAgdmFyIGJvdW5kcyA9IHJvb3QucmVmLmJvdW5kcztcbiAgICBpZiAoIWJvdW5kcykge1xuICAgICAgYm91bmRzID0gcm9vdC5yZWYuYm91bmRzID0gY2FsY3VsYXRlUm9vdEJvdW5kaW5nQm94SGVpZ2h0KHJvb3QpO1xuXG4gICAgICAvLyBkZXN0cm95IG1lYXN1cmUgZWxlbWVudFxuICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUNoaWxkKHJvb3QucmVmLm1lYXN1cmUpO1xuICAgICAgcm9vdC5yZWYubWVhc3VyZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gZ2V0IHF1aWNrIHJlZmVyZW5jZXMgdG8gdmFyaW91cyBoaWdoIGxldmVsIHBhcnRzIG9mIHRoZSB1cGxvYWQgdG9vbFxuICAgIHZhciBfcm9vdCRyZWYgPSByb290LnJlZixcbiAgICAgIGhvcHBlciA9IF9yb290JHJlZi5ob3BwZXIsXG4gICAgICBsYWJlbCA9IF9yb290JHJlZi5sYWJlbCxcbiAgICAgIGxpc3QgPSBfcm9vdCRyZWYubGlzdCxcbiAgICAgIHBhbmVsID0gX3Jvb3QkcmVmLnBhbmVsO1xuXG4gICAgLy8gc2V0cyBjb3JyZWN0IHN0YXRlIHRvIGhvcHBlciBzY29wZVxuICAgIGlmIChob3BwZXIpIHtcbiAgICAgIGhvcHBlci51cGRhdGVIb3BwZXJTdGF0ZSgpO1xuICAgIH1cblxuICAgIC8vIGJvb2wgdG8gaW5kaWNhdGUgaWYgd2UncmUgZnVsbCBvciBub3RcbiAgICB2YXIgYXNwZWN0UmF0aW8gPSByb290LnF1ZXJ5KCdHRVRfUEFORUxfQVNQRUNUX1JBVElPJyk7XG4gICAgdmFyIGlzTXVsdGlJdGVtID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX01VTFRJUExFJyk7XG4gICAgdmFyIHRvdGFsSXRlbXMgPSByb290LnF1ZXJ5KCdHRVRfVE9UQUxfSVRFTVMnKTtcbiAgICB2YXIgbWF4SXRlbXMgPSBpc011bHRpSXRlbVxuICAgICAgPyByb290LnF1ZXJ5KCdHRVRfTUFYX0ZJTEVTJykgfHwgTUFYX0ZJTEVTX0xJTUlUXG4gICAgICA6IDE7XG4gICAgdmFyIGF0TWF4Q2FwYWNpdHkgPSB0b3RhbEl0ZW1zID09PSBtYXhJdGVtcztcblxuICAgIC8vIGFjdGlvbiB1c2VkIHRvIGFkZCBpdGVtXG4gICAgdmFyIGFkZEFjdGlvbiA9IGFjdGlvbnMuZmluZChmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgIHJldHVybiBhY3Rpb24udHlwZSA9PT0gJ0RJRF9BRERfSVRFTSc7XG4gICAgfSk7XG5cbiAgICAvLyBpZiByZWFjaGVkIG1heCBjYXBhY2l0eSBhbmQgd2UndmUganVzdCByZWFjaGVkIGl0XG4gICAgaWYgKGF0TWF4Q2FwYWNpdHkgJiYgYWRkQWN0aW9uKSB7XG4gICAgICAvLyBnZXQgaW50ZXJhY3Rpb24gdHlwZVxuICAgICAgdmFyIGludGVyYWN0aW9uTWV0aG9kID0gYWRkQWN0aW9uLmRhdGEuaW50ZXJhY3Rpb25NZXRob2Q7XG5cbiAgICAgIC8vIGhpZGUgbGFiZWxcbiAgICAgIGxhYmVsLm9wYWNpdHkgPSAwO1xuXG4gICAgICBpZiAoaXNNdWx0aUl0ZW0pIHtcbiAgICAgICAgbGFiZWwudHJhbnNsYXRlWSA9IC00MDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuQVBJKSB7XG4gICAgICAgICAgbGFiZWwudHJhbnNsYXRlWCA9IDQwO1xuICAgICAgICB9IGVsc2UgaWYgKGludGVyYWN0aW9uTWV0aG9kID09PSBJbnRlcmFjdGlvbk1ldGhvZC5CUk9XU0UpIHtcbiAgICAgICAgICBsYWJlbC50cmFuc2xhdGVZID0gNDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFiZWwudHJhbnNsYXRlWSA9IDMwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghYXRNYXhDYXBhY2l0eSkge1xuICAgICAgbGFiZWwub3BhY2l0eSA9IDE7XG4gICAgICBsYWJlbC50cmFuc2xhdGVYID0gMDtcbiAgICAgIGxhYmVsLnRyYW5zbGF0ZVkgPSAwO1xuICAgIH1cblxuICAgIHZhciBsaXN0SXRlbU1hcmdpbiA9IGNhbGN1bGF0ZUxpc3RJdGVtTWFyZ2luKHJvb3QpO1xuXG4gICAgdmFyIGxpc3RIZWlnaHQgPSBjYWxjdWxhdGVMaXN0SGVpZ2h0KHJvb3QpO1xuXG4gICAgdmFyIGxhYmVsSGVpZ2h0ID0gbGFiZWwucmVjdC5lbGVtZW50LmhlaWdodDtcbiAgICB2YXIgY3VycmVudExhYmVsSGVpZ2h0ID0gIWlzTXVsdGlJdGVtIHx8IGF0TWF4Q2FwYWNpdHkgPyAwIDogbGFiZWxIZWlnaHQ7XG5cbiAgICB2YXIgbGlzdE1hcmdpblRvcCA9IGF0TWF4Q2FwYWNpdHkgPyBsaXN0LnJlY3QuZWxlbWVudC5tYXJnaW5Ub3AgOiAwO1xuICAgIHZhciBsaXN0TWFyZ2luQm90dG9tID1cbiAgICAgIHRvdGFsSXRlbXMgPT09IDAgPyAwIDogbGlzdC5yZWN0LmVsZW1lbnQubWFyZ2luQm90dG9tO1xuXG4gICAgdmFyIHZpc3VhbEhlaWdodCA9XG4gICAgICBjdXJyZW50TGFiZWxIZWlnaHQgKyBsaXN0TWFyZ2luVG9wICsgbGlzdEhlaWdodC52aXN1YWwgKyBsaXN0TWFyZ2luQm90dG9tO1xuICAgIHZhciBib3VuZHNIZWlnaHQgPVxuICAgICAgY3VycmVudExhYmVsSGVpZ2h0ICsgbGlzdE1hcmdpblRvcCArIGxpc3RIZWlnaHQuYm91bmRzICsgbGlzdE1hcmdpbkJvdHRvbTtcblxuICAgIC8vIGxpbmsgbGlzdCB0byBsYWJlbCBib3R0b20gcG9zaXRpb25cbiAgICBsaXN0LnRyYW5zbGF0ZVkgPVxuICAgICAgTWF0aC5tYXgoMCwgY3VycmVudExhYmVsSGVpZ2h0IC0gbGlzdC5yZWN0LmVsZW1lbnQubWFyZ2luVG9wKSAtXG4gICAgICBsaXN0SXRlbU1hcmdpbi50b3A7XG5cbiAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgIC8vIGZpeGVkIGFzcGVjdCByYXRpb1xuXG4gICAgICAvLyBjYWxjdWxhdGUgaGVpZ2h0IGJhc2VkIG9uIHdpZHRoXG4gICAgICB2YXIgd2lkdGggPSByb290LnJlY3QuZWxlbWVudC53aWR0aDtcbiAgICAgIHZhciBoZWlnaHQgPSB3aWR0aCAqIGFzcGVjdFJhdGlvO1xuXG4gICAgICAvLyBjbGVhciBoaXN0b3J5IGlmIGFzcGVjdCByYXRpbyBoYXMgY2hhbmdlZFxuICAgICAgaWYgKGFzcGVjdFJhdGlvICE9PSByb290LnJlZi5wcmV2aW91c0FzcGVjdFJhdGlvKSB7XG4gICAgICAgIHJvb3QucmVmLnByZXZpb3VzQXNwZWN0UmF0aW8gPSBhc3BlY3RSYXRpbztcbiAgICAgICAgcm9vdC5yZWYudXBkYXRlSGlzdG9yeSA9IFtdO1xuICAgICAgfVxuXG4gICAgICAvLyByZW1lbWJlciB0aGlzIHdpZHRoXG4gICAgICB2YXIgaGlzdG9yeSA9IHJvb3QucmVmLnVwZGF0ZUhpc3Rvcnk7XG4gICAgICBoaXN0b3J5LnB1c2god2lkdGgpO1xuXG4gICAgICB2YXIgTUFYX0JPVU5DRVMgPSAyO1xuICAgICAgaWYgKGhpc3RvcnkubGVuZ3RoID4gTUFYX0JPVU5DRVMgKiAyKSB7XG4gICAgICAgIHZhciBsID0gaGlzdG9yeS5sZW5ndGg7XG4gICAgICAgIHZhciBib3R0b20gPSBsIC0gMTA7XG4gICAgICAgIHZhciBib3VuY2VzID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IGw7IGkgPj0gYm90dG9tOyBpLS0pIHtcbiAgICAgICAgICBpZiAoaGlzdG9yeVtpXSA9PT0gaGlzdG9yeVtpIC0gMl0pIHtcbiAgICAgICAgICAgIGJvdW5jZXMrKztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYm91bmNlcyA+PSBNQVhfQk9VTkNFUykge1xuICAgICAgICAgICAgLy8gZG9udCBhZGp1c3QgaGVpZ2h0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGZpeCBoZWlnaHQgb2YgcGFuZWwgc28gaXQgYWRoZXJlcyB0byBhc3BlY3QgcmF0aW9cbiAgICAgIHBhbmVsLnNjYWxhYmxlID0gZmFsc2U7XG4gICAgICBwYW5lbC5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgIC8vIGF2YWlsYWJsZSBoZWlnaHQgZm9yIGxpc3RcbiAgICAgIHZhciBsaXN0QXZhaWxhYmxlSGVpZ2h0ID1cbiAgICAgICAgLy8gdGhlIGhlaWdodCBvZiB0aGUgcGFuZWwgbWludXMgdGhlIGxhYmVsIGhlaWdodFxuICAgICAgICBoZWlnaHQgLVxuICAgICAgICBjdXJyZW50TGFiZWxIZWlnaHQgLVxuICAgICAgICAvLyB0aGUgcm9vbSB3ZSBsZWF2ZSBvcGVuIGJldHdlZW4gdGhlIGVuZCBvZiB0aGUgbGlzdCBhbmQgdGhlIHBhbmVsIGJvdHRvbVxuICAgICAgICAobGlzdE1hcmdpbkJvdHRvbSAtIGxpc3RJdGVtTWFyZ2luLmJvdHRvbSkgLVxuICAgICAgICAvLyBpZiB3ZSdyZSBmdWxsIHdlIG5lZWQgdG8gbGVhdmUgc29tZSByb29tIGJldHdlZW4gdGhlIHRvcCBvZiB0aGUgcGFuZWwgYW5kIHRoZSBsaXN0XG4gICAgICAgIChhdE1heENhcGFjaXR5ID8gbGlzdE1hcmdpblRvcCA6IDApO1xuXG4gICAgICBpZiAobGlzdEhlaWdodC52aXN1YWwgPiBsaXN0QXZhaWxhYmxlSGVpZ2h0KSB7XG4gICAgICAgIGxpc3Qub3ZlcmZsb3cgPSBsaXN0QXZhaWxhYmxlSGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC5vdmVyZmxvdyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBjb250YWluZXIgYm91bmRzIChzbyBwdXNoZXMgc2libGluZ3MgZG93bndhcmRzKVxuICAgICAgcm9vdC5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfSBlbHNlIGlmIChib3VuZHMuZml4ZWRIZWlnaHQpIHtcbiAgICAgIC8vIGZpeGVkIGhlaWdodFxuXG4gICAgICAvLyBmaXggaGVpZ2h0IG9mIHBhbmVsXG4gICAgICBwYW5lbC5zY2FsYWJsZSA9IGZhbHNlO1xuXG4gICAgICAvLyBhdmFpbGFibGUgaGVpZ2h0IGZvciBsaXN0XG4gICAgICB2YXIgX2xpc3RBdmFpbGFibGVIZWlnaHQgPVxuICAgICAgICAvLyB0aGUgaGVpZ2h0IG9mIHRoZSBwYW5lbCBtaW51cyB0aGUgbGFiZWwgaGVpZ2h0XG4gICAgICAgIGJvdW5kcy5maXhlZEhlaWdodCAtXG4gICAgICAgIGN1cnJlbnRMYWJlbEhlaWdodCAtXG4gICAgICAgIC8vIHRoZSByb29tIHdlIGxlYXZlIG9wZW4gYmV0d2VlbiB0aGUgZW5kIG9mIHRoZSBsaXN0IGFuZCB0aGUgcGFuZWwgYm90dG9tXG4gICAgICAgIChsaXN0TWFyZ2luQm90dG9tIC0gbGlzdEl0ZW1NYXJnaW4uYm90dG9tKSAtXG4gICAgICAgIC8vIGlmIHdlJ3JlIGZ1bGwgd2UgbmVlZCB0byBsZWF2ZSBzb21lIHJvb20gYmV0d2VlbiB0aGUgdG9wIG9mIHRoZSBwYW5lbCBhbmQgdGhlIGxpc3RcbiAgICAgICAgKGF0TWF4Q2FwYWNpdHkgPyBsaXN0TWFyZ2luVG9wIDogMCk7XG5cbiAgICAgIC8vIHNldCBsaXN0IGhlaWdodFxuICAgICAgaWYgKGxpc3RIZWlnaHQudmlzdWFsID4gX2xpc3RBdmFpbGFibGVIZWlnaHQpIHtcbiAgICAgICAgbGlzdC5vdmVyZmxvdyA9IF9saXN0QXZhaWxhYmxlSGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC5vdmVyZmxvdyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIG5vIG5lZWQgdG8gc2V0IGNvbnRhaW5lciBib3VuZHMgYXMgdGhlc2UgYXJlIGhhbmRsZXMgYnkgQ1NTIGZpeGVkIGhlaWdodFxuICAgIH0gZWxzZSBpZiAoYm91bmRzLmNhcHBlZEhlaWdodCkge1xuICAgICAgLy8gbWF4LWhlaWdodFxuXG4gICAgICAvLyBub3QgYSBmaXhlZCBoZWlnaHQgcGFuZWxcbiAgICAgIHZhciBpc0NhcHBlZEhlaWdodCA9IHZpc3VhbEhlaWdodCA+PSBib3VuZHMuY2FwcGVkSGVpZ2h0O1xuICAgICAgdmFyIHBhbmVsSGVpZ2h0ID0gTWF0aC5taW4oYm91bmRzLmNhcHBlZEhlaWdodCwgdmlzdWFsSGVpZ2h0KTtcbiAgICAgIHBhbmVsLnNjYWxhYmxlID0gdHJ1ZTtcbiAgICAgIHBhbmVsLmhlaWdodCA9IGlzQ2FwcGVkSGVpZ2h0XG4gICAgICAgID8gcGFuZWxIZWlnaHRcbiAgICAgICAgOiBwYW5lbEhlaWdodCAtIGxpc3RJdGVtTWFyZ2luLnRvcCAtIGxpc3RJdGVtTWFyZ2luLmJvdHRvbTtcblxuICAgICAgLy8gYXZhaWxhYmxlIGhlaWdodCBmb3IgbGlzdFxuICAgICAgdmFyIF9saXN0QXZhaWxhYmxlSGVpZ2h0MiA9XG4gICAgICAgIC8vIHRoZSBoZWlnaHQgb2YgdGhlIHBhbmVsIG1pbnVzIHRoZSBsYWJlbCBoZWlnaHRcbiAgICAgICAgcGFuZWxIZWlnaHQgLVxuICAgICAgICBjdXJyZW50TGFiZWxIZWlnaHQgLVxuICAgICAgICAvLyB0aGUgcm9vbSB3ZSBsZWF2ZSBvcGVuIGJldHdlZW4gdGhlIGVuZCBvZiB0aGUgbGlzdCBhbmQgdGhlIHBhbmVsIGJvdHRvbVxuICAgICAgICAobGlzdE1hcmdpbkJvdHRvbSAtIGxpc3RJdGVtTWFyZ2luLmJvdHRvbSkgLVxuICAgICAgICAvLyBpZiB3ZSdyZSBmdWxsIHdlIG5lZWQgdG8gbGVhdmUgc29tZSByb29tIGJldHdlZW4gdGhlIHRvcCBvZiB0aGUgcGFuZWwgYW5kIHRoZSBsaXN0XG4gICAgICAgIChhdE1heENhcGFjaXR5ID8gbGlzdE1hcmdpblRvcCA6IDApO1xuXG4gICAgICAvLyBzZXQgbGlzdCBoZWlnaHQgKGlmIGlzIG92ZXJmbG93aW5nKVxuICAgICAgaWYgKFxuICAgICAgICB2aXN1YWxIZWlnaHQgPiBib3VuZHMuY2FwcGVkSGVpZ2h0ICYmXG4gICAgICAgIGxpc3RIZWlnaHQudmlzdWFsID4gX2xpc3RBdmFpbGFibGVIZWlnaHQyXG4gICAgICApIHtcbiAgICAgICAgbGlzdC5vdmVyZmxvdyA9IF9saXN0QXZhaWxhYmxlSGVpZ2h0MjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpc3Qub3ZlcmZsb3cgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgY29udGFpbmVyIGJvdW5kcyAoc28gcHVzaGVzIHNpYmxpbmdzIGRvd253YXJkcylcbiAgICAgIHJvb3QuaGVpZ2h0ID0gTWF0aC5taW4oXG4gICAgICAgIGJvdW5kcy5jYXBwZWRIZWlnaHQsXG4gICAgICAgIGJvdW5kc0hlaWdodCAtIGxpc3RJdGVtTWFyZ2luLnRvcCAtIGxpc3RJdGVtTWFyZ2luLmJvdHRvbVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZmxleGlibGUgaGVpZ2h0XG5cbiAgICAgIC8vIG5vdCBhIGZpeGVkIGhlaWdodCBwYW5lbFxuICAgICAgdmFyIGl0ZW1NYXJnaW4gPVxuICAgICAgICB0b3RhbEl0ZW1zID4gMCA/IGxpc3RJdGVtTWFyZ2luLnRvcCArIGxpc3RJdGVtTWFyZ2luLmJvdHRvbSA6IDA7XG4gICAgICBwYW5lbC5zY2FsYWJsZSA9IHRydWU7XG4gICAgICBwYW5lbC5oZWlnaHQgPSBNYXRoLm1heChsYWJlbEhlaWdodCwgdmlzdWFsSGVpZ2h0IC0gaXRlbU1hcmdpbik7XG5cbiAgICAgIC8vIHNldCBjb250YWluZXIgYm91bmRzIChzbyBwdXNoZXMgc2libGluZ3MgZG93bndhcmRzKVxuICAgICAgcm9vdC5oZWlnaHQgPSBNYXRoLm1heChsYWJlbEhlaWdodCwgYm91bmRzSGVpZ2h0IC0gaXRlbU1hcmdpbik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjYWxjdWxhdGVMaXN0SXRlbU1hcmdpbiA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUxpc3RJdGVtTWFyZ2luKHJvb3QpIHtcbiAgICB2YXIgaXRlbSA9IHJvb3QucmVmLmxpc3QuY2hpbGRWaWV3c1swXS5jaGlsZFZpZXdzWzBdO1xuICAgIHJldHVybiBpdGVtXG4gICAgICA/IHtcbiAgICAgICAgICB0b3A6IGl0ZW0ucmVjdC5lbGVtZW50Lm1hcmdpblRvcCxcbiAgICAgICAgICBib3R0b206IGl0ZW0ucmVjdC5lbGVtZW50Lm1hcmdpbkJvdHRvbVxuICAgICAgICB9XG4gICAgICA6IHtcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgYm90dG9tOiAwXG4gICAgICAgIH07XG4gIH07XG5cbiAgdmFyIGNhbGN1bGF0ZUxpc3RIZWlnaHQgPSBmdW5jdGlvbiBjYWxjdWxhdGVMaXN0SGVpZ2h0KHJvb3QpIHtcbiAgICB2YXIgdmlzdWFsID0gMDtcbiAgICB2YXIgYm91bmRzID0gMDtcblxuICAgIC8vIGdldCBmaWxlIGxpc3QgcmVmZXJlbmNlXG4gICAgdmFyIHNjcm9sbExpc3QgPSByb290LnJlZi5saXN0O1xuICAgIHZhciBpdGVtTGlzdCA9IHNjcm9sbExpc3QuY2hpbGRWaWV3c1swXTtcbiAgICB2YXIgdmlzaWJsZUNoaWxkcmVuID0gaXRlbUxpc3QuY2hpbGRWaWV3cy5maWx0ZXIoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIHJldHVybiBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0O1xuICAgIH0pO1xuICAgIHZhciBjaGlsZHJlbiA9IHJvb3RcbiAgICAgIC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpXG4gICAgICAubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHZpc2libGVDaGlsZHJlbi5maW5kKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkLmlkID09PSBpdGVtLmlkO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcblxuICAgIC8vIG5vIGNoaWxkcmVuLCBkb25lIVxuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHJldHVybiB7IHZpc3VhbDogdmlzdWFsLCBib3VuZHM6IGJvdW5kcyB9O1xuXG4gICAgdmFyIGhvcml6b250YWxTcGFjZSA9IGl0ZW1MaXN0LnJlY3QuZWxlbWVudC53aWR0aDtcbiAgICB2YXIgZHJhZ0luZGV4ID0gZ2V0SXRlbUluZGV4QnlQb3NpdGlvbihcbiAgICAgIGl0ZW1MaXN0LFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBzY3JvbGxMaXN0LmRyYWdDb29yZGluYXRlc1xuICAgICk7XG5cbiAgICB2YXIgY2hpbGRSZWN0ID0gY2hpbGRyZW5bMF0ucmVjdC5lbGVtZW50O1xuXG4gICAgdmFyIGl0ZW1WZXJ0aWNhbE1hcmdpbiA9IGNoaWxkUmVjdC5tYXJnaW5Ub3AgKyBjaGlsZFJlY3QubWFyZ2luQm90dG9tO1xuICAgIHZhciBpdGVtSG9yaXpvbnRhbE1hcmdpbiA9IGNoaWxkUmVjdC5tYXJnaW5MZWZ0ICsgY2hpbGRSZWN0Lm1hcmdpblJpZ2h0O1xuXG4gICAgdmFyIGl0ZW1XaWR0aCA9IGNoaWxkUmVjdC53aWR0aCArIGl0ZW1Ib3Jpem9udGFsTWFyZ2luO1xuICAgIHZhciBpdGVtSGVpZ2h0ID0gY2hpbGRSZWN0LmhlaWdodCArIGl0ZW1WZXJ0aWNhbE1hcmdpbjtcblxuICAgIHZhciBuZXdJdGVtID0gdHlwZW9mIGRyYWdJbmRleCAhPT0gJ3VuZGVmaW5lZCcgJiYgZHJhZ0luZGV4ID49IDAgPyAxIDogMDtcbiAgICB2YXIgcmVtb3ZlZEl0ZW0gPSBjaGlsZHJlbi5maW5kKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICByZXR1cm4gY2hpbGQubWFya2VkRm9yUmVtb3ZhbCAmJiBjaGlsZC5vcGFjaXR5IDwgMC40NTtcbiAgICB9KVxuICAgICAgPyAtMVxuICAgICAgOiAwO1xuICAgIHZhciB2ZXJ0aWNhbEl0ZW1Db3VudCA9IGNoaWxkcmVuLmxlbmd0aCArIG5ld0l0ZW0gKyByZW1vdmVkSXRlbTtcbiAgICB2YXIgaXRlbXNQZXJSb3cgPSBNYXRoLnJvdW5kKGhvcml6b250YWxTcGFjZSAvIGl0ZW1XaWR0aCk7XG5cbiAgICAvLyBzdGFja1xuICAgIGlmIChpdGVtc1BlclJvdyA9PT0gMSkge1xuICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSBpdGVtLnJlY3QuZWxlbWVudC5oZWlnaHQgKyBpdGVtVmVydGljYWxNYXJnaW47XG4gICAgICAgIGJvdW5kcyArPSBoZWlnaHQ7XG4gICAgICAgIHZpc3VhbCArPSBoZWlnaHQgKiBpdGVtLm9wYWNpdHk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gZ3JpZFxuICAgIGVsc2Uge1xuICAgICAgYm91bmRzID0gTWF0aC5jZWlsKHZlcnRpY2FsSXRlbUNvdW50IC8gaXRlbXNQZXJSb3cpICogaXRlbUhlaWdodDtcbiAgICAgIHZpc3VhbCA9IGJvdW5kcztcbiAgICB9XG5cbiAgICByZXR1cm4geyB2aXN1YWw6IHZpc3VhbCwgYm91bmRzOiBib3VuZHMgfTtcbiAgfTtcblxuICB2YXIgY2FsY3VsYXRlUm9vdEJvdW5kaW5nQm94SGVpZ2h0ID0gZnVuY3Rpb24gY2FsY3VsYXRlUm9vdEJvdW5kaW5nQm94SGVpZ2h0KFxuICAgIHJvb3RcbiAgKSB7XG4gICAgdmFyIGhlaWdodCA9IHJvb3QucmVmLm1lYXN1cmVIZWlnaHQgfHwgbnVsbDtcbiAgICB2YXIgY2FwcGVkSGVpZ2h0ID0gcGFyc2VJbnQocm9vdC5zdHlsZS5tYXhIZWlnaHQsIDEwKSB8fCBudWxsO1xuICAgIHZhciBmaXhlZEhlaWdodCA9IGhlaWdodCA9PT0gMCA/IG51bGwgOiBoZWlnaHQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY2FwcGVkSGVpZ2h0OiBjYXBwZWRIZWlnaHQsXG4gICAgICBmaXhlZEhlaWdodDogZml4ZWRIZWlnaHRcbiAgICB9O1xuICB9O1xuXG4gIHZhciBleGNlZWRzTWF4RmlsZXMgPSBmdW5jdGlvbiBleGNlZWRzTWF4RmlsZXMocm9vdCwgaXRlbXMpIHtcbiAgICB2YXIgYWxsb3dSZXBsYWNlID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1JFUExBQ0UnKTtcbiAgICB2YXIgYWxsb3dNdWx0aXBsZSA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19NVUxUSVBMRScpO1xuICAgIHZhciB0b3RhbEl0ZW1zID0gcm9vdC5xdWVyeSgnR0VUX1RPVEFMX0lURU1TJyk7XG4gICAgdmFyIG1heEl0ZW1zID0gcm9vdC5xdWVyeSgnR0VUX01BWF9GSUxFUycpO1xuXG4gICAgLy8gdG90YWwgYW1vdW50IG9mIGl0ZW1zIGJlaW5nIGRyYWdnZWRcbiAgICB2YXIgdG90YWxCcm93c2VJdGVtcyA9IGl0ZW1zLmxlbmd0aDtcblxuICAgIC8vIGlmIGRvZXMgbm90IGFsbG93IG11bHRpcGxlIGl0ZW1zIGFuZCBkcmFnZ2luZyBtb3JlIHRoYW4gb25lIGl0ZW1cbiAgICBpZiAoIWFsbG93TXVsdGlwbGUgJiYgdG90YWxCcm93c2VJdGVtcyA+IDEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIGxpbWl0IG1heCBpdGVtcyB0byBvbmUgaWYgbm90IGFsbG93ZWQgdG8gZHJvcCBtdWx0aXBsZSBpdGVtc1xuICAgIG1heEl0ZW1zID0gYWxsb3dNdWx0aXBsZSA/IG1heEl0ZW1zIDogYWxsb3dSZXBsYWNlID8gbWF4SXRlbXMgOiAxO1xuXG4gICAgLy8gbm8gbW9yZSByb29tP1xuICAgIHZhciBoYXNNYXhJdGVtcyA9IGlzSW50KG1heEl0ZW1zKTtcbiAgICBpZiAoaGFzTWF4SXRlbXMgJiYgdG90YWxJdGVtcyArIHRvdGFsQnJvd3NlSXRlbXMgPiBtYXhJdGVtcykge1xuICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1RIUk9XX01BWF9GSUxFUycsIHtcbiAgICAgICAgc291cmNlOiBpdGVtcyxcbiAgICAgICAgZXJyb3I6IGNyZWF0ZVJlc3BvbnNlKCd3YXJuaW5nJywgMCwgJ01heCBmaWxlcycpXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHZhciBnZXREcmFnSW5kZXggPSBmdW5jdGlvbiBnZXREcmFnSW5kZXgobGlzdCwgY2hpbGRyZW4sIHBvc2l0aW9uKSB7XG4gICAgdmFyIGl0ZW1MaXN0ID0gbGlzdC5jaGlsZFZpZXdzWzBdO1xuICAgIHJldHVybiBnZXRJdGVtSW5kZXhCeVBvc2l0aW9uKGl0ZW1MaXN0LCBjaGlsZHJlbiwge1xuICAgICAgbGVmdDogcG9zaXRpb24uc2NvcGVMZWZ0IC0gaXRlbUxpc3QucmVjdC5lbGVtZW50LmxlZnQsXG4gICAgICB0b3A6XG4gICAgICAgIHBvc2l0aW9uLnNjb3BlVG9wIC1cbiAgICAgICAgKGxpc3QucmVjdC5vdXRlci50b3AgK1xuICAgICAgICAgIGxpc3QucmVjdC5lbGVtZW50Lm1hcmdpblRvcCArXG4gICAgICAgICAgbGlzdC5yZWN0LmVsZW1lbnQuc2Nyb2xsVG9wKVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSBmaWxlIGRyb3AgZnVuY3Rpb25hbGl0eVxuICAgKi9cbiAgdmFyIHRvZ2dsZURyb3AgPSBmdW5jdGlvbiB0b2dnbGVEcm9wKHJvb3QpIHtcbiAgICB2YXIgaXNBbGxvd2VkID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX0RST1AnKTtcbiAgICB2YXIgaXNEaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgIHZhciBlbmFibGVkID0gaXNBbGxvd2VkICYmICFpc0Rpc2FibGVkO1xuICAgIGlmIChlbmFibGVkICYmICFyb290LnJlZi5ob3BwZXIpIHtcbiAgICAgIHZhciBob3BwZXIgPSBjcmVhdGVIb3BwZXIoXG4gICAgICAgIHJvb3QuZWxlbWVudCxcbiAgICAgICAgZnVuY3Rpb24oaXRlbXMpIHtcbiAgICAgICAgICAvLyB0aGVzZSBmaWxlcyBkb24ndCBmaXQgc28gc3RvcCBoZXJlXG4gICAgICAgICAgaWYgKGV4Y2VlZHNNYXhGaWxlcyhyb290LCBpdGVtcykpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgIC8vIGFsbG93IHF1aWNrIHZhbGlkYXRpb24gb2YgZHJvcHBlZCBpdGVtc1xuICAgICAgICAgIHZhciBiZWZvcmVEcm9wRmlsZSA9XG4gICAgICAgICAgICByb290LnF1ZXJ5KCdHRVRfQkVGT1JFX0RST1BfRklMRScpIHx8XG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gYWxsIGl0ZW1zIHNob3VsZCBiZSB2YWxpZGF0ZWQgYnkgYWxsIGZpbHRlcnMgYXMgdmFsaWRcbiAgICAgICAgICB2YXIgZHJvcFZhbGlkYXRpb24gPSByb290LnF1ZXJ5KCdHRVRfRFJPUF9WQUxJREFUSU9OJyk7XG4gICAgICAgICAgcmV0dXJuIGRyb3BWYWxpZGF0aW9uXG4gICAgICAgICAgICA/IGl0ZW1zLmV2ZXJ5KGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXJzKCdBTExPV19IT1BQRVJfSVRFTScsIGl0ZW0sIHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHJvb3QucXVlcnlcbiAgICAgICAgICAgICAgICAgIH0pLmV2ZXJ5KGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ID09PSB0cnVlO1xuICAgICAgICAgICAgICAgICAgfSkgJiYgYmVmb3JlRHJvcEZpbGUoaXRlbSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZmlsdGVySXRlbXM6IGZ1bmN0aW9uIGZpbHRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgICAgICAgICB2YXIgaWdub3JlZEZpbGVzID0gcm9vdC5xdWVyeSgnR0VUX0lHTk9SRURfRklMRVMnKTtcbiAgICAgICAgICAgIHJldHVybiBpdGVtcy5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICBpZiAoaXNGaWxlKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFpZ25vcmVkRmlsZXMuaW5jbHVkZXMoaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYXRjaGVzRHJvcHNPblBhZ2U6IHJvb3QucXVlcnkoJ0dFVF9EUk9QX09OX1BBR0UnKSxcbiAgICAgICAgICByZXF1aXJlc0Ryb3BPbkVsZW1lbnQ6IHJvb3QucXVlcnkoJ0dFVF9EUk9QX09OX0VMRU1FTlQnKVxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICBob3BwZXIub25sb2FkID0gZnVuY3Rpb24oaXRlbXMsIHBvc2l0aW9uKSB7XG4gICAgICAgIC8vIGdldCBpdGVtIGNoaWxkcmVuIGVsZW1lbnRzIGFuZCBzb3J0IGJhc2VkIG9uIGxpc3Qgc29ydFxuICAgICAgICB2YXIgbGlzdCA9IHJvb3QucmVmLmxpc3QuY2hpbGRWaWV3c1swXTtcbiAgICAgICAgdmFyIHZpc2libGVDaGlsZHJlbiA9IGxpc3QuY2hpbGRWaWV3cy5maWx0ZXIoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQucmVjdC5lbGVtZW50LmhlaWdodDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHJvb3RcbiAgICAgICAgICAucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKVxuICAgICAgICAgIC5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIHZpc2libGVDaGlsZHJlbi5maW5kKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjaGlsZC5pZCA9PT0gaXRlbS5pZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBnb1xuICAgICAgICByb290LmRpc3BhdGNoKCdBRERfSVRFTVMnLCB7XG4gICAgICAgICAgaXRlbXM6IGl0ZW1zLFxuICAgICAgICAgIGluZGV4OiBnZXREcmFnSW5kZXgocm9vdC5yZWYubGlzdCwgY2hpbGRyZW4sIHBvc2l0aW9uKSxcbiAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogSW50ZXJhY3Rpb25NZXRob2QuRFJPUFxuICAgICAgICB9KTtcblxuICAgICAgICByb290LmRpc3BhdGNoKCdESURfRFJPUCcsIHsgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xuXG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9FTkRfRFJBRycsIHsgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xuICAgICAgfTtcblxuICAgICAgaG9wcGVyLm9uZHJhZ3N0YXJ0ID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1NUQVJUX0RSQUcnLCB7IHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcbiAgICAgIH07XG5cbiAgICAgIGhvcHBlci5vbmRyYWcgPSBkZWJvdW5jZShmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICByb290LmRpc3BhdGNoKCdESURfRFJBRycsIHsgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGhvcHBlci5vbmRyYWdlbmQgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICByb290LmRpc3BhdGNoKCdESURfRU5EX0RSQUcnLCB7IHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcbiAgICAgIH07XG5cbiAgICAgIHJvb3QucmVmLmhvcHBlciA9IGhvcHBlcjtcblxuICAgICAgcm9vdC5yZWYuZHJpcCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGRyaXApKTtcbiAgICB9IGVsc2UgaWYgKCFlbmFibGVkICYmIHJvb3QucmVmLmhvcHBlcikge1xuICAgICAgcm9vdC5yZWYuaG9wcGVyLmRlc3Ryb3koKTtcbiAgICAgIHJvb3QucmVmLmhvcHBlciA9IG51bGw7XG4gICAgICByb290LnJlbW92ZUNoaWxkVmlldyhyb290LnJlZi5kcmlwKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBvciBkaXNhYmxlIGJyb3dzZSBmdW5jdGlvbmFsaXR5XG4gICAqL1xuICB2YXIgdG9nZ2xlQnJvd3NlID0gZnVuY3Rpb24gdG9nZ2xlQnJvd3NlKHJvb3QsIHByb3BzKSB7XG4gICAgdmFyIGlzQWxsb3dlZCA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19CUk9XU0UnKTtcbiAgICB2YXIgaXNEaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgIHZhciBlbmFibGVkID0gaXNBbGxvd2VkICYmICFpc0Rpc2FibGVkO1xuICAgIGlmIChlbmFibGVkICYmICFyb290LnJlZi5icm93c2VyKSB7XG4gICAgICByb290LnJlZi5icm93c2VyID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KFxuICAgICAgICAgIGJyb3dzZXIsXG4gICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gb25sb2FkKGl0ZW1zKSB7XG4gICAgICAgICAgICAgIC8vIHRoZXNlIGZpbGVzIGRvbid0IGZpdCBzbyBzdG9wIGhlcmVcbiAgICAgICAgICAgICAgaWYgKGV4Y2VlZHNNYXhGaWxlcyhyb290LCBpdGVtcykpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAvLyBhZGQgaXRlbXMhXG4gICAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0FERF9JVEVNUycsIHtcbiAgICAgICAgICAgICAgICBpdGVtczogaXRlbXMsXG4gICAgICAgICAgICAgICAgaW5kZXg6IC0xLFxuICAgICAgICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBJbnRlcmFjdGlvbk1ldGhvZC5CUk9XU0VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKSxcblxuICAgICAgICAwXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoIWVuYWJsZWQgJiYgcm9vdC5yZWYuYnJvd3Nlcikge1xuICAgICAgcm9vdC5yZW1vdmVDaGlsZFZpZXcocm9vdC5yZWYuYnJvd3Nlcik7XG4gICAgICByb290LnJlZi5icm93c2VyID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBvciBkaXNhYmxlIHBhc3RlIGZ1bmN0aW9uYWxpdHlcbiAgICovXG4gIHZhciB0b2dnbGVQYXN0ZSA9IGZ1bmN0aW9uIHRvZ2dsZVBhc3RlKHJvb3QpIHtcbiAgICB2YXIgaXNBbGxvd2VkID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1BBU1RFJyk7XG4gICAgdmFyIGlzRGlzYWJsZWQgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKTtcbiAgICB2YXIgZW5hYmxlZCA9IGlzQWxsb3dlZCAmJiAhaXNEaXNhYmxlZDtcbiAgICBpZiAoZW5hYmxlZCAmJiAhcm9vdC5yZWYucGFzdGVyKSB7XG4gICAgICByb290LnJlZi5wYXN0ZXIgPSBjcmVhdGVQYXN0ZXIoKTtcbiAgICAgIHJvb3QucmVmLnBhc3Rlci5vbmxvYWQgPSBmdW5jdGlvbihpdGVtcykge1xuICAgICAgICByb290LmRpc3BhdGNoKCdBRERfSVRFTVMnLCB7XG4gICAgICAgICAgaXRlbXM6IGl0ZW1zLFxuICAgICAgICAgIGluZGV4OiAtMSxcbiAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogSW50ZXJhY3Rpb25NZXRob2QuUEFTVEVcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoIWVuYWJsZWQgJiYgcm9vdC5yZWYucGFzdGVyKSB7XG4gICAgICByb290LnJlZi5wYXN0ZXIuZGVzdHJveSgpO1xuICAgICAgcm9vdC5yZWYucGFzdGVyID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJvdXRlIGFjdGlvbnNcbiAgICovXG4gIHZhciByb3V0ZSQ1ID0gY3JlYXRlUm91dGUoe1xuICAgIERJRF9TRVRfQUxMT1dfQlJPV1NFOiBmdW5jdGlvbiBESURfU0VUX0FMTE9XX0JST1dTRShfcmVmNSkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICBwcm9wcyA9IF9yZWY1LnByb3BzO1xuICAgICAgdG9nZ2xlQnJvd3NlKHJvb3QsIHByb3BzKTtcbiAgICB9LFxuICAgIERJRF9TRVRfQUxMT1dfRFJPUDogZnVuY3Rpb24gRElEX1NFVF9BTExPV19EUk9QKF9yZWY2KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY2LnJvb3Q7XG4gICAgICB0b2dnbGVEcm9wKHJvb3QpO1xuICAgIH0sXG4gICAgRElEX1NFVF9BTExPV19QQVNURTogZnVuY3Rpb24gRElEX1NFVF9BTExPV19QQVNURShfcmVmNykge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmNy5yb290O1xuICAgICAgdG9nZ2xlUGFzdGUocm9vdCk7XG4gICAgfSxcbiAgICBESURfU0VUX0RJU0FCTEVEOiBmdW5jdGlvbiBESURfU0VUX0RJU0FCTEVEKF9yZWY4KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY4LnJvb3QsXG4gICAgICAgIHByb3BzID0gX3JlZjgucHJvcHM7XG4gICAgICB0b2dnbGVEcm9wKHJvb3QpO1xuICAgICAgdG9nZ2xlUGFzdGUocm9vdCk7XG4gICAgICB0b2dnbGVCcm93c2Uocm9vdCwgcHJvcHMpO1xuICAgICAgdmFyIGlzRGlzYWJsZWQgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKTtcbiAgICAgIGlmIChpc0Rpc2FibGVkKSB7XG4gICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRpc2FibGVkID0gJ2Rpc2FibGVkJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRlbGV0ZSByb290LmVsZW1lbnQuZGF0YXNldC5kaXNhYmxlZDsgPD0gdGhpcyBkb2VzIG5vdCB3b3JrIG9uIGlPUyAxMFxuICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWRpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2YXIgcm9vdCA9IGNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdyb290JyxcbiAgICByZWFkOiBmdW5jdGlvbiByZWFkKF9yZWY5KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY5LnJvb3Q7XG4gICAgICBpZiAocm9vdC5yZWYubWVhc3VyZSkge1xuICAgICAgICByb290LnJlZi5tZWFzdXJlSGVpZ2h0ID0gcm9vdC5yZWYubWVhc3VyZS5vZmZzZXRIZWlnaHQ7XG4gICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGU6IGNyZWF0ZSRlLFxuICAgIHdyaXRlOiB3cml0ZSQ5LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koX3JlZjEwKSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWYxMC5yb290O1xuICAgICAgaWYgKHJvb3QucmVmLnBhc3Rlcikge1xuICAgICAgICByb290LnJlZi5wYXN0ZXIuZGVzdHJveSgpO1xuICAgICAgfVxuICAgICAgaWYgKHJvb3QucmVmLmhvcHBlcikge1xuICAgICAgICByb290LnJlZi5ob3BwZXIuZGVzdHJveSgpO1xuICAgICAgfVxuICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHByZXZlbnQpO1xuICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVzdGFydCcsIHByZXZlbnQpO1xuICAgIH0sXG4gICAgbWl4aW5zOiB7XG4gICAgICBzdHlsZXM6IFsnaGVpZ2h0J11cbiAgICB9XG4gIH0pO1xuXG4gIC8vIGNyZWF0ZXMgdGhlIGFwcFxuICB2YXIgY3JlYXRlQXBwID0gZnVuY3Rpb24gY3JlYXRlQXBwKCkge1xuICAgIHZhciBpbml0aWFsT3B0aW9ucyA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIC8vIGxldCBlbGVtZW50XG4gICAgdmFyIG9yaWdpbmFsRWxlbWVudCA9IG51bGw7XG5cbiAgICAvLyBnZXQgZGVmYXVsdCBvcHRpb25zXG4gICAgdmFyIGRlZmF1bHRPcHRpb25zID0gZ2V0T3B0aW9ucygpO1xuXG4gICAgLy8gY3JlYXRlIHRoZSBkYXRhIHN0b3JlLCB0aGlzIHdpbGwgY29udGFpbiBhbGwgb3VyIGFwcCBpbmZvXG4gICAgdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUoXG4gICAgICAvLyBpbml0aWFsIHN0YXRlIChzaG91bGQgYmUgc2VyaWFsaXphYmxlKVxuICAgICAgY3JlYXRlSW5pdGlhbFN0YXRlKGRlZmF1bHRPcHRpb25zKSxcblxuICAgICAgLy8gcXVlcmllc1xuICAgICAgW3F1ZXJpZXMsIGNyZWF0ZU9wdGlvblF1ZXJpZXMoZGVmYXVsdE9wdGlvbnMpXSxcblxuICAgICAgLy8gYWN0aW9uIGhhbmRsZXJzXG4gICAgICBbYWN0aW9ucywgY3JlYXRlT3B0aW9uQWN0aW9ucyhkZWZhdWx0T3B0aW9ucyldXG4gICAgKTtcblxuICAgIC8vIHNldCBpbml0aWFsIG9wdGlvbnNcbiAgICBzdG9yZS5kaXNwYXRjaCgnU0VUX09QVElPTlMnLCB7IG9wdGlvbnM6IGluaXRpYWxPcHRpb25zIH0pO1xuXG4gICAgLy8ga2ljayB0aHJlYWQgaWYgdmlzaWJpbGl0eSBjaGFuZ2VzXG4gICAgdmFyIHZpc2liaWxpdHlIYW5kbGVyID0gZnVuY3Rpb24gdmlzaWJpbGl0eUhhbmRsZXIoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSByZXR1cm47XG4gICAgICBzdG9yZS5kaXNwYXRjaCgnS0lDSycpO1xuICAgIH07XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHZpc2liaWxpdHlIYW5kbGVyKTtcblxuICAgIC8vIHJlLXJlbmRlciBvbiB3aW5kb3cgcmVzaXplIHN0YXJ0IGFuZCBmaW5pc2hcbiAgICB2YXIgcmVzaXplRG9uZVRpbWVyID0gbnVsbDtcbiAgICB2YXIgaXNSZXNpemluZyA9IGZhbHNlO1xuICAgIHZhciBpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5ID0gZmFsc2U7XG4gICAgdmFyIGluaXRpYWxXaW5kb3dXaWR0aCA9IG51bGw7XG4gICAgdmFyIGN1cnJlbnRXaW5kb3dXaWR0aCA9IG51bGw7XG4gICAgdmFyIHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbiByZXNpemVIYW5kbGVyKCkge1xuICAgICAgaWYgKCFpc1Jlc2l6aW5nKSB7XG4gICAgICAgIGlzUmVzaXppbmcgPSB0cnVlO1xuICAgICAgfVxuICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZURvbmVUaW1lcik7XG4gICAgICByZXNpemVEb25lVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpc1Jlc2l6aW5nID0gZmFsc2U7XG4gICAgICAgIGluaXRpYWxXaW5kb3dXaWR0aCA9IG51bGw7XG4gICAgICAgIGN1cnJlbnRXaW5kb3dXaWR0aCA9IG51bGw7XG4gICAgICAgIGlmIChpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5KSB7XG4gICAgICAgICAgaXNSZXNpemluZ0hvcml6b250YWxseSA9IGZhbHNlO1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdESURfU1RPUF9SRVNJWkUnKTtcbiAgICAgICAgfVxuICAgICAgfSwgNTAwKTtcbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVIYW5kbGVyKTtcblxuICAgIC8vIHJlbmRlciBpbml0aWFsIHZpZXdcbiAgICB2YXIgdmlldyA9IHJvb3Qoc3RvcmUsIHsgaWQ6IGdldFVuaXF1ZUlkKCkgfSk7XG5cbiAgICAvL1xuICAgIC8vIFBSSVZBVEUgQVBJIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL1xuICAgIHZhciBpc1Jlc3RpbmcgPSBmYWxzZTtcbiAgICB2YXIgaXNIaWRkZW4gPSBmYWxzZTtcblxuICAgIHZhciByZWFkV3JpdGVBcGkgPSB7XG4gICAgICAvLyBuZWNlc3NhcnkgZm9yIHVwZGF0ZSBsb29wXG5cbiAgICAgIC8qKlxuICAgICAgICogUmVhZHMgZnJvbSBkb20gKG5ldmVyIGNhbGwgbWFudWFsbHkpXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICBfcmVhZDogZnVuY3Rpb24gX3JlYWQoKSB7XG4gICAgICAgIC8vIHRlc3QgaWYgd2UncmUgcmVzaXppbmcgaG9yaXpvbnRhbGx5XG4gICAgICAgIC8vIFRPRE86IHNlZSBpZiB3ZSBjYW4gb3B0aW1pemUgdGhpcyBieSBtZWFzdXJpbmcgcm9vdCByZWN0XG4gICAgICAgIGlmIChpc1Jlc2l6aW5nKSB7XG4gICAgICAgICAgY3VycmVudFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgaWYgKCFpbml0aWFsV2luZG93V2lkdGgpIHtcbiAgICAgICAgICAgIGluaXRpYWxXaW5kb3dXaWR0aCA9IGN1cnJlbnRXaW5kb3dXaWR0aDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNSZXNpemluZ0hvcml6b250YWxseSAmJlxuICAgICAgICAgICAgY3VycmVudFdpbmRvd1dpZHRoICE9PSBpbml0aWFsV2luZG93V2lkdGhcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdESURfU1RBUlRfUkVTSVpFJyk7XG4gICAgICAgICAgICBpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNIaWRkZW4gJiYgaXNSZXN0aW5nKSB7XG4gICAgICAgICAgLy8gdGVzdCBpZiBpcyBubyBsb25nZXIgaGlkZGVuXG4gICAgICAgICAgaXNSZXN0aW5nID0gdmlldy5lbGVtZW50Lm9mZnNldFBhcmVudCA9PT0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHJlc3RpbmcsIG5vIG5lZWQgdG8gcmVhZCBhcyBudW1iZXJzIHdpbGwgc3RpbGwgYWxsIGJlIGNvcnJlY3RcbiAgICAgICAgaWYgKGlzUmVzdGluZykgcmV0dXJuO1xuXG4gICAgICAgIC8vIHJlYWQgdmlldyBkYXRhXG4gICAgICAgIHZpZXcuX3JlYWQoKTtcblxuICAgICAgICAvLyBpZiBpcyBoaWRkZW4gd2UgbmVlZCB0byBrbm93IHNvIHdlIGV4aXQgcmVzdCBtb2RlIHdoZW4gcmV2ZWFsZWRcbiAgICAgICAgaXNIaWRkZW4gPSB2aWV3LnJlY3QuZWxlbWVudC5oaWRkZW47XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFdyaXRlcyB0byBkb20gKG5ldmVyIGNhbGwgbWFudWFsbHkpXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG4gICAgICBfd3JpdGU6IGZ1bmN0aW9uIF93cml0ZSh0cykge1xuICAgICAgICAvLyBnZXQgYWxsIGFjdGlvbnMgZnJvbSBzdG9yZVxuICAgICAgICB2YXIgYWN0aW9ucyA9IHN0b3JlXG4gICAgICAgICAgLnByb2Nlc3NBY3Rpb25RdWV1ZSgpXG5cbiAgICAgICAgICAvLyBmaWx0ZXIgb3V0IHNldCBhY3Rpb25zICh0aGVzZSB3aWxsIGF1dG9tYXRpY2FsbHkgdHJpZ2dlciBESURfU0VUKVxuICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gIS9eU0VUXy8udGVzdChhY3Rpb24udHlwZSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaWYgd2FzIGlkbGluZyBhbmQgbm8gYWN0aW9ucyBzdG9wIGhlcmVcbiAgICAgICAgaWYgKGlzUmVzdGluZyAmJiAhYWN0aW9ucy5sZW5ndGgpIHJldHVybjtcblxuICAgICAgICAvLyBzb21lIGFjdGlvbnMgbWlnaHQgdHJpZ2dlciBldmVudHNcbiAgICAgICAgcm91dGVBY3Rpb25zVG9FdmVudHMoYWN0aW9ucyk7XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSB2aWV3XG4gICAgICAgIGlzUmVzdGluZyA9IHZpZXcuX3dyaXRlKHRzLCBhY3Rpb25zLCBpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5KTtcblxuICAgICAgICAvLyB3aWxsIGNsZWFuIHVwIGFsbCBhcmNoaXZlZCBpdGVtc1xuICAgICAgICByZW1vdmVSZWxlYXNlZEl0ZW1zKHN0b3JlLnF1ZXJ5KCdHRVRfSVRFTVMnKSk7XG5cbiAgICAgICAgLy8gbm93IGlkbGluZ1xuICAgICAgICBpZiAoaXNSZXN0aW5nKSB7XG4gICAgICAgICAgc3RvcmUucHJvY2Vzc0Rpc3BhdGNoUXVldWUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvL1xuICAgIC8vIEVYUE9TRSBFVkVOVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgdmFyIGNyZWF0ZUV2ZW50ID0gZnVuY3Rpb24gY3JlYXRlRXZlbnQobmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgLy8gY3JlYXRlIGRlZmF1bHQgZXZlbnRcbiAgICAgICAgdmFyIGV2ZW50ID0ge1xuICAgICAgICAgIHR5cGU6IG5hbWVcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBubyBkYXRhIHRvIGFkZFxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb3B5IHJlbGV2YW50IHByb3BzXG4gICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KCdlcnJvcicpKSB7XG4gICAgICAgICAgZXZlbnQuZXJyb3IgPSBkYXRhLmVycm9yID8gT2JqZWN0LmFzc2lnbih7fSwgZGF0YS5lcnJvcikgOiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgZXZlbnQuc3RhdHVzID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YS5zdGF0dXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuZmlsZSkge1xuICAgICAgICAgIGV2ZW50Lm91dHB1dCA9IGRhdGEuZmlsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG9ubHkgc291cmNlIGlzIGF2YWlsYWJsZSwgZWxzZSBhZGQgaXRlbSBpZiBwb3NzaWJsZVxuICAgICAgICBpZiAoZGF0YS5zb3VyY2UpIHtcbiAgICAgICAgICBldmVudC5maWxlID0gZGF0YS5zb3VyY2U7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5pdGVtIHx8IGRhdGEuaWQpIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IGRhdGEuaXRlbSA/IGRhdGEuaXRlbSA6IHN0b3JlLnF1ZXJ5KCdHRVRfSVRFTScsIGRhdGEuaWQpO1xuICAgICAgICAgIGV2ZW50LmZpbGUgPSBpdGVtID8gY3JlYXRlSXRlbUFQSShpdGVtKSA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYXAgYWxsIGl0ZW1zIGluIGEgcG9zc2libGUgaXRlbXMgYXJyYXlcbiAgICAgICAgaWYgKGRhdGEuaXRlbXMpIHtcbiAgICAgICAgICBldmVudC5pdGVtcyA9IGRhdGEuaXRlbXMubWFwKGNyZWF0ZUl0ZW1BUEkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhIHByb2dyZXNzIGV2ZW50IGFkZCB0aGUgcHJvZ3Jlc3MgYW1vdW50XG4gICAgICAgIGlmICgvcHJvZ3Jlc3MvLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICBldmVudC5wcm9ncmVzcyA9IGRhdGEucHJvZ3Jlc3M7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb3B5IHJlbGV2YW50IHByb3BzXG4gICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KCdvcmlnaW4nKSAmJiBkYXRhLmhhc093blByb3BlcnR5KCd0YXJnZXQnKSkge1xuICAgICAgICAgIGV2ZW50Lm9yaWdpbiA9IGRhdGEub3JpZ2luO1xuICAgICAgICAgIGV2ZW50LnRhcmdldCA9IGRhdGEudGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGV2ZW50Um91dGVzID0ge1xuICAgICAgRElEX0RFU1RST1k6IGNyZWF0ZUV2ZW50KCdkZXN0cm95JyksXG5cbiAgICAgIERJRF9JTklUOiBjcmVhdGVFdmVudCgnaW5pdCcpLFxuXG4gICAgICBESURfVEhST1dfTUFYX0ZJTEVTOiBjcmVhdGVFdmVudCgnd2FybmluZycpLFxuXG4gICAgICBESURfSU5JVF9JVEVNOiBjcmVhdGVFdmVudCgnaW5pdGZpbGUnKSxcbiAgICAgIERJRF9TVEFSVF9JVEVNX0xPQUQ6IGNyZWF0ZUV2ZW50KCdhZGRmaWxlc3RhcnQnKSxcbiAgICAgIERJRF9VUERBVEVfSVRFTV9MT0FEX1BST0dSRVNTOiBjcmVhdGVFdmVudCgnYWRkZmlsZXByb2dyZXNzJyksXG4gICAgICBESURfTE9BRF9JVEVNOiBjcmVhdGVFdmVudCgnYWRkZmlsZScpLFxuXG4gICAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiBbY3JlYXRlRXZlbnQoJ2Vycm9yJyksIGNyZWF0ZUV2ZW50KCdhZGRmaWxlJyldLFxuXG4gICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiBbY3JlYXRlRXZlbnQoJ2Vycm9yJyksIGNyZWF0ZUV2ZW50KCdhZGRmaWxlJyldLFxuXG4gICAgICBESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1I6IFtcbiAgICAgICAgY3JlYXRlRXZlbnQoJ2Vycm9yJyksXG4gICAgICAgIGNyZWF0ZUV2ZW50KCdyZW1vdmVmaWxlJylcbiAgICAgIF0sXG5cbiAgICAgIERJRF9QUkVQQVJFX09VVFBVVDogY3JlYXRlRXZlbnQoJ3ByZXBhcmVmaWxlJyksXG5cbiAgICAgIERJRF9TVEFSVF9JVEVNX1BST0NFU1NJTkc6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZXN0YXJ0JyksXG4gICAgICBESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUzogY3JlYXRlRXZlbnQoJ3Byb2Nlc3NmaWxlcHJvZ3Jlc3MnKSxcbiAgICAgIERJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkc6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZWFib3J0JyksXG4gICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiBjcmVhdGVFdmVudCgncHJvY2Vzc2ZpbGUnKSxcbiAgICAgIERJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkdfQUxMOiBjcmVhdGVFdmVudCgncHJvY2Vzc2ZpbGVzJyksXG4gICAgICBESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogY3JlYXRlRXZlbnQoJ3Byb2Nlc3NmaWxlcmV2ZXJ0JyksXG5cbiAgICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1I6IFtcbiAgICAgICAgY3JlYXRlRXZlbnQoJ2Vycm9yJyksXG4gICAgICAgIGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZScpXG4gICAgICBdLFxuXG4gICAgICBESURfUkVNT1ZFX0lURU06IGNyZWF0ZUV2ZW50KCdyZW1vdmVmaWxlJyksXG5cbiAgICAgIERJRF9VUERBVEVfSVRFTVM6IGNyZWF0ZUV2ZW50KCd1cGRhdGVmaWxlcycpLFxuXG4gICAgICBESURfQUNUSVZBVEVfSVRFTTogY3JlYXRlRXZlbnQoJ2FjdGl2YXRlZmlsZScpLFxuXG4gICAgICBESURfUkVPUkRFUl9JVEVNUzogY3JlYXRlRXZlbnQoJ3Jlb3JkZXJmaWxlcycpXG4gICAgfTtcblxuICAgIHZhciBleHBvc2VFdmVudCA9IGZ1bmN0aW9uIGV4cG9zZUV2ZW50KGV2ZW50KSB7XG4gICAgICAvLyBjcmVhdGUgZXZlbnQgb2JqZWN0IHRvIGJlIGRpc3BhdGNoZWRcbiAgICAgIHZhciBkZXRhaWwgPSBPYmplY3QuYXNzaWduKHsgcG9uZDogZXhwb3J0cyB9LCBldmVudCk7XG4gICAgICBkZWxldGUgZGV0YWlsLnR5cGU7XG4gICAgICB2aWV3LmVsZW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDonICsgZXZlbnQudHlwZSwge1xuICAgICAgICAgIC8vIGV2ZW50IGluZm9cbiAgICAgICAgICBkZXRhaWw6IGRldGFpbCxcblxuICAgICAgICAgIC8vIGV2ZW50IGJlaGF2aW91clxuICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb21wb3NlZDogdHJ1ZSAvLyB0cmlnZ2VycyBsaXN0ZW5lcnMgb3V0c2lkZSBvZiBzaGFkb3cgcm9vdFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgLy8gZXZlbnQgb2JqZWN0IHRvIHBhcmFtcyB1c2VkIGZvciBgb24oKWAgZXZlbnQgaGFuZGxlcnMgYW5kIGNhbGxiYWNrcyBgb25pbml0KClgXG4gICAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICAgIC8vIGlmIGlzIHBvc3NpYmxlIGVycm9yIGV2ZW50LCBtYWtlIGl0IHRoZSBmaXJzdCBwYXJhbVxuICAgICAgaWYgKGV2ZW50Lmhhc093blByb3BlcnR5KCdlcnJvcicpKSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKGV2ZW50LmVycm9yKTtcbiAgICAgIH1cblxuICAgICAgLy8gZmlsZSBpcyBhbHdheXMgc2VjdGlvblxuICAgICAgaWYgKGV2ZW50Lmhhc093blByb3BlcnR5KCdmaWxlJykpIHtcbiAgICAgICAgcGFyYW1zLnB1c2goZXZlbnQuZmlsZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFwcGVuZCBvdGhlciBwcm9wc1xuICAgICAgdmFyIGZpbHRlcmVkID0gWyd0eXBlJywgJ2Vycm9yJywgJ2ZpbGUnXTtcbiAgICAgIE9iamVjdC5rZXlzKGV2ZW50KVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHJldHVybiAhZmlsdGVyZWQuaW5jbHVkZXMoa2V5KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmFtcy5wdXNoKGV2ZW50W2tleV0pO1xuICAgICAgICB9KTtcblxuICAgICAgLy8gb24odHlwZSwgKCkgPT4geyB9KVxuICAgICAgZXhwb3J0cy5maXJlLmFwcGx5KGV4cG9ydHMsIFtldmVudC50eXBlXS5jb25jYXQocGFyYW1zKSk7XG5cbiAgICAgIC8vIG9uaW5pdCA9ICgpID0+IHt9XG4gICAgICB2YXIgaGFuZGxlciA9IHN0b3JlLnF1ZXJ5KCdHRVRfT04nICsgZXZlbnQudHlwZS50b1VwcGVyQ2FzZSgpKTtcbiAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodm9pZCAwLCBwYXJhbXMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcm91dGVBY3Rpb25zVG9FdmVudHMgPSBmdW5jdGlvbiByb3V0ZUFjdGlvbnNUb0V2ZW50cyhhY3Rpb25zKSB7XG4gICAgICBpZiAoIWFjdGlvbnMubGVuZ3RoKSByZXR1cm47XG4gICAgICBhY3Rpb25zXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50Um91dGVzW2FjdGlvbi50eXBlXTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgdmFyIHJvdXRlcyA9IGV2ZW50Um91dGVzW2FjdGlvbi50eXBlXTtcbiAgICAgICAgICAoQXJyYXkuaXNBcnJheShyb3V0ZXMpID8gcm91dGVzIDogW3JvdXRlc10pLmZvckVhY2goZnVuY3Rpb24ocm91dGUpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXNuJ3QgZmFudGFzdGljLCBidXQgYmVjYXVzZSBvZiB0aGUgc3RhY2tpbmcgb2Ygc2V0dGltZW91dHMgcGx1Z2lucyBjYW4gaGFuZGxlIHRoZSBkaWRfbG9hZCBiZWZvcmUgdGhlIGRpZF9pbml0XG4gICAgICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09ICdESURfSU5JVF9JVEVNJykge1xuICAgICAgICAgICAgICBleHBvc2VFdmVudChyb3V0ZShhY3Rpb24uZGF0YSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBleHBvc2VFdmVudChyb3V0ZShhY3Rpb24uZGF0YSkpO1xuICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vXG4gICAgLy8gUFVCTElDIEFQSSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9cbiAgICB2YXIgc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdTRVRfT1BUSU9OUycsIHsgb3B0aW9uczogb3B0aW9ucyB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGdldEZpbGUgPSBmdW5jdGlvbiBnZXRGaWxlKHF1ZXJ5KSB7XG4gICAgICByZXR1cm4gc3RvcmUucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTScsIHF1ZXJ5KTtcbiAgICB9O1xuXG4gICAgdmFyIHByZXBhcmVGaWxlID0gZnVuY3Rpb24gcHJlcGFyZUZpbGUocXVlcnkpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1JFUVVFU1RfSVRFTV9QUkVQQVJFJywge1xuICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGl0ZW0pIHtcbiAgICAgICAgICAgIHJlc29sdmUoaXRlbSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiBmYWlsdXJlKGVycm9yKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGFkZEZpbGUgPSBmdW5jdGlvbiBhZGRGaWxlKHNvdXJjZSkge1xuICAgICAgdmFyIG9wdGlvbnMgPVxuICAgICAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBhZGRGaWxlcyhbeyBzb3VyY2U6IHNvdXJjZSwgb3B0aW9uczogb3B0aW9ucyB9XSwge1xuICAgICAgICAgIGluZGV4OiBvcHRpb25zLmluZGV4XG4gICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oaXRlbXMpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGl0ZW1zICYmIGl0ZW1zWzBdKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBpc0ZpbGVQb25kRmlsZSA9IGZ1bmN0aW9uIGlzRmlsZVBvbmRGaWxlKG9iaikge1xuICAgICAgcmV0dXJuIG9iai5maWxlICYmIG9iai5pZDtcbiAgICB9O1xuXG4gICAgdmFyIHJlbW92ZUZpbGUgPSBmdW5jdGlvbiByZW1vdmVGaWxlKHF1ZXJ5LCBvcHRpb25zKSB7XG4gICAgICAvLyBpZiBvbmx5IHBhc3NlZCBvcHRpb25zXG4gICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0JyAmJiAhaXNGaWxlUG9uZEZpbGUocXVlcnkpICYmICFvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBxdWVyeTtcbiAgICAgICAgcXVlcnkgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlcXVlc3QgaXRlbSByZW1vdmFsXG4gICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgJ1JFTU9WRV9JVEVNJyxcbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywgeyBxdWVyeTogcXVlcnkgfSlcbiAgICAgICk7XG5cbiAgICAgIC8vIHNlZSBpZiBpdGVtIGhhcyBiZWVuIHJlbW92ZWRcbiAgICAgIHJldHVybiBzdG9yZS5xdWVyeSgnR0VUX0FDVElWRV9JVEVNJywgcXVlcnkpID09PSBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgYWRkRmlsZXMgPSBmdW5jdGlvbiBhZGRGaWxlcygpIHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7XG4gICAgICAgIF9rZXkgPCBfbGVuO1xuICAgICAgICBfa2V5KytcbiAgICAgICkge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuXG4gICAgICAgIC8vIHVzZXIgcGFzc2VkIGEgc291cmNlcyBhcnJheVxuICAgICAgICBpZiAoaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgICAgIHNvdXJjZXMucHVzaC5hcHBseShzb3VyY2VzLCBhcmdzWzBdKTtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKG9wdGlvbnMsIGFyZ3NbMV0gfHwge30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHVzZXIgcGFzc2VkIHNvdXJjZXMgYXMgYXJndW1lbnRzLCBsYXN0IG9uZSBtaWdodCBiZSBvcHRpb25zIG9iamVjdFxuICAgICAgICAgIHZhciBsYXN0QXJndW1lbnQgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdHlwZW9mIGxhc3RBcmd1bWVudCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICEobGFzdEFyZ3VtZW50IGluc3RhbmNlb2YgQmxvYilcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgYXJncy5wb3AoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gYWRkIHJlc3QgdG8gc291cmNlc1xuICAgICAgICAgIHNvdXJjZXMucHVzaC5hcHBseShzb3VyY2VzLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKCdBRERfSVRFTVMnLCB7XG4gICAgICAgICAgaXRlbXM6IHNvdXJjZXMsXG4gICAgICAgICAgaW5kZXg6IG9wdGlvbnMuaW5kZXgsXG4gICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IEludGVyYWN0aW9uTWV0aG9kLkFQSSxcbiAgICAgICAgICBzdWNjZXNzOiByZXNvbHZlLFxuICAgICAgICAgIGZhaWx1cmU6IHJlamVjdFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0RmlsZXMgPSBmdW5jdGlvbiBnZXRGaWxlcygpIHtcbiAgICAgIHJldHVybiBzdG9yZS5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpO1xuICAgIH07XG5cbiAgICB2YXIgcHJvY2Vzc0ZpbGUgPSBmdW5jdGlvbiBwcm9jZXNzRmlsZShxdWVyeSkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCgnUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLCB7XG4gICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoaXRlbSkge1xuICAgICAgICAgICAgcmVzb2x2ZShpdGVtKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIGZhaWx1cmUoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgcHJlcGFyZUZpbGVzID0gZnVuY3Rpb24gcHJlcGFyZUZpbGVzKCkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDtcbiAgICAgICAgX2tleTIgPCBfbGVuMjtcbiAgICAgICAgX2tleTIrK1xuICAgICAgKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cbiAgICAgIHZhciBxdWVyaWVzID0gQXJyYXkuaXNBcnJheShhcmdzWzBdKSA/IGFyZ3NbMF0gOiBhcmdzO1xuICAgICAgdmFyIGl0ZW1zID0gcXVlcmllcy5sZW5ndGggPyBxdWVyaWVzIDogZ2V0RmlsZXMoKTtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChpdGVtcy5tYXAocHJlcGFyZUZpbGUpKTtcbiAgICB9O1xuXG4gICAgdmFyIHByb2Nlc3NGaWxlcyA9IGZ1bmN0aW9uIHByb2Nlc3NGaWxlcygpIHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7XG4gICAgICAgIF9rZXkzIDwgX2xlbjM7XG4gICAgICAgIF9rZXkzKytcbiAgICAgICkge1xuICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG4gICAgICB2YXIgcXVlcmllcyA9IEFycmF5LmlzQXJyYXkoYXJnc1swXSkgPyBhcmdzWzBdIDogYXJncztcbiAgICAgIGlmICghcXVlcmllcy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGZpbGVzID0gZ2V0RmlsZXMoKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAhKFxuICAgICAgICAgICAgICBpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5JRExFICYmXG4gICAgICAgICAgICAgIGl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLkxPQ0FMXG4gICAgICAgICAgICApICYmXG4gICAgICAgICAgICBpdGVtLnN0YXR1cyAhPT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HICYmXG4gICAgICAgICAgICBpdGVtLnN0YXR1cyAhPT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFICYmXG4gICAgICAgICAgICBpdGVtLnN0YXR1cyAhPT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUlxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChmaWxlcy5tYXAocHJvY2Vzc0ZpbGUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChxdWVyaWVzLm1hcChwcm9jZXNzRmlsZSkpO1xuICAgIH07XG5cbiAgICB2YXIgcmVtb3ZlRmlsZXMgPSBmdW5jdGlvbiByZW1vdmVGaWxlcygpIHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7XG4gICAgICAgIF9rZXk0IDwgX2xlbjQ7XG4gICAgICAgIF9rZXk0KytcbiAgICAgICkge1xuICAgICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICB9XG5cbiAgICAgIHZhciBxdWVyaWVzID0gQXJyYXkuaXNBcnJheShhcmdzWzBdKSA/IGFyZ3NbMF0gOiBhcmdzO1xuXG4gICAgICB2YXIgb3B0aW9ucztcbiAgICAgIGlmICh0eXBlb2YgcXVlcmllc1txdWVyaWVzLmxlbmd0aCAtIDFdID09PSAnb2JqZWN0Jykge1xuICAgICAgICBvcHRpb25zID0gcXVlcmllcy5wb3AoKTtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgICBvcHRpb25zID0gYXJnc1sxXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZpbGVzID0gZ2V0RmlsZXMoKTtcblxuICAgICAgaWYgKCFxdWVyaWVzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgICAgIGZpbGVzLm1hcChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlRmlsZShmaWxlLCBvcHRpb25zKTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAvLyB3aGVuIHJlbW92aW5nIGJ5IGluZGV4IHRoZSBpbmRleGVzIHNoaWZ0IGFmdGVyIGVhY2ggZmlsZSByZW1vdmFsIHNvIHdlIG5lZWQgdG8gY29udmVydCBpbmRleGVzIHRvIGlkc1xuICAgICAgdmFyIG1hcHBlZFF1ZXJpZXMgPSBxdWVyaWVzXG4gICAgICAgIC5tYXAoZnVuY3Rpb24ocXVlcnkpIHtcbiAgICAgICAgICByZXR1cm4gaXNOdW1iZXIocXVlcnkpXG4gICAgICAgICAgICA/IGZpbGVzW3F1ZXJ5XVxuICAgICAgICAgICAgICA/IGZpbGVzW3F1ZXJ5XS5pZFxuICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICAgIDogcXVlcnk7XG4gICAgICAgIH0pXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24ocXVlcnkpIHtcbiAgICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbWFwcGVkUXVlcmllcy5tYXAoZnVuY3Rpb24ocSkge1xuICAgICAgICByZXR1cm4gcmVtb3ZlRmlsZShxLCBvcHRpb25zKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7fSxcblxuICAgICAgb24oKSxcbiAgICAgIHt9LFxuXG4gICAgICByZWFkV3JpdGVBcGksXG4gICAgICB7fSxcblxuICAgICAgY3JlYXRlT3B0aW9uQVBJKHN0b3JlLCBkZWZhdWx0T3B0aW9ucyksXG4gICAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdmVycmlkZSBvcHRpb25zIGRlZmluZWQgaW4gb3B0aW9ucyBvYmplY3RcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIHNldE9wdGlvbnM6IHNldE9wdGlvbnMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvYWQgdGhlIGdpdmVuIGZpbGVcbiAgICAgICAgICogQHBhcmFtIHNvdXJjZSAtIHRoZSBzb3VyY2Ugb2YgdGhlIGZpbGUgKGVpdGhlciBhIEZpbGUsIGJhc2U2NCBkYXRhIHVyaSBvciB1cmwpXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIC0gb2JqZWN0LCB7IGluZGV4OiAwIH1cbiAgICAgICAgICovXG4gICAgICAgIGFkZEZpbGU6IGFkZEZpbGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvYWQgdGhlIGdpdmVuIGZpbGVzXG4gICAgICAgICAqIEBwYXJhbSBzb3VyY2VzIC0gdGhlIHNvdXJjZXMgb2YgdGhlIGZpbGVzIHRvIGxvYWRcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBvYmplY3QsIHsgaW5kZXg6IDAgfVxuICAgICAgICAgKi9cbiAgICAgICAgYWRkRmlsZXM6IGFkZEZpbGVzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBmaWxlIG9iamVjdHMgbWF0Y2hpbmcgdGhlIGdpdmVuIHF1ZXJ5XG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSB7IHN0cmluZywgbnVtYmVyLCBudWxsIH1cbiAgICAgICAgICovXG4gICAgICAgIGdldEZpbGU6IGdldEZpbGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwbG9hZCBmaWxlIHdpdGggZ2l2ZW4gbmFtZVxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgeyBzdHJpbmcsIG51bWJlciwgbnVsbCAgfVxuICAgICAgICAgKi9cbiAgICAgICAgcHJvY2Vzc0ZpbGU6IHByb2Nlc3NGaWxlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXF1ZXN0IHByZXBhcmUgb3V0cHV0IGZvciBmaWxlIHdpdGggZ2l2ZW4gbmFtZVxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgeyBzdHJpbmcsIG51bWJlciwgbnVsbCAgfVxuICAgICAgICAgKi9cbiAgICAgICAgcHJlcGFyZUZpbGU6IHByZXBhcmVGaWxlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmVzIGEgZmlsZSBieSBpdHMgbmFtZVxuICAgICAgICAgKiBAcGFyYW0gcXVlcnkgeyBzdHJpbmcsIG51bWJlciwgbnVsbCAgfVxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlRmlsZTogcmVtb3ZlRmlsZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZXMgYSBmaWxlIHRvIGEgbmV3IGxvY2F0aW9uIGluIHRoZSBmaWxlcyBsaXN0XG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlRmlsZTogZnVuY3Rpb24gbW92ZUZpbGUocXVlcnksIGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdNT1ZFX0lURU0nLCB7IHF1ZXJ5OiBxdWVyeSwgaW5kZXg6IGluZGV4IH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGFsbCBmaWxlcyAod3JhcHBlZCBpbiBwdWJsaWMgYXBpKVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RmlsZXM6IGdldEZpbGVzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGFydHMgdXBsb2FkaW5nIGFsbCBmaWxlc1xuICAgICAgICAgKi9cbiAgICAgICAgcHJvY2Vzc0ZpbGVzOiBwcm9jZXNzRmlsZXMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsZWFycyBhbGwgZmlsZXMgZnJvbSB0aGUgZmlsZXMgbGlzdFxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlRmlsZXM6IHJlbW92ZUZpbGVzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGFydHMgcHJlcGFyaW5nIG91dHB1dCBvZiBhbGwgZmlsZXNcbiAgICAgICAgICovXG4gICAgICAgIHByZXBhcmVGaWxlczogcHJlcGFyZUZpbGVzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3J0IGxpc3Qgb2YgZmlsZXNcbiAgICAgICAgICovXG4gICAgICAgIHNvcnQ6IGZ1bmN0aW9uIHNvcnQoY29tcGFyZSkge1xuICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnU09SVCcsIHsgY29tcGFyZTogY29tcGFyZSB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQnJvd3NlIHRoZSBmaWxlIHN5c3RlbSBmb3IgYSBmaWxlXG4gICAgICAgICAqL1xuICAgICAgICBicm93c2U6IGZ1bmN0aW9uIGJyb3dzZSgpIHtcbiAgICAgICAgICAvLyBuZWVkcyB0byBiZSB0cmlnZ2VyIGRpcmVjdGx5IGFzIHVzZXIgYWN0aW9uIG5lZWRzIHRvIGJlIHRyYWNlYWJsZSAoaXMgbm90IHRyYWNlYWJsZSBpbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXG4gICAgICAgICAgdmFyIGlucHV0ID0gdmlldy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9ZmlsZV0nKTtcbiAgICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICAgIGlucHV0LmNsaWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0cm95cyB0aGUgYXBwXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgIC8vIHJlcXVlc3QgZGVzdHJ1Y3Rpb25cbiAgICAgICAgICBleHBvcnRzLmZpcmUoJ2Rlc3Ryb3knLCB2aWV3LmVsZW1lbnQpO1xuXG4gICAgICAgICAgLy8gc3RvcCBhY3RpdmUgcHJvY2Vzc2VzIChmaWxlIHVwbG9hZHMsIGZldGNoZXMsIHN0dWZmIGxpa2UgdGhhdClcbiAgICAgICAgICAvLyBsb29wIG92ZXIgaXRlbXMgYW5kIGRlcGVuZGluZyBvbiBzdGF0ZXMgY2FsbCBhYm9ydCBmb3Igb25nb2luZyBwcm9jZXNzZXNcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnQUJPUlRfQUxMJyk7XG5cbiAgICAgICAgICAvLyBkZXN0cm95IHZpZXdcbiAgICAgICAgICB2aWV3Ll9kZXN0cm95KCk7XG5cbiAgICAgICAgICAvLyBzdG9wIGxpc3RlbmluZyB0byByZXNpemVcbiAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplSGFuZGxlcik7XG5cbiAgICAgICAgICAvLyBzdG9wIGxpc3RlbmluZyB0byB0aGUgdmlzaWJsaXR5Y2hhbmdlIGV2ZW50XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHZpc2liaWxpdHlIYW5kbGVyKTtcblxuICAgICAgICAgIC8vIGRpc3BhdGNoIGRlc3Ryb3lcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnRElEX0RFU1RST1knKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5zZXJ0cyB0aGUgcGx1Z2luIGJlZm9yZSB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGluc2VydEJlZm9yZTogZnVuY3Rpb24gaW5zZXJ0QmVmb3JlJDEoZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBpbnNlcnRCZWZvcmUodmlldy5lbGVtZW50LCBlbGVtZW50KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5zZXJ0cyB0aGUgcGx1Z2luIGFmdGVyIHRoZSB0YXJnZXQgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgaW5zZXJ0QWZ0ZXI6IGZ1bmN0aW9uIGluc2VydEFmdGVyJDEoZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBpbnNlcnRBZnRlcih2aWV3LmVsZW1lbnQsIGVsZW1lbnQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBcHBlbmRzIHRoZSBwbHVnaW4gdG8gdGhlIHRhcmdldCBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBhcHBlbmRUbzogZnVuY3Rpb24gYXBwZW5kVG8oZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50LmFwcGVuZENoaWxkKHZpZXcuZWxlbWVudCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcGxhY2VzIGFuIGVsZW1lbnQgd2l0aCB0aGUgYXBwXG4gICAgICAgICAqL1xuICAgICAgICByZXBsYWNlRWxlbWVudDogZnVuY3Rpb24gcmVwbGFjZUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgIC8vIGluc2VydCB0aGUgYXBwIGJlZm9yZSB0aGUgZWxlbWVudFxuICAgICAgICAgIGluc2VydEJlZm9yZSh2aWV3LmVsZW1lbnQsIGVsZW1lbnQpO1xuXG4gICAgICAgICAgLy8gcmVtb3ZlIHRoZSBvcmlnaW5hbCBlbGVtZW50XG4gICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuXG4gICAgICAgICAgLy8gcmVtZW1iZXIgb3JpZ2luYWwgZWxlbWVudFxuICAgICAgICAgIG9yaWdpbmFsRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc3RvcmVzIHRoZSBvcmlnaW5hbCBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICByZXN0b3JlRWxlbWVudDogZnVuY3Rpb24gcmVzdG9yZUVsZW1lbnQoKSB7XG4gICAgICAgICAgaWYgKCFvcmlnaW5hbEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjsgLy8gbm8gZWxlbWVudCB0byByZXN0b3JlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmVzdG9yZSBvcmlnaW5hbCBlbGVtZW50XG4gICAgICAgICAgaW5zZXJ0QWZ0ZXIob3JpZ2luYWxFbGVtZW50LCB2aWV3LmVsZW1lbnQpO1xuXG4gICAgICAgICAgLy8gcmVtb3ZlIG91ciBlbGVtZW50XG4gICAgICAgICAgdmlldy5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodmlldy5lbGVtZW50KTtcblxuICAgICAgICAgIC8vIHJlbW92ZSByZWZlcmVuY2VcbiAgICAgICAgICBvcmlnaW5hbEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGFwcCByb290IGlzIGF0dGFjaGVkIHRvIGdpdmVuIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGlzQXR0YWNoZWRUbzogZnVuY3Rpb24gaXNBdHRhY2hlZFRvKGVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gdmlldy5lbGVtZW50ID09PSBlbGVtZW50IHx8IG9yaWdpbmFsRWxlbWVudCA9PT0gZWxlbWVudDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgcm9vdCBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBlbGVtZW50OiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlldy5lbGVtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgY3VycmVudCBwb25kIHN0YXR1c1xuICAgICAgICAgKi9cbiAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RvcmUucXVlcnkoJ0dFVF9TVEFUVVMnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuXG4gICAgLy8gRG9uZSFcbiAgICBzdG9yZS5kaXNwYXRjaCgnRElEX0lOSVQnKTtcblxuICAgIC8vIGNyZWF0ZSBhY3R1YWwgYXBpIG9iamVjdFxuICAgIHJldHVybiBjcmVhdGVPYmplY3QoZXhwb3J0cyk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUFwcE9iamVjdCA9IGZ1bmN0aW9uIGNyZWF0ZUFwcE9iamVjdCgpIHtcbiAgICB2YXIgY3VzdG9tT3B0aW9ucyA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIC8vIGRlZmF1bHQgb3B0aW9uc1xuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHt9O1xuICAgIGZvcmluKGdldE9wdGlvbnMoKSwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgZGVmYXVsdE9wdGlvbnNba2V5XSA9IHZhbHVlWzBdO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IGFwcCBvcHRpb25zXG4gICAgdmFyIGFwcCA9IGNyZWF0ZUFwcChcbiAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuXG4gICAgICAgIGRlZmF1bHRPcHRpb25zLFxuICAgICAgICB7fSxcblxuICAgICAgICBjdXN0b21PcHRpb25zXG4gICAgICApXG4gICAgKTtcblxuICAgIC8vIHJldHVybiB0aGUgcGx1Z2luIGluc3RhbmNlXG4gICAgcmV0dXJuIGFwcDtcbiAgfTtcblxuICB2YXIgbG93ZXJDYXNlRmlyc3RMZXR0ZXIgPSBmdW5jdGlvbiBsb3dlckNhc2VGaXJzdExldHRlcihzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuICB9O1xuXG4gIHZhciBhdHRyaWJ1dGVOYW1lVG9Qcm9wZXJ0eU5hbWUgPSBmdW5jdGlvbiBhdHRyaWJ1dGVOYW1lVG9Qcm9wZXJ0eU5hbWUoXG4gICAgYXR0cmlidXRlTmFtZVxuICApIHtcbiAgICByZXR1cm4gdG9DYW1lbHMoYXR0cmlidXRlTmFtZS5yZXBsYWNlKC9eZGF0YS0vLCAnJykpO1xuICB9O1xuXG4gIHZhciBtYXBPYmplY3QgPSBmdW5jdGlvbiBtYXBPYmplY3Qob2JqZWN0LCBwcm9wZXJ0eU1hcCkge1xuICAgIC8vIHJlbW92ZSB1bndhbnRlZFxuICAgIGZvcmluKHByb3BlcnR5TWFwLCBmdW5jdGlvbihzZWxlY3RvciwgbWFwcGluZykge1xuICAgICAgZm9yaW4ob2JqZWN0LCBmdW5jdGlvbihwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgLy8gY3JlYXRlIHJlZ2V4cCBzaG9ydGN1dFxuICAgICAgICB2YXIgc2VsZWN0b3JSZWdFeHAgPSBuZXcgUmVnRXhwKHNlbGVjdG9yKTtcblxuICAgICAgICAvLyB0ZXN0cyBpZlxuICAgICAgICB2YXIgbWF0Y2hlcyA9IHNlbGVjdG9yUmVnRXhwLnRlc3QocHJvcGVydHkpO1xuXG4gICAgICAgIC8vIG5vIG1hdGNoLCBza2lwXG4gICAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZXJlJ3MgYSBtYXBwaW5nLCB0aGUgb3JpZ2luYWwgcHJvcGVydHkgaXMgYWx3YXlzIHJlbW92ZWRcbiAgICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XG5cbiAgICAgICAgLy8gc2hvdWxkIG9ubHkgcmVtb3ZlLCB3ZSBkb25lIVxuICAgICAgICBpZiAobWFwcGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3ZlIHZhbHVlIHRvIG5ldyBwcm9wZXJ0eVxuICAgICAgICBpZiAoaXNTdHJpbmcobWFwcGluZykpIHtcbiAgICAgICAgICBvYmplY3RbbWFwcGluZ10gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3ZlIHRvIGdyb3VwXG4gICAgICAgIHZhciBncm91cCA9IG1hcHBpbmcuZ3JvdXA7XG4gICAgICAgIGlmIChpc09iamVjdChtYXBwaW5nKSAmJiAhb2JqZWN0W2dyb3VwXSkge1xuICAgICAgICAgIG9iamVjdFtncm91cF0gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iamVjdFtncm91cF1bXG4gICAgICAgICAgbG93ZXJDYXNlRmlyc3RMZXR0ZXIocHJvcGVydHkucmVwbGFjZShzZWxlY3RvclJlZ0V4cCwgJycpKVxuICAgICAgICBdID0gdmFsdWU7XG4gICAgICB9KTtcblxuICAgICAgLy8gZG8gc3VibWFwcGluZ1xuICAgICAgaWYgKG1hcHBpbmcubWFwcGluZykge1xuICAgICAgICBtYXBPYmplY3Qob2JqZWN0W21hcHBpbmcuZ3JvdXBdLCBtYXBwaW5nLm1hcHBpbmcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnZXRBdHRyaWJ1dGVzQXNPYmplY3QgPSBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVzQXNPYmplY3Qobm9kZSkge1xuICAgIHZhciBhdHRyaWJ1dGVNYXBwaW5nID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgLy8gdHVybiBhdHRyaWJ1dGVzIGludG8gb2JqZWN0XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBbXTtcbiAgICBmb3Jpbihub2RlLmF0dHJpYnV0ZXMsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICBhdHRyaWJ1dGVzLnB1c2gobm9kZS5hdHRyaWJ1dGVzW2luZGV4XSk7XG4gICAgfSk7XG5cbiAgICB2YXIgb3V0cHV0ID0gYXR0cmlidXRlc1xuICAgICAgLmZpbHRlcihmdW5jdGlvbihhdHRyaWJ1dGUpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZS5uYW1lO1xuICAgICAgfSlcbiAgICAgIC5yZWR1Y2UoZnVuY3Rpb24ob2JqLCBhdHRyaWJ1dGUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXR0cihub2RlLCBhdHRyaWJ1dGUubmFtZSk7XG5cbiAgICAgICAgb2JqW2F0dHJpYnV0ZU5hbWVUb1Byb3BlcnR5TmFtZShhdHRyaWJ1dGUubmFtZSldID1cbiAgICAgICAgICB2YWx1ZSA9PT0gYXR0cmlidXRlLm5hbWUgPyB0cnVlIDogdmFsdWU7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9LCB7fSk7XG5cbiAgICAvLyBkbyBtYXBwaW5nIG9mIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgbWFwT2JqZWN0KG91dHB1dCwgYXR0cmlidXRlTWFwcGluZyk7XG5cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIHZhciBjcmVhdGVBcHBBdEVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVBcHBBdEVsZW1lbnQoZWxlbWVudCkge1xuICAgIHZhciBvcHRpb25zID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAvLyBob3cgYXR0cmlidXRlcyBvZiB0aGUgaW5wdXQgZWxlbWVudCBhcmUgbWFwcGVkIHRvIHRoZSBvcHRpb25zIGZvciB0aGUgcGx1Z2luXG4gICAgdmFyIGF0dHJpYnV0ZU1hcHBpbmcgPSB7XG4gICAgICAvLyB0cmFuc2xhdGUgdG8gb3RoZXIgbmFtZVxuICAgICAgJ15jbGFzcyQnOiAnY2xhc3NOYW1lJyxcbiAgICAgICdebXVsdGlwbGUkJzogJ2FsbG93TXVsdGlwbGUnLFxuICAgICAgJ15jYXB0dXJlJCc6ICdjYXB0dXJlTWV0aG9kJyxcbiAgICAgICded2Via2l0ZGlyZWN0b3J5JCc6ICdhbGxvd0RpcmVjdG9yaWVzT25seScsXG5cbiAgICAgIC8vIGdyb3VwIHVuZGVyIHNpbmdsZSBwcm9wZXJ0eVxuICAgICAgJ15zZXJ2ZXInOiB7XG4gICAgICAgIGdyb3VwOiAnc2VydmVyJyxcbiAgICAgICAgbWFwcGluZzoge1xuICAgICAgICAgICdecHJvY2Vzcyc6IHtcbiAgICAgICAgICAgIGdyb3VwOiAncHJvY2VzcydcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgJ15yZXZlcnQnOiB7XG4gICAgICAgICAgICBncm91cDogJ3JldmVydCdcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgJ15mZXRjaCc6IHtcbiAgICAgICAgICAgIGdyb3VwOiAnZmV0Y2gnXG4gICAgICAgICAgfSxcblxuICAgICAgICAgICdecmVzdG9yZSc6IHtcbiAgICAgICAgICAgIGdyb3VwOiAncmVzdG9yZSdcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgJ15sb2FkJzoge1xuICAgICAgICAgICAgZ3JvdXA6ICdsb2FkJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLy8gZG9uJ3QgaW5jbHVkZSBpbiBvYmplY3RcbiAgICAgICdedHlwZSQnOiBmYWxzZSxcbiAgICAgICdeZmlsZXMkJzogZmFsc2VcbiAgICB9O1xuXG4gICAgLy8gYWRkIGFkZGl0aW9uYWwgb3B0aW9uIHRyYW5zbGF0b3JzXG4gICAgYXBwbHlGaWx0ZXJzKCdTRVRfQVRUUklCVVRFX1RPX09QVElPTl9NQVAnLCBhdHRyaWJ1dGVNYXBwaW5nKTtcblxuICAgIC8vIGNyZWF0ZSBmaW5hbCBvcHRpb25zIG9iamVjdCBieSBzZXR0aW5nIG9wdGlvbnMgb2JqZWN0IGFuZCB0aGVuIG92ZXJyaWRpbmcgb3B0aW9ucyBzdXBwbGllZCBvbiBlbGVtZW50XG4gICAgdmFyIG1lcmdlZE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcblxuICAgIHZhciBhdHRyaWJ1dGVPcHRpb25zID0gZ2V0QXR0cmlidXRlc0FzT2JqZWN0KFxuICAgICAgZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0ZJRUxEU0VUJ1xuICAgICAgICA/IGVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1maWxlXScpXG4gICAgICAgIDogZWxlbWVudCxcbiAgICAgIGF0dHJpYnV0ZU1hcHBpbmdcbiAgICApO1xuXG4gICAgLy8gbWVyZ2Ugd2l0aCBvcHRpb25zIG9iamVjdFxuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZU9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICBpZiAoaXNPYmplY3QoYXR0cmlidXRlT3B0aW9uc1trZXldKSkge1xuICAgICAgICBpZiAoIWlzT2JqZWN0KG1lcmdlZE9wdGlvbnNba2V5XSkpIHtcbiAgICAgICAgICBtZXJnZWRPcHRpb25zW2tleV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuYXNzaWduKG1lcmdlZE9wdGlvbnNba2V5XSwgYXR0cmlidXRlT3B0aW9uc1trZXldKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lcmdlZE9wdGlvbnNba2V5XSA9IGF0dHJpYnV0ZU9wdGlvbnNba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGlmIHBhcmVudCBpcyBhIGZpZWxkc2V0LCBnZXQgZmlsZXMgZnJvbSBwYXJlbnQgYnkgc2VsZWN0aW5nIGFsbCBpbnB1dCBmaWVsZHMgdGhhdCBhcmUgbm90IGZpbGUgdXBsb2FkIGZpZWxkc1xuICAgIC8vIHRoZXNlIHdpbGwgdGhlbiBiZSBhdXRvbWF0aWNhbGx5IHNldCB0byB0aGUgaW5pdGlhbCBmaWxlc1xuICAgIG1lcmdlZE9wdGlvbnMuZmlsZXMgPSAob3B0aW9ucy5maWxlcyB8fCBbXSkuY29uY2F0KFxuICAgICAgQXJyYXkuZnJvbShlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Om5vdChbdHlwZT1maWxlXSknKSkubWFwKFxuICAgICAgICBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzb3VyY2U6IGlucHV0LnZhbHVlLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICB0eXBlOiBpbnB1dC5kYXRhc2V0LnR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcblxuICAgIC8vIGJ1aWxkIHBsdWdpblxuICAgIHZhciBhcHAgPSBjcmVhdGVBcHBPYmplY3QobWVyZ2VkT3B0aW9ucyk7XG5cbiAgICAvLyBhZGQgYWxyZWFkeSBzZWxlY3RlZCBmaWxlc1xuICAgIGlmIChlbGVtZW50LmZpbGVzKSB7XG4gICAgICBBcnJheS5mcm9tKGVsZW1lbnQuZmlsZXMpLmZvckVhY2goZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICBhcHAuYWRkRmlsZShmaWxlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIHJlcGxhY2UgdGhlIHRhcmdldCBlbGVtZW50XG4gICAgYXBwLnJlcGxhY2VFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgLy8gZXhwb3NlXG4gICAgcmV0dXJuIGFwcDtcbiAgfTtcblxuICAvLyBpZiBhbiBlbGVtZW50IGlzIHBhc3NlZCwgd2UgY3JlYXRlIHRoZSBpbnN0YW5jZSBhdCB0aGF0IGVsZW1lbnQsIGlmIG5vdCwgd2UganVzdCBjcmVhdGUgYW4gdXAgb2JqZWN0XG4gIHZhciBjcmVhdGVBcHAkMSA9IGZ1bmN0aW9uIGNyZWF0ZUFwcCgpIHtcbiAgICByZXR1cm4gaXNOb2RlKGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXSlcbiAgICAgID8gY3JlYXRlQXBwQXRFbGVtZW50LmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKVxuICAgICAgOiBjcmVhdGVBcHBPYmplY3QuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIHZhciBQUklWQVRFX01FVEhPRFMgPSBbJ2ZpcmUnLCAnX3JlYWQnLCAnX3dyaXRlJ107XG5cbiAgdmFyIGNyZWF0ZUFwcEFQSSA9IGZ1bmN0aW9uIGNyZWF0ZUFwcEFQSShhcHApIHtcbiAgICB2YXIgYXBpID0ge307XG5cbiAgICBjb3B5T2JqZWN0UHJvcGVydGllc1RvT2JqZWN0KGFwcCwgYXBpLCBQUklWQVRFX01FVEhPRFMpO1xuXG4gICAgcmV0dXJuIGFwaTtcbiAgfTtcblxuICAvKipcbiAgICogUmVwbGFjZXMgcGxhY2Vob2xkZXJzIGluIGdpdmVuIHN0cmluZyB3aXRoIHJlcGxhY2VtZW50c1xuICAgKiBAcGFyYW0gc3RyaW5nIC0gXCJGb28ge2Jhcn1cIlwiXG4gICAqIEBwYXJhbSByZXBsYWNlbWVudHMgLSB7IFwiYmFyXCI6IDEwIH1cbiAgICovXG4gIHZhciByZXBsYWNlSW5TdHJpbmcgPSBmdW5jdGlvbiByZXBsYWNlSW5TdHJpbmcoc3RyaW5nLCByZXBsYWNlbWVudHMpIHtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyg/OnsoW2EtekEtWl0rKX0pL2csIGZ1bmN0aW9uKG1hdGNoLCBncm91cCkge1xuICAgICAgcmV0dXJuIHJlcGxhY2VtZW50c1tncm91cF07XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVdvcmtlciA9IGZ1bmN0aW9uIGNyZWF0ZVdvcmtlcihmbikge1xuICAgIHZhciB3b3JrZXJCbG9iID0gbmV3IEJsb2IoWycoJywgZm4udG9TdHJpbmcoKSwgJykoKSddLCB7XG4gICAgICB0eXBlOiAnYXBwbGljYXRpb24vamF2YXNjcmlwdCdcbiAgICB9KTtcblxuICAgIHZhciB3b3JrZXJVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHdvcmtlckJsb2IpO1xuICAgIHZhciB3b3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlclVSTCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdHJhbnNmZXI6IGZ1bmN0aW9uIHRyYW5zZmVyKG1lc3NhZ2UsIGNiKSB7fSxcbiAgICAgIHBvc3Q6IGZ1bmN0aW9uIHBvc3QobWVzc2FnZSwgY2IsIHRyYW5zZmVyTGlzdCkge1xuICAgICAgICB2YXIgaWQgPSBnZXRVbmlxdWVJZCgpO1xuXG4gICAgICAgIHdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgaWYgKGUuZGF0YS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgIGNiKGUuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgdHJhbnNmZXJMaXN0XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgdGVybWluYXRlOiBmdW5jdGlvbiB0ZXJtaW5hdGUoKSB7XG4gICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh3b3JrZXJVUkwpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGxvYWRJbWFnZSA9IGZ1bmN0aW9uIGxvYWRJbWFnZSh1cmwpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUoaW1nKTtcbiAgICAgIH07XG4gICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfTtcbiAgICAgIGltZy5zcmMgPSB1cmw7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHJlbmFtZUZpbGUgPSBmdW5jdGlvbiByZW5hbWVGaWxlKGZpbGUsIG5hbWUpIHtcbiAgICB2YXIgcmVuYW1lZEZpbGUgPSBmaWxlLnNsaWNlKDAsIGZpbGUuc2l6ZSwgZmlsZS50eXBlKTtcbiAgICByZW5hbWVkRmlsZS5sYXN0TW9kaWZpZWREYXRlID0gZmlsZS5sYXN0TW9kaWZpZWREYXRlO1xuICAgIHJlbmFtZWRGaWxlLm5hbWUgPSBuYW1lO1xuICAgIHJldHVybiByZW5hbWVkRmlsZTtcbiAgfTtcblxuICB2YXIgY29weUZpbGUgPSBmdW5jdGlvbiBjb3B5RmlsZShmaWxlKSB7XG4gICAgcmV0dXJuIHJlbmFtZUZpbGUoZmlsZSwgZmlsZS5uYW1lKTtcbiAgfTtcblxuICAvLyBhbHJlYWR5IHJlZ2lzdGVyZWQgcGx1Z2lucyAoY2FuJ3QgcmVnaXN0ZXIgdHdpY2UpXG4gIHZhciByZWdpc3RlcmVkUGx1Z2lucyA9IFtdO1xuXG4gIC8vIHBhc3MgdXRpbHMgdG8gcGx1Z2luXG4gIHZhciBjcmVhdGVBcHBQbHVnaW4gPSBmdW5jdGlvbiBjcmVhdGVBcHBQbHVnaW4ocGx1Z2luKSB7XG4gICAgLy8gYWxyZWFkeSByZWdpc3RlcmVkXG4gICAgaWYgKHJlZ2lzdGVyZWRQbHVnaW5zLmluY2x1ZGVzKHBsdWdpbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyByZW1lbWJlciB0aGlzIHBsdWdpblxuICAgIHJlZ2lzdGVyZWRQbHVnaW5zLnB1c2gocGx1Z2luKTtcblxuICAgIC8vIHNldHVwIVxuICAgIHZhciBwbHVnaW5PdXRsaW5lID0gcGx1Z2luKHtcbiAgICAgIGFkZEZpbHRlcjogYWRkRmlsdGVyLFxuICAgICAgdXRpbHM6IHtcbiAgICAgICAgVHlwZTogVHlwZSxcbiAgICAgICAgZm9yaW46IGZvcmluLFxuICAgICAgICBpc1N0cmluZzogaXNTdHJpbmcsXG4gICAgICAgIGlzRmlsZTogaXNGaWxlLFxuICAgICAgICB0b05hdHVyYWxGaWxlU2l6ZTogdG9OYXR1cmFsRmlsZVNpemUsXG4gICAgICAgIHJlcGxhY2VJblN0cmluZzogcmVwbGFjZUluU3RyaW5nLFxuICAgICAgICBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWU6IGdldEV4dGVuc2lvbkZyb21GaWxlbmFtZSxcbiAgICAgICAgZ2V0RmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uOiBnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb24sXG4gICAgICAgIGd1ZXNzdGltYXRlTWltZVR5cGU6IGd1ZXNzdGltYXRlTWltZVR5cGUsXG4gICAgICAgIGdldEZpbGVGcm9tQmxvYjogZ2V0RmlsZUZyb21CbG9iLFxuICAgICAgICBnZXRGaWxlbmFtZUZyb21VUkw6IGdldEZpbGVuYW1lRnJvbVVSTCxcbiAgICAgICAgY3JlYXRlUm91dGU6IGNyZWF0ZVJvdXRlLFxuICAgICAgICBjcmVhdGVXb3JrZXI6IGNyZWF0ZVdvcmtlcixcbiAgICAgICAgY3JlYXRlVmlldzogY3JlYXRlVmlldyxcbiAgICAgICAgY3JlYXRlSXRlbUFQSTogY3JlYXRlSXRlbUFQSSxcbiAgICAgICAgbG9hZEltYWdlOiBsb2FkSW1hZ2UsXG4gICAgICAgIGNvcHlGaWxlOiBjb3B5RmlsZSxcbiAgICAgICAgcmVuYW1lRmlsZTogcmVuYW1lRmlsZSxcbiAgICAgICAgY3JlYXRlQmxvYjogY3JlYXRlQmxvYixcbiAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbjogYXBwbHlGaWx0ZXJDaGFpbixcbiAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZzogZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZ1xuICAgICAgfSxcblxuICAgICAgdmlld3M6IHtcbiAgICAgICAgZmlsZUFjdGlvbkJ1dHRvbjogZmlsZUFjdGlvbkJ1dHRvblxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gYWRkIHBsdWdpbiBvcHRpb25zIHRvIGRlZmF1bHQgb3B0aW9uc1xuICAgIGV4dGVuZERlZmF1bHRPcHRpb25zKHBsdWdpbk91dGxpbmUub3B0aW9ucyk7XG4gIH07XG5cbiAgLy8gZmVhdHVyZSBkZXRlY3Rpb24gdXNlZCBieSBzdXBwb3J0ZWQoKSBtZXRob2RcbiAgdmFyIGlzT3BlcmFNaW5pID0gZnVuY3Rpb24gaXNPcGVyYU1pbmkoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cub3BlcmFtaW5pKSA9PT0gJ1tvYmplY3QgT3BlcmFNaW5pXSdcbiAgICApO1xuICB9O1xuICB2YXIgaGFzUHJvbWlzZXMgPSBmdW5jdGlvbiBoYXNQcm9taXNlcygpIHtcbiAgICByZXR1cm4gJ1Byb21pc2UnIGluIHdpbmRvdztcbiAgfTtcbiAgdmFyIGhhc0Jsb2JTbGljZSA9IGZ1bmN0aW9uIGhhc0Jsb2JTbGljZSgpIHtcbiAgICByZXR1cm4gJ3NsaWNlJyBpbiBCbG9iLnByb3RvdHlwZTtcbiAgfTtcbiAgdmFyIGhhc0NyZWF0ZU9iamVjdFVSTCA9IGZ1bmN0aW9uIGhhc0NyZWF0ZU9iamVjdFVSTCgpIHtcbiAgICByZXR1cm4gJ1VSTCcgaW4gd2luZG93ICYmICdjcmVhdGVPYmplY3RVUkwnIGluIHdpbmRvdy5VUkw7XG4gIH07XG4gIHZhciBoYXNWaXNpYmlsaXR5ID0gZnVuY3Rpb24gaGFzVmlzaWJpbGl0eSgpIHtcbiAgICByZXR1cm4gJ3Zpc2liaWxpdHlTdGF0ZScgaW4gZG9jdW1lbnQ7XG4gIH07XG4gIHZhciBoYXNUaW1pbmcgPSBmdW5jdGlvbiBoYXNUaW1pbmcoKSB7XG4gICAgcmV0dXJuICdwZXJmb3JtYW5jZScgaW4gd2luZG93O1xuICB9OyAvLyBpT1MgOC54XG4gIHZhciBoYXNDU1NTdXBwb3J0cyA9IGZ1bmN0aW9uIGhhc0NTU1N1cHBvcnRzKCkge1xuICAgIHJldHVybiAnc3VwcG9ydHMnIGluICh3aW5kb3cuQ1NTIHx8IHt9KTtcbiAgfTsgLy8gdXNlIHRvIGRldGVjdCBTYWZhcmkgOStcbiAgdmFyIGlzSUUxMSA9IGZ1bmN0aW9uIGlzSUUxMSgpIHtcbiAgICByZXR1cm4gL01TSUV8VHJpZGVudC8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIH07XG5cbiAgdmFyIHN1cHBvcnRlZCA9IChmdW5jdGlvbigpIHtcbiAgICAvLyBSdW5zIGltbWlkaWF0ZWx5IGFuZCB0aGVuIHJlbWVtYmVycyByZXN1bHQgZm9yIHN1YnNlcXVlbnQgY2FsbHNcbiAgICB2YXIgaXNTdXBwb3J0ZWQgPVxuICAgICAgLy8gSGFzIHRvIGJlIGEgYnJvd3NlclxuICAgICAgaXNCcm93c2VyKCkgJiZcbiAgICAgIC8vIENhbid0IHJ1biBvbiBPcGVyYSBNaW5pIGR1ZSB0byBsYWNrIG9mIGV2ZXJ5dGhpbmdcbiAgICAgICFpc09wZXJhTWluaSgpICYmXG4gICAgICAvLyBSZXF1aXJlIHRoZXNlIEFQSXMgdG8gZmVhdHVyZSBkZXRlY3QgYSBtb2Rlcm4gYnJvd3NlclxuICAgICAgaGFzVmlzaWJpbGl0eSgpICYmXG4gICAgICBoYXNQcm9taXNlcygpICYmXG4gICAgICBoYXNCbG9iU2xpY2UoKSAmJlxuICAgICAgaGFzQ3JlYXRlT2JqZWN0VVJMKCkgJiZcbiAgICAgIGhhc1RpbWluZygpICYmXG4gICAgICAvLyBkb2Vzbid0IG5lZWQgQ1NTU3VwcG9ydHMgYnV0IGlzIGEgZ29vZCB3YXkgdG8gZGV0ZWN0IFNhZmFyaSA5KyAod2UgZG8gd2FudCB0byBzdXBwb3J0IElFMTEgdGhvdWdoKVxuICAgICAgKGhhc0NTU1N1cHBvcnRzKCkgfHwgaXNJRTExKCkpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGlzU3VwcG9ydGVkO1xuICAgIH07XG4gIH0pKCk7XG5cbiAgLyoqXG4gICAqIFBsdWdpbiBpbnRlcm5hbCBzdGF0ZSAob3ZlciBhbGwgaW5zdGFuY2VzKVxuICAgKi9cbiAgdmFyIHN0YXRlID0ge1xuICAgIC8vIGFjdGl2ZSBhcHAgaW5zdGFuY2VzLCB1c2VkIHRvIHJlZHJhdyB0aGUgYXBwcyBhbmQgdG8gZmluZCB0aGUgbGF0ZXJcbiAgICBhcHBzOiBbXVxuICB9O1xuXG4gIC8vIHBsdWdpbiBuYW1lXG4gIHZhciBuYW1lID0gJ2ZpbGVwb25kJztcblxuICAvKipcbiAgICogUHVibGljIFBsdWdpbiBtZXRob2RzXG4gICAqL1xuICB2YXIgZm4gPSBmdW5jdGlvbiBmbigpIHt9O1xuICBleHBvcnRzLlN0YXR1cyA9IHt9O1xuICBleHBvcnRzLkZpbGVTdGF0dXMgPSB7fTtcbiAgZXhwb3J0cy5GaWxlT3JpZ2luID0ge307XG4gIGV4cG9ydHMuT3B0aW9uVHlwZXMgPSB7fTtcbiAgZXhwb3J0cy5jcmVhdGUgPSBmbjtcbiAgZXhwb3J0cy5kZXN0cm95ID0gZm47XG4gIGV4cG9ydHMucGFyc2UgPSBmbjtcbiAgZXhwb3J0cy5maW5kID0gZm47XG4gIGV4cG9ydHMucmVnaXN0ZXJQbHVnaW4gPSBmbjtcbiAgZXhwb3J0cy5nZXRPcHRpb25zID0gZm47XG4gIGV4cG9ydHMuc2V0T3B0aW9ucyA9IGZuO1xuXG4gIC8vIGlmIG5vdCBzdXBwb3J0ZWQsIG5vIEFQSVxuICBpZiAoc3VwcG9ydGVkKCkpIHtcbiAgICAvLyBzdGFydCBwYWludGVyIGFuZCBmaXJlIGxvYWQgZXZlbnRcbiAgICBjcmVhdGVQYWludGVyKFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIHN0YXRlLmFwcHMuZm9yRWFjaChmdW5jdGlvbihhcHApIHtcbiAgICAgICAgICByZXR1cm4gYXBwLl9yZWFkKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKHRzKSB7XG4gICAgICAgIHN0YXRlLmFwcHMuZm9yRWFjaChmdW5jdGlvbihhcHApIHtcbiAgICAgICAgICByZXR1cm4gYXBwLl93cml0ZSh0cyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBmaXJlIGxvYWRlZCBldmVudCBzbyB3ZSBrbm93IHdoZW4gRmlsZVBvbmQgaXMgYXZhaWxhYmxlXG4gICAgdmFyIGRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICAvLyBsZXQgb3RoZXJzIGtub3cgd2UgaGF2ZSBhcmVhIHJlYWR5XG4gICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoJ0ZpbGVQb25kOmxvYWRlZCcsIHtcbiAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgIHN1cHBvcnRlZDogc3VwcG9ydGVkLFxuICAgICAgICAgICAgY3JlYXRlOiBleHBvcnRzLmNyZWF0ZSxcbiAgICAgICAgICAgIGRlc3Ryb3k6IGV4cG9ydHMuZGVzdHJveSxcbiAgICAgICAgICAgIHBhcnNlOiBleHBvcnRzLnBhcnNlLFxuICAgICAgICAgICAgZmluZDogZXhwb3J0cy5maW5kLFxuICAgICAgICAgICAgcmVnaXN0ZXJQbHVnaW46IGV4cG9ydHMucmVnaXN0ZXJQbHVnaW4sXG4gICAgICAgICAgICBzZXRPcHRpb25zOiBleHBvcnRzLnNldE9wdGlvbnNcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICAvLyBjbGVhbiB1cCBldmVudFxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGRpc3BhdGNoKTtcbiAgICB9O1xuXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkaW5nJykge1xuICAgICAgLy8gbW92ZSB0byBiYWNrIG9mIGV4ZWN1dGlvbiBxdWV1ZSwgRmlsZVBvbmQgc2hvdWxkIGhhdmUgYmVlbiBleHBvcnRlZCBieSB0aGVuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2goKTtcbiAgICAgIH0sIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZGlzcGF0Y2gpO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZXMgdGhlIE9wdGlvblR5cGVzIG9iamVjdCBiYXNlZCBvbiB0aGUgY3VycmVudCBvcHRpb25zXG4gICAgdmFyIHVwZGF0ZU9wdGlvblR5cGVzID0gZnVuY3Rpb24gdXBkYXRlT3B0aW9uVHlwZXMoKSB7XG4gICAgICByZXR1cm4gZm9yaW4oZ2V0T3B0aW9ucygpLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgIGV4cG9ydHMuT3B0aW9uVHlwZXNba2V5XSA9IHZhbHVlWzFdO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGV4cG9ydHMuU3RhdHVzID0gT2JqZWN0LmFzc2lnbih7fSwgU3RhdHVzKTtcbiAgICBleHBvcnRzLkZpbGVPcmlnaW4gPSBPYmplY3QuYXNzaWduKHt9LCBGaWxlT3JpZ2luKTtcbiAgICBleHBvcnRzLkZpbGVTdGF0dXMgPSBPYmplY3QuYXNzaWduKHt9LCBJdGVtU3RhdHVzKTtcblxuICAgIGV4cG9ydHMuT3B0aW9uVHlwZXMgPSB7fTtcbiAgICB1cGRhdGVPcHRpb25UeXBlcygpO1xuXG4gICAgLy8gY3JlYXRlIG1ldGhvZCwgY3JlYXRlcyBhcHBzIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGFwcCBhcnJheVxuICAgIGV4cG9ydHMuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgdmFyIGFwcCA9IGNyZWF0ZUFwcCQxLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICAgIGFwcC5vbignZGVzdHJveScsIGV4cG9ydHMuZGVzdHJveSk7XG4gICAgICBzdGF0ZS5hcHBzLnB1c2goYXBwKTtcbiAgICAgIHJldHVybiBjcmVhdGVBcHBBUEkoYXBwKTtcbiAgICB9O1xuXG4gICAgLy8gZGVzdHJveXMgYXBwcyBhbmQgcmVtb3ZlcyB0aGVtIGZyb20gdGhlIGFwcCBhcnJheVxuICAgIGV4cG9ydHMuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koaG9vaykge1xuICAgICAgLy8gcmV0dXJucyB0cnVlIGlmIHRoZSBhcHAgd2FzIGRlc3Ryb3llZCBzdWNjZXNzZnVsbHlcbiAgICAgIHZhciBpbmRleFRvUmVtb3ZlID0gc3RhdGUuYXBwcy5maW5kSW5kZXgoZnVuY3Rpb24oYXBwKSB7XG4gICAgICAgIHJldHVybiBhcHAuaXNBdHRhY2hlZFRvKGhvb2spO1xuICAgICAgfSk7XG4gICAgICBpZiAoaW5kZXhUb1JlbW92ZSA+PSAwKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGFwcHNcbiAgICAgICAgdmFyIGFwcCA9IHN0YXRlLmFwcHMuc3BsaWNlKGluZGV4VG9SZW1vdmUsIDEpWzBdO1xuXG4gICAgICAgIC8vIHJlc3RvcmUgb3JpZ2luYWwgZG9tIGVsZW1lbnRcbiAgICAgICAgYXBwLnJlc3RvcmVFbGVtZW50KCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gcGFyc2VzIHRoZSBnaXZlbiBjb250ZXh0IGZvciBwbHVnaW5zIChkb2VzIG5vdCBpbmNsdWRlIHRoZSBjb250ZXh0IGVsZW1lbnQgaXRzZWxmKVxuICAgIGV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbiBwYXJzZShjb250ZXh0KSB7XG4gICAgICAvLyBnZXQgYWxsIHBvc3NpYmxlIGhvb2tzXG4gICAgICB2YXIgbWF0Y2hlZEhvb2tzID0gQXJyYXkuZnJvbShjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgbmFtZSkpO1xuXG4gICAgICAvLyBmaWx0ZXIgb3V0IGFscmVhZHkgYWN0aXZlIGhvb2tzXG4gICAgICB2YXIgbmV3SG9va3MgPSBtYXRjaGVkSG9va3MuZmlsdGVyKGZ1bmN0aW9uKG5ld0hvb2spIHtcbiAgICAgICAgcmV0dXJuICFzdGF0ZS5hcHBzLmZpbmQoZnVuY3Rpb24oYXBwKSB7XG4gICAgICAgICAgcmV0dXJuIGFwcC5pc0F0dGFjaGVkVG8obmV3SG9vayk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGNyZWF0ZSBuZXcgaW5zdGFuY2UgZm9yIGVhY2ggaG9va1xuICAgICAgcmV0dXJuIG5ld0hvb2tzLm1hcChmdW5jdGlvbihob29rKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLmNyZWF0ZShob29rKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyByZXR1cm5zIGFuIGFwcCBiYXNlZCBvbiB0aGUgZ2l2ZW4gZWxlbWVudCBob29rXG4gICAgZXhwb3J0cy5maW5kID0gZnVuY3Rpb24gZmluZChob29rKSB7XG4gICAgICB2YXIgYXBwID0gc3RhdGUuYXBwcy5maW5kKGZ1bmN0aW9uKGFwcCkge1xuICAgICAgICByZXR1cm4gYXBwLmlzQXR0YWNoZWRUbyhob29rKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFhcHApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlQXBwQVBJKGFwcCk7XG4gICAgfTtcblxuICAgIC8vIGFkZHMgYSBwbHVnaW4gZXh0ZW5zaW9uXG4gICAgZXhwb3J0cy5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luKCkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwbHVnaW5zID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDtcbiAgICAgICAgX2tleSA8IF9sZW47XG4gICAgICAgIF9rZXkrK1xuICAgICAgKSB7XG4gICAgICAgIHBsdWdpbnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIC8vIHJlZ2lzdGVyIHBsdWdpbnNcbiAgICAgIHBsdWdpbnMuZm9yRWFjaChjcmVhdGVBcHBQbHVnaW4pO1xuXG4gICAgICAvLyB1cGRhdGUgT3B0aW9uVHlwZXMsIGVhY2ggcGx1Z2luIG1pZ2h0IGhhdmUgZXh0ZW5kZWQgdGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgdXBkYXRlT3B0aW9uVHlwZXMoKTtcbiAgICB9O1xuXG4gICAgZXhwb3J0cy5nZXRPcHRpb25zID0gZnVuY3Rpb24gZ2V0T3B0aW9ucyQxKCkge1xuICAgICAgdmFyIG9wdHMgPSB7fTtcbiAgICAgIGZvcmluKGdldE9wdGlvbnMoKSwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICBvcHRzW2tleV0gPSB2YWx1ZVswXTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG9wdHM7XG4gICAgfTtcblxuICAgIGV4cG9ydHMuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIHNldE9wdGlvbnMkMShvcHRzKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob3B0cykpIHtcbiAgICAgICAgLy8gdXBkYXRlIGV4aXN0aW5nIHBsdWdpbnNcbiAgICAgICAgc3RhdGUuYXBwcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcCkge1xuICAgICAgICAgIGFwcC5zZXRPcHRpb25zKG9wdHMpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBvdmVycmlkZSBkZWZhdWx0c1xuICAgICAgICBzZXRPcHRpb25zKG9wdHMpO1xuICAgICAgfVxuXG4gICAgICAvLyByZXR1cm4gbmV3IG9wdGlvbnNcbiAgICAgIHJldHVybiBleHBvcnRzLmdldE9wdGlvbnMoKTtcbiAgICB9O1xuICB9XG5cbiAgZXhwb3J0cy5zdXBwb3J0ZWQgPSBzdXBwb3J0ZWQ7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==