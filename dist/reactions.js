<<<<<<< HEAD
window.OpenStadComponents=function(r){var n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=r,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=93)}([function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(3),c=r.n(n),o=r(2),i=r.n(o);r(70);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=u(i);return t=a?(e=u(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?d(r):n}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,i.a.Component);var e,t,r,a=p(u);function u(r){var e,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var o=d(e=a.call(this,r));if(r.attributes&&Object.keys(r.attributes).forEach(function(e){var t=r.attributes[e];o[t.name]=t.value}),"string"==typeof o.config)try{o.config=JSON.parse(o.config)}catch(e){}var i=function t(r){if("object"!=s(r))return r;Object.keys(r).forEach(function(e){void 0!==r[e]&&null!=r[e]||delete r[e],"object"==s(r[e])&&(r[e]=t(r[e]))});return r}(i=r.config||{});return o.config=c.a.recursive({siteId:null,api:{url:null,headers:null,isUserLoggedIn:!1},user:{}},t,n,i),o.divId=o.divId||o.config&&o.config.divId||r.id||"openstad-component-".concat(parseInt(1e8*Math.random())),o.config.divId=null,window[o.divId]=o,e}return e=u,(t=[{key:"componentDidMount",value:function(){}}])&&l(e.prototype,t),r&&l(e,r),u}()},function(e,t,r){"use strict";r(11),r(2),r(6),r(89);var n=r(3),o=r.n(n);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){var t,r,n=window.location.search.match(/(?:\?|&)jwt=([A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*)(?:&|$)/);return n&&(t=n[1],c.set("osc-jwt",t),"?"==(r=document.location.search.replace("jwt="+t,""))&&(r=""),document.location.search=r),t=c.get("osc-jwt"),e&&e.jwt&&(t=e.jwt,c.set("osc-jwt",t)),t}var u={get:function(e){var t=sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==i(t))try{t=JSON.stringify(t)}catch(e){}sessionStorage.setItem(e,t)}},remove:function(e){sessionStorage.removeItem(e)}},c=u,s={admin:["admin","moderator","editor","member","anonymous","all"],moderator:["moderator","editor","member","anonymous","all"],editor:["editor","member","anonymous","all"],member:["member","anonymous","all"],anonymous:["anonymous","all"],all:["all"],owner:null};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f={get:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==l(t))try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)}},remove:function(e){localStorage.removeItem(e)}},p={api:{getHeaders:function(e){var t=o.a.recursive({"Content-type":"application/json"},e&&e.api&&e.api.headers),r=a();return r&&(t=o.a.recursive({"X-Authorization":"Bearer "+r},t)),t}},user:{getUser:function(e,t){t=t||function(e){console.log("getUser: next not defined."),console.log(e)};var r=e.user||c.get("osc-user");if(r)return t(null,r);var n=a(e);if(!n)return t(null,{});var o="".concat(e.api.url,"/oauth/site/").concat(e.siteId,"/me"),i={"X-Authorization":"Bearer ".concat(n),"Content-Type":"application/json"};fetch(o,{headers:i}).then(function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()}).then(function(e){c.set("osc-user",e),t(null,e)}).catch(function(e){t(e)})},getJWT:a,logout:function(e,t){t=t||function(e){console.log("logout: next not defined.")};var r=e.user||c.get("osc-user");if(r)return t(null,r);var n=a(e);if(!n)return t(null,{});var o=e.api.url+"/oauth/site/"+e.siteId+"/me";fetch(o,{headers:{"X-Authorization":"Bearer "+n,"Content-Type":"application/json"}}).then(function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()}).then(function(e){c.set("osc-user",e),t(null,e)}).catch(function(e){t(e)})},hasRole:function(e,t){var r=e.role;return Object.keys(s).includes(r)||(r="all"),s[r].includes(t)}},ideasSort:function(e){var t=e.ideas,r=e.sortOrder,n=e.center;switch(r=r||"random"){case"title":t=t.sort(function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:t.title.toLowerCase()<e.title.toLowerCase()?1:0});break;case"ranking,asc":t=t.sort(function(e,t){return e.ranking-t.ranking});break;case"likes,asc":t=t.sort(function(e,t){return e.yes-t.yes});break;case"likes,desc":t=t.sort(function(e,t){return t.yes-e.yes});break;case"createdtime,desc":t=t.sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()});break;case"createdtime,asc":t=t.sort(function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()});break;case"distance":(n=n||{lat:52.37104644463586,lng:900402911007405}).coordinates&&(n.lat=n.coordinates[0],n.lng=n.coordinates[1]),t=t.map(function(e){return e._distance=Math.sqrt(Math.pow(e.location.coordinates[0]-n.lat,2)+Math.pow(e.location.coordinates[1]-n.lng,2)),e}).sort(function(e,t){return e._distance-t._distance});break;case"args,desc":t=t.sort(function(e,t){return t.argCount-e.argCount});break;case"args,asc":t=t.sort(function(e,t){return e.argCount-t.argCount});break;case"random":default:t=t.sort(function(e,t){return Math.random()-.5})}return t},localStorage:f,sessionStorage:c,reactTemplate:function(e){var t=e.html,r=void 0===t?"":t,n=e;delete n.html;var o=0;return Object.keys(n).forEach(function(e){var t=new RegExp("^((?:.|\n|\r)*)\\{".concat(e,"\\}((?:.|\n|\r)*)$"),"g").exec(r);t&&(o++,r=React.createElement("span",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:t[1]}}),n[e],React.createElement("span",{dangerouslySetInnerHTML:{__html:t[2]}})))}),0==o&&(r=React.createElement("span",{dangerouslySetInnerHTML:{__html:r}})),r}};t.a=p},function(e,t){e.exports=window.React},function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.apply(void 0,e)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(!0===e[0],!1,e)}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(!0===e[0],!0,e)}function c(e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;++r)t.push(c(e[r]));return t}if(s(e)){t={};for(var r in e)t[r]=c(e[r]);return t}return e}function s(e){return e&&"object"==typeof e&&!Array.isArray(e)}function a(e,t,r){var n;!e&&s(n=r.shift())||(n={});for(var o=0;o<r.length;++o){var i,a=r[o];if(s(a))for(var u in a){"__proto__"!==u&&"constructor"!==u&&"prototype"!==u&&(i=e?c(a[u]):a[u],n[u]=t?function e(t,r){if(!s(t))return r;for(var n in r)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(t[n]=s(t[n])&&s(r[n])?e(t[n],r[n]):r[n]);return t}(n[u],i):i)}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=t.clone=t.recursive=t.merge=t.main=void 0,e.exports=t=n,t.default=n,(t.main=n).clone=c,n.isPlainObject=s,n.recursive=i,t.merge=o,t.recursive=i,t.clone=c,t.isPlainObject=s},function(r,e,t){(function(e){function t(e){return e&&e.Math==Math&&e}r.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")()}).call(this,t(21))},function(e,t,r){"use strict";r(11),r(2),r(6),r(95);var a=r(0);r(1);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=f(i);return t=a?(e=f(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==u(n)&&"function"!=typeof n?l(r):n}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,a["a"]);var e,t,r,n=s(o);function o(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),l(t=n.call(this,e,{choices:[],name:"",placeholder:"",disabled:!1,required:!1},r)).state={value:null!=u(e.value)?e.value:"",error:null},t.onChange=e.onChange,t}return e=o,(t=[{key:"validate",value:function(e){var t=e.showErrors,r=!this.config.required||!!this.state.value,n=!r&&t?!0:"";return this.setState({isValid:r,error:n}),r}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},t.setState(e,function(){t.validate({})}),"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})}}])&&i(e.prototype,t),r&&i(e,r),o}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=m(i);return t=a?(e=m(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==d(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(o,p);var e,t,r,n=y(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var t=this;return React.createElement("input",{type:"hidden",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}})}}])&&v(e.prototype,t),r&&v(e,r),o}(),n=r(72),o=(r(97),r(74)),E=r.n(o),b=r(75),_=r.n(b),T=r(76),O=r.n(T),w=r(77),I=r.n(w);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=A(i);return t=a?(e=A(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==R(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object(n.registerPlugin)(E.a,_.a,O.a,I.a);var C=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(i,p);var e,t,r,o=D(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e,{name:"image",allowMultiple:!1,image:{server:{process:"/image",fetch:"/image"}}});var r=[],n=e.value||[];return Array.isArray(n)||(n=[n]),n.forEach(function(e){var t="object"==R(e)?e.src:e;r.push({source:{url:t},options:{type:"local",file:{name:t},metadata:{poster:t}}})}),t.state={uploadedFiles:r},t}return e=i,(t=[{key:"validate",value:function(){var t=!0;return this.imageuploader&&this.imageuploader.getFiles&&this.imageuploader.getFiles().forEach(function(e){e.serverId||(t=!1)}),t}},{key:"init",value:function(){}},{key:"updateUploadedFiles",value:function(e){e.addFile;var t,r=e.removeFile,n=e.next;this.imageuploader&&this.imageuploader.getFiles&&(t=this.imageuploader.getFiles(),r&&(t=t.filter(function(e){return e.serverId!=r.serverId})),this.setState({uploadedFiles:t.map(function(e){return e.file})},function(){n&&n(t)}))}},{key:"updateValue",value:function(e){var r=[],n=this.config.as&&"json"==this.config.as;e.forEach(function(e){try{var t="string"==typeof e.serverId?JSON.parse(e.serverId):e.serverId;r.push(n?{src:t.url}:t.url)}catch(e){console.log(e)}}),this.handleOnChange({name:this.config.name,value:r})}},{key:"render",value:function(){var t=this,r=this;return React.createElement(n.FilePond,{ref:function(e){return t.imageuploader=e},files:this.state.uploadedFiles,oninit:r.init,onprocessfile:function(e,t){return r.updateUploadedFiles({addFile:t,next:function(e){return r.updateValue(e)}})},onremovefile:function(e,t){return r.updateUploadedFiles({removeFile:t,next:function(e){return r.updateValue(e)}})},name:"image",server:this.config.image.server.process,allowMultiple:this.config.allowMultiple,acceptedFileTypes:["image/*"],allowFileSizeValidation:"true",allowReorder:!0,styleItemPanelAspectRatio:"1",maxFileSize:"8mb",maxFiles:"5",allowBrowse:"true",imageResizeTargetWidth:"80",imageResizeTargetHeight:"80",imageCropAspectRatio:"16:9",labelIdle:"Sleep afbeelding(en) naar deze plek of <span class='filepond--label-action'>KLIK HIER</span>",labelInvalidField:"Field contains invalid files",labelFileWaitingForSize:"Wachtend op grootte",labelFileSizeNotAvailable:"Grootte niet beschikbaar",labelFileCountSingular:"Bestand in lijst",labelFileCountPlural:"Bestanden in lijst",labelFileLoading:"Laden",labelFileAdded:"Toegevoegd",labelFileLoadError:"Fout bij het uploaden",labelFileRemoved:"Verwijderd",labelFileRemoveError:"Fout bij het verwijderen",labelFileProcessing:"Laden",labelFileProcessingComplete:"Afbeelding geladen",labelFileProcessingAborted:"Upload cancelled",labelFileProcessingError:"Error during upload",labelFileProcessingRevertError:"Error during revert",labelTapToCancel:"tap to cancel",labelTapToRetry:"tap to retry",labelTapToUndo:"tap to undo",labelButtonRemoveItem:"Verwijderen",labelButtonAbortItemLoad:"Abort",labelButtonRetryItemLoad:"Retry",labelButtonAbortItemProcessing:"Verwijder",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Retry",labelButtonProcessItem:"Upload"})}}])&&S(e.prototype,t),r&&S(e,r),i}();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=k(i);return t=a?(e=k(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==L(n)&&"function"!=typeof n?j(r):n}}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(o,a["a"]);var e,t,r,n=x(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e)).state={value:t.props.value},t.onKeyUpx=t.onKeyUpx.bind(j(t)),t}return e=o,(t=[{key:"componentDidMount",value:function(){var e=this.props.value,e=this.filterHTML(e);this.input.innerHTML=e}},{key:"filterHTML",value:function(e){return e=(e=(e=e.replace(/<(\/?\s*(?:a [^>]+|a|b|i|strong|em|p|div|br|ul|li)\s*\/?)>/g,"[[[$1]]]")).replace(/<[^>]+>/g,"")).replace(/\[\[\[([^\]]+)\]\]\]/g,"<$1>")}},{key:"executeAction",value:function(e,t,r){e.preventDefault(),e.stopPropagation(),document.execCommand(t,!1,r),this.onKeyUp()}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e),this.props.onChange&&this.props.onChange({value:this.state.value})}},{key:"onKeyUpx",value:function(){var e=this.input.innerHTML,e=this.filterHTML(e);this.setState({value:e}),this.props.onKeyUp&&this.props.onKeyUp(e)}},{key:"render",value:function(){var t=this;return React.createElement("div",{className:"osc-html-editor"},React.createElement("div",{className:"osc-html-editor-buttons"},React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-bold",onMouseDown:function(e){return t.executeAction(e,"bold")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-italic",onMouseDown:function(e){return t.executeAction(e,"italic")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-insertunorderedlist",onMouseDown:function(e){return t.executeAction(e,"insertunorderedlist")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-createlink",onMouseDown:function(e){return t.executeAction(e,"createlink",prompt("Lank naar","http://"))}}," ")),React.createElement("div",{className:"osc-html-editor-content",contentEditable:!0,onFocus:function(e){return t.onFocus(e)},onBlur:function(e){return t.onBlur(e)},onKeyUp:function(){return t.onKeyUpx()},ref:function(e){return t.input=e}}))}}])&&M(e.prototype,t),r&&M(e,r),o}();function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=z(i);return t=a?(e=z(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==F(n)&&"function"!=typeof n?q(r):n}}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(o,a["a"]);var e,t,r,n=B(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=q(t=n.call(this,e,{name:"tekst",inputType:"input",minLength:5,maxLength:1024,placeholder:""}));return r.id=e.id||"osc-formfields-plaintext-with-counter-"+parseInt(1e6*Math.random()),r.state={focused:!1,value:e.value||"",valueLength:e.value&&e.value.length||0},r.key=e.useKey||(r.id||"osc-input-with-counter-")+parseInt(1e7*Math.random),t.onChange=e.onChange,r.handleOnChange=r.handleOnChange.bind(q(t)),r.onInputFocus=r.onInputFocus.bind(q(t)),r.onInputBlur=r.onInputBlur.bind(q(t)),r.onInputKeyUp=r.onInputKeyUp.bind(q(t)),t}return e=o,(t=[{key:"isValid",value:function(){var e={isValid:!0,warning:null};return this.state.value.length<this.config.minLength&&(e.warning="De tekst is te kort",e.isValid=!1),this.state.value.length>this.config.maxLength&&(e.warning="De tekst is te lang",e.isValid=!1),this.setState(e),e.isValid}},{key:"validate",value:function(){return this.setState({showWarning:!0}),this.isValid()}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},this.setState(e,function(){"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})})}},{key:"onInputFocus",value:function(){var e={focused:!0,showWarning:!1};this.setState(e)}},{key:"onInputBlur",value:function(){var e={focused:!1};this.setState(e)}},{key:"onInputKeyUp",value:function(e){var t={};t.value=e||this.input.value,t.isValid=t.value.length>=this.config.minLength&&t.value.length<=this.config.maxLength,this.setState(t)}},{key:"render",value:function(){var e,t=this,r=this,n=null,o=null;r.state.focused&&(n=r.state.value.length<r.config.minLength?React.createElement("div",{className:"osc-form-counter osc-form-error"},"Nog minimaal ",React.createElement("span",{className:""},r.config.minLength-r.state.value.length)," tekens"):(e=r.state.value.length>r.config.maxLength?"osc-form-error":"",React.createElement("div",{className:"osc-form-counter "+e},"Je hebt nog ",React.createElement("span",{className:""},r.config.maxLength-r.state.value.length)," tekens over."))),r.state.showWarning&&r.state.warning&&(o=React.createElement("div",{className:"osc-form-warning",ref:function(e){return t["form-warning"]=e}},r.state.warning));var i=null;switch(r.config.inputType){case"htmlarea":i=React.createElement(G,{value:this.state.value,onChange:r.handleOnChange,onFocus:r.onInputFocus,onBlur:r.onInputBlur,onKeyUp:r.onInputKeyUp});break;case"textarea":i=React.createElement("textarea",{key:r.key,ref:function(e){return r.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return r.handleOnChange({value:r.input.value})},onKeyUp:function(){return r.onInputKeyUp()},onFocus:function(e){return r.onInputFocus(e)},onBlur:function(e){return r.onInputBlur(e)}});break;case"input":default:i=React.createElement("input",{key:r.key,ref:function(e){return r.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return r.handleOnChange({value:r.input.value})},onKeyUp:function(){return r.onInputKeyUp()},onFocus:function(e){return r.onInputFocus(e)},onBlur:function(e){return r.onInputBlur(e)}})}return React.createElement("div",{id:r.id,ref:function(e){return r.instance=e},className:"osc-input-with-counter"},React.createElement("div",{className:"osc-form-feedback"},i,n,o))}}])&&U(e.prototype,t),r&&U(e,r),o}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=K(i);return t=a?(e=K(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==H(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(o,p);var e,t,r,n=Z(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-radios"},t.config.choices.map(function(e){return e.dangerousDescription?React.createElement("div",{className:"osc-radio-container",key:e.value},React.createElement("div",{className:"osc-radio-input".concat(t.state.value==e.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:t.divId,value:e.value,onChange:function(){return t.handleOnChange({value:e.value})}})),React.createElement("div",{className:"osc-radio-text",dangerouslySetInnerHTML:{__html:e.dangerousDescription}})):React.createElement("div",{className:"osc-radio-container",key:e.value},React.createElement("div",{className:"osc-radio-input".concat(t.state.value==e.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:t.divId,value:e.value,onChange:function(){return t.handleOnChange({value:e.value})}})),React.createElement("div",{className:"osc-radio-text"},e.dangerousDescription?null:e.description||e.title||e.value))}),e)}}])&&W(e.prototype,t),r&&W(e,r),o}();function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=re(i);return t=a?(e=re(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==$(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(o,p);var e,t,r,n=te(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"validate",value:function(e){var t=e.showErrors,r=!0,n="";return this.state.value&&this.state.value.match(/^\s*\d{4}\s*[a-zA-Z][a-zA-Z]\s*$/)||(r=!1,t&&(n="Dit is geen postcode")),this.config.required&&!this.state.value&&(r=!1,t&&(n="Je hebt nog niets ingevuld")),this.setState({isValid:r,error:n}),r}},{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},t.state.error)),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}}),e)}}])&&J(e.prototype,t),r&&J(e,r),o}();function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=ce(i);return t=a?(e=ce(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==oe(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(o,p);var e,t,r,n=ue(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"componentDidMount",value:function(){var e=this.state.value||this.config.choices[0]&&this.config.choices[0].value;this.handleOnChange({value:e})}},{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-select"},React.createElement("select",{value:this.state.value||"",disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}},t.config.choices.map(function(e,t){var r=e.description||e.title||e.value;return React.createElement("option",{value:e.value||"",key:"".concat(r,"-").concat(e.value,"-").concat(t)},r)})),e)}}])&&ie(e.prototype,t),r&&ie(e,r),o}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=ve(i);return t=a?(e=ve(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==le(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(o,p);var e,t,r,n=de(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}}),e)}}])&&fe(e.prototype,t),r&&fe(e,r),o}();function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=be(i);return t=a?(e=be(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==ye(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(o,p);var e,t,r,n=Ee(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textarea"},React.createElement("textarea",{value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}},this.state.value),e)}}])&&me(e.prototype,t),r&&me(e,r),o}();function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function we(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(i),!0).forEach(function(e){var t,r,n;t=o,n=i[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):Oe(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function Ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=De(i);return t=a?(e=De(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==Te(n)&&"function"!=typeof n?Pe(r):n}}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ae=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(o,a["a"]);var e,t,r,n=Se(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=Pe(t=n.call(this,e,{inputType:null,validateAction:null,changeAction:null,required:!1,title:null,description:null,choices:[]}));return r.config.name=r.config.name||r.config.title.toLowerCase(),r.state={value:e.initValue||void 0},r.handleOnChange=r.handleOnChange.bind(r),r.onChange=e.onChange,t}return e=o,(t=[{key:"validate",value:function(e){var t=e.showErrors;return!this.input||this.input.validate({showErrors:t})}},{key:"handleOnChange",value:function(e){"function"==typeof this.onChange&&this.onChange(e)}},{key:"render",value:function(){var t=this,e=null;t.config.title&&(e=React.createElement("h3",{className:"osc-form-title"},t.config.title));var r=null;t.config.description&&(r=React.createElement("div",{className:"osc-form-description",dangerouslySetInnerHTML:{__html:t.config.description}}));var n=null;switch(t.config.inputType){case"hidden":n=React.createElement(g,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"html-with-counter":case"htmlarea-with-counter":n=React.createElement(Y,{config:we(we({},t.config),{},{inputType:"htmlarea"}),value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"image-upload":n=React.createElement(C,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"input-with-counter":case"text-with-counter":n=React.createElement(Y,{config:we({inputType:"input"},t.config),value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"postcode":n=React.createElement(ne,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"radios":n=React.createElement(Q,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"select":case"multiple-choice":n=React.createElement(se,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"text":n=React.createElement(he,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"textarea":n=React.createElement(_e,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"textarea-with-counter":n=React.createElement(Y,{config:we(we({},t.config),{},{inputType:"textarea"}),value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;default:console.log("Form field "+t.config.inputType+"not yet implemented")}return React.createElement("div",{id:t.id,ref:function(e){return t.instance=e},className:"osc-form-field"},e,r,n)}}])&&Ie(e.prototype,t),r&&Ie(e,r),o}();function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=Ge(i);return t=a?(e=Ge(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==Ce(n)&&"function"!=typeof n?ke(r):n}}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(i,a["a"]);var e,t,r,o=je(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=ke(t=o.call(this,e,{title:null,intro:null,fields:[]})),n=e.values;return!n&&r.config.fields&&r.config.fields.length&&(n={},r.config.fields.map(function(e,t){var r=e.name||e.title.toLowerCase();n[r]=e.value})),r.state={values:n||{}},r.handleOnChange=r.handleOnChange.bind(ke(t)),r.fields=[],t}return e=i,(t=[{key:"getValues",value:function(){return this.state.values}},{key:"validate",value:function(e){var t=e.showErrors,r=e.scrollTo,n=!0,o=null;return this.fields.forEach(function(e){e.validate({showErrors:t})||(n=!1,o=o||e)}),r&&o&&o.instance&&o.instance.scrollIntoView&&o.instance.scrollIntoView({behavior:"smooth"}),n}},{key:"handleOnChange",value:function(e){var t=this,r=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(r),!0).forEach(function(e){Me(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},this.state.values);r[e.name]=e.value,this.setState({values:r},function(){"function"==typeof t.props.onChange&&t.props.onChange(e)})}},{key:"render",value:function(){var r=this,e=null;r.config.title&&(e=React.createElement("h2",{className:"osc-form-title"},r.config.title));var t=null;r.config.intro&&(t=React.createElement("div",{className:"osc-form-intro",dangerouslySetInnerHTML:{__html:r.config.intro}}));var n=null;return r.config.fields&&r.config.fields.length&&(n=React.createElement("div",{className:"osc-form-fields"},r.config.fields.map(function(e,t){return React.createElement(Ae,Me({config:e,initValue:e.value,onChange:r.handleOnChange,ref:function(e){return r.input=e},key:"osc-form-field-".concat(t)},"ref",function(e){r.fields[t]=e}))}))),React.createElement("div",{id:r.divId,className:"osc-form",ref:function(e){return r.instance=e}},e,t,n)}}])&&Ne(e.prototype,t),r&&Ne(e,r),i}();function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=Ye(i);return t=a?(e=Ye(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==Ue(n)&&"function"!=typeof n?ze(r):n}}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(o,a["a"]);var e,t,r,n=qe(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e)).state={value:t.props.value,touched:t.props.touched||!1},t.handleChange=t.handleChange.bind(ze(t)),t}return e=o,(t=[{key:"handleChange",value:function(e){var t=e.target.value;"function"==typeof this.props.onChange&&this.props.onChange(t),this.setState({value:t,touched:!0})}},{key:"doTouch",value:function(){"function"==typeof this.props.onChange&&this.props.onChange(50),this.setState({touched:!0})}},{key:"calcProgress",value:function(e,t,r){return 2*(r-e)/(t-e)-1}},{key:"render",value:function(){var t=this,e=t.state,r=e.value,n=e.touched,o=t.props,i=o.min,a=o.max,u=o.step;return React.createElement("div",{className:"".concat(t.props.className," osc-slider")},React.createElement("div",{className:"osc-slider-track-container"},React.createElement("div",{className:"osc-slider-track"}),React.createElement("div",{className:"osc-slider-track-progress-container"},React.createElement("div",{className:"osc-slider-track-progress",style:{transform:"scaleX("+t.calcProgress(i,a,r)+")"}})),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-left"}),React.createElement("div",{className:"osc-slider-track-dot-start osc-slider-track-dot-center"}),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-right"})),React.createElement("input",{type:"range",min:i,max:a,step:u,value:r,onClick:function(){n||t.doTouch()},onChange:t.handleChange,className:n?"osc-slider-input-range":"osc-slider-input-range osc-slider-untouched",ref:function(e){return t.input=e}}))}}])&&Ve(e.prototype,t),r&&Ve(e,r),o}();t.a={Form:Fe,FormField:Ae,Hidden:g,ImageUpload:C,InputWithCounter:Y,Postcode:ne,Radios:Q,Select:se,Text:he,Textarea:_e,Slider:He}},function(e,t){e.exports=window.ReactDOM},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(9);e.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";(function(i){var t,r,n="URLSearchParams"in self,o="Symbol"in self&&"iterator"in Symbol,u="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in self,c="ArrayBuffer"in self;function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function e(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(e){if(e.bodyUsed)return i.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(r){return new i(function(e,t){r.onload=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function v(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:u&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&u&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||r(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return i.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return i.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return i.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||i.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=d(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return i.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return i.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}c&&(t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=ArrayBuffer.isView||function(e){return e&&-1<t.indexOf(Object.prototype.toString.call(e))}),f.prototype.append=function(e,t){e=s(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[s(e)]},f.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},f.prototype.set=function(e,t){this.map[s(e)]=l(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var r=[];return this.forEach(function(e,t){r.push(t)}),e(r)},f.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},f.prototype.entries=function(){var r=[];return this.forEach(function(e,t){r.push([t,e])}),e(r)},o&&(f.prototype[Symbol.iterator]=f.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var r,n,o=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),-1<m.indexOf(n)?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function E(e){var o=new FormData;return e.trim().split("&").forEach(function(e){var t,r,n;e&&(r=(t=e.split("=")).shift().replace(/\+/g," "),n=t.join("=").replace(/\+/g," "),o.append(decodeURIComponent(r),decodeURIComponent(n)))}),o}function b(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},y.call(g.prototype),y.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];b.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var T=self.DOMException;try{new T}catch(e){(T=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),T.prototype.constructor=T}function O(o,a){return new i(function(n,e){var t=new g(o,a);if(t.signal&&t.signal.aborted)return e(new T("Aborted","AbortError"));var i=new XMLHttpRequest;function r(){i.abort()}i.onload=function(){var e,o,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",o=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t,r=e.split(":"),n=r.shift().trim();n&&(t=r.join(":").trim(),o.append(n,t))}),o)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var r="response"in i?i.response:i.responseText;n(new b(r,t))},i.onerror=function(){e(new TypeError("Network request failed"))},i.ontimeout=function(){e(new TypeError("Network request failed"))},i.onabort=function(){e(new T("Aborted","AbortError"))},i.open(t.method,t.url,!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&u&&(i.responseType="blob"),t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",r),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",r)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})}O.polyfill=!0,self.fetch||(self.fetch=O,self.Headers=f,self.Request=g,self.Response=b)}).call(this,r(15))},function(e,t,r){var n=r(8),o=r(13),i=r(23);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(8),o=r(25),i=r(14),a=r(24),u=Object.defineProperty;t.f=n?u:function(e,t,r){if(i(e),t=a(t,!0),i(r),o)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(10);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,r){e.exports=r(67).Promise},function(e,t,r){var n=r(41),o=r(43);e.exports=function(e){return n(o(e))}},function(e,t,r){var n=r(4),o=r(12);e.exports=function(t,r){try{o(n,t,r)}catch(e){n[t]=r}return r}},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},,function(e,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(8),o=r(49),i=r(23),a=r(16),u=r(24),c=r(7),s=r(25),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=a(e),t=u(t,!0),s)try{return l(e,t)}catch(e){}if(c(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var o=r(10);e.exports=function(e,t){if(!o(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!o(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(8),o=r(9),i=r(26);e.exports=!n&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(4),o=r(10),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){var n=r(28),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},function(e,t,r){var n=r(4),o=r(17),i="__core-js_shared__",a=n[i]||o(i,{});e.exports=a},function(e,t,r){var n=r(30),o=r(31),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,r){var n=r(53),o=r(28);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t,r){function n(e){return"function"==typeof e?e:void 0}var o=r(56),i=r(4);e.exports=function(e,t){return arguments.length<2?n(o[e])||n(i[e]):o[e]&&o[e][t]||i[e]&&i[e][t]}},function(e,t,r){var a=r(7),u=r(16),c=r(34).indexOf,s=r(18);e.exports=function(e,t){var r,n=u(e),o=0,i=[];for(r in n)!a(s,r)&&a(n,r)&&i.push(r);for(;t.length>o;)a(n,r=t[o++])&&(~c(i,r)||i.push(r));return i}},function(e,t,r){function n(u){return function(e,t,r){var n,o=c(e),i=s(o.length),a=l(r,i);if(u&&t!=t){for(;a<i;)if((n=o[a++])!=n)return!0}else for(;a<i;a++)if((u||a in o)&&o[a]===t)return u||a||0;return!u&&-1}}var c=r(16),s=r(44),l=r(58);e.exports={includes:n(!0),indexOf:n(!1)}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:r)(e)}},function(e,t,r){var n=r(9);e.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},function(e,t,r){var l=r(4),f=r(22).f,p=r(12),d=r(50),v=r(17),h=r(54),y=r(60);e.exports=function(e,t){var r,n,o,i,a=e.target,u=e.global,c=e.stat,s=u?l:c?l[a]||v(a,{}):(l[a]||{}).prototype;if(s)for(r in t){if(o=t[r],n=e.noTargetGet?(i=f(s,r))&&i.value:s[r],!y(u?r:a+(c?".":"#")+r,e.forced)&&void 0!==n){if(typeof o==typeof n)continue;h(o,n)}(e.sham||n&&n.sham)&&p(o,"sham",!0),d(s,r,o,e)}}},function(e,t,r){var n=r(46),o=r(63),i=r(13),a=n("unscopables"),u=Array.prototype;null==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),e.exports=function(e){u[a][e]=!0}},function(e,t,r){function a(e){throw e}var u=r(8),c=r(9),s=r(7),l=Object.defineProperty,f={};e.exports=function(e,t){if(s(f,e))return f[e];var r=[][e],n=!!s(t=t||{},"ACCESSORS")&&t.ACCESSORS,o=s(t,0)?t[0]:a,i=s(t,1)?t[1]:void 0;return f[e]=!!r&&!c(function(){if(n&&!u)return!0;var e={length:-1};n?l(e,1,{enumerable:!0,get:a}):e[1]=1,r.call(e,o,i)})}},function(e,t,r){var n=r(4),o=r(45),i=Function.call;e.exports=function(e,t,r){return o(i,n[e].prototype[t],r)}},function(e,t,r){var n=r(9),o=r(42),i="".split;e.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(35),o=Math.min;e.exports=function(e){return 0<e?o(n(e),9007199254740991):0}},function(e,t,r){var i=r(61);e.exports=function(n,o,e){if(i(n),void 0===o)return n;switch(e){case 0:return function(){return n.call(o)};case 1:return function(e){return n.call(o,e)};case 2:return function(e,t){return n.call(o,e,t)};case 3:return function(e,t,r){return n.call(o,e,t,r)}}return function(){return n.apply(o,arguments)}}},function(e,t,r){var n=r(4),o=r(30),i=r(7),a=r(31),u=r(36),c=r(62),s=o("wks"),l=n.Symbol,f=c?l:l&&l.withoutSetter||a;e.exports=function(e){return i(s,e)||(u&&i(l,e)?s[e]=l[e]:s[e]=f("Symbol."+e)),s[e]}},,,function(e,t,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},function(e,t,r){var u=r(4),c=r(12),s=r(7),l=r(17),n=r(27),o=r(51),i=o.get,f=o.enforce,p=String(String).split("String");(e.exports=function(e,t,r,n){var o=!!n&&!!n.unsafe,i=!!n&&!!n.enumerable,a=!!n&&!!n.noTargetGet;"function"==typeof r&&("string"!=typeof t||s(r,"name")||c(r,"name",t),f(r).source=p.join("string"==typeof t?t:"")),e!==u?(o?!a&&e[t]&&(i=!0):delete e[t],i?e[t]=r:c(e,t,r)):i?e[t]=r:l(t,r)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||n(this)})},function(e,t,r){var n,o,i,a,u,c,s,l,f=r(52),p=r(4),d=r(10),v=r(12),h=r(7),y=r(29),m=r(18),g=p.WeakMap;s=f?(n=new g,o=n.get,i=n.has,a=n.set,u=function(e,t){return a.call(n,e,t),t},c=function(e){return o.call(n,e)||{}},function(e){return i.call(n,e)}):(m[l=y("state")]=!0,u=function(e,t){return v(e,l,t),t},c=function(e){return h(e,l)?e[l]:{}},function(e){return h(e,l)}),e.exports={set:u,get:c,has:s,enforce:function(e){return s(e)?c(e):u(e,{})},getterFor:function(r){return function(e){var t;if(!d(e)||(t=c(e)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return t}}}},function(e,t,r){var n=r(4),o=r(27),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t){e.exports=!1},function(e,t,r){var u=r(7),c=r(55),s=r(22),l=r(13);e.exports=function(e,t){for(var r=c(t),n=l.f,o=s.f,i=0;i<r.length;i++){var a=r[i];u(e,a)||n(e,a,o(t,a))}}},function(e,t,r){var n=r(32),o=r(57),i=r(59),a=r(14);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(4);e.exports=n},function(e,t,r){var n=r(33),o=r(19).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,r){var n=r(35),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){function n(e,t){var r=u[a(e)];return r==s||r!=c&&("function"==typeof t?o(t):!!t)}var o=r(9),i=/#|\.prototype\./,a=n.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=n.data={},c=n.NATIVE="N",s=n.POLYFILL="P";e.exports=n},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,r){var n=r(36);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){function n(){}function o(e){return"<script>"+e+"</"+v+">"}var i,a=r(14),u=r(64),c=r(19),s=r(18),l=r(66),f=r(26),p=r(29),d="prototype",v="script",h=p("IE_PROTO"),y=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;y=i?function(e){e.write(o("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=f("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(o("document.F=Object")),e.close(),e.F);for(var r=c.length;r--;)delete y[d][c[r]];return y()};s[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(n[d]=a(e),r=new n,n[d]=null,r[h]=e):r=y(),void 0===t?r:u(r,t)}},function(e,t,r){var n=r(8),a=r(13),u=r(14),c=r(65);e.exports=n?Object.defineProperties:function(e,t){u(e);for(var r,n=c(t),o=n.length,i=0;i<o;)a.f(e,r=n[i++],t[r]);return e}},function(e,t,r){var n=r(33),o=r(19);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,r){var n=r(32);e.exports=n("document","documentElement")},function(e,t,fe){(function(ce,se){var le;e.exports=function(){"use strict";function r(e){return typeof e==="function"||typeof e==="object"&&e!==null}function s(e){return typeof e==="function"}var e=undefined;if(!Array.isArray){e=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{e=Array.isArray}var n=e,o=0,i=undefined,a=undefined,u=function e(t,r){b[o]=t;b[o+1]=r;o+=2;if(o===2){if(a){a(_)}else{O()}}};function t(e){a=e}function c(e){u=e}var l=typeof window!=="undefined"?window:undefined,f=l||{},p=f.MutationObserver||f.WebKitMutationObserver,d=typeof self==="undefined"&&typeof ce!=="undefined"&&{}.toString.call(ce)==="[object process]",v=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function h(){return function(){return ce.nextTick(_)}}function y(){return function(){i(_)}}function m(){var e=0;var t=new p(_);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=e=++e%2}}function g(){var e=new MessageChannel;e.port1.onmessage=_;return function(){return e.port2.postMessage(0)}}function E(){var e=setTimeout;return function(){return e(_,1)}}var b=new Array(1e3);function _(){for(var e=0;e<o;e+=2){var t=b[e];var r=b[e+1];t(r);b[e]=undefined;b[e+1]=undefined}o=0}function T(){try{var e=le;var t=fe(69);i=t.runOnLoop||t.runOnContext;return y()}catch(e){return E()}}var O=undefined;if(d){O=h()}else if(p){O=m()}else if(v){O=g()}else if(l===undefined&&"function"==="function"){O=T()}else{O=E()}function w(e,t){var r=arguments;var n=this;var o=new this.constructor(S);if(o[R]===undefined){$(o)}var i=n._state;if(i){(function(){var e=r[i-1];u(function(){return X(i,o,e,n._result)})})()}else{q(n,o,e,t)}return o}function I(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var r=new t(S);F(r,e);return r}var R=Math.random().toString(36).substring(16);function S(){}var P=void 0,D=1,A=2,C=new Y;function L(){return new TypeError("You cannot resolve a promise with itself")}function M(){return new TypeError("A promises callback cannot return that same promise.")}function N(e){try{return e.then}catch(e){C.error=e;return C}}function x(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function j(e,n,o){u(function(t){var r=false;var e=x(o,n,function(e){if(r){return}r=true;if(n!==e){F(t,e)}else{V(t,e)}},function(e){if(r){return}r=true;B(t,e)},"Settle: "+(t._label||" unknown promise"));if(!r&&e){r=true;B(t,e)}},e)}function k(t,e){if(e._state===D){V(t,e._result)}else if(e._state===A){B(t,e._result)}else{q(e,undefined,function(e){return F(t,e)},function(e){return B(t,e)})}}function G(e,t,r){if(t.constructor===e.constructor&&r===w&&t.constructor.resolve===I){k(e,t)}else{if(r===C){B(e,C.error)}else if(r===undefined){V(e,t)}else if(s(r)){j(e,t,r)}else{V(e,t)}}}function F(e,t){if(e===t){B(e,L())}else if(r(t)){G(e,t,N(t))}else{V(e,t)}}function U(e){if(e._onerror){e._onerror(e._result)}z(e)}function V(e,t){if(e._state!==P){return}e._result=t;e._state=D;if(e._subscribers.length!==0){u(z,e)}}function B(e,t){if(e._state!==P){return}e._state=A;e._result=t;u(U,e)}function q(e,t,r,n){var o=e._subscribers;var i=o.length;e._onerror=null;o[i]=t;o[i+D]=r;o[i+A]=n;if(i===0&&e._state){u(z,e)}}function z(e){var t=e._subscribers;var r=e._state;if(t.length===0){return}var n=undefined,o=undefined,i=e._result;for(var a=0;a<t.length;a+=3){n=t[a];o=t[a+r];if(n){X(r,n,o,i)}else{o(i)}}e._subscribers.length=0}function Y(){this.error=null}var H=new Y;function W(e,t){try{return e(t)}catch(e){H.error=e;return H}}function X(e,t,r,n){var o=s(r),i=undefined,a=undefined,u=undefined,c=undefined;if(o){i=W(r,n);if(i===H){c=true;a=i.error;i=null}else{u=true}if(t===i){B(t,M());return}}else{i=n;u=true}if(t._state!==P){}else if(o&&u){F(t,i)}else if(c){B(t,a)}else if(e===D){V(t,i)}else if(e===A){B(t,i)}}function Z(r,e){try{e(function e(t){F(r,t)},function e(t){B(r,t)})}catch(e){B(r,e)}}var K=0;function Q(){return K++}function $(e){e[R]=K++;e._state=undefined;e._result=undefined;e._subscribers=[]}function J(e,t){this._instanceConstructor=e;this.promise=new e(S);if(!this.promise[R]){$(this.promise)}if(n(t)){this._input=t;this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0){V(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){V(this.promise,this._result)}}}else{B(this.promise,ee())}}function ee(){return new Error("Array Methods must be provided an Array")}function te(e){return new J(this,e).promise}function re(o){var i=this;if(n(o))return new i(function(e,t){for(var r=o.length,n=0;n<r;n++)i.resolve(o[n]).then(e,t)});else return new i(function(e,t){return t(new TypeError("You must pass an array to race."))})}function ne(e){var t=new this(S);return B(t,e),t}function oe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ie(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ae(e){this[R]=Q();this._result=this._state=undefined;this._subscribers=[];if(S!==e){typeof e!=="function"&&oe();this instanceof ae?Z(this,e):ie()}}function ue(){var e=undefined;if(typeof se!=="undefined"){e=se}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if(r==="[object Promise]"&&!t.cast){return}}e.Promise=ae}return J.prototype._enumerate=function(){for(var e=this.length,t=this._input,r=0;this._state===P&&r<e;r++)this._eachEntry(t[r],r)},J.prototype._eachEntry=function(t,e){var r,n,o=this._instanceConstructor,i=o.resolve;i===I?(r=N(t))===w&&t._state!==P?this._settledAt(t._state,e,t._result):"function"!=typeof r?(this._remaining--,this._result[e]=t):o===ae?(G(n=new o(S),t,r),this._willSettleAt(n,e)):this._willSettleAt(new o(function(e){return e(t)}),e):this._willSettleAt(i(t),e)},J.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===P&&(this._remaining--,e===A?B(n,r):this._result[t]=r),0===this._remaining&&V(n,this._result)},J.prototype._willSettleAt=function(e,t){var r=this;q(e,void 0,function(e){return r._settledAt(D,t,e)},function(e){return r._settledAt(A,t,e)})},ae.all=function(e){return new J(this,e).promise},ae.race=function(o){var i=this;return n(o)?new i(function(e,t){for(var r=o.length,n=0;n<r;n++)i.resolve(o[n]).then(e,t)}):new i(function(e,t){return t(new TypeError("You must pass an array to race."))})},ae.resolve=I,ae.reject=function(e){var t=new this(S);return B(t,e),t},ae._setScheduler=function(e){a=e},ae._setAsap=function(e){u=e},ae._asap=u,ae.prototype={constructor:ae,then:w,catch:function(e){return this.then(null,e)}},ue(),ae.polyfill=ue,ae.Promise=ae}()}).call(this,fe(68),fe(21))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,s=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&d())}function d(){if(!l){var e=u(p);l=!0;for(var t=s.length;t;){for(c=s,s=[];++f<t;)c&&c[f].run();f=-1,t=s.length}c=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new v(e,t)),1!==s.length||l||u(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){},function(e,t,r){r(71);var n=r(40);e.exports=n("Array","includes")},function(e,t,r){"use strict";var n=r(37),o=r(34).includes,i=r(38);n({target:"Array",proto:!0,forced:!r(39)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e,t){return o(this,e,1<arguments.length?t:void 0)}}),i("includes")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilePond=t.FileStatus=t.registerPlugin=void 0;var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,s=r(2),a=(i=s)&&i.__esModule?i:{default:i},u=r(96);t.registerPlugin=u.registerPlugin,t.FileStatus=u.FileStatus;var c=(0,u.supported)(),l=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"];t.FilePond=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,a.default.Component),n(f,[{key:"componentDidMount",value:function(){var e,t,r=this;c&&((e=Object.assign({},this.props)).onupdatefiles&&(t=e.onupdatefiles,e.onupdatefiles=function(e){r.allowFilesSync=!1,t(e)}),this._pond=(0,u.create)(this._element,e),Object.keys(this._pond).filter(function(e){return!l.includes(e)}).forEach(function(e){r[e]=r._pond[e]}))}},{key:"componentWillUnmount",value:function(){this._pond&&(this._pond.destroy(),this.allowFilesSync=!0)}},{key:"shouldComponentUpdate",value:function(){return!!this.allowFilesSync||!(this.allowFilesSync=!0)}},{key:"componentDidUpdate",value:function(){var e;this._pond&&(delete(e=Object.assign({},this.props)).onupdatefiles,this._pond.setOptions(e))}},{key:"render",value:function(){var t=this,e=this.props,r=e.id,n=e.name,o=e.className,i=e.allowMultiple,a=e.required,u=e.captureMethod,c=e.acceptedFileTypes;return(0,s.createElement)("div",{className:"filepond--wrapper"},(0,s.createElement)("input",{type:"file",name:n,id:r,accept:c,multiple:i,required:a,className:o,capture:u,ref:function(e){return t._element=e}}))}}]),f);function f(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.allowFilesSync=!0,t}},,function(e,t,r){(function(Ht){e.exports=function(){"use strict";var h=function e(t){return/^image/.test(t.type)},s;function t(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){(function(e){return typeof e})}else{(function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})}return t(e)}function e(e,t,r,n){if(!s){typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103}var o=e&&e.defaultProps;var i=arguments.length-3;if(!t&&i!==0){({children:void 0})}if(t&&o){for(var a in o){if(t[a]===void 0){t[a]=o[a]}}}else if(!t){o||{}}if(i===1){t.children=n}else if(i>1){var u=new Array(i);for(var c=0;c<i;c++){u[c]=arguments[c+3]}t.children=u}return{$$typeof:s,type:e,key:r===undefined?null:""+r,ref:null,props:t,_owner:null}}function r(e){var t;if(typeof Symbol==="function"){if(Symbol.asyncIterator){e[Symbol.asyncIterator];if(t!=null)return t.call(e)}if(Symbol.iterator){e[Symbol.iterator];if(t!=null)return t.call(e)}}throw new TypeError("Object is not async iterable")}function l(e){this.wrapped=e}function n(i){var a,u;function e(n,o){return new Ht(function(e,t){var r={key:n,arg:o,resolve:e,reject:t,next:null};if(u){u=u.next=r}else{a=u=r;c(n,o)}})}function c(e,t){try{var r=i[e](t);var n=r.value;var o=n instanceof l;Ht.resolve(o?n.wrapped:n).then(function(e){if(o){c("next",e);return}s(r.done?"return":"normal",e)},function(e){c("throw",e)})}catch(e){s("throw",e)}}function s(e,t){switch(e){case"return":a.resolve({value:t,done:true});break;case"throw":a.reject(t);break;default:a.resolve({value:t,done:false});break}a=a.next;if(a){c(a.key,a.arg)}else{u=null}}this._invoke=e;if(typeof i.return!=="function"){this.return=undefined}}if(typeof Symbol==="function"&&Symbol.asyncIterator){n.prototype[Symbol.asyncIterator]=function(){return this}}function o(e){return function(){return new n(e.apply(this,arguments))}}function i(e){return new l(e)}function a(n,e){var t={},r=false;function o(t,r){true;new Ht(function(e){e(n[t](r))});return{done:false,value:e(r)}}if(typeof Symbol==="function"&&Symbol.iterator){t[Symbol.iterator]=function(){return this}}t.next=function(e){if(r){false;return e}return o("next",e)};if(typeof n.throw==="function"){t.throw=function(e){if(r){false;throw e}return o("throw",e)}}if(typeof n.return==="function"){t.return=function(e){return o("return",e)}}return t}function c(e,t,r,n,o,i,a){try{var u=e[i](a);var c=u.value}catch(e){r(e);return}if(u.done){t(c)}else{Ht.resolve(c).then(n,o)}}function u(u){return function(){var e=this,a=arguments;return new Ht(function(t,r){var n=u.apply(e,a);function o(e){c(n,t,r,o,i,"next",e)}function i(e){c(n,t,r,o,i,"throw",e)}o(undefined)})}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function d(e,t,r){if(t)p(e.prototype,t);if(r)p(e,r);return e}function v(e,t){for(var r in t){var n=t[r];n.configurable=n.enumerable=true;if("value"in n)n.writable=true;Object.defineProperty(e,r,n)}if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(var i=0;i<o.length;i++){var a=o[i];var n=t[a];n.configurable=n.enumerable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a,n)}}return e}function y(e,t){var r=Object.getOwnPropertyNames(t);for(var n=0;n<r.length;n++){var o=r[n];var i=Object.getOwnPropertyDescriptor(t,o);if(i&&i.configurable&&e[o]===undefined){Object.defineProperty(e,o,i)}}return e}function m(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function g(){Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return g.apply(this,arguments)}function E(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){m(t,e,r[e])})}return t}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)O(e,t)}function _(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}function T(e){Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return T(e)}function O(e,t){Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return O(e,t)}function w(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function I(e,t,r){if(w()){Reflect.construct}else{(function e(t,r,n){var o=[null];o.push.apply(o,r);var i=Function.bind.apply(t,o);var a=new i;if(n)O(a,n.prototype);return a})}return I.apply(null,arguments)}function R(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function S(e){var n=typeof Map==="function"?new Map:undefined;(function e(t){if(t===null||!R(t))return t;if(typeof t!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof n!=="undefined"){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return I(t,arguments,T(this).constructor)}Object.create(t.prototype,{constructor:{value:r,enumerable:false,writable:true,configurable:true}});return O(r,t)});return S(e)}function P(e,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return t[Symbol.hasInstance](e)}else{return e instanceof t}}function D(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function C(e,t){if(e!==t){throw new TypeError("Cannot instantiate an arrow function")}}function L(e){if(e==null)throw new TypeError("Cannot destructure undefined")}function M(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,i;for(0;i<n.length;i++){n[i];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function N(e,t){if(e==null)return{};var r=M(e,t);var n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(0;o<i.length;o++){i[o];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function x(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return x(e)}function k(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){T(e);if(e===null)break}return e}function G(e,t,r){if(typeof Reflect!=="undefined"&&Reflect.get){Reflect.get}else{(function e(t,r,n){var o=k(t,r);if(!o)return;var i=Object.getOwnPropertyDescriptor(o,r);if(i.get){return i.get.call(n)}return i.value})}return G(e,t,r||e)}function F(e,t,r,n){if(typeof Reflect!=="undefined"&&Reflect.set){Reflect.set}else{(function e(t,r,n,o){var i=k(t,r);var a;if(i){Object.getOwnPropertyDescriptor(i,r);if(a.set){a.set.call(o,n);return true}else if(!a.writable){return false}}Object.getOwnPropertyDescriptor(o,r);if(a){if(!a.writable){return false}a.value=n;Object.defineProperty(o,r,a)}else{m(o,r,n)}return true})}return F(e,t,r,n)}function U(e,t,r,n,o){var i=F(e,t,r,n||e);if(!i&&o){throw new Error("failed to set property")}return r}function V(e,t){if(!t){e.slice(0)}return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function B(e,t){if(!t){e.slice(0)}e.raw=t;return e}function q(e,t){if(e===H){throw new ReferenceError(t+" is not defined - temporal dead zone")}else{return e}}function z(e){throw new Error('"'+e+'" is read-only')}function Y(e){throw new Error('Class "'+e+'" cannot be referenced in computed property keys.')}n.prototype.next=function(e){return this._invoke("next",e)},n.prototype.throw=function(e){return this._invoke("throw",e)},n.prototype.return=function(e){return this._invoke("return",e)};var H={};function W(e,t){return $(e)||ee(e,t)||ne()}function X(e,t){return $(e)||te(e,t)||ne()}function Z(e){return $(e)||J(e)||ne()}function K(e){return Q(e)||J(e)||re()}function Q(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function $(e){if(Array.isArray(e))return e}function J(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function ee(e,t){var r=[];var n=true;var o=false;var i=undefined;try{for(var a=e[Symbol.iterator](),u;!(n=(u=a.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(e){o=true;i=e}finally{try{if(!n&&a["return"]!=null)a["return"]()}finally{if(o)throw i}}return r}function te(e,t){var r=[];for(var n=e[Symbol.iterator](),o;!n.next().done;){r.push(o.value);if(t&&r.length===t)break}return r}function re(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ne(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function oe(t){return function(){var e=t.apply(this,arguments);e.next();return e}}function ie(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ae(e){var t=ie(e,"string");return typeof t==="symbol"?t:String(t)}function ue(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and set to use loose mode. "+"To use proposal-class-properties in spec mode with decorators, wait for "+"the next major version of decorators in stage 2.")}function ce(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function se(r,n,e,t,o){var i={};Object.keys(t).forEach(function(e){i[e]=t[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i);if(o&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(o):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(r,n,i);null}return i}var le=0;function fe(e){return"__private_"+le+++"_"+e}function pe(e,t){if(!Object.prototype.hasOwnProperty.call(e,t)){throw new TypeError("attempted to use private field on non-instance")}return e}function de(e,t){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}var r=t.get(e);if(r.get){return r.get.call(e)}return r.value}function ve(e,t,r){if(!t.has(e)){throw new TypeError("attempted to set private field on non-instance")}var n=t.get(e);if(n.set){n.set.call(e,r)}else{if(!n.writable){throw new TypeError("attempted to set read only private field")}n.value=r}return r}function he(e,t,r){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return r.value}function ye(e,t,r,n){if(e!==t){throw new TypeError("Private static access of wrong provenance")}if(!r.writable){throw new TypeError("attempted to set read only private field")}r.value=n;return n}function me(e,t,r){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return r}function ge(){throw new TypeError("attempted to set read only static private field")}function Ee(e,t,r,n){var o=be();if(n){for(var i=0;i<n.length;i++){n[i](o)}}var a=t(function e(t){o.initializeInstanceElements(t,u.elements)},r);var u=o.decorateClass(Oe(a.d.map(_e)),e);o.initializeClassElements(a.F,u.elements);return o.runClassFinishers(a.F,u.finishers)}function be(){(function(){return e});var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(r,e){["method","field"].forEach(function(t){e.forEach(function(e){if(e.kind===t&&e.placement==="own"){this.defineClassElement(r,e)}},this)},this)},initializeClassElements:function(o,e){var i=o.prototype;["method","field"].forEach(function(n){e.forEach(function(e){var t=e.placement;if(e.kind===n&&(t==="static"||t==="prototype")){var r=t==="static"?o:i;this.defineClassElement(r,e)}},this)},this)},defineClassElement:function(e,t){var r=t.descriptor;if(t.kind==="field"){var n=t.initializer;({enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:n===void 0?void 0:n.call(e)})}Object.defineProperty(e,t.key,r)},decorateClass:function(e,t){var r=[];var n=[];var o={static:[],prototype:[],own:[]};e.forEach(function(e){this.addElementPlacement(e,o)},this);e.forEach(function(e){if(!we(e))return r.push(e);var t=this.decorateElement(e,o);r.push(t.element);r.push.apply(r,t.extras);n.push.apply(n,t.finishers)},this);if(!t){return{elements:r,finishers:n}}var i=this.decorateConstructor(r,t);n.push.apply(n,i.finishers);i.finishers=n;return i},addElementPlacement:function(e,t,r){var n=t[e.placement];if(!r&&n.indexOf(e.key)!==-1){throw new TypeError("Duplicated element ("+e.key+")")}n.push(e.key)},decorateElement:function(e,t){var r=[];var n=[];for(var o=e.decorators,i=o.length-1;i>=0;i--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var u=this.fromElementDescriptor(e);var c=this.toElementFinisherExtras((0,o[i])(u)||u);c.element;this.addElementPlacement(e,t);if(c.finisher){n.push(c.finisher)}var s=c.extras;if(s){for(var l=0;l<s.length;l++){this.addElementPlacement(s[l],t)}r.push.apply(r,s)}}return{element:e,finishers:n,extras:r}},decorateConstructor:function(e,t){var r=[];for(var n=t.length-1;n>=0;n--){var o=this.fromClassDescriptor(e);var i=this.toClassDescriptor((0,t[n])(o)||o);if(i.finisher!==undefined){r.push(i.finisher)}if(i.elements!==undefined){i.elements;for(var a=0;a<e.length-1;a++){for(var u=a+1;u<e.length;u++){if(e[a].key===e[u].key&&e[a].placement===e[u].placement){throw new TypeError("Duplicated element ("+e[a].key+")")}}}}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};var r={value:"Descriptor",configurable:true};Object.defineProperty(t,Symbol.toStringTag,r);if(e.kind==="field")t.initializer=e.initializer;return t},toElementDescriptors:function(e){if(e===undefined)return;return Z(e).map(function(e){var t=this.toElementDescriptor(e);this.disallowProperty(e,"finisher","An element descriptor");this.disallowProperty(e,"extras","An element descriptor");return t},this)},toElementDescriptor:function(e){var t=String(e.kind);if(t!=="method"&&t!=="field"){throw new TypeError('An element descriptor\'s .kind property must be either "method" or'+' "field", but a decorator created an element descriptor with'+' .kind "'+t+'"')}var r=ae(e.key);var n=String(e.placement);if(n!=="static"&&n!=="prototype"&&n!=="own"){throw new TypeError('An element descriptor\'s .placement property must be one of "static",'+' "prototype" or "own", but a decorator created an element descriptor'+' with .placement "'+n+'"')}var o=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var i={kind:t,key:r,placement:n,descriptor:Object.assign({},o)};if(t!=="field"){this.disallowProperty(e,"initializer","A method descriptor")}else{this.disallowProperty(o,"get","The property descriptor of a field descriptor");this.disallowProperty(o,"set","The property descriptor of a field descriptor");this.disallowProperty(o,"value","The property descriptor of a field descriptor");i.initializer=e.initializer}return i},toElementFinisherExtras:function(e){var t=this.toElementDescriptor(e);var r=Re(e,"finisher");var n=this.toElementDescriptors(e.extras);return{element:t,finisher:r,extras:n}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};var r={value:"Descriptor",configurable:true};Object.defineProperty(t,Symbol.toStringTag,r);return t},toClassDescriptor:function(e){var t=String(e.kind);if(t!=="class"){throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator'+' created a class descriptor with .kind "'+t+'"')}this.disallowProperty(e,"key","A class descriptor");this.disallowProperty(e,"placement","A class descriptor");this.disallowProperty(e,"descriptor","A class descriptor");this.disallowProperty(e,"initializer","A class descriptor");this.disallowProperty(e,"extras","A class descriptor");var r=Re(e,"finisher");var n=this.toElementDescriptors(e.elements);return{elements:n,finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(n!==undefined){if(typeof n!=="function"){throw new TypeError("Finishers must return a constructor.")}n}}return e},disallowProperty:function(e,t,r){if(e[t]!==undefined){throw new TypeError(r+" can't have a ."+t+" property.")}}};return e}function _e(e){var t=ae(e.key);var r;if(e.kind==="method"){({value:e.value,writable:true,configurable:true,enumerable:false})}else if(e.kind==="get"){({get:e.value,configurable:true,enumerable:false})}else if(e.kind==="set"){({set:e.value,configurable:true,enumerable:false})}else if(e.kind==="field"){({configurable:true,writable:true,enumerable:true})}var n={kind:e.kind==="field"?"field":"method",key:t,placement:e.static?"static":e.kind==="field"?"own":"prototype",descriptor:r};if(e.decorators)n.decorators=e.decorators;if(e.kind==="field")n.initializer=e.value;return n}function Te(e,t){if(e.descriptor.get!==undefined){t.descriptor.get=e.descriptor.get}else{t.descriptor.set=e.descriptor.set}}function Oe(e){var t=[];var r=function(e){return e.kind==="method"&&e.key===o.key&&e.placement===o.placement};for(var n=0;n<e.length;n++){var o=e[n];var i;if(o.kind==="method"&&t.find(r)){if(Ie(o.descriptor)||Ie(i.descriptor)){if(we(o)||we(i)){throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.")}i.descriptor=o.descriptor}else{if(we(o)){if(we(i)){throw new ReferenceError("Decorators can't be placed on different accessors with for "+"the same property ("+o.key+").")}i.decorators=o.decorators}Te(o,i)}}else{t.push(o)}}return t}function we(e){return e.decorators&&e.decorators.length}function Ie(e){return e!==undefined&&!(e.value===undefined&&e.writable===undefined)}function Re(e,t){var r=e[t];if(r!==undefined&&typeof r!=="function"){throw new TypeError("Expected '"+t+"' to be a function")}return r}function Se(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}function Pe(){throw new TypeError("attempted to reassign private method")}function De(e,t){(function(e,t){return new r(e,t)});var n=S(RegExp);var o=RegExp.prototype;var i=new WeakMap;function r(e,t){var r=n.call(this,e);i.set(r,t);return r}b(r,n);(function(e){var t=o.exec.call(this,e);if(t)t.groups=a(t,this);return t});Symbol.replace,function(e,t){if(typeof t==="string"){var r=i.get(this);return o[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+r[t]}))}else if(typeof t==="function"){var n=this;return o[Symbol.replace].call(this,e,function(){var e=[];e.push.apply(e,arguments);if(typeof e[e.length-1]!=="object"){e.push(a(e,n))}return t.apply(this,e)})}else{return o[Symbol.replace].call(this,e,t)}};function a(r,e){var n=i.get(e);return Object.keys(n).reduce(function(e,t){e[t]=r[n[t]];return e},Object.create(null))}return De.apply(this,arguments)}var Ae=function e(t,r){return Ne(t.x*r,t.y*r)},Ce=function e(t,r){return Ne(t.x+r.x,t.y+r.y)},Le=function e(t){var r=Math.sqrt(t.x*t.x+t.y*t.y);if(r===0){return{x:0,y:0}}return Ne(t.x/r,t.y/r)},Me=function e(t,r,n){var o=Math.cos(r);var i=Math.sin(r);var a=Ne(t.x-n.x,t.y-n.y);return Ne(n.x+o*a.x-i*a.y,n.y+i*a.x+o*a.y)},Ne=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return{x:t,y:r}},xe=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var o=arguments.length>3?arguments[3]:undefined;if(typeof t==="string"){return parseFloat(t)*n}if(typeof t==="number"){return t*(o?r[o]:Math.min(r.width,r.height))}return},je=function e(t,r,n){var o=t.borderStyle||t.lineStyle||"solid";var i=t.backgroundColor||t.fontColor||"transparent";var a=t.borderColor||t.lineColor||"transparent";var u=xe(t.borderWidth||t.lineWidth,r,n);var c=t.lineCap||"round";var s=t.lineJoin||"round";var l=typeof o==="string"?"":o.map(function(e){return xe(e,r,n)}).join(",");var f=t.opacity||1;return{"stroke-linecap":c,"stroke-linejoin":s,"stroke-width":u||0,"stroke-dasharray":l,stroke:a,fill:i,opacity:f}},ke=function e(t){return t!=null},Ge=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var o=xe(t.x,r,n,"width")||xe(t.left,r,n,"width");var i=xe(t.y,r,n,"height")||xe(t.top,r,n,"height");var a=xe(t.width,r,n,"width");var u=xe(t.height,r,n,"height");var c=xe(t.right,r,n,"width");var s=xe(t.bottom,r,n,"height");if(!ke(i)){if(ke(u)&&ke(s)){i=r.height-u-s}else{i=s}}if(!ke(o)){if(ke(a)&&ke(c)){o=r.width-a-c}else{o=c}}if(!ke(a)){if(ke(o)&&ke(c)){a=r.width-o-c}else{a=0}}if(!ke(u)){if(ke(i)&&ke(s)){u=r.height-i-s}else{u=0}}return{x:o||0,y:i||0,width:a||0,height:u||0}},Fe=function e(t){return t.map(function(e,t){return"".concat(t===0?"M":"L"," ").concat(e.x," ").concat(e.y)}).join(" ")},Ue=function e(t,r){return Object.keys(r).forEach(function(e){return t.setAttribute(e,r[e])})},Ve="http://www.w3.org/2000/svg",Be=function e(t,r){var n=document.createElementNS(Ve,t);if(r){Ue(n,r)}return n},qe,ze,Ye={contain:"xMidYMid meet",cover:"xMidYMid slice"},He,We={left:"start",center:"middle",right:"end"},Xe,Ze,Ke,Qe=function e(t){return function(e){return Be(t,{id:e.id})}},$e,Je,et={image:function e(t){var r=Be("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});r.onload=function(){r.setAttribute("opacity",t.opacity||1)};r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src);return r},rect:Qe("rect"),ellipse:Qe("ellipse"),text:Qe("text"),path:Qe("path"),line:function e(t){var r=Be("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"});var n=Be("line");r.appendChild(n);var o=Be("path");r.appendChild(o);var i=Be("path");r.appendChild(i);return r}},tt={rect:function e(t){return Ue(t,Object.assign({},t.rect,t.styles))},ellipse:function e(t){var r=t.rect.x+t.rect.width*.5;var n=t.rect.y+t.rect.height*.5;var o=t.rect.width*.5;var i=t.rect.height*.5;return Ue(t,Object.assign({cx:r,cy:n,rx:o,ry:i},t.styles))},image:function e(t,r){Ue(t,Object.assign({},t.rect,t.styles,{preserveAspectRatio:Ye[r.fit]||"none"}))},text:function e(t,r,n,o){var i=xe(r.fontSize,n,o);var a=r.fontFamily||"sans-serif";var u=r.fontWeight||"normal";var c=We[r.textAlign]||"start";Ue(t,Object.assign({},t.rect,t.styles,{"stroke-width":0,"font-weight":u,"font-size":i,"font-family":a,"text-anchor":c}));if(t.text!==r.text){t.text=r.text;t.textContent=r.text.length?r.text:" "}},path:function e(t,r,n,o){Ue(t,Object.assign({},t.styles,{fill:"none",d:Fe(r.points.map(function(e){return{x:xe(e.x,n,o,"width"),y:xe(e.y,n,o,"height")}}))}))},line:function e(t,r,n,o){Ue(t,Object.assign({},t.rect,t.styles,{fill:"none"}));var i=t.childNodes[0];var a=t.childNodes[1];var u=t.childNodes[2];var c=t.rect;var s={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};Ue(i,{x1:c.x,y1:c.y,x2:s.x,y2:s.y});if(!r.lineDecoration)return;a.style.display="none";u.style.display="none";var l=Le({x:s.x-c.x,y:s.y-c.y});var f=xe(.05,n,o);if(r.lineDecoration.indexOf("arrow-begin")!==-1){var p=Ae(l,f);var d=Ce(c,p);var v=Me(c,2,d);var h=Me(c,-2,d);Ue(a,{style:"display:block;",d:"M".concat(v.x,",").concat(v.y," L").concat(c.x,",").concat(c.y," L").concat(h.x,",").concat(h.y)})}if(r.lineDecoration.indexOf("arrow-end")!==-1){var y=Ae(l,-f);var m=Ce(s,y);var g=Me(s,2,m);var E=Me(s,-2,m);Ue(u,{style:"display:block;",d:"M".concat(g.x,",").concat(g.y," L").concat(s.x,",").concat(s.y," L").concat(E.x,",").concat(E.y)})}}},rt=function e(t,r){return et[t](r)},nt=function e(t,r,n,o,i){if(r!=="path"){t.rect=Ge(n,o,i)}t.styles=je(n,o,i);tt[r](t,n,o,i)},ot=["x","y","left","top","right","bottom","width","height"],it=function e(t){return typeof t==="string"&&/%/.test(t)?parseFloat(t)/100:t},at=function e(t){var r=W(t,2),n=r[0],o=r[1];var i=o.points?{}:ot.reduce(function(e,t){e[t]=it(o[t]);return e},{});return[n,Object.assign({zIndex:0},o,i)]},ut=function e(t,r){if(t[1].zIndex>r[1].zIndex){return 1}if(t[1].zIndex<r[1].zIndex){return-1}return 0},ct=function e(t){return t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:true,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function e(t){var i=t.root,r=t.props;if(!r.dirty)return;var n=r.crop,o=r.resize,a=r.markup;var u=r.width;var c=r.height;var s=n.width;var l=n.height;if(o){var f=o.size;var p=f&&f.width;var d=f&&f.height;var v=o.mode;var h=o.upscale;if(p&&!d)d=p;if(d&&!p)p=d;var y=s<p&&l<d;if(!y||y&&h){var m=p/s;var g=d/l;if(v==="force"){s=p;l=d}else{var E;if(v==="cover"){E=Math.max(m,g)}else if(v==="contain"){E=Math.min(m,g)}s=s*E;l=l*E}}}var b={width:u,height:c};i.element.setAttribute("width",b.width);i.element.setAttribute("height",b.height);var _=Math.min(u/s,c/l);i.element.innerHTML="";var T=i.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");a.filter(T).map(at).sort(ut).forEach(function(e){var t=W(e,2),r=t[0],n=t[1];var o=rt(r,n);nt(o,r,n,b,_);i.element.appendChild(o)})}})},st=function e(t,r){return{x:t,y:r}},lt=function e(t,r){return t.x*r.x+t.y*r.y},ft=function e(t,r){return st(t.x-r.x,t.y-r.y)},pt=function e(t,r){return lt(ft(t,r),ft(t,r))},dt=function e(t,r){return Math.sqrt(pt(t,r))},vt=function e(t,r){var n=t;var o=1.5707963267948966;var i=r;var a=1.5707963267948966-r;var u=Math.sin(o);var c=Math.sin(i);var s=Math.sin(a);var l=Math.cos(a);var f=n/u;var p=f*c;var d=f*s;return st(l*p,l*d)},ht=function e(t,r){var n=t.width;var o=t.height;var i=vt(n,r);var a=vt(o,r);var u=st(t.x+Math.abs(i.x),t.y-Math.abs(i.y));var c=st(t.x+t.width+Math.abs(a.y),t.y+Math.abs(a.x));var s=st(t.x-Math.abs(a.y),t.y+t.height-Math.abs(a.x));return{width:dt(u,c),height:dt(u,s)}},yt=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var o=t.height/t.width;var i=1;var a=r;var u=1;var c=o;if(c>a){c=a;u=c/o}var s=Math.max(i/u,a/c);var l=t.width/(n*s*u);var f=l*r;return{width:l,height:f}},mt=function e(t,r,n,o){var i=o.x>.5?1-o.x:o.x;var a=o.y>.5?1-o.y:o.y;var u=i*2*t.width;var c=a*2*t.height;var s=ht(r,n);return Math.max(s.width/u,s.height/c)},gt=function e(t,r){var n=t.width;var o=n*r;if(o>t.height){o=t.height;n=o/r}var i=(t.width-n)*.5;var a=(t.height-o)*.5;return{x:i,y:a,width:n,height:o}},Et=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=r.zoom,o=r.rotation,i=r.center,a=r.aspectRatio;if(!a)a=t.height/t.width;var u=yt(t,a,n);var c={x:u.width*.5,y:u.height*.5};var s={x:0,y:0,width:u.width,height:u.height,center:c};var l=typeof r.scaleToFit==="undefined"||r.scaleToFit;var f=mt(t,gt(s,a),o,l?i:{x:.5,y:.5});var p=n*f;return{widthFloat:u.width/p,heightFloat:u.height/p,width:Math.round(u.width/p),height:Math.round(u.height/p)}},bt={type:"spring",stiffness:.5,damping:.45,mass:10},_t=function e(t){return t.utils.createView({name:"image-bitmap",ignoreRect:true,mixins:{styles:["scaleX","scaleY"]},create:function e(t){var r=t.root,n=t.props;r.appendChild(n.image)}})},Tt=function e(o){return o.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:true,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:bt,originY:bt,scaleX:bt,scaleY:bt,translateX:bt,translateY:bt,rotateZ:bt}},create:function e(t){var r=t.root,n=t.props;n.width=n.image.width;n.height=n.image.height;r.ref.bitmap=r.appendChildView(r.createChildView(_t(o),{image:n.image}))},write:function e(t){var r=t.root,n=t.props;var o=n.crop.flip;var i=r.ref.bitmap;i.scaleX=o.horizontal?-1:1;i.scaleY=o.vertical?-1:1}})},Ot=function e(i){return i.utils.createView({name:"image-clip",tag:"div",ignoreRect:true,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function e(t){var r=t.root,n=t.props;if(!n.background)return;r.element.style.backgroundColor=n.background},create:function e(t){var r=t.root,n=t.props;r.ref.image=r.appendChildView(r.createChildView(Tt(i),Object.assign({},n)));r.ref.createMarkup=function(){if(r.ref.markup)return;r.ref.markup=r.appendChildView(r.createChildView(ct(i),Object.assign({},n)))};r.ref.destroyMarkup=function(){if(!r.ref.markup)return;r.removeChildView(r.ref.markup);r.ref.markup=null};var o=r.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");if(o===null)return;if(o==="grid"){r.element.dataset.transparencyIndicator=o}else{r.element.dataset.transparencyIndicator="color"}},write:function e(t){var r=t.root,n=t.props,o=t.shouldOptimize;var i=n.crop,a=n.markup,u=n.resize,c=n.dirty,s=n.width,l=n.height;r.ref.image.crop=i;var f={x:0,y:0,width:s,height:l,center:{x:s*.5,y:l*.5}};var p={width:r.ref.image.width,height:r.ref.image.height};var d={x:i.center.x*p.width,y:i.center.y*p.height};var v={x:f.center.x-p.width*i.center.x,y:f.center.y-p.height*i.center.y};var h=Math.PI*2+i.rotation%(Math.PI*2);var y=i.aspectRatio||p.height/p.width;var m=typeof i.scaleToFit==="undefined"||i.scaleToFit;var g=mt(p,gt(f,y),h,m?i.center:{x:.5,y:.5});var E=i.zoom*g;if(a&&a.length){r.ref.createMarkup();r.ref.markup.width=s;r.ref.markup.height=l;r.ref.markup.resize=u;r.ref.markup.dirty=c;r.ref.markup.markup=a;r.ref.markup.crop=Et(p,i)}else if(r.ref.markup){r.ref.destroyMarkup()}var b=r.ref.image;if(o){b.originX=null;b.originY=null;b.translateX=null;b.translateY=null;b.rotateZ=null;b.scaleX=null;b.scaleY=null;return}b.originX=d.x;b.originY=d.y;b.translateX=v.x;b.translateY=v.y;b.rotateZ=h;b.scaleX=E;b.scaleY=E}})},wt=function e(o){return o.utils.createView({name:"image-preview",tag:"div",ignoreRect:true,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:bt,scaleY:bt,translateY:bt,opacity:{type:"tween",duration:400}}},create:function e(t){var r=t.root,n=t.props;r.ref.clip=r.appendChildView(r.createChildView(Ot(o),{id:n.id,image:n.image,crop:n.crop,markup:n.markup,resize:n.resize,dirty:n.dirty,background:n.background}))},write:function e(t){var r=t.root,n=t.props,o=t.shouldOptimize;var i=r.ref.clip;var a=n.image,u=n.crop,c=n.markup,s=n.resize,l=n.dirty;i.crop=u;i.markup=c;i.resize=s;i.dirty=l;i.opacity=o?0:1;if(o||r.rect.element.hidden)return;var f=a.height/a.width;var p=u.aspectRatio||f;var d=r.rect.inner.width;var v=r.rect.inner.height;var h=r.query("GET_IMAGE_PREVIEW_HEIGHT");var y=r.query("GET_IMAGE_PREVIEW_MIN_HEIGHT");var m=r.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");var g=r.query("GET_PANEL_ASPECT_RATIO");var E=r.query("GET_ALLOW_MULTIPLE");if(g&&!E){h=d*g;p=g}var b=h!==null?h:Math.max(y,Math.min(d*p,m));var _=b/p;if(_>d){_=d;b=_*p}if(b>v){b=v;_=v/p}i.width=_;i.height=b}})},It='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',Rt=false,St=0,Pt=function e(t){return t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:true,create:function e(t){var r=t.root,n=t.props;if(!Rt&&document.querySelector("base")){It=It.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#");Rt=true}St++;r.element.classList.add("filepond--image-preview-overlay-".concat(n.status));r.element.innerHTML=It.replace(/__UID__/g,St)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},Dt=function e(){self.onmessage=function(t){createImageBitmap(t.data.message.file).then(function(e){self.postMessage({id:t.data.id,message:e},[e])})}},At=function e(){self.onmessage=function(e){var t=e.data.message.imageData;var r=e.data.message.colorMatrix;var n=t.data;var o=n.length;var i=r[0];var a=r[1];var u=r[2];var c=r[3];var s=r[4];var l=r[5];var f=r[6];var p=r[7];var d=r[8];var v=r[9];var h=r[10];var y=r[11];var m=r[12];var g=r[13];var E=r[14];var b=r[15];var _=r[16];var T=r[17];var O=r[18];var w=r[19];var I=0,R=0,S=0,P=0,D=0;for(;I<o;I+=4){R=n[I]/255;S=n[I+1]/255;P=n[I+2]/255;D=n[I+3]/255;n[I]=Math.max(0,Math.min((R*i+S*a+P*u+D*c+s)*255,255));n[I+1]=Math.max(0,Math.min((R*l+S*f+P*p+D*d+v)*255,255));n[I+2]=Math.max(0,Math.min((R*h+S*y+P*m+D*g+E)*255,255));n[I+3]=Math.max(0,Math.min((R*b+S*_+P*T+D*O+w)*255,255))}self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},Ct=function e(t,r){var n=new Image;n.onload=function(){var e=n.naturalWidth;var t=n.naturalHeight;n=null;r(e,t)};n.src=t},Lt={1:function e(){return[1,0,0,1,0,0]},2:function e(t){return[-1,0,0,1,t,0]},3:function e(t,r){return[-1,0,0,-1,t,r]},4:function e(t,r){return[1,0,0,-1,0,r]},5:function e(){return[0,1,1,0,0,0]},6:function e(t,r){return[0,1,-1,0,r,0]},7:function e(t,r){return[0,-1,-1,0,r,t]},8:function e(t){return[0,-1,1,0,0,t]}},Mt=function e(t,r,n,o){if(o===-1){return}t.transform.apply(t,Lt[o](r,n))},Nt=function e(t,r,n,o){r=Math.round(r);n=Math.round(n);var i=document.createElement("canvas");i.width=r;i.height=n;var a=i.getContext("2d");if(o>=5&&o<=8){var u=[n,r];r=u[0];n=u[1]}Mt(a,r,n,o);a.drawImage(t,0,0,r,n);return i},xt=function e(t){return/^image/.test(t.type)&&!/svg/.test(t.type)},jt=10,kt=10,Gt=function e(t){var r=Math.min(jt/t.width,kt/t.height);var n=document.createElement("canvas");var o=n.getContext("2d");var i=n.width=Math.ceil(t.width*r);var a=n.height=Math.ceil(t.height*r);o.drawImage(t,0,0,i,a);var u=null;try{u=o.getImageData(0,0,i,a).data}catch(e){return null}var c=u.length;var s=0;var l=0;var f=0;var p=0;for(;p<c;p+=4){s+=u[p]*u[p];l+=u[p+1]*u[p+1];f+=u[p+2]*u[p+2]}s=Ft(s,c);l=Ft(l,c);f=Ft(f,c);return{r:s,g:l,b:f}},Ft=function e(t,r){return Math.floor(Math.sqrt(t/(r/4)))},Ut=function e(t,r){r=r||document.createElement("canvas");r.width=t.width;r.height=t.height;var n=r.getContext("2d");n.drawImage(t,0,0);return r},Vt=function e(t){var r;try{r=new ImageData(t.width,t.height)}catch(e){var n=document.createElement("canvas");var o=n.getContext("2d");r=o.createImageData(t.width,t.height)}r.data.set(new Uint8ClampedArray(t.data));return r},Bt=function e(n){return new Ht(function(e,t){var r=new Image;r.crossOrigin="Anonymous";r.onload=function(){e(r)};r.onerror=function(e){t(e)};r.src=n})},qt=function e(t){var n=Pt(t);var d=wt(t);var a=t.utils.createWorker;var T=function e(n,o,i){return new Ht(function(t){if(!n.ref.imageData){n.ref.imageData=i.getContext("2d").getImageData(0,0,i.width,i.height)}var e=Vt(n.ref.imageData);if(!o||o.length!==20){i.getContext("2d").putImageData(e,0,0);return t()}var r=a(At);r.post({imageData:e,colorMatrix:o},function(e){i.getContext("2d").putImageData(e,0,0);r.terminate();t()},[e.data.buffer])})};var o=function e(t,r){t.removeChildView(r);r.image.width=1;r.image.height=1;r._destroy()};var l=function e(t){var r=t.root;var n=r.ref.images.shift();n.opacity=0;n.translateY=-15;r.ref.imageViewBin.push(n);return n};var O=function e(t){var r=t.root,n=t.props,o=t.image;var i=n.id;var a=r.query("GET_ITEM",{id:i});if(!a)return;var u=a.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:false,vertical:false},zoom:1,rotation:0,aspectRatio:null};var c=r.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");var s;var l;var f=false;if(r.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")){s=a.getMetadata("markup")||[];l=a.getMetadata("resize");f=true}var p=r.appendChildView(r.createChildView(d,{id:i,image:o,crop:u,resize:l,markup:s,dirty:f,background:c,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),r.childViews.length);r.ref.images.push(p);p.opacity=1;p.scaleX=1;p.scaleY=1;p.translateY=0;setTimeout(function(){r.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:i})},250)};var f=function e(t){var r=t.root,n=t.props;var o=r.query("GET_ITEM",{id:n.id});if(!o)return;var i=r.ref.images[r.ref.images.length-1];i.crop=o.getMetadata("crop");i.background=r.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");if(r.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")){i.dirty=true;i.resize=o.getMetadata("resize");i.markup=o.getMetadata("markup")}};var r=function e(t){var r=t.root,n=t.props,o=t.action;if(!/crop|filter|markup|resize/.test(o.change.key))return;if(!r.ref.images.length)return;var i=r.query("GET_ITEM",{id:n.id});if(!i)return;if(/filter/.test(o.change.key)){var a=r.ref.images[r.ref.images.length-1];T(r,o.change.value,a.image);return}if(/crop|markup|resize/.test(o.change.key)){var u=i.getMetadata("crop");var c=r.ref.images[r.ref.images.length-1];if(Math.abs(u.aspectRatio-c.crop.aspectRatio)>1e-5){var s=l({root:r});O({root:r,props:n,image:Ut(s.image)})}else{f({root:r,props:n})}}};var u=function e(t){var r=window.navigator.userAgent;var n=r.match(/Firefox\/([0-9]+)\./);var o=n?parseInt(n[1]):null;if(o<=58)return false;return"createImageBitmap"in window&&xt(t)};var i=function e(t){var r=t.root,n=t.props;var o=n.id;var i=r.query("GET_ITEM",o);if(!i)return;var a=URL.createObjectURL(i.file);Ct(a,function(e,t){r.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:o,width:e,height:t})})};var c=function e(t){var g=t.root,E=t.props;var r=E.id;var b=g.query("GET_ITEM",r);if(!b)return;var _=URL.createObjectURL(b.file);var n=function e(){Bt(_).then(o)};var o=function e(r){URL.revokeObjectURL(_);var t=b.getMetadata("exif")||{};var n=t.orientation||-1;var o=r.width,i=r.height;if(!o||!i)return;if(n>=5&&n<=8){var a=[i,o];o=a[0];i=a[1]}var u=Math.max(1,window.devicePixelRatio*.75);var c=g.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR");var s=c*u;var l=i/o;var f=g.rect.element.width;var p=g.rect.element.height;var d=f;var v=d*l;if(l>1){d=Math.min(o,f*s);v=d*l}else{v=Math.min(i,p*s);d=v/l}var h=Nt(r,d,v,n);var y=function e(){var t=g.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?Gt(data):null;b.setMetadata("color",t,true);if("close"in r){r.close()}g.ref.overlayShadow.opacity=1;O({root:g,props:E,image:h})};var m=b.getMetadata("filter");if(m){T(g,m,h).then(y)}else{y()}};if(u(b.file)){var i=a(Dt);i.post({file:b.file},function(e){i.terminate();if(!e){n();return}o(e)})}else{n()}};var s=function e(t){var r=t.root;var n=r.ref.images[r.ref.images.length-1];n.translateY=0;n.scaleX=1;n.scaleY=1;n.opacity=1};var p=function e(t){var r=t.root;r.ref.overlayShadow.opacity=1;r.ref.overlayError.opacity=0;r.ref.overlaySuccess.opacity=0};var v=function e(t){var r=t.root;r.ref.overlayShadow.opacity=.25;r.ref.overlayError.opacity=1};var h=function e(t){var r=t.root;r.ref.overlayShadow.opacity=.25;r.ref.overlaySuccess.opacity=1};var y=function e(t){var r=t.root;r.ref.images=[];r.ref.imageData=null;r.ref.imageViewBin=[];r.ref.overlayShadow=r.appendChildView(r.createChildView(n,{opacity:0,status:"idle"}));r.ref.overlaySuccess=r.appendChildView(r.createChildView(n,{opacity:0,status:"success"}));r.ref.overlayError=r.appendChildView(r.createChildView(n,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:y,styles:["height"],apis:["height"],destroy:function e(t){var r=t.root;r.ref.images.forEach(function(e){e.image.width=1;e.image.height=1})},didWriteView:function e(t){var r=t.root;r.ref.images.forEach(function(e){e.dirty=false})},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:s,DID_IMAGE_PREVIEW_CONTAINER_CREATE:i,DID_FINISH_CALCULATE_PREVIEWSIZE:c,DID_UPDATE_ITEM_METADATA:r,DID_THROW_ITEM_LOAD_ERROR:v,DID_THROW_ITEM_PROCESSING_ERROR:v,DID_THROW_ITEM_INVALID:v,DID_COMPLETE_ITEM_PROCESSING:h,DID_START_ITEM_PROCESSING:p,DID_REVERT_ITEM_PROCESSING:p},function(e){var t=e.root;var r=t.ref.imageViewBin.filter(function(e){return e.opacity===0});t.ref.imageViewBin=t.ref.imageViewBin.filter(function(e){return e.opacity>0});r.forEach(function(e){return o(t,e)});r.length=0})})},zt=function e(t){var r=t.addFilter,n=t.utils;var o=n.Type,u=n.createRoute,d=n.isFile;var v=qt(t);r("CREATE_VIEW",function(e){var t=e.is,f=e.view,p=e.query;if(!t("file")||!p("GET_ALLOW_IMAGE_PREVIEW"))return;var r=function e(t){var r=t.root,n=t.props;var o=n.id;var i=p("GET_ITEM",o);if(!i||!d(i.file)||i.archived)return;var a=i.file;if(!h(a))return;if(!p("GET_IMAGE_PREVIEW_FILTER_ITEM")(i))return;var u="createImageBitmap"in(window||{});var c=p("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!u&&c&&a.size>c)return;r.ref.imagePreview=f.appendChildView(f.createChildView(v,{id:o}));var s=r.query("GET_IMAGE_PREVIEW_HEIGHT");if(s){r.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:i.id,height:s})}var l=!u&&a.size>p("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");r.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:o},l)};var n=function e(t,r){if(!t.ref.imagePreview)return;var n=r.id;var o=t.query("GET_ITEM",{id:n});if(!o)return;var i=t.query("GET_PANEL_ASPECT_RATIO");var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO");var u=t.query("GET_IMAGE_PREVIEW_HEIGHT");if(i||a||u)return;var c=t.ref,s=c.imageWidth,l=c.imageHeight;if(!s||!l)return;var f=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT");var p=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");var d=o.getMetadata("exif")||{};var v=d.orientation||-1;if(v>=5&&v<=8){var h=[l,s];s=h[0];l=h[1]}if(!xt(o.file)||t.query("GET_IMAGE_PREVIEW_UPSCALE")){var y=2048/s;s*=y;l*=y}var m=l/s;var g=(o.getMetadata("crop")||{}).aspectRatio||m;var E=Math.max(f,Math.min(l,p));var b=t.rect.element.width;var _=Math.min(b*g,E);t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:o.id,height:_})};var o=function e(t){var r=t.root;r.ref.shouldRescale=true};var i=function e(t){var r=t.root,n=t.action;if(n.change.key!=="crop")return;r.ref.shouldRescale=true};var a=function e(t){var r=t.root,n=t.action;r.ref.imageWidth=n.width;r.ref.imageHeight=n.height;r.ref.shouldRescale=true;r.ref.shouldDrawPreview=true;r.dispatch("KICK")};f.registerWriter(u({DID_RESIZE_ROOT:o,DID_STOP_RESIZE:o,DID_LOAD_ITEM:r,DID_IMAGE_PREVIEW_CALCULATE_SIZE:a,DID_UPDATE_ITEM_METADATA:i},function(e){var t=e.root,r=e.props;if(!t.ref.imagePreview)return;if(t.rect.element.hidden)return;if(t.ref.shouldRescale){n(t,r);t.ref.shouldRescale=false}if(t.ref.shouldDrawPreview){requestAnimationFrame(function(){t.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:r.id})});t.ref.shouldDrawPreview=false}}))});return{options:{allowImagePreview:[true,o.BOOLEAN],imagePreviewFilterItem:[function(){return true},o.FUNCTION],imagePreviewHeight:[null,o.INT],imagePreviewMinHeight:[44,o.INT],imagePreviewMaxHeight:[256,o.INT],imagePreviewMaxFileSize:[null,o.INT],imagePreviewZoomFactor:[2,o.INT],imagePreviewUpscale:[false,o.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,o.INT],imagePreviewTransparencyIndicator:[null,o.STRING],imagePreviewCalculateAverageImageColor:[false,o.BOOLEAN],imagePreviewMarkupShow:[true,o.BOOLEAN],imagePreviewMarkupFilter:[function(){return true},o.FUNCTION]}}},Yt;if(typeof window!=="undefined"&&typeof window.document!=="undefined"){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:zt}))}return zt}()}).call(this,r(15))},function(e,t,r){(function(h){e.exports=function(){"use strict";var e=function e(t){var r=t.addFilter,n=t.utils;var o=n.Type,i=n.isString,c=n.replaceInString,a=n.guesstimateMimeType,u=n.getExtensionFromFilename,s=n.getFilenameFromURL;var l=function e(t,r){var n=(/^[^/]+/.exec(t)||[]).pop();var o=r.slice(0,-2);return n===o};var f=function e(t,r){return t.some(function(e){if(/\*$/.test(e)){return l(r,e)}return e===r})};var p=function e(t){var r="";if(i(t)){var n=s(t);var o=u(n);if(o){r=a(o)}}else{r=t.type}return r};var d=function e(n,o,i){if(o.length===0){return true}var a=p(n);if(!i){return f(o,a)}return new h(function(t,r){i(n,a).then(function(e){if(f(o,e)){t()}else{r()}}).catch(r)})};var v=function e(t){return function(e){return t[e]===null?false:t[e]||e}};r("SET_ATTRIBUTE_TO_OPTION_MAP",function(e){return Object.assign(e,{accept:"acceptedFileTypes"})});r("ALLOW_HOPPER_ITEM",function(e,t){var r=t.query;if(!r("GET_ALLOW_FILE_TYPE_VALIDATION")){return true}return d(e,r("GET_ACCEPTED_FILE_TYPES"))});r("LOAD_FILE",function(a,e){var u=e.query;return new h(function(e,r){if(!u("GET_ALLOW_FILE_TYPE_VALIDATION")){e(a);return}var n=u("GET_ACCEPTED_FILE_TYPES");var t=u("GET_FILE_VALIDATE_TYPE_DETECT_TYPE");var o=d(a,n,t);var i=function e(){var t=n.map(v(u("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(function(e){return e!==false});r({status:{main:u("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:c(u("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:t.join(", "),allButLastType:t.slice(0,-1).join(", "),lastType:t[t.length-1]})}})};if(typeof o==="boolean"){if(!o){return i()}return e(a)}o.then(function(){e(a)}).catch(i)})});return{options:{allowFileTypeValidation:[true,o.BOOLEAN],acceptedFileTypes:[[],o.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",o.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",o.STRING],fileValidateTypeLabelExpectedTypesMap:[{},o.OBJECT],fileValidateTypeDetectType:[null,o.FUNCTION]}}},t;if(typeof window!=="undefined"&&typeof window.document!=="undefined"){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e}))}return e}()}).call(this,r(15))},function(e,t,r){(function(i){e.exports=function(){"use strict";var e=function e(t){var r=t.addFilter,n=t.utils;var o=n.Type,s=n.replaceInString,l=n.toNaturalFileSize;r("ALLOW_HOPPER_ITEM",function(e,t){var r=t.query;if(!r("GET_ALLOW_FILE_SIZE_VALIDATION")){return true}var n=r("GET_MAX_FILE_SIZE");if(n!==null&&e.size>=n){return false}var o=r("GET_MIN_FILE_SIZE");if(o!==null&&e.size<=o){return false}return true});r("LOAD_FILE",function(u,e){var c=e.query;return new i(function(e,t){if(!c("GET_ALLOW_FILE_SIZE_VALIDATION")){return e(u)}var r=c("GET_FILE_VALIDATE_SIZE_FILTER");if(r&&!r(u)){return e(u)}var n=c("GET_MAX_FILE_SIZE");if(n!==null&&u.size>=n){t({status:{main:c("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:s(c("GET_LABEL_MAX_FILE_SIZE"),{filesize:l(n)})}});return}var o=c("GET_MIN_FILE_SIZE");if(o!==null&&u.size<=o){t({status:{main:c("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:s(c("GET_LABEL_MIN_FILE_SIZE"),{filesize:l(o)})}});return}var i=c("GET_MAX_TOTAL_FILE_SIZE");if(i!==null){var a=c("GET_ACTIVE_ITEMS").reduce(function(e,t){return e+t.fileSize},0);if(a>i){t({status:{main:c("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:s(c("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:l(i)})}});return}}e(u)})});return{options:{allowFileSizeValidation:[true,o.BOOLEAN],maxFileSize:[null,o.INT],minFileSize:[null,o.INT],maxTotalFileSize:[null,o.INT],fileValidateSizeFilter:[null,o.FUNCTION],labelMinFileSizeExceeded:["File is too small",o.STRING],labelMinFileSize:["Minimum file size is {filesize}",o.STRING],labelMaxFileSizeExceeded:["File is too large",o.STRING],labelMaxFileSize:["Maximum file size is {filesize}",o.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",o.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",o.STRING]}}},t;if(typeof window!=="undefined"&&typeof window.document!=="undefined"){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e}))}return e}()}).call(this,r(15))},function(e,t,r){(function(T){e.exports=function(){"use strict";var r={type:"spring",stiffness:.5,damping:.45,mass:10},l=function e(t){return t.utils.createView({name:"file-poster",tag:"div",ignoreRect:true,create:function e(t){var r=t.root;r.ref.image=document.createElement("img");r.element.appendChild(r.ref.image)},write:t.utils.createRoute({DID_FILE_POSTER_LOAD:function e(t){var r=t.root,n=t.props;var o=n.id;var i=r.query("GET_ITEM",{id:n.id});if(!i)return;var a=i.getMetadata("poster");r.ref.image.src=a;r.dispatch("DID_FILE_POSTER_DRAW",{id:o})}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:r,scaleY:r,opacity:{type:"tween",duration:750}}}})},o=function e(t,r){r.width=t.width;r.height=t.height;var n=r.getContext("2d");n.drawImage(t,0,0)},f=function e(t){return t.utils.createView({name:"file-poster-overlay",tag:"canvas",ignoreRect:true,create:function e(t){var r=t.root,n=t.props;o(n.template,r.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},p=function e(t,r){var n=new Image;n.onload=function(){var e=n.naturalWidth;var t=n.naturalHeight;n=null;r(e,t)};n.src=t},d=function e(t){return-.5*(Math.cos(Math.PI*t)-1)},s=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:d;var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:10;var a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var u=1-a;var c=r.join(",");for(var s=0;s<=i;s++){var l=s/i;var f=a+u*l;t.addColorStop(f,"rgba(".concat(c,", ").concat(o(l)*n,")"))}},v=10,h=10,y=function e(t){var r=Math.min(v/t.width,h/t.height);var n=document.createElement("canvas");var o=n.getContext("2d");var i=n.width=Math.ceil(t.width*r);var a=n.height=Math.ceil(t.height*r);o.drawImage(t,0,0,i,a);var u=null;try{u=o.getImageData(0,0,i,a).data}catch(e){return null}var c=u.length;var s=0;var l=0;var f=0;var p=0;for(;p<c;p+=4){s+=u[p]*u[p];l+=u[p+1]*u[p+1];f+=u[p+2]*u[p+2]}s=m(s,c);l=m(l,c);f=m(f,c);return{r:s,g:l,b:f}},m=function e(t,r){return Math.floor(Math.sqrt(t/(r/4)))},e=function e(t,r,n,o,i){t.width=r;t.height=n;var a=t.getContext("2d");var u=r*.5;var c=a.createRadialGradient(u,n+110,n-100,u,n+110,n+100);s(c,o,i,undefined,8,.4);a.save();a.translate(-r*.5,0);a.scale(2,1);a.fillStyle=c;a.fillRect(0,0,r,n);a.restore()},t=typeof navigator!=="undefined",n=500,i=200,g=t&&document.createElement("canvas"),E=t&&document.createElement("canvas"),b=t&&document.createElement("canvas");if(t){e(g,n,i,[40,40,40],.85);e(E,n,i,[196,78,71],1);e(b,n,i,[54,151,99],1)}var _=function e(n,o){return new T(function(e,t){var r=new Image;if(typeof crossOrigin==="string"){r.crossOrigin=o}r.onload=function(){e(r)};r.onerror=function(e){t(e)};r.src=n})},a=function e(i){var a=f(i);var t=function e(t){var n=t.root,r=t.props;var o=r.id;var i=n.query("GET_ITEM",o);if(!i)return;var a=i.getMetadata("poster");var u=function e(t){var r=n.query("GET_FILE_POSTER_CALCULATE_AVERAGE_IMAGE_COLOR")?y(t):null;i.setMetadata("color",r,true);n.dispatch("DID_FILE_POSTER_LOAD",{id:o,data:t})};p(a,function(e,t){n.dispatch("DID_FILE_POSTER_CALCULATE_SIZE",{id:o,width:e,height:t});_(a,n.query("GET_FILE_POSTER_CROSS_ORIGIN_ATTRIBUTE_VALUE")).then(u)})};var r=function e(t){var r=t.root;r.ref.overlayShadow.opacity=1};var n=function e(t){var r=t.root;var n=r.ref.image;n.scaleX=1;n.scaleY=1;n.opacity=1};var o=function e(t){var r=t.root;r.ref.overlayShadow.opacity=1;r.ref.overlayError.opacity=0;r.ref.overlaySuccess.opacity=0};var u=function e(t){var r=t.root;r.ref.overlayShadow.opacity=.25;r.ref.overlayError.opacity=1};var c=function e(t){var r=t.root;r.ref.overlayShadow.opacity=.25;r.ref.overlaySuccess.opacity=1};var s=function e(t){var r=t.root,n=t.props;var o=l(i);r.ref.image=r.appendChildView(r.createChildView(o,{id:n.id,scaleX:1.25,scaleY:1.25,opacity:0}));r.ref.overlayShadow=r.appendChildView(r.createChildView(a,{template:g,opacity:0}));r.ref.overlaySuccess=r.appendChildView(r.createChildView(a,{template:b,opacity:0}));r.ref.overlayError=r.appendChildView(r.createChildView(a,{template:E,opacity:0}))};return i.utils.createView({name:"file-poster-wrapper",create:s,write:i.utils.createRoute({DID_FILE_POSTER_LOAD:r,DID_FILE_POSTER_DRAW:n,DID_FILE_POSTER_CONTAINER_CREATE:t,DID_THROW_ITEM_LOAD_ERROR:u,DID_THROW_ITEM_PROCESSING_ERROR:u,DID_THROW_ITEM_INVALID:u,DID_COMPLETE_ITEM_PROCESSING:c,DID_START_ITEM_PROCESSING:o,DID_REVERT_ITEM_PROCESSING:o})})},u=function e(t){var r=t.addFilter,n=t.utils;var o=n.Type,s=n.createRoute;var l=a(t);r("CREATE_VIEW",function(e){var t=e.is,i=e.view,a=e.query;if(!t("file")||!a("GET_ALLOW_FILE_POSTER"))return;var r=function e(t){var r=t.root,n=t.props;u(r,n)};var n=function e(t){var r=t.root,n=t.props,o=t.action;if(!/poster/.test(o.change.key))return;u(r,n)};var u=function e(t,r){var n=r.id;var o=a("GET_ITEM",n);if(!o||!o.getMetadata("poster")||o.archived)return;if(!a("GET_FILE_POSTER_FILTER_ITEM")(o))return;if(t.ref.filePoster){i.removeChildView(t.ref.filePoster)}t.ref.filePoster=i.appendChildView(i.createChildView(l,{id:n}));t.dispatch("DID_FILE_POSTER_CONTAINER_CREATE",{id:n})};var o=function e(t){var r=t.root,n=t.action;if(!r.ref.filePoster)return;r.ref.imageWidth=n.width;r.ref.imageHeight=n.height;r.ref.shouldUpdatePanelHeight=true;r.dispatch("KICK")};var c=function e(t){var r=t.root;var n=r.query("GET_FILE_POSTER_HEIGHT");if(n){return n}var o=r.query("GET_FILE_POSTER_MIN_HEIGHT");var i=r.query("GET_FILE_POSTER_MAX_HEIGHT");if(o&&r.ref.imageHeight<o){return o}var a=r.rect.element.width*(r.ref.imageHeight/r.ref.imageWidth);if(o&&a<o){return o}if(i&&a>i){return i}return a};i.registerWriter(s({DID_LOAD_ITEM:r,DID_FILE_POSTER_CALCULATE_SIZE:o,DID_UPDATE_ITEM_METADATA:n},function(e){var t=e.root,r=e.props;if(!t.ref.filePoster)return;if(t.rect.element.hidden)return;if(t.ref.shouldUpdatePanelHeight){t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:r.id,height:c({root:t})});t.ref.shouldUpdatePanelHeight=false}}))});return{options:{allowFilePoster:[true,o.BOOLEAN],filePosterHeight:[null,o.INT],filePosterMinHeight:[null,o.INT],filePosterMaxHeight:[null,o.INT],filePosterFilterItem:[function(){return true},o.FUNCTION],filePosterCalculateAverageImageColor:[false,o.BOOLEAN],filePosterCrossOriginAttributeValue:["Anonymous",o.STRING]}}},c;if(typeof window!=="undefined"&&typeof window.document!=="undefined"){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:u}))}return u}()}).call(this,r(15))},,,,function(e,t,r){function n(d){var v=1==d,h=2==d,y=3==d,m=4==d,g=6==d,E=5==d||g;return function(e,t,r,n){for(var o,i,a=T(e),u=_(a),c=b(t,r,3),s=O(u.length),l=0,f=n||w,p=v?f(e,s):h?f(e,0):void 0;l<s;l++)if((E||l in u)&&(i=c(o=u[l],l,a),d))if(v)p[l]=i;else if(i)switch(d){case 3:return!0;case 5:return o;case 6:return l;case 2:I.call(p,o)}else if(m)return!1;return g?-1:y||m?m:p}}var b=r(45),_=r(41),T=r(86),O=r(44),w=r(87),I=[].push;e.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6)}},function(e,t,r){r(90);var n=r(40);e.exports=n("Array","findIndex")},,,,function(e,t,r){var n=r(43);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(10),o=r(88),i=r(46)("species");e.exports=function(e,t){var r;return o(e)&&("function"==typeof(r=e.constructor)&&(r===Array||o(r.prototype))||n(r)&&null===(r=r[i]))&&(r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},function(e,t,r){var n=r(42);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){},function(e,t,r){"use strict";var n=r(37),o=r(81).findIndex,i=r(38),a=r(39),u="findIndex",c=!0,s=a(u);u in[]&&Array(1)[u](function(){c=!1}),n({target:"Array",proto:!0,forced:c||!s},{findIndex:function(e,t){return o(this,e,1<arguments.length?t:void 0)}}),i(u)},function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return h}),r.d(t,"ModalPopup",function(){return h});r(11),r(82);var n=r(2),o=r.n(n),i=r(6),a=r.n(i),u=(r(101),r(0));function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function l(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach(function(e){var t,r,n;t=o,n=i[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=v(i);return t=a?(e=v(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==c(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,u["a"]);var e,t,r,n=d(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,{})).state={width:300,height:200,title:"Titel",text:"Tekst",buttonAction:function(){return alert("Knop actie")},buttonText:"Knop tekst",cancelText:"Annuleren"},t}return e=o,(t=[{key:"componentDidMount",value:function(){var t=this;t.showModalPopupListener=function(e){t.showModalPopup(e.detail)},document.addEventListener("osc-show-modal-popup",t.showModalPopupListener),document.body.appendChild(this.instance)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-show-modal-popup",this.showModalPopupListener)}},{key:"showModalPopup",value:function(e){var t=this;t.setState(l({},e),function(){t.instance.style.display="block"})}},{key:"hideModalPopup",value:function(){this.instance.style.display="none"}},{key:"render",value:function(){var t=this,e=(e=t.state.content||null)||React.createElement("div",{className:"osc-modal-popup-content"},React.createElement("div",{className:"osc-modal-popup-header"},t.state.title),React.createElement("div",{className:"osc-modal-popup-text"},t.state.text),React.createElement("div",{className:"osc-modal-popup-buttons"},React.createElement("button",{onClick:t.state.buttonAction,className:"osc-button-blue"},t.state.buttonText),React.createElement("button",{onClick:function(){return t.hideModalPopup()},className:"osc-button-white"},"Annuleren")));return React.createElement("div",{id:"osc-modal-popup-container",ref:function(e){return t.instance=e}},React.createElement("div",{id:"osc-modal-popup",style:{top:"calc(50% - ( ".concat(t.state.height2," / 2 )px)"),left:"calc(50% - ( ".concat(t.state.width," / 2 )px)"),width:t.state.width,height:t.state.height}},e,React.createElement("div",{className:"osc-close-button",onClick:function(){return t.hideModalPopup()}})))}}])&&f(e.prototype,t),r&&f(e,r),o}();h.renderElement=function(e,t){var r=e.attributes;a.a.render(o.a.createElement(h,{attributes:r,config:t}),e)}},,function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return F}),r.d(t,"Reactions",function(){return F});r(11);var n=r(2),o=r.n(n),i=r(6),a=r.n(i),u=(r(110),r(0)),p=r(1),c=r(5);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=v(i);return t=a?(e=v(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,u["a"]);var e,t,r,n=d(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,{argumentId:null,api:{url:null,headers:null},user:{},descriptionMinLength:30,descriptionMaxLength:500,requiredUserRole:"member",formIntro:"",placeholder:""})).config.loginUrl=t.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),t.state={description:t.config.description||"",isValid:!1,isBusy:!1},t}return e=o,(t=[{key:"handleOnChange",value:function(e){(e=e||{}).description&&(e.isValid=this.description.isValid()),this.setState(e)}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.props.user||{};return p.a.user.hasRole(t,e)}},{key:"submitForm",value:function(){var o=this;o.setState({isBusy:!0},function(){if(o.description.validate({showWarning:!0})){if(!o.canSubmit())return alert("Je bent niet ingelogd");var e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/idea/").concat(o.config.ideaId,"/argument").concat(o.config.argumentId?"/".concat(o.config.argumentId):""),t=p.a.api.getHeaders(o.config),r=o.config.argumentId?"PUT":"POST",n={parentId:o.config.parentId,sentiment:o.config.sentiment,description:o.state.description};fetch(e,{method:r,headers:t,body:JSON.stringify(n)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(r){"function"==typeof o.config.onSubmit&&o.config.onSubmit({description:o.state.description}),o.setState({description:"",isBusy:!1,isValid:!1},function(){var e,t;o.description.handleOnChange({value:""}),o.config.argumentId?(e=new CustomEvent("osc-reaction-edited",{detail:r}),document.dispatchEvent(e)):(t=new CustomEvent("osc-new-reaction-stored",{detail:r}),document.dispatchEvent(t))})}).catch(function(e){e.then(function(e){return alert(e),console.log(e)}),o.setState({isBusy:!1,isValid:!1})})}else o.setState({isBusy:!1,isValid:!1})})}},{key:"render",value:function(){var t=this,e={descriptionMinLength:t.config.descriptionMinLength||30,descriptionMaxLength:t.config.descriptionMaxLength||500},r=null;t.config.formIntro&&(r=React.createElement("div",{className:"osc-intro"},t.config.formIntro));var n=null,o=null,o=t.canSubmit()?(n=React.createElement(c.a.InputWithCounter,{config:{inputType:"textarea",minLength:e.descriptionMinLength,maxLength:e.descriptionMaxLength,placeholder:t.config.placeholder},value:t.state.description,onChange:function(e){return t.handleOnChange({description:e.value})},ref:function(e){return t.description=e}}),React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(){t.state.isBusy||t.submitForm()},className:"osc-button-blue".concat(!t.state.isValid||t.state.isBusy?" osc-disabled":"")},"Verzenden"))):(n=React.createElement("div",{style:{position:"relative"}},React.createElement(c.a.InputWithCounter,{disabled:!0,config:{inputType:"textarea",minLength:e.descriptionMinLength,maxLength:e.descriptionMaxLength,placeholder:t.config.placeholder},value:t.state.description,ref:function(e){return t.description=e}}),React.createElement("div",{onClick:function(){return t.config.showNotLoggedInPopup()},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})),React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(){p.a.localStorage.set("osc-login-pending-scroll-to-reactions",!0),p.a.localStorage.set("osc-login-pending-show-details",t.config.ideaId),document.location.href=t.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen")));return React.createElement("div",{id:t.divId,className:""},r,n,o)}}])&&l(e.prototype,t),r&&l(e,r),o}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function g(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach(function(e){var t,r,n;t=o,n=i[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=T(i);return t=a?(e=T(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==y(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(f,u["a"]);var e,t,r,n=_(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=n.call(this,e,{siteId:null,ideaId:null,title:null,descriptionMinLength:30,descriptionMaxLength:500,api:{url:null,headers:null},requiredUserRole:"member"})).state={user:e.user,isMenuActive:!1,isReplyFromActive:!1,editMode:!1},t}return e=f,(t=[{key:"componentDidMount",value:function(){var t=this;t.newReactionStoredListener=function(e){t.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",t.newReactionStoredListener),t.reactionEditedListener=function(e){t.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",t.reactionEditedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener)}},{key:"showMenu",value:function(){this.setState({isMenuActive:!0})}},{key:"toggleReplyForm",value:function(){this.setState({isReplyFromActive:!this.state.isReplyFromActive})}},{key:"toggleEditForm",value:function(){this.setState({editMode:!this.state.editMode})}},{key:"canEdit",value:function(){return this.props.data.can.edit}},{key:"canDelete",value:function(){return this.props.data.can.delete}},{key:"canLike",value:function(){if(this.config.isClosed)return!1;var e=this.config.requiredUserRole,t=this.props.user&&this.props.user.role;return"anonymous"==e&&t||"member"==e&&("member"==t||"editor"==t||"moderator"==t||"admin"==t)||"editor"==e&&("editor"==t||"moderator"==t||"admin"==t)||"moderator"==e&&("moderator"==t||"admin"==t)||"admin"==e&&"admin"==t}},{key:"canReply",value:function(){return this.props.data.can.reply}},{key:"submitDelete",value:function(){var r=this;if(!r.canDelete())return alert("U kunt deze reactie niet verwijderen");var e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/idea/").concat(r.config.ideaId,"/argument/").concat(r.props.data.id),t=p.a.api.getHeaders(r.config);fetch(e,{method:"DELETE",headers:t,body:JSON.stringify({})}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){r.setState({isDeleted:!0});var t=new CustomEvent("osc-reaction-deleted",{detail:{ideaId:r.config.ideaId}});document.dispatchEvent(t)}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"submitLike",value:function(){var t=this;if(!t.canLike())return t.config.showNotLoggedInPopup();var e="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/argument/").concat(t.props.data.id,"/vote"),r=p.a.api.getHeaders(t.config);fetch(e,{method:"POST",headers:r,body:JSON.stringify({})}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){t.setState({yes:e.yes,hasUserVoted:e.hasUserVoted})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"onNewReactionStored",value:function(){this.setState({isMenuActive:!1,isReplyFromActive:!1})}},{key:"onReactionEdited",value:function(e){e.id==this.props.data.id&&this.setState({editMode:!1,isMenuActive:!1})}},{key:"render",value:function(){var r=this,e=r.props.data||{can:{}};if(e.isDeleted)return null;var t=p.a.user.hasRole(e.user,"editor")?"osc-is-admin":"",n=React.createElement("div",{className:"osc-reaction-user ".concat(t)},e.user.nickName||e.user.fullName||"".concat(e.user.firstName," ").concat(e.user.lastName)),o=null;r.canEdit()&&r.canDelete()&&(o=React.createElement("div",{className:"osc-reaction-menu".concat(r.state.isMenuActive?" osc-reaction-hamburger-active":""),onClick:function(){r.showMenu()}},React.createElement("a",{className:"osc-reaction-delete",title:"Argument verwijderen",onClick:function(){confirm("Weet je het zeker?")&&r.submitDelete()}}),React.createElement("a",{className:"osc-reaction-edit",title:"Argument bewerken",onClick:function(){return r.toggleEditForm()}})));var i=React.createElement("div",{className:"osc-reaction-description"},e.description);r.state.editMode&&(i=React.createElement("div",{className:"osc-reaction-description"},React.createElement(h,{config:g(g({},r.config),{},{description:e.description,argumentId:e.id}),user:r.state.user,ref:function(e){return r.editForm=e}})));var a=null;e.parentId||(a=React.createElement("a",{className:"osc-reaction-like-button".concat((void 0!==r.state.hasUserVoted?r.state.hasUserVoted:e.hasUserVoted)?" osc-reaction-like-button-hasvoted":""),onClick:function(){return r.submitLike()}},"Mee eens (",React.createElement("span",null,0|(void 0!==r.state.yes?r.state.yes:e.yes)),")"));var u,c=null,s=null;r.canReply()&&!r.config.isClosed&&(c=React.createElement("a",{onClick:function(){return r.toggleReplyForm()},className:"osc-reply-button"},"Reageren"),r.state.isReplyFromActive&&((u=g(g({},r.config),{},{parentId:e.id})).formIntro="",s=React.createElement("div",{id:"osc-reaction-".concat(e.id),className:"osc-reply"},React.createElement(h,{config:u,user:r.state.user,ref:function(e){return r.editForm=e}}))));var l=null;return e.reactions&&e.reactions.length&&(l=React.createElement("ul",{className:"osc-reactions-list"},e.reactions.map(function(e){var t="osc-reaction-key-".concat(e.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:t},React.createElement(f,{config:r.config,className:"osc-reply",user:r.state.user,data:e}))}))),React.createElement("div",null,React.createElement("div",{id:"osc-reaction-".concat(e.id),className:r.props.className||"osc-reaction"},o,n,React.createElement("div",{className:"osc-reaction-date"},e.createDateHumanized),i,a,c),s,l)}}])&&E(e.prototype,t),r&&E(e,r),f}(),w=r(91);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=D(i);return t=a?(e=D(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==I(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,u["a"]);var e,t,r,n=P(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.call(this,e,{loginUrl:""})}return e=o,(t=[{key:"showPopup",value:function(){var e=this,t=this,r=new window.CustomEvent("osc-show-modal-popup",{detail:{title:"Login om verder te gaan",text:"Login om een argument te plaatsen, te reageren of een argument te liken",buttonAction:function(){p.a.localStorage.set("osc-login-pending-scroll-to-reactions",!0),p.a.localStorage.set("osc-login-pending-show-details",t.config.ideaId),document.location.href=e.config.loginUrl},buttonText:"Inloggen"}});document.dispatchEvent(r)}},{key:"render",value:function(){return React.createElement(w.default,{ref:function(e){return self.modalPopup=e}})}}])&&R(e.prototype,t),r&&R(e,r),o}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function M(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?L(Object(i),!0).forEach(function(e){var t,r,n;t=o,n=i[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=G(i);return t=a?(e=G(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==C(n)&&"function"!=typeof n?k(r):n}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(o,u["a"]);var e,t,r,n=j(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,{scrollToNewReaction:!0,isClosed:!1,closedText:"De reactiemogelijkheid is gesloten",sentiment:void 0,siteId:null,ideaId:null,title:null,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",placeholder:"",formIntro:""})).showNotLoggedInPopup=t.showNotLoggedInPopup.bind(k(t)),t.state={user:t.config.user,reactions:[]},t}return e=o,(t=[{key:"componentDidMount",value:function(){var r=this;r.state.user&&r.state.user.role?r.fetchData():p.a.user.getUser({user:r.config.user,jwt:r.config.jwt,siteId:r.config.siteId,api:r.config.api},function(e,t){r.setState({user:t},function(){r.fetchData()})}),r.newReactionStoredListener=function(e){r.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",r.newReactionStoredListener),r.reactionEditedListener=function(e){r.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",r.reactionEditedListener),r.reactionDeletedListener=function(e){r.onReactionDeleted(e.detail)},document.addEventListener("osc-reaction-deleted",r.reactionDeletedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener),document.removeEventListener("osc-reaction-deleted",this.reactionDeletedListener)}},{key:"fetchData",value:function(r){var n=this,e="".concat(n.config.api&&n.config.api.url,"/api/site/").concat(n.config.siteId,"/idea/").concat(n.config.ideaId,"/argument?sentiment=").concat(n.config.sentiment,"&withUser=1&withUserVote=1&withVoteCount=1&includeReactionsOnReactions=1"),t=p.a.api.getHeaders(n.config);fetch(e,{headers:t}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=M({},n.state);t.reactions=e,t.reactions.sort(function(e,t){return e.createdAt<t.createdAt}),n.setState(t,function(){if(r)return r()})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"onNewReactionStored",value:function(e){var t=this;this.fetchData(function(){t.config.scrollToNewReaction&&document.getElementById("osc-reaction-".concat(e.id))&&document.getElementById("osc-reaction-".concat(e.id)).scrollIntoView()})}},{key:"onReactionEdited",value:function(){this.fetchData()}},{key:"onReactionDeleted",value:function(){this.fetchData()}},{key:"userIsModerator",value:function(){return p.a.user.hasRole(this.config.user,"moderator")}},{key:"showNotLoggedInPopup",value:function(){this.notLoggedInPopup.showPopup()}},{key:"render",value:function(){var t=this,r=this,e=React.createElement("ul",{className:"osc-reactions-list"},r.state.reactions.map(function(e){var t="osc-reaction-key-".concat(e.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:t},React.createElement(O,{config:M(M({},r.config),{},{showNotLoggedInPopup:r.showNotLoggedInPopup}),user:r.state.user,data:M({},e)}))})),n=r.config.title?React.createElement("h3",null,r.config.title):null,o=React.createElement(h,{config:M(M({},r.config),{},{showNotLoggedInPopup:r.showNotLoggedInPopup}),user:r.state.user});return r.config.isClosed&&!r.userIsModerator()&&(o=r.config.closedText?React.createElement("div",{className:"osc-closed-text"},r.config.closedText):null),React.createElement("div",{id:this.id,className:r.props.className||"osc-reactions",ref:function(e){t.instance=e}},React.createElement(A,{config:r.config,ref:function(e){return r.notLoggedInPopup=e}}),n,o,e,React.createElement("br",null),React.createElement("br",null))}}])&&N(e.prototype,t),r&&N(e,r),o}();F.renderElement=function(e,t){var r=e.attributes;a.a.render(o.a.createElement(F,{attributes:r,config:t}),e)}},,function(e,t,r){},function(e,t,r){(function(Hu){!function(o){"use strict";var t=function e(t){return t instanceof HTMLElement},M=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var o=Object.assign({},t);var i=[];var a=[];var u=function e(){return Object.assign({},o)};var c=function e(){var t=[].concat(i);i.length=0;return t};var s=function e(){var t=[].concat(a);a.length=0;t.forEach(function(e){var t=e.type,r=e.data;l(t,r)})};var l=function e(t,r,n){if(n&&!document.hidden){a.push({type:t,data:r});return}if(v[t]){v[t](r)}i.push({type:t,data:r})};var f=function e(t){var r;for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++){o[i-1]=arguments[i]}return d[t]?(r=d)[t].apply(r,o):null};var p={getState:u,processActionQueue:c,processDispatchQueue:s,dispatch:l,query:f};var d={};r.forEach(function(e){d=Object.assign({},e(o),{},d)});var v={};n.forEach(function(e){v=Object.assign({},e(l,f,o),{},v)});return p},n=function e(t,r,n){if(typeof n==="function"){t[r]=n;return}Object.defineProperty(t,r,Object.assign({},n))},m=function e(t,r){for(var n in t){if(!t.hasOwnProperty(n)){continue}r(n,t[n])}},B=function e(t){var r={};m(t,function(e){n(r,e,t[e])});return r},s=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(n===null){return t.getAttribute(r)||t.hasAttribute(r)}t.setAttribute(r,n)},i="http://www.w3.org/2000/svg",r=["svg","path"],a=function e(t){return r.includes(t)},q=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(typeof r==="object"){n=r;r=null}var o=a(t)?document.createElementNS(i,t):document.createElement(t);if(r){if(a(t)){s(o,"class",r)}else{o.className=r}}m(n,function(e,t){s(o,e,t)});return o},z=function e(r){return function(e,t){if(typeof t!=="undefined"&&r.children[t]){r.insertBefore(e,r.children[t])}else{r.appendChild(e)}}},Y=function e(t,r){return function(e,t){if(typeof t!=="undefined"){r.splice(t,0,e)}else{r.push(e)}return e}},H=function e(t,r){return function(e){r.splice(r.indexOf(e),1);if(e.element.parentNode){t.removeChild(e.element)}return e}},u=function(){return typeof window!=="undefined"&&typeof window.document!=="undefined"}(),c=function e(){return u},e,W="children"in(c()?q("svg"):{})?function(e){return e.children.length}:function(e){return e.childNodes.length},X=function e(t,r,n,o){var i=n[0]||t.left;var a=n[1]||t.top;var u=i+t.width;var c=a+t.height*(o[1]||1);var s={element:Object.assign({},t),inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:i,top:a,right:u,bottom:c}};r.filter(function(e){return!e.isRectIgnored()}).map(function(e){return e.rect}).forEach(function(e){l(s.inner,Object.assign({},e.inner));l(s.outer,Object.assign({},e.outer))});f(s.inner);s.outer.bottom+=s.element.marginBottom;s.outer.right+=s.element.marginRight;f(s.outer);return s},l=function e(t,r){r.top+=t.top;r.right+=t.left;r.bottom+=t.top;r.left+=t.left;if(r.bottom>t.bottom){t.bottom=r.bottom}if(r.right>t.right){t.right=r.right}},f=function e(t){t.width=t.right-t.left;t.height=t.bottom-t.top},N=function e(t){return typeof t==="number"},h=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:.001;return Math.abs(t-r)<o&&Math.abs(n)<o},p,d=function e(t){return t},y=function e(t){return t<.5?2*t*t:-1+(4-2*t)*t},v,g={spring:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.stiffness,o=r===void 0?.5:r,n=t.damping,i=n===void 0?.75:n,a=t.mass,u=a===void 0?10:a;var c=null;var s=null;var l=0;var f=false;var p=function e(t,r){if(f)return;if(!(N(c)&&N(s))){f=true;l=0;return}var n=-(s-c)*o;l+=n/u;s+=l;l*=i;if(h(s,c,l)||r){s=c;l=0;f=true;v.onupdate(s);v.oncomplete(s)}else{v.onupdate(s)}};var d=function e(t){if(N(t)&&!N(s)){s=t}if(c===null){c=t;s=t}c=t;if(s===c||typeof c==="undefined"){f=true;l=0;v.onupdate(s);v.oncomplete(s);return}f=false};var v=B({interpolate:p,target:{set:d,get:function e(){return c}},resting:{get:function e(){return f}},onupdate:function e(t){},oncomplete:function e(t){}});return v},tween:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.duration,n=r===void 0?500:r,o=t.easing,i=o===void 0?y:o,a=t.delay,u=a===void 0?0:a;var c=null;var s;var l;var f=true;var p=false;var d=null;var v=function e(t,r){if(f||d===null)return;if(c===null){c=t}if(t-c<u)return;s=t-c-u;if(s>=n||r){s=1;l=p?0:1;h.onupdate(l*d);h.oncomplete(l*d);f=true}else{l=s/n;h.onupdate((s>=0?i(p?1-l:l):0)*d)}};var h=B({interpolate:v,target:{get:function e(){return p?0:d},set:function e(t){if(d===null){d=t;h.onupdate(t);h.oncomplete(t);return}if(t<d){d=1;p=true}else{p=false;d=t}f=false;c=null}},resting:{get:function e(){return f}},onupdate:function e(t){},oncomplete:function e(t){}});return h}},E=function e(t,r,n){var o=t[r]&&typeof t[r][n]==="object"?t[r][n]:t[r]||t;var i=typeof o==="string"?o:o.type;var a=typeof o==="object"?Object.assign({},o):{};return g[i]?g[i](a):null},b=function e(t,r,i){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;r=Array.isArray(r)?r:[r];r.forEach(function(o){t.forEach(function(r){var e=r;var t=function e(){return i[r]};var n=function e(t){return i[r]=t};if(typeof r==="object"){e=r.key;t=r.getter||t;n=r.setter||n}if(o[e]&&!a){return}o[e]={get:t,set:n}})})},_,T=function e(r){return function(e,t){r.addEventListener(e,t)}},O=function e(r){return function(e,t){r.removeEventListener(e,t)}},w,I,R=function e(t){return t!=null},S={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},P=function e(t){var r=t.mixinConfig,n=t.viewProps,o=t.viewInternalAPI,i=t.viewExternalAPI,a=t.view;var u=Object.assign({},n);var c={};b(r,[o,i],n);var s=function e(){return[n["translateX"]||0,n["translateY"]||0]};var l=function e(){return[n["scaleX"]||0,n["scaleY"]||0]};var f=function e(){return a.rect?X(a.rect,a.childViews,s(),l()):null};o.rect={get:f};i.rect={get:f};r.forEach(function(e){n[e]=typeof u[e]==="undefined"?S[e]:u[e]});return{write:function e(){if(!D(c,n)){return}A(a.element,n);Object.assign(c,Object.assign({},n));return true},destroy:function e(){}}},D=function e(t,r){if(Object.keys(t).length!==Object.keys(r).length){return true}for(var n in r){if(r[n]!==t[n]){return true}}return false},A=function e(t,r){var n=r.opacity,o=r.perspective,i=r.translateX,a=r.translateY,u=r.scaleX,c=r.scaleY,s=r.rotateX,l=r.rotateY,f=r.rotateZ,p=r.originX,d=r.originY,v=r.width,h=r.height;var y="";var m="";if(R(p)||R(d)){m+="transform-origin: "+(p||0)+"px "+(d||0)+"px;"}if(R(o)){y+="perspective("+o+"px) "}if(R(i)||R(a)){y+="translate3d("+(i||0)+"px, "+(a||0)+"px, 0) "}if(R(u)||R(c)){y+="scale3d("+(R(u)?u:1)+", "+(R(c)?c:1)+", 1) "}if(R(f)){y+="rotateZ("+f+"rad) "}if(R(s)){y+="rotateX("+s+"rad) "}if(R(l)){y+="rotateY("+l+"rad) "}if(y.length){m+="transform:"+y+";"}if(R(n)){m+="opacity:"+n+";";if(n===0){m+="visibility:hidden;"}if(n<1){m+="pointer-events:none;"}}if(R(h)){m+="height:"+h+"px;"}if(R(v)){m+="width:"+v+"px;"}var g=t.elementCurrentStyle||"";if(m.length!==g.length||m!==g){t.style.cssText=m;t.elementCurrentStyle=m}},Z={styles:P,listeners:function e(t){var r=t.mixinConfig,n=t.viewProps,o=t.viewInternalAPI,i=t.viewExternalAPI,a=t.viewState,u=t.view;var c=[];var s=T(u.element);var l=O(u.element);i.on=function(e,t){c.push({type:e,fn:t});s(e,t)};i.off=function(t,r){c.splice(c.findIndex(function(e){return e.type===t&&e.fn===r}),1);l(t,r)};return{write:function e(){return true},destroy:function e(){c.forEach(function(e){l(e.type,e.fn)})}}},animations:function o(e){var t=e.mixinConfig,i=e.viewProps,a=e.viewInternalAPI,u=e.viewExternalAPI;var c=Object.assign({},i);var o=[];m(t,function(t,e){var r=E(e);if(!r){return}r.onupdate=function(e){i[t]=e};r.target=c[t];var n={key:t,setter:function e(t){if(r.target===t){return}r.target=t},getter:function e(){return i[t]}};b([n],[a,u],i,true);o.push(r)});return{write:function e(t){var r=document.hidden;var n=true;o.forEach(function(e){if(!e.resting)n=false;e.interpolate(t,r)});return n},destroy:function e(){}}},apis:function e(t){var r=t.mixinConfig,n=t.viewProps,o=t.viewExternalAPI;b(r,o,n)}},K=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!r.layoutCalculated){t.paddingTop=parseInt(n.paddingTop,10)||0;t.marginTop=parseInt(n.marginTop,10)||0;t.marginRight=parseInt(n.marginRight,10)||0;t.marginBottom=parseInt(n.marginBottom,10)||0;t.marginLeft=parseInt(n.marginLeft,10)||0;r.layoutCalculated=true}t.left=r.offsetLeft||0;t.top=r.offsetTop||0;t.width=r.offsetWidth||0;t.height=r.offsetHeight||0;t.right=t.left+t.width;t.bottom=t.top+t.height;t.scrollTop=r.scrollTop;t.hidden=r.offsetParent===null;return t},C=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.tag,D=r===void 0?"div":r,n=t.name,A=n===void 0?null:n,o=t.attributes,C=o===void 0?{}:o,i=t.read,L=i===void 0?function(){}:i,a=t.write,M=a===void 0?function(){}:a,u=t.create,N=u===void 0?function(){}:u,c=t.destroy,x=c===void 0?function(){}:c,s=t.filterFrameActionsForChild,j=s===void 0?function(e,t){return t}:s,l=t.didCreateView,k=l===void 0?function(){}:l,f=t.didWriteView,G=f===void 0?function(){}:f,p=t.ignoreRect,F=p===void 0?false:p,d=t.ignoreRectUpdate,U=d===void 0?false:d,v=t.mixins,V=v===void 0?[]:v;return function(e){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=q(D,"filepond--"+A,C);var o=window.getComputedStyle(n,null);var i=K();var u=null;var t=false;var c=[];var s=[];var r={};var l={};var f=[M];var p=[L];var d=[x];var v=function e(){return n};var h=function e(){return c.concat()};var y=function e(){return r};var m=function e(r){return function(e,t){return e(r,t)}};var g=function e(){if(u){return u}u=X(i,c,[0,0],[1,1]);return u};var E=function e(){return o};var b=function e(){u=null;c.forEach(function(e){return e._read()});var t=!(U&&i.width&&i.height);if(t){K(i,n,o)}var r={root:S,props:a,rect:i};p.forEach(function(e){return e(r)})};var _=function e(r,n,o){var i=n.length===0;f.forEach(function(e){var t=e({props:a,root:S,actions:n,timestamp:r,shouldOptimize:o});if(t===false){i=false}});s.forEach(function(e){var t=e.write(r);if(t===false){i=false}});c.filter(function(e){return!!e.element.parentNode}).forEach(function(e){var t=e._write(r,j(e,n),o);if(!t){i=false}});c.forEach(function(e,t){if(e.element.parentNode){return}S.appendChild(e.element,t);e._read();e._write(r,j(e,n),o);i=false});t=i;G({props:a,root:S,actions:n,timestamp:r});return i};var T=function e(){s.forEach(function(e){return e.destroy()});d.forEach(function(e){e({root:S,props:a})});c.forEach(function(e){return e._destroy()})};var O={element:{get:v},style:{get:E},childViews:{get:h}};var w=Object.assign({},O,{rect:{get:g},ref:{get:y},is:function e(t){return A===t},appendChild:z(n),createChildView:m(e),linkView:function e(t){c.push(t);return t},unlinkView:function e(t){c.splice(c.indexOf(t),1)},appendChildView:Y(n,c),removeChildView:H(n,c),registerWriter:function e(t){return f.push(t)},registerReader:function e(t){return p.push(t)},registerDestroyer:function e(t){return d.push(t)},invalidateLayout:function e(){return n.layoutCalculated=false},dispatch:e.dispatch,query:e.query});var I={element:{get:v},childViews:{get:h},rect:{get:g},resting:{get:function e(){return t}},isRectIgnored:function e(){return F},_read:b,_write:_,_destroy:T};var R=Object.assign({},O,{rect:{get:function e(){return i}}});Object.keys(V).sort(function(e,t){if(e==="styles"){return 1}else if(t==="styles"){return-1}return 0}).forEach(function(e){var t=Z[e]({mixinConfig:V[e],viewProps:a,viewState:l,viewInternalAPI:w,viewExternalAPI:I,view:B(R)});if(t){s.push(t)}});var S=B(w);N({root:S,props:a});var P=W(n);c.forEach(function(e,t){S.appendChild(e.element,P+t)});k(S);return B(I)}},L=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:60;var o="__framePainter";if(window[o]){window[o].readers.push(t);window[o].writers.push(r);return}window[o]={readers:[t],writers:[r]};var i=window[o];var a=1e3/n;var u=null;var c=null;var s=null;var l=null;var f=function e(){if(document.hidden){s=function e(){return window.setTimeout(function(){return p(performance.now())},a)};l=function e(){return window.clearTimeout(c)}}else{s=function e(){return window.requestAnimationFrame(p)};l=function e(){return window.cancelAnimationFrame(c)}}};document.addEventListener("visibilitychange",function(){if(l)l();f();p(performance.now())});var p=function e(t){c=s(e);if(!u){u=t}var r=t-u;if(r<=a){return}u=t-r%a;i.readers.forEach(function(e){return e()});i.writers.forEach(function(e){return e(t)})};f();p(performance.now());return{pause:function e(){l(c)}}},x=function e(u,c){return function(e){var t=e.root,r=e.props,n=e.actions,o=n===void 0?[]:n,i=e.timestamp,a=e.shouldOptimize;o.filter(function(e){return u[e.type]}).forEach(function(e){return u[e.type]({root:t,props:r,action:e.data,timestamp:i,shouldOptimize:a})});if(c){c({root:t,props:r,actions:o,timestamp:i,shouldOptimize:a})}}},j=function e(t,r){return r.parentNode.insertBefore(t,r)},k=function e(t,r){return r.parentNode.insertBefore(t,r.nextSibling)},G=function e(t){return Array.isArray(t)},U=function e(t){return t==null},F=function e(t){return t.trim()},V=function e(t){return""+t},Q,$=function e(t){return typeof t==="boolean"},J=function e(t){return $(t)?t:t==="true"},ee=function e(t){return typeof t==="string"},te=function e(t){return N(t)?t:ee(t)?V(t).replace(/[a-z]+/gi,""):0},re=function e(t){return parseInt(te(t),10)},ne=function e(t){return parseFloat(te(t))},oe=function e(t){return N(t)&&isFinite(t)&&Math.floor(t)===t},ie=function e(t){if(oe(t)){return t}var r=V(t).trim();if(/MB$/i.test(r)){r=r.replace(/MB$i/,"").trim();return re(r)*1e3*1e3}if(/KB/i.test(r)){r=r.replace(/KB$i/,"").trim();return re(r)*1e3}return re(r)},ae=function e(t){return typeof t==="function"},ue=function e(t){var r=self;var n=t.split(".");var o=null;while(o=n.shift()){r=r[o];if(!r){return null}}return r},ce={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},se=function e(t){var r={};r.url=ee(t)?t:t.url||"";r.timeout=t.timeout?parseInt(t.timeout,10):0;r.headers=t.headers?t.headers:{};m(ce,function(e){r[e]=le(e,t[e],ce[e],r.timeout,r.headers)});r.remove=t.remove||null;delete r.headers;return r},le=function e(t,r,n,o,i){if(r===null){return null}if(typeof r==="function"){return r}var a={url:n==="GET"||n==="PATCH"?"?"+t+"=":"",method:n,headers:i,withCredentials:false,timeout:o,onload:null,ondata:null,onerror:null};if(ee(r)){a.url=r;return a}Object.assign(a,r);if(ee(a.headers)){var u=a.headers.split(/:(.+)/);a.headers={header:u[0],value:u[1]}}a.withCredentials=J(a.withCredentials);return a},fe,pe=function e(t){return t===null},de=function e(t){return typeof t==="object"&&t!==null},ve=function e(t){return de(t)&&ee(t.url)&&de(t.process)&&de(t.revert)&&de(t.restore)&&de(t.fetch)},he=function e(t){if(G(t)){return"array"}if(pe(t)){return"null"}if(oe(t)){return"int"}if(/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)){return"bytes"}if(ve(t)){return"api"}return typeof t},ye=function e(t){return t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},me={array:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:",";if(U(t)){return[]}if(G(t)){return t}return V(t).split(r).map(F).filter(function(e){return e.length})},boolean:J,int:function e(t){return he(t)==="bytes"?ie(t):re(t)},number:ne,float:ne,bytes:ie,string:function e(t){return ae(t)?t:V(t)},function:function e(t){return ue(t)},serverapi:function e(t){return se(t)},object:function e(t){try{return JSON.parse(ye(t))}catch(e){return null}}},ge=function e(t,r){return me[r](t)},Ee=function e(t,r,n){if(t===r){return t}var o=he(t);if(o!==n){var i=ge(t,n);o=he(i);if(i===null){throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"'}else{t=i}}return t},be=function e(r,n){var o=r;return{enumerable:true,get:function e(){return o},set:function e(t){o=Ee(t,r,n)}}},_e=function e(r){var n={};m(r,function(e){var t=r[e];n[e]=be(t[0],t[1])});return B(n)},Te=function e(t){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:_e(t)}},Oe=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"-";return t.split(/(?=[A-Z])/).map(function(e){return e.toLowerCase()}).join(r)},we=function e(n,t){var o={};m(t,function(r){o[r]={get:function e(){return n.getState().options[r]},set:function e(t){n.dispatch("SET_"+Oe(r,"_").toUpperCase(),{value:t})}}});return o},Ie=function e(t){return function(n,e,o){var i={};m(t,function(t){var r=Oe(t,"_").toUpperCase();i["SET_"+r]=function(e){try{o.options[t]=e.value}catch(e){}n("DID_SET_"+r,{value:o.options[t]})}});return i}},Re=function e(t){return function(r){var e={};m(t,function(t){e["GET_"+Oe(t,"_").toUpperCase()]=function(e){return r.options[t]}});return e}},Se={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Pe=function e(){return Math.random().toString(36).substr(2,9)},De;function Ae(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){(function(e){return typeof e})}else{(function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})}return Ae(e)}function Ce(e,t,r,n){if(!De){typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103}var o=e&&e.defaultProps;var i=arguments.length-3;if(!t&&i!==0){({children:void 0})}if(t&&o){for(var a in o){if(t[a]===void 0){t[a]=o[a]}}}else if(!t){o||{}}if(i===1){t.children=n}else if(i>1){var u=new Array(i);for(var c=0;c<i;c++){u[c]=arguments[c+3]}t.children=u}return{$$typeof:De,type:e,key:r===undefined?null:""+r,ref:null,props:t,_owner:null}}function Le(e){var t;if(typeof Symbol!=="undefined"){if(Symbol.asyncIterator){e[Symbol.asyncIterator];if(t!=null)return t.call(e)}if(Symbol.iterator){e[Symbol.iterator];if(t!=null)return t.call(e)}}throw new TypeError("Object is not async iterable")}function Me(e){this.wrapped=e}function Ne(i){var a,u;function e(n,o){return new Hu(function(e,t){var r={key:n,arg:o,resolve:e,reject:t,next:null};if(u){u=u.next=r}else{a=u=r;c(n,o)}})}function c(e,t){try{var r=i[e](t);var n=r.value;var o=n instanceof Me;Hu.resolve(o?n.wrapped:n).then(function(e){if(o){c("next",e);return}s(r.done?"return":"normal",e)},function(e){c("throw",e)})}catch(e){s("throw",e)}}function s(e,t){switch(e){case"return":a.resolve({value:t,done:true});break;case"throw":a.reject(t);break;default:a.resolve({value:t,done:false});break}a=a.next;if(a){c(a.key,a.arg)}else{u=null}}this._invoke=e;if(typeof i.return!=="function"){this.return=undefined}}if(typeof Symbol==="function"&&Symbol.asyncIterator){Ne.prototype[Symbol.asyncIterator]=function(){return this}}function xe(e){return function(){return new Ne(e.apply(this,arguments))}}function je(e){return new Me(e)}function ke(n,e){var t={},r=false;function o(t,r){true;new Hu(function(e){e(n[t](r))});return{done:false,value:e(r)}}if(typeof Symbol==="function"&&Symbol.iterator){t[Symbol.iterator]=function(){return this}}t.next=function(e){if(r){false;return e}return o("next",e)};if(typeof n.throw==="function"){t.throw=function(e){if(r){false;throw e}return o("throw",e)}}if(typeof n.return==="function"){t.return=function(e){return o("return",e)}}return t}function Ge(e,t,r,n,o,i,a){try{var u=e[i](a);var c=u.value}catch(e){r(e);return}if(u.done){t(c)}else{Hu.resolve(c).then(n,o)}}function Fe(u){return function(){var e=this,a=arguments;return new Hu(function(t,r){var n=u.apply(e,a);function o(e){Ge(n,t,r,o,i,"next",e)}function i(e){Ge(n,t,r,o,i,"throw",e)}o(undefined)})}}function Ue(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function Ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function Be(e,t,r){if(t)Ve(e.prototype,t);if(r)Ve(e,r);return e}function qe(e,t){for(var r in t){var n=t[r];n.configurable=n.enumerable=true;if("value"in n)n.writable=true;Object.defineProperty(e,r,n)}if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(var i=0;i<o.length;i++){var a=o[i];var n=t[a];n.configurable=n.enumerable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a,n)}}return e}function ze(e,t){var r=Object.getOwnPropertyNames(t);for(var n=0;n<r.length;n++){var o=r[n];var i=Object.getOwnPropertyDescriptor(t,o);if(i&&i.configurable&&e[o]===undefined){Object.defineProperty(e,o,i)}}return e}function Ye(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function He(){Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return He.apply(this,arguments)}function We(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){Ye(t,e,r[e])})}return t}function Xe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable});r.push.apply(r,n)}return r}function Ze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){Xe(r,true).forEach(function(e){Ye(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{Xe(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function Ke(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)Je(e,t)}function Qe(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}function $e(e){Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return $e(e)}function Je(e,t){Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return Je(e,t)}function et(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function tt(e,t,r){if(et()){Reflect.construct}else{(function e(t,r,n){var o=[null];o.push.apply(o,r);var i=Function.bind.apply(t,o);var a=new i;if(n)Je(a,n.prototype);return a})}return tt.apply(null,arguments)}function rt(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function nt(e){var n=typeof Map==="function"?new Map:undefined;(function e(t){if(t===null||!rt(t))return t;if(typeof t!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof n!=="undefined"){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return tt(t,arguments,$e(this).constructor)}Object.create(t.prototype,{constructor:{value:r,enumerable:false,writable:true,configurable:true}});return Je(r,t)});return nt(e)}function ot(e,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return!!t[Symbol.hasInstance](e)}else{return e instanceof t}}function it(e){return e&&e.__esModule?e:{default:e}}function at(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function ut(e,t){if(e!==t){throw new TypeError("Cannot instantiate an arrow function")}}function ct(e){if(e==null)throw new TypeError("Cannot destructure undefined")}function st(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,i;for(i=0;i<n.length;i++){o=n[i];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function lt(e,t){if(e==null)return{};var r=st(e,t);var n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++){n=i[o];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function ft(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function pt(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return ft(e)}function dt(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){$e(e);if(e===null)break}return e}function vt(e,t,r){if(typeof Reflect!=="undefined"&&Reflect.get){Reflect.get}else{(function e(t,r,n){var o=dt(t,r);if(!o)return;var i=Object.getOwnPropertyDescriptor(o,r);if(i.get){return i.get.call(n)}return i.value})}return vt(e,t,r||e)}function ht(e,t,r,n){if(typeof Reflect!=="undefined"&&Reflect.set){Reflect.set}else{(function e(t,r,n,o){var i=dt(t,r);var a;if(i){Object.getOwnPropertyDescriptor(i,r);if(a.set){a.set.call(o,n);return true}else if(!a.writable){return false}}Object.getOwnPropertyDescriptor(o,r);if(a){if(!a.writable){return false}a.value=n;Object.defineProperty(o,r,a)}else{Ye(o,r,n)}return true})}return ht(e,t,r,n)}function yt(e,t,r,n,o){var i=ht(e,t,r,n||e);if(!i&&o){throw new Error("failed to set property")}return r}function mt(e,t){if(!t){e.slice(0)}return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function gt(e,t){if(!t){e.slice(0)}e.raw=t;return e}function Et(e,t){if(e===Tt){throw new ReferenceError(t+" is not defined - temporal dead zone")}else{return e}}function bt(e){throw new Error('"'+e+'" is read-only')}function _t(e){throw new Error('Class "'+e+'" cannot be referenced in computed property keys.')}Ne.prototype.next=function(e){return this._invoke("next",e)},Ne.prototype.throw=function(e){return this._invoke("throw",e)},Ne.prototype.return=function(e){return this._invoke("return",e)};var Tt={};function Ot(e,t){return Pt(e)||At(e,t)||Mt()}function wt(e,t){return Pt(e)||Ct(e,t)||Mt()}function It(e){return Pt(e)||Dt(e)||Mt()}function Rt(e){return St(e)||Dt(e)||Lt()}function St(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function Pt(e){if(Array.isArray(e))return e}function Dt(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function At(e,t){var r=[];var n=true;var o=false;var i=undefined;try{for(var a=e[Symbol.iterator](),u;!a.next().done;true){r.push(u.value);if(t&&r.length===t)break}}catch(e){true;e}finally{try{if(!n&&a["return"]!=null)a["return"]()}finally{if(o)throw i}}return r}function Ct(e,t){var r=[];for(var n=e[Symbol.iterator](),o;!n.next().done;){r.push(o.value);if(t&&r.length===t)break}return r}function Lt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Mt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Nt(t){return function(){var e=t.apply(this,arguments);e.next();return e}}function xt(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jt(e){var t=xt(e,"string");return typeof t==="symbol"?t:String(t)}function kt(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and set to use loose mode. "+"To use proposal-class-properties in spec mode with decorators, wait for "+"the next major version of decorators in stage 2.")}function Gt(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ft(r,n,e,t,o){var i={};Object.keys(t).forEach(function(e){i[e]=t[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i);if(o&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(o):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(r,n,i);null}return i}var Ut=0;function Vt(e){return"__private_"+Ut+++"_"+e}function Bt(e,t){if(!Object.prototype.hasOwnProperty.call(e,t)){throw new TypeError("attempted to use private field on non-instance")}return e}function qt(e,t){var r=t.get(e);if(!r){throw new TypeError("attempted to get private field on non-instance")}if(r.get){return r.get.call(e)}return r.value}function zt(e,t,r){var n=t.get(e);if(!n){throw new TypeError("attempted to set private field on non-instance")}if(n.set){n.set.call(e,r)}else{if(!n.writable){throw new TypeError("attempted to set read only private field")}n.value=r}return r}function Yt(t,e){if(!e.has(t)){throw new TypeError("attempted to set private field on non-instance")}var r=e.get(t);if(r.set){if(!("__destrObj"in r)){r.__destrObj={set value(e){r.set.call(t,e)}}}return r.__destrObj}else{if(!r.writable){throw new TypeError("attempted to set read only private field")}return r}}function Ht(e,t,r){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return r.value}function Wt(e,t,r,n){if(e!==t){throw new TypeError("Private static access of wrong provenance")}if(!r.writable){throw new TypeError("attempted to set read only private field")}r.value=n;return n}function Xt(e,t,r){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return r}function Zt(){throw new TypeError("attempted to set read only static private field")}function Kt(e,t,r,n){var o=Qt();if(n){for(var i=0;i<n.length;i++){n[i](o)}}var a=t(function e(t){o.initializeInstanceElements(t,u.elements)},r);var u=o.decorateClass(er(a.d.map($t)),e);o.initializeClassElements(a.F,u.elements);return o.runClassFinishers(a.F,u.finishers)}function Qt(){(function(){return e});var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(r,e){["method","field"].forEach(function(t){e.forEach(function(e){if(e.kind===t&&e.placement==="own"){this.defineClassElement(r,e)}},this)},this)},initializeClassElements:function(o,e){var i=o.prototype;["method","field"].forEach(function(n){e.forEach(function(e){var t=e.placement;if(e.kind===n&&(t==="static"||t==="prototype")){var r=t==="static"?o:i;this.defineClassElement(r,e)}},this)},this)},defineClassElement:function(e,t){var r=t.descriptor;if(t.kind==="field"){var n=t.initializer;({enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:n===void 0?void 0:n.call(e)})}Object.defineProperty(e,t.key,r)},decorateClass:function(e,t){var r=[];var n=[];var o={static:[],prototype:[],own:[]};e.forEach(function(e){this.addElementPlacement(e,o)},this);e.forEach(function(e){if(!tr(e))return r.push(e);var t=this.decorateElement(e,o);r.push(t.element);r.push.apply(r,t.extras);n.push.apply(n,t.finishers)},this);if(!t){return{elements:r,finishers:n}}var i=this.decorateConstructor(r,t);n.push.apply(n,i.finishers);i.finishers=n;return i},addElementPlacement:function(e,t,r){var n=t[e.placement];if(!r&&n.indexOf(e.key)!==-1){throw new TypeError("Duplicated element ("+e.key+")")}n.push(e.key)},decorateElement:function(e,t){var r=[];var n=[];for(var o=e.decorators,i=o.length-1;i>=0;i--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var u=this.fromElementDescriptor(e);var c=this.toElementFinisherExtras((0,o[i])(u)||u);c.element;this.addElementPlacement(e,t);if(c.finisher){n.push(c.finisher)}var s=c.extras;if(s){for(var l=0;l<s.length;l++){this.addElementPlacement(s[l],t)}r.push.apply(r,s)}}return{element:e,finishers:n,extras:r}},decorateConstructor:function(e,t){var r=[];for(var n=t.length-1;n>=0;n--){var o=this.fromClassDescriptor(e);var i=this.toClassDescriptor((0,t[n])(o)||o);if(i.finisher!==undefined){r.push(i.finisher)}if(i.elements!==undefined){i.elements;for(var a=0;a<e.length-1;a++){for(var u=a+1;u<e.length;u++){if(e[a].key===e[u].key&&e[a].placement===e[u].placement){throw new TypeError("Duplicated element ("+e[a].key+")")}}}}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};var r={value:"Descriptor",configurable:true};Object.defineProperty(t,Symbol.toStringTag,r);if(e.kind==="field")t.initializer=e.initializer;return t},toElementDescriptors:function(e){if(e===undefined)return;return It(e).map(function(e){var t=this.toElementDescriptor(e);this.disallowProperty(e,"finisher","An element descriptor");this.disallowProperty(e,"extras","An element descriptor");return t},this)},toElementDescriptor:function(e){var t=String(e.kind);if(t!=="method"&&t!=="field"){throw new TypeError('An element descriptor\'s .kind property must be either "method" or'+' "field", but a decorator created an element descriptor with'+' .kind "'+t+'"')}var r=jt(e.key);var n=String(e.placement);if(n!=="static"&&n!=="prototype"&&n!=="own"){throw new TypeError('An element descriptor\'s .placement property must be one of "static",'+' "prototype" or "own", but a decorator created an element descriptor'+' with .placement "'+n+'"')}var o=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var i={kind:t,key:r,placement:n,descriptor:Object.assign({},o)};if(t!=="field"){this.disallowProperty(e,"initializer","A method descriptor")}else{this.disallowProperty(o,"get","The property descriptor of a field descriptor");this.disallowProperty(o,"set","The property descriptor of a field descriptor");this.disallowProperty(o,"value","The property descriptor of a field descriptor");i.initializer=e.initializer}return i},toElementFinisherExtras:function(e){var t=this.toElementDescriptor(e);var r=nr(e,"finisher");var n=this.toElementDescriptors(e.extras);return{element:t,finisher:r,extras:n}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};var r={value:"Descriptor",configurable:true};Object.defineProperty(t,Symbol.toStringTag,r);return t},toClassDescriptor:function(e){var t=String(e.kind);if(t!=="class"){throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator'+' created a class descriptor with .kind "'+t+'"')}this.disallowProperty(e,"key","A class descriptor");this.disallowProperty(e,"placement","A class descriptor");this.disallowProperty(e,"descriptor","A class descriptor");this.disallowProperty(e,"initializer","A class descriptor");this.disallowProperty(e,"extras","A class descriptor");var r=nr(e,"finisher");var n=this.toElementDescriptors(e.elements);return{elements:n,finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(n!==undefined){if(typeof n!=="function"){throw new TypeError("Finishers must return a constructor.")}n}}return e},disallowProperty:function(e,t,r){if(e[t]!==undefined){throw new TypeError(r+" can't have a ."+t+" property.")}}};return e}function $t(e){var t=jt(e.key);var r;if(e.kind==="method"){({value:e.value,writable:true,configurable:true,enumerable:false})}else if(e.kind==="get"){({get:e.value,configurable:true,enumerable:false})}else if(e.kind==="set"){({set:e.value,configurable:true,enumerable:false})}else if(e.kind==="field"){({configurable:true,writable:true,enumerable:true})}var n={kind:e.kind==="field"?"field":"method",key:t,placement:e.static?"static":e.kind==="field"?"own":"prototype",descriptor:r};if(e.decorators)n.decorators=e.decorators;if(e.kind==="field")n.initializer=e.value;return n}function Jt(e,t){if(e.descriptor.get!==undefined){t.descriptor.get=e.descriptor.get}else{t.descriptor.set=e.descriptor.set}}function er(e){var t=[];var r=function(e){return e.kind==="method"&&e.key===o.key&&e.placement===o.placement};for(var n=0;n<e.length;n++){var o=e[n];var i;if(o.kind==="method"&&t.find(r)){if(rr(o.descriptor)||rr(i.descriptor)){if(tr(o)||tr(i)){throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.")}i.descriptor=o.descriptor}else{if(tr(o)){if(tr(i)){throw new ReferenceError("Decorators can't be placed on different accessors with for "+"the same property ("+o.key+").")}i.decorators=o.decorators}Jt(o,i)}}else{t.push(o)}}return t}function tr(e){return e.decorators&&e.decorators.length}function rr(e){return e!==undefined&&!(e.value===undefined&&e.writable===undefined)}function nr(e,t){var r=e[t];if(r!==undefined&&typeof r!=="function"){throw new TypeError("Expected '"+t+"' to be a function")}return r}function or(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}function ir(){throw new TypeError("attempted to reassign private method")}function ar(e,t){(function(e,t){return new r(e,t)});var n=nt(RegExp);var o=RegExp.prototype;var i=new WeakMap;function r(e,t){var r=n.call(this,e);i.set(r,t);return r}Ke(r,n);(function(e){var t=o.exec.call(this,e);if(t)t.groups=a(t,this);return t});Symbol.replace,function(e,t){if(typeof t==="string"){var r=i.get(this);return o[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+r[t]}))}else if(typeof t==="function"){var n=this;return o[Symbol.replace].call(this,e,function(){var e=[];e.push.apply(e,arguments);if(typeof e[e.length-1]!=="object"){e.push(a(e,n))}return t.apply(this,e)})}else{return o[Symbol.replace].call(this,e,t)}};function a(r,e){var n=i.get(e);return Object.keys(n).reduce(function(e,t){e[t]=r[n[t]];return e},Object.create(null))}return ar.apply(this,arguments)}var ur=function e(t,r){return t.splice(r,1)},cr=function e(t,r){if(r){t()}else if(document.hidden){Hu.resolve(1).then(t)}else{setTimeout(t,0)}},sr=function e(){var o=[];var n=function e(t,r){ur(o,o.findIndex(function(e){return e.event===t&&(e.cb===r||!r)}))};var i=function e(t,r,n){o.filter(function(e){return e.event===t}).map(function(e){return e.cb}).forEach(function(e){return cr(function(){return e.apply(void 0,Rt(r))},n)})};return{fireSync:function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++){n[o-1]=arguments[o]}i(t,n,true)},fire:function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++){n[o-1]=arguments[o]}i(t,n,false)},on:function e(t,r){o.push({event:t,cb:r})},onOnce:function e(t,r){o.push({event:t,cb:function e(){n(t,r);r.apply(void 0,arguments)}})},off:n}},lr=function e(t,r,n){Object.getOwnPropertyNames(t).filter(function(e){return!n.includes(e)}).forEach(function(e){return Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})},fr=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],pr=function e(t){var r={};lr(t,r,fr);return r},dr=function e(r){r.forEach(function(e,t){if(e.released){ur(r,t)}})},vr={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},hr={INPUT:1,LIMBO:2,LOCAL:3},yr=function e(t){return/[^0-9]+/.exec(t)},mr=function e(){return yr(1.1.toLocaleString())[0]},gr=function e(){var t=mr();var r=1e3.toLocaleString();var n=1e3.toString();if(r!==n){return yr(r)[0]}return t==="."?",":"."},Er={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},br=[],_r=function e(o,i,a){return new Hu(function(t,r){var e=br.filter(function(e){return e.key===o}).map(function(e){return e.cb});if(e.length===0){t(i);return}var n=e.shift();e.reduce(function(e,t){return e.then(function(e){return t(e,a)})},n(i,a)).then(function(e){return t(e)}).catch(function(e){return r(e)})})},Tr=function e(t,r,n){return br.filter(function(e){return e.key===t}).map(function(e){return e.cb(r,n)})},Or=function e(t,r){return br.push({key:t,cb:r})},wr=function e(t){return Object.assign(Sr,t)},Ir=function e(){return Object.assign({},Sr)},Rr=function e(t){m(t,function(e,t){if(!Sr[e]){return}Sr[e][0]=Ee(t,Sr[e][0],Sr[e][1])})},Sr={id:[null,Er.STRING],name:["filepond",Er.STRING],disabled:[false,Er.BOOLEAN],className:[null,Er.STRING],required:[false,Er.BOOLEAN],captureMethod:[null,Er.STRING],allowSyncAcceptAttribute:[true,Er.BOOLEAN],allowDrop:[true,Er.BOOLEAN],allowBrowse:[true,Er.BOOLEAN],allowPaste:[true,Er.BOOLEAN],allowMultiple:[false,Er.BOOLEAN],allowReplace:[true,Er.BOOLEAN],allowRevert:[true,Er.BOOLEAN],allowRemove:[true,Er.BOOLEAN],allowProcess:[true,Er.BOOLEAN],allowReorder:[false,Er.BOOLEAN],allowDirectoriesOnly:[false,Er.BOOLEAN],forceRevert:[false,Er.BOOLEAN],maxFiles:[null,Er.INT],checkValidity:[false,Er.BOOLEAN],itemInsertLocationFreedom:[true,Er.BOOLEAN],itemInsertLocation:["before",Er.STRING],itemInsertInterval:[75,Er.INT],dropOnPage:[false,Er.BOOLEAN],dropOnElement:[true,Er.BOOLEAN],dropValidation:[false,Er.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Er.ARRAY],instantUpload:[true,Er.BOOLEAN],maxParallelUploads:[2,Er.INT],chunkUploads:[false,Er.BOOLEAN],chunkForce:[false,Er.BOOLEAN],chunkSize:[5e6,Er.INT],chunkRetryDelays:[[500,1e3,3e3],Er.Array],server:[null,Er.SERVER_API],labelDecimalSeparator:[mr(),Er.STRING],labelThousandsSeparator:[gr(),Er.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Er.STRING],labelInvalidField:["Field contains invalid files",Er.STRING],labelFileWaitingForSize:["Waiting for size",Er.STRING],labelFileSizeNotAvailable:["Size not available",Er.STRING],labelFileCountSingular:["file in list",Er.STRING],labelFileCountPlural:["files in list",Er.STRING],labelFileLoading:["Loading",Er.STRING],labelFileAdded:["Added",Er.STRING],labelFileLoadError:["Error during load",Er.STRING],labelFileRemoved:["Removed",Er.STRING],labelFileRemoveError:["Error during remove",Er.STRING],labelFileProcessing:["Uploading",Er.STRING],labelFileProcessingComplete:["Upload complete",Er.STRING],labelFileProcessingAborted:["Upload cancelled",Er.STRING],labelFileProcessingError:["Error during upload",Er.STRING],labelFileProcessingRevertError:["Error during revert",Er.STRING],labelTapToCancel:["tap to cancel",Er.STRING],labelTapToRetry:["tap to retry",Er.STRING],labelTapToUndo:["tap to undo",Er.STRING],labelButtonRemoveItem:["Remove",Er.STRING],labelButtonAbortItemLoad:["Abort",Er.STRING],labelButtonRetryItemLoad:["Retry",Er.STRING],labelButtonAbortItemProcessing:["Cancel",Er.STRING],labelButtonUndoItemProcessing:["Undo",Er.STRING],labelButtonRetryItemProcessing:["Retry",Er.STRING],labelButtonProcessItem:["Upload",Er.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Er.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Er.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Er.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Er.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Er.STRING],oninit:[null,Er.FUNCTION],onwarning:[null,Er.FUNCTION],onerror:[null,Er.FUNCTION],onactivatefile:[null,Er.FUNCTION],oninitfile:[null,Er.FUNCTION],onaddfilestart:[null,Er.FUNCTION],onaddfileprogress:[null,Er.FUNCTION],onaddfile:[null,Er.FUNCTION],onprocessfilestart:[null,Er.FUNCTION],onprocessfileprogress:[null,Er.FUNCTION],onprocessfileabort:[null,Er.FUNCTION],onprocessfilerevert:[null,Er.FUNCTION],onprocessfile:[null,Er.FUNCTION],onprocessfiles:[null,Er.FUNCTION],onremovefile:[null,Er.FUNCTION],onpreparefile:[null,Er.FUNCTION],onupdatefiles:[null,Er.FUNCTION],onreorderfiles:[null,Er.FUNCTION],beforeDropFile:[null,Er.FUNCTION],beforeAddFile:[null,Er.FUNCTION],beforeRemoveFile:[null,Er.FUNCTION],stylePanelLayout:[null,Er.STRING],stylePanelAspectRatio:[null,Er.STRING],styleItemPanelAspectRatio:[null,Er.STRING],styleButtonRemoveItemPosition:["left",Er.STRING],styleButtonProcessItemPosition:["right",Er.STRING],styleLoadIndicatorPosition:["right",Er.STRING],styleProgressIndicatorPosition:["right",Er.STRING],styleButtonRemoveItemAlign:[false,Er.BOOLEAN],files:[[],Er.ARRAY]},Pr=function e(t,r){if(U(r)){return t[0]||null}if(oe(r)){return t[r]||null}if(typeof r==="object"){r=r.id}return t.find(function(e){return e.id===r})||null},Dr=function e(t){if(U(t)){return t}if(/:/.test(t)){var r=t.split(":");return r[1]/r[0]}return parseFloat(t)},Ar=function e(t){return t.filter(function(e){return!e.archived})},Cr={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},Lr=[vr.LOAD_ERROR,vr.PROCESSING_ERROR,vr.PROCESSING_REVERT_ERROR],Mr=[vr.LOADING,vr.PROCESSING,vr.PROCESSING_QUEUED,vr.INIT],Nr=[vr.PROCESSING_COMPLETE],xr=function e(t){return Lr.includes(t.status)},jr=function e(t){return Mr.includes(t.status)},kr=function e(t){return Nr.includes(t.status)},Gr=function e(u){return{GET_STATUS:function e(){var t=Ar(u.items);var r=Cr.EMPTY,n=Cr.ERROR,o=Cr.BUSY,i=Cr.IDLE,a=Cr.READY;if(t.length===0)return r;if(t.some(xr))return n;if(t.some(jr))return o;if(t.some(kr))return a;return i},GET_ITEM:function e(t){return Pr(u.items,t)},GET_ACTIVE_ITEM:function e(t){return Pr(Ar(u.items),t)},GET_ACTIVE_ITEMS:function e(){return Ar(u.items)},GET_ITEMS:function e(){return u.items},GET_ITEM_NAME:function e(t){var r=Pr(u.items,t);return r?r.filename:null},GET_ITEM_SIZE:function e(t){var r=Pr(u.items,t);return r?r.fileSize:null},GET_STYLES:function e(){return Object.keys(u.options).filter(function(e){return/^style/.test(e)}).map(function(e){return{name:e,value:u.options[e]}})},GET_PANEL_ASPECT_RATIO:function e(){var t=/circle/.test(u.options.stylePanelLayout);var r=t?1:Dr(u.options.stylePanelAspectRatio);return r},GET_ITEM_PANEL_ASPECT_RATIO:function e(){return u.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function e(t){return Ar(u.items).filter(function(e){return e.status===t})},GET_TOTAL_ITEMS:function e(){return Ar(u.items).length},IS_ASYNC:function e(){return de(u.options.server)&&(de(u.options.server.process)||ae(u.options.server.process))}}},Fr=function e(t){var r=Ar(t.items).length;if(!t.options.allowMultiple){return r===0}var n=t.options.maxFiles;if(n===null){return true}if(r<n){return true}return false},Ur=function e(t,r,n){return Math.max(Math.min(n,t),r)},Vr=function e(t,r,n){return t.splice(r,0,n)},Br=function e(t,r,n){if(U(r)){return null}if(typeof n==="undefined"){t.push(r);return r}n=Ur(n,0,t.length);Vr(t,n,r);return r},qr=function e(t){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t)},zr=function e(t){return t.split("/").pop().split("?").shift()},Yr=function e(t){return t.split(".").pop()},Hr=function e(t){if(typeof t!=="string"){return""}var r=t.split("/").pop();if(/svg/.test(r)){return"svg"}if(/zip|compressed/.test(r)){return"zip"}if(/plain/.test(r)){return"txt"}if(/msword/.test(r)){return"doc"}if(/[a-z]+/.test(r)){if(r==="jpeg"){return"jpg"}return r}return""},Wr=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return(r+t).slice(-r.length)},Xr=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date;return t.getFullYear()+"-"+Wr(t.getMonth()+1,"00")+"-"+Wr(t.getDate(),"00")+"_"+Wr(t.getHours(),"00")+"-"+Wr(t.getMinutes(),"00")+"-"+Wr(t.getSeconds(),"00")},Zr=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var i=typeof n==="string"?t.slice(0,t.size,n):t.slice(0,t.size,t.type);i.lastModifiedDate=new Date;if(t._relativePath)i._relativePath=t._relativePath;if(!ee(r)){r=Xr()}if(r&&o===null&&Yr(r)){i.name=r}else{o=o||Hr(i.type);i.name=r+(o?"."+o:"")}return i},Kr=function e(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},Qr=function e(t,r){var n=Kr();if(n){var o=new n;o.append(t);return o.getBlob(r)}return new Blob([t],{type:r})},$r=function e(t,r){var n=new ArrayBuffer(t.length);var o=new Uint8Array(n);for(var i=0;i<t.length;i++){o[i]=t.charCodeAt(i)}return Qr(n,r)},Jr=function e(t){return(/^data:(.+);/.exec(t)||[])[1]||null},en=function e(t){var r=t.split(",")[1];return r.replace(/\s/g,"")},tn=function e(t){return atob(en(t))},rn=function e(t){var r=Jr(t);var n=tn(t);return $r(n,r)},nn=function e(t,r,n){return Zr(rn(t),r,null,n)},on=function e(t){if(!/^content-disposition:/i.test(t))return null;var r=t.split(/filename=|filename\*=.+''/).splice(1).map(function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(e){return e.length});return r.length?decodeURI(r[r.length-1]):null},an=function e(t){if(/content-length:/i.test(t)){var r=t.match(/[0-9]+/)[0];return r?parseInt(r,10):null}return null},un=function e(t){if(/x-content-transfer-id:/i.test(t)){var r=(t.split(":")[1]||"").trim();return r||null}return null},cn=function e(t){var r={source:null,name:null,size:null};var n=t.split("\n");var o=true;var i=false;var a=undefined;try{for(var u=n[Symbol.iterator](),c;!(o=(c=u.next()).done);o=true){var s=c.value;var l=on(s);if(l){r.name=l;continue}var f=an(s);if(f){r.size=f;continue}var p=un(s);if(p){r.source=p;continue}}}catch(e){i=true;a=e}finally{try{if(!o&&u.return!=null){u.return()}}finally{if(i){throw a}}}return r},sn=function e(r){var n={source:null,complete:false,progress:0,size:null,timestamp:null,duration:0,request:null};var t=function e(){return n.progress};var o=function e(){if(n.request&&n.request.abort){n.request.abort()}};var i=function e(){var t=n.source;u.fire("init",t);if(t instanceof File){u.fire("load",t)}else if(t instanceof Blob){u.fire("load",Zr(t,t.name))}else if(qr(t)){u.fire("load",nn(t))}else{a(t)}};var a=function e(t){if(!r){u.fire("error",{type:"error",body:"Can't load URL",code:400});return}n.timestamp=Date.now();n.request=r(t,function(e){n.duration=Date.now()-n.timestamp;n.complete=true;if(e instanceof Blob){e=Zr(e,e.name||zr(t))}u.fire("load",e instanceof Blob?e:e?e.body:null)},function(e){u.fire("error",typeof e==="string"?{type:"error",code:0,body:e}:e)},function(e,t,r){if(r){n.size=r}n.duration=Date.now()-n.timestamp;if(!e){n.progress=null;return}n.progress=t/r;u.fire("progress",n.progress)},function(){u.fire("abort")},function(e){var t=cn(typeof e==="string"?e:e.headers);u.fire("meta",{size:n.size||t.size,filename:t.name,source:t.source})})};var u=Object.assign({},sr(),{setSource:function e(t){return n.source=t},getProgress:t,abort:o,load:i});return u},ln=function e(t){return/GET|HEAD/.test(t)},fn=function e(t,r,n){var o={onheaders:function e(){},onprogress:function e(){},onload:function e(){},ontimeout:function e(){},onerror:function e(){},onabort:function e(){},abort:function e(){i=true;u.abort()}};var i=false;var a=false;n=Object.assign({method:"POST",headers:{},withCredentials:false},n);r=encodeURI(r);if(ln(n.method)&&t){r=""+r+encodeURIComponent(typeof t==="string"?t:JSON.stringify(t))}var u=new XMLHttpRequest;var c=ln(n.method)?u:u.upload;c.onprogress=function(e){if(i){return}o.onprogress(e.lengthComputable,e.loaded,e.total)};u.onreadystatechange=function(){if(u.readyState<2){return}if(u.readyState===4&&u.status===0){return}if(a){return}a=true;o.onheaders(u)};u.onload=function(){if(u.status>=200&&u.status<300){o.onload(u)}else{o.onerror(u)}};u.onerror=function(){return o.onerror(u)};u.onabort=function(){i=true;o.onabort()};u.ontimeout=function(){return o.ontimeout(u)};u.open(n.method,r,true);if(oe(n.timeout)){u.timeout=n.timeout}Object.keys(n.headers).forEach(function(e){var t=unescape(encodeURIComponent(n.headers[e]));u.setRequestHeader(e,t)});if(n.responseType){u.responseType=n.responseType}if(n.withCredentials){u.withCredentials=true}u.send(t);return o},pn=function e(t,r,n,o){return{type:t,code:r,body:n,headers:o}},dn=function e(t){return function(e){t(pn("error",0,"Timeout",e.getAllResponseHeaders()))}},vn=function e(t){return/\?/.test(t)},hn=function e(){var t="";for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}n.forEach(function(e){t+=vn(t)&&vn(e)?e.replace(/\?/,"&"):e});return t},yn=function e(){var u=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var c=arguments.length>1?arguments[1]:undefined;if(typeof c==="function"){return c}if(!c||!ee(c.url)){return null}var s=c.onload||function(e){return e};var l=c.onerror||function(e){return null};return function(n,o,t,e,r,i){var a=fn(n,hn(u,c.url),Object.assign({},c,{responseType:"blob"}));a.onload=function(e){var t=e.getAllResponseHeaders();var r=cn(t).name||zr(n);o(pn("load",e.status,c.method==="HEAD"?null:Zr(s(e.response),r),t))};a.onerror=function(e){t(pn("error",e.status,l(e.response)||e.statusText,e.getAllResponseHeaders()))};a.onheaders=function(e){i(pn("headers",e.status,null,e.getAllResponseHeaders()))};a.ontimeout=dn(t);a.onprogress=e;a.onabort=r;return a}},mn={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},gn=function e(u,a,c,s,l,t,f,n,p,r,o){var d=[];var i=o.chunkTransferId,v=o.chunkServer,h=o.chunkSize,y=o.chunkRetryDelays;var m={serverId:i,aborted:false};var g=a.ondata||function(e){return e};var E=a.onload||function(e,t){return t==="HEAD"?e.getResponseHeader("Upload-Offset"):e.response};var b=a.onerror||function(e){return null};var _=function e(t){var r=new FormData;if(de(l))r.append(c,JSON.stringify(l));var n=typeof a.headers==="function"?a.headers(s,l):Object.assign({},a.headers,{"Upload-Length":s.size});var o=Object.assign({},a,{headers:n});var i=fn(g(r),hn(u,a.url),o);i.onload=function(e){return t(E(e,o.method))};i.onerror=function(e){return f(pn("error",e.status,b(e.response)||e.statusText,e.getAllResponseHeaders()))};i.ontimeout=dn(f)};var T=function e(t){var r=hn(u,v.url,m.serverId);var n=typeof a.headers==="function"?a.headers(m.serverId):Object.assign({},a.headers);var o={headers:n,method:"HEAD"};var i=fn(null,r,o);i.onload=function(e){return t(E(e,o.method))};i.onerror=function(e){return f(pn("error",e.status,b(e.response)||e.statusText,e.getAllResponseHeaders()))};i.ontimeout=dn(f)};var O=Math.floor(s.size/h);for(var w=0;w<=O;w++){var I=w*h;var R=s.slice(I,I+h,"application/offset+octet-stream");d[w]={index:w,size:R.size,offset:I,data:R,file:s,progress:0,retries:Rt(y),status:mn.QUEUED,error:null,request:null,timeout:null}}var S=function e(){return t(m.serverId)};var P=function e(t){return t.status===mn.QUEUED||t.status===mn.ERROR};var D=function e(n){if(m.aborted)return;n=n||d.find(P);if(!n){if(d.every(function(e){return e.status===mn.COMPLETE})){S()}return}n.status=mn.PROCESSING;n.progress=null;var t=v.ondata||function(e){return e};var r=v.onerror||function(e){return null};var o=hn(u,v.url,m.serverId);var i=typeof v.headers==="function"?v.headers(n):Object.assign({},v.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":n.offset,"Upload-Length":s.size,"Upload-Name":s.name});var a=n.request=fn(t(n.data),o,Object.assign({},v,{headers:i}));a.onload=function(){n.status=mn.COMPLETE;n.request=null;L()};a.onprogress=function(e,t,r){n.progress=e?t:null;C()};a.onerror=function(e){n.status=mn.ERROR;n.request=null;n.error=r(e.response)||e.statusText;if(!A(n)){f(pn("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))}};a.ontimeout=function(e){n.status=mn.ERROR;n.request=null;if(!A(n)){dn(f)(e)}};a.onabort=function(){n.status=mn.QUEUED;n.request=null;p()}};var A=function e(t){if(t.retries.length===0)return false;t.status=mn.WAITING;clearTimeout(t.timeout);t.timeout=setTimeout(function(){D(t)},t.retries.shift());return true};var C=function e(){var t=d.reduce(function(e,t){if(e===null||t.progress===null)return null;return e+t.progress},0);if(t===null)return n(false,0,0);var r=d.reduce(function(e,t){return e+t.size},0);n(true,t,r)};var L=function e(){var t=d.filter(function(e){return e.status===mn.PROCESSING}).length;if(t>=1)return;D()};var M=function e(){d.forEach(function(e){clearTimeout(e.timeout);if(e.request){e.request.abort()}})};if(!m.serverId){_(function(e){if(m.aborted)return;r(e);m.serverId=e;L()})}else{T(function(t){if(m.aborted)return;d.filter(function(e){return e.offset<t}).forEach(function(e){e.status=mn.COMPLETE;e.progress=e.size});L()})}return{abort:function e(){m.aborted=true;M()}}},En=function e(h,y,m,g){return function(e,t,r,n,o,i,a){if(!e)return;var u=g.chunkUploads;var c=u&&e.size>g.chunkSize;var s=u&&(c||g.chunkForce);if(e instanceof Blob&&s)return gn(h,y,m,e,t,r,n,o,i,a,g);var l=y.ondata||function(e){return e};var f=y.onload||function(e){return e};var p=y.onerror||function(e){return null};var d=new FormData;if(de(t)){d.append(m,JSON.stringify(t))}(e instanceof Blob?[{name:null,file:e}]:e).forEach(function(e){d.append(m,e.file,e.name===null?e.file.name:""+e.name+e.file.name)});var v=fn(l(d),hn(h,y.url),y);v.onload=function(e){r(pn("load",e.status,f(e.response),e.getAllResponseHeaders()))};v.onerror=function(e){n(pn("error",e.status,p(e.response)||e.statusText,e.getAllResponseHeaders()))};v.ontimeout=dn(n);v.onprogress=o;v.onabort=i;return v}},bn=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var n=arguments.length>1?arguments[1]:undefined;var o=arguments.length>2?arguments[2]:undefined;var i=arguments.length>3?arguments[3]:undefined;if(typeof n==="function")return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return n.apply(void 0,[o].concat(t,[i]))};if(!n||!ee(n.url))return null;return En(t,n,o,i)},_n=function e(){var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i=arguments.length>1?arguments[1]:undefined;if(typeof i==="function"){return i}if(!i||!ee(i.url)){return function(e,t){return t()}}var a=i.onload||function(e){return e};var u=i.onerror||function(e){return null};return function(e,t,r){var n=fn(e,o+i.url,i);n.onload=function(e){t(pn("load",e.status,a(e.response),e.getAllResponseHeaders()))};n.onerror=function(e){r(pn("error",e.status,u(e.response)||e.statusText,e.getAllResponseHeaders()))};n.ontimeout=dn(r);return n}},Tn=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return t+Math.random()*(r-t)},On=function e(o){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e3;var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:25;var u=arguments.length>4&&arguments[4]!==undefined?arguments[4]:250;var c=null;var s=Date.now();var r=function e(){var t=Date.now()-s;var r=Tn(a,u);if(t+r>i){r=t+r-i}var n=t/i;if(n>=1||document.hidden){o(1);return}o(n);c=setTimeout(e,r)};r();return{clear:function e(){clearTimeout(c)}}},wn=function e(i){var a={complete:false,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null};var t=function e(t,r){var n=function e(){if(a.duration===0||a.progress===null)return;c.fire("progress",c.getProgress())};var o=function e(){a.complete=true;c.fire("load-perceived",a.response.body)};c.fire("start");a.timestamp=Date.now();a.perceivedPerformanceUpdater=On(function(e){a.perceivedProgress=e;a.perceivedDuration=Date.now()-a.timestamp;n();if(a.response&&a.perceivedProgress===1&&!a.complete){o()}},Tn(750,1500));a.request=i(t,r,function(e){a.response=de(e)?e:{type:"load",code:200,body:""+e,headers:{}};a.duration=Date.now()-a.timestamp;a.progress=1;c.fire("load",a.response.body);if(a.perceivedProgress===1){o()}},function(e){a.perceivedPerformanceUpdater.clear();c.fire("error",de(e)?e:{type:"error",code:0,body:""+e})},function(e,t,r){a.duration=Date.now()-a.timestamp;a.progress=e?t/r:null;n()},function(){a.perceivedPerformanceUpdater.clear();c.fire("abort",a.response?a.response.body:null)},function(e){c.fire("transfer",e)})};var r=function e(){if(!a.request)return;a.perceivedPerformanceUpdater.clear();if(a.request.abort)a.request.abort();a.complete=true};var n=function e(){r();a.complete=false;a.perceivedProgress=0;a.progress=0;a.timestamp=null;a.perceivedDuration=0;a.duration=0;a.request=null;a.response=null};var o=function e(){return a.progress?Math.min(a.progress,a.perceivedProgress):null};var u=function e(){return Math.min(a.duration,a.perceivedDuration)};var c=Object.assign({},sr(),{process:t,abort:r,getProgress:o,getDuration:u,reset:n});return c},In=function e(t){return t.substr(0,t.lastIndexOf("."))||t},Rn=function e(t){var r=[t.name,t.size,t.type];if(t instanceof Blob||qr(t)){r[0]=t.name||Xr()}else if(qr(t)){r[1]=t.length;r[2]=Jr(t)}else if(ee(t)){r[0]=zr(t);r[1]=0;r[2]="application/octet-stream"}return{name:r[0],size:r[1],type:r[2]}},Sn=function e(t){return!!(t instanceof File||t instanceof Blob&&t.name)},Pn=function e(t){if(!de(t))return t;var r=G(t)?[]:{};for(var n in t){if(!t.hasOwnProperty(n))continue;var o=t[n];r[n]=o&&de(o)?e(o):o}return r},Dn=function e(){var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var n=Pe();var i={archived:false,frozen:false,released:false,source:null,file:r,serverFileReference:t,transferId:null,processingAborted:false,status:t?vr.PROCESSING_COMPLETE:vr.INIT,activeLoader:null,activeProcessor:null};var a=null;var c={};var u=function e(t){return i.status=t};var s=function e(t){if(i.released||i.frozen)return;for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++){n[o-1]=arguments[o]}O.fire.apply(O,[t].concat(n))};var l=function e(){return Yr(i.file.name)};var f=function e(){return i.file.type};var p=function e(){return i.file.size};var d=function e(){return i.file};var v=function e(t,r,n){i.source=t;O.fireSync("init");if(i.file){O.fireSync("load-skip");return}i.file=Rn(t);r.on("init",function(){s("load-init")});r.on("meta",function(e){i.file.size=e.size;i.file.filename=e.filename;if(e.source){o=hr.LIMBO;i.serverFileReference=e.source;i.status=vr.PROCESSING_COMPLETE}s("load-meta")});r.on("progress",function(e){u(vr.LOADING);s("load-progress",e)});r.on("error",function(e){u(vr.LOAD_ERROR);s("load-request-error",e)});r.on("abort",function(){u(vr.INIT);s("load-abort")});r.on("load",function(r){i.activeLoader=null;var e=function e(t){i.file=Sn(t)?t:i.file;if(o===hr.LIMBO&&i.serverFileReference){u(vr.PROCESSING_COMPLETE)}else{u(vr.IDLE)}s("load")};var t=function e(t){i.file=r;s("load-meta");u(vr.LOAD_ERROR);s("load-file-error",t)};if(i.serverFileReference){e(r);return}n(r,e,t)});r.setSource(t);i.activeLoader=r;r.load()};var h=function e(){if(!i.activeLoader){return}i.activeLoader.load()};var y=function e(){if(i.activeLoader){i.activeLoader.abort();return}u(vr.INIT);s("load-abort")};var m=function e(r,t){if(i.processingAborted){i.processingAborted=false;return}u(vr.PROCESSING);a=null;if(!(i.file instanceof Blob)){O.on("load",function(){e(r,t)});return}r.on("load",function(e){i.transferId=null;i.serverFileReference=e});r.on("transfer",function(e){i.transferId=e});r.on("load-perceived",function(e){i.activeProcessor=null;i.transferId=null;i.serverFileReference=e;u(vr.PROCESSING_COMPLETE);s("process-complete",e)});r.on("start",function(){s("process-start")});r.on("error",function(e){i.activeProcessor=null;u(vr.PROCESSING_ERROR);s("process-error",e)});r.on("abort",function(e){i.activeProcessor=null;i.transferId=null;i.serverFileReference=e;u(vr.IDLE);s("process-abort");if(a){a()}});r.on("progress",function(e){s("process-progress",e)});var n=function e(t){if(i.archived)return;r.process(t,Object.assign({},c))};var o=console.error;t(i.file,n,o);i.activeProcessor=r};var g=function e(){i.processingAborted=false;u(vr.PROCESSING_QUEUED)};var E=function e(){return new Hu(function(t){if(!i.activeProcessor){i.processingAborted=true;u(vr.IDLE);s("process-abort");t();return}a=function e(){t()};i.activeProcessor.abort()})};var b=function e(n,o){return new Hu(function(t,r){if(i.serverFileReference===null){t();return}n(i.serverFileReference,function(){i.serverFileReference=null;t()},function(e){if(!o){t();return}u(vr.PROCESSING_REVERT_ERROR);s("process-revert-error");r(e)});u(vr.IDLE);s("process-revert")})};var _=function e(t,r,n){var o=t.split(".");var i=o[0];var a=o.pop();var u=c;o.forEach(function(e){return u=u[e]});if(JSON.stringify(u[a])===JSON.stringify(r))return;u[a]=r;if(n)return;s("metadata-update",{key:i,value:c[i]})};var T=function e(t){return Pn(t?c[t]:c)};var O=Object.assign({id:{get:function e(){return n}},origin:{get:function e(){return o}},serverId:{get:function e(){return i.serverFileReference}},transferId:{get:function e(){return i.transferId}},status:{get:function e(){return i.status}},filename:{get:function e(){return i.file.name}},filenameWithoutExtension:{get:function e(){return In(i.file.name)}},fileExtension:{get:l},fileType:{get:f},fileSize:{get:p},file:{get:d},relativePath:{get:function e(){return i.file._relativePath}},source:{get:function e(){return i.source}},getMetadata:T,setMetadata:function e(t,r,n){if(de(t)){var o=t;Object.keys(o).forEach(function(e){_(e,o[e],r)});return t}_(t,r,n);return r},extend:function e(t,r){return w[t]=r},abortLoad:y,retryLoad:h,requestProcessing:g,abortProcessing:E,load:v,process:m,revert:b},sr(),{freeze:function e(){return i.frozen=true},release:function e(){return i.released=true},released:{get:function e(){return i.released}},archive:function e(){return i.archived=true},archived:{get:function e(){return i.archived}}});var w=B(O);return w},An=function e(t,r){if(U(r)){return 0}if(!ee(r)){return-1}return t.findIndex(function(e){return e.id===r})},Cn=function e(t,r){var n=An(t,r);if(n<0){return}return t[n]||null},Ln=function e(n,o,t,r,i,a){var u=fn(null,n,{method:"GET",responseType:"blob"});u.onload=function(e){var t=e.getAllResponseHeaders();var r=cn(t).name||zr(n);o(pn("load",e.status,Zr(e.response,r),t))};u.onerror=function(e){t(pn("error",e.status,e.statusText,e.getAllResponseHeaders()))};u.onheaders=function(e){a(pn("headers",e.status,null,e.getAllResponseHeaders()))};u.ontimeout=dn(t);u.onprogress=r;u.onabort=i;return u},Mn=function e(t){if(t.indexOf("//")===0){t=location.protocol+t}return t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},Nn=function e(t){return(t.indexOf(":")>-1||t.indexOf("//")>-1)&&Mn(location.href)!==Mn(t)},xn=function e(t){return function(){return ae(t)?t.apply(void 0,arguments):t}},jn=function e(t){return!Sn(t.file)},kn=function e(t,r){clearTimeout(r.listUpdateTimeout);r.listUpdateTimeout=setTimeout(function(){t("DID_UPDATE_ITEMS",{items:Ar(r.items)})},0)},Gn=function e(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++){n[o-1]=arguments[o]}return new Hu(function(e){if(!r){return e(true)}var t=r.apply(void 0,n);if(t==null){return e(true)}if(typeof t==="boolean"){return e(t)}if(typeof t.then==="function"){t.then(e)}})},Fn=function e(t,r){t.items.sort(function(e,t){return r(pr(e),pr(t))})},Un=function e(c,s){return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=e.query,r=e.success,n=r===void 0?function(){}:r,o=e.failure,i=o===void 0?function(){}:o,a=lt(e,["query","success","failure"]);var u=Pr(c.items,t);if(!u){i({error:pn("error",0,"Item not found"),file:null});return}s(u,n,i,a||{})}},Vn=function e(w,I,R){return{ABORT_ALL:function e(){Ar(R.items).forEach(function(e){e.freeze();e.abortLoad();e.abortProcessing()})},DID_SET_FILES:function e(t){var r=t.value,n=r===void 0?[]:r;var o=n.map(function(e){return{source:e.source?e.source:e,options:e.options}});var i=Ar(R.items);i.forEach(function(t){if(!o.find(function(e){return e.source===t.source||e.source===t.file})){w("REMOVE_ITEM",{query:t,remove:false})}});i=Ar(R.items);o.forEach(function(t,e){if(i.find(function(e){return e.source===t.source||e.file===t.source}))return;w("ADD_ITEM",Object.assign({},t,{interactionMethod:Se.NONE,index:e}))})},DID_UPDATE_ITEM_METADATA:function e(t){var o=t.id;clearTimeout(R.itemUpdateTimeout);R.itemUpdateTimeout=setTimeout(function(){var r=Cn(R.items,o);if(!I("IS_ASYNC")){_r("SHOULD_PREPARE_OUTPUT",false,{item:r,query:I}).then(function(e){if(!e){return}w("REQUEST_PREPARE_OUTPUT",{query:o,item:r,success:function e(t){w("DID_PREPARE_OUTPUT",{id:o,file:t})}},true)});return}var n=function e(){setTimeout(function(){w("REQUEST_ITEM_PROCESSING",{query:o})},32)};var e=function e(t){r.revert(_n(R.options.server.url,R.options.server.revert),I("GET_FORCE_REVERT")).then(t?n:function(){}).catch(function(){})};var t=function e(t){r.abortProcessing().then(t?n:function(){})};if(r.status===vr.PROCESSING_COMPLETE){return e(R.options.instantUpload)}if(r.status===vr.PROCESSING){return t(R.options.instantUpload)}if(R.options.instantUpload){n()}},0)},MOVE_ITEM:function e(t){var r=t.query,n=t.index;var o=Pr(R.items,r);if(!o)return;var i=R.items.indexOf(o);n=Ur(n,0,R.items.length-1);if(i===n)return;R.items.splice(n,0,R.items.splice(i,1)[0])},SORT:function e(t){var r=t.compare;Fn(R,r);w("DID_SORT_ITEMS",{items:I("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function e(t){var r=t.items,n=t.index,o=t.interactionMethod,i=t.success,a=i===void 0?function(){}:i,u=t.failure,c=u===void 0?function(){}:u;var s=n;if(n===-1||typeof n==="undefined"){var l=I("GET_ITEM_INSERT_LOCATION");var f=I("GET_TOTAL_ITEMS");s=l==="before"?0:f}var p=I("GET_IGNORED_FILES");var d=function e(t){return Sn(t)?!p.includes(t.name.toLowerCase()):!U(t)};var v=r.filter(d);var h=v.map(function(r){return new Hu(function(e,t){w("ADD_ITEM",{interactionMethod:o,source:r.source||r,success:e,failure:t,index:s++,options:r.options||{}})})});Hu.all(h).then(a).catch(c)},ADD_ITEM:function e(t){var n=t.source,r=t.index,o=r===void 0?-1:r,i=t.interactionMethod,a=t.success,u=a===void 0?function(){}:a,c=t.failure,s=c===void 0?function(){}:c,l=t.options,f=l===void 0?{}:l;if(U(n)){s({error:pn("error",0,"No source"),file:null});return}if(Sn(n)&&R.options.ignoredFiles.includes(n.name.toLowerCase())){return}if(!Fr(R)){if(R.options.allowMultiple||!R.options.allowMultiple&&!R.options.allowReplace){var p=pn("warning",0,"Max files");w("DID_THROW_MAX_FILES",{source:n,error:p});s({error:p,file:null});return}var d=Ar(R.items)[0];if(d.status===vr.PROCESSING_COMPLETE||d.status===vr.PROCESSING_REVERT_ERROR){var v=I("GET_FORCE_REVERT");d.revert(_n(R.options.server.url,R.options.server.revert),v).then(function(){if(!v)return;w("ADD_ITEM",{source:n,index:o,interactionMethod:i,success:u,failure:s,options:f})}).catch(function(){});if(v)return}w("REMOVE_ITEM",{query:d.id})}var h=f.type==="local"?hr.LOCAL:f.type==="limbo"?hr.LIMBO:hr.INPUT;var y=Dn(h,h===hr.INPUT?null:n,f.file);Object.keys(f.metadata||{}).forEach(function(e){y.setMetadata(e,f.metadata[e])});Tr("DID_CREATE_ITEM",y,{query:I,dispatch:w});var m=I("GET_ITEM_INSERT_LOCATION");if(!R.options.itemInsertLocationFreedom){o=m==="before"?-1:R.items.length}Br(R.items,y,o);if(ae(m)&&n){Fn(R,m)}var g=y.id;y.on("init",function(){w("DID_INIT_ITEM",{id:g})});y.on("load-init",function(){w("DID_START_ITEM_LOAD",{id:g})});y.on("load-meta",function(){w("DID_UPDATE_ITEM_META",{id:g})});y.on("load-progress",function(e){w("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:g,progress:e})});y.on("load-request-error",function(e){var t=xn(R.options.labelFileLoadError)(e);if(e.code>=400&&e.code<500){w("DID_THROW_ITEM_INVALID",{id:g,error:e,status:{main:t,sub:e.code+" ("+e.body+")"}});s({error:e,file:pr(y)});return}w("DID_THROW_ITEM_LOAD_ERROR",{id:g,error:e,status:{main:t,sub:R.options.labelTapToRetry}})});y.on("load-file-error",function(e){w("DID_THROW_ITEM_INVALID",{id:g,error:e.status,status:e.status});s({error:e.status,file:pr(y)})});y.on("load-abort",function(){w("REMOVE_ITEM",{query:g})});y.on("load-skip",function(){w("COMPLETE_LOAD_ITEM",{query:g,item:y,data:{source:n,success:u}})});y.on("load",function(){var e=function e(t){if(!t){w("REMOVE_ITEM",{query:g});return}y.on("metadata-update",function(e){w("DID_UPDATE_ITEM_METADATA",{id:g,change:e})});_r("SHOULD_PREPARE_OUTPUT",false,{item:y,query:I}).then(function(e){var r=function e(){w("COMPLETE_LOAD_ITEM",{query:g,item:y,data:{source:n,success:u}});kn(w,R)};if(e){w("REQUEST_PREPARE_OUTPUT",{query:g,item:y,success:function e(t){w("DID_PREPARE_OUTPUT",{id:g,file:t});r()}},true);return}r()})};_r("DID_LOAD_ITEM",y,{query:I,dispatch:w}).then(function(){Gn(I("GET_BEFORE_ADD_FILE"),pr(y)).then(e)}).catch(function(){e(false)})});y.on("process-start",function(){w("DID_START_ITEM_PROCESSING",{id:g})});y.on("process-progress",function(e){w("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:g,progress:e})});y.on("process-error",function(e){w("DID_THROW_ITEM_PROCESSING_ERROR",{id:g,error:e,status:{main:xn(R.options.labelFileProcessingError)(e),sub:R.options.labelTapToRetry}})});y.on("process-revert-error",function(e){w("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:g,error:e,status:{main:xn(R.options.labelFileProcessingRevertError)(e),sub:R.options.labelTapToRetry}})});y.on("process-complete",function(e){w("DID_COMPLETE_ITEM_PROCESSING",{id:g,error:null,serverFileReference:e});w("DID_DEFINE_VALUE",{id:g,value:e})});y.on("process-abort",function(){w("DID_ABORT_ITEM_PROCESSING",{id:g})});y.on("process-revert",function(){w("DID_REVERT_ITEM_PROCESSING",{id:g});w("DID_DEFINE_VALUE",{id:g,value:null})});w("DID_ADD_ITEM",{id:g,index:o,interactionMethod:i});kn(w,R);var E=R.options.server||{},b=E.url,_=E.load,T=E.restore,O=E.fetch;y.load(n,sn(h===hr.INPUT?ee(n)&&Nn(n)?O?yn(b,O):Ln:Ln:h===hr.LIMBO?yn(b,T):yn(b,_)),function(e,t,r){_r("LOAD_FILE",e,{query:I}).then(t).catch(r)})},REQUEST_PREPARE_OUTPUT:function e(t){var r=t.item,n=t.success,o=t.failure,i=o===void 0?function(){}:o;var a={error:pn("error",0,"Item not found"),file:null};if(r.archived)return i(a);_r("PREPARE_OUTPUT",r.file,{query:I,item:r}).then(function(e){_r("COMPLETE_PREPARE_OUTPUT",e,{query:I,item:r}).then(function(e){if(r.archived)return i(a);n(e)})})},COMPLETE_LOAD_ITEM:function e(t){var r=t.item,n=t.data;var o=n.success,i=n.source;var a=I("GET_ITEM_INSERT_LOCATION");if(ae(a)&&i){Fn(R,a)}w("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===hr.INPUT?null:i});o(pr(r));if(r.origin===hr.LOCAL){w("DID_LOAD_LOCAL_ITEM",{id:r.id});return}if(r.origin===hr.LIMBO){w("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:i});w("DID_DEFINE_VALUE",{id:r.id,value:i});return}if(I("IS_ASYNC")&&R.options.instantUpload){w("REQUEST_ITEM_PROCESSING",{query:r.id})}},RETRY_ITEM_LOAD:Un(R,function(e){e.retryLoad()}),REQUEST_ITEM_PREPARE:Un(R,function(r,n,e){w("REQUEST_PREPARE_OUTPUT",{query:r.id,item:r,success:function e(t){w("DID_PREPARE_OUTPUT",{id:r.id,file:t});n({file:r,output:t})},failure:e},true)}),REQUEST_ITEM_PROCESSING:Un(R,function(t,r,n){var e=t.status===vr.IDLE||t.status===vr.PROCESSING_ERROR;if(!e){var o=function e(){return w("REQUEST_ITEM_PROCESSING",{query:t,success:r,failure:n})};var i=function e(){return document.hidden?o():setTimeout(o,32)};if(t.status===vr.PROCESSING_COMPLETE||t.status===vr.PROCESSING_REVERT_ERROR){t.revert(_n(R.options.server.url,R.options.server.revert),I("GET_FORCE_REVERT")).then(i).catch(function(){})}else if(t.status===vr.PROCESSING){t.abortProcessing().then(i)}return}if(t.status===vr.PROCESSING_QUEUED)return;t.requestProcessing();w("DID_REQUEST_ITEM_PROCESSING",{id:t.id});w("PROCESS_ITEM",{query:t,success:r,failure:n},true)}),PROCESS_ITEM:Un(R,function(n,t,r){var e=I("GET_MAX_PARALLEL_UPLOADS");var o=I("GET_ITEMS_BY_STATUS",vr.PROCESSING).length;if(o===e){R.processingQueue.push({id:n.id,success:t,failure:r});return}if(n.status===vr.PROCESSING)return;var i=function e(){var t=R.processingQueue.shift();if(!t)return;var r=t.id,n=t.success,o=t.failure;var i=Pr(R.items,r);if(!i||i.archived){e();return}w("PROCESS_ITEM",{query:r,success:n,failure:o},true)};n.onOnce("process-complete",function(){t(pr(n));i();var e=I("GET_ITEMS_BY_STATUS",vr.PROCESSING_COMPLETE).length===R.items.length;if(e){w("DID_COMPLETE_ITEM_PROCESSING_ALL")}});n.onOnce("process-error",function(e){r({error:e,file:pr(n)});i()});var a=R.options;n.process(wn(bn(a.server.url,a.server.process,a.name,{chunkTransferId:n.transferId,chunkServer:a.server.patch,chunkUploads:a.chunkUploads,chunkForce:a.chunkForce,chunkSize:a.chunkSize,chunkRetryDelays:a.chunkRetryDelays})),function(e,t,r){_r("PREPARE_OUTPUT",e,{query:I,item:n}).then(function(e){w("DID_PREPARE_OUTPUT",{id:n.id,file:e});t(e)}).catch(r)})}),RETRY_ITEM_PROCESSING:Un(R,function(e){w("REQUEST_ITEM_PROCESSING",{query:e})}),REQUEST_REMOVE_ITEM:Un(R,function(t){Gn(I("GET_BEFORE_REMOVE_FILE"),pr(t)).then(function(e){if(!e){return}w("REMOVE_ITEM",{query:t})})}),RELEASE_ITEM:Un(R,function(e){e.release()}),REMOVE_ITEM:Un(R,function(r,n,e,t){var o=function e(){var t=r.id;Cn(R.items,t).archive();w("DID_REMOVE_ITEM",{error:null,id:t,item:r});kn(w,R);n(pr(r))};var i=R.options.server;if(r.origin===hr.LOCAL&&i&&ae(i.remove)&&t.remove!==false){w("DID_START_ITEM_REMOVE",{id:r.id});i.remove(r.source,function(){return o()},function(e){w("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:pn("error",0,e,null),status:{main:xn(R.options.labelFileRemoveError)(e),sub:R.options.labelTapToRetry}})})}else{if(t.revert&&r.origin!==hr.LOCAL&&r.serverId!==null){r.revert(_n(R.options.server.url,R.options.server.revert),I("GET_FORCE_REVERT"))}o()}}),ABORT_ITEM_LOAD:Un(R,function(e){e.abortLoad()}),ABORT_ITEM_PROCESSING:Un(R,function(t){if(t.serverId){w("REVERT_ITEM_PROCESSING",{id:t.id});return}t.abortProcessing().then(function(){var e=R.options.instantUpload;if(e){w("REMOVE_ITEM",{query:t.id})}})}),REQUEST_REVERT_ITEM_PROCESSING:Un(R,function(r){if(!R.options.instantUpload){w("REVERT_ITEM_PROCESSING",{query:r});return}var e=function e(t){if(!t)return;w("REVERT_ITEM_PROCESSING",{query:r})};var t=I("GET_BEFORE_REMOVE_FILE");if(!t){return e(true)}var n=t(pr(r));if(n==null){return e(true)}if(typeof n==="boolean"){return e(n)}if(typeof n.then==="function"){n.then(e)}}),REVERT_ITEM_PROCESSING:Un(R,function(t){t.revert(_n(R.options.server.url,R.options.server.revert),I("GET_FORCE_REVERT")).then(function(){var e=R.options.instantUpload||jn(t);if(e){w("REMOVE_ITEM",{query:t.id})}}).catch(function(){})}),SET_OPTIONS:function e(t){var r=t.options;m(r,function(e,t){w("SET_"+Oe(e,"_").toUpperCase(),{value:t})})}}},Bn=function e(t){return t},qn=function e(t){return document.createElement(t)},zn=function e(t,r){var n=t.childNodes[0];if(!n){n=document.createTextNode(r);t.appendChild(n)}else if(r!==n.nodeValue){n.nodeValue=r}},Yn=function e(t,r,n,o){var i=(o%360-90)*Math.PI/180;return{x:t+n*Math.cos(i),y:r+n*Math.sin(i)}},Hn=function e(t,r,n,o,i,a){var u=Yn(t,r,n,i);var c=Yn(t,r,n,o);return["M",u.x,u.y,"A",n,n,0,a,0,c.x,c.y].join(" ")},Wn=function e(t,r,n,o,i){var a=1;if(i>o&&i-o<=.5){a=0}if(o>i&&o-i>=.5){a=0}return Hn(t,r,n,Math.min(.9999,o)*360,Math.min(.9999,i)*360,a)},Xn,Zn,Kn=C({tag:"div",name:"progress-indicator",ignoreRectUpdate:true,ignoreRect:true,create:function e(t){var r=t.root,n=t.props;n.spin=false;n.progress=0;n.opacity=0;var o=q("svg");r.ref.path=q("path",{"stroke-width":2,"stroke-linecap":"round"});o.appendChild(r.ref.path);r.ref.svg=o;r.appendChild(o)},write:function e(t){var r=t.root,n=t.props;if(n.opacity===0){return}if(n.align){r.element.dataset.align=n.align}var o=parseInt(s(r.ref.path,"stroke-width"),10);var i=r.rect.element.width*.5;var a=0;var u=0;if(n.spin){a=0;u=.5}else{a=0;u=n.progress}var c=Wn(i,i,i-o,a,u);s(r.ref.path,"d",c);s(r.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Qn,$n,Jn=C({tag:"button",attributes:{type:"button"},ignoreRect:true,ignoreRectUpdate:true,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:true},create:function e(t){var r=t.root,n=t.props;r.element.innerHTML=(n.icon||"")+("<span>"+n.label+"</span>");n.isDisabled=false},write:function e(t){var r=t.root,n=t.props;var o=n.isDisabled;var i=r.query("GET_DISABLED")||n.opacity===0;if(i&&!o){n.isDisabled=true;s(r.element,"disabled","disabled")}else if(!i&&o){n.isDisabled=false;r.element.removeAttribute("disabled")}}}),eo=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:".";t=Math.round(Math.abs(t));if(t<1e3){return t+" bytes"}if(t<ro){return Math.floor(t/to)+" KB"}if(t<no){return oo(t/ro,1,r)+" MB"}return oo(t/no,2,r)+" GB"},to=1e3,ro=1e6,no=1e9,oo=function e(t,r,n){return t.toFixed(r).split(".").filter(function(e){return e!=="0"}).join(n)},io,ao=function e(t){var r=t.root,n=t.props;zn(r.ref.fileSize,eo(r.query("GET_ITEM_SIZE",n.id)));zn(r.ref.fileName,Bn(r.query("GET_ITEM_NAME",n.id)))},uo=function e(t){var r=t.root,n=t.props;if(oe(r.query("GET_ITEM_SIZE",n.id))){return}zn(r.ref.fileSize,r.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},co=C({name:"file-info",ignoreRect:true,ignoreRectUpdate:true,write:x({DID_LOAD_ITEM:ao,DID_UPDATE_ITEM_META:ao,DID_THROW_ITEM_LOAD_ERROR:uo,DID_THROW_ITEM_INVALID:uo}),didCreateView:function e(t){Tr("CREATE_VIEW",Object.assign({},t,{view:t}))},create:function e(t){var r=t.root,n=t.props;var o=qn("span");o.className="filepond--file-info-main";s(o,"aria-hidden","true");r.appendChild(o);r.ref.fileName=o;var i=qn("span");i.className="filepond--file-info-sub";r.appendChild(i);r.ref.fileSize=i;zn(i,r.query("GET_LABEL_FILE_WAITING_FOR_SIZE"));zn(o,Bn(r.query("GET_ITEM_NAME",n.id)))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),so=function e(t){return Math.round(t*100)},lo=function e(t){var r=t.root;var n=qn("span");n.className="filepond--file-status-main";r.appendChild(n);r.ref.main=n;var o=qn("span");o.className="filepond--file-status-sub";r.appendChild(o);r.ref.sub=o;fo({root:r,action:{progress:null}})},fo=function e(t){var r=t.root,n=t.action;var o=n.progress===null?r.query("GET_LABEL_FILE_LOADING"):r.query("GET_LABEL_FILE_LOADING")+" "+so(n.progress)+"%";zn(r.ref.main,o);zn(r.ref.sub,r.query("GET_LABEL_TAP_TO_CANCEL"))},po,vo,ho,yo,mo=function e(t){var r=t.root;zn(r.ref.main,"");zn(r.ref.sub,"")},go=function e(t){var r=t.root,n=t.action;zn(r.ref.main,n.status.main);zn(r.ref.sub,n.status.sub)},Eo=C({name:"file-status",ignoreRect:true,ignoreRectUpdate:true,write:x({DID_LOAD_ITEM:mo,DID_REVERT_ITEM_PROCESSING:mo,DID_REQUEST_ITEM_PROCESSING:function e(t){var r=t.root;zn(r.ref.main,r.query("GET_LABEL_FILE_PROCESSING"));zn(r.ref.sub,r.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function e(t){var r=t.root;zn(r.ref.main,r.query("GET_LABEL_FILE_PROCESSING_ABORTED"));zn(r.ref.sub,r.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function e(t){var r=t.root;zn(r.ref.main,r.query("GET_LABEL_FILE_PROCESSING_COMPLETE"));zn(r.ref.sub,r.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function e(t){var r=t.root,n=t.action;var o=n.progress===null?r.query("GET_LABEL_FILE_PROCESSING"):r.query("GET_LABEL_FILE_PROCESSING")+" "+so(n.progress)+"%";zn(r.ref.main,o);zn(r.ref.sub,r.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:fo,DID_THROW_ITEM_LOAD_ERROR:go,DID_THROW_ITEM_INVALID:go,DID_THROW_ITEM_PROCESSING_ERROR:go,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:go,DID_THROW_ITEM_REMOVE_ERROR:go}),didCreateView:function e(t){Tr("CREATE_VIEW",Object.assign({},t,{view:t}))},create:lo,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),bo={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},_o=[];m(bo,function(e){_o.push(e)});var To=function e(t){var r=t.ref.buttonRemoveItem.rect.element;return r.hidden?null:r.width+r.left},Oo=function e(t){var r=t.ref.buttonAbortItemLoad.rect.element;return r.width},wo=function e(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.height/4)},Io=function e(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.left/2)},Ro,So,Po=function e(t){return t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},Do={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function e(t){return t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function e(t){return t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Ao={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:To},status:{translateX:To}},Co={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Lo={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:To},status:{translateX:To,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:To},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Po},info:{translateX:To},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Po},buttonRemoveItem:{opacity:1},info:{translateX:To},status:{opacity:1,translateX:To}},DID_LOAD_ITEM:Ao,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:To},status:{translateX:To}},DID_START_ITEM_PROCESSING:Co,DID_REQUEST_ITEM_PROCESSING:Co,DID_UPDATE_ITEM_PROCESS_PROGRESS:Co,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:To}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:To},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Ao},Mo=C({create:function e(t){var r=t.root;r.element.innerHTML=r.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:true,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),No,xo=function e(t){var i=t.root,r=t.actions,n=t.props;jo({root:i,actions:r,props:n});var o=r.concat().filter(function(e){return/^DID_/.test(e.type)}).reverse().find(function(e){return Lo[e.type]});if(o){i.ref.activeStyles=[];var a=Lo[o.type];m(Do,function(n,e){var o=i.ref[n];m(e,function(e,t){var r=a[n]&&typeof a[n][e]!=="undefined"?a[n][e]:t;i.ref.activeStyles.push({control:o,key:e,value:r})})})}i.ref.activeStyles.forEach(function(e){var t=e.control,r=e.key,n=e.value;t[r]=typeof n==="function"?n(i):n})},jo=x({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function e(t){var r=t.root,n=t.action;r.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function e(t){var r=t.root,n=t.action;r.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function e(t){var r=t.root,n=t.action;r.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function e(t){var r=t.root;r.ref.processProgressIndicator.spin=true;r.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function e(t){var r=t.root;r.ref.loadProgressIndicator.spin=true;r.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function e(t){var r=t.root;r.ref.processProgressIndicator.spin=true;r.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function e(t){var r=t.root,n=t.action;r.ref.loadProgressIndicator.spin=false;r.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function e(t){var r=t.root,n=t.action;r.ref.processProgressIndicator.spin=false;r.ref.processProgressIndicator.progress=n.progress}}),ko=C({create:function e(t){var n=t.root,r=t.props;var o=r.id;var i=n.query("GET_ALLOW_REVERT");var a=n.query("GET_ALLOW_REMOVE");var u=n.query("GET_ALLOW_PROCESS");var c=n.query("GET_INSTANT_UPLOAD");var s=n.query("IS_ASYNC");var l=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");var f;if(s){if(u&&!i){f=function e(t){return!/RevertItemProcessing/.test(t)}}else if(!u&&i){f=function e(t){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(t)}}else if(!u&&!i){f=function e(t){return!/Process/.test(t)}}}else{f=function e(t){return!/Process/.test(t)}}var p=f?_o.filter(f):_o.concat();if(c&&i){bo["RevertItemProcessing"].label="GET_LABEL_BUTTON_REMOVE_ITEM";bo["RevertItemProcessing"].icon="GET_ICON_REMOVE"}if(s&&!i){var d=Lo["DID_COMPLETE_ITEM_PROCESSING"];d.info.translateX=Io;d.info.translateY=wo;d.status.translateY=wo;d.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(s&&!u){["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(function(e){Lo[e].status.translateY=wo});Lo["DID_THROW_ITEM_PROCESSING_ERROR"].status.translateX=Oo}if(l&&i){bo["RevertItemProcessing"].align="BUTTON_REMOVE_ITEM_POSITION";var v=Lo["DID_COMPLETE_ITEM_PROCESSING"];v.info.translateX=To;v.status.translateY=wo;v.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(!a){bo["RemoveItem"].disabled=true}m(bo,function(e,t){var r=n.createChildView(Jn,{label:n.query(t.label),icon:n.query(t.icon),opacity:0});if(p.includes(e)){n.appendChildView(r)}if(t.disabled){r.element.setAttribute("disabled","disabled");r.element.setAttribute("hidden","hidden")}r.element.dataset.align=n.query("GET_STYLE_"+t.align);r.element.classList.add(t.className);r.on("click",function(e){e.stopPropagation();if(t.disabled)return;n.dispatch(t.action,{query:o})});n.ref["button"+e]=r});n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(Mo));n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION");n.ref.info=n.appendChildView(n.createChildView(co,{id:o}));n.ref.status=n.appendChildView(n.createChildView(Eo,{id:o}));var h=n.appendChildView(n.createChildView(Kn,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));h.element.classList.add("filepond--load-indicator");n.ref.loadProgressIndicator=h;var y=n.appendChildView(n.createChildView(Kn,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));y.element.classList.add("filepond--process-indicator");n.ref.processProgressIndicator=y;n.ref.activeStyles=[]},write:xo,didCreateView:function e(t){Tr("CREATE_VIEW",Object.assign({},t,{view:t}))},name:"file"}),Go,Fo,Uo=C({create:function e(t){var r=t.root,n=t.props;r.ref.fileName=qn("legend");r.appendChild(r.ref.fileName);r.ref.file=r.appendChildView(r.createChildView(ko,{id:n.id}));r.ref.data=false},ignoreRect:true,write:x({DID_LOAD_ITEM:function e(t){var r=t.root,n=t.props;zn(r.ref.fileName,Bn(r.query("GET_ITEM_NAME",n.id)))}}),didCreateView:function e(t){Tr("CREATE_VIEW",Object.assign({},t,{view:t}))},tag:"fieldset",name:"file-wrapper"}),Vo={type:"spring",damping:.6,mass:7},Bo=function e(t){var r=t.root,n=t.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Vo},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Vo},styles:["translateY"]}}].forEach(function(e){qo(r,e,n.name)});r.element.classList.add("filepond--"+n.name);r.ref.scalable=null},qo=function e(t,r,n){var o=C({name:"panel-"+r.name+" filepond--"+n,mixins:r.mixins,ignoreRectUpdate:true});var i=t.createChildView(o,r.props);t.ref[r.name]=t.appendChildView(i)},zo,Yo=C({name:"panel",write:function e(t){var r=t.root,n=t.props;if(r.ref.scalable===null||n.scalable!==r.ref.scalable){r.ref.scalable=$(n.scalable)?n.scalable:true;r.element.dataset.scalable=r.ref.scalable}if(!n.height)return;var o=r.ref.top.rect.element;var i=r.ref.bottom.rect.element;var a=Math.max(o.height+i.height,n.height);r.ref.center.translateY=o.height;r.ref.center.scaleY=(a-o.height-i.height)/100;r.ref.bottom.translateY=a-i.height},create:Bo,ignoreRect:true,mixins:{apis:["height","scalable"]}}),Ho=function e(t){var r=t.map(function(e){return e.id});var n=undefined;return{setIndex:function e(t){n=t},getIndex:function e(){return n},getItemIndex:function e(t){return r.indexOf(t.id)}}},Wo={type:"spring",stiffness:.75,damping:.45,mass:10},Xo="spring",Zo={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Ko,Qo=x({DID_UPDATE_PANEL_HEIGHT:function e(t){var r=t.root,n=t.action;r.height=n.height}}),$o=x({DID_GRAB_ITEM:function e(t){var r=t.root,n=t.props;n.dragOrigin={x:r.translateX,y:r.translateY}},DID_DRAG_ITEM:function e(t){var r=t.root;r.element.dataset.dragState="drag"},DID_DROP_ITEM:function e(t){var r=t.root,n=t.props;n.dragOffset=null;n.dragOrigin=null;r.element.dataset.dragState="drop"}},function(e){var t=e.root,r=e.actions,n=e.props,o=e.shouldOptimize;if(t.element.dataset.dragState==="drop"){if(t.scaleX<=1){t.element.dataset.dragState="idle"}}var i=r.concat().filter(function(e){return/^DID_/.test(e.type)}).reverse().find(function(e){return Zo[e.type]});if(i&&i.type!==n.currentState){n.currentState=i.type;t.element.dataset.filepondItemState=Zo[n.currentState]||""}var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");if(!a){Qo({root:t,actions:r,props:n});if(!t.height&&t.ref.container.rect.element.height>0){t.height=t.ref.container.rect.element.height}}else if(!o){t.height=t.rect.element.width*a}if(o){t.ref.panel.height=null}t.ref.panel.height=t.height}),Jo=C({create:function e(t){var u=t.root,c=t.props;u.ref.handleClick=function(e){return u.dispatch("DID_ACTIVATE_ITEM",{id:c.id})};u.element.id="filepond--item-"+c.id;u.element.addEventListener("click",u.ref.handleClick);u.ref.container=u.appendChildView(u.createChildView(Uo,{id:c.id}));u.ref.panel=u.appendChildView(u.createChildView(Yo,{name:"item-panel"}));u.ref.panel.height=null;c.markedForRemoval=false;if(!u.query("GET_ALLOW_REORDER"))return;u.element.dataset.dragState="idle";var r=function e(t){if(!t.isPrimary)return;var n=false;var o={x:t.pageX,y:t.pageY};c.dragOrigin={x:u.translateX,y:u.translateY};c.dragCenter={x:t.offsetX,y:t.offsetY};var i=Ho(u.query("GET_ACTIVE_ITEMS"));u.dispatch("DID_GRAB_ITEM",{id:c.id,dragState:i});var r=function e(t){if(!t.isPrimary)return;t.stopPropagation();t.preventDefault();c.dragOffset={x:t.pageX-o.x,y:t.pageY-o.y};var r=c.dragOffset.x*c.dragOffset.x+c.dragOffset.y*c.dragOffset.y;if(r>16&&!n){n=true;u.element.removeEventListener("click",u.ref.handleClick)}u.dispatch("DID_DRAG_ITEM",{id:c.id,dragState:i})};var a=function e(t){if(!t.isPrimary)return;document.removeEventListener("pointermove",r);document.removeEventListener("pointerup",e);c.dragOffset={x:t.pageX-o.x,y:t.pageY-o.y};u.dispatch("DID_DROP_ITEM",{id:c.id,dragState:i});if(n){setTimeout(function(){return u.element.addEventListener("click",u.ref.handleClick)},0)}};document.addEventListener("pointermove",r);document.addEventListener("pointerup",a)};u.element.addEventListener("pointerdown",r)},write:$o,destroy:function e(t){var r=t.root,n=t.props;r.element.removeEventListener("click",r.ref.handleClick);r.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Xo,scaleY:Xo,translateX:Wo,translateY:Wo,opacity:{type:"tween",duration:150}}}}),ei=function e(t,r,n){if(!n)return;var o=t.rect.element.width;var i=r.length;var a=null;if(i===0||n.top<r[0].rect.element.top)return-1;var u=r[0];var c=u.rect.element;var s=c.marginLeft+c.marginRight;var l=c.width+s;var f=Math.round(o/l);if(f===1){for(var p=0;p<i;p++){var d=r[p];var v=d.rect.outer.top+d.rect.element.height*.5;if(n.top<v){return p}}return i}var h=c.marginTop+c.marginBottom;var y=c.height+h;for(var m=0;m<i;m++){var g=m%f;var E=Math.floor(m/f);var b=g*l;var _=E*y;var T=_-c.marginTop;var O=b+l;var w=_+y+c.marginBottom;if(n.top<w&&n.top>T){if(n.left<O){return m}else if(m!==i-1){a=m}else{a=null}}}if(a!==null){return a}return i},ti={height:0,width:0,get getHeight(){return this.height},set setHeight(e){if(this.height===0||e===0)this.height=e},get getWidth(){return this.width},set setWidth(e){if(this.width===0||e===0)this.width=e},setDimensions:function e(t,r){if(this.height===0||t===0)this.height=t;if(this.width===0||r===0)this.width=r}},ri,ni,oi=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;if(t.dragOffset){t.translateX=null;t.translateY=null;t.translateX=t.dragOrigin.x+t.dragOffset.x;t.translateY=t.dragOrigin.y+t.dragOffset.y;t.scaleX=1.025;t.scaleY=1.025}else{t.translateX=r;t.translateY=n;if(Date.now()>t.spawnDate){if(t.opacity===0){ii(t,r,n,o,i)}t.scaleX=1;t.scaleY=1;t.opacity=1}}},ii=function e(t,r,n,o,i){if(t.interactionMethod===Se.NONE){t.translateX=null;t.translateX=r;t.translateY=null;t.translateY=n}else if(t.interactionMethod===Se.DROP){t.translateX=null;t.translateX=r-o*20;t.translateY=null;t.translateY=n-i*10;t.scaleX=.8;t.scaleY=.8}else if(t.interactionMethod===Se.BROWSE){t.translateY=null;t.translateY=n-30}else if(t.interactionMethod===Se.API){t.translateX=null;t.translateX=r-30;t.translateY=null}},ai,ui=function e(t){return t.rect.element.height+t.rect.element.marginBottom*.5+t.rect.element.marginTop*.5},ci=function e(t){return t.rect.element.width+t.rect.element.marginLeft*.5+t.rect.element.marginRight*.5},si,li=x({DID_ADD_ITEM:function e(t){var r=t.root,n=t.action;var o=n.id,i=n.index,a=n.interactionMethod;r.ref.addIndex=i;var u=Date.now();var c=u;var s=1;if(a!==Se.NONE){s=0;var l=r.query("GET_ITEM_INSERT_INTERVAL");var f=u-r.ref.lastItemSpanwDate;c=f<l?u+(l-f):u}r.ref.lastItemSpanwDate=c;r.appendChildView(r.createChildView(Jo,{spawnDate:c,id:o,opacity:s,interactionMethod:a}),i)},DID_REMOVE_ITEM:function e(t){var r=t.root,n=t.action;var o=n.id;var i=r.childViews.find(function(e){return e.id===o});if(!i){return}i.scaleX=.9;i.scaleY=.9;i.opacity=0;i.markedForRemoval=true},DID_DRAG_ITEM:function e(t){var p=t.root,r=t.action;var n=r.id,o=r.dragState;var i=p.query("GET_ITEM",{id:n});var d=p.childViews.find(function(e){return e.id===n});var a=p.childViews.length;var u=o.getItemIndex(i);if(!d)return;var v={x:d.dragOrigin.x+d.dragOffset.x+d.dragCenter.x,y:d.dragOrigin.y+d.dragOffset.y+d.dragCenter.y};var c=ui(d);var s=ci(d);var l=Math.floor(p.rect.outer.width/s);if(l>a)l=a;var f=Math.floor(a/l+1);ti.setHeight=c*f;ti.setWidth=s*l;var h={y:Math.floor(v.y/c),x:Math.floor(v.x/s),getGridIndex:function e(){if(v.y>ti.getHeight||v.y<0||v.x>ti.getWidth||v.x<0)return u;return this.y*l+this.x},getColIndex:function e(){var t=p.query("GET_ACTIVE_ITEMS");var r=p.childViews.filter(function(e){return e.rect.element.height});var n=t.map(function(t){return r.find(function(e){return e.id===t.id})});var o=n.findIndex(function(e){return e===d});var i=ui(d);var a=n.length;var u=a;var c=0;var s=0;var l=0;for(var f=0;f<a;f++){c=ui(n[f]);l=s;s=l+c;if(v.y<s){if(o>f){if(v.y<l+i){u=f;break}continue}u=f;break}}return u}};var y=l>1?h.getGridIndex():h.getColIndex();p.dispatch("MOVE_ITEM",{query:d,index:y});var m=o.getIndex();if(m===undefined||m!==y){o.setIndex(y);if(m===undefined)return;p.dispatch("DID_REORDER_ITEMS",{items:p.query("GET_ACTIVE_ITEMS"),origin:u,target:y})}}}),fi,pi,di=C({create:function e(t){var r=t.root;s(r.element,"role","list");r.ref.lastItemSpanwDate=Date.now()},write:function e(t){var r=t.root,n=t.props,o=t.actions,s=t.shouldOptimize;li({root:r,props:n,actions:o});var i=n.dragCoordinates;var a=r.rect.element.width;var u=r.childViews.filter(function(e){return e.rect.element.height});var c=r.query("GET_ACTIVE_ITEMS").map(function(t){return u.find(function(e){return e.id===t.id})}).filter(function(e){return e});var l=i?ei(r,c,i):null;var f=r.ref.addIndex||null;r.ref.addIndex=null;var p=0;var d=0;var v=0;if(c.length===0)return;var h=c[0].rect.element;var y=h.marginTop+h.marginBottom;var m=h.marginLeft+h.marginRight;var g=h.width+m;var E=h.height+y;var b=Math.round(a/g);if(b===1){var _=0;var T=0;c.forEach(function(e,t){if(l){var r=t-l;if(r===-2){T=-y*.25}else if(r===-1){T=-y*.75}else if(r===0){T=y*.75}else if(r===1){T=y*.25}else{T=0}}if(s){e.translateX=null;e.translateY=null}if(!e.markedForRemoval){oi(e,0,_+T)}var n=e.rect.element.height+y;var o=n*(e.markedForRemoval?e.opacity:1);_+=o})}else{var O=0;var w=0;c.forEach(function(e,t){if(t===l){p=1}if(t===f){v+=1}if(e.markedForRemoval&&e.opacity<.5){d-=1}var r=t+v+p+d;var n=r%b;var o=Math.floor(r/b);var i=n*g;var a=o*E;var u=Math.sign(i-O);var c=Math.sign(a-w);O=i;w=a;if(e.markedForRemoval)return;if(s){e.translateX=null;e.translateY=null}oi(e,i,a,u,c)})}},tag:"ul",name:"list",didWriteView:function e(t){var r=t.root;r.childViews.filter(function(e){return e.markedForRemoval&&e.opacity===0&&e.resting}).forEach(function(e){e._destroy();r.removeChildView(e)})},filterFrameActionsForChild:function e(t,r){return r.filter(function(e){if(e.data&&e.data.id){return t.id===e.data.id}return true})},mixins:{apis:["dragCoordinates"]}}),vi,hi,yi,mi=x({DID_DRAG:function e(t){var r=t.root,n=t.props,o=t.action;if(!r.query("GET_ITEM_INSERT_LOCATION_FREEDOM"))return;n.dragCoordinates={left:o.position.scopeLeft-r.ref.list.rect.element.left,top:o.position.scopeTop-(r.rect.outer.top+r.rect.element.marginTop+r.rect.element.scrollTop)}},DID_END_DRAG:function e(t){var r=t.props;r.dragCoordinates=null}}),gi,Ei=C({create:function e(t){var r=t.root,n=t.props;r.ref.list=r.appendChildView(r.createChildView(di));n.dragCoordinates=null;n.overflowing=false},write:function e(t){var r=t.root,n=t.props,o=t.actions;mi({root:r,props:n,actions:o});r.ref.list.dragCoordinates=n.dragCoordinates;if(n.overflowing&&!n.overflow){n.overflowing=false;r.element.dataset.state="";r.height=null}if(n.overflow){var i=Math.round(n.overflow);if(i!==r.height){n.overflowing=true;r.element.dataset.state="overflow";r.height=i}}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),bi=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";if(n){s(t,r,o)}else{t.removeAttribute(r)}},_i=function e(t){if(!t||t.value===""){return}try{t.value=""}catch(e){}if(t.value){var r=qn("form");var n=t.parentNode;var o=t.nextSibling;r.appendChild(t);r.reset();if(o){n.insertBefore(t,o)}else{n.appendChild(t)}}},Ti=function e(t){var r=t.root,n=t.props;r.element.id="filepond--browser-"+n.id;s(r.element,"name",r.query("GET_NAME"));s(r.element,"aria-controls","filepond--assistant-"+n.id);s(r.element,"aria-labelledby","filepond--drop-label-"+n.id);Oi({root:r,action:{value:r.query("GET_ACCEPTED_FILE_TYPES")}});wi({root:r,action:{value:r.query("GET_ALLOW_MULTIPLE")}});Ii({root:r,action:{value:r.query("GET_ALLOW_DIRECTORIES_ONLY")}});Ri({root:r});Si({root:r,action:{value:r.query("GET_REQUIRED")}});Pi({root:r,action:{value:r.query("GET_CAPTURE_METHOD")}});r.ref.handleChange=function(e){if(!r.element.value){return}var t=Array.from(r.element.files).map(function(e){e._relativePath=e.webkitRelativePath;return e});setTimeout(function(){n.onload(t);_i(r.element)},250)};r.element.addEventListener("change",r.ref.handleChange)},Oi=function e(t){var r=t.root,n=t.action;if(!r.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE"))return;bi(r.element,"accept",!!n.value,n.value?n.value.join(","):"")},wi=function e(t){var r=t.root,n=t.action;bi(r.element,"multiple",n.value)},Ii=function e(t){var r=t.root,n=t.action;bi(r.element,"webkitdirectory",n.value)},Ri=function e(t){var r=t.root;var n=r.query("GET_DISABLED");var o=r.query("GET_ALLOW_BROWSE");var i=n||!o;bi(r.element,"disabled",i)},Si=function e(t){var r=t.root,n=t.action;if(!n.value){bi(r.element,"required",false)}else if(r.query("GET_TOTAL_ITEMS")===0){bi(r.element,"required",true)}},Pi=function e(t){var r=t.root,n=t.action;bi(r.element,"capture",!!n.value,n.value===true?"":n.value)},Di=function e(t){var r=t.root;var n=r.element;if(r.query("GET_TOTAL_ITEMS")>0){bi(n,"required",false);bi(n,"name",false)}else{bi(n,"name",true,r.query("GET_NAME"));var o=r.query("GET_CHECK_VALIDITY");if(o){n.setCustomValidity("")}if(r.query("GET_REQUIRED")){bi(n,"required",true)}}},Ai,Ci=C({tag:"input",name:"browser",ignoreRect:true,ignoreRectUpdate:true,attributes:{type:"file"},create:Ti,destroy:function e(t){var r=t.root;r.element.removeEventListener("change",r.ref.handleChange)},write:x({DID_LOAD_ITEM:Di,DID_REMOVE_ITEM:Di,DID_THROW_ITEM_INVALID:function e(t){var r=t.root;var n=r.query("GET_CHECK_VALIDITY");if(!n)return;r.element.setCustomValidity(r.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Ri,DID_SET_ALLOW_BROWSE:Ri,DID_SET_ALLOW_DIRECTORIES_ONLY:Ii,DID_SET_ALLOW_MULTIPLE:wi,DID_SET_ACCEPTED_FILE_TYPES:Oi,DID_SET_CAPTURE_METHOD:Pi,DID_SET_REQUIRED:Si})}),Li={ENTER:13,SPACE:32},Mi=function e(t){var r=t.root,n=t.props;var o=qn("label");s(o,"for","filepond--browser-"+n.id);s(o,"id","filepond--drop-label-"+n.id);s(o,"aria-hidden","true");r.ref.handleKeyDown=function(e){var t=e.keyCode===Li.ENTER||e.keyCode===Li.SPACE;if(!t)return;e.preventDefault();r.ref.label.click()};r.ref.handleClick=function(e){var t=e.target===o||o.contains(e.target);if(t)return;r.ref.label.click()};o.addEventListener("keydown",r.ref.handleKeyDown);r.element.addEventListener("click",r.ref.handleClick);Ni(o,n.caption);r.appendChild(o);r.ref.label=o},Ni=function e(t,r){t.innerHTML=r;var n=t.querySelector(".filepond--label-action");if(n){s(n,"tabindex","0")}return r},xi=C({name:"drop-label",ignoreRect:true,create:Mi,destroy:function e(t){var r=t.root;r.ref.label.addEventListener("keydown",r.ref.handleKeyDown);r.element.removeEventListener("click",r.ref.handleClick)},write:x({DID_SET_LABEL_IDLE:function e(t){var r=t.root,n=t.action;Ni(r.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),ji=C({name:"drip-blob",ignoreRect:true,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),ki=function e(t){var r=t.root;var n=r.rect.element.width*.5;var o=r.rect.element.height*.5;r.ref.blob=r.appendChildView(r.createChildView(ji,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:o}))},Gi,Fi,Ui,Vi=function e(t){var r=t.root,n=t.props,o=t.actions;Bi({root:r,props:n,actions:o});var i=r.ref.blob;if(o.length===0&&i&&i.opacity===0){r.removeChildView(i);r.ref.blob=null}},Bi=x({DID_DRAG:function e(t){var r=t.root,n=t.action;if(!r.ref.blob){ki({root:r});return}r.ref.blob.translateX=n.position.scopeLeft;r.ref.blob.translateY=n.position.scopeTop;r.ref.blob.scaleX=1;r.ref.blob.scaleY=1;r.ref.blob.opacity=1},DID_DROP:function e(t){var r=t.root;if(!r.ref.blob){return}r.ref.blob.scaleX=2.5;r.ref.blob.scaleY=2.5;r.ref.blob.opacity=0},DID_END_DRAG:function e(t){var r=t.root;if(!r.ref.blob){return}r.ref.blob.opacity=0}}),qi=C({ignoreRect:true,ignoreRectUpdate:true,name:"drip",write:Vi}),zi,Yi=function e(t,r){return t.ref.fields[r]},Hi=function e(t){t.query("GET_ACTIVE_ITEMS").forEach(function(e){if(!t.ref.fields[e.id])return;t.element.appendChild(t.ref.fields[e.id])})},Wi=function e(t){var r=t.root;return Hi(r)},Xi,Zi,Ki,Qi,$i,Ji=x({DID_SET_DISABLED:function e(t){var r=t.root;r.element.disabled=r.query("GET_DISABLED")},DID_ADD_ITEM:function e(t){var r=t.root,n=t.action;var o=qn("input");o.type="hidden";o.name=r.query("GET_NAME");o.disabled=r.query("GET_DISABLED");r.ref.fields[n.id]=o;Hi(r)},DID_LOAD_ITEM:function e(t){var r=t.root,n=t.action;var o=Yi(r,n.id);if(!o||n.serverFileReference===null)return;o.value=n.serverFileReference},DID_REMOVE_ITEM:function e(t){var r=t.root,n=t.action;var o=Yi(r,n.id);if(!o)return;o.parentNode.removeChild(o);delete r.ref.fields[n.id]},DID_DEFINE_VALUE:function e(t){var r=t.root,n=t.action;var o=Yi(r,n.id);if(!o)return;if(n.value===null){o.removeAttribute("value")}else{o.value=n.value}Hi(r)},DID_REORDER_ITEMS:Wi,DID_SORT_ITEMS:Wi}),ea=C({tag:"fieldset",name:"data",create:function e(t){var r=t.root;return r.ref.fields={}},write:Ji,ignoreRect:true}),ta=function e(t){return"getRootNode"in t?t.getRootNode():document},ra=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],na=["css","csv","html","txt"],oa={zip:"zip|compressed",epub:"application/epub+zip"},ia=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";t=t.toLowerCase();if(ra.includes(t)){return"image/"+(t==="jpg"?"jpeg":t==="svg"?"svg+xml":t)}if(na.includes(t)){return"text/"+t}return oa[t]||""},aa=function e(n){return new Hu(function(e,t){var r=ya(n);if(r.length&&!ua(n)){return e(r)}ca(n).then(e)})},ua=function e(t){if(t.files)return t.files.length>0;return false},ca=function e(n){return new Hu(function(r,e){var t=(n.items?Array.from(n.items):[]).filter(function(e){return sa(e)}).map(function(e){return la(e)});if(!t.length){r(n.files?Array.from(n.files):[]);return}Hu.all(t).then(function(e){var t=[];e.forEach(function(e){t.push.apply(t,e)});r(t.filter(function(e){return e}).map(function(e){if(!e._relativePath)e._relativePath=e.webkitRelativePath;return e}))}).catch(console.error)})},sa=function e(t){if(va(t)){var r=ha(t);if(r){return r.isFile||r.isDirectory}}return t.kind==="file"},la=function e(r){return new Hu(function(e,t){if(da(r)){fa(ha(r)).then(e).catch(t);return}e([r.getAsFile()])})},fa=function e(r){return new Hu(function(t,o){var i=[];var a=0;var u=0;var c=function e(){if(u===0&&a===0){t(i)}};var e=function n(e){a++;var r=e.createReader();var t=function t(){r.readEntries(function(e){if(e.length===0){a--;c();return}e.forEach(function(r){if(r.isDirectory){n(r)}else{u++;r.file(function(e){var t=pa(e);if(r.fullPath)t._relativePath=r.fullPath;i.push(t);u--;c()})}});t()},o)};t()};e(r)})},pa=function e(t){if(t.type.length)return t;var r=t.lastModifiedDate;var n=t.name;t=t.slice(0,t.size,ia(Yr(t.name)));t.name=n;t.lastModifiedDate=r;return t},da=function e(t){return va(t)&&(ha(t)||{}).isDirectory},va=function e(t){return"webkitGetAsEntry"in t},ha=function e(t){return t.webkitGetAsEntry()},ya=function e(t){var r=[];try{r=ga(t);if(r.length){return r}r=ma(t)}catch(e){}return r},ma=function e(t){var r=t.getData("url");if(typeof r==="string"&&r.length){return[r]}return[]},ga=function e(t){var r=t.getData("text/html");if(typeof r==="string"&&r.length){var n=r.match(/src\s*=\s*"(.+?)"/);if(n){return[n[1]]}}return[]},Ea=[],ba=function e(t){return{pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}},_a=function e(t,r,n){var o=Ta(r);var i={element:t,filterElement:n,state:null,ondrop:function e(){},onenter:function e(){},ondrag:function e(){},onexit:function e(){},onload:function e(){},allowdrop:function e(){}};i.destroy=o.addListener(i);return i},Ta=function e(t){var r=Ea.find(function(e){return e.element===t});if(r){return r}var n=Oa(t);Ea.push(n);return n},Oa=function e(r){var n=[];var o={dragenter:Pa,dragover:Da,dragleave:Ca,drop:Aa};var i={};m(o,function(e,t){i[e]=t(r,n);r.addEventListener(e,i[e],false)});var a={element:r,addListener:function e(t){n.push(t);return function(){n.splice(n.indexOf(t),1);if(n.length===0){Ea.splice(Ea.indexOf(a),1);m(o,function(e){r.removeEventListener(e,i[e],false)})}}}};return a},wa=function e(t,r){if(!("elementFromPoint"in t)){t=document}return t.elementFromPoint(r.x,r.y)},Ia=function e(t,r){var n=ta(r);var o=wa(n,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return o===r||r.contains(o)},Ra=null,Sa=function e(t,r){try{t.dropEffect=r}catch(e){}},Pa=function e(t,r){return function(n){n.preventDefault();Ra=n.target;r.forEach(function(e){var t=e.element,r=e.onenter;if(Ia(n,t)){e.state="enter";r(ba(n))}})}},Da=function e(t,r){return function(l){l.preventDefault();var f=l.dataTransfer;aa(f).then(function(c){var s=false;r.some(function(e){var t=e.filterElement,r=e.element,n=e.onenter,o=e.onexit,i=e.ondrag,a=e.allowdrop;Sa(f,"copy");var u=a(c);if(!u){Sa(f,"none");return}if(Ia(l,r)){s=true;if(e.state===null){e.state="enter";n(ba(l));return}e.state="over";if(t&&!u){Sa(f,"none");return}i(ba(l))}else{if(t&&!s){Sa(f,"none")}if(e.state){e.state=null;o(ba(l))}}})})}},Aa=function e(t,r){return function(u){u.preventDefault();var e=u.dataTransfer;aa(e).then(function(a){r.forEach(function(e){var t=e.filterElement,r=e.element,n=e.ondrop,o=e.onexit,i=e.allowdrop;e.state=null;if(t&&!Ia(u,r))return;if(!i(a))return o(ba(u));n(ba(u),a)})})}},Ca=function e(t,n){return function(r){if(Ra!==r.target){return}n.forEach(function(e){var t=e.onexit;e.state=null;t(ba(r))})}},La=function e(t,n,r){t.classList.add("filepond--hopper");var o=r.catchesDropsOnPage,i=r.requiresDropOnElement,a=r.filterItems,u=a===void 0?function(e){return e}:a;var c=_a(t,o?document.documentElement:t,i);var s="";var l="";c.allowdrop=function(e){return n(u(e))};c.ondrop=function(e,t){var r=u(t);if(!n(r)){f.ondragend(e);return}l="drag-drop";f.onload(r,e)};c.ondrag=function(e){f.ondrag(e)};c.onenter=function(e){l="drag-over";f.ondragstart(e)};c.onexit=function(e){l="drag-exit";f.ondragend(e)};var f={updateHopperState:function e(){if(s!==l){t.dataset.hopperState=l;s=l}},onload:function e(){},ondragstart:function e(){},ondrag:function e(){},ondragend:function e(){},destroy:function e(){c.destroy()}};return f},Ma=false,Na=[],xa=function e(t){var r=document.activeElement;if(r&&/textarea|input/i.test(r.nodeName)){var n=false;var o=r;while(o!==document.body){if(o.classList.contains("filepond--root")){n=true;break}o=o.parentNode}if(!n)return}aa(t.clipboardData).then(function(t){if(!t.length){return}Na.forEach(function(e){return e(t)})})},ja=function e(t){if(Na.includes(t)){return}Na.push(t);if(Ma){return}Ma=true;document.addEventListener("paste",xa)},ka=function e(t){ur(Na,Na.indexOf(t));if(Na.length===0){document.removeEventListener("paste",xa);Ma=false}},Ga=function e(){var t=function e(t){r.onload(t)};var r={destroy:function e(){ka(t)},onload:function e(){}};ja(t);return r},Fa,Ua=null,Va=null,Ba=[],qa=function e(t,r){t.element.textContent=r},za=function e(t){t.element.textContent=""},Ya=function e(t,r,n){var o=t.query("GET_TOTAL_ITEMS");qa(t,n+" "+r+", "+o+" "+(o===1?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL")));clearTimeout(Va);Va=setTimeout(function(){za(t)},1500)},Ha=function e(t){return t.element.parentNode.contains(document.activeElement)},Wa,Xa,Za,Ka=function e(t){var r=t.root,n=t.action;var o=r.query("GET_ITEM",n.id);var i=o.filename;var a=r.query("GET_LABEL_FILE_PROCESSING_ABORTED");qa(r,i+" "+a)},Qa=function e(t){var r=t.root,n=t.action;var o=r.query("GET_ITEM",n.id);var i=o.filename;qa(r,n.status.main+" "+i+" "+n.status.sub)},$a=C({create:function e(t){var r=t.root,n=t.props;r.element.id="filepond--assistant-"+n.id;s(r.element,"role","status");s(r.element,"aria-live","polite");s(r.element,"aria-relevant","additions")},ignoreRect:true,ignoreRectUpdate:true,write:x({DID_LOAD_ITEM:function e(t){var r=t.root,n=t.action;if(!Ha(r)){return}r.element.textContent="";var o=r.query("GET_ITEM",n.id);Ba.push(o.filename);clearTimeout(Ua);Ua=setTimeout(function(){Ya(r,Ba.join(", "),r.query("GET_LABEL_FILE_ADDED"));Ba.length=0},750)},DID_REMOVE_ITEM:function e(t){var r=t.root,n=t.action;if(!Ha(r)){return}var o=n.item;Ya(r,o.filename,r.query("GET_LABEL_FILE_REMOVED"))},DID_COMPLETE_ITEM_PROCESSING:function e(t){var r=t.root,n=t.action;var o=r.query("GET_ITEM",n.id);var i=o.filename;var a=r.query("GET_LABEL_FILE_PROCESSING_COMPLETE");qa(r,i+" "+a)},DID_ABORT_ITEM_PROCESSING:Ka,DID_REVERT_ITEM_PROCESSING:Ka,DID_THROW_ITEM_REMOVE_ERROR:Qa,DID_THROW_ITEM_LOAD_ERROR:Qa,DID_THROW_ITEM_INVALID:Qa,DID_THROW_ITEM_PROCESSING_ERROR:Qa}),tag:"span",name:"assistant"}),Ja=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"-";return t.replace(new RegExp(r+".","g"),function(e){return e.charAt(1).toUpperCase()})},eu=function e(i){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:16;var u=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var c=Date.now();var s=null;return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}clearTimeout(s);var n=Date.now()-c;var o=function e(){c=Date.now();i.apply(void 0,t)};if(n<a){if(!u){s=setTimeout(o,a-n)}}else{o()}}},tu=1e6,ru=function e(t){return t.preventDefault()},nu,ou=function e(t){var o=t.root,r=t.props,n=t.actions;du({root:o,props:r,actions:n});n.filter(function(e){return/^DID_SET_STYLE_/.test(e.type)}).filter(function(e){return!U(e.data.value)}).map(function(e){var t=e.type,r=e.data;var n=Ja(t.substr(8).toLowerCase(),"_");o.element.dataset[n]=r.value;o.invalidateLayout()});if(o.rect.element.hidden)return;if(o.rect.element.width!==o.ref.widthPrevious){o.ref.widthPrevious=o.rect.element.width;o.ref.widthUpdated()}var i=o.ref.bounds;if(!i){i=o.ref.bounds=uu(o);o.element.removeChild(o.ref.measure);o.ref.measure=null}var a=o.ref,u=a.hopper,c=a.label,s=a.list,l=a.panel;if(u){u.updateHopperState()}var f=o.query("GET_PANEL_ASPECT_RATIO");var p=o.query("GET_ALLOW_MULTIPLE");var d=o.query("GET_TOTAL_ITEMS");var v=p?o.query("GET_MAX_FILES")||tu:1;var h=d===v;var y=n.find(function(e){return e.type==="DID_ADD_ITEM"});if(h&&y){var m=y.data.interactionMethod;c.opacity=0;if(p){c.translateY=-40}else{if(m===Se.API){c.translateX=40}else if(m===Se.BROWSE){c.translateY=40}else{c.translateY=30}}}else if(!h){c.opacity=1;c.translateX=0;c.translateY=0}var g=iu(o);var E=au(o);var b=c.rect.element.height;var _=!p||h?0:b;var T=h?s.rect.element.marginTop:0;var O=d===0?0:s.rect.element.marginBottom;var w=_+T+E.visual+O;var I=_+T+E.bounds+O;s.translateY=Math.max(0,_-s.rect.element.marginTop)-g.top;if(f){var R=o.rect.element.width;var S=R*f;if(f!==o.ref.previousAspectRatio){o.ref.previousAspectRatio=f;o.ref.updateHistory=[]}var P=o.ref.updateHistory;P.push(R);var D=2;if(P.length>D*2){var A=P.length;var C=A-10;var L=0;for(var M=A;M>=C;M--){if(P[M]===P[M-2]){L++}if(L>=D){return}}}l.scalable=false;l.height=S;var N=S-_-(O-g.bottom)-(h?T:0);if(E.visual>N){s.overflow=N}else{s.overflow=null}o.height=S}else if(i.fixedHeight){l.scalable=false;var x=i.fixedHeight-_-(O-g.bottom)-(h?T:0);if(E.visual>x){s.overflow=x}else{s.overflow=null}}else if(i.cappedHeight){var j=w>=i.cappedHeight;var k=Math.min(i.cappedHeight,w);l.scalable=true;l.height=j?k:k-g.top-g.bottom;var G=k-_-(O-g.bottom)-(h?T:0);if(w>i.cappedHeight&&E.visual>G){s.overflow=G}else{s.overflow=null}o.height=Math.min(i.cappedHeight,I-g.top-g.bottom)}else{var F=d>0?g.top+g.bottom:0;l.scalable=true;l.height=Math.max(b,w-F);o.height=Math.max(b,I-F)}},iu=function e(t){var r=t.ref.list.childViews[0].childViews[0];return r?{top:r.rect.element.marginTop,bottom:r.rect.element.marginBottom}:{top:0,bottom:0}},au=function e(t){var r=0;var n=0;var o=t.ref.list;var i=o.childViews[0];var a=i.childViews.filter(function(e){return e.rect.element.height});var u=t.query("GET_ACTIVE_ITEMS").map(function(t){return a.find(function(e){return e.id===t.id})}).filter(function(e){return e});if(u.length===0)return{visual:r,bounds:n};var c=i.rect.element.width;var s=ei(i,u,o.dragCoordinates);var l=u[0].rect.element;var f=l.marginTop+l.marginBottom;var p=l.marginLeft+l.marginRight;var d=l.width+p;var v=l.height+f;var h=typeof s!=="undefined"&&s>=0?1:0;var y=u.find(function(e){return e.markedForRemoval&&e.opacity<.45})?-1:0;var m=u.length+h+y;var g=Math.round(c/d);if(g===1){u.forEach(function(e){var t=e.rect.element.height+f;n+=t;r+=t*e.opacity})}else{n=Math.ceil(m/g)*v;r=n}return{visual:r,bounds:n}},uu=function e(t){var r=t.ref.measureHeight||null;var n=parseInt(t.style.maxHeight,10)||null;var o=r===0?null:r;return{cappedHeight:n,fixedHeight:o}},cu=function e(t,r){var n=t.query("GET_ALLOW_REPLACE");var o=t.query("GET_ALLOW_MULTIPLE");var i=t.query("GET_TOTAL_ITEMS");var a=t.query("GET_MAX_FILES");var u=r.length;if(!o&&u>1){return true}a=o?a:n?a:1;var c=oe(a);if(c&&i+u>a){t.dispatch("DID_THROW_MAX_FILES",{source:r,error:pn("warning",0,"Max files")});return true}return false},su=function e(t,r,n){var o=t.childViews[0];return ei(o,r,{left:n.scopeLeft-o.rect.element.left,top:n.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},lu=function e(i){var t=i.query("GET_ALLOW_DROP");var r=i.query("GET_DISABLED");var n=t&&!r;if(n&&!i.ref.hopper){var o=La(i.element,function(e){if(cu(i,e))return false;var t=i.query("GET_BEFORE_DROP_FILE")||function(){return true};var r=i.query("GET_DROP_VALIDATION");return r?e.every(function(e){return Tr("ALLOW_HOPPER_ITEM",e,{query:i.query}).every(function(e){return e===true})&&t(e)}):true},{filterItems:function e(t){var r=i.query("GET_IGNORED_FILES");return t.filter(function(e){if(Sn(e)){return!r.includes(e.name.toLowerCase())}return true})},catchesDropsOnPage:i.query("GET_DROP_ON_PAGE"),requiresDropOnElement:i.query("GET_DROP_ON_ELEMENT")});o.onload=function(e,t){var r=i.ref.list.childViews[0];var n=r.childViews.filter(function(e){return e.rect.element.height});var o=i.query("GET_ACTIVE_ITEMS").map(function(t){return n.find(function(e){return e.id===t.id})}).filter(function(e){return e});i.dispatch("ADD_ITEMS",{items:e,index:su(i.ref.list,o,t),interactionMethod:Se.DROP});i.dispatch("DID_DROP",{position:t});i.dispatch("DID_END_DRAG",{position:t})};o.ondragstart=function(e){i.dispatch("DID_START_DRAG",{position:e})};o.ondrag=eu(function(e){i.dispatch("DID_DRAG",{position:e})});o.ondragend=function(e){i.dispatch("DID_END_DRAG",{position:e})};i.ref.hopper=o;i.ref.drip=i.appendChildView(i.createChildView(qi))}else if(!n&&i.ref.hopper){i.ref.hopper.destroy();i.ref.hopper=null;i.removeChildView(i.ref.drip)}},fu=function e(r,t){var n=r.query("GET_ALLOW_BROWSE");var o=r.query("GET_DISABLED");var i=n&&!o;if(i&&!r.ref.browser){r.ref.browser=r.appendChildView(r.createChildView(Ci,Object.assign({},t,{onload:function e(t){if(cu(r,t))return false;r.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:Se.BROWSE})}})),0)}else if(!i&&r.ref.browser){r.removeChildView(r.ref.browser);r.ref.browser=null}},pu=function e(t){var r=t.query("GET_ALLOW_PASTE");var n=t.query("GET_DISABLED");var o=r&&!n;if(o&&!t.ref.paster){t.ref.paster=Ga();t.ref.paster.onload=function(e){t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:Se.PASTE})}}else if(!o&&t.ref.paster){t.ref.paster.destroy();t.ref.paster=null}},du=x({DID_SET_ALLOW_BROWSE:function e(t){var r=t.root,n=t.props;fu(r,n)},DID_SET_ALLOW_DROP:function e(t){var r=t.root;lu(r)},DID_SET_ALLOW_PASTE:function e(t){var r=t.root;pu(r)},DID_SET_DISABLED:function e(t){var r=t.root,n=t.props;lu(r);pu(r);fu(r,n);var o=r.query("GET_DISABLED");if(o){r.element.dataset.disabled="disabled"}else{r.element.removeAttribute("data-disabled")}}}),vu=C({name:"root",read:function e(t){var r=t.root;if(r.ref.measure){r.ref.measureHeight=r.ref.measure.offsetHeight}},create:function e(t){var n=t.root,r=t.props;var o=n.query("GET_ID");if(o){n.element.id=o}var i=n.query("GET_CLASS_NAME");if(i){i.split(" ").filter(function(e){return e.length}).forEach(function(e){n.element.classList.add(e)})}n.ref.label=n.appendChildView(n.createChildView(xi,Object.assign({},r,{translateY:null,caption:n.query("GET_LABEL_IDLE")})));n.ref.list=n.appendChildView(n.createChildView(Ei,{translateY:null}));n.ref.panel=n.appendChildView(n.createChildView(Yo,{name:"panel-root"}));n.ref.assistant=n.appendChildView(n.createChildView($a,Object.assign({},r)));n.ref.data=n.appendChildView(n.createChildView(ea,Object.assign({},r)));n.ref.measure=qn("div");n.ref.measure.style.height="100%";n.element.appendChild(n.ref.measure);n.ref.bounds=null;n.query("GET_STYLES").filter(function(e){return!U(e.value)}).map(function(e){var t=e.name,r=e.value;n.element.dataset[t]=r});n.ref.widthPrevious=null;n.ref.widthUpdated=eu(function(){n.ref.updateHistory=[];n.dispatch("DID_RESIZE_ROOT")},250);n.ref.previousAspectRatio=null;n.ref.updateHistory=[];var a=window.matchMedia("(pointer: fine) and (hover: hover)").matches;var u="PointerEvent"in window;if(n.query("GET_ALLOW_REORDER")&&u&&!a){n.element.addEventListener("touchmove",ru,{passive:false});n.element.addEventListener("gesturestart",ru)}},write:ou,destroy:function e(t){var r=t.root;if(r.ref.paster){r.ref.paster.destroy()}if(r.ref.hopper){r.ref.hopper.destroy()}r.element.removeEventListener("touchmove",ru);r.element.removeEventListener("gesturestart",ru)},mixins:{styles:["height"]}}),hu=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=null;var n=Ir();var a=M(Te(n),[Gr,Re(n)],[Vn,Ie(n)]);a.dispatch("SET_OPTIONS",{options:t});var o=function e(){if(document.hidden)return;a.dispatch("KICK")};document.addEventListener("visibilitychange",o);var i=null;var u=false;var c=false;var s=null;var l=null;var f=function e(){if(!u){u=true}clearTimeout(i);i=setTimeout(function(){u=false;s=null;l=null;if(c){c=false;a.dispatch("DID_STOP_RESIZE")}},500)};window.addEventListener("resize",f);var p=vu(a,{id:Pe()});var d=false;var v=false;var h={_read:function e(){if(u){l=window.innerWidth;if(!s){s=l}if(!c&&l!==s){a.dispatch("DID_START_RESIZE");c=true}}if(v&&d){d=p.element.offsetParent===null}if(d)return;p._read();v=p.rect.element.hidden},_write:function e(t){var r=a.processActionQueue().filter(function(e){return!/^SET_/.test(e.type)});if(d&&!r.length)return;E(r);d=p._write(t,r,c);dr(a.query("GET_ITEMS"));if(d){a.processDispatchQueue()}}};var y=function e(n){return function(e){var t={type:n};if(!e){return t}if(e.hasOwnProperty("error")){t.error=e.error?Object.assign({},e.error):null}if(e.status){t.status=Object.assign({},e.status)}if(e.file){t.output=e.file}if(e.source){t.file=e.source}else if(e.item||e.id){var r=e.item?e.item:a.query("GET_ITEM",e.id);t.file=r?pr(r):null}if(e.items){t.items=e.items.map(pr)}if(/progress/.test(n)){t.progress=e.progress}if(e.hasOwnProperty("origin")&&e.hasOwnProperty("target")){t.origin=e.origin;t.target=e.target}return t}};var m={DID_DESTROY:y("destroy"),DID_INIT:y("init"),DID_THROW_MAX_FILES:y("warning"),DID_INIT_ITEM:y("initfile"),DID_START_ITEM_LOAD:y("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:y("addfileprogress"),DID_LOAD_ITEM:y("addfile"),DID_THROW_ITEM_INVALID:[y("error"),y("addfile")],DID_THROW_ITEM_LOAD_ERROR:[y("error"),y("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[y("error"),y("removefile")],DID_PREPARE_OUTPUT:y("preparefile"),DID_START_ITEM_PROCESSING:y("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:y("processfileprogress"),DID_ABORT_ITEM_PROCESSING:y("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:y("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:y("processfiles"),DID_REVERT_ITEM_PROCESSING:y("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[y("error"),y("processfile")],DID_REMOVE_ITEM:y("removefile"),DID_UPDATE_ITEMS:y("updatefiles"),DID_ACTIVATE_ITEM:y("activatefile"),DID_REORDER_ITEMS:y("reorderfiles")};var g=function e(t){var r=Object.assign({pond:L},t);delete r.type;p.element.dispatchEvent(new CustomEvent("FilePond:"+t.type,{detail:r,bubbles:true,cancelable:true,composed:true}));var n=[];if(t.hasOwnProperty("error")){n.push(t.error)}if(t.hasOwnProperty("file")){n.push(t.file)}var o=["type","error","file"];Object.keys(t).filter(function(e){return!o.includes(e)}).forEach(function(e){return n.push(t[e])});L.fire.apply(L,[t.type].concat(n));var i=a.query("GET_ON"+t.type.toUpperCase());if(i){i.apply(void 0,n)}};var E=function e(t){if(!t.length)return;t.filter(function(e){return m[e.type]}).forEach(function(t){var e=m[t.type];(Array.isArray(e)?e:[e]).forEach(function(e){if(t.type==="DID_INIT_ITEM"){g(e(t.data))}else{setTimeout(function(){g(e(t.data))},0)}})})};var b=function e(t){return a.dispatch("SET_OPTIONS",{options:t})};var _=function e(t){return a.query("GET_ACTIVE_ITEM",t)};var T=function e(t){return new Hu(function(r,n){a.dispatch("REQUEST_ITEM_PREPARE",{query:t,success:function e(t){r(t)},failure:function e(t){n(t)}})})};var O=function e(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return new Hu(function(t,e){R([{source:r,options:n}],{index:n.index}).then(function(e){return t(e&&e[0])}).catch(e)})};var w=function e(t){return t.file&&t.id};var I=function e(t,r){if(typeof t==="object"&&!w(t)&&!r){r=t;t=undefined}a.dispatch("REMOVE_ITEM",Object.assign({},r,{query:t}));return a.query("GET_ACTIVE_ITEM",t)===null};var R=function e(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++){i[r]=arguments[r]}return new Hu(function(e,t){var r=[];var n={};if(G(i[0])){r.push.apply(r,i[0]);Object.assign(n,i[1]||{})}else{var o=i[i.length-1];if(typeof o==="object"&&!(o instanceof Blob)){Object.assign(n,i.pop())}r.push.apply(r,i)}a.dispatch("ADD_ITEMS",{items:r,index:n.index,interactionMethod:Se.API,success:e,failure:t})})};var S=function e(){return a.query("GET_ACTIVE_ITEMS")};var P=function e(t){return new Hu(function(r,n){a.dispatch("REQUEST_ITEM_PROCESSING",{query:t,success:function e(t){r(t)},failure:function e(t){n(t)}})})};var D=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}var o=Array.isArray(r[0])?r[0]:r;var i=o.length?o:S();return Hu.all(i.map(T))};var A=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}var o=Array.isArray(r[0])?r[0]:r;if(!o.length){var i=S().filter(function(e){return!(e.status===vr.IDLE&&e.origin===hr.LOCAL)&&e.status!==vr.PROCESSING&&e.status!==vr.PROCESSING_COMPLETE&&e.status!==vr.PROCESSING_REVERT_ERROR});return Hu.all(i.map(P))}return Hu.all(o.map(P))};var C=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}var o=Array.isArray(r[0])?r[0]:r;var i;if(typeof o[o.length-1]==="object"){i=o.pop()}else if(Array.isArray(r[0])){i=r[1]}var a=S();if(!o.length)return Hu.all(a.map(function(e){return I(e,i)}));var u=o.map(function(e){return N(e)?a[e]?a[e].id:null:e}).filter(function(e){return e});return u.map(function(e){return I(e,i)})};var L=Object.assign({},sr(),{},h,{},we(a,n),{setOptions:b,addFile:O,addFiles:R,getFile:_,processFile:P,prepareFile:T,removeFile:I,moveFile:function e(t,r){return a.dispatch("MOVE_ITEM",{query:t,index:r})},getFiles:S,processFiles:A,removeFiles:C,prepareFiles:D,sort:function e(t){return a.dispatch("SORT",{compare:t})},browse:function e(){var t=p.element.querySelector("input[type=file]");if(t){t.click()}},destroy:function e(){L.fire("destroy",p.element);a.dispatch("ABORT_ALL");p._destroy();window.removeEventListener("resize",f);document.removeEventListener("visibilitychange",o);a.dispatch("DID_DESTROY")},insertBefore:function e(t){return j(p.element,t)},insertAfter:function e(t){return k(p.element,t)},appendTo:function e(t){return t.appendChild(p.element)},replaceElement:function e(t){j(p.element,t);t.parentNode.removeChild(t);r=t},restoreElement:function e(){if(!r){return}k(r,p.element);p.element.parentNode.removeChild(p.element);r=null},isAttachedTo:function e(t){return p.element===t||r===t},element:{get:function e(){return p.element}},status:{get:function e(){return a.query("GET_STATUS")}}});a.dispatch("DID_INIT");return B(L)},yu=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r={};m(Ir(),function(e,t){r[e]=t[0]});var n=hu(Object.assign({},r,{},t));return n},mu=function e(t){return t.charAt(0).toLowerCase()+t.slice(1)},gu=function e(t){return Ja(t.replace(/^data-/,""))},Eu=function e(u,t){m(t,function(i,a){m(u,function(e,t){var r=new RegExp(i);var n=r.test(e);if(!n){return}delete u[e];if(a===false){return}if(ee(a)){u[a]=t;return}var o=a.group;if(de(a)&&!u[o]){u[o]={}}u[o][mu(e.replace(r,""))]=t});if(a.mapping){e(u[a.group],a.mapping)}})},bu=function e(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=[];m(n.attributes,function(e){r.push(n.attributes[e])});var o=r.filter(function(e){return e.name}).reduce(function(e,t){var r=s(n,t.name);e[gu(t.name)]=r===t.name?true:r;return e},{});Eu(o,t);return o},_u=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":false,"^files$":false};Tr("SET_ATTRIBUTE_TO_OPTION_MAP",n);var o=Object.assign({},r);var i=bu(t.nodeName==="FIELDSET"?t.querySelector("input[type=file]"):t,n);Object.keys(i).forEach(function(e){if(de(i[e])){if(!de(o[e])){o[e]={}}Object.assign(o[e],i[e])}else{o[e]=i[e]}});o.files=(r.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map(function(e){return{source:e.value,options:{type:e.dataset.type}}}));var a=yu(o);if(t.files){Array.from(t.files).forEach(function(e){a.addFile(e)})}a.replaceElement(t);return a},Tu=function e(){return t(arguments.length<=0?undefined:arguments[0])?_u.apply(void 0,arguments):yu.apply(void 0,arguments)},Ou=["fire","_read","_write"],wu=function e(t){var r={};lr(t,r,Ou);return r},Iu=function e(t,r){return t.replace(/(?:{([a-zA-Z]+)})/g,function(e,t){return r[t]})},Ru=function e(t){var r=new Blob(["(",t.toString(),")()"],{type:"application/javascript"});var n=URL.createObjectURL(r);var i=new Worker(n);return{transfer:function e(t,r){},post:function e(t,r,n){var o=Pe();i.onmessage=function(e){if(e.data.id===o){r(e.data.message)}};i.postMessage({id:o,message:t},n)},terminate:function e(){i.terminate();URL.revokeObjectURL(n)}}},Su=function e(n){return new Hu(function(e,t){var r=new Image;r.onload=function(){e(r)};r.onerror=function(e){t(e)};r.src=n})},Pu=function e(t,r){var n=t.slice(0,t.size,t.type);n.lastModifiedDate=t.lastModifiedDate;n.name=r;return n},Du=function e(t){return Pu(t,t.name)},Au=[],Cu=function e(t){if(Au.includes(t)){return}Au.push(t);var r=t({addFilter:Or,utils:{Type:Er,forin:m,isString:ee,isFile:Sn,toNaturalFileSize:eo,replaceInString:Iu,getExtensionFromFilename:Yr,getFilenameWithoutExtension:In,guesstimateMimeType:ia,getFileFromBlob:Zr,getFilenameFromURL:zr,createRoute:x,createWorker:Ru,createView:C,createItemAPI:pr,loadImage:Su,copyFile:Du,renameFile:Pu,createBlob:Qr,applyFilterChain:_r,text:zn,getNumericAspectRatioFromString:Dr},views:{fileActionButton:Jn}});wr(r.options)},Lu=function e(){return Object.prototype.toString.call(window.operamini)==="[object OperaMini]"},Mu=function e(){return"Promise"in window},Nu=function e(){return"slice"in Blob.prototype},xu=function e(){return"URL"in window&&"createObjectURL"in window.URL},ju=function e(){return"visibilityState"in document},ku=function e(){return"performance"in window},Gu=function e(){return"supports"in(window.CSS||{})},Fu=function e(){return/MSIE|Trident/.test(window.navigator.userAgent)},Uu=function(){var e=c()&&!Lu()&&ju()&&Mu()&&Nu()&&xu()&&ku()&&(Gu()||Fu());return function(){return e}}(),Vu={apps:[]},Bu="filepond",qu=function e(){};if(o.Status={},o.FileStatus={},o.FileOrigin={},o.OptionTypes={},o.create=qu,o.destroy=qu,o.parse=qu,o.find=qu,o.registerPlugin=qu,o.getOptions=qu,o.setOptions=qu,Uu()){L(function(){Vu.apps.forEach(function(e){return e._read()})},function(t){Vu.apps.forEach(function(e){return e._write(t)})});var zu=function e(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Uu,create:o.create,destroy:o.destroy,parse:o.parse,find:o.find,registerPlugin:o.registerPlugin,setOptions:o.setOptions}}));document.removeEventListener("DOMContentLoaded",e)};if(document.readyState!=="loading"){setTimeout(function(){return zu()},0)}else{document.addEventListener("DOMContentLoaded",zu)}var Yu=function e(){return m(Ir(),function(e,t){o.OptionTypes[e]=t[1]})};o.Status=Object.assign({},Cr);o.FileOrigin=Object.assign({},hr);o.FileStatus=Object.assign({},vr);o.OptionTypes={};Yu();o.create=function e(){var t=Tu.apply(void 0,arguments);t.on("destroy",o.destroy);Vu.apps.push(t);return wu(t)};o.destroy=function e(t){var r=Vu.apps.findIndex(function(e){return e.isAttachedTo(t)});if(r>=0){var n=Vu.apps.splice(r,1)[0];n.restoreElement();return true}return false};o.parse=function e(t){var r=Array.from(t.querySelectorAll("."+Bu));var n=r.filter(function(t){return!Vu.apps.find(function(e){return e.isAttachedTo(t)})});return n.map(function(e){return o.create(e)})};o.find=function e(t){var r=Vu.apps.find(function(e){return e.isAttachedTo(t)});if(!r){return null}return wu(r)};o.registerPlugin=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}r.forEach(Cu);Yu()};o.getOptions=function e(){var r={};m(Ir(),function(e,t){r[e]=t[0]});return r};o.setOptions=function e(t){if(de(t)){Vu.apps.forEach(function(e){e.setOptions(t)});Rr(t)}return o.getOptions()}}o.supported=Uu,Object.defineProperty(o,"__esModule",{value:true})}(t)}).call(this,r(15))},function(e,t,r){var n,o;void 0===(o="function"==typeof(n=function(){"use strict";if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{value:function e(t){if(this==null){throw new TypeError('"this" is null or not defined')}var r=Object(this);var n=r.length>>>0;if(typeof t!=="function"){throw new TypeError("predicate must be a function")}var o=arguments[1];var i=0;while(i<n){var a=r[i];if(t.call(o,a,i,r)){return a}i++}return undefined}})}if(!Array.prototype.findIndex){Object.defineProperty(Array.prototype,"findIndex",{value:function e(t){if(this==null){throw new TypeError('"this" is null or not defined')}var r=Object(this);var n=r.length>>>0;if(typeof t!=="function"){throw new TypeError("predicate must be a function")}var o=arguments[1];var i=0;while(i<n){var a=r[i];if(t.call(o,a,i,r)){return i}i++}return-1}})}if(!Array.from){Array.from=function(){var r=Object.prototype.toString;var l=function e(t){return typeof t==="function"||r.call(t)==="[object Function]"};var n=function e(t){var r=Number(t);if(isNaN(r)){return 0}if(r===0||!isFinite(r)){return r}return(r>0?1:-1)*Math.floor(Math.abs(r))};var o=Math.pow(2,53)-1;var f=function e(t){var r=n(t);return Math.min(Math.max(r,0),o)};return function e(t){var r=this;var n=Object(t);if(t==null){throw new TypeError("Array.from requires an array-like object - not null or undefined")}var o=arguments.length>1?arguments[1]:void undefined;var i;if(typeof o!=="undefined"){if(!l(o)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}}var a=f(n.length);var u=l(r)?Object(new r(a)):new Array(a);var c=0;var s;while(c<a){s=n[c];if(o){u[c]=typeof i==="undefined"?o(s,c):o.call(i,s,c)}else{u[c]=s}c+=1}u.length=a;return u}}()}if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function e(t,r){if(this==null){throw new TypeError('"this" is null or not defined')}var n=Object(this);var o=n.length>>>0;if(o===0){return false}var i=r|0;var a=Math.max(i>=0?i:o-Math.abs(i),0);function u(e,t){return e===t||typeof e==="number"&&typeof t==="number"&&isNaN(e)&&isNaN(t)}while(a<o){if(u(n[a],t)){return true}a++}return false}})}if(!Array.prototype.some){Array.prototype.some=function(e){if(this==null){throw new TypeError("Array.prototype.some called on null or undefined")}if(typeof e!=="function"){throw new TypeError}var t=Object(this);var r=t.length>>>0;var n=arguments.length>=2?arguments[1]:void 0;for(var o=0;o<r;o++){if(o in t&&e.call(n,t[o],o,t)){return true}}return false}}if(!Array.prototype.every){Array.prototype.every=function(e,t){var r,n;if(this==null){throw new TypeError("this is null or not defined")}var o=Object(this);var i=o.length>>>0;if(typeof e!=="function"){throw new TypeError}if(arguments.length>1){r=t}n=0;while(n<i){var a;if(n in o){a=o[n];var u=e.call(r,a,n,o);if(!u){return false}}n++}return true}}if(typeof Object.assign!="function"){Object.defineProperty(Object,"assign",{value:function e(t,r){if(t==null){throw new TypeError("Cannot convert undefined or null to object")}var n=Object(t);for(var o=1;o<arguments.length;o++){var i=arguments[o];if(i!=null){for(var a in i){if(Object.prototype.hasOwnProperty.call(i,a)){n[a]=i[a]}}}}return n},writable:true,configurable:true})}(function(){if(typeof window==="undefined"||typeof window.CustomEvent==="function")return false;function e(e,t){t=t||{bubbles:false,cancelable:false,detail:undefined};var r=document.createEvent("CustomEvent");r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);return r}e.prototype=window.Event.prototype;window.CustomEvent=e})()})?n.call(t,r,t,e):n)||(e.exports=o)},,,,function(e,t,r){},,,,,,,,,function(e,t,r){}]);
=======
window.OpenStadComponents=function(r){var n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=r,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=93)}([function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(3),c=r.n(n),o=r(2),i=r.n(o);r(70);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=u(i);return t=a?(e=u(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?d(r):n}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,i.a.Component);var e,t,r,a=p(u);function u(r){var e,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var o=d(e=a.call(this,r));if(r.attributes&&Object.keys(r.attributes).forEach(function(e){var t=r.attributes[e];o[t.name]=t.value}),"string"==typeof o.config)try{o.config=JSON.parse(o.config)}catch(e){}var i=function t(r){if("object"!=s(r))return r;Object.keys(r).forEach(function(e){void 0!==r[e]&&null!=r[e]||delete r[e],"object"==s(r[e])&&(r[e]=t(r[e]))});return r}(i=r.config||{});return o.config=c.a.recursive({siteId:null,api:{url:null,headers:null,isUserLoggedIn:!1},user:{}},t,n,i),o.divId=o.divId||o.config&&o.config.divId||r.id||"openstad-component-".concat(parseInt(1e8*Math.random())),window[o.divId]=o,e}return e=u,(t=[{key:"componentDidMount",value:function(){}}])&&l(e.prototype,t),r&&l(e,r),u}()},function(e,t,r){"use strict";r(11),r(2),r(6),r(89);var n=r(3),o=r.n(n);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){var t,r,n=window.location.search.match(/(?:\?|&)jwt=([A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*)(?:&|$)/);return n&&(t=n[1],c.set("osc-jwt",t),"?"==(r=document.location.search.replace("jwt="+t,""))&&(r=""),document.location.search=r),t=c.get("osc-jwt"),e&&e.jwt&&(t=e.jwt,c.set("osc-jwt",t)),t}var u={get:function(e){var t=sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==i(t))try{t=JSON.stringify(t)}catch(e){}sessionStorage.setItem(e,t)}},remove:function(e){sessionStorage.removeItem(e)}},c=u,s={admin:["admin","moderator","editor","member","anonymous","all"],moderator:["moderator","editor","member","anonymous","all"],editor:["editor","member","anonymous","all"],member:["member","anonymous","all"],anonymous:["anonymous","all"],all:["all"],owner:null};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f={get:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==l(t))try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)}},remove:function(e){localStorage.removeItem(e)}},p={api:{getHeaders:function(e){var t=o.a.recursive({"Content-type":"application/json"},e&&e.api&&e.api.headers),r=a();return r&&(t=o.a.recursive({"X-Authorization":"Bearer "+r},t)),t}},user:{getUser:function(e,t){t=t||function(e){console.log("getUser: next not defined."),console.log(e)};var r=e.user||c.get("osc-user");if(r)return t(null,r);var n=a(e);if(!n)return t(null,{});var o="".concat(e.api.url,"/oauth/site/").concat(e.siteId,"/me"),i={"X-Authorization":"Bearer ".concat(n),"Content-Type":"application/json"};fetch(o,{headers:i}).then(function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()}).then(function(e){c.set("osc-user",e),t(null,e)}).catch(function(e){t(e)})},getJWT:a,logout:function(e,t){t=t||function(e){console.log("logout: next not defined.")};var r=e.user||c.get("osc-user");if(r)return t(null,r);var n=a(e);if(!n)return t(null,{});var o=e.api.url+"/oauth/site/"+e.siteId+"/me";fetch(o,{headers:{"X-Authorization":"Bearer "+n,"Content-Type":"application/json"}}).then(function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()}).then(function(e){c.set("osc-user",e),t(null,e)}).catch(function(e){t(e)})},hasRole:function(e,t){var r=e.role;return Object.keys(s).includes(r)||(r="all"),s[r].includes(t)}},ideasSort:function(e){var t=e.ideas,r=e.sortOrder,n=e.center;switch(r=r||"random"){case"title":t=t.sort(function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:t.title.toLowerCase()<e.title.toLowerCase()?1:0});break;case"ranking,asc":t=t.sort(function(e,t){return e.ranking-t.ranking});break;case"likes,asc":t=t.sort(function(e,t){return e.yes-t.yes});break;case"likes,desc":t=t.sort(function(e,t){return t.yes-e.yes});break;case"createdtime,desc":t=t.sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()});break;case"createdtime,asc":t=t.sort(function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()});break;case"distance":(n=n||{lat:52.37104644463586,lng:900402911007405}).coordinates&&(n.lat=n.coordinates[0],n.lng=n.coordinates[1]),t=t.map(function(e){return e._distance=Math.sqrt(Math.pow(e.location.coordinates[0]-n.lat,2)+Math.pow(e.location.coordinates[1]-n.lng,2)),e}).sort(function(e,t){return e._distance-t._distance});break;case"args,desc":t=t.sort(function(e,t){return t.argCount-e.argCount});break;case"args,asc":t=t.sort(function(e,t){return e.argCount-t.argCount});break;case"random":default:t=t.sort(function(e,t){return Math.random()-.5})}return t},localStorage:f,sessionStorage:c,reactTemplate:function(e){var t=e.html,r=void 0===t?"":t,n=e;delete n.html;var o=0;return Object.keys(n).forEach(function(e){var t=new RegExp("^((?:.|\n|\r)*)\\{".concat(e,"\\}((?:.|\n|\r)*)$"),"g").exec(r);t&&(o++,r=React.createElement("span",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:t[1]}}),n[e],React.createElement("span",{dangerouslySetInnerHTML:{__html:t[2]}})))}),0==o&&(r=React.createElement("span",{dangerouslySetInnerHTML:{__html:r}})),r}};t.a=p},function(e,t){e.exports=window.React},function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.apply(void 0,e)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(!0===e[0],!1,e)}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(!0===e[0],!0,e)}function c(e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;++r)t.push(c(e[r]));return t}if(s(e)){t={};for(var r in e)t[r]=c(e[r]);return t}return e}function s(e){return e&&"object"==typeof e&&!Array.isArray(e)}function a(e,t,r){var n;!e&&s(n=r.shift())||(n={});for(var o=0;o<r.length;++o){var i,a=r[o];if(s(a))for(var u in a){"__proto__"!==u&&"constructor"!==u&&"prototype"!==u&&(i=e?c(a[u]):a[u],n[u]=t?function e(t,r){if(!s(t))return r;for(var n in r)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(t[n]=s(t[n])&&s(r[n])?e(t[n],r[n]):r[n]);return t}(n[u],i):i)}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=t.clone=t.recursive=t.merge=t.main=void 0,e.exports=t=n,t.default=n,(t.main=n).clone=c,n.isPlainObject=s,n.recursive=i,t.merge=o,t.recursive=i,t.clone=c,t.isPlainObject=s},function(r,e,t){(function(e){function t(e){return e&&e.Math==Math&&e}r.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")()}).call(this,t(21))},function(e,t,r){"use strict";r(11),r(2),r(6),r(95);var a=r(0);r(1);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=f(i);return t=a?(e=f(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==u(n)&&"function"!=typeof n?l(r):n}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,a["a"]);var e,t,r,n=s(o);function o(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),l(t=n.call(this,e,{choices:[],name:"",placeholder:"",disabled:!1,required:!1},r)).state={value:null!=u(e.value)?e.value:"",error:null},t.onChange=e.onChange,t}return e=o,(t=[{key:"validate",value:function(e){var t=e.showErrors,r=!this.config.required||!!this.state.value,n=!r&&t?!0:"";return this.setState({isValid:r,error:n}),r}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},t.setState(e,function(){t.validate({})}),"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})}}])&&i(e.prototype,t),r&&i(e,r),o}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=m(i);return t=a?(e=m(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==d(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(o,p);var e,t,r,n=y(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var t=this;return React.createElement("input",{type:"hidden",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}})}}])&&v(e.prototype,t),r&&v(e,r),o}(),n=r(72),o=(r(97),r(74)),E=r.n(o),b=r(75),_=r.n(b),T=r(76),O=r.n(T),w=r(77),I=r.n(w);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=A(i);return t=a?(e=A(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==R(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object(n.registerPlugin)(E.a,_.a,O.a,I.a);var C=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(i,p);var e,t,r,o=D(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e,{name:"image",allowMultiple:!1,imageserver:{process:"/image",fetch:"/image"}});var r=[],n=e.value||[];return Array.isArray(n)||(n=[n]),n.forEach(function(e){var t="object"==R(e)?e.src:e;r.push({source:{url:t},options:{type:"local",file:{name:t},metadata:{poster:t}}})}),t.state={uploadedFiles:r},t}return e=i,(t=[{key:"validate",value:function(){var t=!0;return this.imageuploader&&this.imageuploader.getFiles&&this.imageuploader.getFiles().forEach(function(e){e.serverId||(t=!1)}),t}},{key:"init",value:function(){}},{key:"updateUploadedFiles",value:function(e){e.addFile;var t,r=e.removeFile,n=e.next;this.imageuploader&&this.imageuploader.getFiles&&(t=this.imageuploader.getFiles(),r&&(t=t.filter(function(e){return e.serverId!=r.serverId})),this.setState({uploadedFiles:t.map(function(e){return e.file})},function(){n&&n(t)}))}},{key:"updateValue",value:function(e){var r=[],n=this.config.as&&"json"==this.config.as;e.forEach(function(e){try{var t="string"==typeof e.serverId?JSON.parse(e.serverId):e.serverId;r.push(n?{src:t.url}:t.url)}catch(e){console.log(e)}}),this.handleOnChange({name:this.config.name,value:r})}},{key:"render",value:function(){var t=this,r=this;return React.createElement(n.FilePond,{ref:function(e){return t.imageuploader=e},files:this.state.uploadedFiles,oninit:r.init,onprocessfile:function(e,t){return r.updateUploadedFiles({addFile:t,next:function(e){return r.updateValue(e)}})},onremovefile:function(e,t){return r.updateUploadedFiles({removeFile:t,next:function(e){return r.updateValue(e)}})},name:"image",server:this.config.imageserver.process,allowMultiple:this.config.allowMultiple,acceptedFileTypes:["image/*"],allowFileSizeValidation:"true",allowReorder:!0,styleItemPanelAspectRatio:"1",maxFileSize:"8mb",maxFiles:"5",allowBrowse:"true",imageResizeTargetWidth:"80",imageResizeTargetHeight:"80",imageCropAspectRatio:"16:9",labelIdle:"Sleep afbeelding(en) naar deze plek of <span class='filepond--label-action'>KLIK HIER</span>",labelInvalidField:"Field contains invalid files",labelFileWaitingForSize:"Wachtend op grootte",labelFileSizeNotAvailable:"Grootte niet beschikbaar",labelFileCountSingular:"Bestand in lijst",labelFileCountPlural:"Bestanden in lijst",labelFileLoading:"Laden",labelFileAdded:"Toegevoegd",labelFileLoadError:"Fout bij het uploaden",labelFileRemoved:"Verwijderd",labelFileRemoveError:"Fout bij het verwijderen",labelFileProcessing:"Laden",labelFileProcessingComplete:"Afbeelding geladen",labelFileProcessingAborted:"Upload cancelled",labelFileProcessingError:"Error during upload",labelFileProcessingRevertError:"Error during revert",labelTapToCancel:"tap to cancel",labelTapToRetry:"tap to retry",labelTapToUndo:"tap to undo",labelButtonRemoveItem:"Verwijderen",labelButtonAbortItemLoad:"Abort",labelButtonRetryItemLoad:"Retry",labelButtonAbortItemProcessing:"Verwijder",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Retry",labelButtonProcessItem:"Upload"})}}])&&S(e.prototype,t),r&&S(e,r),i}();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=k(i);return t=a?(e=k(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==L(n)&&"function"!=typeof n?j(r):n}}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(o,a["a"]);var e,t,r,n=x(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e)).state={value:t.props.value},t.onKeyUpx=t.onKeyUpx.bind(j(t)),t}return e=o,(t=[{key:"componentDidMount",value:function(){var e=this.props.value,e=this.filterHTML(e);this.input.innerHTML=e}},{key:"filterHTML",value:function(e){return e=(e=(e=e.replace(/<(\/?\s*(?:a [^>]+|a|b|i|strong|em|p|div|br|ul|li)\s*\/?)>/g,"[[[$1]]]")).replace(/<[^>]+>/g,"")).replace(/\[\[\[([^\]]+)\]\]\]/g,"<$1>")}},{key:"executeAction",value:function(e,t,r){e.preventDefault(),e.stopPropagation(),document.execCommand(t,!1,r),this.onKeyUp()}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e),this.props.onChange&&this.props.onChange({value:this.state.value})}},{key:"onKeyUpx",value:function(){var e=this.input.innerHTML,e=this.filterHTML(e);this.setState({value:e}),this.props.onKeyUp&&this.props.onKeyUp(e)}},{key:"render",value:function(){var t=this;return React.createElement("div",{className:"osc-html-editor"},React.createElement("div",{className:"osc-html-editor-buttons"},React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-bold",onMouseDown:function(e){return t.executeAction(e,"bold")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-italic",onMouseDown:function(e){return t.executeAction(e,"italic")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-insertunorderedlist",onMouseDown:function(e){return t.executeAction(e,"insertunorderedlist")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-createlink",onMouseDown:function(e){return t.executeAction(e,"createlink",prompt("Lank naar","http://"))}}," ")),React.createElement("div",{className:"osc-html-editor-content",contentEditable:!0,onFocus:function(e){return t.onFocus(e)},onBlur:function(e){return t.onBlur(e)},onKeyUp:function(){return t.onKeyUpx()},ref:function(e){return t.input=e}}))}}])&&M(e.prototype,t),r&&M(e,r),o}();function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=z(i);return t=a?(e=z(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==F(n)&&"function"!=typeof n?q(r):n}}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(o,a["a"]);var e,t,r,n=B(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=q(t=n.call(this,e,{name:"tekst",inputType:"input",minLength:5,maxLength:1024,placeholder:""}));return r.id=e.id||"osc-formfields-plaintext-with-counter-"+parseInt(1e6*Math.random()),r.state={focused:!1,value:e.value||"",valueLength:e.value&&e.value.length||0},r.key=e.useKey||(r.id||"osc-input-with-counter-")+parseInt(1e7*Math.random),t.onChange=e.onChange,r.handleOnChange=r.handleOnChange.bind(q(t)),r.onInputFocus=r.onInputFocus.bind(q(t)),r.onInputBlur=r.onInputBlur.bind(q(t)),r.onInputKeyUp=r.onInputKeyUp.bind(q(t)),t}return e=o,(t=[{key:"isValid",value:function(){var e={isValid:!0,warning:null};return this.state.value.length<this.config.minLength&&(e.warning="De tekst is te kort",e.isValid=!1),this.state.value.length>this.config.maxLength&&(e.warning="De tekst is te lang",e.isValid=!1),this.setState(e),e.isValid}},{key:"validate",value:function(){return this.setState({showWarning:!0}),this.isValid()}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},this.setState(e,function(){"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})})}},{key:"onInputFocus",value:function(){var e={focused:!0,showWarning:!1};this.setState(e)}},{key:"onInputBlur",value:function(){var e={focused:!1};this.setState(e)}},{key:"onInputKeyUp",value:function(e){var t={};t.value=e||this.input.value,t.isValid=t.value.length>=this.config.minLength&&t.value.length<=this.config.maxLength,this.setState(t)}},{key:"render",value:function(){var e,t=this,r=this,n=null,o=null;r.state.focused&&(n=r.state.value.length<r.config.minLength?React.createElement("div",{className:"osc-form-counter osc-form-error"},"Nog minimaal ",React.createElement("span",{className:""},r.config.minLength-r.state.value.length)," tekens"):(e=r.state.value.length>r.config.maxLength?"osc-form-error":"",React.createElement("div",{className:"osc-form-counter "+e},"Je hebt nog ",React.createElement("span",{className:""},r.config.maxLength-r.state.value.length)," tekens over."))),r.state.showWarning&&r.state.warning&&(o=React.createElement("div",{className:"osc-form-warning",ref:function(e){return t["form-warning"]=e}},r.state.warning));var i=null;switch(r.config.inputType){case"htmlarea":i=React.createElement(G,{value:this.state.value,onChange:r.handleOnChange,onFocus:r.onInputFocus,onBlur:r.onInputBlur,onKeyUp:r.onInputKeyUp});break;case"textarea":i=React.createElement("textarea",{key:r.key,ref:function(e){return r.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return r.handleOnChange({value:r.input.value})},onKeyUp:function(){return r.onInputKeyUp()},onFocus:function(e){return r.onInputFocus(e)},onBlur:function(e){return r.onInputBlur(e)}});break;case"input":default:i=React.createElement("input",{key:r.key,ref:function(e){return r.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return r.handleOnChange({value:r.input.value})},onKeyUp:function(){return r.onInputKeyUp()},onFocus:function(e){return r.onInputFocus(e)},onBlur:function(e){return r.onInputBlur(e)}})}return React.createElement("div",{id:r.id,ref:function(e){return r.instance=e},className:"osc-input-with-counter"},React.createElement("div",{className:"osc-form-feedback"},i,n,o))}}])&&U(e.prototype,t),r&&U(e,r),o}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=K(i);return t=a?(e=K(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==H(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(o,p);var e,t,r,n=Z(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-radios"},t.config.choices.map(function(e){return e.dangerousDescription?React.createElement("div",{className:"osc-radio-container",key:e.value},React.createElement("div",{className:"osc-radio-input".concat(t.state.value==e.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:t.divId,value:e.value,onChange:function(){return t.handleOnChange({value:e.value})}})),React.createElement("div",{className:"osc-radio-text",dangerouslySetInnerHTML:{__html:e.dangerousDescription}})):React.createElement("div",{className:"osc-radio-container",key:e.value},React.createElement("div",{className:"osc-radio-input".concat(t.state.value==e.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:t.divId,value:e.value,onChange:function(){return t.handleOnChange({value:e.value})}})),React.createElement("div",{className:"osc-radio-text"},e.dangerousDescription?null:e.description||e.title||e.value))}),e)}}])&&W(e.prototype,t),r&&W(e,r),o}();function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=re(i);return t=a?(e=re(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==$(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(o,p);var e,t,r,n=te(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"validate",value:function(e){var t=e.showErrors,r=!0,n="";return this.state.value&&this.state.value.match(/^\s*\d{4}\s*[a-zA-Z][a-zA-Z]\s*$/)||(r=!1,t&&(n="Dit is geen postcode")),this.config.required&&!this.state.value&&(r=!1,t&&(n="Je hebt nog niets ingevuld")),this.setState({isValid:r,error:n}),r}},{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},t.state.error)),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}}),e)}}])&&J(e.prototype,t),r&&J(e,r),o}();function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=ce(i);return t=a?(e=ce(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==oe(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(o,p);var e,t,r,n=ue(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"componentDidMount",value:function(){var e=this.state.value||this.config.choices[0]&&this.config.choices[0].value;this.handleOnChange({value:e})}},{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-select"},React.createElement("select",{value:this.state.value||"",disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}},t.config.choices.map(function(e,t){var r=e.description||e.title||e.value;return React.createElement("option",{value:e.value||"",key:"".concat(r,"-").concat(e.value,"-").concat(t)},r)})),e)}}])&&ie(e.prototype,t),r&&ie(e,r),o}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=ve(i);return t=a?(e=ve(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==le(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(o,p);var e,t,r,n=de(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}}),e)}}])&&fe(e.prototype,t),r&&fe(e,r),o}();function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=be(i);return t=a?(e=be(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==ye(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(o,p);var e,t,r,n=Ee(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.apply(this,arguments)}return e=o,(t=[{key:"render",value:function(){var t=this,e=null;return t.state.error&&(e=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textarea"},React.createElement("textarea",{value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(){return t.handleOnChange({value:t.input.value})},ref:function(e){return t.input=e}},this.state.value),e)}}])&&me(e.prototype,t),r&&me(e,r),o}();function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function we(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(i),!0).forEach(function(e){var t,r,n;t=o,n=i[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):Oe(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function Ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=De(i);return t=a?(e=De(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==Te(n)&&"function"!=typeof n?Pe(r):n}}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ae=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(o,a["a"]);var e,t,r,n=Se(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=Pe(t=n.call(this,e,{inputType:null,validateAction:null,changeAction:null,required:!1,title:null,description:null,choices:[]}));return r.config.name=r.config.name||r.config.title.toLowerCase(),r.state={value:e.initValue||void 0},r.handleOnChange=r.handleOnChange.bind(r),r.onChange=e.onChange,t}return e=o,(t=[{key:"validate",value:function(e){var t=e.showErrors;return!this.input||this.input.validate({showErrors:t})}},{key:"handleOnChange",value:function(e){"function"==typeof this.onChange&&this.onChange(e)}},{key:"render",value:function(){var t=this,e=null;t.config.title&&(e=React.createElement("h3",{className:"osc-form-title"},t.config.title));var r=null;t.config.description&&(r=React.createElement("div",{className:"osc-form-description",dangerouslySetInnerHTML:{__html:t.config.description}}));var n=null;switch(t.config.inputType){case"hidden":n=React.createElement(g,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"html-with-counter":case"htmlarea-with-counter":n=React.createElement(Y,{config:we(we({},t.config),{},{inputType:"htmlarea"}),value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"image-upload":n=React.createElement(C,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"input-with-counter":case"text-with-counter":n=React.createElement(Y,{config:we({inputType:"input"},t.config),value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"postcode":n=React.createElement(ne,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"radios":n=React.createElement(Q,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"select":case"multiple-choice":n=React.createElement(se,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"text":n=React.createElement(he,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"textarea":n=React.createElement(_e,{config:t.config,value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;case"textarea-with-counter":n=React.createElement(Y,{config:we(we({},t.config),{},{inputType:"textarea"}),value:this.state.value,onChange:t.handleOnChange,ref:function(e){return t.input=e}});break;default:console.log("Form field "+t.config.inputType+"not yet implemented")}return React.createElement("div",{id:t.id,ref:function(e){return t.instance=e},className:"osc-form-field"},e,r,n)}}])&&Ie(e.prototype,t),r&&Ie(e,r),o}();function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=Ge(i);return t=a?(e=Ge(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==Ce(n)&&"function"!=typeof n?ke(r):n}}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(i,a["a"]);var e,t,r,o=je(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=ke(t=o.call(this,e,{title:null,intro:null,fields:[]})),n=e.values;return!n&&r.config.fields&&r.config.fields.length&&(n={},r.config.fields.map(function(e,t){var r=e.name||e.title.toLowerCase();n[r]=e.value})),r.state={values:n||{}},r.handleOnChange=r.handleOnChange.bind(ke(t)),r.fields=[],t}return e=i,(t=[{key:"getValues",value:function(){return this.state.values}},{key:"validate",value:function(e){var t=e.showErrors,r=e.scrollTo,n=!0,o=null;return this.fields.forEach(function(e){e.validate({showErrors:t})||(n=!1,o=o||e)}),r&&o&&o.instance&&o.instance.scrollIntoView&&o.instance.scrollIntoView({behavior:"smooth"}),n}},{key:"handleOnChange",value:function(e){var t=this,r=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(r),!0).forEach(function(e){Me(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},this.state.values);r[e.name]=e.value,this.setState({values:r},function(){"function"==typeof t.props.onChange&&t.props.onChange(e)})}},{key:"render",value:function(){var r=this,e=null;r.config.title&&(e=React.createElement("h2",{className:"osc-form-title"},r.config.title));var t=null;r.config.intro&&(t=React.createElement("div",{className:"osc-form-intro",dangerouslySetInnerHTML:{__html:r.config.intro}}));var n=null;return r.config.fields&&r.config.fields.length&&(n=React.createElement("div",{className:"osc-form-fields"},r.config.fields.map(function(e,t){return React.createElement(Ae,Me({config:e,initValue:e.value,onChange:r.handleOnChange,ref:function(e){return r.input=e},key:"osc-form-field-".concat(t)},"ref",function(e){r.fields[t]=e}))}))),React.createElement("div",{id:r.divId,className:"osc-form",ref:function(e){return r.instance=e}},e,t,n)}}])&&Ne(e.prototype,t),r&&Ne(e,r),i}();function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=Ye(i);return t=a?(e=Ye(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==Ue(n)&&"function"!=typeof n?ze(r):n}}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(o,a["a"]);var e,t,r,n=qe(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e)).state={value:t.props.value,touched:t.props.touched||!1},t.handleChange=t.handleChange.bind(ze(t)),t}return e=o,(t=[{key:"handleChange",value:function(e){var t=e.target.value;"function"==typeof this.props.onChange&&this.props.onChange(t),this.setState({value:t,touched:!0})}},{key:"doTouch",value:function(){"function"==typeof this.props.onChange&&this.props.onChange(50),this.setState({touched:!0})}},{key:"calcProgress",value:function(e,t,r){return 2*(r-e)/(t-e)-1}},{key:"render",value:function(){var t=this,e=t.state,r=e.value,n=e.touched,o=t.props,i=o.min,a=o.max,u=o.step;return React.createElement("div",{className:"".concat(t.props.className," osc-slider")},React.createElement("div",{className:"osc-slider-track-container"},React.createElement("div",{className:"osc-slider-track"}),React.createElement("div",{className:"osc-slider-track-progress-container"},React.createElement("div",{className:"osc-slider-track-progress",style:{transform:"scaleX("+t.calcProgress(i,a,r)+")"}})),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-left"}),React.createElement("div",{className:"osc-slider-track-dot-start osc-slider-track-dot-center"}),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-right"})),React.createElement("input",{type:"range",min:i,max:a,step:u,value:r,onClick:function(){n||t.doTouch()},onChange:t.handleChange,className:n?"osc-slider-input-range":"osc-slider-input-range osc-slider-untouched",ref:function(e){return t.input=e}}))}}])&&Ve(e.prototype,t),r&&Ve(e,r),o}();t.a={Form:Fe,FormField:Ae,Hidden:g,ImageUpload:C,InputWithCounter:Y,Postcode:ne,Radios:Q,Select:se,Text:he,Textarea:_e,Slider:He}},function(e,t){e.exports=window.ReactDOM},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(9);e.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";(function(i){var t,r,n="URLSearchParams"in self,o="Symbol"in self&&"iterator"in Symbol,u="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in self,c="ArrayBuffer"in self;function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function e(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(e){if(e.bodyUsed)return i.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(r){return new i(function(e,t){r.onload=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function v(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:u&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&u&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||r(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return i.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return i.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return i.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||i.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=d(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return i.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return i.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}c&&(t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=ArrayBuffer.isView||function(e){return e&&-1<t.indexOf(Object.prototype.toString.call(e))}),f.prototype.append=function(e,t){e=s(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[s(e)]},f.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},f.prototype.set=function(e,t){this.map[s(e)]=l(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var r=[];return this.forEach(function(e,t){r.push(t)}),e(r)},f.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},f.prototype.entries=function(){var r=[];return this.forEach(function(e,t){r.push([t,e])}),e(r)},o&&(f.prototype[Symbol.iterator]=f.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var r,n,o=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),-1<m.indexOf(n)?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function E(e){var o=new FormData;return e.trim().split("&").forEach(function(e){var t,r,n;e&&(r=(t=e.split("=")).shift().replace(/\+/g," "),n=t.join("=").replace(/\+/g," "),o.append(decodeURIComponent(r),decodeURIComponent(n)))}),o}function b(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},y.call(g.prototype),y.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];b.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var T=self.DOMException;try{new T}catch(e){(T=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),T.prototype.constructor=T}function O(o,a){return new i(function(n,e){var t=new g(o,a);if(t.signal&&t.signal.aborted)return e(new T("Aborted","AbortError"));var i=new XMLHttpRequest;function r(){i.abort()}i.onload=function(){var e,o,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",o=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t,r=e.split(":"),n=r.shift().trim();n&&(t=r.join(":").trim(),o.append(n,t))}),o)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var r="response"in i?i.response:i.responseText;n(new b(r,t))},i.onerror=function(){e(new TypeError("Network request failed"))},i.ontimeout=function(){e(new TypeError("Network request failed"))},i.onabort=function(){e(new T("Aborted","AbortError"))},i.open(t.method,t.url,!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&u&&(i.responseType="blob"),t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",r),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",r)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})}O.polyfill=!0,self.fetch||(self.fetch=O,self.Headers=f,self.Request=g,self.Response=b)}).call(this,r(15))},function(e,t,r){var n=r(8),o=r(13),i=r(23);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(8),o=r(25),i=r(14),a=r(24),u=Object.defineProperty;t.f=n?u:function(e,t,r){if(i(e),t=a(t,!0),i(r),o)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(10);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,r){e.exports=r(67).Promise},function(e,t,r){var n=r(41),o=r(43);e.exports=function(e){return n(o(e))}},function(e,t,r){var n=r(4),o=r(12);e.exports=function(t,r){try{o(n,t,r)}catch(e){n[t]=r}return r}},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},,function(e,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(8),o=r(49),i=r(23),a=r(16),u=r(24),c=r(7),s=r(25),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=a(e),t=u(t,!0),s)try{return l(e,t)}catch(e){}if(c(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var o=r(10);e.exports=function(e,t){if(!o(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!o(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(8),o=r(9),i=r(26);e.exports=!n&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(4),o=r(10),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){var n=r(28),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},function(e,t,r){var n=r(4),o=r(17),i="__core-js_shared__",a=n[i]||o(i,{});e.exports=a},function(e,t,r){var n=r(30),o=r(31),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,r){var n=r(53),o=r(28);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t,r){function n(e){return"function"==typeof e?e:void 0}var o=r(56),i=r(4);e.exports=function(e,t){return arguments.length<2?n(o[e])||n(i[e]):o[e]&&o[e][t]||i[e]&&i[e][t]}},function(e,t,r){var a=r(7),u=r(16),c=r(34).indexOf,s=r(18);e.exports=function(e,t){var r,n=u(e),o=0,i=[];for(r in n)!a(s,r)&&a(n,r)&&i.push(r);for(;t.length>o;)a(n,r=t[o++])&&(~c(i,r)||i.push(r));return i}},function(e,t,r){function n(u){return function(e,t,r){var n,o=c(e),i=s(o.length),a=l(r,i);if(u&&t!=t){for(;a<i;)if((n=o[a++])!=n)return!0}else for(;a<i;a++)if((u||a in o)&&o[a]===t)return u||a||0;return!u&&-1}}var c=r(16),s=r(44),l=r(58);e.exports={includes:n(!0),indexOf:n(!1)}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:r)(e)}},function(e,t,r){var n=r(9);e.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},function(e,t,r){var l=r(4),f=r(22).f,p=r(12),d=r(50),v=r(17),h=r(54),y=r(60);e.exports=function(e,t){var r,n,o,i,a=e.target,u=e.global,c=e.stat,s=u?l:c?l[a]||v(a,{}):(l[a]||{}).prototype;if(s)for(r in t){if(o=t[r],n=e.noTargetGet?(i=f(s,r))&&i.value:s[r],!y(u?r:a+(c?".":"#")+r,e.forced)&&void 0!==n){if(typeof o==typeof n)continue;h(o,n)}(e.sham||n&&n.sham)&&p(o,"sham",!0),d(s,r,o,e)}}},function(e,t,r){var n=r(46),o=r(63),i=r(13),a=n("unscopables"),u=Array.prototype;null==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),e.exports=function(e){u[a][e]=!0}},function(e,t,r){function a(e){throw e}var u=r(8),c=r(9),s=r(7),l=Object.defineProperty,f={};e.exports=function(e,t){if(s(f,e))return f[e];var r=[][e],n=!!s(t=t||{},"ACCESSORS")&&t.ACCESSORS,o=s(t,0)?t[0]:a,i=s(t,1)?t[1]:void 0;return f[e]=!!r&&!c(function(){if(n&&!u)return!0;var e={length:-1};n?l(e,1,{enumerable:!0,get:a}):e[1]=1,r.call(e,o,i)})}},function(e,t,r){var n=r(4),o=r(45),i=Function.call;e.exports=function(e,t,r){return o(i,n[e].prototype[t],r)}},function(e,t,r){var n=r(9),o=r(42),i="".split;e.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(35),o=Math.min;e.exports=function(e){return 0<e?o(n(e),9007199254740991):0}},function(e,t,r){var i=r(61);e.exports=function(n,o,e){if(i(n),void 0===o)return n;switch(e){case 0:return function(){return n.call(o)};case 1:return function(e){return n.call(o,e)};case 2:return function(e,t){return n.call(o,e,t)};case 3:return function(e,t,r){return n.call(o,e,t,r)}}return function(){return n.apply(o,arguments)}}},function(e,t,r){var n=r(4),o=r(30),i=r(7),a=r(31),u=r(36),c=r(62),s=o("wks"),l=n.Symbol,f=c?l:l&&l.withoutSetter||a;e.exports=function(e){return i(s,e)||(u&&i(l,e)?s[e]=l[e]:s[e]=f("Symbol."+e)),s[e]}},,,function(e,t,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},function(e,t,r){var u=r(4),c=r(12),s=r(7),l=r(17),n=r(27),o=r(51),i=o.get,f=o.enforce,p=String(String).split("String");(e.exports=function(e,t,r,n){var o=!!n&&!!n.unsafe,i=!!n&&!!n.enumerable,a=!!n&&!!n.noTargetGet;"function"==typeof r&&("string"!=typeof t||s(r,"name")||c(r,"name",t),f(r).source=p.join("string"==typeof t?t:"")),e!==u?(o?!a&&e[t]&&(i=!0):delete e[t],i?e[t]=r:c(e,t,r)):i?e[t]=r:l(t,r)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||n(this)})},function(e,t,r){var n,o,i,a,u,c,s,l,f=r(52),p=r(4),d=r(10),v=r(12),h=r(7),y=r(29),m=r(18),g=p.WeakMap;s=f?(n=new g,o=n.get,i=n.has,a=n.set,u=function(e,t){return a.call(n,e,t),t},c=function(e){return o.call(n,e)||{}},function(e){return i.call(n,e)}):(m[l=y("state")]=!0,u=function(e,t){return v(e,l,t),t},c=function(e){return h(e,l)?e[l]:{}},function(e){return h(e,l)}),e.exports={set:u,get:c,has:s,enforce:function(e){return s(e)?c(e):u(e,{})},getterFor:function(r){return function(e){var t;if(!d(e)||(t=c(e)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return t}}}},function(e,t,r){var n=r(4),o=r(27),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t){e.exports=!1},function(e,t,r){var u=r(7),c=r(55),s=r(22),l=r(13);e.exports=function(e,t){for(var r=c(t),n=l.f,o=s.f,i=0;i<r.length;i++){var a=r[i];u(e,a)||n(e,a,o(t,a))}}},function(e,t,r){var n=r(32),o=r(57),i=r(59),a=r(14);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(4);e.exports=n},function(e,t,r){var n=r(33),o=r(19).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,r){var n=r(35),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){function n(e,t){var r=u[a(e)];return r==s||r!=c&&("function"==typeof t?o(t):!!t)}var o=r(9),i=/#|\.prototype\./,a=n.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=n.data={},c=n.NATIVE="N",s=n.POLYFILL="P";e.exports=n},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,r){var n=r(36);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){function n(){}function o(e){return"<script>"+e+"</"+v+">"}var i,a=r(14),u=r(64),c=r(19),s=r(18),l=r(66),f=r(26),p=r(29),d="prototype",v="script",h=p("IE_PROTO"),y=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;y=i?function(e){e.write(o("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=f("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(o("document.F=Object")),e.close(),e.F);for(var r=c.length;r--;)delete y[d][c[r]];return y()};s[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(n[d]=a(e),r=new n,n[d]=null,r[h]=e):r=y(),void 0===t?r:u(r,t)}},function(e,t,r){var n=r(8),a=r(13),u=r(14),c=r(65);e.exports=n?Object.defineProperties:function(e,t){u(e);for(var r,n=c(t),o=n.length,i=0;i<o;)a.f(e,r=n[i++],t[r]);return e}},function(e,t,r){var n=r(33),o=r(19);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,r){var n=r(32);e.exports=n("document","documentElement")},function(e,t,fe){(function(ce,se){var le;e.exports=function(){"use strict";function r(e){return typeof e==="function"||typeof e==="object"&&e!==null}function s(e){return typeof e==="function"}var e=undefined;if(!Array.isArray){e=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{e=Array.isArray}var n=e,o=0,i=undefined,a=undefined,u=function e(t,r){b[o]=t;b[o+1]=r;o+=2;if(o===2){if(a){a(_)}else{O()}}};function t(e){a=e}function c(e){u=e}var l=typeof window!=="undefined"?window:undefined,f=l||{},p=f.MutationObserver||f.WebKitMutationObserver,d=typeof self==="undefined"&&typeof ce!=="undefined"&&{}.toString.call(ce)==="[object process]",v=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function h(){return function(){return ce.nextTick(_)}}function y(){return function(){i(_)}}function m(){var e=0;var t=new p(_);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=e=++e%2}}function g(){var e=new MessageChannel;e.port1.onmessage=_;return function(){return e.port2.postMessage(0)}}function E(){var e=setTimeout;return function(){return e(_,1)}}var b=new Array(1e3);function _(){for(var e=0;e<o;e+=2){var t=b[e];var r=b[e+1];t(r);b[e]=undefined;b[e+1]=undefined}o=0}function T(){try{var e=le;var t=fe(69);i=t.runOnLoop||t.runOnContext;return y()}catch(e){return E()}}var O=undefined;if(d){O=h()}else if(p){O=m()}else if(v){O=g()}else if(l===undefined&&"function"==="function"){O=T()}else{O=E()}function w(e,t){var r=arguments;var n=this;var o=new this.constructor(S);if(o[R]===undefined){$(o)}var i=n._state;if(i){(function(){var e=r[i-1];u(function(){return X(i,o,e,n._result)})})()}else{q(n,o,e,t)}return o}function I(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var r=new t(S);F(r,e);return r}var R=Math.random().toString(36).substring(16);function S(){}var P=void 0,D=1,A=2,C=new Y;function L(){return new TypeError("You cannot resolve a promise with itself")}function M(){return new TypeError("A promises callback cannot return that same promise.")}function N(e){try{return e.then}catch(e){C.error=e;return C}}function x(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function j(e,n,o){u(function(t){var r=false;var e=x(o,n,function(e){if(r){return}r=true;if(n!==e){F(t,e)}else{V(t,e)}},function(e){if(r){return}r=true;B(t,e)},"Settle: "+(t._label||" unknown promise"));if(!r&&e){r=true;B(t,e)}},e)}function k(t,e){if(e._state===D){V(t,e._result)}else if(e._state===A){B(t,e._result)}else{q(e,undefined,function(e){return F(t,e)},function(e){return B(t,e)})}}function G(e,t,r){if(t.constructor===e.constructor&&r===w&&t.constructor.resolve===I){k(e,t)}else{if(r===C){B(e,C.error)}else if(r===undefined){V(e,t)}else if(s(r)){j(e,t,r)}else{V(e,t)}}}function F(e,t){if(e===t){B(e,L())}else if(r(t)){G(e,t,N(t))}else{V(e,t)}}function U(e){if(e._onerror){e._onerror(e._result)}z(e)}function V(e,t){if(e._state!==P){return}e._result=t;e._state=D;if(e._subscribers.length!==0){u(z,e)}}function B(e,t){if(e._state!==P){return}e._state=A;e._result=t;u(U,e)}function q(e,t,r,n){var o=e._subscribers;var i=o.length;e._onerror=null;o[i]=t;o[i+D]=r;o[i+A]=n;if(i===0&&e._state){u(z,e)}}function z(e){var t=e._subscribers;var r=e._state;if(t.length===0){return}var n=undefined,o=undefined,i=e._result;for(var a=0;a<t.length;a+=3){n=t[a];o=t[a+r];if(n){X(r,n,o,i)}else{o(i)}}e._subscribers.length=0}function Y(){this.error=null}var H=new Y;function W(e,t){try{return e(t)}catch(e){H.error=e;return H}}function X(e,t,r,n){var o=s(r),i=undefined,a=undefined,u=undefined,c=undefined;if(o){i=W(r,n);if(i===H){c=true;a=i.error;i=null}else{u=true}if(t===i){B(t,M());return}}else{i=n;u=true}if(t._state!==P){}else if(o&&u){F(t,i)}else if(c){B(t,a)}else if(e===D){V(t,i)}else if(e===A){B(t,i)}}function Z(r,e){try{e(function e(t){F(r,t)},function e(t){B(r,t)})}catch(e){B(r,e)}}var K=0;function Q(){return K++}function $(e){e[R]=K++;e._state=undefined;e._result=undefined;e._subscribers=[]}function J(e,t){this._instanceConstructor=e;this.promise=new e(S);if(!this.promise[R]){$(this.promise)}if(n(t)){this._input=t;this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0){V(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){V(this.promise,this._result)}}}else{B(this.promise,ee())}}function ee(){return new Error("Array Methods must be provided an Array")}function te(e){return new J(this,e).promise}function re(o){var i=this;if(n(o))return new i(function(e,t){for(var r=o.length,n=0;n<r;n++)i.resolve(o[n]).then(e,t)});else return new i(function(e,t){return t(new TypeError("You must pass an array to race."))})}function ne(e){var t=new this(S);return B(t,e),t}function oe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ie(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ae(e){this[R]=Q();this._result=this._state=undefined;this._subscribers=[];if(S!==e){typeof e!=="function"&&oe();this instanceof ae?Z(this,e):ie()}}function ue(){var e=undefined;if(typeof se!=="undefined"){e=se}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if(r==="[object Promise]"&&!t.cast){return}}e.Promise=ae}return J.prototype._enumerate=function(){for(var e=this.length,t=this._input,r=0;this._state===P&&r<e;r++)this._eachEntry(t[r],r)},J.prototype._eachEntry=function(t,e){var r,n,o=this._instanceConstructor,i=o.resolve;i===I?(r=N(t))===w&&t._state!==P?this._settledAt(t._state,e,t._result):"function"!=typeof r?(this._remaining--,this._result[e]=t):o===ae?(G(n=new o(S),t,r),this._willSettleAt(n,e)):this._willSettleAt(new o(function(e){return e(t)}),e):this._willSettleAt(i(t),e)},J.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===P&&(this._remaining--,e===A?B(n,r):this._result[t]=r),0===this._remaining&&V(n,this._result)},J.prototype._willSettleAt=function(e,t){var r=this;q(e,void 0,function(e){return r._settledAt(D,t,e)},function(e){return r._settledAt(A,t,e)})},ae.all=function(e){return new J(this,e).promise},ae.race=function(o){var i=this;return n(o)?new i(function(e,t){for(var r=o.length,n=0;n<r;n++)i.resolve(o[n]).then(e,t)}):new i(function(e,t){return t(new TypeError("You must pass an array to race."))})},ae.resolve=I,ae.reject=function(e){var t=new this(S);return B(t,e),t},ae._setScheduler=function(e){a=e},ae._setAsap=function(e){u=e},ae._asap=u,ae.prototype={constructor:ae,then:w,catch:function(e){return this.then(null,e)}},ue(),ae.polyfill=ue,ae.Promise=ae}()}).call(this,fe(68),fe(21))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,s=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&d())}function d(){if(!l){var e=u(p);l=!0;for(var t=s.length;t;){for(c=s,s=[];++f<t;)c&&c[f].run();f=-1,t=s.length}c=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new v(e,t)),1!==s.length||l||u(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){},function(e,t,r){r(71);var n=r(40);e.exports=n("Array","includes")},function(e,t,r){"use strict";var n=r(37),o=r(34).includes,i=r(38);n({target:"Array",proto:!0,forced:!r(39)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e,t){return o(this,e,1<arguments.length?t:void 0)}}),i("includes")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilePond=t.FileStatus=t.registerPlugin=void 0;var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,s=r(2),a=(i=s)&&i.__esModule?i:{default:i},u=r(96);t.registerPlugin=u.registerPlugin,t.FileStatus=u.FileStatus;var c=(0,u.supported)(),l=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"];t.FilePond=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,a.default.Component),n(f,[{key:"componentDidMount",value:function(){var e,t,r=this;c&&((e=Object.assign({},this.props)).onupdatefiles&&(t=e.onupdatefiles,e.onupdatefiles=function(e){r.allowFilesSync=!1,t(e)}),this._pond=(0,u.create)(this._element,e),Object.keys(this._pond).filter(function(e){return!l.includes(e)}).forEach(function(e){r[e]=r._pond[e]}))}},{key:"componentWillUnmount",value:function(){this._pond&&(this._pond.destroy(),this.allowFilesSync=!0)}},{key:"shouldComponentUpdate",value:function(){return!!this.allowFilesSync||!(this.allowFilesSync=!0)}},{key:"componentDidUpdate",value:function(){var e;this._pond&&(delete(e=Object.assign({},this.props)).onupdatefiles,this._pond.setOptions(e))}},{key:"render",value:function(){var t=this,e=this.props,r=e.id,n=e.name,o=e.className,i=e.allowMultiple,a=e.required,u=e.captureMethod,c=e.acceptedFileTypes;return(0,s.createElement)("div",{className:"filepond--wrapper"},(0,s.createElement)("input",{type:"file",name:n,id:r,accept:c,multiple:i,required:a,className:o,capture:u,ref:function(e){return t._element=e}}))}}]),f);function f(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));return t.allowFilesSync=!0,t}},,function(e,t,r){(function(Ht){e.exports=function(){"use strict";var h=function e(t){return/^image/.test(t.type)},s;function t(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){(function(e){return typeof e})}else{(function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})}return t(e)}function e(e,t,r,n){if(!s){typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103}var o=e&&e.defaultProps;var i=arguments.length-3;if(!t&&i!==0){({children:void 0})}if(t&&o){for(var a in o){if(t[a]===void 0){t[a]=o[a]}}}else if(!t){o||{}}if(i===1){t.children=n}else if(i>1){var u=new Array(i);for(var c=0;c<i;c++){u[c]=arguments[c+3]}t.children=u}return{$$typeof:s,type:e,key:r===undefined?null:""+r,ref:null,props:t,_owner:null}}function r(e){var t;if(typeof Symbol==="function"){if(Symbol.asyncIterator){e[Symbol.asyncIterator];if(t!=null)return t.call(e)}if(Symbol.iterator){e[Symbol.iterator];if(t!=null)return t.call(e)}}throw new TypeError("Object is not async iterable")}function l(e){this.wrapped=e}function n(i){var a,u;function e(n,o){return new Ht(function(e,t){var r={key:n,arg:o,resolve:e,reject:t,next:null};if(u){u=u.next=r}else{a=u=r;c(n,o)}})}function c(e,t){try{var r=i[e](t);var n=r.value;var o=n instanceof l;Ht.resolve(o?n.wrapped:n).then(function(e){if(o){c("next",e);return}s(r.done?"return":"normal",e)},function(e){c("throw",e)})}catch(e){s("throw",e)}}function s(e,t){switch(e){case"return":a.resolve({value:t,done:true});break;case"throw":a.reject(t);break;default:a.resolve({value:t,done:false});break}a=a.next;if(a){c(a.key,a.arg)}else{u=null}}this._invoke=e;if(typeof i.return!=="function"){this.return=undefined}}if(typeof Symbol==="function"&&Symbol.asyncIterator){n.prototype[Symbol.asyncIterator]=function(){return this}}function o(e){return function(){return new n(e.apply(this,arguments))}}function i(e){return new l(e)}function a(n,e){var t={},r=false;function o(t,r){true;new Ht(function(e){e(n[t](r))});return{done:false,value:e(r)}}if(typeof Symbol==="function"&&Symbol.iterator){t[Symbol.iterator]=function(){return this}}t.next=function(e){if(r){false;return e}return o("next",e)};if(typeof n.throw==="function"){t.throw=function(e){if(r){false;throw e}return o("throw",e)}}if(typeof n.return==="function"){t.return=function(e){return o("return",e)}}return t}function c(e,t,r,n,o,i,a){try{var u=e[i](a);var c=u.value}catch(e){r(e);return}if(u.done){t(c)}else{Ht.resolve(c).then(n,o)}}function u(u){return function(){var e=this,a=arguments;return new Ht(function(t,r){var n=u.apply(e,a);function o(e){c(n,t,r,o,i,"next",e)}function i(e){c(n,t,r,o,i,"throw",e)}o(undefined)})}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function d(e,t,r){if(t)p(e.prototype,t);if(r)p(e,r);return e}function v(e,t){for(var r in t){var n=t[r];n.configurable=n.enumerable=true;if("value"in n)n.writable=true;Object.defineProperty(e,r,n)}if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(var i=0;i<o.length;i++){var a=o[i];var n=t[a];n.configurable=n.enumerable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a,n)}}return e}function y(e,t){var r=Object.getOwnPropertyNames(t);for(var n=0;n<r.length;n++){var o=r[n];var i=Object.getOwnPropertyDescriptor(t,o);if(i&&i.configurable&&e[o]===undefined){Object.defineProperty(e,o,i)}}return e}function m(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function g(){Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return g.apply(this,arguments)}function E(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){m(t,e,r[e])})}return t}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)O(e,t)}function _(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}function T(e){Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return T(e)}function O(e,t){Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return O(e,t)}function w(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function I(e,t,r){if(w()){Reflect.construct}else{(function e(t,r,n){var o=[null];o.push.apply(o,r);var i=Function.bind.apply(t,o);var a=new i;if(n)O(a,n.prototype);return a})}return I.apply(null,arguments)}function R(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function S(e){var n=typeof Map==="function"?new Map:undefined;(function e(t){if(t===null||!R(t))return t;if(typeof t!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof n!=="undefined"){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return I(t,arguments,T(this).constructor)}Object.create(t.prototype,{constructor:{value:r,enumerable:false,writable:true,configurable:true}});return O(r,t)});return S(e)}function P(e,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return t[Symbol.hasInstance](e)}else{return e instanceof t}}function D(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function C(e,t){if(e!==t){throw new TypeError("Cannot instantiate an arrow function")}}function L(e){if(e==null)throw new TypeError("Cannot destructure undefined")}function M(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,i;for(0;i<n.length;i++){n[i];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function N(e,t){if(e==null)return{};var r=M(e,t);var n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(0;o<i.length;o++){i[o];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function x(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return x(e)}function k(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){T(e);if(e===null)break}return e}function G(e,t,r){if(typeof Reflect!=="undefined"&&Reflect.get){Reflect.get}else{(function e(t,r,n){var o=k(t,r);if(!o)return;var i=Object.getOwnPropertyDescriptor(o,r);if(i.get){return i.get.call(n)}return i.value})}return G(e,t,r||e)}function F(e,t,r,n){if(typeof Reflect!=="undefined"&&Reflect.set){Reflect.set}else{(function e(t,r,n,o){var i=k(t,r);var a;if(i){Object.getOwnPropertyDescriptor(i,r);if(a.set){a.set.call(o,n);return true}else if(!a.writable){return false}}Object.getOwnPropertyDescriptor(o,r);if(a){if(!a.writable){return false}a.value=n;Object.defineProperty(o,r,a)}else{m(o,r,n)}return true})}return F(e,t,r,n)}function U(e,t,r,n,o){var i=F(e,t,r,n||e);if(!i&&o){throw new Error("failed to set property")}return r}function V(e,t){if(!t){e.slice(0)}return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function B(e,t){if(!t){e.slice(0)}e.raw=t;return e}function q(e,t){if(e===H){throw new ReferenceError(t+" is not defined - temporal dead zone")}else{return e}}function z(e){throw new Error('"'+e+'" is read-only')}function Y(e){throw new Error('Class "'+e+'" cannot be referenced in computed property keys.')}n.prototype.next=function(e){return this._invoke("next",e)},n.prototype.throw=function(e){return this._invoke("throw",e)},n.prototype.return=function(e){return this._invoke("return",e)};var H={};function W(e,t){return $(e)||ee(e,t)||ne()}function X(e,t){return $(e)||te(e,t)||ne()}function Z(e){return $(e)||J(e)||ne()}function K(e){return Q(e)||J(e)||re()}function Q(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function $(e){if(Array.isArray(e))return e}function J(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function ee(e,t){var r=[];var n=true;var o=false;var i=undefined;try{for(var a=e[Symbol.iterator](),u;!(n=(u=a.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(e){o=true;i=e}finally{try{if(!n&&a["return"]!=null)a["return"]()}finally{if(o)throw i}}return r}function te(e,t){var r=[];for(var n=e[Symbol.iterator](),o;!n.next().done;){r.push(o.value);if(t&&r.length===t)break}return r}function re(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ne(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function oe(t){return function(){var e=t.apply(this,arguments);e.next();return e}}function ie(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ae(e){var t=ie(e,"string");return typeof t==="symbol"?t:String(t)}function ue(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and set to use loose mode. "+"To use proposal-class-properties in spec mode with decorators, wait for "+"the next major version of decorators in stage 2.")}function ce(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function se(r,n,e,t,o){var i={};Object.keys(t).forEach(function(e){i[e]=t[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i);if(o&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(o):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(r,n,i);null}return i}var le=0;function fe(e){return"__private_"+le+++"_"+e}function pe(e,t){if(!Object.prototype.hasOwnProperty.call(e,t)){throw new TypeError("attempted to use private field on non-instance")}return e}function de(e,t){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}var r=t.get(e);if(r.get){return r.get.call(e)}return r.value}function ve(e,t,r){if(!t.has(e)){throw new TypeError("attempted to set private field on non-instance")}var n=t.get(e);if(n.set){n.set.call(e,r)}else{if(!n.writable){throw new TypeError("attempted to set read only private field")}n.value=r}return r}function he(e,t,r){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return r.value}function ye(e,t,r,n){if(e!==t){throw new TypeError("Private static access of wrong provenance")}if(!r.writable){throw new TypeError("attempted to set read only private field")}r.value=n;return n}function me(e,t,r){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return r}function ge(){throw new TypeError("attempted to set read only static private field")}function Ee(e,t,r,n){var o=be();if(n){for(var i=0;i<n.length;i++){n[i](o)}}var a=t(function e(t){o.initializeInstanceElements(t,u.elements)},r);var u=o.decorateClass(Oe(a.d.map(_e)),e);o.initializeClassElements(a.F,u.elements);return o.runClassFinishers(a.F,u.finishers)}function be(){(function(){return e});var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(r,e){["method","field"].forEach(function(t){e.forEach(function(e){if(e.kind===t&&e.placement==="own"){this.defineClassElement(r,e)}},this)},this)},initializeClassElements:function(o,e){var i=o.prototype;["method","field"].forEach(function(n){e.forEach(function(e){var t=e.placement;if(e.kind===n&&(t==="static"||t==="prototype")){var r=t==="static"?o:i;this.defineClassElement(r,e)}},this)},this)},defineClassElement:function(e,t){var r=t.descriptor;if(t.kind==="field"){var n=t.initializer;({enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:n===void 0?void 0:n.call(e)})}Object.defineProperty(e,t.key,r)},decorateClass:function(e,t){var r=[];var n=[];var o={static:[],prototype:[],own:[]};e.forEach(function(e){this.addElementPlacement(e,o)},this);e.forEach(function(e){if(!we(e))return r.push(e);var t=this.decorateElement(e,o);r.push(t.element);r.push.apply(r,t.extras);n.push.apply(n,t.finishers)},this);if(!t){return{elements:r,finishers:n}}var i=this.decorateConstructor(r,t);n.push.apply(n,i.finishers);i.finishers=n;return i},addElementPlacement:function(e,t,r){var n=t[e.placement];if(!r&&n.indexOf(e.key)!==-1){throw new TypeError("Duplicated element ("+e.key+")")}n.push(e.key)},decorateElement:function(e,t){var r=[];var n=[];for(var o=e.decorators,i=o.length-1;i>=0;i--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var u=this.fromElementDescriptor(e);var c=this.toElementFinisherExtras((0,o[i])(u)||u);c.element;this.addElementPlacement(e,t);if(c.finisher){n.push(c.finisher)}var s=c.extras;if(s){for(var l=0;l<s.length;l++){this.addElementPlacement(s[l],t)}r.push.apply(r,s)}}return{element:e,finishers:n,extras:r}},decorateConstructor:function(e,t){var r=[];for(var n=t.length-1;n>=0;n--){var o=this.fromClassDescriptor(e);var i=this.toClassDescriptor((0,t[n])(o)||o);if(i.finisher!==undefined){r.push(i.finisher)}if(i.elements!==undefined){i.elements;for(var a=0;a<e.length-1;a++){for(var u=a+1;u<e.length;u++){if(e[a].key===e[u].key&&e[a].placement===e[u].placement){throw new TypeError("Duplicated element ("+e[a].key+")")}}}}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};var r={value:"Descriptor",configurable:true};Object.defineProperty(t,Symbol.toStringTag,r);if(e.kind==="field")t.initializer=e.initializer;return t},toElementDescriptors:function(e){if(e===undefined)return;return Z(e).map(function(e){var t=this.toElementDescriptor(e);this.disallowProperty(e,"finisher","An element descriptor");this.disallowProperty(e,"extras","An element descriptor");return t},this)},toElementDescriptor:function(e){var t=String(e.kind);if(t!=="method"&&t!=="field"){throw new TypeError('An element descriptor\'s .kind property must be either "method" or'+' "field", but a decorator created an element descriptor with'+' .kind "'+t+'"')}var r=ae(e.key);var n=String(e.placement);if(n!=="static"&&n!=="prototype"&&n!=="own"){throw new TypeError('An element descriptor\'s .placement property must be one of "static",'+' "prototype" or "own", but a decorator created an element descriptor'+' with .placement "'+n+'"')}var o=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var i={kind:t,key:r,placement:n,descriptor:Object.assign({},o)};if(t!=="field"){this.disallowProperty(e,"initializer","A method descriptor")}else{this.disallowProperty(o,"get","The property descriptor of a field descriptor");this.disallowProperty(o,"set","The property descriptor of a field descriptor");this.disallowProperty(o,"value","The property descriptor of a field descriptor");i.initializer=e.initializer}return i},toElementFinisherExtras:function(e){var t=this.toElementDescriptor(e);var r=Re(e,"finisher");var n=this.toElementDescriptors(e.extras);return{element:t,finisher:r,extras:n}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};var r={value:"Descriptor",configurable:true};Object.defineProperty(t,Symbol.toStringTag,r);return t},toClassDescriptor:function(e){var t=String(e.kind);if(t!=="class"){throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator'+' created a class descriptor with .kind "'+t+'"')}this.disallowProperty(e,"key","A class descriptor");this.disallowProperty(e,"placement","A class descriptor");this.disallowProperty(e,"descriptor","A class descriptor");this.disallowProperty(e,"initializer","A class descriptor");this.disallowProperty(e,"extras","A class descriptor");var r=Re(e,"finisher");var n=this.toElementDescriptors(e.elements);return{elements:n,finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(n!==undefined){if(typeof n!=="function"){throw new TypeError("Finishers must return a constructor.")}n}}return e},disallowProperty:function(e,t,r){if(e[t]!==undefined){throw new TypeError(r+" can't have a ."+t+" property.")}}};return e}function _e(e){var t=ae(e.key);var r;if(e.kind==="method"){({value:e.value,writable:true,configurable:true,enumerable:false})}else if(e.kind==="get"){({get:e.value,configurable:true,enumerable:false})}else if(e.kind==="set"){({set:e.value,configurable:true,enumerable:false})}else if(e.kind==="field"){({configurable:true,writable:true,enumerable:true})}var n={kind:e.kind==="field"?"field":"method",key:t,placement:e.static?"static":e.kind==="field"?"own":"prototype",descriptor:r};if(e.decorators)n.decorators=e.decorators;if(e.kind==="field")n.initializer=e.value;return n}function Te(e,t){if(e.descriptor.get!==undefined){t.descriptor.get=e.descriptor.get}else{t.descriptor.set=e.descriptor.set}}function Oe(e){var t=[];var r=function(e){return e.kind==="method"&&e.key===o.key&&e.placement===o.placement};for(var n=0;n<e.length;n++){var o=e[n];var i;if(o.kind==="method"&&t.find(r)){if(Ie(o.descriptor)||Ie(i.descriptor)){if(we(o)||we(i)){throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.")}i.descriptor=o.descriptor}else{if(we(o)){if(we(i)){throw new ReferenceError("Decorators can't be placed on different accessors with for "+"the same property ("+o.key+").")}i.decorators=o.decorators}Te(o,i)}}else{t.push(o)}}return t}function we(e){return e.decorators&&e.decorators.length}function Ie(e){return e!==undefined&&!(e.value===undefined&&e.writable===undefined)}function Re(e,t){var r=e[t];if(r!==undefined&&typeof r!=="function"){throw new TypeError("Expected '"+t+"' to be a function")}return r}function Se(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}function Pe(){throw new TypeError("attempted to reassign private method")}function De(e,t){(function(e,t){return new r(e,t)});var n=S(RegExp);var o=RegExp.prototype;var i=new WeakMap;function r(e,t){var r=n.call(this,e);i.set(r,t);return r}b(r,n);(function(e){var t=o.exec.call(this,e);if(t)t.groups=a(t,this);return t});Symbol.replace,function(e,t){if(typeof t==="string"){var r=i.get(this);return o[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+r[t]}))}else if(typeof t==="function"){var n=this;return o[Symbol.replace].call(this,e,function(){var e=[];e.push.apply(e,arguments);if(typeof e[e.length-1]!=="object"){e.push(a(e,n))}return t.apply(this,e)})}else{return o[Symbol.replace].call(this,e,t)}};function a(r,e){var n=i.get(e);return Object.keys(n).reduce(function(e,t){e[t]=r[n[t]];return e},Object.create(null))}return De.apply(this,arguments)}var Ae=function e(t,r){return Ne(t.x*r,t.y*r)},Ce=function e(t,r){return Ne(t.x+r.x,t.y+r.y)},Le=function e(t){var r=Math.sqrt(t.x*t.x+t.y*t.y);if(r===0){return{x:0,y:0}}return Ne(t.x/r,t.y/r)},Me=function e(t,r,n){var o=Math.cos(r);var i=Math.sin(r);var a=Ne(t.x-n.x,t.y-n.y);return Ne(n.x+o*a.x-i*a.y,n.y+i*a.x+o*a.y)},Ne=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return{x:t,y:r}},xe=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var o=arguments.length>3?arguments[3]:undefined;if(typeof t==="string"){return parseFloat(t)*n}if(typeof t==="number"){return t*(o?r[o]:Math.min(r.width,r.height))}return},je=function e(t,r,n){var o=t.borderStyle||t.lineStyle||"solid";var i=t.backgroundColor||t.fontColor||"transparent";var a=t.borderColor||t.lineColor||"transparent";var u=xe(t.borderWidth||t.lineWidth,r,n);var c=t.lineCap||"round";var s=t.lineJoin||"round";var l=typeof o==="string"?"":o.map(function(e){return xe(e,r,n)}).join(",");var f=t.opacity||1;return{"stroke-linecap":c,"stroke-linejoin":s,"stroke-width":u||0,"stroke-dasharray":l,stroke:a,fill:i,opacity:f}},ke=function e(t){return t!=null},Ge=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var o=xe(t.x,r,n,"width")||xe(t.left,r,n,"width");var i=xe(t.y,r,n,"height")||xe(t.top,r,n,"height");var a=xe(t.width,r,n,"width");var u=xe(t.height,r,n,"height");var c=xe(t.right,r,n,"width");var s=xe(t.bottom,r,n,"height");if(!ke(i)){if(ke(u)&&ke(s)){i=r.height-u-s}else{i=s}}if(!ke(o)){if(ke(a)&&ke(c)){o=r.width-a-c}else{o=c}}if(!ke(a)){if(ke(o)&&ke(c)){a=r.width-o-c}else{a=0}}if(!ke(u)){if(ke(i)&&ke(s)){u=r.height-i-s}else{u=0}}return{x:o||0,y:i||0,width:a||0,height:u||0}},Fe=function e(t){return t.map(function(e,t){return"".concat(t===0?"M":"L"," ").concat(e.x," ").concat(e.y)}).join(" ")},Ue=function e(t,r){return Object.keys(r).forEach(function(e){return t.setAttribute(e,r[e])})},Ve="http://www.w3.org/2000/svg",Be=function e(t,r){var n=document.createElementNS(Ve,t);if(r){Ue(n,r)}return n},qe,ze,Ye={contain:"xMidYMid meet",cover:"xMidYMid slice"},He,We={left:"start",center:"middle",right:"end"},Xe,Ze,Ke,Qe=function e(t){return function(e){return Be(t,{id:e.id})}},$e,Je,et={image:function e(t){var r=Be("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});r.onload=function(){r.setAttribute("opacity",t.opacity||1)};r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src);return r},rect:Qe("rect"),ellipse:Qe("ellipse"),text:Qe("text"),path:Qe("path"),line:function e(t){var r=Be("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"});var n=Be("line");r.appendChild(n);var o=Be("path");r.appendChild(o);var i=Be("path");r.appendChild(i);return r}},tt={rect:function e(t){return Ue(t,Object.assign({},t.rect,t.styles))},ellipse:function e(t){var r=t.rect.x+t.rect.width*.5;var n=t.rect.y+t.rect.height*.5;var o=t.rect.width*.5;var i=t.rect.height*.5;return Ue(t,Object.assign({cx:r,cy:n,rx:o,ry:i},t.styles))},image:function e(t,r){Ue(t,Object.assign({},t.rect,t.styles,{preserveAspectRatio:Ye[r.fit]||"none"}))},text:function e(t,r,n,o){var i=xe(r.fontSize,n,o);var a=r.fontFamily||"sans-serif";var u=r.fontWeight||"normal";var c=We[r.textAlign]||"start";Ue(t,Object.assign({},t.rect,t.styles,{"stroke-width":0,"font-weight":u,"font-size":i,"font-family":a,"text-anchor":c}));if(t.text!==r.text){t.text=r.text;t.textContent=r.text.length?r.text:" "}},path:function e(t,r,n,o){Ue(t,Object.assign({},t.styles,{fill:"none",d:Fe(r.points.map(function(e){return{x:xe(e.x,n,o,"width"),y:xe(e.y,n,o,"height")}}))}))},line:function e(t,r,n,o){Ue(t,Object.assign({},t.rect,t.styles,{fill:"none"}));var i=t.childNodes[0];var a=t.childNodes[1];var u=t.childNodes[2];var c=t.rect;var s={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};Ue(i,{x1:c.x,y1:c.y,x2:s.x,y2:s.y});if(!r.lineDecoration)return;a.style.display="none";u.style.display="none";var l=Le({x:s.x-c.x,y:s.y-c.y});var f=xe(.05,n,o);if(r.lineDecoration.indexOf("arrow-begin")!==-1){var p=Ae(l,f);var d=Ce(c,p);var v=Me(c,2,d);var h=Me(c,-2,d);Ue(a,{style:"display:block;",d:"M".concat(v.x,",").concat(v.y," L").concat(c.x,",").concat(c.y," L").concat(h.x,",").concat(h.y)})}if(r.lineDecoration.indexOf("arrow-end")!==-1){var y=Ae(l,-f);var m=Ce(s,y);var g=Me(s,2,m);var E=Me(s,-2,m);Ue(u,{style:"display:block;",d:"M".concat(g.x,",").concat(g.y," L").concat(s.x,",").concat(s.y," L").concat(E.x,",").concat(E.y)})}}},rt=function e(t,r){return et[t](r)},nt=function e(t,r,n,o,i){if(r!=="path"){t.rect=Ge(n,o,i)}t.styles=je(n,o,i);tt[r](t,n,o,i)},ot=["x","y","left","top","right","bottom","width","height"],it=function e(t){return typeof t==="string"&&/%/.test(t)?parseFloat(t)/100:t},at=function e(t){var r=W(t,2),n=r[0],o=r[1];var i=o.points?{}:ot.reduce(function(e,t){e[t]=it(o[t]);return e},{});return[n,Object.assign({zIndex:0},o,i)]},ut=function e(t,r){if(t[1].zIndex>r[1].zIndex){return 1}if(t[1].zIndex<r[1].zIndex){return-1}return 0},ct=function e(t){return t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:true,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function e(t){var i=t.root,r=t.props;if(!r.dirty)return;var n=r.crop,o=r.resize,a=r.markup;var u=r.width;var c=r.height;var s=n.width;var l=n.height;if(o){var f=o.size;var p=f&&f.width;var d=f&&f.height;var v=o.mode;var h=o.upscale;if(p&&!d)d=p;if(d&&!p)p=d;var y=s<p&&l<d;if(!y||y&&h){var m=p/s;var g=d/l;if(v==="force"){s=p;l=d}else{var E;if(v==="cover"){E=Math.max(m,g)}else if(v==="contain"){E=Math.min(m,g)}s=s*E;l=l*E}}}var b={width:u,height:c};i.element.setAttribute("width",b.width);i.element.setAttribute("height",b.height);var _=Math.min(u/s,c/l);i.element.innerHTML="";var T=i.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");a.filter(T).map(at).sort(ut).forEach(function(e){var t=W(e,2),r=t[0],n=t[1];var o=rt(r,n);nt(o,r,n,b,_);i.element.appendChild(o)})}})},st=function e(t,r){return{x:t,y:r}},lt=function e(t,r){return t.x*r.x+t.y*r.y},ft=function e(t,r){return st(t.x-r.x,t.y-r.y)},pt=function e(t,r){return lt(ft(t,r),ft(t,r))},dt=function e(t,r){return Math.sqrt(pt(t,r))},vt=function e(t,r){var n=t;var o=1.5707963267948966;var i=r;var a=1.5707963267948966-r;var u=Math.sin(o);var c=Math.sin(i);var s=Math.sin(a);var l=Math.cos(a);var f=n/u;var p=f*c;var d=f*s;return st(l*p,l*d)},ht=function e(t,r){var n=t.width;var o=t.height;var i=vt(n,r);var a=vt(o,r);var u=st(t.x+Math.abs(i.x),t.y-Math.abs(i.y));var c=st(t.x+t.width+Math.abs(a.y),t.y+Math.abs(a.x));var s=st(t.x-Math.abs(a.y),t.y+t.height-Math.abs(a.x));return{width:dt(u,c),height:dt(u,s)}},yt=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var o=t.height/t.width;var i=1;var a=r;var u=1;var c=o;if(c>a){c=a;u=c/o}var s=Math.max(i/u,a/c);var l=t.width/(n*s*u);var f=l*r;return{width:l,height:f}},mt=function e(t,r,n,o){var i=o.x>.5?1-o.x:o.x;var a=o.y>.5?1-o.y:o.y;var u=i*2*t.width;var c=a*2*t.height;var s=ht(r,n);return Math.max(s.width/u,s.height/c)},gt=function e(t,r){var n=t.width;var o=n*r;if(o>t.height){o=t.height;n=o/r}var i=(t.width-n)*.5;var a=(t.height-o)*.5;return{x:i,y:a,width:n,height:o}},Et=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=r.zoom,o=r.rotation,i=r.center,a=r.aspectRatio;if(!a)a=t.height/t.width;var u=yt(t,a,n);var c={x:u.width*.5,y:u.height*.5};var s={x:0,y:0,width:u.width,height:u.height,center:c};var l=typeof r.scaleToFit==="undefined"||r.scaleToFit;var f=mt(t,gt(s,a),o,l?i:{x:.5,y:.5});var p=n*f;return{widthFloat:u.width/p,heightFloat:u.height/p,width:Math.round(u.width/p),height:Math.round(u.height/p)}},bt={type:"spring",stiffness:.5,damping:.45,mass:10},_t=function e(t){return t.utils.createView({name:"image-bitmap",ignoreRect:true,mixins:{styles:["scaleX","scaleY"]},create:function e(t){var r=t.root,n=t.props;r.appendChild(n.image)}})},Tt=function e(o){return o.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:true,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:bt,originY:bt,scaleX:bt,scaleY:bt,translateX:bt,translateY:bt,rotateZ:bt}},create:function e(t){var r=t.root,n=t.props;n.width=n.image.width;n.height=n.image.height;r.ref.bitmap=r.appendChildView(r.createChildView(_t(o),{image:n.image}))},write:function e(t){var r=t.root,n=t.props;var o=n.crop.flip;var i=r.ref.bitmap;i.scaleX=o.horizontal?-1:1;i.scaleY=o.vertical?-1:1}})},Ot=function e(i){return i.utils.createView({name:"image-clip",tag:"div",ignoreRect:true,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function e(t){var r=t.root,n=t.props;if(!n.background)return;r.element.style.backgroundColor=n.background},create:function e(t){var r=t.root,n=t.props;r.ref.image=r.appendChildView(r.createChildView(Tt(i),Object.assign({},n)));r.ref.createMarkup=function(){if(r.ref.markup)return;r.ref.markup=r.appendChildView(r.createChildView(ct(i),Object.assign({},n)))};r.ref.destroyMarkup=function(){if(!r.ref.markup)return;r.removeChildView(r.ref.markup);r.ref.markup=null};var o=r.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");if(o===null)return;if(o==="grid"){r.element.dataset.transparencyIndicator=o}else{r.element.dataset.transparencyIndicator="color"}},write:function e(t){var r=t.root,n=t.props,o=t.shouldOptimize;var i=n.crop,a=n.markup,u=n.resize,c=n.dirty,s=n.width,l=n.height;r.ref.image.crop=i;var f={x:0,y:0,width:s,height:l,center:{x:s*.5,y:l*.5}};var p={width:r.ref.image.width,height:r.ref.image.height};var d={x:i.center.x*p.width,y:i.center.y*p.height};var v={x:f.center.x-p.width*i.center.x,y:f.center.y-p.height*i.center.y};var h=Math.PI*2+i.rotation%(Math.PI*2);var y=i.aspectRatio||p.height/p.width;var m=typeof i.scaleToFit==="undefined"||i.scaleToFit;var g=mt(p,gt(f,y),h,m?i.center:{x:.5,y:.5});var E=i.zoom*g;if(a&&a.length){r.ref.createMarkup();r.ref.markup.width=s;r.ref.markup.height=l;r.ref.markup.resize=u;r.ref.markup.dirty=c;r.ref.markup.markup=a;r.ref.markup.crop=Et(p,i)}else if(r.ref.markup){r.ref.destroyMarkup()}var b=r.ref.image;if(o){b.originX=null;b.originY=null;b.translateX=null;b.translateY=null;b.rotateZ=null;b.scaleX=null;b.scaleY=null;return}b.originX=d.x;b.originY=d.y;b.translateX=v.x;b.translateY=v.y;b.rotateZ=h;b.scaleX=E;b.scaleY=E}})},wt=function e(o){return o.utils.createView({name:"image-preview",tag:"div",ignoreRect:true,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:bt,scaleY:bt,translateY:bt,opacity:{type:"tween",duration:400}}},create:function e(t){var r=t.root,n=t.props;r.ref.clip=r.appendChildView(r.createChildView(Ot(o),{id:n.id,image:n.image,crop:n.crop,markup:n.markup,resize:n.resize,dirty:n.dirty,background:n.background}))},write:function e(t){var r=t.root,n=t.props,o=t.shouldOptimize;var i=r.ref.clip;var a=n.image,u=n.crop,c=n.markup,s=n.resize,l=n.dirty;i.crop=u;i.markup=c;i.resize=s;i.dirty=l;i.opacity=o?0:1;if(o||r.rect.element.hidden)return;var f=a.height/a.width;var p=u.aspectRatio||f;var d=r.rect.inner.width;var v=r.rect.inner.height;var h=r.query("GET_IMAGE_PREVIEW_HEIGHT");var y=r.query("GET_IMAGE_PREVIEW_MIN_HEIGHT");var m=r.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");var g=r.query("GET_PANEL_ASPECT_RATIO");var E=r.query("GET_ALLOW_MULTIPLE");if(g&&!E){h=d*g;p=g}var b=h!==null?h:Math.max(y,Math.min(d*p,m));var _=b/p;if(_>d){_=d;b=_*p}if(b>v){b=v;_=v/p}i.width=_;i.height=b}})},It='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',Rt=false,St=0,Pt=function e(t){return t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:true,create:function e(t){var r=t.root,n=t.props;if(!Rt&&document.querySelector("base")){It=It.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#");Rt=true}St++;r.element.classList.add("filepond--image-preview-overlay-".concat(n.status));r.element.innerHTML=It.replace(/__UID__/g,St)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},Dt=function e(){self.onmessage=function(t){createImageBitmap(t.data.message.file).then(function(e){self.postMessage({id:t.data.id,message:e},[e])})}},At=function e(){self.onmessage=function(e){var t=e.data.message.imageData;var r=e.data.message.colorMatrix;var n=t.data;var o=n.length;var i=r[0];var a=r[1];var u=r[2];var c=r[3];var s=r[4];var l=r[5];var f=r[6];var p=r[7];var d=r[8];var v=r[9];var h=r[10];var y=r[11];var m=r[12];var g=r[13];var E=r[14];var b=r[15];var _=r[16];var T=r[17];var O=r[18];var w=r[19];var I=0,R=0,S=0,P=0,D=0;for(;I<o;I+=4){R=n[I]/255;S=n[I+1]/255;P=n[I+2]/255;D=n[I+3]/255;n[I]=Math.max(0,Math.min((R*i+S*a+P*u+D*c+s)*255,255));n[I+1]=Math.max(0,Math.min((R*l+S*f+P*p+D*d+v)*255,255));n[I+2]=Math.max(0,Math.min((R*h+S*y+P*m+D*g+E)*255,255));n[I+3]=Math.max(0,Math.min((R*b+S*_+P*T+D*O+w)*255,255))}self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},Ct=function e(t,r){var n=new Image;n.onload=function(){var e=n.naturalWidth;var t=n.naturalHeight;n=null;r(e,t)};n.src=t},Lt={1:function e(){return[1,0,0,1,0,0]},2:function e(t){return[-1,0,0,1,t,0]},3:function e(t,r){return[-1,0,0,-1,t,r]},4:function e(t,r){return[1,0,0,-1,0,r]},5:function e(){return[0,1,1,0,0,0]},6:function e(t,r){return[0,1,-1,0,r,0]},7:function e(t,r){return[0,-1,-1,0,r,t]},8:function e(t){return[0,-1,1,0,0,t]}},Mt=function e(t,r,n,o){if(o===-1){return}t.transform.apply(t,Lt[o](r,n))},Nt=function e(t,r,n,o){r=Math.round(r);n=Math.round(n);var i=document.createElement("canvas");i.width=r;i.height=n;var a=i.getContext("2d");if(o>=5&&o<=8){var u=[n,r];r=u[0];n=u[1]}Mt(a,r,n,o);a.drawImage(t,0,0,r,n);return i},xt=function e(t){return/^image/.test(t.type)&&!/svg/.test(t.type)},jt=10,kt=10,Gt=function e(t){var r=Math.min(jt/t.width,kt/t.height);var n=document.createElement("canvas");var o=n.getContext("2d");var i=n.width=Math.ceil(t.width*r);var a=n.height=Math.ceil(t.height*r);o.drawImage(t,0,0,i,a);var u=null;try{u=o.getImageData(0,0,i,a).data}catch(e){return null}var c=u.length;var s=0;var l=0;var f=0;var p=0;for(;p<c;p+=4){s+=u[p]*u[p];l+=u[p+1]*u[p+1];f+=u[p+2]*u[p+2]}s=Ft(s,c);l=Ft(l,c);f=Ft(f,c);return{r:s,g:l,b:f}},Ft=function e(t,r){return Math.floor(Math.sqrt(t/(r/4)))},Ut=function e(t,r){r=r||document.createElement("canvas");r.width=t.width;r.height=t.height;var n=r.getContext("2d");n.drawImage(t,0,0);return r},Vt=function e(t){var r;try{r=new ImageData(t.width,t.height)}catch(e){var n=document.createElement("canvas");var o=n.getContext("2d");r=o.createImageData(t.width,t.height)}r.data.set(new Uint8ClampedArray(t.data));return r},Bt=function e(n){return new Ht(function(e,t){var r=new Image;r.crossOrigin="Anonymous";r.onload=function(){e(r)};r.onerror=function(e){t(e)};r.src=n})},qt=function e(t){var n=Pt(t);var d=wt(t);var a=t.utils.createWorker;var T=function e(n,o,i){return new Ht(function(t){if(!n.ref.imageData){n.ref.imageData=i.getContext("2d").getImageData(0,0,i.width,i.height)}var e=Vt(n.ref.imageData);if(!o||o.length!==20){i.getContext("2d").putImageData(e,0,0);return t()}var r=a(At);r.post({imageData:e,colorMatrix:o},function(e){i.getContext("2d").putImageData(e,0,0);r.terminate();t()},[e.data.buffer])})};var o=function e(t,r){t.removeChildView(r);r.image.width=1;r.image.height=1;r._destroy()};var l=function e(t){var r=t.root;var n=r.ref.images.shift();n.opacity=0;n.translateY=-15;r.ref.imageViewBin.push(n);return n};var O=function e(t){var r=t.root,n=t.props,o=t.image;var i=n.id;var a=r.query("GET_ITEM",{id:i});if(!a)return;var u=a.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:false,vertical:false},zoom:1,rotation:0,aspectRatio:null};var c=r.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");var s;var l;var f=false;if(r.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")){s=a.getMetadata("markup")||[];l=a.getMetadata("resize");f=true}var p=r.appendChildView(r.createChildView(d,{id:i,image:o,crop:u,resize:l,markup:s,dirty:f,background:c,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),r.childViews.length);r.ref.images.push(p);p.opacity=1;p.scaleX=1;p.scaleY=1;p.translateY=0;setTimeout(function(){r.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:i})},250)};var f=function e(t){var r=t.root,n=t.props;var o=r.query("GET_ITEM",{id:n.id});if(!o)return;var i=r.ref.images[r.ref.images.length-1];i.crop=o.getMetadata("crop");i.background=r.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");if(r.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")){i.dirty=true;i.resize=o.getMetadata("resize");i.markup=o.getMetadata("markup")}};var r=function e(t){var r=t.root,n=t.props,o=t.action;if(!/crop|filter|markup|resize/.test(o.change.key))return;if(!r.ref.images.length)return;var i=r.query("GET_ITEM",{id:n.id});if(!i)return;if(/filter/.test(o.change.key)){var a=r.ref.images[r.ref.images.length-1];T(r,o.change.value,a.image);return}if(/crop|markup|resize/.test(o.change.key)){var u=i.getMetadata("crop");var c=r.ref.images[r.ref.images.length-1];if(Math.abs(u.aspectRatio-c.crop.aspectRatio)>1e-5){var s=l({root:r});O({root:r,props:n,image:Ut(s.image)})}else{f({root:r,props:n})}}};var u=function e(t){var r=window.navigator.userAgent;var n=r.match(/Firefox\/([0-9]+)\./);var o=n?parseInt(n[1]):null;if(o<=58)return false;return"createImageBitmap"in window&&xt(t)};var i=function e(t){var r=t.root,n=t.props;var o=n.id;var i=r.query("GET_ITEM",o);if(!i)return;var a=URL.createObjectURL(i.file);Ct(a,function(e,t){r.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:o,width:e,height:t})})};var c=function e(t){var g=t.root,E=t.props;var r=E.id;var b=g.query("GET_ITEM",r);if(!b)return;var _=URL.createObjectURL(b.file);var n=function e(){Bt(_).then(o)};var o=function e(r){URL.revokeObjectURL(_);var t=b.getMetadata("exif")||{};var n=t.orientation||-1;var o=r.width,i=r.height;if(!o||!i)return;if(n>=5&&n<=8){var a=[i,o];o=a[0];i=a[1]}var u=Math.max(1,window.devicePixelRatio*.75);var c=g.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR");var s=c*u;var l=i/o;var f=g.rect.element.width;var p=g.rect.element.height;var d=f;var v=d*l;if(l>1){d=Math.min(o,f*s);v=d*l}else{v=Math.min(i,p*s);d=v/l}var h=Nt(r,d,v,n);var y=function e(){var t=g.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?Gt(data):null;b.setMetadata("color",t,true);if("close"in r){r.close()}g.ref.overlayShadow.opacity=1;O({root:g,props:E,image:h})};var m=b.getMetadata("filter");if(m){T(g,m,h).then(y)}else{y()}};if(u(b.file)){var i=a(Dt);i.post({file:b.file},function(e){i.terminate();if(!e){n();return}o(e)})}else{n()}};var s=function e(t){var r=t.root;var n=r.ref.images[r.ref.images.length-1];n.translateY=0;n.scaleX=1;n.scaleY=1;n.opacity=1};var p=function e(t){var r=t.root;r.ref.overlayShadow.opacity=1;r.ref.overlayError.opacity=0;r.ref.overlaySuccess.opacity=0};var v=function e(t){var r=t.root;r.ref.overlayShadow.opacity=.25;r.ref.overlayError.opacity=1};var h=function e(t){var r=t.root;r.ref.overlayShadow.opacity=.25;r.ref.overlaySuccess.opacity=1};var y=function e(t){var r=t.root;r.ref.images=[];r.ref.imageData=null;r.ref.imageViewBin=[];r.ref.overlayShadow=r.appendChildView(r.createChildView(n,{opacity:0,status:"idle"}));r.ref.overlaySuccess=r.appendChildView(r.createChildView(n,{opacity:0,status:"success"}));r.ref.overlayError=r.appendChildView(r.createChildView(n,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:y,styles:["height"],apis:["height"],destroy:function e(t){var r=t.root;r.ref.images.forEach(function(e){e.image.width=1;e.image.height=1})},didWriteView:function e(t){var r=t.root;r.ref.images.forEach(function(e){e.dirty=false})},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:s,DID_IMAGE_PREVIEW_CONTAINER_CREATE:i,DID_FINISH_CALCULATE_PREVIEWSIZE:c,DID_UPDATE_ITEM_METADATA:r,DID_THROW_ITEM_LOAD_ERROR:v,DID_THROW_ITEM_PROCESSING_ERROR:v,DID_THROW_ITEM_INVALID:v,DID_COMPLETE_ITEM_PROCESSING:h,DID_START_ITEM_PROCESSING:p,DID_REVERT_ITEM_PROCESSING:p},function(e){var t=e.root;var r=t.ref.imageViewBin.filter(function(e){return e.opacity===0});t.ref.imageViewBin=t.ref.imageViewBin.filter(function(e){return e.opacity>0});r.forEach(function(e){return o(t,e)});r.length=0})})},zt=function e(t){var r=t.addFilter,n=t.utils;var o=n.Type,u=n.createRoute,d=n.isFile;var v=qt(t);r("CREATE_VIEW",function(e){var t=e.is,f=e.view,p=e.query;if(!t("file")||!p("GET_ALLOW_IMAGE_PREVIEW"))return;var r=function e(t){var r=t.root,n=t.props;var o=n.id;var i=p("GET_ITEM",o);if(!i||!d(i.file)||i.archived)return;var a=i.file;if(!h(a))return;if(!p("GET_IMAGE_PREVIEW_FILTER_ITEM")(i))return;var u="createImageBitmap"in(window||{});var c=p("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!u&&c&&a.size>c)return;r.ref.imagePreview=f.appendChildView(f.createChildView(v,{id:o}));var s=r.query("GET_IMAGE_PREVIEW_HEIGHT");if(s){r.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:i.id,height:s})}var l=!u&&a.size>p("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");r.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:o},l)};var n=function e(t,r){if(!t.ref.imagePreview)return;var n=r.id;var o=t.query("GET_ITEM",{id:n});if(!o)return;var i=t.query("GET_PANEL_ASPECT_RATIO");var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO");var u=t.query("GET_IMAGE_PREVIEW_HEIGHT");if(i||a||u)return;var c=t.ref,s=c.imageWidth,l=c.imageHeight;if(!s||!l)return;var f=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT");var p=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");var d=o.getMetadata("exif")||{};var v=d.orientation||-1;if(v>=5&&v<=8){var h=[l,s];s=h[0];l=h[1]}if(!xt(o.file)||t.query("GET_IMAGE_PREVIEW_UPSCALE")){var y=2048/s;s*=y;l*=y}var m=l/s;var g=(o.getMetadata("crop")||{}).aspectRatio||m;var E=Math.max(f,Math.min(l,p));var b=t.rect.element.width;var _=Math.min(b*g,E);t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:o.id,height:_})};var o=function e(t){var r=t.root;r.ref.shouldRescale=true};var i=function e(t){var r=t.root,n=t.action;if(n.change.key!=="crop")return;r.ref.shouldRescale=true};var a=function e(t){var r=t.root,n=t.action;r.ref.imageWidth=n.width;r.ref.imageHeight=n.height;r.ref.shouldRescale=true;r.ref.shouldDrawPreview=true;r.dispatch("KICK")};f.registerWriter(u({DID_RESIZE_ROOT:o,DID_STOP_RESIZE:o,DID_LOAD_ITEM:r,DID_IMAGE_PREVIEW_CALCULATE_SIZE:a,DID_UPDATE_ITEM_METADATA:i},function(e){var t=e.root,r=e.props;if(!t.ref.imagePreview)return;if(t.rect.element.hidden)return;if(t.ref.shouldRescale){n(t,r);t.ref.shouldRescale=false}if(t.ref.shouldDrawPreview){requestAnimationFrame(function(){t.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:r.id})});t.ref.shouldDrawPreview=false}}))});return{options:{allowImagePreview:[true,o.BOOLEAN],imagePreviewFilterItem:[function(){return true},o.FUNCTION],imagePreviewHeight:[null,o.INT],imagePreviewMinHeight:[44,o.INT],imagePreviewMaxHeight:[256,o.INT],imagePreviewMaxFileSize:[null,o.INT],imagePreviewZoomFactor:[2,o.INT],imagePreviewUpscale:[false,o.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,o.INT],imagePreviewTransparencyIndicator:[null,o.STRING],imagePreviewCalculateAverageImageColor:[false,o.BOOLEAN],imagePreviewMarkupShow:[true,o.BOOLEAN],imagePreviewMarkupFilter:[function(){return true},o.FUNCTION]}}},Yt;if(typeof window!=="undefined"&&typeof window.document!=="undefined"){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:zt}))}return zt}()}).call(this,r(15))},function(e,t,r){(function(h){e.exports=function(){"use strict";var e=function e(t){var r=t.addFilter,n=t.utils;var o=n.Type,i=n.isString,c=n.replaceInString,a=n.guesstimateMimeType,u=n.getExtensionFromFilename,s=n.getFilenameFromURL;var l=function e(t,r){var n=(/^[^/]+/.exec(t)||[]).pop();var o=r.slice(0,-2);return n===o};var f=function e(t,r){return t.some(function(e){if(/\*$/.test(e)){return l(r,e)}return e===r})};var p=function e(t){var r="";if(i(t)){var n=s(t);var o=u(n);if(o){r=a(o)}}else{r=t.type}return r};var d=function e(n,o,i){if(o.length===0){return true}var a=p(n);if(!i){return f(o,a)}return new h(function(t,r){i(n,a).then(function(e){if(f(o,e)){t()}else{r()}}).catch(r)})};var v=function e(t){return function(e){return t[e]===null?false:t[e]||e}};r("SET_ATTRIBUTE_TO_OPTION_MAP",function(e){return Object.assign(e,{accept:"acceptedFileTypes"})});r("ALLOW_HOPPER_ITEM",function(e,t){var r=t.query;if(!r("GET_ALLOW_FILE_TYPE_VALIDATION")){return true}return d(e,r("GET_ACCEPTED_FILE_TYPES"))});r("LOAD_FILE",function(a,e){var u=e.query;return new h(function(e,r){if(!u("GET_ALLOW_FILE_TYPE_VALIDATION")){e(a);return}var n=u("GET_ACCEPTED_FILE_TYPES");var t=u("GET_FILE_VALIDATE_TYPE_DETECT_TYPE");var o=d(a,n,t);var i=function e(){var t=n.map(v(u("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(function(e){return e!==false});r({status:{main:u("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:c(u("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:t.join(", "),allButLastType:t.slice(0,-1).join(", "),lastType:t[t.length-1]})}})};if(typeof o==="boolean"){if(!o){return i()}return e(a)}o.then(function(){e(a)}).catch(i)})});return{options:{allowFileTypeValidation:[true,o.BOOLEAN],acceptedFileTypes:[[],o.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",o.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",o.STRING],fileValidateTypeLabelExpectedTypesMap:[{},o.OBJECT],fileValidateTypeDetectType:[null,o.FUNCTION]}}},t;if(typeof window!=="undefined"&&typeof window.document!=="undefined"){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e}))}return e}()}).call(this,r(15))},function(e,t,r){(function(i){e.exports=function(){"use strict";var e=function e(t){var r=t.addFilter,n=t.utils;var o=n.Type,s=n.replaceInString,l=n.toNaturalFileSize;r("ALLOW_HOPPER_ITEM",function(e,t){var r=t.query;if(!r("GET_ALLOW_FILE_SIZE_VALIDATION")){return true}var n=r("GET_MAX_FILE_SIZE");if(n!==null&&e.size>=n){return false}var o=r("GET_MIN_FILE_SIZE");if(o!==null&&e.size<=o){return false}return true});r("LOAD_FILE",function(u,e){var c=e.query;return new i(function(e,t){if(!c("GET_ALLOW_FILE_SIZE_VALIDATION")){return e(u)}var r=c("GET_FILE_VALIDATE_SIZE_FILTER");if(r&&!r(u)){return e(u)}var n=c("GET_MAX_FILE_SIZE");if(n!==null&&u.size>=n){t({status:{main:c("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:s(c("GET_LABEL_MAX_FILE_SIZE"),{filesize:l(n)})}});return}var o=c("GET_MIN_FILE_SIZE");if(o!==null&&u.size<=o){t({status:{main:c("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:s(c("GET_LABEL_MIN_FILE_SIZE"),{filesize:l(o)})}});return}var i=c("GET_MAX_TOTAL_FILE_SIZE");if(i!==null){var a=c("GET_ACTIVE_ITEMS").reduce(function(e,t){return e+t.fileSize},0);if(a>i){t({status:{main:c("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:s(c("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:l(i)})}});return}}e(u)})});return{options:{allowFileSizeValidation:[true,o.BOOLEAN],maxFileSize:[null,o.INT],minFileSize:[null,o.INT],maxTotalFileSize:[null,o.INT],fileValidateSizeFilter:[null,o.FUNCTION],labelMinFileSizeExceeded:["File is too small",o.STRING],labelMinFileSize:["Minimum file size is {filesize}",o.STRING],labelMaxFileSizeExceeded:["File is too large",o.STRING],labelMaxFileSize:["Maximum file size is {filesize}",o.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",o.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",o.STRING]}}},t;if(typeof window!=="undefined"&&typeof window.document!=="undefined"){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e}))}return e}()}).call(this,r(15))},function(e,t,r){(function(T){e.exports=function(){"use strict";var r={type:"spring",stiffness:.5,damping:.45,mass:10},l=function e(t){return t.utils.createView({name:"file-poster",tag:"div",ignoreRect:true,create:function e(t){var r=t.root;r.ref.image=document.createElement("img");r.element.appendChild(r.ref.image)},write:t.utils.createRoute({DID_FILE_POSTER_LOAD:function e(t){var r=t.root,n=t.props;var o=n.id;var i=r.query("GET_ITEM",{id:n.id});if(!i)return;var a=i.getMetadata("poster");r.ref.image.src=a;r.dispatch("DID_FILE_POSTER_DRAW",{id:o})}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:r,scaleY:r,opacity:{type:"tween",duration:750}}}})},o=function e(t,r){r.width=t.width;r.height=t.height;var n=r.getContext("2d");n.drawImage(t,0,0)},f=function e(t){return t.utils.createView({name:"file-poster-overlay",tag:"canvas",ignoreRect:true,create:function e(t){var r=t.root,n=t.props;o(n.template,r.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},p=function e(t,r){var n=new Image;n.onload=function(){var e=n.naturalWidth;var t=n.naturalHeight;n=null;r(e,t)};n.src=t},d=function e(t){return-.5*(Math.cos(Math.PI*t)-1)},s=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:d;var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:10;var a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var u=1-a;var c=r.join(",");for(var s=0;s<=i;s++){var l=s/i;var f=a+u*l;t.addColorStop(f,"rgba(".concat(c,", ").concat(o(l)*n,")"))}},v=10,h=10,y=function e(t){var r=Math.min(v/t.width,h/t.height);var n=document.createElement("canvas");var o=n.getContext("2d");var i=n.width=Math.ceil(t.width*r);var a=n.height=Math.ceil(t.height*r);o.drawImage(t,0,0,i,a);var u=null;try{u=o.getImageData(0,0,i,a).data}catch(e){return null}var c=u.length;var s=0;var l=0;var f=0;var p=0;for(;p<c;p+=4){s+=u[p]*u[p];l+=u[p+1]*u[p+1];f+=u[p+2]*u[p+2]}s=m(s,c);l=m(l,c);f=m(f,c);return{r:s,g:l,b:f}},m=function e(t,r){return Math.floor(Math.sqrt(t/(r/4)))},e=function e(t,r,n,o,i){t.width=r;t.height=n;var a=t.getContext("2d");var u=r*.5;var c=a.createRadialGradient(u,n+110,n-100,u,n+110,n+100);s(c,o,i,undefined,8,.4);a.save();a.translate(-r*.5,0);a.scale(2,1);a.fillStyle=c;a.fillRect(0,0,r,n);a.restore()},t=typeof navigator!=="undefined",n=500,i=200,g=t&&document.createElement("canvas"),E=t&&document.createElement("canvas"),b=t&&document.createElement("canvas");if(t){e(g,n,i,[40,40,40],.85);e(E,n,i,[196,78,71],1);e(b,n,i,[54,151,99],1)}var _=function e(n,o){return new T(function(e,t){var r=new Image;if(typeof crossOrigin==="string"){r.crossOrigin=o}r.onload=function(){e(r)};r.onerror=function(e){t(e)};r.src=n})},a=function e(i){var a=f(i);var t=function e(t){var n=t.root,r=t.props;var o=r.id;var i=n.query("GET_ITEM",o);if(!i)return;var a=i.getMetadata("poster");var u=function e(t){var r=n.query("GET_FILE_POSTER_CALCULATE_AVERAGE_IMAGE_COLOR")?y(t):null;i.setMetadata("color",r,true);n.dispatch("DID_FILE_POSTER_LOAD",{id:o,data:t})};p(a,function(e,t){n.dispatch("DID_FILE_POSTER_CALCULATE_SIZE",{id:o,width:e,height:t});_(a,n.query("GET_FILE_POSTER_CROSS_ORIGIN_ATTRIBUTE_VALUE")).then(u)})};var r=function e(t){var r=t.root;r.ref.overlayShadow.opacity=1};var n=function e(t){var r=t.root;var n=r.ref.image;n.scaleX=1;n.scaleY=1;n.opacity=1};var o=function e(t){var r=t.root;r.ref.overlayShadow.opacity=1;r.ref.overlayError.opacity=0;r.ref.overlaySuccess.opacity=0};var u=function e(t){var r=t.root;r.ref.overlayShadow.opacity=.25;r.ref.overlayError.opacity=1};var c=function e(t){var r=t.root;r.ref.overlayShadow.opacity=.25;r.ref.overlaySuccess.opacity=1};var s=function e(t){var r=t.root,n=t.props;var o=l(i);r.ref.image=r.appendChildView(r.createChildView(o,{id:n.id,scaleX:1.25,scaleY:1.25,opacity:0}));r.ref.overlayShadow=r.appendChildView(r.createChildView(a,{template:g,opacity:0}));r.ref.overlaySuccess=r.appendChildView(r.createChildView(a,{template:b,opacity:0}));r.ref.overlayError=r.appendChildView(r.createChildView(a,{template:E,opacity:0}))};return i.utils.createView({name:"file-poster-wrapper",create:s,write:i.utils.createRoute({DID_FILE_POSTER_LOAD:r,DID_FILE_POSTER_DRAW:n,DID_FILE_POSTER_CONTAINER_CREATE:t,DID_THROW_ITEM_LOAD_ERROR:u,DID_THROW_ITEM_PROCESSING_ERROR:u,DID_THROW_ITEM_INVALID:u,DID_COMPLETE_ITEM_PROCESSING:c,DID_START_ITEM_PROCESSING:o,DID_REVERT_ITEM_PROCESSING:o})})},u=function e(t){var r=t.addFilter,n=t.utils;var o=n.Type,s=n.createRoute;var l=a(t);r("CREATE_VIEW",function(e){var t=e.is,i=e.view,a=e.query;if(!t("file")||!a("GET_ALLOW_FILE_POSTER"))return;var r=function e(t){var r=t.root,n=t.props;u(r,n)};var n=function e(t){var r=t.root,n=t.props,o=t.action;if(!/poster/.test(o.change.key))return;u(r,n)};var u=function e(t,r){var n=r.id;var o=a("GET_ITEM",n);if(!o||!o.getMetadata("poster")||o.archived)return;if(!a("GET_FILE_POSTER_FILTER_ITEM")(o))return;if(t.ref.filePoster){i.removeChildView(t.ref.filePoster)}t.ref.filePoster=i.appendChildView(i.createChildView(l,{id:n}));t.dispatch("DID_FILE_POSTER_CONTAINER_CREATE",{id:n})};var o=function e(t){var r=t.root,n=t.action;if(!r.ref.filePoster)return;r.ref.imageWidth=n.width;r.ref.imageHeight=n.height;r.ref.shouldUpdatePanelHeight=true;r.dispatch("KICK")};var c=function e(t){var r=t.root;var n=r.query("GET_FILE_POSTER_HEIGHT");if(n){return n}var o=r.query("GET_FILE_POSTER_MIN_HEIGHT");var i=r.query("GET_FILE_POSTER_MAX_HEIGHT");if(o&&r.ref.imageHeight<o){return o}var a=r.rect.element.width*(r.ref.imageHeight/r.ref.imageWidth);if(o&&a<o){return o}if(i&&a>i){return i}return a};i.registerWriter(s({DID_LOAD_ITEM:r,DID_FILE_POSTER_CALCULATE_SIZE:o,DID_UPDATE_ITEM_METADATA:n},function(e){var t=e.root,r=e.props;if(!t.ref.filePoster)return;if(t.rect.element.hidden)return;if(t.ref.shouldUpdatePanelHeight){t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:r.id,height:c({root:t})});t.ref.shouldUpdatePanelHeight=false}}))});return{options:{allowFilePoster:[true,o.BOOLEAN],filePosterHeight:[null,o.INT],filePosterMinHeight:[null,o.INT],filePosterMaxHeight:[null,o.INT],filePosterFilterItem:[function(){return true},o.FUNCTION],filePosterCalculateAverageImageColor:[false,o.BOOLEAN],filePosterCrossOriginAttributeValue:["Anonymous",o.STRING]}}},c;if(typeof window!=="undefined"&&typeof window.document!=="undefined"){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:u}))}return u}()}).call(this,r(15))},,,,function(e,t,r){function n(d){var v=1==d,h=2==d,y=3==d,m=4==d,g=6==d,E=5==d||g;return function(e,t,r,n){for(var o,i,a=T(e),u=_(a),c=b(t,r,3),s=O(u.length),l=0,f=n||w,p=v?f(e,s):h?f(e,0):void 0;l<s;l++)if((E||l in u)&&(i=c(o=u[l],l,a),d))if(v)p[l]=i;else if(i)switch(d){case 3:return!0;case 5:return o;case 6:return l;case 2:I.call(p,o)}else if(m)return!1;return g?-1:y||m?m:p}}var b=r(45),_=r(41),T=r(86),O=r(44),w=r(87),I=[].push;e.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6)}},function(e,t,r){r(90);var n=r(40);e.exports=n("Array","findIndex")},,,,function(e,t,r){var n=r(43);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(10),o=r(88),i=r(46)("species");e.exports=function(e,t){var r;return o(e)&&("function"==typeof(r=e.constructor)&&(r===Array||o(r.prototype))||n(r)&&null===(r=r[i]))&&(r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},function(e,t,r){var n=r(42);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){},function(e,t,r){"use strict";var n=r(37),o=r(81).findIndex,i=r(38),a=r(39),u="findIndex",c=!0,s=a(u);u in[]&&Array(1)[u](function(){c=!1}),n({target:"Array",proto:!0,forced:c||!s},{findIndex:function(e,t){return o(this,e,1<arguments.length?t:void 0)}}),i(u)},function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return h}),r.d(t,"ModalPopup",function(){return h});r(11),r(82);var n=r(2),o=r.n(n),i=r(6),a=r.n(i),u=(r(101),r(0));function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function l(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach(function(e){var t,r,n;t=o,n=i[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=v(i);return t=a?(e=v(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==c(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,u["a"]);var e,t,r,n=d(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,{})).state={width:300,height:200,title:"Titel",text:"Tekst",buttonAction:function(){return alert("Knop actie")},buttonText:"Knop tekst",cancelText:"Annuleren"},t}return e=o,(t=[{key:"componentDidMount",value:function(){var t=this;t.showModalPopupListener=function(e){t.showModalPopup(e.detail)},document.addEventListener("osc-show-modal-popup",t.showModalPopupListener),document.body.appendChild(this.instance)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-show-modal-popup",this.showModalPopupListener)}},{key:"showModalPopup",value:function(e){var t=this;t.setState(l({},e),function(){t.instance.style.display="block"})}},{key:"hideModalPopup",value:function(){this.instance.style.display="none"}},{key:"render",value:function(){var t=this,e=(e=t.state.content||null)||React.createElement("div",{className:"osc-modal-popup-content"},React.createElement("div",{className:"osc-modal-popup-header"},t.state.title),React.createElement("div",{className:"osc-modal-popup-text"},t.state.text),React.createElement("div",{className:"osc-modal-popup-buttons"},React.createElement("button",{onClick:t.state.buttonAction,className:"osc-button-blue"},t.state.buttonText),React.createElement("button",{onClick:function(){return t.hideModalPopup()},className:"osc-button-white"},"Annuleren")));return React.createElement("div",{id:"osc-modal-popup-container",ref:function(e){return t.instance=e}},React.createElement("div",{id:"osc-modal-popup",style:{top:"calc(50% - ( ".concat(t.state.height2," / 2 )px)"),left:"calc(50% - ( ".concat(t.state.width," / 2 )px)"),width:t.state.width,height:t.state.height}},e,React.createElement("div",{className:"osc-close-button",onClick:function(){return t.hideModalPopup()}})))}}])&&f(e.prototype,t),r&&f(e,r),o}();h.renderElement=function(e,t){var r=e.attributes;a.a.render(o.a.createElement(h,{attributes:r,config:t}),e)}},,function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return F}),r.d(t,"Reactions",function(){return F});r(11);var n=r(2),o=r.n(n),i=r(6),a=r.n(i),u=(r(110),r(0)),p=r(1),c=r(5);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=v(i);return t=a?(e=v(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==s(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,u["a"]);var e,t,r,n=d(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,{argumentId:null,api:{url:null,headers:null},user:{},descriptionMinLength:30,descriptionMaxLength:500,requiredUserRole:"member",formIntro:"",placeholder:""})).config.loginUrl=t.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),t.state={description:t.config.description||"",isValid:!1,isBusy:!1},t}return e=o,(t=[{key:"handleOnChange",value:function(e){(e=e||{}).description&&(e.isValid=this.description.isValid()),this.setState(e)}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.props.user||{};return p.a.user.hasRole(t,e)}},{key:"submitForm",value:function(){var o=this;o.setState({isBusy:!0},function(){if(o.description.validate({showWarning:!0})){if(!o.canSubmit())return alert("Je bent niet ingelogd");var e="".concat(o.config.api&&o.config.api.url,"/api/site/").concat(o.config.siteId,"/idea/").concat(o.config.ideaId,"/argument").concat(o.config.argumentId?"/".concat(o.config.argumentId):""),t=p.a.api.getHeaders(o.config),r=o.config.argumentId?"PUT":"POST",n={parentId:o.config.parentId,sentiment:o.config.sentiment,description:o.state.description};fetch(e,{method:r,headers:t,body:JSON.stringify(n)}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(r){"function"==typeof o.config.onSubmit&&o.config.onSubmit({description:o.state.description}),o.setState({description:"",isBusy:!1,isValid:!1},function(){var e,t;o.description.handleOnChange({value:""}),o.config.argumentId?(e=new CustomEvent("osc-reaction-edited",{detail:r}),document.dispatchEvent(e)):(t=new CustomEvent("osc-new-reaction-stored",{detail:r}),document.dispatchEvent(t))})}).catch(function(e){e.then(function(e){return alert(e),console.log(e)}),o.setState({isBusy:!1,isValid:!1})})}else o.setState({isBusy:!1,isValid:!1})})}},{key:"render",value:function(){var t=this,e={descriptionMinLength:t.config.descriptionMinLength||30,descriptionMaxLength:t.config.descriptionMaxLength||500},r=null;t.config.formIntro&&(r=React.createElement("div",{className:"osc-intro"},t.config.formIntro));var n=null,o=null,o=t.canSubmit()?(n=React.createElement(c.a.InputWithCounter,{config:{inputType:"textarea",minLength:e.descriptionMinLength,maxLength:e.descriptionMaxLength,placeholder:t.config.placeholder},value:t.state.description,onChange:function(e){return t.handleOnChange({description:e.value})},ref:function(e){return t.description=e}}),React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(){t.state.isBusy||t.submitForm()},className:"osc-button-blue".concat(!t.state.isValid||t.state.isBusy?" osc-disabled":"")},"Verzenden"))):(n=React.createElement("div",{style:{position:"relative"}},React.createElement(c.a.InputWithCounter,{disabled:!0,config:{inputType:"textarea",minLength:e.descriptionMinLength,maxLength:e.descriptionMaxLength,placeholder:t.config.placeholder},value:t.state.description,ref:function(e){return t.description=e}}),React.createElement("div",{onClick:function(){return t.config.showNotLoggedInPopup()},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})),React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(){p.a.localStorage.set("osc-login-pending-scroll-to-reactions",!0),p.a.localStorage.set("osc-login-pending-show-details",t.config.ideaId),document.location.href=t.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen")));return React.createElement("div",{id:t.divId,className:""},r,n,o)}}])&&l(e.prototype,t),r&&l(e,r),o}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function g(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach(function(e){var t,r,n;t=o,n=i[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=T(i);return t=a?(e=T(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==y(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(f,u["a"]);var e,t,r,n=_(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=n.call(this,e,{siteId:null,ideaId:null,title:null,descriptionMinLength:30,descriptionMaxLength:500,api:{url:null,headers:null},requiredUserRole:"member"})).state={user:e.user,isMenuActive:!1,isReplyFromActive:!1,editMode:!1},t}return e=f,(t=[{key:"componentDidMount",value:function(){var t=this;t.newReactionStoredListener=function(e){t.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",t.newReactionStoredListener),t.reactionEditedListener=function(e){t.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",t.reactionEditedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener)}},{key:"showMenu",value:function(){this.setState({isMenuActive:!0})}},{key:"toggleReplyForm",value:function(){this.setState({isReplyFromActive:!this.state.isReplyFromActive})}},{key:"toggleEditForm",value:function(){this.setState({editMode:!this.state.editMode})}},{key:"canEdit",value:function(){return this.props.data.can.edit}},{key:"canDelete",value:function(){return this.props.data.can.delete}},{key:"canLike",value:function(){if(this.config.isClosed)return!1;var e=this.config.requiredUserRole,t=this.props.user&&this.props.user.role;return"anonymous"==e&&t||"member"==e&&("member"==t||"editor"==t||"moderator"==t||"admin"==t)||"editor"==e&&("editor"==t||"moderator"==t||"admin"==t)||"moderator"==e&&("moderator"==t||"admin"==t)||"admin"==e&&"admin"==t}},{key:"canReply",value:function(){return this.props.data.can.reply}},{key:"submitDelete",value:function(){var r=this;if(!r.canDelete())return alert("U kunt deze reactie niet verwijderen");var e="".concat(r.config.api&&r.config.api.url,"/api/site/").concat(r.config.siteId,"/idea/").concat(r.config.ideaId,"/argument/").concat(r.props.data.id),t=p.a.api.getHeaders(r.config);fetch(e,{method:"DELETE",headers:t,body:JSON.stringify({})}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){r.setState({isDeleted:!0});var t=new CustomEvent("osc-reaction-deleted",{detail:{ideaId:r.config.ideaId}});document.dispatchEvent(t)}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"submitLike",value:function(){var t=this;if(!t.canLike())return t.config.showNotLoggedInPopup();var e="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/argument/").concat(t.props.data.id,"/vote"),r=p.a.api.getHeaders(t.config);fetch(e,{method:"POST",headers:r,body:JSON.stringify({})}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){t.setState({yes:e.yes,hasUserVoted:e.hasUserVoted})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"onNewReactionStored",value:function(){this.setState({isMenuActive:!1,isReplyFromActive:!1})}},{key:"onReactionEdited",value:function(e){e.id==this.props.data.id&&this.setState({editMode:!1,isMenuActive:!1})}},{key:"render",value:function(){var r=this,e=r.props.data||{can:{}};if(e.isDeleted)return null;var t=p.a.user.hasRole(e.user,"editor")?"osc-is-admin":"",n=React.createElement("div",{className:"osc-reaction-user ".concat(t)},e.user.nickName||e.user.fullName||"".concat(e.user.firstName," ").concat(e.user.lastName)),o=null;r.canEdit()&&r.canDelete()&&(o=React.createElement("div",{className:"osc-reaction-menu".concat(r.state.isMenuActive?" osc-reaction-hamburger-active":""),onClick:function(){r.showMenu()}},React.createElement("a",{className:"osc-reaction-delete",title:"Argument verwijderen",onClick:function(){confirm("Weet je het zeker?")&&r.submitDelete()}}),React.createElement("a",{className:"osc-reaction-edit",title:"Argument bewerken",onClick:function(){return r.toggleEditForm()}})));var i=React.createElement("div",{className:"osc-reaction-description"},e.description);r.state.editMode&&(i=React.createElement("div",{className:"osc-reaction-description"},React.createElement(h,{config:g(g({},r.config),{},{description:e.description,argumentId:e.id}),user:r.state.user,ref:function(e){return r.editForm=e}})));var a=null;e.parentId||(a=React.createElement("a",{className:"osc-reaction-like-button".concat((void 0!==r.state.hasUserVoted?r.state.hasUserVoted:e.hasUserVoted)?" osc-reaction-like-button-hasvoted":""),onClick:function(){return r.submitLike()}},"Mee eens (",React.createElement("span",null,0|(void 0!==r.state.yes?r.state.yes:e.yes)),")"));var u,c=null,s=null;r.canReply()&&!r.config.isClosed&&(c=React.createElement("a",{onClick:function(){return r.toggleReplyForm()},className:"osc-reply-button"},"Reageren"),r.state.isReplyFromActive&&((u=g(g({},r.config),{},{parentId:e.id})).formIntro="",s=React.createElement("div",{id:"osc-reaction-".concat(e.id),className:"osc-reply"},React.createElement(h,{config:u,user:r.state.user,ref:function(e){return r.editForm=e}}))));var l=null;return e.reactions&&e.reactions.length&&(l=React.createElement("ul",{className:"osc-reactions-list"},e.reactions.map(function(e){var t="osc-reaction-key-".concat(e.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:t},React.createElement(f,{config:r.config,className:"osc-reply",user:r.state.user,data:e}))}))),React.createElement("div",null,React.createElement("div",{id:"osc-reaction-".concat(e.id),className:r.props.className||"osc-reaction"},o,n,React.createElement("div",{className:"osc-reaction-date"},e.createDateHumanized),i,a,c),s,l)}}])&&E(e.prototype,t),r&&E(e,r),f}(),w=r(91);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=D(i);return t=a?(e=D(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==I(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,u["a"]);var e,t,r,n=P(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.call(this,e,{loginUrl:""})}return e=o,(t=[{key:"showPopup",value:function(){var e=this,t=this,r=new window.CustomEvent("osc-show-modal-popup",{detail:{title:"Login om verder te gaan",text:"Login om een argument te plaatsen, te reageren of een argument te liken",buttonAction:function(){p.a.localStorage.set("osc-login-pending-scroll-to-reactions",!0),p.a.localStorage.set("osc-login-pending-show-details",t.config.ideaId),document.location.href=e.config.loginUrl},buttonText:"Inloggen"}});document.dispatchEvent(r)}},{key:"render",value:function(){return React.createElement(w.default,{ref:function(e){return self.modalPopup=e}})}}])&&R(e.prototype,t),r&&R(e,r),o}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function M(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?L(Object(i),!0).forEach(function(e){var t,r,n;t=o,n=i[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,r,n,o=G(i);return t=a?(e=G(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),r=this,!(n=t)||"object"!==C(n)&&"function"!=typeof n?k(r):n}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(o,u["a"]);var e,t,r,n=j(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,{scrollToNewReaction:!0,isClosed:!1,closedText:"De reactiemogelijkheid is gesloten",sentiment:void 0,siteId:null,ideaId:null,title:null,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",placeholder:"",formIntro:""})).showNotLoggedInPopup=t.showNotLoggedInPopup.bind(k(t)),t.state={user:t.config.user,reactions:[]},t}return e=o,(t=[{key:"componentDidMount",value:function(){var r=this;r.state.user&&r.state.user.role?r.fetchData():p.a.user.getUser({user:r.config.user,jwt:r.config.jwt,siteId:r.config.siteId,api:r.config.api},function(e,t){r.setState({user:t},function(){r.fetchData()})}),r.newReactionStoredListener=function(e){r.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",r.newReactionStoredListener),r.reactionEditedListener=function(e){r.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",r.reactionEditedListener),r.reactionDeletedListener=function(e){r.onReactionDeleted(e.detail)},document.addEventListener("osc-reaction-deleted",r.reactionDeletedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener),document.removeEventListener("osc-reaction-deleted",this.reactionDeletedListener)}},{key:"fetchData",value:function(r){var n=this,e="".concat(n.config.api&&n.config.api.url,"/api/site/").concat(n.config.siteId,"/idea/").concat(n.config.ideaId,"/argument?sentiment=").concat(n.config.sentiment,"&withUser=1&withUserVote=1&withVoteCount=1&includeReactionsOnReactions=1"),t=p.a.api.getHeaders(n.config);fetch(e,{headers:t}).then(function(e){if(e.ok)return e.json();throw e.text()}).then(function(e){var t=M({},n.state);t.reactions=e,t.reactions.sort(function(e,t){return e.createdAt<t.createdAt}),n.setState(t,function(){if(r)return r()})}).catch(function(e){console.log(e),e.then(function(e){return console.log(e)})})}},{key:"onNewReactionStored",value:function(e){var t=this;this.fetchData(function(){t.config.scrollToNewReaction&&document.getElementById("osc-reaction-".concat(e.id))&&document.getElementById("osc-reaction-".concat(e.id)).scrollIntoView()})}},{key:"onReactionEdited",value:function(){this.fetchData()}},{key:"onReactionDeleted",value:function(){this.fetchData()}},{key:"userIsModerator",value:function(){return p.a.user.hasRole(this.config.user,"moderator")}},{key:"showNotLoggedInPopup",value:function(){this.notLoggedInPopup.showPopup()}},{key:"render",value:function(){var t=this,r=this,e=React.createElement("ul",{className:"osc-reactions-list"},r.state.reactions.map(function(e){var t="osc-reaction-key-".concat(e.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:t},React.createElement(O,{config:M(M({},r.config),{},{showNotLoggedInPopup:r.showNotLoggedInPopup}),user:r.state.user,data:M({},e)}))})),n=r.config.title?React.createElement("h3",null,r.config.title):null,o=React.createElement(h,{config:M(M({},r.config),{},{showNotLoggedInPopup:r.showNotLoggedInPopup}),user:r.state.user});return r.config.isClosed&&!r.userIsModerator()&&(o=r.config.closedText?React.createElement("div",{className:"osc-closed-text"},r.config.closedText):null),React.createElement("div",{id:this.id,className:r.props.className||"osc-reactions",ref:function(e){t.instance=e}},React.createElement(A,{config:r.config,ref:function(e){return r.notLoggedInPopup=e}}),n,o,e,React.createElement("br",null),React.createElement("br",null))}}])&&N(e.prototype,t),r&&N(e,r),o}();F.renderElement=function(e,t){var r=e.attributes;a.a.render(o.a.createElement(F,{attributes:r,config:t}),e)}},,function(e,t,r){},function(e,t,r){(function(Hu){!function(o){"use strict";var t=function e(t){return t instanceof HTMLElement},M=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var o=Object.assign({},t);var i=[];var a=[];var u=function e(){return Object.assign({},o)};var c=function e(){var t=[].concat(i);i.length=0;return t};var s=function e(){var t=[].concat(a);a.length=0;t.forEach(function(e){var t=e.type,r=e.data;l(t,r)})};var l=function e(t,r,n){if(n&&!document.hidden){a.push({type:t,data:r});return}if(v[t]){v[t](r)}i.push({type:t,data:r})};var f=function e(t){var r;for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++){o[i-1]=arguments[i]}return d[t]?(r=d)[t].apply(r,o):null};var p={getState:u,processActionQueue:c,processDispatchQueue:s,dispatch:l,query:f};var d={};r.forEach(function(e){d=Object.assign({},e(o),{},d)});var v={};n.forEach(function(e){v=Object.assign({},e(l,f,o),{},v)});return p},n=function e(t,r,n){if(typeof n==="function"){t[r]=n;return}Object.defineProperty(t,r,Object.assign({},n))},m=function e(t,r){for(var n in t){if(!t.hasOwnProperty(n)){continue}r(n,t[n])}},B=function e(t){var r={};m(t,function(e){n(r,e,t[e])});return r},s=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(n===null){return t.getAttribute(r)||t.hasAttribute(r)}t.setAttribute(r,n)},i="http://www.w3.org/2000/svg",r=["svg","path"],a=function e(t){return r.includes(t)},q=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(typeof r==="object"){n=r;r=null}var o=a(t)?document.createElementNS(i,t):document.createElement(t);if(r){if(a(t)){s(o,"class",r)}else{o.className=r}}m(n,function(e,t){s(o,e,t)});return o},z=function e(r){return function(e,t){if(typeof t!=="undefined"&&r.children[t]){r.insertBefore(e,r.children[t])}else{r.appendChild(e)}}},Y=function e(t,r){return function(e,t){if(typeof t!=="undefined"){r.splice(t,0,e)}else{r.push(e)}return e}},H=function e(t,r){return function(e){r.splice(r.indexOf(e),1);if(e.element.parentNode){t.removeChild(e.element)}return e}},u=function(){return typeof window!=="undefined"&&typeof window.document!=="undefined"}(),c=function e(){return u},e,W="children"in(c()?q("svg"):{})?function(e){return e.children.length}:function(e){return e.childNodes.length},X=function e(t,r,n,o){var i=n[0]||t.left;var a=n[1]||t.top;var u=i+t.width;var c=a+t.height*(o[1]||1);var s={element:Object.assign({},t),inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:i,top:a,right:u,bottom:c}};r.filter(function(e){return!e.isRectIgnored()}).map(function(e){return e.rect}).forEach(function(e){l(s.inner,Object.assign({},e.inner));l(s.outer,Object.assign({},e.outer))});f(s.inner);s.outer.bottom+=s.element.marginBottom;s.outer.right+=s.element.marginRight;f(s.outer);return s},l=function e(t,r){r.top+=t.top;r.right+=t.left;r.bottom+=t.top;r.left+=t.left;if(r.bottom>t.bottom){t.bottom=r.bottom}if(r.right>t.right){t.right=r.right}},f=function e(t){t.width=t.right-t.left;t.height=t.bottom-t.top},N=function e(t){return typeof t==="number"},h=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:.001;return Math.abs(t-r)<o&&Math.abs(n)<o},p,d=function e(t){return t},y=function e(t){return t<.5?2*t*t:-1+(4-2*t)*t},v,g={spring:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.stiffness,o=r===void 0?.5:r,n=t.damping,i=n===void 0?.75:n,a=t.mass,u=a===void 0?10:a;var c=null;var s=null;var l=0;var f=false;var p=function e(t,r){if(f)return;if(!(N(c)&&N(s))){f=true;l=0;return}var n=-(s-c)*o;l+=n/u;s+=l;l*=i;if(h(s,c,l)||r){s=c;l=0;f=true;v.onupdate(s);v.oncomplete(s)}else{v.onupdate(s)}};var d=function e(t){if(N(t)&&!N(s)){s=t}if(c===null){c=t;s=t}c=t;if(s===c||typeof c==="undefined"){f=true;l=0;v.onupdate(s);v.oncomplete(s);return}f=false};var v=B({interpolate:p,target:{set:d,get:function e(){return c}},resting:{get:function e(){return f}},onupdate:function e(t){},oncomplete:function e(t){}});return v},tween:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.duration,n=r===void 0?500:r,o=t.easing,i=o===void 0?y:o,a=t.delay,u=a===void 0?0:a;var c=null;var s;var l;var f=true;var p=false;var d=null;var v=function e(t,r){if(f||d===null)return;if(c===null){c=t}if(t-c<u)return;s=t-c-u;if(s>=n||r){s=1;l=p?0:1;h.onupdate(l*d);h.oncomplete(l*d);f=true}else{l=s/n;h.onupdate((s>=0?i(p?1-l:l):0)*d)}};var h=B({interpolate:v,target:{get:function e(){return p?0:d},set:function e(t){if(d===null){d=t;h.onupdate(t);h.oncomplete(t);return}if(t<d){d=1;p=true}else{p=false;d=t}f=false;c=null}},resting:{get:function e(){return f}},onupdate:function e(t){},oncomplete:function e(t){}});return h}},E=function e(t,r,n){var o=t[r]&&typeof t[r][n]==="object"?t[r][n]:t[r]||t;var i=typeof o==="string"?o:o.type;var a=typeof o==="object"?Object.assign({},o):{};return g[i]?g[i](a):null},b=function e(t,r,i){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;r=Array.isArray(r)?r:[r];r.forEach(function(o){t.forEach(function(r){var e=r;var t=function e(){return i[r]};var n=function e(t){return i[r]=t};if(typeof r==="object"){e=r.key;t=r.getter||t;n=r.setter||n}if(o[e]&&!a){return}o[e]={get:t,set:n}})})},_,T=function e(r){return function(e,t){r.addEventListener(e,t)}},O=function e(r){return function(e,t){r.removeEventListener(e,t)}},w,I,R=function e(t){return t!=null},S={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},P=function e(t){var r=t.mixinConfig,n=t.viewProps,o=t.viewInternalAPI,i=t.viewExternalAPI,a=t.view;var u=Object.assign({},n);var c={};b(r,[o,i],n);var s=function e(){return[n["translateX"]||0,n["translateY"]||0]};var l=function e(){return[n["scaleX"]||0,n["scaleY"]||0]};var f=function e(){return a.rect?X(a.rect,a.childViews,s(),l()):null};o.rect={get:f};i.rect={get:f};r.forEach(function(e){n[e]=typeof u[e]==="undefined"?S[e]:u[e]});return{write:function e(){if(!D(c,n)){return}A(a.element,n);Object.assign(c,Object.assign({},n));return true},destroy:function e(){}}},D=function e(t,r){if(Object.keys(t).length!==Object.keys(r).length){return true}for(var n in r){if(r[n]!==t[n]){return true}}return false},A=function e(t,r){var n=r.opacity,o=r.perspective,i=r.translateX,a=r.translateY,u=r.scaleX,c=r.scaleY,s=r.rotateX,l=r.rotateY,f=r.rotateZ,p=r.originX,d=r.originY,v=r.width,h=r.height;var y="";var m="";if(R(p)||R(d)){m+="transform-origin: "+(p||0)+"px "+(d||0)+"px;"}if(R(o)){y+="perspective("+o+"px) "}if(R(i)||R(a)){y+="translate3d("+(i||0)+"px, "+(a||0)+"px, 0) "}if(R(u)||R(c)){y+="scale3d("+(R(u)?u:1)+", "+(R(c)?c:1)+", 1) "}if(R(f)){y+="rotateZ("+f+"rad) "}if(R(s)){y+="rotateX("+s+"rad) "}if(R(l)){y+="rotateY("+l+"rad) "}if(y.length){m+="transform:"+y+";"}if(R(n)){m+="opacity:"+n+";";if(n===0){m+="visibility:hidden;"}if(n<1){m+="pointer-events:none;"}}if(R(h)){m+="height:"+h+"px;"}if(R(v)){m+="width:"+v+"px;"}var g=t.elementCurrentStyle||"";if(m.length!==g.length||m!==g){t.style.cssText=m;t.elementCurrentStyle=m}},Z={styles:P,listeners:function e(t){var r=t.mixinConfig,n=t.viewProps,o=t.viewInternalAPI,i=t.viewExternalAPI,a=t.viewState,u=t.view;var c=[];var s=T(u.element);var l=O(u.element);i.on=function(e,t){c.push({type:e,fn:t});s(e,t)};i.off=function(t,r){c.splice(c.findIndex(function(e){return e.type===t&&e.fn===r}),1);l(t,r)};return{write:function e(){return true},destroy:function e(){c.forEach(function(e){l(e.type,e.fn)})}}},animations:function o(e){var t=e.mixinConfig,i=e.viewProps,a=e.viewInternalAPI,u=e.viewExternalAPI;var c=Object.assign({},i);var o=[];m(t,function(t,e){var r=E(e);if(!r){return}r.onupdate=function(e){i[t]=e};r.target=c[t];var n={key:t,setter:function e(t){if(r.target===t){return}r.target=t},getter:function e(){return i[t]}};b([n],[a,u],i,true);o.push(r)});return{write:function e(t){var r=document.hidden;var n=true;o.forEach(function(e){if(!e.resting)n=false;e.interpolate(t,r)});return n},destroy:function e(){}}},apis:function e(t){var r=t.mixinConfig,n=t.viewProps,o=t.viewExternalAPI;b(r,o,n)}},K=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!r.layoutCalculated){t.paddingTop=parseInt(n.paddingTop,10)||0;t.marginTop=parseInt(n.marginTop,10)||0;t.marginRight=parseInt(n.marginRight,10)||0;t.marginBottom=parseInt(n.marginBottom,10)||0;t.marginLeft=parseInt(n.marginLeft,10)||0;r.layoutCalculated=true}t.left=r.offsetLeft||0;t.top=r.offsetTop||0;t.width=r.offsetWidth||0;t.height=r.offsetHeight||0;t.right=t.left+t.width;t.bottom=t.top+t.height;t.scrollTop=r.scrollTop;t.hidden=r.offsetParent===null;return t},C=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.tag,D=r===void 0?"div":r,n=t.name,A=n===void 0?null:n,o=t.attributes,C=o===void 0?{}:o,i=t.read,L=i===void 0?function(){}:i,a=t.write,M=a===void 0?function(){}:a,u=t.create,N=u===void 0?function(){}:u,c=t.destroy,x=c===void 0?function(){}:c,s=t.filterFrameActionsForChild,j=s===void 0?function(e,t){return t}:s,l=t.didCreateView,k=l===void 0?function(){}:l,f=t.didWriteView,G=f===void 0?function(){}:f,p=t.ignoreRect,F=p===void 0?false:p,d=t.ignoreRectUpdate,U=d===void 0?false:d,v=t.mixins,V=v===void 0?[]:v;return function(e){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=q(D,"filepond--"+A,C);var o=window.getComputedStyle(n,null);var i=K();var u=null;var t=false;var c=[];var s=[];var r={};var l={};var f=[M];var p=[L];var d=[x];var v=function e(){return n};var h=function e(){return c.concat()};var y=function e(){return r};var m=function e(r){return function(e,t){return e(r,t)}};var g=function e(){if(u){return u}u=X(i,c,[0,0],[1,1]);return u};var E=function e(){return o};var b=function e(){u=null;c.forEach(function(e){return e._read()});var t=!(U&&i.width&&i.height);if(t){K(i,n,o)}var r={root:S,props:a,rect:i};p.forEach(function(e){return e(r)})};var _=function e(r,n,o){var i=n.length===0;f.forEach(function(e){var t=e({props:a,root:S,actions:n,timestamp:r,shouldOptimize:o});if(t===false){i=false}});s.forEach(function(e){var t=e.write(r);if(t===false){i=false}});c.filter(function(e){return!!e.element.parentNode}).forEach(function(e){var t=e._write(r,j(e,n),o);if(!t){i=false}});c.forEach(function(e,t){if(e.element.parentNode){return}S.appendChild(e.element,t);e._read();e._write(r,j(e,n),o);i=false});t=i;G({props:a,root:S,actions:n,timestamp:r});return i};var T=function e(){s.forEach(function(e){return e.destroy()});d.forEach(function(e){e({root:S,props:a})});c.forEach(function(e){return e._destroy()})};var O={element:{get:v},style:{get:E},childViews:{get:h}};var w=Object.assign({},O,{rect:{get:g},ref:{get:y},is:function e(t){return A===t},appendChild:z(n),createChildView:m(e),linkView:function e(t){c.push(t);return t},unlinkView:function e(t){c.splice(c.indexOf(t),1)},appendChildView:Y(n,c),removeChildView:H(n,c),registerWriter:function e(t){return f.push(t)},registerReader:function e(t){return p.push(t)},registerDestroyer:function e(t){return d.push(t)},invalidateLayout:function e(){return n.layoutCalculated=false},dispatch:e.dispatch,query:e.query});var I={element:{get:v},childViews:{get:h},rect:{get:g},resting:{get:function e(){return t}},isRectIgnored:function e(){return F},_read:b,_write:_,_destroy:T};var R=Object.assign({},O,{rect:{get:function e(){return i}}});Object.keys(V).sort(function(e,t){if(e==="styles"){return 1}else if(t==="styles"){return-1}return 0}).forEach(function(e){var t=Z[e]({mixinConfig:V[e],viewProps:a,viewState:l,viewInternalAPI:w,viewExternalAPI:I,view:B(R)});if(t){s.push(t)}});var S=B(w);N({root:S,props:a});var P=W(n);c.forEach(function(e,t){S.appendChild(e.element,P+t)});k(S);return B(I)}},L=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:60;var o="__framePainter";if(window[o]){window[o].readers.push(t);window[o].writers.push(r);return}window[o]={readers:[t],writers:[r]};var i=window[o];var a=1e3/n;var u=null;var c=null;var s=null;var l=null;var f=function e(){if(document.hidden){s=function e(){return window.setTimeout(function(){return p(performance.now())},a)};l=function e(){return window.clearTimeout(c)}}else{s=function e(){return window.requestAnimationFrame(p)};l=function e(){return window.cancelAnimationFrame(c)}}};document.addEventListener("visibilitychange",function(){if(l)l();f();p(performance.now())});var p=function e(t){c=s(e);if(!u){u=t}var r=t-u;if(r<=a){return}u=t-r%a;i.readers.forEach(function(e){return e()});i.writers.forEach(function(e){return e(t)})};f();p(performance.now());return{pause:function e(){l(c)}}},x=function e(u,c){return function(e){var t=e.root,r=e.props,n=e.actions,o=n===void 0?[]:n,i=e.timestamp,a=e.shouldOptimize;o.filter(function(e){return u[e.type]}).forEach(function(e){return u[e.type]({root:t,props:r,action:e.data,timestamp:i,shouldOptimize:a})});if(c){c({root:t,props:r,actions:o,timestamp:i,shouldOptimize:a})}}},j=function e(t,r){return r.parentNode.insertBefore(t,r)},k=function e(t,r){return r.parentNode.insertBefore(t,r.nextSibling)},G=function e(t){return Array.isArray(t)},U=function e(t){return t==null},F=function e(t){return t.trim()},V=function e(t){return""+t},Q,$=function e(t){return typeof t==="boolean"},J=function e(t){return $(t)?t:t==="true"},ee=function e(t){return typeof t==="string"},te=function e(t){return N(t)?t:ee(t)?V(t).replace(/[a-z]+/gi,""):0},re=function e(t){return parseInt(te(t),10)},ne=function e(t){return parseFloat(te(t))},oe=function e(t){return N(t)&&isFinite(t)&&Math.floor(t)===t},ie=function e(t){if(oe(t)){return t}var r=V(t).trim();if(/MB$/i.test(r)){r=r.replace(/MB$i/,"").trim();return re(r)*1e3*1e3}if(/KB/i.test(r)){r=r.replace(/KB$i/,"").trim();return re(r)*1e3}return re(r)},ae=function e(t){return typeof t==="function"},ue=function e(t){var r=self;var n=t.split(".");var o=null;while(o=n.shift()){r=r[o];if(!r){return null}}return r},ce={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},se=function e(t){var r={};r.url=ee(t)?t:t.url||"";r.timeout=t.timeout?parseInt(t.timeout,10):0;r.headers=t.headers?t.headers:{};m(ce,function(e){r[e]=le(e,t[e],ce[e],r.timeout,r.headers)});r.remove=t.remove||null;delete r.headers;return r},le=function e(t,r,n,o,i){if(r===null){return null}if(typeof r==="function"){return r}var a={url:n==="GET"||n==="PATCH"?"?"+t+"=":"",method:n,headers:i,withCredentials:false,timeout:o,onload:null,ondata:null,onerror:null};if(ee(r)){a.url=r;return a}Object.assign(a,r);if(ee(a.headers)){var u=a.headers.split(/:(.+)/);a.headers={header:u[0],value:u[1]}}a.withCredentials=J(a.withCredentials);return a},fe,pe=function e(t){return t===null},de=function e(t){return typeof t==="object"&&t!==null},ve=function e(t){return de(t)&&ee(t.url)&&de(t.process)&&de(t.revert)&&de(t.restore)&&de(t.fetch)},he=function e(t){if(G(t)){return"array"}if(pe(t)){return"null"}if(oe(t)){return"int"}if(/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)){return"bytes"}if(ve(t)){return"api"}return typeof t},ye=function e(t){return t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},me={array:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:",";if(U(t)){return[]}if(G(t)){return t}return V(t).split(r).map(F).filter(function(e){return e.length})},boolean:J,int:function e(t){return he(t)==="bytes"?ie(t):re(t)},number:ne,float:ne,bytes:ie,string:function e(t){return ae(t)?t:V(t)},function:function e(t){return ue(t)},serverapi:function e(t){return se(t)},object:function e(t){try{return JSON.parse(ye(t))}catch(e){return null}}},ge=function e(t,r){return me[r](t)},Ee=function e(t,r,n){if(t===r){return t}var o=he(t);if(o!==n){var i=ge(t,n);o=he(i);if(i===null){throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"'}else{t=i}}return t},be=function e(r,n){var o=r;return{enumerable:true,get:function e(){return o},set:function e(t){o=Ee(t,r,n)}}},_e=function e(r){var n={};m(r,function(e){var t=r[e];n[e]=be(t[0],t[1])});return B(n)},Te=function e(t){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:_e(t)}},Oe=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"-";return t.split(/(?=[A-Z])/).map(function(e){return e.toLowerCase()}).join(r)},we=function e(n,t){var o={};m(t,function(r){o[r]={get:function e(){return n.getState().options[r]},set:function e(t){n.dispatch("SET_"+Oe(r,"_").toUpperCase(),{value:t})}}});return o},Ie=function e(t){return function(n,e,o){var i={};m(t,function(t){var r=Oe(t,"_").toUpperCase();i["SET_"+r]=function(e){try{o.options[t]=e.value}catch(e){}n("DID_SET_"+r,{value:o.options[t]})}});return i}},Re=function e(t){return function(r){var e={};m(t,function(t){e["GET_"+Oe(t,"_").toUpperCase()]=function(e){return r.options[t]}});return e}},Se={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Pe=function e(){return Math.random().toString(36).substr(2,9)},De;function Ae(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){(function(e){return typeof e})}else{(function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})}return Ae(e)}function Ce(e,t,r,n){if(!De){typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103}var o=e&&e.defaultProps;var i=arguments.length-3;if(!t&&i!==0){({children:void 0})}if(t&&o){for(var a in o){if(t[a]===void 0){t[a]=o[a]}}}else if(!t){o||{}}if(i===1){t.children=n}else if(i>1){var u=new Array(i);for(var c=0;c<i;c++){u[c]=arguments[c+3]}t.children=u}return{$$typeof:De,type:e,key:r===undefined?null:""+r,ref:null,props:t,_owner:null}}function Le(e){var t;if(typeof Symbol!=="undefined"){if(Symbol.asyncIterator){e[Symbol.asyncIterator];if(t!=null)return t.call(e)}if(Symbol.iterator){e[Symbol.iterator];if(t!=null)return t.call(e)}}throw new TypeError("Object is not async iterable")}function Me(e){this.wrapped=e}function Ne(i){var a,u;function e(n,o){return new Hu(function(e,t){var r={key:n,arg:o,resolve:e,reject:t,next:null};if(u){u=u.next=r}else{a=u=r;c(n,o)}})}function c(e,t){try{var r=i[e](t);var n=r.value;var o=n instanceof Me;Hu.resolve(o?n.wrapped:n).then(function(e){if(o){c("next",e);return}s(r.done?"return":"normal",e)},function(e){c("throw",e)})}catch(e){s("throw",e)}}function s(e,t){switch(e){case"return":a.resolve({value:t,done:true});break;case"throw":a.reject(t);break;default:a.resolve({value:t,done:false});break}a=a.next;if(a){c(a.key,a.arg)}else{u=null}}this._invoke=e;if(typeof i.return!=="function"){this.return=undefined}}if(typeof Symbol==="function"&&Symbol.asyncIterator){Ne.prototype[Symbol.asyncIterator]=function(){return this}}function xe(e){return function(){return new Ne(e.apply(this,arguments))}}function je(e){return new Me(e)}function ke(n,e){var t={},r=false;function o(t,r){true;new Hu(function(e){e(n[t](r))});return{done:false,value:e(r)}}if(typeof Symbol==="function"&&Symbol.iterator){t[Symbol.iterator]=function(){return this}}t.next=function(e){if(r){false;return e}return o("next",e)};if(typeof n.throw==="function"){t.throw=function(e){if(r){false;throw e}return o("throw",e)}}if(typeof n.return==="function"){t.return=function(e){return o("return",e)}}return t}function Ge(e,t,r,n,o,i,a){try{var u=e[i](a);var c=u.value}catch(e){r(e);return}if(u.done){t(c)}else{Hu.resolve(c).then(n,o)}}function Fe(u){return function(){var e=this,a=arguments;return new Hu(function(t,r){var n=u.apply(e,a);function o(e){Ge(n,t,r,o,i,"next",e)}function i(e){Ge(n,t,r,o,i,"throw",e)}o(undefined)})}}function Ue(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function Ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function Be(e,t,r){if(t)Ve(e.prototype,t);if(r)Ve(e,r);return e}function qe(e,t){for(var r in t){var n=t[r];n.configurable=n.enumerable=true;if("value"in n)n.writable=true;Object.defineProperty(e,r,n)}if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(var i=0;i<o.length;i++){var a=o[i];var n=t[a];n.configurable=n.enumerable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a,n)}}return e}function ze(e,t){var r=Object.getOwnPropertyNames(t);for(var n=0;n<r.length;n++){var o=r[n];var i=Object.getOwnPropertyDescriptor(t,o);if(i&&i.configurable&&e[o]===undefined){Object.defineProperty(e,o,i)}}return e}function Ye(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function He(){Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return He.apply(this,arguments)}function We(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){Ye(t,e,r[e])})}return t}function Xe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable});r.push.apply(r,n)}return r}function Ze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){Xe(r,true).forEach(function(e){Ye(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{Xe(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function Ke(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)Je(e,t)}function Qe(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}function $e(e){Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return $e(e)}function Je(e,t){Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return Je(e,t)}function et(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function tt(e,t,r){if(et()){Reflect.construct}else{(function e(t,r,n){var o=[null];o.push.apply(o,r);var i=Function.bind.apply(t,o);var a=new i;if(n)Je(a,n.prototype);return a})}return tt.apply(null,arguments)}function rt(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function nt(e){var n=typeof Map==="function"?new Map:undefined;(function e(t){if(t===null||!rt(t))return t;if(typeof t!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof n!=="undefined"){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return tt(t,arguments,$e(this).constructor)}Object.create(t.prototype,{constructor:{value:r,enumerable:false,writable:true,configurable:true}});return Je(r,t)});return nt(e)}function ot(e,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return!!t[Symbol.hasInstance](e)}else{return e instanceof t}}function it(e){return e&&e.__esModule?e:{default:e}}function at(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function ut(e,t){if(e!==t){throw new TypeError("Cannot instantiate an arrow function")}}function ct(e){if(e==null)throw new TypeError("Cannot destructure undefined")}function st(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,i;for(i=0;i<n.length;i++){o=n[i];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function lt(e,t){if(e==null)return{};var r=st(e,t);var n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++){n=i[o];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function ft(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function pt(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return ft(e)}function dt(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){$e(e);if(e===null)break}return e}function vt(e,t,r){if(typeof Reflect!=="undefined"&&Reflect.get){Reflect.get}else{(function e(t,r,n){var o=dt(t,r);if(!o)return;var i=Object.getOwnPropertyDescriptor(o,r);if(i.get){return i.get.call(n)}return i.value})}return vt(e,t,r||e)}function ht(e,t,r,n){if(typeof Reflect!=="undefined"&&Reflect.set){Reflect.set}else{(function e(t,r,n,o){var i=dt(t,r);var a;if(i){Object.getOwnPropertyDescriptor(i,r);if(a.set){a.set.call(o,n);return true}else if(!a.writable){return false}}Object.getOwnPropertyDescriptor(o,r);if(a){if(!a.writable){return false}a.value=n;Object.defineProperty(o,r,a)}else{Ye(o,r,n)}return true})}return ht(e,t,r,n)}function yt(e,t,r,n,o){var i=ht(e,t,r,n||e);if(!i&&o){throw new Error("failed to set property")}return r}function mt(e,t){if(!t){e.slice(0)}return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function gt(e,t){if(!t){e.slice(0)}e.raw=t;return e}function Et(e,t){if(e===Tt){throw new ReferenceError(t+" is not defined - temporal dead zone")}else{return e}}function bt(e){throw new Error('"'+e+'" is read-only')}function _t(e){throw new Error('Class "'+e+'" cannot be referenced in computed property keys.')}Ne.prototype.next=function(e){return this._invoke("next",e)},Ne.prototype.throw=function(e){return this._invoke("throw",e)},Ne.prototype.return=function(e){return this._invoke("return",e)};var Tt={};function Ot(e,t){return Pt(e)||At(e,t)||Mt()}function wt(e,t){return Pt(e)||Ct(e,t)||Mt()}function It(e){return Pt(e)||Dt(e)||Mt()}function Rt(e){return St(e)||Dt(e)||Lt()}function St(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function Pt(e){if(Array.isArray(e))return e}function Dt(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function At(e,t){var r=[];var n=true;var o=false;var i=undefined;try{for(var a=e[Symbol.iterator](),u;!a.next().done;true){r.push(u.value);if(t&&r.length===t)break}}catch(e){true;e}finally{try{if(!n&&a["return"]!=null)a["return"]()}finally{if(o)throw i}}return r}function Ct(e,t){var r=[];for(var n=e[Symbol.iterator](),o;!n.next().done;){r.push(o.value);if(t&&r.length===t)break}return r}function Lt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Mt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Nt(t){return function(){var e=t.apply(this,arguments);e.next();return e}}function xt(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jt(e){var t=xt(e,"string");return typeof t==="symbol"?t:String(t)}function kt(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and set to use loose mode. "+"To use proposal-class-properties in spec mode with decorators, wait for "+"the next major version of decorators in stage 2.")}function Gt(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ft(r,n,e,t,o){var i={};Object.keys(t).forEach(function(e){i[e]=t[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}e.slice().reverse().reduce(function(e,t){return t(r,n,e)||e},i);if(o&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(o):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(r,n,i);null}return i}var Ut=0;function Vt(e){return"__private_"+Ut+++"_"+e}function Bt(e,t){if(!Object.prototype.hasOwnProperty.call(e,t)){throw new TypeError("attempted to use private field on non-instance")}return e}function qt(e,t){var r=t.get(e);if(!r){throw new TypeError("attempted to get private field on non-instance")}if(r.get){return r.get.call(e)}return r.value}function zt(e,t,r){var n=t.get(e);if(!n){throw new TypeError("attempted to set private field on non-instance")}if(n.set){n.set.call(e,r)}else{if(!n.writable){throw new TypeError("attempted to set read only private field")}n.value=r}return r}function Yt(t,e){if(!e.has(t)){throw new TypeError("attempted to set private field on non-instance")}var r=e.get(t);if(r.set){if(!("__destrObj"in r)){r.__destrObj={set value(e){r.set.call(t,e)}}}return r.__destrObj}else{if(!r.writable){throw new TypeError("attempted to set read only private field")}return r}}function Ht(e,t,r){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return r.value}function Wt(e,t,r,n){if(e!==t){throw new TypeError("Private static access of wrong provenance")}if(!r.writable){throw new TypeError("attempted to set read only private field")}r.value=n;return n}function Xt(e,t,r){if(e!==t){throw new TypeError("Private static access of wrong provenance")}return r}function Zt(){throw new TypeError("attempted to set read only static private field")}function Kt(e,t,r,n){var o=Qt();if(n){for(var i=0;i<n.length;i++){n[i](o)}}var a=t(function e(t){o.initializeInstanceElements(t,u.elements)},r);var u=o.decorateClass(er(a.d.map($t)),e);o.initializeClassElements(a.F,u.elements);return o.runClassFinishers(a.F,u.finishers)}function Qt(){(function(){return e});var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(r,e){["method","field"].forEach(function(t){e.forEach(function(e){if(e.kind===t&&e.placement==="own"){this.defineClassElement(r,e)}},this)},this)},initializeClassElements:function(o,e){var i=o.prototype;["method","field"].forEach(function(n){e.forEach(function(e){var t=e.placement;if(e.kind===n&&(t==="static"||t==="prototype")){var r=t==="static"?o:i;this.defineClassElement(r,e)}},this)},this)},defineClassElement:function(e,t){var r=t.descriptor;if(t.kind==="field"){var n=t.initializer;({enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:n===void 0?void 0:n.call(e)})}Object.defineProperty(e,t.key,r)},decorateClass:function(e,t){var r=[];var n=[];var o={static:[],prototype:[],own:[]};e.forEach(function(e){this.addElementPlacement(e,o)},this);e.forEach(function(e){if(!tr(e))return r.push(e);var t=this.decorateElement(e,o);r.push(t.element);r.push.apply(r,t.extras);n.push.apply(n,t.finishers)},this);if(!t){return{elements:r,finishers:n}}var i=this.decorateConstructor(r,t);n.push.apply(n,i.finishers);i.finishers=n;return i},addElementPlacement:function(e,t,r){var n=t[e.placement];if(!r&&n.indexOf(e.key)!==-1){throw new TypeError("Duplicated element ("+e.key+")")}n.push(e.key)},decorateElement:function(e,t){var r=[];var n=[];for(var o=e.decorators,i=o.length-1;i>=0;i--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var u=this.fromElementDescriptor(e);var c=this.toElementFinisherExtras((0,o[i])(u)||u);c.element;this.addElementPlacement(e,t);if(c.finisher){n.push(c.finisher)}var s=c.extras;if(s){for(var l=0;l<s.length;l++){this.addElementPlacement(s[l],t)}r.push.apply(r,s)}}return{element:e,finishers:n,extras:r}},decorateConstructor:function(e,t){var r=[];for(var n=t.length-1;n>=0;n--){var o=this.fromClassDescriptor(e);var i=this.toClassDescriptor((0,t[n])(o)||o);if(i.finisher!==undefined){r.push(i.finisher)}if(i.elements!==undefined){i.elements;for(var a=0;a<e.length-1;a++){for(var u=a+1;u<e.length;u++){if(e[a].key===e[u].key&&e[a].placement===e[u].placement){throw new TypeError("Duplicated element ("+e[a].key+")")}}}}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};var r={value:"Descriptor",configurable:true};Object.defineProperty(t,Symbol.toStringTag,r);if(e.kind==="field")t.initializer=e.initializer;return t},toElementDescriptors:function(e){if(e===undefined)return;return It(e).map(function(e){var t=this.toElementDescriptor(e);this.disallowProperty(e,"finisher","An element descriptor");this.disallowProperty(e,"extras","An element descriptor");return t},this)},toElementDescriptor:function(e){var t=String(e.kind);if(t!=="method"&&t!=="field"){throw new TypeError('An element descriptor\'s .kind property must be either "method" or'+' "field", but a decorator created an element descriptor with'+' .kind "'+t+'"')}var r=jt(e.key);var n=String(e.placement);if(n!=="static"&&n!=="prototype"&&n!=="own"){throw new TypeError('An element descriptor\'s .placement property must be one of "static",'+' "prototype" or "own", but a decorator created an element descriptor'+' with .placement "'+n+'"')}var o=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var i={kind:t,key:r,placement:n,descriptor:Object.assign({},o)};if(t!=="field"){this.disallowProperty(e,"initializer","A method descriptor")}else{this.disallowProperty(o,"get","The property descriptor of a field descriptor");this.disallowProperty(o,"set","The property descriptor of a field descriptor");this.disallowProperty(o,"value","The property descriptor of a field descriptor");i.initializer=e.initializer}return i},toElementFinisherExtras:function(e){var t=this.toElementDescriptor(e);var r=nr(e,"finisher");var n=this.toElementDescriptors(e.extras);return{element:t,finisher:r,extras:n}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};var r={value:"Descriptor",configurable:true};Object.defineProperty(t,Symbol.toStringTag,r);return t},toClassDescriptor:function(e){var t=String(e.kind);if(t!=="class"){throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator'+' created a class descriptor with .kind "'+t+'"')}this.disallowProperty(e,"key","A class descriptor");this.disallowProperty(e,"placement","A class descriptor");this.disallowProperty(e,"descriptor","A class descriptor");this.disallowProperty(e,"initializer","A class descriptor");this.disallowProperty(e,"extras","A class descriptor");var r=nr(e,"finisher");var n=this.toElementDescriptors(e.elements);return{elements:n,finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(n!==undefined){if(typeof n!=="function"){throw new TypeError("Finishers must return a constructor.")}n}}return e},disallowProperty:function(e,t,r){if(e[t]!==undefined){throw new TypeError(r+" can't have a ."+t+" property.")}}};return e}function $t(e){var t=jt(e.key);var r;if(e.kind==="method"){({value:e.value,writable:true,configurable:true,enumerable:false})}else if(e.kind==="get"){({get:e.value,configurable:true,enumerable:false})}else if(e.kind==="set"){({set:e.value,configurable:true,enumerable:false})}else if(e.kind==="field"){({configurable:true,writable:true,enumerable:true})}var n={kind:e.kind==="field"?"field":"method",key:t,placement:e.static?"static":e.kind==="field"?"own":"prototype",descriptor:r};if(e.decorators)n.decorators=e.decorators;if(e.kind==="field")n.initializer=e.value;return n}function Jt(e,t){if(e.descriptor.get!==undefined){t.descriptor.get=e.descriptor.get}else{t.descriptor.set=e.descriptor.set}}function er(e){var t=[];var r=function(e){return e.kind==="method"&&e.key===o.key&&e.placement===o.placement};for(var n=0;n<e.length;n++){var o=e[n];var i;if(o.kind==="method"&&t.find(r)){if(rr(o.descriptor)||rr(i.descriptor)){if(tr(o)||tr(i)){throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.")}i.descriptor=o.descriptor}else{if(tr(o)){if(tr(i)){throw new ReferenceError("Decorators can't be placed on different accessors with for "+"the same property ("+o.key+").")}i.decorators=o.decorators}Jt(o,i)}}else{t.push(o)}}return t}function tr(e){return e.decorators&&e.decorators.length}function rr(e){return e!==undefined&&!(e.value===undefined&&e.writable===undefined)}function nr(e,t){var r=e[t];if(r!==undefined&&typeof r!=="function"){throw new TypeError("Expected '"+t+"' to be a function")}return r}function or(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}function ir(){throw new TypeError("attempted to reassign private method")}function ar(e,t){(function(e,t){return new r(e,t)});var n=nt(RegExp);var o=RegExp.prototype;var i=new WeakMap;function r(e,t){var r=n.call(this,e);i.set(r,t);return r}Ke(r,n);(function(e){var t=o.exec.call(this,e);if(t)t.groups=a(t,this);return t});Symbol.replace,function(e,t){if(typeof t==="string"){var r=i.get(this);return o[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+r[t]}))}else if(typeof t==="function"){var n=this;return o[Symbol.replace].call(this,e,function(){var e=[];e.push.apply(e,arguments);if(typeof e[e.length-1]!=="object"){e.push(a(e,n))}return t.apply(this,e)})}else{return o[Symbol.replace].call(this,e,t)}};function a(r,e){var n=i.get(e);return Object.keys(n).reduce(function(e,t){e[t]=r[n[t]];return e},Object.create(null))}return ar.apply(this,arguments)}var ur=function e(t,r){return t.splice(r,1)},cr=function e(t,r){if(r){t()}else if(document.hidden){Hu.resolve(1).then(t)}else{setTimeout(t,0)}},sr=function e(){var o=[];var n=function e(t,r){ur(o,o.findIndex(function(e){return e.event===t&&(e.cb===r||!r)}))};var i=function e(t,r,n){o.filter(function(e){return e.event===t}).map(function(e){return e.cb}).forEach(function(e){return cr(function(){return e.apply(void 0,Rt(r))},n)})};return{fireSync:function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++){n[o-1]=arguments[o]}i(t,n,true)},fire:function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++){n[o-1]=arguments[o]}i(t,n,false)},on:function e(t,r){o.push({event:t,cb:r})},onOnce:function e(t,r){o.push({event:t,cb:function e(){n(t,r);r.apply(void 0,arguments)}})},off:n}},lr=function e(t,r,n){Object.getOwnPropertyNames(t).filter(function(e){return!n.includes(e)}).forEach(function(e){return Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})},fr=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],pr=function e(t){var r={};lr(t,r,fr);return r},dr=function e(r){r.forEach(function(e,t){if(e.released){ur(r,t)}})},vr={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},hr={INPUT:1,LIMBO:2,LOCAL:3},yr=function e(t){return/[^0-9]+/.exec(t)},mr=function e(){return yr(1.1.toLocaleString())[0]},gr=function e(){var t=mr();var r=1e3.toLocaleString();var n=1e3.toString();if(r!==n){return yr(r)[0]}return t==="."?",":"."},Er={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},br=[],_r=function e(o,i,a){return new Hu(function(t,r){var e=br.filter(function(e){return e.key===o}).map(function(e){return e.cb});if(e.length===0){t(i);return}var n=e.shift();e.reduce(function(e,t){return e.then(function(e){return t(e,a)})},n(i,a)).then(function(e){return t(e)}).catch(function(e){return r(e)})})},Tr=function e(t,r,n){return br.filter(function(e){return e.key===t}).map(function(e){return e.cb(r,n)})},Or=function e(t,r){return br.push({key:t,cb:r})},wr=function e(t){return Object.assign(Sr,t)},Ir=function e(){return Object.assign({},Sr)},Rr=function e(t){m(t,function(e,t){if(!Sr[e]){return}Sr[e][0]=Ee(t,Sr[e][0],Sr[e][1])})},Sr={id:[null,Er.STRING],name:["filepond",Er.STRING],disabled:[false,Er.BOOLEAN],className:[null,Er.STRING],required:[false,Er.BOOLEAN],captureMethod:[null,Er.STRING],allowSyncAcceptAttribute:[true,Er.BOOLEAN],allowDrop:[true,Er.BOOLEAN],allowBrowse:[true,Er.BOOLEAN],allowPaste:[true,Er.BOOLEAN],allowMultiple:[false,Er.BOOLEAN],allowReplace:[true,Er.BOOLEAN],allowRevert:[true,Er.BOOLEAN],allowRemove:[true,Er.BOOLEAN],allowProcess:[true,Er.BOOLEAN],allowReorder:[false,Er.BOOLEAN],allowDirectoriesOnly:[false,Er.BOOLEAN],forceRevert:[false,Er.BOOLEAN],maxFiles:[null,Er.INT],checkValidity:[false,Er.BOOLEAN],itemInsertLocationFreedom:[true,Er.BOOLEAN],itemInsertLocation:["before",Er.STRING],itemInsertInterval:[75,Er.INT],dropOnPage:[false,Er.BOOLEAN],dropOnElement:[true,Er.BOOLEAN],dropValidation:[false,Er.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Er.ARRAY],instantUpload:[true,Er.BOOLEAN],maxParallelUploads:[2,Er.INT],chunkUploads:[false,Er.BOOLEAN],chunkForce:[false,Er.BOOLEAN],chunkSize:[5e6,Er.INT],chunkRetryDelays:[[500,1e3,3e3],Er.Array],server:[null,Er.SERVER_API],labelDecimalSeparator:[mr(),Er.STRING],labelThousandsSeparator:[gr(),Er.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Er.STRING],labelInvalidField:["Field contains invalid files",Er.STRING],labelFileWaitingForSize:["Waiting for size",Er.STRING],labelFileSizeNotAvailable:["Size not available",Er.STRING],labelFileCountSingular:["file in list",Er.STRING],labelFileCountPlural:["files in list",Er.STRING],labelFileLoading:["Loading",Er.STRING],labelFileAdded:["Added",Er.STRING],labelFileLoadError:["Error during load",Er.STRING],labelFileRemoved:["Removed",Er.STRING],labelFileRemoveError:["Error during remove",Er.STRING],labelFileProcessing:["Uploading",Er.STRING],labelFileProcessingComplete:["Upload complete",Er.STRING],labelFileProcessingAborted:["Upload cancelled",Er.STRING],labelFileProcessingError:["Error during upload",Er.STRING],labelFileProcessingRevertError:["Error during revert",Er.STRING],labelTapToCancel:["tap to cancel",Er.STRING],labelTapToRetry:["tap to retry",Er.STRING],labelTapToUndo:["tap to undo",Er.STRING],labelButtonRemoveItem:["Remove",Er.STRING],labelButtonAbortItemLoad:["Abort",Er.STRING],labelButtonRetryItemLoad:["Retry",Er.STRING],labelButtonAbortItemProcessing:["Cancel",Er.STRING],labelButtonUndoItemProcessing:["Undo",Er.STRING],labelButtonRetryItemProcessing:["Retry",Er.STRING],labelButtonProcessItem:["Upload",Er.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Er.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Er.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Er.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Er.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Er.STRING],oninit:[null,Er.FUNCTION],onwarning:[null,Er.FUNCTION],onerror:[null,Er.FUNCTION],onactivatefile:[null,Er.FUNCTION],oninitfile:[null,Er.FUNCTION],onaddfilestart:[null,Er.FUNCTION],onaddfileprogress:[null,Er.FUNCTION],onaddfile:[null,Er.FUNCTION],onprocessfilestart:[null,Er.FUNCTION],onprocessfileprogress:[null,Er.FUNCTION],onprocessfileabort:[null,Er.FUNCTION],onprocessfilerevert:[null,Er.FUNCTION],onprocessfile:[null,Er.FUNCTION],onprocessfiles:[null,Er.FUNCTION],onremovefile:[null,Er.FUNCTION],onpreparefile:[null,Er.FUNCTION],onupdatefiles:[null,Er.FUNCTION],onreorderfiles:[null,Er.FUNCTION],beforeDropFile:[null,Er.FUNCTION],beforeAddFile:[null,Er.FUNCTION],beforeRemoveFile:[null,Er.FUNCTION],stylePanelLayout:[null,Er.STRING],stylePanelAspectRatio:[null,Er.STRING],styleItemPanelAspectRatio:[null,Er.STRING],styleButtonRemoveItemPosition:["left",Er.STRING],styleButtonProcessItemPosition:["right",Er.STRING],styleLoadIndicatorPosition:["right",Er.STRING],styleProgressIndicatorPosition:["right",Er.STRING],styleButtonRemoveItemAlign:[false,Er.BOOLEAN],files:[[],Er.ARRAY]},Pr=function e(t,r){if(U(r)){return t[0]||null}if(oe(r)){return t[r]||null}if(typeof r==="object"){r=r.id}return t.find(function(e){return e.id===r})||null},Dr=function e(t){if(U(t)){return t}if(/:/.test(t)){var r=t.split(":");return r[1]/r[0]}return parseFloat(t)},Ar=function e(t){return t.filter(function(e){return!e.archived})},Cr={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},Lr=[vr.LOAD_ERROR,vr.PROCESSING_ERROR,vr.PROCESSING_REVERT_ERROR],Mr=[vr.LOADING,vr.PROCESSING,vr.PROCESSING_QUEUED,vr.INIT],Nr=[vr.PROCESSING_COMPLETE],xr=function e(t){return Lr.includes(t.status)},jr=function e(t){return Mr.includes(t.status)},kr=function e(t){return Nr.includes(t.status)},Gr=function e(u){return{GET_STATUS:function e(){var t=Ar(u.items);var r=Cr.EMPTY,n=Cr.ERROR,o=Cr.BUSY,i=Cr.IDLE,a=Cr.READY;if(t.length===0)return r;if(t.some(xr))return n;if(t.some(jr))return o;if(t.some(kr))return a;return i},GET_ITEM:function e(t){return Pr(u.items,t)},GET_ACTIVE_ITEM:function e(t){return Pr(Ar(u.items),t)},GET_ACTIVE_ITEMS:function e(){return Ar(u.items)},GET_ITEMS:function e(){return u.items},GET_ITEM_NAME:function e(t){var r=Pr(u.items,t);return r?r.filename:null},GET_ITEM_SIZE:function e(t){var r=Pr(u.items,t);return r?r.fileSize:null},GET_STYLES:function e(){return Object.keys(u.options).filter(function(e){return/^style/.test(e)}).map(function(e){return{name:e,value:u.options[e]}})},GET_PANEL_ASPECT_RATIO:function e(){var t=/circle/.test(u.options.stylePanelLayout);var r=t?1:Dr(u.options.stylePanelAspectRatio);return r},GET_ITEM_PANEL_ASPECT_RATIO:function e(){return u.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function e(t){return Ar(u.items).filter(function(e){return e.status===t})},GET_TOTAL_ITEMS:function e(){return Ar(u.items).length},IS_ASYNC:function e(){return de(u.options.server)&&(de(u.options.server.process)||ae(u.options.server.process))}}},Fr=function e(t){var r=Ar(t.items).length;if(!t.options.allowMultiple){return r===0}var n=t.options.maxFiles;if(n===null){return true}if(r<n){return true}return false},Ur=function e(t,r,n){return Math.max(Math.min(n,t),r)},Vr=function e(t,r,n){return t.splice(r,0,n)},Br=function e(t,r,n){if(U(r)){return null}if(typeof n==="undefined"){t.push(r);return r}n=Ur(n,0,t.length);Vr(t,n,r);return r},qr=function e(t){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t)},zr=function e(t){return t.split("/").pop().split("?").shift()},Yr=function e(t){return t.split(".").pop()},Hr=function e(t){if(typeof t!=="string"){return""}var r=t.split("/").pop();if(/svg/.test(r)){return"svg"}if(/zip|compressed/.test(r)){return"zip"}if(/plain/.test(r)){return"txt"}if(/msword/.test(r)){return"doc"}if(/[a-z]+/.test(r)){if(r==="jpeg"){return"jpg"}return r}return""},Wr=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return(r+t).slice(-r.length)},Xr=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date;return t.getFullYear()+"-"+Wr(t.getMonth()+1,"00")+"-"+Wr(t.getDate(),"00")+"_"+Wr(t.getHours(),"00")+"-"+Wr(t.getMinutes(),"00")+"-"+Wr(t.getSeconds(),"00")},Zr=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var i=typeof n==="string"?t.slice(0,t.size,n):t.slice(0,t.size,t.type);i.lastModifiedDate=new Date;if(t._relativePath)i._relativePath=t._relativePath;if(!ee(r)){r=Xr()}if(r&&o===null&&Yr(r)){i.name=r}else{o=o||Hr(i.type);i.name=r+(o?"."+o:"")}return i},Kr=function e(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},Qr=function e(t,r){var n=Kr();if(n){var o=new n;o.append(t);return o.getBlob(r)}return new Blob([t],{type:r})},$r=function e(t,r){var n=new ArrayBuffer(t.length);var o=new Uint8Array(n);for(var i=0;i<t.length;i++){o[i]=t.charCodeAt(i)}return Qr(n,r)},Jr=function e(t){return(/^data:(.+);/.exec(t)||[])[1]||null},en=function e(t){var r=t.split(",")[1];return r.replace(/\s/g,"")},tn=function e(t){return atob(en(t))},rn=function e(t){var r=Jr(t);var n=tn(t);return $r(n,r)},nn=function e(t,r,n){return Zr(rn(t),r,null,n)},on=function e(t){if(!/^content-disposition:/i.test(t))return null;var r=t.split(/filename=|filename\*=.+''/).splice(1).map(function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(e){return e.length});return r.length?decodeURI(r[r.length-1]):null},an=function e(t){if(/content-length:/i.test(t)){var r=t.match(/[0-9]+/)[0];return r?parseInt(r,10):null}return null},un=function e(t){if(/x-content-transfer-id:/i.test(t)){var r=(t.split(":")[1]||"").trim();return r||null}return null},cn=function e(t){var r={source:null,name:null,size:null};var n=t.split("\n");var o=true;var i=false;var a=undefined;try{for(var u=n[Symbol.iterator](),c;!(o=(c=u.next()).done);o=true){var s=c.value;var l=on(s);if(l){r.name=l;continue}var f=an(s);if(f){r.size=f;continue}var p=un(s);if(p){r.source=p;continue}}}catch(e){i=true;a=e}finally{try{if(!o&&u.return!=null){u.return()}}finally{if(i){throw a}}}return r},sn=function e(r){var n={source:null,complete:false,progress:0,size:null,timestamp:null,duration:0,request:null};var t=function e(){return n.progress};var o=function e(){if(n.request&&n.request.abort){n.request.abort()}};var i=function e(){var t=n.source;u.fire("init",t);if(t instanceof File){u.fire("load",t)}else if(t instanceof Blob){u.fire("load",Zr(t,t.name))}else if(qr(t)){u.fire("load",nn(t))}else{a(t)}};var a=function e(t){if(!r){u.fire("error",{type:"error",body:"Can't load URL",code:400});return}n.timestamp=Date.now();n.request=r(t,function(e){n.duration=Date.now()-n.timestamp;n.complete=true;if(e instanceof Blob){e=Zr(e,e.name||zr(t))}u.fire("load",e instanceof Blob?e:e?e.body:null)},function(e){u.fire("error",typeof e==="string"?{type:"error",code:0,body:e}:e)},function(e,t,r){if(r){n.size=r}n.duration=Date.now()-n.timestamp;if(!e){n.progress=null;return}n.progress=t/r;u.fire("progress",n.progress)},function(){u.fire("abort")},function(e){var t=cn(typeof e==="string"?e:e.headers);u.fire("meta",{size:n.size||t.size,filename:t.name,source:t.source})})};var u=Object.assign({},sr(),{setSource:function e(t){return n.source=t},getProgress:t,abort:o,load:i});return u},ln=function e(t){return/GET|HEAD/.test(t)},fn=function e(t,r,n){var o={onheaders:function e(){},onprogress:function e(){},onload:function e(){},ontimeout:function e(){},onerror:function e(){},onabort:function e(){},abort:function e(){i=true;u.abort()}};var i=false;var a=false;n=Object.assign({method:"POST",headers:{},withCredentials:false},n);r=encodeURI(r);if(ln(n.method)&&t){r=""+r+encodeURIComponent(typeof t==="string"?t:JSON.stringify(t))}var u=new XMLHttpRequest;var c=ln(n.method)?u:u.upload;c.onprogress=function(e){if(i){return}o.onprogress(e.lengthComputable,e.loaded,e.total)};u.onreadystatechange=function(){if(u.readyState<2){return}if(u.readyState===4&&u.status===0){return}if(a){return}a=true;o.onheaders(u)};u.onload=function(){if(u.status>=200&&u.status<300){o.onload(u)}else{o.onerror(u)}};u.onerror=function(){return o.onerror(u)};u.onabort=function(){i=true;o.onabort()};u.ontimeout=function(){return o.ontimeout(u)};u.open(n.method,r,true);if(oe(n.timeout)){u.timeout=n.timeout}Object.keys(n.headers).forEach(function(e){var t=unescape(encodeURIComponent(n.headers[e]));u.setRequestHeader(e,t)});if(n.responseType){u.responseType=n.responseType}if(n.withCredentials){u.withCredentials=true}u.send(t);return o},pn=function e(t,r,n,o){return{type:t,code:r,body:n,headers:o}},dn=function e(t){return function(e){t(pn("error",0,"Timeout",e.getAllResponseHeaders()))}},vn=function e(t){return/\?/.test(t)},hn=function e(){var t="";for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}n.forEach(function(e){t+=vn(t)&&vn(e)?e.replace(/\?/,"&"):e});return t},yn=function e(){var u=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var c=arguments.length>1?arguments[1]:undefined;if(typeof c==="function"){return c}if(!c||!ee(c.url)){return null}var s=c.onload||function(e){return e};var l=c.onerror||function(e){return null};return function(n,o,t,e,r,i){var a=fn(n,hn(u,c.url),Object.assign({},c,{responseType:"blob"}));a.onload=function(e){var t=e.getAllResponseHeaders();var r=cn(t).name||zr(n);o(pn("load",e.status,c.method==="HEAD"?null:Zr(s(e.response),r),t))};a.onerror=function(e){t(pn("error",e.status,l(e.response)||e.statusText,e.getAllResponseHeaders()))};a.onheaders=function(e){i(pn("headers",e.status,null,e.getAllResponseHeaders()))};a.ontimeout=dn(t);a.onprogress=e;a.onabort=r;return a}},mn={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},gn=function e(u,a,c,s,l,t,f,n,p,r,o){var d=[];var i=o.chunkTransferId,v=o.chunkServer,h=o.chunkSize,y=o.chunkRetryDelays;var m={serverId:i,aborted:false};var g=a.ondata||function(e){return e};var E=a.onload||function(e,t){return t==="HEAD"?e.getResponseHeader("Upload-Offset"):e.response};var b=a.onerror||function(e){return null};var _=function e(t){var r=new FormData;if(de(l))r.append(c,JSON.stringify(l));var n=typeof a.headers==="function"?a.headers(s,l):Object.assign({},a.headers,{"Upload-Length":s.size});var o=Object.assign({},a,{headers:n});var i=fn(g(r),hn(u,a.url),o);i.onload=function(e){return t(E(e,o.method))};i.onerror=function(e){return f(pn("error",e.status,b(e.response)||e.statusText,e.getAllResponseHeaders()))};i.ontimeout=dn(f)};var T=function e(t){var r=hn(u,v.url,m.serverId);var n=typeof a.headers==="function"?a.headers(m.serverId):Object.assign({},a.headers);var o={headers:n,method:"HEAD"};var i=fn(null,r,o);i.onload=function(e){return t(E(e,o.method))};i.onerror=function(e){return f(pn("error",e.status,b(e.response)||e.statusText,e.getAllResponseHeaders()))};i.ontimeout=dn(f)};var O=Math.floor(s.size/h);for(var w=0;w<=O;w++){var I=w*h;var R=s.slice(I,I+h,"application/offset+octet-stream");d[w]={index:w,size:R.size,offset:I,data:R,file:s,progress:0,retries:Rt(y),status:mn.QUEUED,error:null,request:null,timeout:null}}var S=function e(){return t(m.serverId)};var P=function e(t){return t.status===mn.QUEUED||t.status===mn.ERROR};var D=function e(n){if(m.aborted)return;n=n||d.find(P);if(!n){if(d.every(function(e){return e.status===mn.COMPLETE})){S()}return}n.status=mn.PROCESSING;n.progress=null;var t=v.ondata||function(e){return e};var r=v.onerror||function(e){return null};var o=hn(u,v.url,m.serverId);var i=typeof v.headers==="function"?v.headers(n):Object.assign({},v.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":n.offset,"Upload-Length":s.size,"Upload-Name":s.name});var a=n.request=fn(t(n.data),o,Object.assign({},v,{headers:i}));a.onload=function(){n.status=mn.COMPLETE;n.request=null;L()};a.onprogress=function(e,t,r){n.progress=e?t:null;C()};a.onerror=function(e){n.status=mn.ERROR;n.request=null;n.error=r(e.response)||e.statusText;if(!A(n)){f(pn("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))}};a.ontimeout=function(e){n.status=mn.ERROR;n.request=null;if(!A(n)){dn(f)(e)}};a.onabort=function(){n.status=mn.QUEUED;n.request=null;p()}};var A=function e(t){if(t.retries.length===0)return false;t.status=mn.WAITING;clearTimeout(t.timeout);t.timeout=setTimeout(function(){D(t)},t.retries.shift());return true};var C=function e(){var t=d.reduce(function(e,t){if(e===null||t.progress===null)return null;return e+t.progress},0);if(t===null)return n(false,0,0);var r=d.reduce(function(e,t){return e+t.size},0);n(true,t,r)};var L=function e(){var t=d.filter(function(e){return e.status===mn.PROCESSING}).length;if(t>=1)return;D()};var M=function e(){d.forEach(function(e){clearTimeout(e.timeout);if(e.request){e.request.abort()}})};if(!m.serverId){_(function(e){if(m.aborted)return;r(e);m.serverId=e;L()})}else{T(function(t){if(m.aborted)return;d.filter(function(e){return e.offset<t}).forEach(function(e){e.status=mn.COMPLETE;e.progress=e.size});L()})}return{abort:function e(){m.aborted=true;M()}}},En=function e(h,y,m,g){return function(e,t,r,n,o,i,a){if(!e)return;var u=g.chunkUploads;var c=u&&e.size>g.chunkSize;var s=u&&(c||g.chunkForce);if(e instanceof Blob&&s)return gn(h,y,m,e,t,r,n,o,i,a,g);var l=y.ondata||function(e){return e};var f=y.onload||function(e){return e};var p=y.onerror||function(e){return null};var d=new FormData;if(de(t)){d.append(m,JSON.stringify(t))}(e instanceof Blob?[{name:null,file:e}]:e).forEach(function(e){d.append(m,e.file,e.name===null?e.file.name:""+e.name+e.file.name)});var v=fn(l(d),hn(h,y.url),y);v.onload=function(e){r(pn("load",e.status,f(e.response),e.getAllResponseHeaders()))};v.onerror=function(e){n(pn("error",e.status,p(e.response)||e.statusText,e.getAllResponseHeaders()))};v.ontimeout=dn(n);v.onprogress=o;v.onabort=i;return v}},bn=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var n=arguments.length>1?arguments[1]:undefined;var o=arguments.length>2?arguments[2]:undefined;var i=arguments.length>3?arguments[3]:undefined;if(typeof n==="function")return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return n.apply(void 0,[o].concat(t,[i]))};if(!n||!ee(n.url))return null;return En(t,n,o,i)},_n=function e(){var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i=arguments.length>1?arguments[1]:undefined;if(typeof i==="function"){return i}if(!i||!ee(i.url)){return function(e,t){return t()}}var a=i.onload||function(e){return e};var u=i.onerror||function(e){return null};return function(e,t,r){var n=fn(e,o+i.url,i);n.onload=function(e){t(pn("load",e.status,a(e.response),e.getAllResponseHeaders()))};n.onerror=function(e){r(pn("error",e.status,u(e.response)||e.statusText,e.getAllResponseHeaders()))};n.ontimeout=dn(r);return n}},Tn=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return t+Math.random()*(r-t)},On=function e(o){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e3;var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:25;var u=arguments.length>4&&arguments[4]!==undefined?arguments[4]:250;var c=null;var s=Date.now();var r=function e(){var t=Date.now()-s;var r=Tn(a,u);if(t+r>i){r=t+r-i}var n=t/i;if(n>=1||document.hidden){o(1);return}o(n);c=setTimeout(e,r)};r();return{clear:function e(){clearTimeout(c)}}},wn=function e(i){var a={complete:false,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null};var t=function e(t,r){var n=function e(){if(a.duration===0||a.progress===null)return;c.fire("progress",c.getProgress())};var o=function e(){a.complete=true;c.fire("load-perceived",a.response.body)};c.fire("start");a.timestamp=Date.now();a.perceivedPerformanceUpdater=On(function(e){a.perceivedProgress=e;a.perceivedDuration=Date.now()-a.timestamp;n();if(a.response&&a.perceivedProgress===1&&!a.complete){o()}},Tn(750,1500));a.request=i(t,r,function(e){a.response=de(e)?e:{type:"load",code:200,body:""+e,headers:{}};a.duration=Date.now()-a.timestamp;a.progress=1;c.fire("load",a.response.body);if(a.perceivedProgress===1){o()}},function(e){a.perceivedPerformanceUpdater.clear();c.fire("error",de(e)?e:{type:"error",code:0,body:""+e})},function(e,t,r){a.duration=Date.now()-a.timestamp;a.progress=e?t/r:null;n()},function(){a.perceivedPerformanceUpdater.clear();c.fire("abort",a.response?a.response.body:null)},function(e){c.fire("transfer",e)})};var r=function e(){if(!a.request)return;a.perceivedPerformanceUpdater.clear();if(a.request.abort)a.request.abort();a.complete=true};var n=function e(){r();a.complete=false;a.perceivedProgress=0;a.progress=0;a.timestamp=null;a.perceivedDuration=0;a.duration=0;a.request=null;a.response=null};var o=function e(){return a.progress?Math.min(a.progress,a.perceivedProgress):null};var u=function e(){return Math.min(a.duration,a.perceivedDuration)};var c=Object.assign({},sr(),{process:t,abort:r,getProgress:o,getDuration:u,reset:n});return c},In=function e(t){return t.substr(0,t.lastIndexOf("."))||t},Rn=function e(t){var r=[t.name,t.size,t.type];if(t instanceof Blob||qr(t)){r[0]=t.name||Xr()}else if(qr(t)){r[1]=t.length;r[2]=Jr(t)}else if(ee(t)){r[0]=zr(t);r[1]=0;r[2]="application/octet-stream"}return{name:r[0],size:r[1],type:r[2]}},Sn=function e(t){return!!(t instanceof File||t instanceof Blob&&t.name)},Pn=function e(t){if(!de(t))return t;var r=G(t)?[]:{};for(var n in t){if(!t.hasOwnProperty(n))continue;var o=t[n];r[n]=o&&de(o)?e(o):o}return r},Dn=function e(){var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var n=Pe();var i={archived:false,frozen:false,released:false,source:null,file:r,serverFileReference:t,transferId:null,processingAborted:false,status:t?vr.PROCESSING_COMPLETE:vr.INIT,activeLoader:null,activeProcessor:null};var a=null;var c={};var u=function e(t){return i.status=t};var s=function e(t){if(i.released||i.frozen)return;for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++){n[o-1]=arguments[o]}O.fire.apply(O,[t].concat(n))};var l=function e(){return Yr(i.file.name)};var f=function e(){return i.file.type};var p=function e(){return i.file.size};var d=function e(){return i.file};var v=function e(t,r,n){i.source=t;O.fireSync("init");if(i.file){O.fireSync("load-skip");return}i.file=Rn(t);r.on("init",function(){s("load-init")});r.on("meta",function(e){i.file.size=e.size;i.file.filename=e.filename;if(e.source){o=hr.LIMBO;i.serverFileReference=e.source;i.status=vr.PROCESSING_COMPLETE}s("load-meta")});r.on("progress",function(e){u(vr.LOADING);s("load-progress",e)});r.on("error",function(e){u(vr.LOAD_ERROR);s("load-request-error",e)});r.on("abort",function(){u(vr.INIT);s("load-abort")});r.on("load",function(r){i.activeLoader=null;var e=function e(t){i.file=Sn(t)?t:i.file;if(o===hr.LIMBO&&i.serverFileReference){u(vr.PROCESSING_COMPLETE)}else{u(vr.IDLE)}s("load")};var t=function e(t){i.file=r;s("load-meta");u(vr.LOAD_ERROR);s("load-file-error",t)};if(i.serverFileReference){e(r);return}n(r,e,t)});r.setSource(t);i.activeLoader=r;r.load()};var h=function e(){if(!i.activeLoader){return}i.activeLoader.load()};var y=function e(){if(i.activeLoader){i.activeLoader.abort();return}u(vr.INIT);s("load-abort")};var m=function e(r,t){if(i.processingAborted){i.processingAborted=false;return}u(vr.PROCESSING);a=null;if(!(i.file instanceof Blob)){O.on("load",function(){e(r,t)});return}r.on("load",function(e){i.transferId=null;i.serverFileReference=e});r.on("transfer",function(e){i.transferId=e});r.on("load-perceived",function(e){i.activeProcessor=null;i.transferId=null;i.serverFileReference=e;u(vr.PROCESSING_COMPLETE);s("process-complete",e)});r.on("start",function(){s("process-start")});r.on("error",function(e){i.activeProcessor=null;u(vr.PROCESSING_ERROR);s("process-error",e)});r.on("abort",function(e){i.activeProcessor=null;i.transferId=null;i.serverFileReference=e;u(vr.IDLE);s("process-abort");if(a){a()}});r.on("progress",function(e){s("process-progress",e)});var n=function e(t){if(i.archived)return;r.process(t,Object.assign({},c))};var o=console.error;t(i.file,n,o);i.activeProcessor=r};var g=function e(){i.processingAborted=false;u(vr.PROCESSING_QUEUED)};var E=function e(){return new Hu(function(t){if(!i.activeProcessor){i.processingAborted=true;u(vr.IDLE);s("process-abort");t();return}a=function e(){t()};i.activeProcessor.abort()})};var b=function e(n,o){return new Hu(function(t,r){if(i.serverFileReference===null){t();return}n(i.serverFileReference,function(){i.serverFileReference=null;t()},function(e){if(!o){t();return}u(vr.PROCESSING_REVERT_ERROR);s("process-revert-error");r(e)});u(vr.IDLE);s("process-revert")})};var _=function e(t,r,n){var o=t.split(".");var i=o[0];var a=o.pop();var u=c;o.forEach(function(e){return u=u[e]});if(JSON.stringify(u[a])===JSON.stringify(r))return;u[a]=r;if(n)return;s("metadata-update",{key:i,value:c[i]})};var T=function e(t){return Pn(t?c[t]:c)};var O=Object.assign({id:{get:function e(){return n}},origin:{get:function e(){return o}},serverId:{get:function e(){return i.serverFileReference}},transferId:{get:function e(){return i.transferId}},status:{get:function e(){return i.status}},filename:{get:function e(){return i.file.name}},filenameWithoutExtension:{get:function e(){return In(i.file.name)}},fileExtension:{get:l},fileType:{get:f},fileSize:{get:p},file:{get:d},relativePath:{get:function e(){return i.file._relativePath}},source:{get:function e(){return i.source}},getMetadata:T,setMetadata:function e(t,r,n){if(de(t)){var o=t;Object.keys(o).forEach(function(e){_(e,o[e],r)});return t}_(t,r,n);return r},extend:function e(t,r){return w[t]=r},abortLoad:y,retryLoad:h,requestProcessing:g,abortProcessing:E,load:v,process:m,revert:b},sr(),{freeze:function e(){return i.frozen=true},release:function e(){return i.released=true},released:{get:function e(){return i.released}},archive:function e(){return i.archived=true},archived:{get:function e(){return i.archived}}});var w=B(O);return w},An=function e(t,r){if(U(r)){return 0}if(!ee(r)){return-1}return t.findIndex(function(e){return e.id===r})},Cn=function e(t,r){var n=An(t,r);if(n<0){return}return t[n]||null},Ln=function e(n,o,t,r,i,a){var u=fn(null,n,{method:"GET",responseType:"blob"});u.onload=function(e){var t=e.getAllResponseHeaders();var r=cn(t).name||zr(n);o(pn("load",e.status,Zr(e.response,r),t))};u.onerror=function(e){t(pn("error",e.status,e.statusText,e.getAllResponseHeaders()))};u.onheaders=function(e){a(pn("headers",e.status,null,e.getAllResponseHeaders()))};u.ontimeout=dn(t);u.onprogress=r;u.onabort=i;return u},Mn=function e(t){if(t.indexOf("//")===0){t=location.protocol+t}return t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},Nn=function e(t){return(t.indexOf(":")>-1||t.indexOf("//")>-1)&&Mn(location.href)!==Mn(t)},xn=function e(t){return function(){return ae(t)?t.apply(void 0,arguments):t}},jn=function e(t){return!Sn(t.file)},kn=function e(t,r){clearTimeout(r.listUpdateTimeout);r.listUpdateTimeout=setTimeout(function(){t("DID_UPDATE_ITEMS",{items:Ar(r.items)})},0)},Gn=function e(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++){n[o-1]=arguments[o]}return new Hu(function(e){if(!r){return e(true)}var t=r.apply(void 0,n);if(t==null){return e(true)}if(typeof t==="boolean"){return e(t)}if(typeof t.then==="function"){t.then(e)}})},Fn=function e(t,r){t.items.sort(function(e,t){return r(pr(e),pr(t))})},Un=function e(c,s){return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=e.query,r=e.success,n=r===void 0?function(){}:r,o=e.failure,i=o===void 0?function(){}:o,a=lt(e,["query","success","failure"]);var u=Pr(c.items,t);if(!u){i({error:pn("error",0,"Item not found"),file:null});return}s(u,n,i,a||{})}},Vn=function e(w,I,R){return{ABORT_ALL:function e(){Ar(R.items).forEach(function(e){e.freeze();e.abortLoad();e.abortProcessing()})},DID_SET_FILES:function e(t){var r=t.value,n=r===void 0?[]:r;var o=n.map(function(e){return{source:e.source?e.source:e,options:e.options}});var i=Ar(R.items);i.forEach(function(t){if(!o.find(function(e){return e.source===t.source||e.source===t.file})){w("REMOVE_ITEM",{query:t,remove:false})}});i=Ar(R.items);o.forEach(function(t,e){if(i.find(function(e){return e.source===t.source||e.file===t.source}))return;w("ADD_ITEM",Object.assign({},t,{interactionMethod:Se.NONE,index:e}))})},DID_UPDATE_ITEM_METADATA:function e(t){var o=t.id;clearTimeout(R.itemUpdateTimeout);R.itemUpdateTimeout=setTimeout(function(){var r=Cn(R.items,o);if(!I("IS_ASYNC")){_r("SHOULD_PREPARE_OUTPUT",false,{item:r,query:I}).then(function(e){if(!e){return}w("REQUEST_PREPARE_OUTPUT",{query:o,item:r,success:function e(t){w("DID_PREPARE_OUTPUT",{id:o,file:t})}},true)});return}var n=function e(){setTimeout(function(){w("REQUEST_ITEM_PROCESSING",{query:o})},32)};var e=function e(t){r.revert(_n(R.options.server.url,R.options.server.revert),I("GET_FORCE_REVERT")).then(t?n:function(){}).catch(function(){})};var t=function e(t){r.abortProcessing().then(t?n:function(){})};if(r.status===vr.PROCESSING_COMPLETE){return e(R.options.instantUpload)}if(r.status===vr.PROCESSING){return t(R.options.instantUpload)}if(R.options.instantUpload){n()}},0)},MOVE_ITEM:function e(t){var r=t.query,n=t.index;var o=Pr(R.items,r);if(!o)return;var i=R.items.indexOf(o);n=Ur(n,0,R.items.length-1);if(i===n)return;R.items.splice(n,0,R.items.splice(i,1)[0])},SORT:function e(t){var r=t.compare;Fn(R,r);w("DID_SORT_ITEMS",{items:I("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function e(t){var r=t.items,n=t.index,o=t.interactionMethod,i=t.success,a=i===void 0?function(){}:i,u=t.failure,c=u===void 0?function(){}:u;var s=n;if(n===-1||typeof n==="undefined"){var l=I("GET_ITEM_INSERT_LOCATION");var f=I("GET_TOTAL_ITEMS");s=l==="before"?0:f}var p=I("GET_IGNORED_FILES");var d=function e(t){return Sn(t)?!p.includes(t.name.toLowerCase()):!U(t)};var v=r.filter(d);var h=v.map(function(r){return new Hu(function(e,t){w("ADD_ITEM",{interactionMethod:o,source:r.source||r,success:e,failure:t,index:s++,options:r.options||{}})})});Hu.all(h).then(a).catch(c)},ADD_ITEM:function e(t){var n=t.source,r=t.index,o=r===void 0?-1:r,i=t.interactionMethod,a=t.success,u=a===void 0?function(){}:a,c=t.failure,s=c===void 0?function(){}:c,l=t.options,f=l===void 0?{}:l;if(U(n)){s({error:pn("error",0,"No source"),file:null});return}if(Sn(n)&&R.options.ignoredFiles.includes(n.name.toLowerCase())){return}if(!Fr(R)){if(R.options.allowMultiple||!R.options.allowMultiple&&!R.options.allowReplace){var p=pn("warning",0,"Max files");w("DID_THROW_MAX_FILES",{source:n,error:p});s({error:p,file:null});return}var d=Ar(R.items)[0];if(d.status===vr.PROCESSING_COMPLETE||d.status===vr.PROCESSING_REVERT_ERROR){var v=I("GET_FORCE_REVERT");d.revert(_n(R.options.server.url,R.options.server.revert),v).then(function(){if(!v)return;w("ADD_ITEM",{source:n,index:o,interactionMethod:i,success:u,failure:s,options:f})}).catch(function(){});if(v)return}w("REMOVE_ITEM",{query:d.id})}var h=f.type==="local"?hr.LOCAL:f.type==="limbo"?hr.LIMBO:hr.INPUT;var y=Dn(h,h===hr.INPUT?null:n,f.file);Object.keys(f.metadata||{}).forEach(function(e){y.setMetadata(e,f.metadata[e])});Tr("DID_CREATE_ITEM",y,{query:I,dispatch:w});var m=I("GET_ITEM_INSERT_LOCATION");if(!R.options.itemInsertLocationFreedom){o=m==="before"?-1:R.items.length}Br(R.items,y,o);if(ae(m)&&n){Fn(R,m)}var g=y.id;y.on("init",function(){w("DID_INIT_ITEM",{id:g})});y.on("load-init",function(){w("DID_START_ITEM_LOAD",{id:g})});y.on("load-meta",function(){w("DID_UPDATE_ITEM_META",{id:g})});y.on("load-progress",function(e){w("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:g,progress:e})});y.on("load-request-error",function(e){var t=xn(R.options.labelFileLoadError)(e);if(e.code>=400&&e.code<500){w("DID_THROW_ITEM_INVALID",{id:g,error:e,status:{main:t,sub:e.code+" ("+e.body+")"}});s({error:e,file:pr(y)});return}w("DID_THROW_ITEM_LOAD_ERROR",{id:g,error:e,status:{main:t,sub:R.options.labelTapToRetry}})});y.on("load-file-error",function(e){w("DID_THROW_ITEM_INVALID",{id:g,error:e.status,status:e.status});s({error:e.status,file:pr(y)})});y.on("load-abort",function(){w("REMOVE_ITEM",{query:g})});y.on("load-skip",function(){w("COMPLETE_LOAD_ITEM",{query:g,item:y,data:{source:n,success:u}})});y.on("load",function(){var e=function e(t){if(!t){w("REMOVE_ITEM",{query:g});return}y.on("metadata-update",function(e){w("DID_UPDATE_ITEM_METADATA",{id:g,change:e})});_r("SHOULD_PREPARE_OUTPUT",false,{item:y,query:I}).then(function(e){var r=function e(){w("COMPLETE_LOAD_ITEM",{query:g,item:y,data:{source:n,success:u}});kn(w,R)};if(e){w("REQUEST_PREPARE_OUTPUT",{query:g,item:y,success:function e(t){w("DID_PREPARE_OUTPUT",{id:g,file:t});r()}},true);return}r()})};_r("DID_LOAD_ITEM",y,{query:I,dispatch:w}).then(function(){Gn(I("GET_BEFORE_ADD_FILE"),pr(y)).then(e)}).catch(function(){e(false)})});y.on("process-start",function(){w("DID_START_ITEM_PROCESSING",{id:g})});y.on("process-progress",function(e){w("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:g,progress:e})});y.on("process-error",function(e){w("DID_THROW_ITEM_PROCESSING_ERROR",{id:g,error:e,status:{main:xn(R.options.labelFileProcessingError)(e),sub:R.options.labelTapToRetry}})});y.on("process-revert-error",function(e){w("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:g,error:e,status:{main:xn(R.options.labelFileProcessingRevertError)(e),sub:R.options.labelTapToRetry}})});y.on("process-complete",function(e){w("DID_COMPLETE_ITEM_PROCESSING",{id:g,error:null,serverFileReference:e});w("DID_DEFINE_VALUE",{id:g,value:e})});y.on("process-abort",function(){w("DID_ABORT_ITEM_PROCESSING",{id:g})});y.on("process-revert",function(){w("DID_REVERT_ITEM_PROCESSING",{id:g});w("DID_DEFINE_VALUE",{id:g,value:null})});w("DID_ADD_ITEM",{id:g,index:o,interactionMethod:i});kn(w,R);var E=R.options.server||{},b=E.url,_=E.load,T=E.restore,O=E.fetch;y.load(n,sn(h===hr.INPUT?ee(n)&&Nn(n)?O?yn(b,O):Ln:Ln:h===hr.LIMBO?yn(b,T):yn(b,_)),function(e,t,r){_r("LOAD_FILE",e,{query:I}).then(t).catch(r)})},REQUEST_PREPARE_OUTPUT:function e(t){var r=t.item,n=t.success,o=t.failure,i=o===void 0?function(){}:o;var a={error:pn("error",0,"Item not found"),file:null};if(r.archived)return i(a);_r("PREPARE_OUTPUT",r.file,{query:I,item:r}).then(function(e){_r("COMPLETE_PREPARE_OUTPUT",e,{query:I,item:r}).then(function(e){if(r.archived)return i(a);n(e)})})},COMPLETE_LOAD_ITEM:function e(t){var r=t.item,n=t.data;var o=n.success,i=n.source;var a=I("GET_ITEM_INSERT_LOCATION");if(ae(a)&&i){Fn(R,a)}w("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===hr.INPUT?null:i});o(pr(r));if(r.origin===hr.LOCAL){w("DID_LOAD_LOCAL_ITEM",{id:r.id});return}if(r.origin===hr.LIMBO){w("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:i});w("DID_DEFINE_VALUE",{id:r.id,value:i});return}if(I("IS_ASYNC")&&R.options.instantUpload){w("REQUEST_ITEM_PROCESSING",{query:r.id})}},RETRY_ITEM_LOAD:Un(R,function(e){e.retryLoad()}),REQUEST_ITEM_PREPARE:Un(R,function(r,n,e){w("REQUEST_PREPARE_OUTPUT",{query:r.id,item:r,success:function e(t){w("DID_PREPARE_OUTPUT",{id:r.id,file:t});n({file:r,output:t})},failure:e},true)}),REQUEST_ITEM_PROCESSING:Un(R,function(t,r,n){var e=t.status===vr.IDLE||t.status===vr.PROCESSING_ERROR;if(!e){var o=function e(){return w("REQUEST_ITEM_PROCESSING",{query:t,success:r,failure:n})};var i=function e(){return document.hidden?o():setTimeout(o,32)};if(t.status===vr.PROCESSING_COMPLETE||t.status===vr.PROCESSING_REVERT_ERROR){t.revert(_n(R.options.server.url,R.options.server.revert),I("GET_FORCE_REVERT")).then(i).catch(function(){})}else if(t.status===vr.PROCESSING){t.abortProcessing().then(i)}return}if(t.status===vr.PROCESSING_QUEUED)return;t.requestProcessing();w("DID_REQUEST_ITEM_PROCESSING",{id:t.id});w("PROCESS_ITEM",{query:t,success:r,failure:n},true)}),PROCESS_ITEM:Un(R,function(n,t,r){var e=I("GET_MAX_PARALLEL_UPLOADS");var o=I("GET_ITEMS_BY_STATUS",vr.PROCESSING).length;if(o===e){R.processingQueue.push({id:n.id,success:t,failure:r});return}if(n.status===vr.PROCESSING)return;var i=function e(){var t=R.processingQueue.shift();if(!t)return;var r=t.id,n=t.success,o=t.failure;var i=Pr(R.items,r);if(!i||i.archived){e();return}w("PROCESS_ITEM",{query:r,success:n,failure:o},true)};n.onOnce("process-complete",function(){t(pr(n));i();var e=I("GET_ITEMS_BY_STATUS",vr.PROCESSING_COMPLETE).length===R.items.length;if(e){w("DID_COMPLETE_ITEM_PROCESSING_ALL")}});n.onOnce("process-error",function(e){r({error:e,file:pr(n)});i()});var a=R.options;n.process(wn(bn(a.server.url,a.server.process,a.name,{chunkTransferId:n.transferId,chunkServer:a.server.patch,chunkUploads:a.chunkUploads,chunkForce:a.chunkForce,chunkSize:a.chunkSize,chunkRetryDelays:a.chunkRetryDelays})),function(e,t,r){_r("PREPARE_OUTPUT",e,{query:I,item:n}).then(function(e){w("DID_PREPARE_OUTPUT",{id:n.id,file:e});t(e)}).catch(r)})}),RETRY_ITEM_PROCESSING:Un(R,function(e){w("REQUEST_ITEM_PROCESSING",{query:e})}),REQUEST_REMOVE_ITEM:Un(R,function(t){Gn(I("GET_BEFORE_REMOVE_FILE"),pr(t)).then(function(e){if(!e){return}w("REMOVE_ITEM",{query:t})})}),RELEASE_ITEM:Un(R,function(e){e.release()}),REMOVE_ITEM:Un(R,function(r,n,e,t){var o=function e(){var t=r.id;Cn(R.items,t).archive();w("DID_REMOVE_ITEM",{error:null,id:t,item:r});kn(w,R);n(pr(r))};var i=R.options.server;if(r.origin===hr.LOCAL&&i&&ae(i.remove)&&t.remove!==false){w("DID_START_ITEM_REMOVE",{id:r.id});i.remove(r.source,function(){return o()},function(e){w("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:pn("error",0,e,null),status:{main:xn(R.options.labelFileRemoveError)(e),sub:R.options.labelTapToRetry}})})}else{if(t.revert&&r.origin!==hr.LOCAL&&r.serverId!==null){r.revert(_n(R.options.server.url,R.options.server.revert),I("GET_FORCE_REVERT"))}o()}}),ABORT_ITEM_LOAD:Un(R,function(e){e.abortLoad()}),ABORT_ITEM_PROCESSING:Un(R,function(t){if(t.serverId){w("REVERT_ITEM_PROCESSING",{id:t.id});return}t.abortProcessing().then(function(){var e=R.options.instantUpload;if(e){w("REMOVE_ITEM",{query:t.id})}})}),REQUEST_REVERT_ITEM_PROCESSING:Un(R,function(r){if(!R.options.instantUpload){w("REVERT_ITEM_PROCESSING",{query:r});return}var e=function e(t){if(!t)return;w("REVERT_ITEM_PROCESSING",{query:r})};var t=I("GET_BEFORE_REMOVE_FILE");if(!t){return e(true)}var n=t(pr(r));if(n==null){return e(true)}if(typeof n==="boolean"){return e(n)}if(typeof n.then==="function"){n.then(e)}}),REVERT_ITEM_PROCESSING:Un(R,function(t){t.revert(_n(R.options.server.url,R.options.server.revert),I("GET_FORCE_REVERT")).then(function(){var e=R.options.instantUpload||jn(t);if(e){w("REMOVE_ITEM",{query:t.id})}}).catch(function(){})}),SET_OPTIONS:function e(t){var r=t.options;m(r,function(e,t){w("SET_"+Oe(e,"_").toUpperCase(),{value:t})})}}},Bn=function e(t){return t},qn=function e(t){return document.createElement(t)},zn=function e(t,r){var n=t.childNodes[0];if(!n){n=document.createTextNode(r);t.appendChild(n)}else if(r!==n.nodeValue){n.nodeValue=r}},Yn=function e(t,r,n,o){var i=(o%360-90)*Math.PI/180;return{x:t+n*Math.cos(i),y:r+n*Math.sin(i)}},Hn=function e(t,r,n,o,i,a){var u=Yn(t,r,n,i);var c=Yn(t,r,n,o);return["M",u.x,u.y,"A",n,n,0,a,0,c.x,c.y].join(" ")},Wn=function e(t,r,n,o,i){var a=1;if(i>o&&i-o<=.5){a=0}if(o>i&&o-i>=.5){a=0}return Hn(t,r,n,Math.min(.9999,o)*360,Math.min(.9999,i)*360,a)},Xn,Zn,Kn=C({tag:"div",name:"progress-indicator",ignoreRectUpdate:true,ignoreRect:true,create:function e(t){var r=t.root,n=t.props;n.spin=false;n.progress=0;n.opacity=0;var o=q("svg");r.ref.path=q("path",{"stroke-width":2,"stroke-linecap":"round"});o.appendChild(r.ref.path);r.ref.svg=o;r.appendChild(o)},write:function e(t){var r=t.root,n=t.props;if(n.opacity===0){return}if(n.align){r.element.dataset.align=n.align}var o=parseInt(s(r.ref.path,"stroke-width"),10);var i=r.rect.element.width*.5;var a=0;var u=0;if(n.spin){a=0;u=.5}else{a=0;u=n.progress}var c=Wn(i,i,i-o,a,u);s(r.ref.path,"d",c);s(r.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Qn,$n,Jn=C({tag:"button",attributes:{type:"button"},ignoreRect:true,ignoreRectUpdate:true,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:true},create:function e(t){var r=t.root,n=t.props;r.element.innerHTML=(n.icon||"")+("<span>"+n.label+"</span>");n.isDisabled=false},write:function e(t){var r=t.root,n=t.props;var o=n.isDisabled;var i=r.query("GET_DISABLED")||n.opacity===0;if(i&&!o){n.isDisabled=true;s(r.element,"disabled","disabled")}else if(!i&&o){n.isDisabled=false;r.element.removeAttribute("disabled")}}}),eo=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:".";t=Math.round(Math.abs(t));if(t<1e3){return t+" bytes"}if(t<ro){return Math.floor(t/to)+" KB"}if(t<no){return oo(t/ro,1,r)+" MB"}return oo(t/no,2,r)+" GB"},to=1e3,ro=1e6,no=1e9,oo=function e(t,r,n){return t.toFixed(r).split(".").filter(function(e){return e!=="0"}).join(n)},io,ao=function e(t){var r=t.root,n=t.props;zn(r.ref.fileSize,eo(r.query("GET_ITEM_SIZE",n.id)));zn(r.ref.fileName,Bn(r.query("GET_ITEM_NAME",n.id)))},uo=function e(t){var r=t.root,n=t.props;if(oe(r.query("GET_ITEM_SIZE",n.id))){return}zn(r.ref.fileSize,r.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},co=C({name:"file-info",ignoreRect:true,ignoreRectUpdate:true,write:x({DID_LOAD_ITEM:ao,DID_UPDATE_ITEM_META:ao,DID_THROW_ITEM_LOAD_ERROR:uo,DID_THROW_ITEM_INVALID:uo}),didCreateView:function e(t){Tr("CREATE_VIEW",Object.assign({},t,{view:t}))},create:function e(t){var r=t.root,n=t.props;var o=qn("span");o.className="filepond--file-info-main";s(o,"aria-hidden","true");r.appendChild(o);r.ref.fileName=o;var i=qn("span");i.className="filepond--file-info-sub";r.appendChild(i);r.ref.fileSize=i;zn(i,r.query("GET_LABEL_FILE_WAITING_FOR_SIZE"));zn(o,Bn(r.query("GET_ITEM_NAME",n.id)))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),so=function e(t){return Math.round(t*100)},lo=function e(t){var r=t.root;var n=qn("span");n.className="filepond--file-status-main";r.appendChild(n);r.ref.main=n;var o=qn("span");o.className="filepond--file-status-sub";r.appendChild(o);r.ref.sub=o;fo({root:r,action:{progress:null}})},fo=function e(t){var r=t.root,n=t.action;var o=n.progress===null?r.query("GET_LABEL_FILE_LOADING"):r.query("GET_LABEL_FILE_LOADING")+" "+so(n.progress)+"%";zn(r.ref.main,o);zn(r.ref.sub,r.query("GET_LABEL_TAP_TO_CANCEL"))},po,vo,ho,yo,mo=function e(t){var r=t.root;zn(r.ref.main,"");zn(r.ref.sub,"")},go=function e(t){var r=t.root,n=t.action;zn(r.ref.main,n.status.main);zn(r.ref.sub,n.status.sub)},Eo=C({name:"file-status",ignoreRect:true,ignoreRectUpdate:true,write:x({DID_LOAD_ITEM:mo,DID_REVERT_ITEM_PROCESSING:mo,DID_REQUEST_ITEM_PROCESSING:function e(t){var r=t.root;zn(r.ref.main,r.query("GET_LABEL_FILE_PROCESSING"));zn(r.ref.sub,r.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function e(t){var r=t.root;zn(r.ref.main,r.query("GET_LABEL_FILE_PROCESSING_ABORTED"));zn(r.ref.sub,r.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function e(t){var r=t.root;zn(r.ref.main,r.query("GET_LABEL_FILE_PROCESSING_COMPLETE"));zn(r.ref.sub,r.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function e(t){var r=t.root,n=t.action;var o=n.progress===null?r.query("GET_LABEL_FILE_PROCESSING"):r.query("GET_LABEL_FILE_PROCESSING")+" "+so(n.progress)+"%";zn(r.ref.main,o);zn(r.ref.sub,r.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:fo,DID_THROW_ITEM_LOAD_ERROR:go,DID_THROW_ITEM_INVALID:go,DID_THROW_ITEM_PROCESSING_ERROR:go,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:go,DID_THROW_ITEM_REMOVE_ERROR:go}),didCreateView:function e(t){Tr("CREATE_VIEW",Object.assign({},t,{view:t}))},create:lo,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),bo={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},_o=[];m(bo,function(e){_o.push(e)});var To=function e(t){var r=t.ref.buttonRemoveItem.rect.element;return r.hidden?null:r.width+r.left},Oo=function e(t){var r=t.ref.buttonAbortItemLoad.rect.element;return r.width},wo=function e(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.height/4)},Io=function e(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.left/2)},Ro,So,Po=function e(t){return t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},Do={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function e(t){return t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function e(t){return t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Ao={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:To},status:{translateX:To}},Co={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Lo={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:To},status:{translateX:To,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:To},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Po},info:{translateX:To},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Po},buttonRemoveItem:{opacity:1},info:{translateX:To},status:{opacity:1,translateX:To}},DID_LOAD_ITEM:Ao,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:To},status:{translateX:To}},DID_START_ITEM_PROCESSING:Co,DID_REQUEST_ITEM_PROCESSING:Co,DID_UPDATE_ITEM_PROCESS_PROGRESS:Co,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:To}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:To},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Ao},Mo=C({create:function e(t){var r=t.root;r.element.innerHTML=r.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:true,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),No,xo=function e(t){var i=t.root,r=t.actions,n=t.props;jo({root:i,actions:r,props:n});var o=r.concat().filter(function(e){return/^DID_/.test(e.type)}).reverse().find(function(e){return Lo[e.type]});if(o){i.ref.activeStyles=[];var a=Lo[o.type];m(Do,function(n,e){var o=i.ref[n];m(e,function(e,t){var r=a[n]&&typeof a[n][e]!=="undefined"?a[n][e]:t;i.ref.activeStyles.push({control:o,key:e,value:r})})})}i.ref.activeStyles.forEach(function(e){var t=e.control,r=e.key,n=e.value;t[r]=typeof n==="function"?n(i):n})},jo=x({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function e(t){var r=t.root,n=t.action;r.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function e(t){var r=t.root,n=t.action;r.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function e(t){var r=t.root,n=t.action;r.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function e(t){var r=t.root;r.ref.processProgressIndicator.spin=true;r.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function e(t){var r=t.root;r.ref.loadProgressIndicator.spin=true;r.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function e(t){var r=t.root;r.ref.processProgressIndicator.spin=true;r.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function e(t){var r=t.root,n=t.action;r.ref.loadProgressIndicator.spin=false;r.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function e(t){var r=t.root,n=t.action;r.ref.processProgressIndicator.spin=false;r.ref.processProgressIndicator.progress=n.progress}}),ko=C({create:function e(t){var n=t.root,r=t.props;var o=r.id;var i=n.query("GET_ALLOW_REVERT");var a=n.query("GET_ALLOW_REMOVE");var u=n.query("GET_ALLOW_PROCESS");var c=n.query("GET_INSTANT_UPLOAD");var s=n.query("IS_ASYNC");var l=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");var f;if(s){if(u&&!i){f=function e(t){return!/RevertItemProcessing/.test(t)}}else if(!u&&i){f=function e(t){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(t)}}else if(!u&&!i){f=function e(t){return!/Process/.test(t)}}}else{f=function e(t){return!/Process/.test(t)}}var p=f?_o.filter(f):_o.concat();if(c&&i){bo["RevertItemProcessing"].label="GET_LABEL_BUTTON_REMOVE_ITEM";bo["RevertItemProcessing"].icon="GET_ICON_REMOVE"}if(s&&!i){var d=Lo["DID_COMPLETE_ITEM_PROCESSING"];d.info.translateX=Io;d.info.translateY=wo;d.status.translateY=wo;d.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(s&&!u){["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(function(e){Lo[e].status.translateY=wo});Lo["DID_THROW_ITEM_PROCESSING_ERROR"].status.translateX=Oo}if(l&&i){bo["RevertItemProcessing"].align="BUTTON_REMOVE_ITEM_POSITION";var v=Lo["DID_COMPLETE_ITEM_PROCESSING"];v.info.translateX=To;v.status.translateY=wo;v.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(!a){bo["RemoveItem"].disabled=true}m(bo,function(e,t){var r=n.createChildView(Jn,{label:n.query(t.label),icon:n.query(t.icon),opacity:0});if(p.includes(e)){n.appendChildView(r)}if(t.disabled){r.element.setAttribute("disabled","disabled");r.element.setAttribute("hidden","hidden")}r.element.dataset.align=n.query("GET_STYLE_"+t.align);r.element.classList.add(t.className);r.on("click",function(e){e.stopPropagation();if(t.disabled)return;n.dispatch(t.action,{query:o})});n.ref["button"+e]=r});n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(Mo));n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION");n.ref.info=n.appendChildView(n.createChildView(co,{id:o}));n.ref.status=n.appendChildView(n.createChildView(Eo,{id:o}));var h=n.appendChildView(n.createChildView(Kn,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));h.element.classList.add("filepond--load-indicator");n.ref.loadProgressIndicator=h;var y=n.appendChildView(n.createChildView(Kn,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));y.element.classList.add("filepond--process-indicator");n.ref.processProgressIndicator=y;n.ref.activeStyles=[]},write:xo,didCreateView:function e(t){Tr("CREATE_VIEW",Object.assign({},t,{view:t}))},name:"file"}),Go,Fo,Uo=C({create:function e(t){var r=t.root,n=t.props;r.ref.fileName=qn("legend");r.appendChild(r.ref.fileName);r.ref.file=r.appendChildView(r.createChildView(ko,{id:n.id}));r.ref.data=false},ignoreRect:true,write:x({DID_LOAD_ITEM:function e(t){var r=t.root,n=t.props;zn(r.ref.fileName,Bn(r.query("GET_ITEM_NAME",n.id)))}}),didCreateView:function e(t){Tr("CREATE_VIEW",Object.assign({},t,{view:t}))},tag:"fieldset",name:"file-wrapper"}),Vo={type:"spring",damping:.6,mass:7},Bo=function e(t){var r=t.root,n=t.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Vo},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Vo},styles:["translateY"]}}].forEach(function(e){qo(r,e,n.name)});r.element.classList.add("filepond--"+n.name);r.ref.scalable=null},qo=function e(t,r,n){var o=C({name:"panel-"+r.name+" filepond--"+n,mixins:r.mixins,ignoreRectUpdate:true});var i=t.createChildView(o,r.props);t.ref[r.name]=t.appendChildView(i)},zo,Yo=C({name:"panel",write:function e(t){var r=t.root,n=t.props;if(r.ref.scalable===null||n.scalable!==r.ref.scalable){r.ref.scalable=$(n.scalable)?n.scalable:true;r.element.dataset.scalable=r.ref.scalable}if(!n.height)return;var o=r.ref.top.rect.element;var i=r.ref.bottom.rect.element;var a=Math.max(o.height+i.height,n.height);r.ref.center.translateY=o.height;r.ref.center.scaleY=(a-o.height-i.height)/100;r.ref.bottom.translateY=a-i.height},create:Bo,ignoreRect:true,mixins:{apis:["height","scalable"]}}),Ho=function e(t){var r=t.map(function(e){return e.id});var n=undefined;return{setIndex:function e(t){n=t},getIndex:function e(){return n},getItemIndex:function e(t){return r.indexOf(t.id)}}},Wo={type:"spring",stiffness:.75,damping:.45,mass:10},Xo="spring",Zo={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Ko,Qo=x({DID_UPDATE_PANEL_HEIGHT:function e(t){var r=t.root,n=t.action;r.height=n.height}}),$o=x({DID_GRAB_ITEM:function e(t){var r=t.root,n=t.props;n.dragOrigin={x:r.translateX,y:r.translateY}},DID_DRAG_ITEM:function e(t){var r=t.root;r.element.dataset.dragState="drag"},DID_DROP_ITEM:function e(t){var r=t.root,n=t.props;n.dragOffset=null;n.dragOrigin=null;r.element.dataset.dragState="drop"}},function(e){var t=e.root,r=e.actions,n=e.props,o=e.shouldOptimize;if(t.element.dataset.dragState==="drop"){if(t.scaleX<=1){t.element.dataset.dragState="idle"}}var i=r.concat().filter(function(e){return/^DID_/.test(e.type)}).reverse().find(function(e){return Zo[e.type]});if(i&&i.type!==n.currentState){n.currentState=i.type;t.element.dataset.filepondItemState=Zo[n.currentState]||""}var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");if(!a){Qo({root:t,actions:r,props:n});if(!t.height&&t.ref.container.rect.element.height>0){t.height=t.ref.container.rect.element.height}}else if(!o){t.height=t.rect.element.width*a}if(o){t.ref.panel.height=null}t.ref.panel.height=t.height}),Jo=C({create:function e(t){var u=t.root,c=t.props;u.ref.handleClick=function(e){return u.dispatch("DID_ACTIVATE_ITEM",{id:c.id})};u.element.id="filepond--item-"+c.id;u.element.addEventListener("click",u.ref.handleClick);u.ref.container=u.appendChildView(u.createChildView(Uo,{id:c.id}));u.ref.panel=u.appendChildView(u.createChildView(Yo,{name:"item-panel"}));u.ref.panel.height=null;c.markedForRemoval=false;if(!u.query("GET_ALLOW_REORDER"))return;u.element.dataset.dragState="idle";var r=function e(t){if(!t.isPrimary)return;var n=false;var o={x:t.pageX,y:t.pageY};c.dragOrigin={x:u.translateX,y:u.translateY};c.dragCenter={x:t.offsetX,y:t.offsetY};var i=Ho(u.query("GET_ACTIVE_ITEMS"));u.dispatch("DID_GRAB_ITEM",{id:c.id,dragState:i});var r=function e(t){if(!t.isPrimary)return;t.stopPropagation();t.preventDefault();c.dragOffset={x:t.pageX-o.x,y:t.pageY-o.y};var r=c.dragOffset.x*c.dragOffset.x+c.dragOffset.y*c.dragOffset.y;if(r>16&&!n){n=true;u.element.removeEventListener("click",u.ref.handleClick)}u.dispatch("DID_DRAG_ITEM",{id:c.id,dragState:i})};var a=function e(t){if(!t.isPrimary)return;document.removeEventListener("pointermove",r);document.removeEventListener("pointerup",e);c.dragOffset={x:t.pageX-o.x,y:t.pageY-o.y};u.dispatch("DID_DROP_ITEM",{id:c.id,dragState:i});if(n){setTimeout(function(){return u.element.addEventListener("click",u.ref.handleClick)},0)}};document.addEventListener("pointermove",r);document.addEventListener("pointerup",a)};u.element.addEventListener("pointerdown",r)},write:$o,destroy:function e(t){var r=t.root,n=t.props;r.element.removeEventListener("click",r.ref.handleClick);r.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Xo,scaleY:Xo,translateX:Wo,translateY:Wo,opacity:{type:"tween",duration:150}}}}),ei=function e(t,r,n){if(!n)return;var o=t.rect.element.width;var i=r.length;var a=null;if(i===0||n.top<r[0].rect.element.top)return-1;var u=r[0];var c=u.rect.element;var s=c.marginLeft+c.marginRight;var l=c.width+s;var f=Math.round(o/l);if(f===1){for(var p=0;p<i;p++){var d=r[p];var v=d.rect.outer.top+d.rect.element.height*.5;if(n.top<v){return p}}return i}var h=c.marginTop+c.marginBottom;var y=c.height+h;for(var m=0;m<i;m++){var g=m%f;var E=Math.floor(m/f);var b=g*l;var _=E*y;var T=_-c.marginTop;var O=b+l;var w=_+y+c.marginBottom;if(n.top<w&&n.top>T){if(n.left<O){return m}else if(m!==i-1){a=m}else{a=null}}}if(a!==null){return a}return i},ti={height:0,width:0,get getHeight(){return this.height},set setHeight(e){if(this.height===0||e===0)this.height=e},get getWidth(){return this.width},set setWidth(e){if(this.width===0||e===0)this.width=e},setDimensions:function e(t,r){if(this.height===0||t===0)this.height=t;if(this.width===0||r===0)this.width=r}},ri,ni,oi=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;if(t.dragOffset){t.translateX=null;t.translateY=null;t.translateX=t.dragOrigin.x+t.dragOffset.x;t.translateY=t.dragOrigin.y+t.dragOffset.y;t.scaleX=1.025;t.scaleY=1.025}else{t.translateX=r;t.translateY=n;if(Date.now()>t.spawnDate){if(t.opacity===0){ii(t,r,n,o,i)}t.scaleX=1;t.scaleY=1;t.opacity=1}}},ii=function e(t,r,n,o,i){if(t.interactionMethod===Se.NONE){t.translateX=null;t.translateX=r;t.translateY=null;t.translateY=n}else if(t.interactionMethod===Se.DROP){t.translateX=null;t.translateX=r-o*20;t.translateY=null;t.translateY=n-i*10;t.scaleX=.8;t.scaleY=.8}else if(t.interactionMethod===Se.BROWSE){t.translateY=null;t.translateY=n-30}else if(t.interactionMethod===Se.API){t.translateX=null;t.translateX=r-30;t.translateY=null}},ai,ui=function e(t){return t.rect.element.height+t.rect.element.marginBottom*.5+t.rect.element.marginTop*.5},ci=function e(t){return t.rect.element.width+t.rect.element.marginLeft*.5+t.rect.element.marginRight*.5},si,li=x({DID_ADD_ITEM:function e(t){var r=t.root,n=t.action;var o=n.id,i=n.index,a=n.interactionMethod;r.ref.addIndex=i;var u=Date.now();var c=u;var s=1;if(a!==Se.NONE){s=0;var l=r.query("GET_ITEM_INSERT_INTERVAL");var f=u-r.ref.lastItemSpanwDate;c=f<l?u+(l-f):u}r.ref.lastItemSpanwDate=c;r.appendChildView(r.createChildView(Jo,{spawnDate:c,id:o,opacity:s,interactionMethod:a}),i)},DID_REMOVE_ITEM:function e(t){var r=t.root,n=t.action;var o=n.id;var i=r.childViews.find(function(e){return e.id===o});if(!i){return}i.scaleX=.9;i.scaleY=.9;i.opacity=0;i.markedForRemoval=true},DID_DRAG_ITEM:function e(t){var p=t.root,r=t.action;var n=r.id,o=r.dragState;var i=p.query("GET_ITEM",{id:n});var d=p.childViews.find(function(e){return e.id===n});var a=p.childViews.length;var u=o.getItemIndex(i);if(!d)return;var v={x:d.dragOrigin.x+d.dragOffset.x+d.dragCenter.x,y:d.dragOrigin.y+d.dragOffset.y+d.dragCenter.y};var c=ui(d);var s=ci(d);var l=Math.floor(p.rect.outer.width/s);if(l>a)l=a;var f=Math.floor(a/l+1);ti.setHeight=c*f;ti.setWidth=s*l;var h={y:Math.floor(v.y/c),x:Math.floor(v.x/s),getGridIndex:function e(){if(v.y>ti.getHeight||v.y<0||v.x>ti.getWidth||v.x<0)return u;return this.y*l+this.x},getColIndex:function e(){var t=p.query("GET_ACTIVE_ITEMS");var r=p.childViews.filter(function(e){return e.rect.element.height});var n=t.map(function(t){return r.find(function(e){return e.id===t.id})});var o=n.findIndex(function(e){return e===d});var i=ui(d);var a=n.length;var u=a;var c=0;var s=0;var l=0;for(var f=0;f<a;f++){c=ui(n[f]);l=s;s=l+c;if(v.y<s){if(o>f){if(v.y<l+i){u=f;break}continue}u=f;break}}return u}};var y=l>1?h.getGridIndex():h.getColIndex();p.dispatch("MOVE_ITEM",{query:d,index:y});var m=o.getIndex();if(m===undefined||m!==y){o.setIndex(y);if(m===undefined)return;p.dispatch("DID_REORDER_ITEMS",{items:p.query("GET_ACTIVE_ITEMS"),origin:u,target:y})}}}),fi,pi,di=C({create:function e(t){var r=t.root;s(r.element,"role","list");r.ref.lastItemSpanwDate=Date.now()},write:function e(t){var r=t.root,n=t.props,o=t.actions,s=t.shouldOptimize;li({root:r,props:n,actions:o});var i=n.dragCoordinates;var a=r.rect.element.width;var u=r.childViews.filter(function(e){return e.rect.element.height});var c=r.query("GET_ACTIVE_ITEMS").map(function(t){return u.find(function(e){return e.id===t.id})}).filter(function(e){return e});var l=i?ei(r,c,i):null;var f=r.ref.addIndex||null;r.ref.addIndex=null;var p=0;var d=0;var v=0;if(c.length===0)return;var h=c[0].rect.element;var y=h.marginTop+h.marginBottom;var m=h.marginLeft+h.marginRight;var g=h.width+m;var E=h.height+y;var b=Math.round(a/g);if(b===1){var _=0;var T=0;c.forEach(function(e,t){if(l){var r=t-l;if(r===-2){T=-y*.25}else if(r===-1){T=-y*.75}else if(r===0){T=y*.75}else if(r===1){T=y*.25}else{T=0}}if(s){e.translateX=null;e.translateY=null}if(!e.markedForRemoval){oi(e,0,_+T)}var n=e.rect.element.height+y;var o=n*(e.markedForRemoval?e.opacity:1);_+=o})}else{var O=0;var w=0;c.forEach(function(e,t){if(t===l){p=1}if(t===f){v+=1}if(e.markedForRemoval&&e.opacity<.5){d-=1}var r=t+v+p+d;var n=r%b;var o=Math.floor(r/b);var i=n*g;var a=o*E;var u=Math.sign(i-O);var c=Math.sign(a-w);O=i;w=a;if(e.markedForRemoval)return;if(s){e.translateX=null;e.translateY=null}oi(e,i,a,u,c)})}},tag:"ul",name:"list",didWriteView:function e(t){var r=t.root;r.childViews.filter(function(e){return e.markedForRemoval&&e.opacity===0&&e.resting}).forEach(function(e){e._destroy();r.removeChildView(e)})},filterFrameActionsForChild:function e(t,r){return r.filter(function(e){if(e.data&&e.data.id){return t.id===e.data.id}return true})},mixins:{apis:["dragCoordinates"]}}),vi,hi,yi,mi=x({DID_DRAG:function e(t){var r=t.root,n=t.props,o=t.action;if(!r.query("GET_ITEM_INSERT_LOCATION_FREEDOM"))return;n.dragCoordinates={left:o.position.scopeLeft-r.ref.list.rect.element.left,top:o.position.scopeTop-(r.rect.outer.top+r.rect.element.marginTop+r.rect.element.scrollTop)}},DID_END_DRAG:function e(t){var r=t.props;r.dragCoordinates=null}}),gi,Ei=C({create:function e(t){var r=t.root,n=t.props;r.ref.list=r.appendChildView(r.createChildView(di));n.dragCoordinates=null;n.overflowing=false},write:function e(t){var r=t.root,n=t.props,o=t.actions;mi({root:r,props:n,actions:o});r.ref.list.dragCoordinates=n.dragCoordinates;if(n.overflowing&&!n.overflow){n.overflowing=false;r.element.dataset.state="";r.height=null}if(n.overflow){var i=Math.round(n.overflow);if(i!==r.height){n.overflowing=true;r.element.dataset.state="overflow";r.height=i}}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),bi=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";if(n){s(t,r,o)}else{t.removeAttribute(r)}},_i=function e(t){if(!t||t.value===""){return}try{t.value=""}catch(e){}if(t.value){var r=qn("form");var n=t.parentNode;var o=t.nextSibling;r.appendChild(t);r.reset();if(o){n.insertBefore(t,o)}else{n.appendChild(t)}}},Ti=function e(t){var r=t.root,n=t.props;r.element.id="filepond--browser-"+n.id;s(r.element,"name",r.query("GET_NAME"));s(r.element,"aria-controls","filepond--assistant-"+n.id);s(r.element,"aria-labelledby","filepond--drop-label-"+n.id);Oi({root:r,action:{value:r.query("GET_ACCEPTED_FILE_TYPES")}});wi({root:r,action:{value:r.query("GET_ALLOW_MULTIPLE")}});Ii({root:r,action:{value:r.query("GET_ALLOW_DIRECTORIES_ONLY")}});Ri({root:r});Si({root:r,action:{value:r.query("GET_REQUIRED")}});Pi({root:r,action:{value:r.query("GET_CAPTURE_METHOD")}});r.ref.handleChange=function(e){if(!r.element.value){return}var t=Array.from(r.element.files).map(function(e){e._relativePath=e.webkitRelativePath;return e});setTimeout(function(){n.onload(t);_i(r.element)},250)};r.element.addEventListener("change",r.ref.handleChange)},Oi=function e(t){var r=t.root,n=t.action;if(!r.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE"))return;bi(r.element,"accept",!!n.value,n.value?n.value.join(","):"")},wi=function e(t){var r=t.root,n=t.action;bi(r.element,"multiple",n.value)},Ii=function e(t){var r=t.root,n=t.action;bi(r.element,"webkitdirectory",n.value)},Ri=function e(t){var r=t.root;var n=r.query("GET_DISABLED");var o=r.query("GET_ALLOW_BROWSE");var i=n||!o;bi(r.element,"disabled",i)},Si=function e(t){var r=t.root,n=t.action;if(!n.value){bi(r.element,"required",false)}else if(r.query("GET_TOTAL_ITEMS")===0){bi(r.element,"required",true)}},Pi=function e(t){var r=t.root,n=t.action;bi(r.element,"capture",!!n.value,n.value===true?"":n.value)},Di=function e(t){var r=t.root;var n=r.element;if(r.query("GET_TOTAL_ITEMS")>0){bi(n,"required",false);bi(n,"name",false)}else{bi(n,"name",true,r.query("GET_NAME"));var o=r.query("GET_CHECK_VALIDITY");if(o){n.setCustomValidity("")}if(r.query("GET_REQUIRED")){bi(n,"required",true)}}},Ai,Ci=C({tag:"input",name:"browser",ignoreRect:true,ignoreRectUpdate:true,attributes:{type:"file"},create:Ti,destroy:function e(t){var r=t.root;r.element.removeEventListener("change",r.ref.handleChange)},write:x({DID_LOAD_ITEM:Di,DID_REMOVE_ITEM:Di,DID_THROW_ITEM_INVALID:function e(t){var r=t.root;var n=r.query("GET_CHECK_VALIDITY");if(!n)return;r.element.setCustomValidity(r.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Ri,DID_SET_ALLOW_BROWSE:Ri,DID_SET_ALLOW_DIRECTORIES_ONLY:Ii,DID_SET_ALLOW_MULTIPLE:wi,DID_SET_ACCEPTED_FILE_TYPES:Oi,DID_SET_CAPTURE_METHOD:Pi,DID_SET_REQUIRED:Si})}),Li={ENTER:13,SPACE:32},Mi=function e(t){var r=t.root,n=t.props;var o=qn("label");s(o,"for","filepond--browser-"+n.id);s(o,"id","filepond--drop-label-"+n.id);s(o,"aria-hidden","true");r.ref.handleKeyDown=function(e){var t=e.keyCode===Li.ENTER||e.keyCode===Li.SPACE;if(!t)return;e.preventDefault();r.ref.label.click()};r.ref.handleClick=function(e){var t=e.target===o||o.contains(e.target);if(t)return;r.ref.label.click()};o.addEventListener("keydown",r.ref.handleKeyDown);r.element.addEventListener("click",r.ref.handleClick);Ni(o,n.caption);r.appendChild(o);r.ref.label=o},Ni=function e(t,r){t.innerHTML=r;var n=t.querySelector(".filepond--label-action");if(n){s(n,"tabindex","0")}return r},xi=C({name:"drop-label",ignoreRect:true,create:Mi,destroy:function e(t){var r=t.root;r.ref.label.addEventListener("keydown",r.ref.handleKeyDown);r.element.removeEventListener("click",r.ref.handleClick)},write:x({DID_SET_LABEL_IDLE:function e(t){var r=t.root,n=t.action;Ni(r.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),ji=C({name:"drip-blob",ignoreRect:true,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),ki=function e(t){var r=t.root;var n=r.rect.element.width*.5;var o=r.rect.element.height*.5;r.ref.blob=r.appendChildView(r.createChildView(ji,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:o}))},Gi,Fi,Ui,Vi=function e(t){var r=t.root,n=t.props,o=t.actions;Bi({root:r,props:n,actions:o});var i=r.ref.blob;if(o.length===0&&i&&i.opacity===0){r.removeChildView(i);r.ref.blob=null}},Bi=x({DID_DRAG:function e(t){var r=t.root,n=t.action;if(!r.ref.blob){ki({root:r});return}r.ref.blob.translateX=n.position.scopeLeft;r.ref.blob.translateY=n.position.scopeTop;r.ref.blob.scaleX=1;r.ref.blob.scaleY=1;r.ref.blob.opacity=1},DID_DROP:function e(t){var r=t.root;if(!r.ref.blob){return}r.ref.blob.scaleX=2.5;r.ref.blob.scaleY=2.5;r.ref.blob.opacity=0},DID_END_DRAG:function e(t){var r=t.root;if(!r.ref.blob){return}r.ref.blob.opacity=0}}),qi=C({ignoreRect:true,ignoreRectUpdate:true,name:"drip",write:Vi}),zi,Yi=function e(t,r){return t.ref.fields[r]},Hi=function e(t){t.query("GET_ACTIVE_ITEMS").forEach(function(e){if(!t.ref.fields[e.id])return;t.element.appendChild(t.ref.fields[e.id])})},Wi=function e(t){var r=t.root;return Hi(r)},Xi,Zi,Ki,Qi,$i,Ji=x({DID_SET_DISABLED:function e(t){var r=t.root;r.element.disabled=r.query("GET_DISABLED")},DID_ADD_ITEM:function e(t){var r=t.root,n=t.action;var o=qn("input");o.type="hidden";o.name=r.query("GET_NAME");o.disabled=r.query("GET_DISABLED");r.ref.fields[n.id]=o;Hi(r)},DID_LOAD_ITEM:function e(t){var r=t.root,n=t.action;var o=Yi(r,n.id);if(!o||n.serverFileReference===null)return;o.value=n.serverFileReference},DID_REMOVE_ITEM:function e(t){var r=t.root,n=t.action;var o=Yi(r,n.id);if(!o)return;o.parentNode.removeChild(o);delete r.ref.fields[n.id]},DID_DEFINE_VALUE:function e(t){var r=t.root,n=t.action;var o=Yi(r,n.id);if(!o)return;if(n.value===null){o.removeAttribute("value")}else{o.value=n.value}Hi(r)},DID_REORDER_ITEMS:Wi,DID_SORT_ITEMS:Wi}),ea=C({tag:"fieldset",name:"data",create:function e(t){var r=t.root;return r.ref.fields={}},write:Ji,ignoreRect:true}),ta=function e(t){return"getRootNode"in t?t.getRootNode():document},ra=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],na=["css","csv","html","txt"],oa={zip:"zip|compressed",epub:"application/epub+zip"},ia=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";t=t.toLowerCase();if(ra.includes(t)){return"image/"+(t==="jpg"?"jpeg":t==="svg"?"svg+xml":t)}if(na.includes(t)){return"text/"+t}return oa[t]||""},aa=function e(n){return new Hu(function(e,t){var r=ya(n);if(r.length&&!ua(n)){return e(r)}ca(n).then(e)})},ua=function e(t){if(t.files)return t.files.length>0;return false},ca=function e(n){return new Hu(function(r,e){var t=(n.items?Array.from(n.items):[]).filter(function(e){return sa(e)}).map(function(e){return la(e)});if(!t.length){r(n.files?Array.from(n.files):[]);return}Hu.all(t).then(function(e){var t=[];e.forEach(function(e){t.push.apply(t,e)});r(t.filter(function(e){return e}).map(function(e){if(!e._relativePath)e._relativePath=e.webkitRelativePath;return e}))}).catch(console.error)})},sa=function e(t){if(va(t)){var r=ha(t);if(r){return r.isFile||r.isDirectory}}return t.kind==="file"},la=function e(r){return new Hu(function(e,t){if(da(r)){fa(ha(r)).then(e).catch(t);return}e([r.getAsFile()])})},fa=function e(r){return new Hu(function(t,o){var i=[];var a=0;var u=0;var c=function e(){if(u===0&&a===0){t(i)}};var e=function n(e){a++;var r=e.createReader();var t=function t(){r.readEntries(function(e){if(e.length===0){a--;c();return}e.forEach(function(r){if(r.isDirectory){n(r)}else{u++;r.file(function(e){var t=pa(e);if(r.fullPath)t._relativePath=r.fullPath;i.push(t);u--;c()})}});t()},o)};t()};e(r)})},pa=function e(t){if(t.type.length)return t;var r=t.lastModifiedDate;var n=t.name;t=t.slice(0,t.size,ia(Yr(t.name)));t.name=n;t.lastModifiedDate=r;return t},da=function e(t){return va(t)&&(ha(t)||{}).isDirectory},va=function e(t){return"webkitGetAsEntry"in t},ha=function e(t){return t.webkitGetAsEntry()},ya=function e(t){var r=[];try{r=ga(t);if(r.length){return r}r=ma(t)}catch(e){}return r},ma=function e(t){var r=t.getData("url");if(typeof r==="string"&&r.length){return[r]}return[]},ga=function e(t){var r=t.getData("text/html");if(typeof r==="string"&&r.length){var n=r.match(/src\s*=\s*"(.+?)"/);if(n){return[n[1]]}}return[]},Ea=[],ba=function e(t){return{pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}},_a=function e(t,r,n){var o=Ta(r);var i={element:t,filterElement:n,state:null,ondrop:function e(){},onenter:function e(){},ondrag:function e(){},onexit:function e(){},onload:function e(){},allowdrop:function e(){}};i.destroy=o.addListener(i);return i},Ta=function e(t){var r=Ea.find(function(e){return e.element===t});if(r){return r}var n=Oa(t);Ea.push(n);return n},Oa=function e(r){var n=[];var o={dragenter:Pa,dragover:Da,dragleave:Ca,drop:Aa};var i={};m(o,function(e,t){i[e]=t(r,n);r.addEventListener(e,i[e],false)});var a={element:r,addListener:function e(t){n.push(t);return function(){n.splice(n.indexOf(t),1);if(n.length===0){Ea.splice(Ea.indexOf(a),1);m(o,function(e){r.removeEventListener(e,i[e],false)})}}}};return a},wa=function e(t,r){if(!("elementFromPoint"in t)){t=document}return t.elementFromPoint(r.x,r.y)},Ia=function e(t,r){var n=ta(r);var o=wa(n,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return o===r||r.contains(o)},Ra=null,Sa=function e(t,r){try{t.dropEffect=r}catch(e){}},Pa=function e(t,r){return function(n){n.preventDefault();Ra=n.target;r.forEach(function(e){var t=e.element,r=e.onenter;if(Ia(n,t)){e.state="enter";r(ba(n))}})}},Da=function e(t,r){return function(l){l.preventDefault();var f=l.dataTransfer;aa(f).then(function(c){var s=false;r.some(function(e){var t=e.filterElement,r=e.element,n=e.onenter,o=e.onexit,i=e.ondrag,a=e.allowdrop;Sa(f,"copy");var u=a(c);if(!u){Sa(f,"none");return}if(Ia(l,r)){s=true;if(e.state===null){e.state="enter";n(ba(l));return}e.state="over";if(t&&!u){Sa(f,"none");return}i(ba(l))}else{if(t&&!s){Sa(f,"none")}if(e.state){e.state=null;o(ba(l))}}})})}},Aa=function e(t,r){return function(u){u.preventDefault();var e=u.dataTransfer;aa(e).then(function(a){r.forEach(function(e){var t=e.filterElement,r=e.element,n=e.ondrop,o=e.onexit,i=e.allowdrop;e.state=null;if(t&&!Ia(u,r))return;if(!i(a))return o(ba(u));n(ba(u),a)})})}},Ca=function e(t,n){return function(r){if(Ra!==r.target){return}n.forEach(function(e){var t=e.onexit;e.state=null;t(ba(r))})}},La=function e(t,n,r){t.classList.add("filepond--hopper");var o=r.catchesDropsOnPage,i=r.requiresDropOnElement,a=r.filterItems,u=a===void 0?function(e){return e}:a;var c=_a(t,o?document.documentElement:t,i);var s="";var l="";c.allowdrop=function(e){return n(u(e))};c.ondrop=function(e,t){var r=u(t);if(!n(r)){f.ondragend(e);return}l="drag-drop";f.onload(r,e)};c.ondrag=function(e){f.ondrag(e)};c.onenter=function(e){l="drag-over";f.ondragstart(e)};c.onexit=function(e){l="drag-exit";f.ondragend(e)};var f={updateHopperState:function e(){if(s!==l){t.dataset.hopperState=l;s=l}},onload:function e(){},ondragstart:function e(){},ondrag:function e(){},ondragend:function e(){},destroy:function e(){c.destroy()}};return f},Ma=false,Na=[],xa=function e(t){var r=document.activeElement;if(r&&/textarea|input/i.test(r.nodeName)){var n=false;var o=r;while(o!==document.body){if(o.classList.contains("filepond--root")){n=true;break}o=o.parentNode}if(!n)return}aa(t.clipboardData).then(function(t){if(!t.length){return}Na.forEach(function(e){return e(t)})})},ja=function e(t){if(Na.includes(t)){return}Na.push(t);if(Ma){return}Ma=true;document.addEventListener("paste",xa)},ka=function e(t){ur(Na,Na.indexOf(t));if(Na.length===0){document.removeEventListener("paste",xa);Ma=false}},Ga=function e(){var t=function e(t){r.onload(t)};var r={destroy:function e(){ka(t)},onload:function e(){}};ja(t);return r},Fa,Ua=null,Va=null,Ba=[],qa=function e(t,r){t.element.textContent=r},za=function e(t){t.element.textContent=""},Ya=function e(t,r,n){var o=t.query("GET_TOTAL_ITEMS");qa(t,n+" "+r+", "+o+" "+(o===1?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL")));clearTimeout(Va);Va=setTimeout(function(){za(t)},1500)},Ha=function e(t){return t.element.parentNode.contains(document.activeElement)},Wa,Xa,Za,Ka=function e(t){var r=t.root,n=t.action;var o=r.query("GET_ITEM",n.id);var i=o.filename;var a=r.query("GET_LABEL_FILE_PROCESSING_ABORTED");qa(r,i+" "+a)},Qa=function e(t){var r=t.root,n=t.action;var o=r.query("GET_ITEM",n.id);var i=o.filename;qa(r,n.status.main+" "+i+" "+n.status.sub)},$a=C({create:function e(t){var r=t.root,n=t.props;r.element.id="filepond--assistant-"+n.id;s(r.element,"role","status");s(r.element,"aria-live","polite");s(r.element,"aria-relevant","additions")},ignoreRect:true,ignoreRectUpdate:true,write:x({DID_LOAD_ITEM:function e(t){var r=t.root,n=t.action;if(!Ha(r)){return}r.element.textContent="";var o=r.query("GET_ITEM",n.id);Ba.push(o.filename);clearTimeout(Ua);Ua=setTimeout(function(){Ya(r,Ba.join(", "),r.query("GET_LABEL_FILE_ADDED"));Ba.length=0},750)},DID_REMOVE_ITEM:function e(t){var r=t.root,n=t.action;if(!Ha(r)){return}var o=n.item;Ya(r,o.filename,r.query("GET_LABEL_FILE_REMOVED"))},DID_COMPLETE_ITEM_PROCESSING:function e(t){var r=t.root,n=t.action;var o=r.query("GET_ITEM",n.id);var i=o.filename;var a=r.query("GET_LABEL_FILE_PROCESSING_COMPLETE");qa(r,i+" "+a)},DID_ABORT_ITEM_PROCESSING:Ka,DID_REVERT_ITEM_PROCESSING:Ka,DID_THROW_ITEM_REMOVE_ERROR:Qa,DID_THROW_ITEM_LOAD_ERROR:Qa,DID_THROW_ITEM_INVALID:Qa,DID_THROW_ITEM_PROCESSING_ERROR:Qa}),tag:"span",name:"assistant"}),Ja=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"-";return t.replace(new RegExp(r+".","g"),function(e){return e.charAt(1).toUpperCase()})},eu=function e(i){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:16;var u=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var c=Date.now();var s=null;return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}clearTimeout(s);var n=Date.now()-c;var o=function e(){c=Date.now();i.apply(void 0,t)};if(n<a){if(!u){s=setTimeout(o,a-n)}}else{o()}}},tu=1e6,ru=function e(t){return t.preventDefault()},nu,ou=function e(t){var o=t.root,r=t.props,n=t.actions;du({root:o,props:r,actions:n});n.filter(function(e){return/^DID_SET_STYLE_/.test(e.type)}).filter(function(e){return!U(e.data.value)}).map(function(e){var t=e.type,r=e.data;var n=Ja(t.substr(8).toLowerCase(),"_");o.element.dataset[n]=r.value;o.invalidateLayout()});if(o.rect.element.hidden)return;if(o.rect.element.width!==o.ref.widthPrevious){o.ref.widthPrevious=o.rect.element.width;o.ref.widthUpdated()}var i=o.ref.bounds;if(!i){i=o.ref.bounds=uu(o);o.element.removeChild(o.ref.measure);o.ref.measure=null}var a=o.ref,u=a.hopper,c=a.label,s=a.list,l=a.panel;if(u){u.updateHopperState()}var f=o.query("GET_PANEL_ASPECT_RATIO");var p=o.query("GET_ALLOW_MULTIPLE");var d=o.query("GET_TOTAL_ITEMS");var v=p?o.query("GET_MAX_FILES")||tu:1;var h=d===v;var y=n.find(function(e){return e.type==="DID_ADD_ITEM"});if(h&&y){var m=y.data.interactionMethod;c.opacity=0;if(p){c.translateY=-40}else{if(m===Se.API){c.translateX=40}else if(m===Se.BROWSE){c.translateY=40}else{c.translateY=30}}}else if(!h){c.opacity=1;c.translateX=0;c.translateY=0}var g=iu(o);var E=au(o);var b=c.rect.element.height;var _=!p||h?0:b;var T=h?s.rect.element.marginTop:0;var O=d===0?0:s.rect.element.marginBottom;var w=_+T+E.visual+O;var I=_+T+E.bounds+O;s.translateY=Math.max(0,_-s.rect.element.marginTop)-g.top;if(f){var R=o.rect.element.width;var S=R*f;if(f!==o.ref.previousAspectRatio){o.ref.previousAspectRatio=f;o.ref.updateHistory=[]}var P=o.ref.updateHistory;P.push(R);var D=2;if(P.length>D*2){var A=P.length;var C=A-10;var L=0;for(var M=A;M>=C;M--){if(P[M]===P[M-2]){L++}if(L>=D){return}}}l.scalable=false;l.height=S;var N=S-_-(O-g.bottom)-(h?T:0);if(E.visual>N){s.overflow=N}else{s.overflow=null}o.height=S}else if(i.fixedHeight){l.scalable=false;var x=i.fixedHeight-_-(O-g.bottom)-(h?T:0);if(E.visual>x){s.overflow=x}else{s.overflow=null}}else if(i.cappedHeight){var j=w>=i.cappedHeight;var k=Math.min(i.cappedHeight,w);l.scalable=true;l.height=j?k:k-g.top-g.bottom;var G=k-_-(O-g.bottom)-(h?T:0);if(w>i.cappedHeight&&E.visual>G){s.overflow=G}else{s.overflow=null}o.height=Math.min(i.cappedHeight,I-g.top-g.bottom)}else{var F=d>0?g.top+g.bottom:0;l.scalable=true;l.height=Math.max(b,w-F);o.height=Math.max(b,I-F)}},iu=function e(t){var r=t.ref.list.childViews[0].childViews[0];return r?{top:r.rect.element.marginTop,bottom:r.rect.element.marginBottom}:{top:0,bottom:0}},au=function e(t){var r=0;var n=0;var o=t.ref.list;var i=o.childViews[0];var a=i.childViews.filter(function(e){return e.rect.element.height});var u=t.query("GET_ACTIVE_ITEMS").map(function(t){return a.find(function(e){return e.id===t.id})}).filter(function(e){return e});if(u.length===0)return{visual:r,bounds:n};var c=i.rect.element.width;var s=ei(i,u,o.dragCoordinates);var l=u[0].rect.element;var f=l.marginTop+l.marginBottom;var p=l.marginLeft+l.marginRight;var d=l.width+p;var v=l.height+f;var h=typeof s!=="undefined"&&s>=0?1:0;var y=u.find(function(e){return e.markedForRemoval&&e.opacity<.45})?-1:0;var m=u.length+h+y;var g=Math.round(c/d);if(g===1){u.forEach(function(e){var t=e.rect.element.height+f;n+=t;r+=t*e.opacity})}else{n=Math.ceil(m/g)*v;r=n}return{visual:r,bounds:n}},uu=function e(t){var r=t.ref.measureHeight||null;var n=parseInt(t.style.maxHeight,10)||null;var o=r===0?null:r;return{cappedHeight:n,fixedHeight:o}},cu=function e(t,r){var n=t.query("GET_ALLOW_REPLACE");var o=t.query("GET_ALLOW_MULTIPLE");var i=t.query("GET_TOTAL_ITEMS");var a=t.query("GET_MAX_FILES");var u=r.length;if(!o&&u>1){return true}a=o?a:n?a:1;var c=oe(a);if(c&&i+u>a){t.dispatch("DID_THROW_MAX_FILES",{source:r,error:pn("warning",0,"Max files")});return true}return false},su=function e(t,r,n){var o=t.childViews[0];return ei(o,r,{left:n.scopeLeft-o.rect.element.left,top:n.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},lu=function e(i){var t=i.query("GET_ALLOW_DROP");var r=i.query("GET_DISABLED");var n=t&&!r;if(n&&!i.ref.hopper){var o=La(i.element,function(e){if(cu(i,e))return false;var t=i.query("GET_BEFORE_DROP_FILE")||function(){return true};var r=i.query("GET_DROP_VALIDATION");return r?e.every(function(e){return Tr("ALLOW_HOPPER_ITEM",e,{query:i.query}).every(function(e){return e===true})&&t(e)}):true},{filterItems:function e(t){var r=i.query("GET_IGNORED_FILES");return t.filter(function(e){if(Sn(e)){return!r.includes(e.name.toLowerCase())}return true})},catchesDropsOnPage:i.query("GET_DROP_ON_PAGE"),requiresDropOnElement:i.query("GET_DROP_ON_ELEMENT")});o.onload=function(e,t){var r=i.ref.list.childViews[0];var n=r.childViews.filter(function(e){return e.rect.element.height});var o=i.query("GET_ACTIVE_ITEMS").map(function(t){return n.find(function(e){return e.id===t.id})}).filter(function(e){return e});i.dispatch("ADD_ITEMS",{items:e,index:su(i.ref.list,o,t),interactionMethod:Se.DROP});i.dispatch("DID_DROP",{position:t});i.dispatch("DID_END_DRAG",{position:t})};o.ondragstart=function(e){i.dispatch("DID_START_DRAG",{position:e})};o.ondrag=eu(function(e){i.dispatch("DID_DRAG",{position:e})});o.ondragend=function(e){i.dispatch("DID_END_DRAG",{position:e})};i.ref.hopper=o;i.ref.drip=i.appendChildView(i.createChildView(qi))}else if(!n&&i.ref.hopper){i.ref.hopper.destroy();i.ref.hopper=null;i.removeChildView(i.ref.drip)}},fu=function e(r,t){var n=r.query("GET_ALLOW_BROWSE");var o=r.query("GET_DISABLED");var i=n&&!o;if(i&&!r.ref.browser){r.ref.browser=r.appendChildView(r.createChildView(Ci,Object.assign({},t,{onload:function e(t){if(cu(r,t))return false;r.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:Se.BROWSE})}})),0)}else if(!i&&r.ref.browser){r.removeChildView(r.ref.browser);r.ref.browser=null}},pu=function e(t){var r=t.query("GET_ALLOW_PASTE");var n=t.query("GET_DISABLED");var o=r&&!n;if(o&&!t.ref.paster){t.ref.paster=Ga();t.ref.paster.onload=function(e){t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:Se.PASTE})}}else if(!o&&t.ref.paster){t.ref.paster.destroy();t.ref.paster=null}},du=x({DID_SET_ALLOW_BROWSE:function e(t){var r=t.root,n=t.props;fu(r,n)},DID_SET_ALLOW_DROP:function e(t){var r=t.root;lu(r)},DID_SET_ALLOW_PASTE:function e(t){var r=t.root;pu(r)},DID_SET_DISABLED:function e(t){var r=t.root,n=t.props;lu(r);pu(r);fu(r,n);var o=r.query("GET_DISABLED");if(o){r.element.dataset.disabled="disabled"}else{r.element.removeAttribute("data-disabled")}}}),vu=C({name:"root",read:function e(t){var r=t.root;if(r.ref.measure){r.ref.measureHeight=r.ref.measure.offsetHeight}},create:function e(t){var n=t.root,r=t.props;var o=n.query("GET_ID");if(o){n.element.id=o}var i=n.query("GET_CLASS_NAME");if(i){i.split(" ").filter(function(e){return e.length}).forEach(function(e){n.element.classList.add(e)})}n.ref.label=n.appendChildView(n.createChildView(xi,Object.assign({},r,{translateY:null,caption:n.query("GET_LABEL_IDLE")})));n.ref.list=n.appendChildView(n.createChildView(Ei,{translateY:null}));n.ref.panel=n.appendChildView(n.createChildView(Yo,{name:"panel-root"}));n.ref.assistant=n.appendChildView(n.createChildView($a,Object.assign({},r)));n.ref.data=n.appendChildView(n.createChildView(ea,Object.assign({},r)));n.ref.measure=qn("div");n.ref.measure.style.height="100%";n.element.appendChild(n.ref.measure);n.ref.bounds=null;n.query("GET_STYLES").filter(function(e){return!U(e.value)}).map(function(e){var t=e.name,r=e.value;n.element.dataset[t]=r});n.ref.widthPrevious=null;n.ref.widthUpdated=eu(function(){n.ref.updateHistory=[];n.dispatch("DID_RESIZE_ROOT")},250);n.ref.previousAspectRatio=null;n.ref.updateHistory=[];var a=window.matchMedia("(pointer: fine) and (hover: hover)").matches;var u="PointerEvent"in window;if(n.query("GET_ALLOW_REORDER")&&u&&!a){n.element.addEventListener("touchmove",ru,{passive:false});n.element.addEventListener("gesturestart",ru)}},write:ou,destroy:function e(t){var r=t.root;if(r.ref.paster){r.ref.paster.destroy()}if(r.ref.hopper){r.ref.hopper.destroy()}r.element.removeEventListener("touchmove",ru);r.element.removeEventListener("gesturestart",ru)},mixins:{styles:["height"]}}),hu=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=null;var n=Ir();var a=M(Te(n),[Gr,Re(n)],[Vn,Ie(n)]);a.dispatch("SET_OPTIONS",{options:t});var o=function e(){if(document.hidden)return;a.dispatch("KICK")};document.addEventListener("visibilitychange",o);var i=null;var u=false;var c=false;var s=null;var l=null;var f=function e(){if(!u){u=true}clearTimeout(i);i=setTimeout(function(){u=false;s=null;l=null;if(c){c=false;a.dispatch("DID_STOP_RESIZE")}},500)};window.addEventListener("resize",f);var p=vu(a,{id:Pe()});var d=false;var v=false;var h={_read:function e(){if(u){l=window.innerWidth;if(!s){s=l}if(!c&&l!==s){a.dispatch("DID_START_RESIZE");c=true}}if(v&&d){d=p.element.offsetParent===null}if(d)return;p._read();v=p.rect.element.hidden},_write:function e(t){var r=a.processActionQueue().filter(function(e){return!/^SET_/.test(e.type)});if(d&&!r.length)return;E(r);d=p._write(t,r,c);dr(a.query("GET_ITEMS"));if(d){a.processDispatchQueue()}}};var y=function e(n){return function(e){var t={type:n};if(!e){return t}if(e.hasOwnProperty("error")){t.error=e.error?Object.assign({},e.error):null}if(e.status){t.status=Object.assign({},e.status)}if(e.file){t.output=e.file}if(e.source){t.file=e.source}else if(e.item||e.id){var r=e.item?e.item:a.query("GET_ITEM",e.id);t.file=r?pr(r):null}if(e.items){t.items=e.items.map(pr)}if(/progress/.test(n)){t.progress=e.progress}if(e.hasOwnProperty("origin")&&e.hasOwnProperty("target")){t.origin=e.origin;t.target=e.target}return t}};var m={DID_DESTROY:y("destroy"),DID_INIT:y("init"),DID_THROW_MAX_FILES:y("warning"),DID_INIT_ITEM:y("initfile"),DID_START_ITEM_LOAD:y("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:y("addfileprogress"),DID_LOAD_ITEM:y("addfile"),DID_THROW_ITEM_INVALID:[y("error"),y("addfile")],DID_THROW_ITEM_LOAD_ERROR:[y("error"),y("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[y("error"),y("removefile")],DID_PREPARE_OUTPUT:y("preparefile"),DID_START_ITEM_PROCESSING:y("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:y("processfileprogress"),DID_ABORT_ITEM_PROCESSING:y("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:y("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:y("processfiles"),DID_REVERT_ITEM_PROCESSING:y("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[y("error"),y("processfile")],DID_REMOVE_ITEM:y("removefile"),DID_UPDATE_ITEMS:y("updatefiles"),DID_ACTIVATE_ITEM:y("activatefile"),DID_REORDER_ITEMS:y("reorderfiles")};var g=function e(t){var r=Object.assign({pond:L},t);delete r.type;p.element.dispatchEvent(new CustomEvent("FilePond:"+t.type,{detail:r,bubbles:true,cancelable:true,composed:true}));var n=[];if(t.hasOwnProperty("error")){n.push(t.error)}if(t.hasOwnProperty("file")){n.push(t.file)}var o=["type","error","file"];Object.keys(t).filter(function(e){return!o.includes(e)}).forEach(function(e){return n.push(t[e])});L.fire.apply(L,[t.type].concat(n));var i=a.query("GET_ON"+t.type.toUpperCase());if(i){i.apply(void 0,n)}};var E=function e(t){if(!t.length)return;t.filter(function(e){return m[e.type]}).forEach(function(t){var e=m[t.type];(Array.isArray(e)?e:[e]).forEach(function(e){if(t.type==="DID_INIT_ITEM"){g(e(t.data))}else{setTimeout(function(){g(e(t.data))},0)}})})};var b=function e(t){return a.dispatch("SET_OPTIONS",{options:t})};var _=function e(t){return a.query("GET_ACTIVE_ITEM",t)};var T=function e(t){return new Hu(function(r,n){a.dispatch("REQUEST_ITEM_PREPARE",{query:t,success:function e(t){r(t)},failure:function e(t){n(t)}})})};var O=function e(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return new Hu(function(t,e){R([{source:r,options:n}],{index:n.index}).then(function(e){return t(e&&e[0])}).catch(e)})};var w=function e(t){return t.file&&t.id};var I=function e(t,r){if(typeof t==="object"&&!w(t)&&!r){r=t;t=undefined}a.dispatch("REMOVE_ITEM",Object.assign({},r,{query:t}));return a.query("GET_ACTIVE_ITEM",t)===null};var R=function e(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++){i[r]=arguments[r]}return new Hu(function(e,t){var r=[];var n={};if(G(i[0])){r.push.apply(r,i[0]);Object.assign(n,i[1]||{})}else{var o=i[i.length-1];if(typeof o==="object"&&!(o instanceof Blob)){Object.assign(n,i.pop())}r.push.apply(r,i)}a.dispatch("ADD_ITEMS",{items:r,index:n.index,interactionMethod:Se.API,success:e,failure:t})})};var S=function e(){return a.query("GET_ACTIVE_ITEMS")};var P=function e(t){return new Hu(function(r,n){a.dispatch("REQUEST_ITEM_PROCESSING",{query:t,success:function e(t){r(t)},failure:function e(t){n(t)}})})};var D=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}var o=Array.isArray(r[0])?r[0]:r;var i=o.length?o:S();return Hu.all(i.map(T))};var A=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}var o=Array.isArray(r[0])?r[0]:r;if(!o.length){var i=S().filter(function(e){return!(e.status===vr.IDLE&&e.origin===hr.LOCAL)&&e.status!==vr.PROCESSING&&e.status!==vr.PROCESSING_COMPLETE&&e.status!==vr.PROCESSING_REVERT_ERROR});return Hu.all(i.map(P))}return Hu.all(o.map(P))};var C=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}var o=Array.isArray(r[0])?r[0]:r;var i;if(typeof o[o.length-1]==="object"){i=o.pop()}else if(Array.isArray(r[0])){i=r[1]}var a=S();if(!o.length)return Hu.all(a.map(function(e){return I(e,i)}));var u=o.map(function(e){return N(e)?a[e]?a[e].id:null:e}).filter(function(e){return e});return u.map(function(e){return I(e,i)})};var L=Object.assign({},sr(),{},h,{},we(a,n),{setOptions:b,addFile:O,addFiles:R,getFile:_,processFile:P,prepareFile:T,removeFile:I,moveFile:function e(t,r){return a.dispatch("MOVE_ITEM",{query:t,index:r})},getFiles:S,processFiles:A,removeFiles:C,prepareFiles:D,sort:function e(t){return a.dispatch("SORT",{compare:t})},browse:function e(){var t=p.element.querySelector("input[type=file]");if(t){t.click()}},destroy:function e(){L.fire("destroy",p.element);a.dispatch("ABORT_ALL");p._destroy();window.removeEventListener("resize",f);document.removeEventListener("visibilitychange",o);a.dispatch("DID_DESTROY")},insertBefore:function e(t){return j(p.element,t)},insertAfter:function e(t){return k(p.element,t)},appendTo:function e(t){return t.appendChild(p.element)},replaceElement:function e(t){j(p.element,t);t.parentNode.removeChild(t);r=t},restoreElement:function e(){if(!r){return}k(r,p.element);p.element.parentNode.removeChild(p.element);r=null},isAttachedTo:function e(t){return p.element===t||r===t},element:{get:function e(){return p.element}},status:{get:function e(){return a.query("GET_STATUS")}}});a.dispatch("DID_INIT");return B(L)},yu=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r={};m(Ir(),function(e,t){r[e]=t[0]});var n=hu(Object.assign({},r,{},t));return n},mu=function e(t){return t.charAt(0).toLowerCase()+t.slice(1)},gu=function e(t){return Ja(t.replace(/^data-/,""))},Eu=function e(u,t){m(t,function(i,a){m(u,function(e,t){var r=new RegExp(i);var n=r.test(e);if(!n){return}delete u[e];if(a===false){return}if(ee(a)){u[a]=t;return}var o=a.group;if(de(a)&&!u[o]){u[o]={}}u[o][mu(e.replace(r,""))]=t});if(a.mapping){e(u[a.group],a.mapping)}})},bu=function e(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=[];m(n.attributes,function(e){r.push(n.attributes[e])});var o=r.filter(function(e){return e.name}).reduce(function(e,t){var r=s(n,t.name);e[gu(t.name)]=r===t.name?true:r;return e},{});Eu(o,t);return o},_u=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":false,"^files$":false};Tr("SET_ATTRIBUTE_TO_OPTION_MAP",n);var o=Object.assign({},r);var i=bu(t.nodeName==="FIELDSET"?t.querySelector("input[type=file]"):t,n);Object.keys(i).forEach(function(e){if(de(i[e])){if(!de(o[e])){o[e]={}}Object.assign(o[e],i[e])}else{o[e]=i[e]}});o.files=(r.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map(function(e){return{source:e.value,options:{type:e.dataset.type}}}));var a=yu(o);if(t.files){Array.from(t.files).forEach(function(e){a.addFile(e)})}a.replaceElement(t);return a},Tu=function e(){return t(arguments.length<=0?undefined:arguments[0])?_u.apply(void 0,arguments):yu.apply(void 0,arguments)},Ou=["fire","_read","_write"],wu=function e(t){var r={};lr(t,r,Ou);return r},Iu=function e(t,r){return t.replace(/(?:{([a-zA-Z]+)})/g,function(e,t){return r[t]})},Ru=function e(t){var r=new Blob(["(",t.toString(),")()"],{type:"application/javascript"});var n=URL.createObjectURL(r);var i=new Worker(n);return{transfer:function e(t,r){},post:function e(t,r,n){var o=Pe();i.onmessage=function(e){if(e.data.id===o){r(e.data.message)}};i.postMessage({id:o,message:t},n)},terminate:function e(){i.terminate();URL.revokeObjectURL(n)}}},Su=function e(n){return new Hu(function(e,t){var r=new Image;r.onload=function(){e(r)};r.onerror=function(e){t(e)};r.src=n})},Pu=function e(t,r){var n=t.slice(0,t.size,t.type);n.lastModifiedDate=t.lastModifiedDate;n.name=r;return n},Du=function e(t){return Pu(t,t.name)},Au=[],Cu=function e(t){if(Au.includes(t)){return}Au.push(t);var r=t({addFilter:Or,utils:{Type:Er,forin:m,isString:ee,isFile:Sn,toNaturalFileSize:eo,replaceInString:Iu,getExtensionFromFilename:Yr,getFilenameWithoutExtension:In,guesstimateMimeType:ia,getFileFromBlob:Zr,getFilenameFromURL:zr,createRoute:x,createWorker:Ru,createView:C,createItemAPI:pr,loadImage:Su,copyFile:Du,renameFile:Pu,createBlob:Qr,applyFilterChain:_r,text:zn,getNumericAspectRatioFromString:Dr},views:{fileActionButton:Jn}});wr(r.options)},Lu=function e(){return Object.prototype.toString.call(window.operamini)==="[object OperaMini]"},Mu=function e(){return"Promise"in window},Nu=function e(){return"slice"in Blob.prototype},xu=function e(){return"URL"in window&&"createObjectURL"in window.URL},ju=function e(){return"visibilityState"in document},ku=function e(){return"performance"in window},Gu=function e(){return"supports"in(window.CSS||{})},Fu=function e(){return/MSIE|Trident/.test(window.navigator.userAgent)},Uu=function(){var e=c()&&!Lu()&&ju()&&Mu()&&Nu()&&xu()&&ku()&&(Gu()||Fu());return function(){return e}}(),Vu={apps:[]},Bu="filepond",qu=function e(){};if(o.Status={},o.FileStatus={},o.FileOrigin={},o.OptionTypes={},o.create=qu,o.destroy=qu,o.parse=qu,o.find=qu,o.registerPlugin=qu,o.getOptions=qu,o.setOptions=qu,Uu()){L(function(){Vu.apps.forEach(function(e){return e._read()})},function(t){Vu.apps.forEach(function(e){return e._write(t)})});var zu=function e(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Uu,create:o.create,destroy:o.destroy,parse:o.parse,find:o.find,registerPlugin:o.registerPlugin,setOptions:o.setOptions}}));document.removeEventListener("DOMContentLoaded",e)};if(document.readyState!=="loading"){setTimeout(function(){return zu()},0)}else{document.addEventListener("DOMContentLoaded",zu)}var Yu=function e(){return m(Ir(),function(e,t){o.OptionTypes[e]=t[1]})};o.Status=Object.assign({},Cr);o.FileOrigin=Object.assign({},hr);o.FileStatus=Object.assign({},vr);o.OptionTypes={};Yu();o.create=function e(){var t=Tu.apply(void 0,arguments);t.on("destroy",o.destroy);Vu.apps.push(t);return wu(t)};o.destroy=function e(t){var r=Vu.apps.findIndex(function(e){return e.isAttachedTo(t)});if(r>=0){var n=Vu.apps.splice(r,1)[0];n.restoreElement();return true}return false};o.parse=function e(t){var r=Array.from(t.querySelectorAll("."+Bu));var n=r.filter(function(t){return!Vu.apps.find(function(e){return e.isAttachedTo(t)})});return n.map(function(e){return o.create(e)})};o.find=function e(t){var r=Vu.apps.find(function(e){return e.isAttachedTo(t)});if(!r){return null}return wu(r)};o.registerPlugin=function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}r.forEach(Cu);Yu()};o.getOptions=function e(){var r={};m(Ir(),function(e,t){r[e]=t[0]});return r};o.setOptions=function e(t){if(de(t)){Vu.apps.forEach(function(e){e.setOptions(t)});Rr(t)}return o.getOptions()}}o.supported=Uu,Object.defineProperty(o,"__esModule",{value:true})}(t)}).call(this,r(15))},function(e,t,r){var n,o;void 0===(o="function"==typeof(n=function(){"use strict";if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{value:function e(t){if(this==null){throw new TypeError('"this" is null or not defined')}var r=Object(this);var n=r.length>>>0;if(typeof t!=="function"){throw new TypeError("predicate must be a function")}var o=arguments[1];var i=0;while(i<n){var a=r[i];if(t.call(o,a,i,r)){return a}i++}return undefined}})}if(!Array.prototype.findIndex){Object.defineProperty(Array.prototype,"findIndex",{value:function e(t){if(this==null){throw new TypeError('"this" is null or not defined')}var r=Object(this);var n=r.length>>>0;if(typeof t!=="function"){throw new TypeError("predicate must be a function")}var o=arguments[1];var i=0;while(i<n){var a=r[i];if(t.call(o,a,i,r)){return i}i++}return-1}})}if(!Array.from){Array.from=function(){var r=Object.prototype.toString;var l=function e(t){return typeof t==="function"||r.call(t)==="[object Function]"};var n=function e(t){var r=Number(t);if(isNaN(r)){return 0}if(r===0||!isFinite(r)){return r}return(r>0?1:-1)*Math.floor(Math.abs(r))};var o=Math.pow(2,53)-1;var f=function e(t){var r=n(t);return Math.min(Math.max(r,0),o)};return function e(t){var r=this;var n=Object(t);if(t==null){throw new TypeError("Array.from requires an array-like object - not null or undefined")}var o=arguments.length>1?arguments[1]:void undefined;var i;if(typeof o!=="undefined"){if(!l(o)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}}var a=f(n.length);var u=l(r)?Object(new r(a)):new Array(a);var c=0;var s;while(c<a){s=n[c];if(o){u[c]=typeof i==="undefined"?o(s,c):o.call(i,s,c)}else{u[c]=s}c+=1}u.length=a;return u}}()}if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function e(t,r){if(this==null){throw new TypeError('"this" is null or not defined')}var n=Object(this);var o=n.length>>>0;if(o===0){return false}var i=r|0;var a=Math.max(i>=0?i:o-Math.abs(i),0);function u(e,t){return e===t||typeof e==="number"&&typeof t==="number"&&isNaN(e)&&isNaN(t)}while(a<o){if(u(n[a],t)){return true}a++}return false}})}if(!Array.prototype.some){Array.prototype.some=function(e){if(this==null){throw new TypeError("Array.prototype.some called on null or undefined")}if(typeof e!=="function"){throw new TypeError}var t=Object(this);var r=t.length>>>0;var n=arguments.length>=2?arguments[1]:void 0;for(var o=0;o<r;o++){if(o in t&&e.call(n,t[o],o,t)){return true}}return false}}if(!Array.prototype.every){Array.prototype.every=function(e,t){var r,n;if(this==null){throw new TypeError("this is null or not defined")}var o=Object(this);var i=o.length>>>0;if(typeof e!=="function"){throw new TypeError}if(arguments.length>1){r=t}n=0;while(n<i){var a;if(n in o){a=o[n];var u=e.call(r,a,n,o);if(!u){return false}}n++}return true}}if(typeof Object.assign!="function"){Object.defineProperty(Object,"assign",{value:function e(t,r){if(t==null){throw new TypeError("Cannot convert undefined or null to object")}var n=Object(t);for(var o=1;o<arguments.length;o++){var i=arguments[o];if(i!=null){for(var a in i){if(Object.prototype.hasOwnProperty.call(i,a)){n[a]=i[a]}}}}return n},writable:true,configurable:true})}(function(){if(typeof window==="undefined"||typeof window.CustomEvent==="function")return false;function e(e,t){t=t||{bubbles:false,cancelable:false,detail:undefined};var r=document.createEvent("CustomEvent");r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);return r}e.prototype=window.Event.prototype;window.CustomEvent=e})()})?n.call(t,r,t,e):n)||(e.exports=o)},,,,function(e,t,r){},,,,,,,,,function(e,t,r){}]);
>>>>>>> hotfix/016-bugfix-on-accordeons
