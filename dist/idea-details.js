/*! For license information please see idea-details.js.LICENSE.txt */
window.OpenStadComponents=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=111)}([function(e,t){e.exports=window.React},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(3),o=n.n(r),i=n(0),a=n.n(i);n(77);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,n,r,i=f(a);function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u(this,a);var c=p(t=i.call(this,e));if(e.attributes&&Object.keys(e.attributes).forEach((function(t){var n=e.attributes[t];c[n.name]=n.value})),"string"==typeof c.config)try{c.config=JSON.parse(c.config)}catch(e){}var s=e.config||{};return s=v(s),c.config=o.a.recursive({siteId:null,api:{url:null,headers:null,isUserLoggedIn:!1},user:{}},n,r,s),c.divId=c.divId||c.config&&c.config.divId||e.id||"openstad-component-".concat(parseInt(1e8*Math.random())),window[c.divId]=c,t}return t=a,(n=[{key:"componentDidMount",value:function(e,t){}}])&&s(t.prototype,n),r&&s(t,r),a}(a.a.Component);function v(e){return"object"!=c(e)||Object.keys(e).forEach((function(t){void 0!==e[t]&&null!=e[t]||delete e[t],"object"==c(e[t])&&(e[t]=v(e[t]))})),e}},function(e,t,n){"use strict";n(14),n(0),n(6),n(97);var r=n(3),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a={get:function(e){var t=sessionStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==i(t))try{t=JSON.stringify(t)}catch(e){}sessionStorage.setItem(e,t)}},remove:function(e){sessionStorage.removeItem(e)}},c=a,u=function(e){var t,n=window.location.search.match(/(?:\?|&)jwt=([A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*)(?:&|$)/);if(n){t=n[1],c.set("osc-jwt",t);var r=document.location.search.replace("jwt="+t,"");"?"==r&&(r=""),document.location.search=r}return t=c.get("osc-jwt"),e&&e.jwt&&(t=e.jwt,c.set("osc-jwt",t)),t},s={admin:["admin","moderator","editor","member","anonymous","all"],moderator:["moderator","editor","member","anonymous","all"],editor:["editor","member","anonymous","all"],member:["member","anonymous","all"],anonymous:["anonymous","all"],all:["all"],owner:null};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f={get:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t},set:function(e,t){if("string"==typeof e){if(void 0===t&&(t=""),"object"==l(t))try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)}},remove:function(e){localStorage.removeItem(e)}},d={api:{getHeaders:function(e){var t=o.a.recursive({"Content-type":"application/json"},e&&e.api&&e.api.headers),n=u();return n&&(t=o.a.recursive({"X-Authorization":"Bearer "+n},t)),t}},user:{getUser:function(e,t){t=t||function(e){console.log("getUser: next not defined."),console.log(e)};var n=e.user||c.get("osc-user");if(n)return t(null,n);var r=u(e);if(!r)return t(null,{});var o="".concat(e.api.url,"/oauth/site/").concat(e.siteId,"/me"),i={"X-Authorization":"Bearer ".concat(r),"Content-Type":"application/json"};fetch(o,{headers:i}).then((function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()})).then((function(e){c.set("osc-user",e),t(null,e)})).catch((function(e){t(e)}))},getJWT:u,logout:function(e,t){t=t||function(e){console.log("logout: next not defined.")};var n=e.user||c.get("osc-user");if(n)return t(null,n);var r=u(e);if(!r)return t(null,{});var o=e.api.url+"/oauth/site/"+e.siteId+"/me";fetch(o,{headers:{"X-Authorization":"Bearer "+r,"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Error on fetch");return e.json()})).then((function(e){c.set("osc-user",e),t(null,e)})).catch((function(e){t(e)}))},hasRole:function(e,t){var n=e.role;return Object.keys(s).includes(n)||(n="all"),s[n].includes(t)}},ideasSort:function(e){var t=e.ideas,n=e.sortOrder,r=e.center;switch(n=n||"random"){case"title":t=t.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?-1:t.title.toLowerCase()<e.title.toLowerCase()?1:0}));break;case"ranking,asc":t=t.sort((function(e,t){return e.ranking-t.ranking}));break;case"likes,asc":t=t.sort((function(e,t){return e.yes-t.yes}));break;case"likes,desc":t=t.sort((function(e,t){return t.yes-e.yes}));break;case"createdtime,desc":t=t.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}));break;case"createdtime,asc":t=t.sort((function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()}));break;case"distance":(r=r||{lat:52.37104644463586,lng:900402911007405}).coordinates&&(r.lat=r.coordinates[0],r.lng=r.coordinates[1]),t=t.map((function(e){return e._distance=Math.sqrt(Math.pow(e.location.coordinates[0]-r.lat,2)+Math.pow(e.location.coordinates[1]-r.lng,2)),e})).sort((function(e,t){return e._distance-t._distance}));break;case"args,desc":t=t.sort((function(e,t){return t.argCount-e.argCount}));break;case"args,asc":t=t.sort((function(e,t){return e.argCount-t.argCount}));break;case"random":default:t=t.sort((function(e,t){return Math.random()-.5}))}return t},localStorage:f,sessionStorage:c,reactTemplate:function(e){var t=e.html,n=void 0===t?"":t,r=arguments[0];delete r.html;var o=0;return Object.keys(r).forEach((function(e){var t=new RegExp("^((?:.|\n|\r)*)\\{".concat(e,"\\}((?:.|\n|\r)*)$"),"g").exec(n);t&&(o++,n=React.createElement("span",null,React.createElement("span",{dangerouslySetInnerHTML:{__html:t[1]}}),r[e],React.createElement("span",{dangerouslySetInnerHTML:{__html:t[2]}})))})),0==o&&(n=React.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),n}};t.a=d},function(e,t,n){(function(e){!function(t){var n=function(e){return o(!0===e,!1,arguments)};function r(e,t){if("object"!==i(e))return t;for(var n in t)"object"===i(e[n])&&"object"===i(t[n])?e[n]=r(e[n],t[n]):e[n]=t[n];return e}function o(e,t,o){var a=o[0],c=o.length;(e||"object"!==i(a))&&(a={});for(var u=0;u<c;++u){var s=o[u];if("object"===i(s))for(var l in s)if("__proto__"!==l){var f=e?n.clone(s[l]):s[l];a[l]=t?r(a[l],f):f}}return a}function i(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}n.recursive=function(e){return o(!0===e,!0,arguments)},n.clone=function(e){var t,r,o=e,a=i(e);if("array"===a)for(o=[],r=e.length,t=0;t<r;++t)o[t]=n.clone(e[t]);else if("object"===a)for(t in o={},e)o[t]=n.clone(e[t]);return o},t?e.exports=n:window.merge=n}(e&&"object"==typeof e.exports&&e.exports)}).call(this,n(76)(e))},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(23))},function(e,t,n){"use strict";n(14),n(0),n(6),n(101);var r=n(1);n(2);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,r,s=u(f);function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,f);var r=l(t=s.call(this,e,{choices:[],name:"",placeholder:"",disabled:!1,required:!1},n));return r.state={value:null!=o(e.value)?e.value:"",error:null},t.onChange=e.onChange,t}return t=f,(n=[{key:"validate",value:function(e){var t=e.showErrors,n=!this.config.required||!!this.state.value,r="";return!n&&t&&(r=!0),this.setState({isValid:n,error:r}),n}},{key:"handleOnChange",value:function(e){var t=this;e=e||{},t.setState(e,(function(){t.validate({})})),"function"==typeof t.onChange&&t.onChange({name:t.config.name,value:e.value})}}])&&a(t.prototype,n),r&&a(t,r),f}(r.a);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,o=g(i);function i(){return h(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this;return React.createElement("input",{type:"hidden",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}})}}])&&m(t.prototype,n),r&&m(t,r),i}(d),b=n(57),I=n(83),T=n.n(I),O=n(84),R=n.n(O),w=n(85),S=n.n(w),D=n(86),P=n.n(D);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object(b.registerPlugin)(T.a,R.a,S.a,P.a);var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(i,e);var t,n,r,o=M(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e,{name:"image",allowMultiple:!1,imageserver:{process:"/image",fetch:"/image"}});var n=[],r=e.value||[];return Array.isArray(r)||(r=[r]),r.forEach((function(e){var t="object"==A(e)?e.src:e;n.push({source:{url:t},options:{type:"local",file:{name:t},metadata:{poster:t}}})})),t.state={uploadedFiles:n},t}return t=i,(n=[{key:"validate",value:function(){var e=!0;return this.imageuploader&&this.imageuploader.getFiles&&this.imageuploader.getFiles().forEach((function(t){t.serverId||(e=!1)})),e}},{key:"init",value:function(){}},{key:"updateUploadedFiles",value:function(e){e.addFile;var t=e.removeFile,n=e.next;if(this.imageuploader&&this.imageuploader.getFiles){var r=this.imageuploader.getFiles();t&&(r=r.filter((function(e){return e.serverId!=t.serverId}))),this.setState({uploadedFiles:r.map((function(e){return e.file}))},(function(){n&&n(r)}))}}},{key:"updateValue",value:function(e){var t=this,n=[],r=t.config.as&&"json"==t.config.as;e.forEach((function(e){try{var t="string"==typeof e.serverId?JSON.parse(e.serverId):e.serverId;n.push(r?{src:t.url}:t.url)}catch(e){console.log(e)}})),t.handleOnChange({name:t.config.name,value:n})}},{key:"render",value:function(){var e=this,t=this;return React.createElement(b.FilePond,{ref:function(t){return e.imageuploader=t},files:this.state.uploadedFiles,oninit:t.init,onprocessfile:function(e,n){return t.updateUploadedFiles({addFile:n,next:function(e){return t.updateValue(e)}})},onremovefile:function(e,n){return t.updateUploadedFiles({removeFile:n,next:function(e){return t.updateValue(e)}})},name:t.config.name,server:this.config.imageserver.process,allowMultiple:this.config.allowMultiple,acceptedFileTypes:["image/*"],allowFileSizeValidation:"true",allowReorder:!0,styleItemPanelAspectRatio:"1",maxFileSize:"8mb",maxFiles:"5",allowBrowse:"true",imageResizeTargetWidth:"80",imageResizeTargetHeight:"80",imageCropAspectRatio:"16:9",labelIdle:"Sleep afbeelding(en) naar deze plek of <span class='filepond--label-action'>KLIK HIER</span>",labelInvalidField:"Field contains invalid files",labelFileWaitingForSize:"Wachtend op grootte",labelFileSizeNotAvailable:"Grootte niet beschikbaar",labelFileCountSingular:"Bestand in lijst",labelFileCountPlural:"Bestanden in lijst",labelFileLoading:"Laden",labelFileAdded:"Toegevoegd",labelFileLoadError:"Fout bij het uploaden",labelFileRemoved:"Verwijderd",labelFileRemoveError:"Fout bij het verwijderen",labelFileProcessing:"Laden",labelFileProcessingComplete:"Afbeelding geladen",labelFileProcessingAborted:"Upload cancelled",labelFileProcessingError:"Error during upload",labelFileProcessingRevertError:"Error during revert",labelTapToCancel:"tap to cancel",labelTapToRetry:"tap to retry",labelTapToUndo:"tap to undo",labelButtonRemoveItem:"Verwijderen",labelButtonAbortItemLoad:"Abort",labelButtonRetryItemLoad:"Retry",labelButtonAbortItemProcessing:"Verwijder",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Retry",labelButtonProcessItem:"Upload"})}}])&&L(t.prototype,n),r&&L(t,r),i}(d);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(i,e);var t,n,r,o=U(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={value:t.props.value},t.onKeyUpx=t.onKeyUpx.bind(B(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(e,t){var n=this.props.value;n=this.filterHTML(n),this.input.innerHTML=n}},{key:"filterHTML",value:function(e){return e=(e=(e=e.replace(/<(\/?\s*(?:a [^>]+|a|b|i|strong|em|p|div|br|ul|li)\s*\/?)>/g,"[[[$1]]]")).replace(/<[^>]+>/g,"")).replace(/\[\[\[([^\]]+)\]\]\]/g,"<$1>")}},{key:"executeAction",value:function(e,t,n){e.preventDefault(),e.stopPropagation(),document.execCommand(t,!1,n),this.onKeyUp()}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e),this.props.onChange&&this.props.onChange({value:this.state.value})}},{key:"onKeyUpx",value:function(){var e=this.input.innerHTML;e=this.filterHTML(e),this.setState({value:e}),this.props.onKeyUp&&this.props.onKeyUp(e)}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"osc-html-editor"},React.createElement("div",{className:"osc-html-editor-buttons"},React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-bold",onMouseDown:function(t){return e.executeAction(t,"bold")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-italic",onMouseDown:function(t){return e.executeAction(t,"italic")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-insertunorderedlist",onMouseDown:function(t){return e.executeAction(t,"insertunorderedlist")}}," "),React.createElement("div",{className:"osc-html-editor-button osc-html-editor-button-createlink",onMouseDown:function(t){return e.executeAction(t,"createlink",prompt("Lank naar","http://"))}}," ")),React.createElement("div",{className:"osc-html-editor-content",contentEditable:!0,onFocus:function(t){return e.onFocus(t)},onBlur:function(t){return e.onBlur(t)},onKeyUp:function(t){return e.onKeyUpx()},ref:function(t){return e.input=t}}))}}])&&G(t.prototype,n),r&&G(t,r),i}(r.a);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(i,e);var t,n,r,o=X(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=Q(t=o.call(this,e,{name:"tekst",inputType:"input",minLength:5,maxLength:1024,placeholder:""}));return n.id=e.id||"osc-formfields-plaintext-with-counter-"+parseInt(1e6*Math.random()),n.state={focused:!1,value:e.value||"",valueLength:e.value&&e.value.length||0},n.key=e.useKey||(n.id||"osc-input-with-counter-")+parseInt(1e7*Math.random),t.onChange=e.onChange,n.handleOnChange=n.handleOnChange.bind(Q(t)),n.onInputFocus=n.onInputFocus.bind(Q(t)),n.onInputBlur=n.onInputBlur.bind(Q(t)),n.onInputKeyUp=n.onInputKeyUp.bind(Q(t)),t}return t=i,(n=[{key:"isValid",value:function(){var e={isValid:!0,warning:null};return this.state.valueLength<this.config.minLength&&(e.warning="De tekst is te kort",e.isValid=!1),this.state.valueLength>this.config.maxLength&&(e.warning="De tekst is te lang",e.isValid=!1),this.setState(e),e.isValid}},{key:"validate",value:function(){return this.setState({showWarning:!0}),this.isValid()}},{key:"handleOnChange",value:function(e){e=e||{},this.setState(e),"function"==typeof this.onChange&&this.onChange({name:this.config.name,value:e.value})}},{key:"onInputFocus",value:function(){var e={focused:!0,showWarning:!1};this.setState(e)}},{key:"onInputBlur",value:function(){var e={focused:!1};this.setState(e)}},{key:"onInputKeyUp",value:function(e){var t={};t.value=e||this.input.value;var n=t.value.length;t.valueLength=n,t.isValid=n>=this.config.minLength&&n<=this.config.maxLength,this.setState(t)}},{key:"render",value:function(){var e=this,t=this,n=null,r=null;if(t.state.focused)if(t.state.valueLength<t.config.minLength)n=React.createElement("div",{className:"osc-form-counter osc-form-error"},"Nog minimaal ",React.createElement("span",{className:""},t.config.minLength-t.state.valueLength)," tekens");else{var o=t.state.valueLength>t.config.maxLength?"osc-form-error":"";n=React.createElement("div",{className:"osc-form-counter "+o},"Je hebt nog ",React.createElement("span",{className:""},t.config.maxLength-t.state.valueLength)," tekens over.")}t.state.showWarning&&t.state.warning&&(r=React.createElement("div",{className:"osc-form-warning",ref:function(t){return e["form-warning"]=t}},t.state.warning));var i=null;switch(t.config.inputType){case"htmlarea":i=React.createElement(H,{value:this.state.value,onChange:t.handleOnChange,onFocus:t.onInputFocus,onBlur:t.onInputBlur,onKeyUp:t.onInputKeyUp});break;case"textarea":i=React.createElement("textarea",{key:t.key,ref:function(e){return t.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(e){return t.handleOnChange({value:t.input.value})},onKeyUp:function(e){return t.onInputKeyUp()},onFocus:function(e){return t.onInputFocus(e)},onBlur:function(e){return t.onInputBlur(e)}});break;case"input":default:i=React.createElement("input",{key:t.key,ref:function(e){return t.input=e},value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(e){return t.handleOnChange({value:t.input.value})},onKeyUp:function(e){return t.onInputKeyUp()},onFocus:function(e){return t.onInputFocus(e)},onBlur:function(e){return t.onInputBlur(e)}})}return React.createElement("div",{id:t.id,ref:function(e){return t.instance=e},className:"osc-input-with-counter"},React.createElement("div",{className:"osc-form-feedback"},i,n,r))}}])&&Y(t.prototype,n),r&&Y(t,r),i}(r.a);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(i,e);var t,n,r,o=re(i);function i(){return ee(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-radios"},e.config.choices.map((function(t){return t.dangerousDescription?React.createElement("div",{className:"osc-radio-container",key:t.value},React.createElement("div",{className:"osc-radio-input".concat(e.state.value==t.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:e.divId,value:t.value,onChange:function(n){return e.handleOnChange({value:t.value})}})),React.createElement("div",{className:"osc-radio-text",dangerouslySetInnerHTML:{__html:t.dangerousDescription}})):React.createElement("div",{className:"osc-radio-container",key:t.value},React.createElement("div",{className:"osc-radio-input".concat(e.state.value==t.value?" osc-radio-input-checked":"")},React.createElement("input",{type:"radio",name:e.divId,value:t.value,onChange:function(n){return e.handleOnChange({value:t.value})}})),React.createElement("div",{className:"osc-radio-text"},t.dangerousDescription?null:t.description||t.title||t.value))})),t)}}])&&te(t.prototype,n),r&&te(t,r),i}(d);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return de(this,n)}}function de(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(i,e);var t,n,r,o=fe(i);function i(){return ue(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"validate",value:function(e){var t=e.showErrors,n=!0,r="";return this.state.value&&this.state.value.match(/^\s*\d{4}\s*[a-zA-Z][a-zA-Z]\s*$/)||(n=!1,t&&(r="Dit is geen postcode")),this.config.required&&!this.state.value&&(n=!1,t&&(r="Je hebt nog niets ingevuld")),this.setState({isValid:n,error:r}),n}},{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},e.state.error)),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}}),t)}}])&&se(t.prototype,n),r&&se(t,r),i}(d);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var o=be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(i,e);var t,n,r,o=Ee(i);function i(){return ve(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.state.value||this.config.choices[0]&&this.config.choices[0].value;this.handleOnChange({value:e})}},{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog geen keuze gemaakt")),React.createElement("div",{className:"osc-select"},React.createElement("select",{value:this.state.value||"",disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}},e.config.choices.map((function(e,t){var n=e.description||e.title||e.value;return React.createElement("option",{value:e.value||"",key:"".concat(n,"-").concat(e.value,"-").concat(t)},n)}))),t)}}])&&ge(t.prototype,n),r&&ge(t,r),i}(d);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pe(e);if(t){var o=Pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return De(this,n)}}function De(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(i,e);var t,n,r,o=Se(i);function i(){return Oe(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textinput"},React.createElement("input",{type:"text",value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}}),t)}}])&&Re(t.prototype,n),r&&Re(t,r),i}(d);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=je(e);if(t){var o=je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(i,e);var t,n,r,o=xe(i);function i(){return Ce(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=null;return e.state.error&&(t=React.createElement("div",{className:"osc-form-error osc-form-field-error"},"Je hebt nog niets ingevuld")),React.createElement("div",{className:"osc-textarea"},React.createElement("textarea",{value:this.state.value,disabled:this.props.disabled,placeholder:this.config.placeholder,onChange:function(t){return e.handleOnChange({value:e.input.value})},ref:function(t){return e.input=t}},this.state.value),t)}}])&&Me(t.prototype,n),r&&Me(t,r),i}(d);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?ze(e):t}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(i,e);var t,n,r,o=We(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=ze(t=o.call(this,e,{inputType:null,validateAction:null,changeAction:null,required:!1,title:null,description:null,choices:[]}));return n.config.name=n.config.name||n.config.title.toLowerCase(),n.state={value:e.initValue||void 0},n.handleOnChange=n.handleOnChange.bind(n),n.onChange=e.onChange,t}return t=i,(n=[{key:"validate",value:function(e){var t=e.showErrors;return!this.input||this.input.validate({showErrors:t})}},{key:"handleOnChange",value:function(e){"function"==typeof this.onChange&&this.onChange(e)}},{key:"render",value:function(){var e=this,t=null;e.config.title&&(t=React.createElement("h3",{className:"osc-form-title"},e.config.title));var n=null;e.config.description&&(n=React.createElement("div",{className:"osc-form-description",dangerouslySetInnerHTML:{__html:e.config.description}}));var r=null;switch(e.config.inputType){case"hidden":r=React.createElement(_,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"html-with-counter":case"htmlarea-with-counter":r=React.createElement(J,{config:Ve(Ve({},e.config),{},{inputType:"htmlarea"}),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"image-upload":r=React.createElement(k,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"input-with-counter":case"text-with-counter":r=React.createElement(J,{config:Ve({inputType:"input"},e.config),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"postcode":r=React.createElement(he,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"radios":r=React.createElement(ae,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"select":case"multiple-choice":r=React.createElement(Ie,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"text":r=React.createElement(Ae,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"textarea":r=React.createElement(Ge,{config:e.config,value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;case"textarea-with-counter":r=React.createElement(J,{config:Ve(Ve({},e.config),{},{inputType:"textarea"}),value:this.state.value,onChange:e.handleOnChange,ref:function(t){return e.input=t}});break;default:console.log("Form field "+e.config.inputType+"not yet implemented")}return React.createElement("div",{id:e.id,ref:function(t){return e.instance=t},className:"osc-form-field"},t,n,r)}}])&&qe(t.prototype,n),r&&qe(t,r),i}(r.a);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ot(e);if(t){var o=ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?rt(e):t}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(i,e);var t,n,r,o=tt(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=rt(t=o.call(this,e,{title:null,intro:null,fields:[]})),r=e.values;return!r&&n.config.fields&&n.config.fields.length&&(r={},n.config.fields.map((function(e,t){var n=e.name||e.title.toLowerCase();r[n]=e.value}))),n.state={values:r||{}},n.handleOnChange=n.handleOnChange.bind(rt(t)),n.fields=[],t}return t=i,(n=[{key:"getValues",value:function(){return this.state.values}},{key:"validate",value:function(e){var t=e.showErrors,n=e.scrollTo,r=!0,o=null;return this.fields.forEach((function(e){e.validate({showErrors:t})||(r=!1,o||(o=e))})),n&&o&&o.instance&&o.instance.scrollIntoView&&o.instance.scrollIntoView({behavior:"smooth"}),r}},{key:"handleOnChange",value:function(e){var t=this,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state.values);n[e.name]=e.value,this.setState({values:n},(function(){"function"==typeof t.props.onChange&&t.props.onChange(e)}))}},{key:"render",value:function(){var e=this,t=null;e.config.title&&(t=React.createElement("h2",{className:"osc-form-title"},e.config.title));var n=null;e.config.intro&&(n=React.createElement("div",{className:"osc-form-intro",dangerouslySetInnerHTML:{__html:e.config.intro}}));var r=null;return e.config.fields&&e.config.fields.length&&(r=React.createElement("div",{className:"osc-form-fields"},e.config.fields.map((function(t,n){return React.createElement(Ke,Je({config:t,initValue:t.value,onChange:e.handleOnChange,ref:function(t){return e.input=t},key:"osc-form-field-".concat(n)},"ref",(function(t){e.fields[n]=t})))})))),React.createElement("div",{id:e.divId,className:"osc-form",ref:function(t){return e.instance=t}},t,n,r)}}])&&$e(t.prototype,n),r&&$e(t,r),i}(r.a);function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(e,t){return!t||"object"!==at(t)&&"function"!=typeof t?ft(e):t}function ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(i,e);var t,n,r,o=st(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={value:t.props.value,touched:t.props.touched||!1},t.handleChange=t.handleChange.bind(ft(t)),t}return t=i,(n=[{key:"handleChange",value:function(e){var t=e.target.value;"function"==typeof this.props.onChange&&this.props.onChange(t),this.setState({value:t,touched:!0})}},{key:"doTouch",value:function(){"function"==typeof this.props.onChange&&this.props.onChange(50),this.setState({touched:!0})}},{key:"calcProgress",value:function(e,t,n){return 2*(n-e)/(t-e)-1}},{key:"render",value:function(){var e=this,t=e.state,n=t.value,r=t.touched,o=e.props,i=o.min,a=o.max,c=o.step;return React.createElement("div",{className:"".concat(e.props.className," osc-slider")},React.createElement("div",{className:"osc-slider-track-container"},React.createElement("div",{className:"osc-slider-track"}),React.createElement("div",{className:"osc-slider-track-progress-container"},React.createElement("div",{className:"osc-slider-track-progress",style:{transform:"scaleX("+e.calcProgress(i,a,n)+")"}})),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-left"}),React.createElement("div",{className:"osc-slider-track-dot-start osc-slider-track-dot-center"}),React.createElement("div",{className:"osc-slider-track-dot-end osc-slider-track-dot-right"})),React.createElement("input",{type:"range",min:i,max:a,step:c,value:n,onClick:function(){r||e.doTouch()},onChange:e.handleChange,className:r?"osc-slider-input-range":"osc-slider-input-range osc-slider-untouched",ref:function(t){return e.input=t}}))}}])&&ct(t.prototype,n),r&&ct(t,r),i}(r.a);t.a={Form:it,FormField:Ke,Hidden:_,ImageUpload:k,InputWithCounter:J,Postcode:he,Radios:ae,Select:Ie,Text:Ae,Textarea:Ge,Slider:pt}},function(e,t){e.exports=window.ReactDOM},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},,function(e,t,n){var r=n(10);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){e.exports=n(54).Promise},,function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";(function(e){var t="URLSearchParams"in self,n="Symbol"in self&&"iterator"in Symbol,r="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in self,i="ArrayBuffer"in self;if(i)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(t){if(t.bodyUsed)return e.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new e((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function h(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var n;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&r&&((n=e)&&DataView.prototype.isPrototypeOf(n))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return e.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return e.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return e.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||e.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t,n,r,o=d(this);if(o)return o;if(this._bodyBlob)return t=this._bodyBlob,n=new FileReader,r=p(n),n.readAsText(t),r;if(this._bodyArrayBuffer)return e.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return e.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=s(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=s(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var n,r,o=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),g.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},v.call(y.prototype),v.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];_.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})};var I=self.DOMException;try{new I}catch(e){(I=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),I.prototype.constructor=I}function T(t,n){return new e((function(e,o){var i=new y(t,n);if(i.signal&&i.signal.aborted)return o(new I("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,n,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",n=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var t=e.split(":"),r=t.shift().trim();if(r){var o=t.join(":").trim();n.append(r,o)}})),n)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;e(new _(o,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new I("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",c)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}T.polyfill=!0,self.fetch||(self.fetch=T,self.Headers=f,self.Request=y,self.Response=_)}).call(this,n(11))},function(e,t,n){var r=n(9),o=n(16),i=n(28);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(9),o=n(30),i=n(17),a=n(29),c=Object.defineProperty;t.f=r?c:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},,function(e,t,n){var r=n(48),o=n(50);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(4),o=n(15);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"Image",(function(){return g})),n.d(t,"IdeaImage",(function(){return R}));n(14);var r=n(0),o=n.n(r),i=n(6),a=n.n(i),c=(n(103),n(3)),u=n.n(c);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,i=h(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);return(t=i.call(this,e)).config=u.a.recursive({aspectRatio:"16x9",allowMultipleImages:!1},t.config,t.props.config||{}),t.state={currentImageIndex:0,width:0},t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=document.querySelector("#".concat(this.divId)).parentNode;this.setState({width:e.offsetWidth})}},{key:"setCurrentImageIndex",value:function(e){this.setState({currentImageIndex:e})}},{key:"getImagesFromProps",value:function(){var e=this.props.images||[];return this.props.image||e[this.state.currentImageIndex],[this.props.image,e]}},{key:"getImageSrc",value:function(e){var t=e;return"object"==f(e)&&e.src&&(t=e.src),t}},{key:"getAspectRatioFactor",value:function(){if(this.props.width&&this.props.height)return this.props.width/this.props.height;var e=this.config.aspectRatio.match(/(\d+)x(\d+)/);return e?e[1]/e[2]:16/9}},{key:"getWidthHeight",value:function(){var e=this.props.width||this.state.width;return[e,this.props.height||e*(1/this.getAspectRatioFactor())||void 0]}},{key:"render",value:function(){var e,t,n,r,i=this,a=s(i.getImagesFromProps(),2);t=a[0],e=a[1];var c=s(i.getWidthHeight(),2);return n=c[0],r=c[1],i.config.allowMultipleImages&&e.length>1?o.a.createElement("div",{id:i.divId,className:"osc-multiple-images ".concat(i.props.className||"")},o.a.createElement("div",{className:"osc-image-spacer",style:{width:n,height:r}},o.a.createElement("div",{className:"osc-image",style:t?{backgroundImage:"url(".concat(i.getImageSrc(t),")")}:{},key:"image-"+i.divId})),o.a.createElement("div",{className:"osc-multiple-images-thumbs",style:{height:.1*i.state.width}},e.map((function(e,t){var r=.1*n,a=r*i.getAspectRatioFactor(),c=1.05*a*t;return o.a.createElement("div",{className:"osc-image-thumb-spacer",key:"osc-image-thumb-".concat(t),style:{left:c,width:a,height:r}},o.a.createElement("div",{className:"osc-image-thumb",style:e?{backgroundImage:"url(".concat(i.getImageSrc(e),")"),zIndex:10-t}:{},onClick:function(e){return i.setCurrentImageIndex(t)}}))})))):o.a.createElement("div",{id:i.divId,className:"osc-image-spacer ".concat(i.props.className||""),style:{width:n,height:r}},o.a.createElement("div",{className:"osc-image",style:t?{backgroundImage:"url(".concat(i.getImageSrc(t),")")}:{},onClick:this.props.onClick,key:"image-"+i.divId}))}}])&&d(t.prototype,n),r&&d(t,r),a}(n(1).a);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=I(i);function i(){return E(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getImagesFromProps",value:function(){var e=this.props.idea;if(!e)return["",[""]];var t=e.extraData&&e.extraData.images||[];return[e.posterImage&&e.posterImage.key||e.extraData&&e.extraData.images&&e.extraData.images[this.state.currentImageIndex],t]}}])&&_(t.prototype,n),r&&_(t,r),i}(g);R.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(R,{attributes:n,config:t}),e)}},,function(e,t,n){var r=n(9),o=n(58),i=n(28),a=n(19),c=n(29),u=n(7),s=n(30),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=c(t,!0),s)try{return l(e,t)}catch(e){}if(u(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(9),o=n(10),i=n(31);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(4),o=n(13),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(33),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(4),o=n(20),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},function(e,t,n){var r=n(35),o=n(36),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,n){var r=n(62),o=n(33);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(65),o=n(4),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},function(e,t,n){var r=n(7),o=n(19),i=n(39).indexOf,a=n(21);e.exports=function(e,t){var n,c=o(e),u=0,s=[];for(n in c)!r(a,n)&&r(c,n)&&s.push(n);for(;t.length>u;)r(c,n=t[u++])&&(~i(s,n)||s.push(n));return s}},function(e,t,n){var r=n(19),o=n(51),i=n(67),a=function(e){return function(t,n,a){var c,u=r(t),s=o(u.length),l=i(a,s);if(e&&n!=n){for(;s>l;)if((c=u[l++])!=c)return!0}else for(;s>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(10);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},,function(e,t,n){var r=n(4),o=n(27).f,i=n(15),a=n(59),c=n(20),u=n(63),s=n(69);e.exports=function(e,t){var n,l,f,d,p,h=e.target,m=e.global,v=e.stat;if(n=m?r:v?r[h]||c(h,{}):(r[h]||{}).prototype)for(l in t){if(d=t[l],f=e.noTargetGet?(p=o(n,l))&&p.value:n[l],!s(m?l:h+(v?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,e)}}},function(e,t,n){var r=n(53),o=n(72),i=n(16),a=r("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:o(null)}),e.exports=function(e){c[a][e]=!0}},function(e,t,n){var r=n(9),o=n(10),i=n(7),a=Object.defineProperty,c={},u=function(e){throw e};e.exports=function(e,t){if(i(c,e))return c[e];t||(t={});var n=[][e],s=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:u,f=i(t,1)?t[1]:void 0;return c[e]=!!n&&!o((function(){if(s&&!r)return!0;var e={length:-1};s?a(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,l,f)}))}},function(e,t,n){var r=n(4),o=n(52),i=Function.call;e.exports=function(e,t,n){return o(i,r[e].prototype[t],n)}},,function(e,t,n){var r=n(10),o=n(49),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(40),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(70);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(4),o=n(35),i=n(7),a=n(36),c=n(41),u=n(71),s=o("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){return i(s,e)||(c&&i(l,e)?s[e]=l[e]:s[e]=f("Symbol."+e)),s[e]}},function(e,t,n){(function(t,r){var o;o=function(){"use strict";function e(e){return"function"==typeof e}var o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,a=void 0,c=void 0,u=function(e,t){m[i]=e,m[i+1]=t,2===(i+=2)&&(c?c(v):b())},s="undefined"!=typeof window?window:void 0,l=s||{},f=l.MutationObserver||l.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(v,1)}}var m=new Array(1e3);function v(){for(var e=0;e<i;e+=2)(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0;i=0}var g,y,E,_,b=void 0;function I(e,t){var n=arguments,r=this,o=new this.constructor(R);void 0===o[O]&&U(o);var i,a=r._state;return a?(i=n[a-1],u((function(){return G(a,o,i,r._result)}))):N(r,o,e,t),o}function T(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(R);return A(t,e),t}d?b=function(){return t.nextTick(v)}:f?(y=0,E=new f(v),_=document.createTextNode(""),E.observe(_,{characterData:!0}),b=function(){_.data=y=++y%2}):p?((g=new MessageChannel).port1.onmessage=v,b=function(){return g.port2.postMessage(0)}):b=void 0===s?function(){try{var e=n(56);return a=e.runOnLoop||e.runOnContext,function(){a(v)}}catch(e){return h()}}():h();var O=Math.random().toString(36).substring(16);function R(){}var w=void 0,S=new k;function D(e){try{return e.then}catch(e){return S.error=e,S}}function P(t,n,r){n.constructor===t.constructor&&r===I&&n.constructor.resolve===T?function(e,t){1===t._state?C(e,t._result):2===t._state?M(e,t._result):N(t,void 0,(function(t){return A(e,t)}),(function(t){return M(e,t)}))}(t,n):r===S?M(t,S.error):void 0===r?C(t,n):e(r)?function(e,t,n){u((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?A(e,n):C(e,n))}),(function(t){r||(r=!0,M(e,t))}),e._label);!r&&o&&(r=!0,M(e,o))}),e)}(t,n,r):C(t,n)}function A(e,t){var n;e===t?M(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(n=t)||"object"==typeof n&&null!==n?P(e,t,D(t)):C(e,t)}function L(e){e._onerror&&e._onerror(e._result),x(e)}function C(e,t){e._state===w&&(e._result=t,e._state=1,0!==e._subscribers.length&&u(x,e))}function M(e,t){e._state===w&&(e._state=2,e._result=t,u(L,e))}function N(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=n,o[i+2]=r,0===i&&e._state&&u(x,e)}function x(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?G(n,r,o,i):o(i);e._subscribers.length=0}}function k(){this.error=null}var j=new k;function G(t,n,r,o){var i=e(r),a=void 0,c=void 0,u=void 0,s=void 0;if(i){if((a=function(e,t){try{return e(t)}catch(e){return j.error=e,j}}(r,o))===j?(s=!0,c=a.error,a=null):u=!0,n===a)return void M(n,new TypeError("A promises callback cannot return that same promise."))}else a=o,u=!0;n._state!==w||(i&&u?A(n,a):s?M(n,c):1===t?C(n,a):2===t&&M(n,a))}var F=0;function U(e){e[O]=F++,e._state=void 0,e._result=void 0,e._subscribers=[]}function V(e,t){this._instanceConstructor=e,this.promise=new e(R),this.promise[O]||U(this.promise),o(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&C(this.promise,this._result))):M(this.promise,new Error("Array Methods must be provided an Array"))}function B(e){this[O]=F++,this._result=this._state=void 0,this._subscribers=[],R!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof B?function(e,t){try{t((function(t){A(e,t)}),(function(t){M(e,t)}))}catch(t){M(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function q(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=B}return V.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===w&&n<e;n++)this._eachEntry(t[n],n)},V.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===T){var o=D(e);if(o===I&&e._state!==w)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===B){var i=new n(R);P(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},V.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===w&&(this._remaining--,2===e?M(r,n):this._result[t]=n),0===this._remaining&&C(r,this._result)},V.prototype._willSettleAt=function(e,t){var n=this;N(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},B.all=function(e){return new V(this,e).promise},B.race=function(e){var t=this;return o(e)?new t((function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},B.resolve=T,B.reject=function(e){var t=new this(R);return M(t,e),t},B._setScheduler=function(e){c=e},B._setAsap=function(e){u=e},B._asap=u,B.prototype={constructor:B,then:I,catch:function(e){return this.then(null,e)}},q(),B.polyfill=q,B.Promise=B,B},e.exports=o()}).call(this,n(55),n(23))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,s=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&p())}function p(){if(!l){var e=c(d);l=!0;for(var t=s.length;t;){for(u=s,s=[];++f<t;)u&&u[f].run();f=-1,t=s.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||l||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilePond=t.FileStatus=t.registerPlugin=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r},c=n(102);t.registerPlugin=c.registerPlugin,t.FileStatus=c.FileStatus;var u=(0,c.supported)(),s=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"];t.FilePond=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.allowFilesSync=!0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this;if(u){var t=Object.assign({},this.props);if(t.onupdatefiles){var n=t.onupdatefiles;t.onupdatefiles=function(t){e.allowFilesSync=!1,n(t)}}this._pond=(0,c.create)(this._element,t),Object.keys(this._pond).filter((function(e){return!s.includes(e)})).forEach((function(t){e[t]=e._pond[t]}))}}},{key:"componentWillUnmount",value:function(){this._pond&&(this._pond.destroy(),this.allowFilesSync=!0)}},{key:"shouldComponentUpdate",value:function(){return!!this.allowFilesSync||(this.allowFilesSync=!0,!1)}},{key:"componentDidUpdate",value:function(){if(this._pond){var e=Object.assign({},this.props);delete e.onupdatefiles,this._pond.setOptions(e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.name,o=t.className,a=t.allowMultiple,c=t.required,u=t.captureMethod,s=t.acceptedFileTypes;return(0,i.createElement)("div",{className:"filepond--wrapper"},(0,i.createElement)("input",{type:"file",name:r,id:n,accept:s,multiple:a,required:c,className:o,capture:u,ref:function(t){return e._element=t}}))}}]),t}(a.default.Component)},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(4),o=n(15),i=n(7),a=n(20),c=n(32),u=n(60),s=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,n,c){var u=!!c&&!!c.unsafe,s=!!c&&!!c.enumerable,d=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e!==r?(u?!d&&e[t]&&(s=!0):delete e[t],s?e[t]=n:o(e,t,n)):s?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||c(this)}))},function(e,t,n){var r,o,i,a=n(61),c=n(4),u=n(13),s=n(15),l=n(7),f=n(34),d=n(21),p=c.WeakMap;if(a){var h=new p,m=h.get,v=h.has,g=h.set;r=function(e,t){return g.call(h,e,t),t},o=function(e){return m.call(h,e)||{}},i=function(e){return v.call(h,e)}}else{var y=f("state");d[y]=!0,r=function(e,t){return s(e,y,t),t},o=function(e){return l(e,y)?e[y]:{}},i=function(e){return l(e,y)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(4),o=n(32),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t){e.exports=!1},function(e,t,n){var r=n(7),o=n(64),i=n(27),a=n(16);e.exports=function(e,t){for(var n=o(t),c=a.f,u=i.f,s=0;s<n.length;s++){var l=n[s];r(e,l)||c(e,l,u(t,l))}}},function(e,t,n){var r=n(37),o=n(66),i=n(68),a=n(17);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(4);e.exports=r},function(e,t,n){var r=n(38),o=n(22).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(40),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(10),o=/#|\.prototype\./,i=function(e,t){var n=c[a(e)];return n==s||n!=u&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",s=i.POLYFILL="P";e.exports=i},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(41);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r,o=n(17),i=n(73),a=n(22),c=n(21),u=n(75),s=n(31),l=n(34),f=l("IE_PROTO"),d=function(){},p=function(e){return"<script>"+e+"</"+"script>"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=r?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=s("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};c[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=o(e),n=new d,d.prototype=null,n[f]=e):n=h(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(9),o=n(16),i=n(17),a=n(74);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),c=r.length,u=0;c>u;)o.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(38),o=n(22);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(37);e.exports=r("document","documentElement")},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){n(78);var r=n(46);e.exports=r("Array","includes")},function(e,t,n){"use strict";var r=n(43),o=n(39).includes,i=n(44);r({target:"Array",proto:!0,forced:!n(45)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},,,,,function(e,t,n){(function(t){e.exports=function(){"use strict";var e=function(e){return/^image/.test(e.type)};function n(e){this.wrapped=e}function r(e){var r,o;function i(e,n){return new t((function(t,i){var c={key:e,arg:n,resolve:t,reject:i,next:null};o?o=o.next=c:(r=o=c,a(e,n))}))}function a(r,o){try{var i=e[r](o),u=i.value,s=u instanceof n;t.resolve(s?u.wrapped:u).then((function(e){s?a("next",e):c(i.done?"return":"normal",e)}),(function(e){a("throw",e)}))}catch(e){c("throw",e)}}function c(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?a(r.key,r.arg):o=null}this._invoke=i,"function"!=typeof e.return&&(this.return=void 0)}function o(e,t){return i(e)||a(e,t)||c()}function i(e){if(Array.isArray(e))return e}function a(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(e){return this._invoke("next",e)},r.prototype.throw=function(e){return this._invoke("throw",e)},r.prototype.return=function(e){return this._invoke("return",e)};var u=function(e,t){return d(e.x*t,e.y*t)},s=function(e,t){return d(e.x+t.x,e.y+t.y)},l=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?{x:0,y:0}:d(e.x/t,e.y/t)},f=function(e,t,n){var r=Math.cos(t),o=Math.sin(t),i=d(e.x-n.x,e.y-n.y);return d(n.x+r*i.x-o*i.y,n.y+o*i.x+r*i.y)},d=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;return"string"==typeof e?parseFloat(e)*n:"number"==typeof e?e*(r?t[r]:Math.min(t.width,t.height)):void 0},h=function(e,t,n){var r=e.borderStyle||e.lineStyle||"solid",o=e.backgroundColor||e.fontColor||"transparent",i=e.borderColor||e.lineColor||"transparent",a=p(e.borderWidth||e.lineWidth,t,n);return{"stroke-linecap":e.lineCap||"round","stroke-linejoin":e.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof r?"":r.map((function(e){return p(e,t,n)})).join(","),stroke:i,fill:o,opacity:e.opacity||1}},m=function(e){return null!=e},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=p(e.x,t,n,"width")||p(e.left,t,n,"width"),o=p(e.y,t,n,"height")||p(e.top,t,n,"height"),i=p(e.width,t,n,"width"),a=p(e.height,t,n,"height"),c=p(e.right,t,n,"width"),u=p(e.bottom,t,n,"height");return m(o)||(o=m(a)&&m(u)?t.height-a-u:u),m(r)||(r=m(i)&&m(c)?t.width-i-c:c),m(i)||(i=m(r)&&m(c)?t.width-r-c:0),m(a)||(a=m(o)&&m(u)?t.height-o-u:0),{x:r||0,y:o||0,width:i||0,height:a||0}},g=function(e){return e.map((function(e,t){return"".concat(0===t?"M":"L"," ").concat(e.x," ").concat(e.y)})).join(" ")},y=function(e,t){return Object.keys(t).forEach((function(n){return e.setAttribute(n,t[n])}))},E="http://www.w3.org/2000/svg",_=function(e,t){var n=document.createElementNS(E,e);return t&&y(n,t),n},b=function(e){return y(e,Object.assign({},e.rect,e.styles))},I=function(e){var t=e.rect.x+.5*e.rect.width,n=e.rect.y+.5*e.rect.height,r=.5*e.rect.width,o=.5*e.rect.height;return y(e,Object.assign({cx:t,cy:n,rx:r,ry:o},e.styles))},T={contain:"xMidYMid meet",cover:"xMidYMid slice"},O=function(e,t){y(e,Object.assign({},e.rect,e.styles,{preserveAspectRatio:T[t.fit]||"none"}))},R={left:"start",center:"middle",right:"end"},w=function(e,t,n,r){var o=p(t.fontSize,n,r),i=t.fontFamily||"sans-serif",a=t.fontWeight||"normal",c=R[t.textAlign]||"start";y(e,Object.assign({},e.rect,e.styles,{"stroke-width":0,"font-weight":a,"font-size":o,"font-family":i,"text-anchor":c})),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},S=function(e,t,n,r){y(e,Object.assign({},e.rect,e.styles,{fill:"none"}));var o=e.childNodes[0],i=e.childNodes[1],a=e.childNodes[2],c=e.rect,d={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(y(o,{x1:c.x,y1:c.y,x2:d.x,y2:d.y}),t.lineDecoration){i.style.display="none",a.style.display="none";var h=l({x:d.x-c.x,y:d.y-c.y}),m=p(.05,n,r);if(-1!==t.lineDecoration.indexOf("arrow-begin")){var v=u(h,m),g=s(c,v),E=f(c,2,g),_=f(c,-2,g);y(i,{style:"display:block;",d:"M".concat(E.x,",").concat(E.y," L").concat(c.x,",").concat(c.y," L").concat(_.x,",").concat(_.y)})}if(-1!==t.lineDecoration.indexOf("arrow-end")){var b=u(h,-m),I=s(d,b),T=f(d,2,I),O=f(d,-2,I);y(a,{style:"display:block;",d:"M".concat(T.x,",").concat(T.y," L").concat(d.x,",").concat(d.y," L").concat(O.x,",").concat(O.y)})}}},D=function(e,t,n,r){y(e,Object.assign({},e.styles,{fill:"none",d:g(t.points.map((function(e){return{x:p(e.x,n,r,"width"),y:p(e.y,n,r,"height")}})))}))},P=function(e){return function(t){return _(e,{id:t.id})}},A=function(e){var t=_("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=_("line");t.appendChild(n);var r=_("path");t.appendChild(r);var o=_("path");return t.appendChild(o),t},L={image:function(e){var t=_("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=function(){t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},rect:P("rect"),ellipse:P("ellipse"),text:P("text"),path:P("path"),line:A},C={rect:b,ellipse:I,image:O,text:w,path:D,line:S},M=function(e,t){return L[e](t)},N=function(e,t,n,r,o){"path"!==t&&(e.rect=v(n,r,o)),e.styles=h(n,r,o),C[t](e,n,r,o)},x=["x","y","left","top","right","bottom","width","height"],k=function(e){return"string"==typeof e&&/%/.test(e)?parseFloat(e)/100:e},j=function(e){var t=o(e,2),n=t[0],r=t[1],i=r.points?{}:x.reduce((function(e,t){return e[t]=k(r[t]),e}),{});return[n,Object.assign({zIndex:0},r,i)]},G=function(e,t){return e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0},F=function(e){return e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(e){var t=e.root,n=e.props;if(n.dirty){var r=n.crop,i=n.resize,a=n.markup,c=n.width,u=n.height,s=r.width,l=r.height;if(i){var f=i.size,d=f&&f.width,p=f&&f.height,h=i.mode,m=i.upscale;d&&!p&&(p=d),p&&!d&&(d=p);var v=s<d&&l<p;if(!v||v&&m){var g,y=d/s,E=p/l;"force"===h?(s=d,l=p):("cover"===h?g=Math.max(y,E):"contain"===h&&(g=Math.min(y,E)),s*=g,l*=g)}}var _={width:c,height:u};t.element.setAttribute("width",_.width),t.element.setAttribute("height",_.height);var b=Math.min(c/s,u/l);t.element.innerHTML="";var I=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");a.filter(I).map(j).sort(G).forEach((function(e){var n=o(e,2),r=n[0],i=n[1],a=M(r,i);N(a,r,i,_,b),t.element.appendChild(a)}))}}})},U=function(e,t){return{x:e,y:t}},V=function(e,t){return e.x*t.x+e.y*t.y},B=function(e,t){return U(e.x-t.x,e.y-t.y)},q=function(e,t){return V(B(e,t),B(e,t))},H=function(e,t){return Math.sqrt(q(e,t))},W=function(e,t){var n=e,r=1.5707963267948966,o=t,i=1.5707963267948966-t,a=Math.sin(r),c=Math.sin(o),u=Math.sin(i),s=Math.cos(i),l=n/a;return U(s*(l*c),s*(l*u))},Y=function(e,t){var n=e.width,r=e.height,o=W(n,t),i=W(r,t),a=U(e.x+Math.abs(o.x),e.y-Math.abs(o.y)),c=U(e.x+e.width+Math.abs(i.y),e.y+Math.abs(i.x)),u=U(e.x-Math.abs(i.y),e.y+e.height-Math.abs(i.x));return{width:H(a,c),height:H(a,u)}},z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.height/e.width,o=1,i=t,a=1,c=r;c>i&&(a=(c=i)/r);var u=Math.max(o/a,i/c),s=e.width/(n*u*a);return{width:s,height:s*t}},X=function(e,t,n,r){var o=r.x>.5?1-r.x:r.x,i=r.y>.5?1-r.y:r.y,a=2*o*e.width,c=2*i*e.height,u=Y(t,n);return Math.max(u.width/a,u.height/c)},K=function(e,t){var n=e.width,r=n*t;return r>e.height&&(n=(r=e.height)/t),{x:.5*(e.width-n),y:.5*(e.height-r),width:n,height:r}},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.zoom,r=t.rotation,o=t.center,i=t.aspectRatio;i||(i=e.height/e.width);var a=z(e,i,n),c={x:.5*a.width,y:.5*a.height},u={x:0,y:0,width:a.width,height:a.height,center:c},s=void 0===t.scaleToFit||t.scaleToFit,l=n*X(e,K(u,i),r,s?o:{x:.5,y:.5});return{widthFloat:a.width/l,heightFloat:a.height/l,width:Math.round(a.width/l),height:Math.round(a.height/l)}},Z={type:"spring",stiffness:.5,damping:.45,mass:10},J=function(e){return e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(e){var t=e.root,n=e.props;t.appendChild(n.image)}})},$=function(e){return e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Z,originY:Z,scaleX:Z,scaleY:Z,translateX:Z,translateY:Z,rotateZ:Z}},create:function(t){var n=t.root,r=t.props;r.width=r.image.width,r.height=r.image.height,n.ref.bitmap=n.appendChildView(n.createChildView(J(e),{image:r.image}))},write:function(e){var t=e.root,n=e.props.crop.flip,r=t.ref.bitmap;r.scaleX=n.horizontal?-1:1,r.scaleY=n.vertical?-1:1}})},ee=function(e){return e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(e){var t=e.root,n=e.props;n.background&&(t.element.style.backgroundColor=n.background)},create:function(t){var n=t.root,r=t.props;n.ref.image=n.appendChildView(n.createChildView($(e),Object.assign({},r))),n.ref.createMarkup=function(){n.ref.markup||(n.ref.markup=n.appendChildView(n.createChildView(F(e),Object.assign({},r))))},n.ref.destroyMarkup=function(){n.ref.markup&&(n.removeChildView(n.ref.markup),n.ref.markup=null)};var o=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==o&&(n.element.dataset.transparencyIndicator="grid"===o?o:"color")},write:function(e){var t=e.root,n=e.props,r=e.shouldOptimize,o=n.crop,i=n.markup,a=n.resize,c=n.dirty,u=n.width,s=n.height;t.ref.image.crop=o;var l={x:0,y:0,width:u,height:s,center:{x:.5*u,y:.5*s}},f={width:t.ref.image.width,height:t.ref.image.height},d={x:o.center.x*f.width,y:o.center.y*f.height},p={x:l.center.x-f.width*o.center.x,y:l.center.y-f.height*o.center.y},h=2*Math.PI+o.rotation%(2*Math.PI),m=o.aspectRatio||f.height/f.width,v=void 0===o.scaleToFit||o.scaleToFit,g=X(f,K(l,m),h,v?o.center:{x:.5,y:.5}),y=o.zoom*g;i&&i.length?(t.ref.createMarkup(),t.ref.markup.width=u,t.ref.markup.height=s,t.ref.markup.resize=a,t.ref.markup.dirty=c,t.ref.markup.markup=i,t.ref.markup.crop=Q(f,o)):t.ref.markup&&t.ref.destroyMarkup();var E=t.ref.image;if(r)return E.originX=null,E.originY=null,E.translateX=null,E.translateY=null,E.rotateZ=null,E.scaleX=null,void(E.scaleY=null);E.originX=d.x,E.originY=d.y,E.translateX=p.x,E.translateY=p.y,E.rotateZ=h,E.scaleX=y,E.scaleY=y}})},te=function(e){return e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Z,scaleY:Z,translateY:Z,opacity:{type:"tween",duration:400}}},create:function(t){var n=t.root,r=t.props;n.ref.clip=n.appendChildView(n.createChildView(ee(e),{id:r.id,image:r.image,crop:r.crop,markup:r.markup,resize:r.resize,dirty:r.dirty,background:r.background}))},write:function(e){var t=e.root,n=e.props,r=e.shouldOptimize,o=t.ref.clip,i=n.image,a=n.crop,c=n.markup,u=n.resize,s=n.dirty;if(o.crop=a,o.markup=c,o.resize=u,o.dirty=s,o.opacity=r?0:1,!r&&!t.rect.element.hidden){var l=i.height/i.width,f=a.aspectRatio||l,d=t.rect.inner.width,p=t.rect.inner.height,h=t.query("GET_IMAGE_PREVIEW_HEIGHT"),m=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),v=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),g=t.query("GET_PANEL_ASPECT_RATIO"),y=t.query("GET_ALLOW_MULTIPLE");g&&!y&&(h=d*g,f=g);var E=null!==h?h:Math.max(m,Math.min(d*f,v)),_=E/f;_>d&&(E=(_=d)*f),E>p&&(E=p,_=p/f),o.width=_,o.height=E}}})},ne='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',re=!1,oe=0,ie=function(e){return e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(e){var t=e.root,n=e.props;!re&&document.querySelector("base")&&(ne=ne.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#"),re=!0),oe++,t.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),t.element.innerHTML=ne.replace(/__UID__/g,oe)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},ae=function(){self.onmessage=function(e){createImageBitmap(e.data.message.file).then((function(t){self.postMessage({id:e.data.id,message:t},[t])}))}},ce=function(){self.onmessage=function(e){for(var t=e.data.message.imageData,n=e.data.message.colorMatrix,r=t.data,o=r.length,i=n[0],a=n[1],c=n[2],u=n[3],s=n[4],l=n[5],f=n[6],d=n[7],p=n[8],h=n[9],m=n[10],v=n[11],g=n[12],y=n[13],E=n[14],_=n[15],b=n[16],I=n[17],T=n[18],O=n[19],R=0,w=0,S=0,D=0,P=0;R<o;R+=4)w=r[R]/255,S=r[R+1]/255,D=r[R+2]/255,P=r[R+3]/255,r[R]=Math.max(0,Math.min(255*(w*i+S*a+D*c+P*u+s),255)),r[R+1]=Math.max(0,Math.min(255*(w*l+S*f+D*d+P*p+h),255)),r[R+2]=Math.max(0,Math.min(255*(w*m+S*v+D*g+P*y+E),255)),r[R+3]=Math.max(0,Math.min(255*(w*_+S*b+D*I+P*T+O),255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},ue=function(e,t){var n=new Image;n.onload=function(){var e=n.naturalWidth,r=n.naturalHeight;n=null,t(e,r)},n.src=e},se={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,t){return[-1,0,0,-1,e,t]},4:function(e,t){return[1,0,0,-1,0,t]},5:function(){return[0,1,1,0,0,0]},6:function(e,t){return[0,1,-1,0,t,0]},7:function(e,t){return[0,-1,-1,0,t,e]},8:function(e){return[0,-1,1,0,0,e]}},le=function(e,t,n,r){-1!==r&&e.transform.apply(e,se[r](t,n))},fe=function(e,t,n,r){t=Math.round(t),n=Math.round(n);var o=document.createElement("canvas");o.width=t,o.height=n;var i=o.getContext("2d");if(r>=5&&r<=8){var a=[n,t];t=a[0],n=a[1]}return le(i,t,n,r),i.drawImage(e,0,0,t,n),o},de=function(e){return/^image/.test(e.type)&&!/svg/.test(e.type)},pe=10,he=10,me=function(e){var t=Math.min(pe/e.width,he/e.height),n=document.createElement("canvas"),r=n.getContext("2d"),o=n.width=Math.ceil(e.width*t),i=n.height=Math.ceil(e.height*t);r.drawImage(e,0,0,o,i);var a=null;try{a=r.getImageData(0,0,o,i).data}catch(e){return null}for(var c=a.length,u=0,s=0,l=0,f=0;f<c;f+=4)u+=a[f]*a[f],s+=a[f+1]*a[f+1],l+=a[f+2]*a[f+2];return{r:u=ve(u,c),g:s=ve(s,c),b:l=ve(l,c)}},ve=function(e,t){return Math.floor(Math.sqrt(e/(t/4)))},ge=function(e,t){return(t=t||document.createElement("canvas")).width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},ye=function(e){var t;try{t=new ImageData(e.width,e.height)}catch(n){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},Ee=function(e){return new t((function(t,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.src=e}))},_e=function(e){var n=ie(e),r=te(e),o=e.utils.createWorker,i=function(e,n,r){return new t((function(t){e.ref.imageData||(e.ref.imageData=r.getContext("2d").getImageData(0,0,r.width,r.height));var i=ye(e.ref.imageData);if(!n||20!==n.length)return r.getContext("2d").putImageData(i,0,0),t();var a=o(ce);a.post({imageData:i,colorMatrix:n},(function(e){r.getContext("2d").putImageData(e,0,0),a.terminate(),t()}),[i.data.buffer])}))},a=function(e,t){e.removeChildView(t),t.image.width=1,t.image.height=1,t._destroy()},c=function(e){var t=e.root,n=t.ref.images.shift();return n.opacity=0,n.translateY=-15,t.ref.imageViewBin.push(n),n},u=function(e){var t=e.root,n=e.props,o=e.image,i=n.id,a=t.query("GET_ITEM",{id:i});if(a){var c,u,s=a.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},l=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),f=!1;t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(c=a.getMetadata("markup")||[],u=a.getMetadata("resize"),f=!0);var d=t.appendChildView(t.createChildView(r,{id:i,image:o,crop:s,resize:u,markup:c,dirty:f,background:l,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),t.childViews.length);t.ref.images.push(d),d.opacity=1,d.scaleX=1,d.scaleY=1,d.translateY=0,setTimeout((function(){t.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:i})}),250)}},s=function(e){var t=e.root,n=e.props,r=t.query("GET_ITEM",{id:n.id});if(r){var o=t.ref.images[t.ref.images.length-1];o.crop=r.getMetadata("crop"),o.background=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(o.dirty=!0,o.resize=r.getMetadata("resize"),o.markup=r.getMetadata("markup"))}},l=function(e){var t=e.root,n=e.props,r=e.action;if(/crop|filter|markup|resize/.test(r.change.key)&&t.ref.images.length){var o=t.query("GET_ITEM",{id:n.id});if(o)if(/filter/.test(r.change.key)){var a=t.ref.images[t.ref.images.length-1];i(t,r.change.value,a.image)}else if(/crop|markup|resize/.test(r.change.key)){var l=o.getMetadata("crop"),f=t.ref.images[t.ref.images.length-1];if(Math.abs(l.aspectRatio-f.crop.aspectRatio)>1e-5){var d=c({root:t});u({root:t,props:n,image:ge(d.image)})}else s({root:t,props:n})}}},f=function(e){var t=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return!((t?parseInt(t[1]):null)<=58)&&"createImageBitmap"in window&&de(e)},d=function(e){var t=e.root,n=e.props.id,r=t.query("GET_ITEM",n);if(r){var o=URL.createObjectURL(r.file);ue(o,(function(e,r){t.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:n,width:e,height:r})}))}},p=function(e){var t=e.root,n=e.props,r=n.id,a=t.query("GET_ITEM",r);if(a){var c=URL.createObjectURL(a.file),s=function(){Ee(c).then(l)},l=function(e){URL.revokeObjectURL(c);var r=(a.getMetadata("exif")||{}).orientation||-1,o=e.width,s=e.height;if(o&&s){if(r>=5&&r<=8){var l=[s,o];o=l[0],s=l[1]}var f=Math.max(1,.75*window.devicePixelRatio),d=t.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*f,p=s/o,h=t.rect.element.width,m=t.rect.element.height,v=h,g=v*p;p>1?g=(v=Math.min(o,h*d))*p:v=(g=Math.min(s,m*d))/p;var y=fe(e,v,g,r),E=function(){var r=t.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?me(data):null;a.setMetadata("color",r,!0),"close"in e&&e.close(),t.ref.overlayShadow.opacity=1,u({root:t,props:n,image:y})},_=a.getMetadata("filter");_?i(t,_,y).then(E):E()}};if(f(a.file)){var d=o(ae);d.post({file:a.file},(function(e){d.terminate(),e?l(e):s()}))}else s()}},h=function(e){var t=e.root,n=t.ref.images[t.ref.images.length-1];n.translateY=0,n.scaleX=1,n.scaleY=1,n.opacity=1},m=function(e){var t=e.root;t.ref.overlayShadow.opacity=1,t.ref.overlayError.opacity=0,t.ref.overlaySuccess.opacity=0},v=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlayError.opacity=1},g=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlaySuccess.opacity=1},y=function(e){var t=e.root;t.ref.images=[],t.ref.imageData=null,t.ref.imageViewBin=[],t.ref.overlayShadow=t.appendChildView(t.createChildView(n,{opacity:0,status:"idle"})),t.ref.overlaySuccess=t.appendChildView(t.createChildView(n,{opacity:0,status:"success"})),t.ref.overlayError=t.appendChildView(t.createChildView(n,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:y,styles:["height"],apis:["height"],destroy:function(e){e.root.ref.images.forEach((function(e){e.image.width=1,e.image.height=1}))},didWriteView:function(e){e.root.ref.images.forEach((function(e){e.dirty=!1}))},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:h,DID_IMAGE_PREVIEW_CONTAINER_CREATE:d,DID_FINISH_CALCULATE_PREVIEWSIZE:p,DID_UPDATE_ITEM_METADATA:l,DID_THROW_ITEM_LOAD_ERROR:v,DID_THROW_ITEM_PROCESSING_ERROR:v,DID_THROW_ITEM_INVALID:v,DID_COMPLETE_ITEM_PROCESSING:g,DID_START_ITEM_PROCESSING:m,DID_REVERT_ITEM_PROCESSING:m},(function(e){var t=e.root,n=t.ref.imageViewBin.filter((function(e){return 0===e.opacity}));t.ref.imageViewBin=t.ref.imageViewBin.filter((function(e){return e.opacity>0})),n.forEach((function(e){return a(t,e)})),n.length=0}))})},be=function(t){var n=t.addFilter,r=t.utils,o=r.Type,i=r.createRoute,a=r.isFile,c=_e(t);return n("CREATE_VIEW",(function(t){var n=t.is,r=t.view,o=t.query;if(n("file")&&o("GET_ALLOW_IMAGE_PREVIEW")){var u=function(t){var n=t.root,i=t.props.id,u=o("GET_ITEM",i);if(u&&a(u.file)&&!u.archived){var s=u.file;if(e(s)&&o("GET_IMAGE_PREVIEW_FILTER_ITEM")(u)){var l="createImageBitmap"in(window||{}),f=o("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!l&&f&&s.size>f)){n.ref.imagePreview=r.appendChildView(r.createChildView(c,{id:i}));var d=n.query("GET_IMAGE_PREVIEW_HEIGHT");d&&n.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:u.id,height:d});var p=!l&&s.size>o("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");n.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:i},p)}}}},s=function(e,t){if(e.ref.imagePreview){var n=t.id,r=e.query("GET_ITEM",{id:n});if(r){var o=e.query("GET_PANEL_ASPECT_RATIO"),i=e.query("GET_ITEM_PANEL_ASPECT_RATIO"),a=e.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(o||i||a)){var c=e.ref,u=c.imageWidth,s=c.imageHeight;if(u&&s){var l=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),f=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),d=(r.getMetadata("exif")||{}).orientation||-1;if(d>=5&&d<=8){var p=[s,u];u=p[0],s=p[1]}if(!de(r.file)||e.query("GET_IMAGE_PREVIEW_UPSCALE")){var h=2048/u;u*=h,s*=h}var m=s/u,v=(r.getMetadata("crop")||{}).aspectRatio||m,g=Math.max(l,Math.min(s,f)),y=e.rect.element.width,E=Math.min(y*v,g);e.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:r.id,height:E})}}}}},l=function(e){e.root.ref.shouldRescale=!0},f=function(e){var t=e.root;"crop"===e.action.change.key&&(t.ref.shouldRescale=!0)},d=function(e){var t=e.root,n=e.action;t.ref.imageWidth=n.width,t.ref.imageHeight=n.height,t.ref.shouldRescale=!0,t.ref.shouldDrawPreview=!0,t.dispatch("KICK")};r.registerWriter(i({DID_RESIZE_ROOT:l,DID_STOP_RESIZE:l,DID_LOAD_ITEM:u,DID_IMAGE_PREVIEW_CALCULATE_SIZE:d,DID_UPDATE_ITEM_METADATA:f},(function(e){var t=e.root,n=e.props;t.ref.imagePreview&&(t.rect.element.hidden||(t.ref.shouldRescale&&(s(t,n),t.ref.shouldRescale=!1),t.ref.shouldDrawPreview&&(requestAnimationFrame((function(){t.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})})),t.ref.shouldDrawPreview=!1)))})))}})),{options:{allowImagePreview:[!0,o.BOOLEAN],imagePreviewFilterItem:[function(){return!0},o.FUNCTION],imagePreviewHeight:[null,o.INT],imagePreviewMinHeight:[44,o.INT],imagePreviewMaxHeight:[256,o.INT],imagePreviewMaxFileSize:[null,o.INT],imagePreviewZoomFactor:[2,o.INT],imagePreviewUpscale:[!1,o.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,o.INT],imagePreviewTransparencyIndicator:[null,o.STRING],imagePreviewCalculateAverageImageColor:[!1,o.BOOLEAN],imagePreviewMarkupShow:[!0,o.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},o.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:be})),be}()}).call(this,n(11))},function(e,t,n){(function(t){e.exports=function(){"use strict";var e=function(e){var n=e.addFilter,r=e.utils,o=r.Type,i=r.isString,a=r.replaceInString,c=r.guesstimateMimeType,u=r.getExtensionFromFilename,s=r.getFilenameFromURL,l=function(e,t){return(/^[^/]+/.exec(e)||[]).pop()===t.slice(0,-2)},f=function(e,t){return e.some((function(e){return/\*$/.test(e)?l(t,e):e===t}))},d=function(e){var t="";if(i(e)){var n=s(e),r=u(n);r&&(t=c(r))}else t=e.type;return t},p=function(e,n,r){if(0===n.length)return!0;var o=d(e);return r?new t((function(t,i){r(e,o).then((function(e){f(n,e)?t():i()})).catch(i)})):f(n,o)},h=function(e){return function(t){return null!==e[t]&&(e[t]||t)}};return n("SET_ATTRIBUTE_TO_OPTION_MAP",(function(e){return Object.assign(e,{accept:"acceptedFileTypes"})})),n("ALLOW_HOPPER_ITEM",(function(e,t){var n=t.query;return!n("GET_ALLOW_FILE_TYPE_VALIDATION")||p(e,n("GET_ACCEPTED_FILE_TYPES"))})),n("LOAD_FILE",(function(e,n){var r=n.query;return new t((function(t,n){if(r("GET_ALLOW_FILE_TYPE_VALIDATION")){var o=r("GET_ACCEPTED_FILE_TYPES"),i=r("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),c=p(e,o,i),u=function(){var e=o.map(h(r("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter((function(e){return!1!==e}));n({status:{main:r("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:a(r("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:e.join(", "),allButLastType:e.slice(0,-1).join(", "),lastType:e[e.length-1]})}})};if("boolean"==typeof c)return c?t(e):u();c.then((function(){t(e)})).catch(u)}else t(e)}))})),{options:{allowFileTypeValidation:[!0,o.BOOLEAN],acceptedFileTypes:[[],o.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",o.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",o.STRING],fileValidateTypeLabelExpectedTypesMap:[{},o.OBJECT],fileValidateTypeDetectType:[null,o.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()}).call(this,n(11))},function(e,t,n){(function(t){e.exports=function(){"use strict";var e=function(e){var n=e.addFilter,r=e.utils,o=r.Type,i=r.replaceInString,a=r.toNaturalFileSize;return n("ALLOW_HOPPER_ITEM",(function(e,t){var n=t.query;if(!n("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;var r=n("GET_MAX_FILE_SIZE");if(null!==r&&e.size>=r)return!1;var o=n("GET_MIN_FILE_SIZE");return!(null!==o&&e.size<=o)})),n("LOAD_FILE",(function(e,n){var r=n.query;return new t((function(t,n){if(!r("GET_ALLOW_FILE_SIZE_VALIDATION"))return t(e);var o=r("GET_FILE_VALIDATE_SIZE_FILTER");if(o&&!o(e))return t(e);var c=r("GET_MAX_FILE_SIZE");if(null!==c&&e.size>=c)n({status:{main:r("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:i(r("GET_LABEL_MAX_FILE_SIZE"),{filesize:a(c)})}});else{var u=r("GET_MIN_FILE_SIZE");if(null!==u&&e.size<=u)n({status:{main:r("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:i(r("GET_LABEL_MIN_FILE_SIZE"),{filesize:a(u)})}});else{var s=r("GET_MAX_TOTAL_FILE_SIZE");if(null!==s&&r("GET_ACTIVE_ITEMS").reduce((function(e,t){return e+t.fileSize}),0)>s)return void n({status:{main:r("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:i(r("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:a(s)})}});t(e)}}}))})),{options:{allowFileSizeValidation:[!0,o.BOOLEAN],maxFileSize:[null,o.INT],minFileSize:[null,o.INT],maxTotalFileSize:[null,o.INT],fileValidateSizeFilter:[null,o.FUNCTION],labelMinFileSizeExceeded:["File is too small",o.STRING],labelMinFileSize:["Minimum file size is {filesize}",o.STRING],labelMaxFileSizeExceeded:["File is too large",o.STRING],labelMaxFileSize:["Maximum file size is {filesize}",o.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",o.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",o.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()}).call(this,n(11))},function(e,t,n){(function(t){e.exports=function(){"use strict";var e={type:"spring",stiffness:.5,damping:.45,mass:10},n=function(t){return t.utils.createView({name:"file-poster",tag:"div",ignoreRect:!0,create:function(e){var t=e.root;t.ref.image=document.createElement("img"),t.element.appendChild(t.ref.image)},write:t.utils.createRoute({DID_FILE_POSTER_LOAD:function(e){var t=e.root,n=e.props,r=n.id,o=t.query("GET_ITEM",{id:n.id});if(o){var i=o.getMetadata("poster");t.ref.image.src=i,t.dispatch("DID_FILE_POSTER_DRAW",{id:r})}}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:e,scaleY:e,opacity:{type:"tween",duration:750}}}})},r=function(e,t){t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0)},o=function(e){return e.utils.createView({name:"file-poster-overlay",tag:"canvas",ignoreRect:!0,create:function(e){var t=e.root,n=e.props;r(n.template,t.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},i=function(e,t){var n=new Image;n.onload=function(){var e=n.naturalWidth,r=n.naturalHeight;n=null,t(e,r)},n.src=e},a=function(e){return-.5*(Math.cos(Math.PI*e)-1)},c=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=1-i,u=t.join(","),s=0;s<=o;s++){var l=s/o,f=i+c*l;e.addColorStop(f,"rgba(".concat(u,", ").concat(r(l)*n,")"))}},u=10,s=10,l=function(e){var t=Math.min(u/e.width,s/e.height),n=document.createElement("canvas"),r=n.getContext("2d"),o=n.width=Math.ceil(e.width*t),i=n.height=Math.ceil(e.height*t);r.drawImage(e,0,0,o,i);var a=null;try{a=r.getImageData(0,0,o,i).data}catch(e){return null}for(var c=a.length,l=0,d=0,p=0,h=0;h<c;h+=4)l+=a[h]*a[h],d+=a[h+1]*a[h+1],p+=a[h+2]*a[h+2];return{r:l=f(l,c),g:d=f(d,c),b:p=f(p,c)}},f=function(e,t){return Math.floor(Math.sqrt(e/(t/4)))},d=function(e,t,n,r,o){e.width=t,e.height=n;var i=e.getContext("2d"),a=.5*t,u=i.createRadialGradient(a,n+110,n-100,a,n+110,n+100);c(u,r,o,void 0,8,.4),i.save(),i.translate(.5*-t,0),i.scale(2,1),i.fillStyle=u,i.fillRect(0,0,t,n),i.restore()},p="undefined"!=typeof navigator,h=500,m=200,v=p&&document.createElement("canvas"),g=p&&document.createElement("canvas"),y=p&&document.createElement("canvas");p&&(d(v,h,m,[40,40,40],.85),d(g,h,m,[196,78,71],1),d(y,h,m,[54,151,99],1));var E=function(e,n){return new t((function(t,r){var o=new Image;"string"==typeof crossOrigin&&(o.crossOrigin=n),o.onload=function(){t(o)},o.onerror=function(e){r(e)},o.src=e}))},_=function(e){var t=o(e),r=function(e){var t=e.root,n=e.props.id,r=t.query("GET_ITEM",n);if(r){var o=r.getMetadata("poster"),a=function(e){var o=t.query("GET_FILE_POSTER_CALCULATE_AVERAGE_IMAGE_COLOR")?l(e):null;r.setMetadata("color",o,!0),t.dispatch("DID_FILE_POSTER_LOAD",{id:n,data:e})};i(o,(function(e,r){t.dispatch("DID_FILE_POSTER_CALCULATE_SIZE",{id:n,width:e,height:r}),E(o,t.query("GET_FILE_POSTER_CROSS_ORIGIN_ATTRIBUTE_VALUE")).then(a)}))}},a=function(e){e.root.ref.overlayShadow.opacity=1},c=function(e){var t=e.root.ref.image;t.scaleX=1,t.scaleY=1,t.opacity=1},u=function(e){var t=e.root;t.ref.overlayShadow.opacity=1,t.ref.overlayError.opacity=0,t.ref.overlaySuccess.opacity=0},s=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlayError.opacity=1},f=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlaySuccess.opacity=1},d=function(r){var o=r.root,i=r.props,a=n(e);o.ref.image=o.appendChildView(o.createChildView(a,{id:i.id,scaleX:1.25,scaleY:1.25,opacity:0})),o.ref.overlayShadow=o.appendChildView(o.createChildView(t,{template:v,opacity:0})),o.ref.overlaySuccess=o.appendChildView(o.createChildView(t,{template:y,opacity:0})),o.ref.overlayError=o.appendChildView(o.createChildView(t,{template:g,opacity:0}))};return e.utils.createView({name:"file-poster-wrapper",create:d,write:e.utils.createRoute({DID_FILE_POSTER_LOAD:a,DID_FILE_POSTER_DRAW:c,DID_FILE_POSTER_CONTAINER_CREATE:r,DID_THROW_ITEM_LOAD_ERROR:s,DID_THROW_ITEM_PROCESSING_ERROR:s,DID_THROW_ITEM_INVALID:s,DID_COMPLETE_ITEM_PROCESSING:f,DID_START_ITEM_PROCESSING:u,DID_REVERT_ITEM_PROCESSING:u})})},b=function(e){var t=e.addFilter,n=e.utils,r=n.Type,o=n.createRoute,i=_(e);return t("CREATE_VIEW",(function(e){var t=e.is,n=e.view,r=e.query;if(t("file")&&r("GET_ALLOW_FILE_POSTER")){var a=function(e){var t=e.root,n=e.props;u(t,n)},c=function(e){var t=e.root,n=e.props,r=e.action;/poster/.test(r.change.key)&&u(t,n)},u=function(e,t){var o=t.id,a=r("GET_ITEM",o);a&&a.getMetadata("poster")&&!a.archived&&r("GET_FILE_POSTER_FILTER_ITEM")(a)&&(e.ref.filePoster&&n.removeChildView(e.ref.filePoster),e.ref.filePoster=n.appendChildView(n.createChildView(i,{id:o})),e.dispatch("DID_FILE_POSTER_CONTAINER_CREATE",{id:o}))},s=function(e){var t=e.root,n=e.action;t.ref.filePoster&&(t.ref.imageWidth=n.width,t.ref.imageHeight=n.height,t.ref.shouldUpdatePanelHeight=!0,t.dispatch("KICK"))},l=function(e){var t=e.root,n=t.query("GET_FILE_POSTER_HEIGHT");if(n)return n;var r=t.query("GET_FILE_POSTER_MIN_HEIGHT"),o=t.query("GET_FILE_POSTER_MAX_HEIGHT");if(r&&t.ref.imageHeight<r)return r;var i=t.rect.element.width*(t.ref.imageHeight/t.ref.imageWidth);return r&&i<r?r:o&&i>o?o:i};n.registerWriter(o({DID_LOAD_ITEM:a,DID_FILE_POSTER_CALCULATE_SIZE:s,DID_UPDATE_ITEM_METADATA:c},(function(e){var t=e.root,n=e.props;t.ref.filePoster&&(t.rect.element.hidden||t.ref.shouldUpdatePanelHeight&&(t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:n.id,height:l({root:t})}),t.ref.shouldUpdatePanelHeight=!1))})))}})),{options:{allowFilePoster:[!0,r.BOOLEAN],filePosterHeight:[null,r.INT],filePosterMinHeight:[null,r.INT],filePosterMaxHeight:[null,r.INT],filePosterFilterItem:[function(){return!0},r.FUNCTION],filePosterCalculateAverageImageColor:[!1,r.BOOLEAN],filePosterCrossOriginAttributeValue:["Anonymous",r.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:b})),b}()}).call(this,n(11))},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return IdeasDetails}));var _component_index_jsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_poll_index_jsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(100),_reactions_index_jsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(99),_vote_button_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(115),_image_index_jsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var IdeasDetails=function(_OpenStadComponent){_inherits(IdeasDetails,_OpenStadComponent);var _super=_createSuper(IdeasDetails);function IdeasDetails(e){var t;return _classCallCheck(this,IdeasDetails),(t=_super.call(this,e,{siteId:null,ideaId:null,idea:{showVoteButtons:!0,showLabels:!1,allowMultipleImages:!1,shareChannelsSelection:["facebook","twitter","mail","whatsapp"],metaDataTemplate:null},argument:{isActive:!0,formIntro:"Mijn reactie op deze inzending is ...",ignoreReactionsForIdeaIds:"",closeReactionsForIdeaIds:""},poll:{canAddPolls:!1},labels:{},types:null,typeField:"typeId",typeLabel:"Thema"})).state={idea:t.props.idea,ideaId:e.idea&&e.idea.id||t.config.ideaId,showPollForm:!1},t}return _createClass(IdeasDetails,[{key:"componentDidMount",value:function(e,t){var n=this;n.reactionAddedListener=function(e){n.onReactionStored(e.detail,!0)},document.addEventListener("osc-new-reaction-stored",n.reactionAddedListener),n.reactionEditedListener=function(e){n.onReactionStored(e.detail)},document.addEventListener("osc-reaction-edited",n.reactionEditedListener),n.reactionDeletedListener=function(e){n.onReactionDeleted(e.detail)},document.addEventListener("osc-reaction-deleted",n.reactionDeletedListener),n.pollCreatedListener=function(e){n.onPollCreated(e.detail)},document.addEventListener("osc-new-poll-stored",n.pollCreatedListener),n.pollDeletedListener=function(e){n.onPollDeleted(e.detail)},document.addEventListener("osc-poll-deleted",n.pollDeletedListener),n.fetchData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.reactionAddedListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener),document.removeEventListener("osc-reaction-deleted",this.reactionDeletedListener),document.removeEventListener("osc-new-poll-stored",this.pollCreatedListener),document.removeEventListener("osc-poll-deleted",this.pollDeletedListener)}},{key:"dispatchEditIdeaButtonClick",value:function(e){if(e.stopPropagation(),this.config.editIdeaLink)document.location.href=this.config.editIdeaLink;else{var t=new window.CustomEvent("osc-edit-idea-button-click",{detail:this.state.idea});document.dispatchEvent(t)}}},{key:"showPollForm",value:function(){this.setState({showPollForm:!0})}},{key:"hidePollForm",value:function(){this.setState({showPollForm:!1})}},{key:"dispatchAddPollClick",value:function(e){e.stopPropagation(),this.showPollForm()}},{key:"onReactionStored",value:function(e,t){t&&this.state.idea.argCount++,this.setState({idea:this.state.idea})}},{key:"onReactionDeleted",value:function(e){this.state.idea.argCount--,this.setState({idea:this.state.idea})}},{key:"onPollCreated",value:function(){this.hidePollForm(),this.fetchData()}},{key:"onPollDeleted",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=e.state.ideaId||this.state.idea&&this.state.idea.id;if(t){var n="".concat(e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(t,"?includeVoteCount=1&includeArguments=1&includeArgsCount=1&includeUser=1&includeUserVote=1");e.config.poll.canAddPolls&&(n+="&includePoll=1");var r=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.api.getHeaders(e.config);fetch(n,{headers:r}).then((function(e){if(!e.ok)throw Error("Error fechting detail");return e.json()})).then((function(t){var n=t;e.setState({idea:n},(function(){_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.localStorage.get("osc-reactions-login-pending")&&(window.location.hash="#reactions",_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.localStorage.set("osc-reactions-login-pending",!1))}))})).catch((function(e){console.log("Niet goed"),console.log(e)}))}}},{key:"deleteIdea",value:function(){var e=this,t=this;if(t.config.user&&t.config.user.role&&"admin"==t.config.user.role&&(this.state.idea||this.state.idea.id)){var n="".concat(t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(this.state.idea.id),r=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.api.getHeaders(t.config),o=this.state.idea.id;fetch(n,{method:"DELETE",headers:r}).then((function(e){if(!e.ok)throw Error("Error deleting idea");return e.json()})).then((function(t){if(e.config.afterDeleteIdeaLink)document.location.href=e.config.afterDeleteIdeaLink;else{var n=new window.CustomEvent("osc-idea-deleted",{detail:{ideaId:o}});document.dispatchEvent(n)}})).catch((function(e){console.log("Niet goed"),console.log(e)}))}}},{key:"render",value:function render(){var self=this,idea=self.state.idea;if(!idea)return null;var labelHTML=null;if(self.config.idea.showLabels){var typeId=eval("idea.".concat(self.config.typeField)),typeDef=self.config.types&&self.config.types.find((function(e){return e.id==typeId||e.value==typeId}));if(typeDef){var labelText=typeDef.label,backgroundColor=typeDef.backgroundColor,textColor=typeDef.textColor;labelHTML=React.createElement("div",{className:"osc-idea-label",style:{color:textColor,backgroundColor:backgroundColor}},labelText)}}var pollHTML=null,addPollButtonHTML=null;self.config.poll.canAddPolls&&(idea.poll||self.state.showPollForm?pollHTML=React.createElement("div",null,React.createElement("div",{id:"poll",className:"osc-poll-header"},React.createElement("h3",null,self.config.poll.title||"Poll")),React.createElement(_poll_index_jsx__WEBPACK_IMPORTED_MODULE_2__.default,{config:_objectSpread(_objectSpread(_objectSpread({},self.config),self.config.poll),{},{ideaId:self.state.ideaId}),poll:idea.poll})):idea.can&&idea.can.edit&&(addPollButtonHTML=React.createElement("div",{className:"osc-editbuttons-container"},React.createElement("button",{className:"osc-idea-details-editbutton osc-edit",onClick:function(e){return self.dispatchAddPollClick(e)}},"Poll toevoegen"))));var voteButtonsHTML=null;self.config.idea.showVoteButtons&&(voteButtonsHTML=React.createElement("div",{className:"osc-details-vote-buttons-container"},React.createElement("h3",null,"Likes"),React.createElement(_vote_button_jsx__WEBPACK_IMPORTED_MODULE_4__.a,{config:{text:"eens",opinion:"yes",api:this.config.api,user:this.config.user,siteId:this.config.siteId},idea:this.state.idea,name:"likebutton",value:idea.yes})));var editButtonsHTML=null;idea.can&&idea.can.edit&&(editButtonsHTML=React.createElement("div",{className:"osc-editbuttons-container"},React.createElement("button",{className:"osc-idea-details-editbutton osc-edit",onClick:function(e){return self.dispatchEditIdeaButtonClick(e)}},"Bewerk idee"),React.createElement("button",{className:"osc-idea-details-editbutton osc-delete",onClick:function(e){confirm("Weet je het zeker")&&self.deleteIdea(e)}},"Verwijder idee")));var modBreakHTML=null;idea&&idea.modBreak&&(modBreakHTML=React.createElement("div",{className:"osc-modbreak"},idea.modBreakDateHumanized,React.createElement("br",null),React.createElement("br",null),idea.modBreak));var reactionsCountHTML=null;self.config.argument.isActive&&(reactionsCountHTML=React.createElement("div",null,React.createElement("h3",null,"Reacties"),React.createElement("a",{href:"#reactions",className:"osc-no-of-reactions"},idea.argCount||0," reacties")));var reactionsHTML=null;if(self.config.argument.isActive){var config=_objectSpread({},self.config);config.argument.isActive=this.config.argument.isActive&&!this.config.argument.ignoreReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)"))),config.argument.isClosed=this.config.argument.isClosed||this.config.argument.closeReactionsForIdeaIds.match(new RegExp("(?:^|\\D)".concat(idea.id,"(?:\\D|$)"))),reactionsHTML=React.createElement("div",null,React.createElement("div",{id:"reactions",className:"osc-reactions-header"},React.createElement("h3",null,self.config.argument.title||"Reacties")),React.createElement(_reactions_index_jsx__WEBPACK_IMPORTED_MODULE_3__.default,{config:_objectSpread(_objectSpread({},self.config.argument),{},{title:void 0,api:self.config.api,user:self.config.user,siteId:self.config.siteId,ideaId:idea.id,loginUrl:self.config.loginUrl})}))}var shareButtonsHTML=null;if(self.config.idea.shareChannelsSelection.length){var facebookButtonHTML=self.config.idea.shareChannelsSelection.includes("facebook")?React.createElement("li",null,React.createElement("a",{className:"osc-share-facebook",target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(document.location.href)},"Facebook")):null,twitterButtonHTML=self.config.idea.shareChannelsSelection.includes("twitter")?React.createElement("li",null,React.createElement("a",{className:"osc-share-twitter",target:"_blank",href:"https://twitter.com/intent/tweet?text="+encodeURIComponent(document.location.href)},"Twitter")):null,mailButtonHTML=self.config.idea.shareChannelsSelection.includes("mail")?React.createElement("li",null,React.createElement("a",{className:"osc-share-email",target:"_blank",href:"mailto:?subject="+encodeURIComponent(eval("idea.".concat(self.config.titleField)))+"&body="+encodeURIComponent(document.location.href)},"Email")):null,whatsappButtonHTML=self.config.idea.shareChannelsSelection.includes("whatsapp")?React.createElement("li",null,React.createElement("a",{className:"osc-share-whatsapp",target:"_blank",href:"https://wa.me/?text="+encodeURIComponent(document.location.href)},"WhatsApp")):null;shareButtonsHTML=React.createElement("div",{className:"osc-details-sharebuttons"},React.createElement("ul",null,facebookButtonHTML,twitterButtonHTML,mailButtonHTML,whatsappButtonHTML))}var authorHTML=idea.user.nickName||idea.user.fullName||idea.user.firstName+" "+idea.user.lastName;this.config.linkToUserPageUrl&&(authorHTML=React.createElement("a",{href:this.config.linkToUserPageUrl+"/"+idea.user.id,className:"osc-author-link"},authorHTML));var metaDataHTML=self.config.idea.metaDataTemplate;return metaDataHTML&&(metaDataHTML=metaDataHTML.replace(/\{createDate\}/,idea.createDateHumanized),metaDataHTML=metaDataHTML.replace(/\{theme\}/,idea.extraData.theme),metaDataHTML=_libs_index_jsx__WEBPACK_IMPORTED_MODULE_1__.a.reactTemplate({html:metaDataHTML,username:authorHTML})),React.createElement("div",{id:self.id,className:self.props.className||"osc-info-block-idea-details",ref:function(e){return self.instance=e}},React.createElement("div",{className:"osc-spacer"}),React.createElement("div",{className:"osc-idea-details-container"},React.createElement("div",{className:"osc-idea-details"},React.createElement("h2",null,eval("idea.".concat(self.config.titleField))),React.createElement("div",{className:"osc-details-image-and-stats"},React.createElement("div",{className:"osc-idea-image-container"},React.createElement(_image_index_jsx__WEBPACK_IMPORTED_MODULE_5__.IdeaImage,{config:{allowMultipleImages:self.config.idea.allowMultipleImages},idea:idea})),labelHTML,shareButtonsHTML,React.createElement("div",{className:"osc-details-stats"},voteButtonsHTML,reactionsCountHTML,editButtonsHTML)),React.createElement("p",{className:""},metaDataHTML),modBreakHTML,React.createElement("p",{className:"osc-details-summary"},idea.summary),React.createElement("p",{className:"osc-details-description",dangerouslySetInnerHTML:{__html:idea.description}}),addPollButtonHTML),pollHTML,reactionsHTML,React.createElement("div",{className:"osc-bottom-spacer"})))}}]),IdeasDetails}(_component_index_jsx__WEBPACK_IMPORTED_MODULE_0__.a)},,,,,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k})),n.d(t,"Reactions",(function(){return k}));n(14);var r=n(0),o=n.n(r),i=n(6),a=n.n(i),c=(n(122),n(1)),u=n(2),s=n(5);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,o=p(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e,{argumentId:null,api:{url:null,headers:null},user:{},descriptionMinLength:30,descriptionMaxLength:500,requiredUserRole:"member",formIntro:"",placeholder:""})).config.loginUrl=t.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),t.state={description:t.config.description||"",isValid:!1,isBusy:!1},t}return t=i,(n=[{key:"handleOnChange",value:function(e){(e=e||{}).description&&(e.isValid=this.description.isValid()),this.setState(e)}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.props.user||{};return u.a.user.hasRole(t,e)}},{key:"submitForm",value:function(){var e=this;e.setState({isBusy:!0},(function(){if(e.description.validate({showWarning:!0})){if(!e.canSubmit())return alert("Je bent niet ingelogd");var t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/argument").concat(e.config.argumentId?"/".concat(e.config.argumentId):""),n=u.a.api.getHeaders(e.config),r=e.config.argumentId?"PUT":"POST",o={parentId:e.config.parentId,sentiment:e.config.sentiment,description:e.state.description};fetch(t,{method:r,headers:n,body:JSON.stringify(o)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){"function"==typeof e.config.onSubmit&&e.config.onSubmit({description:e.state.description}),e.setState({description:"",isBusy:!1,isValid:!1},(function(){if(e.description.handleOnChange({value:""}),e.config.argumentId){var n=new CustomEvent("osc-reaction-edited",{detail:t});document.dispatchEvent(n)}else{var r=new CustomEvent("osc-new-reaction-stored",{detail:t});document.dispatchEvent(r)}}))})).catch((function(t){t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1,isValid:!1})}))}else e.setState({isBusy:!1,isValid:!1})}))}},{key:"render",value:function(){var e=this,t={descriptionMinLength:e.config.descriptionMinLength||30,descriptionMaxLength:e.config.descriptionMaxLength||500},n=null;e.config.formIntro&&(n=React.createElement("div",{className:"osc-intro"},e.config.formIntro));var r=null;return r=e.canSubmit()?React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(t){e.state.isBusy||e.submitForm()},className:"osc-button-blue".concat(!e.state.isValid||e.state.isBusy?" osc-disabled":"")},"Verzenden")):React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{onClick:function(){u.a.localStorage.set("osc-reactions-login-pending",!0),document.location.href=e.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen")),React.createElement("div",{id:e.divId,className:"",ref:function(t){return e.instance=t}},n,React.createElement(s.a.InputWithCounter,{disabled:!this.canSubmit()||null,config:{inputType:"textarea",minLength:t.descriptionMinLength,maxLength:t.descriptionMaxLength,placeholder:e.config.placeholder},value:e.state.description,onChange:function(t){return e.handleOnChange({description:t.value})},ref:function(t){return e.description=t}}),r)}}])&&f(t.prototype,n),r&&f(t,r),i}(c.a);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(i,e);var t,n,r,o=T(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e,{siteId:null,ideaId:null,title:null,descriptionMinLength:30,descriptionMaxLength:500,api:{url:null,headers:null},requiredUserRole:"member"})).state={user:e.user,isMenuActive:!1,isReplyFromActive:!1,editMode:!1},t}return t=i,(n=[{key:"componentDidMount",value:function(e,t){var n=this;n.newReactionStoredListener=function(e){n.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",n.newReactionStoredListener),n.reactionEditedListener=function(e){n.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",n.reactionEditedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener)}},{key:"showMenu",value:function(){this.setState({isMenuActive:!0})}},{key:"toggleReplyForm",value:function(){this.setState({isReplyFromActive:!this.state.isReplyFromActive})}},{key:"toggleEditForm",value:function(e){this.setState({editMode:!this.state.editMode})}},{key:"canEdit",value:function(){return this.props.data.can.edit}},{key:"canDelete",value:function(){return this.props.data.can.delete}},{key:"canLike",value:function(){if(this.config.isClosed)return!1;var e=this.config.requiredUserRole,t=this.props.user&&this.props.user.role;return"anonymous"==e&&t||"member"==e&&("member"==t||"editor"==t||"moderator"==t||"admin"==t)||"editor"==e&&("editor"==t||"moderator"==t||"admin"==t)||"moderator"==e&&("moderator"==t||"admin"==t)||"admin"==e&&"admin"==t}},{key:"canReply",value:function(){return this.props.data.can.reply}},{key:"submitDelete",value:function(){var e=this;if(!e.canDelete())return alert("U kunt deze reactie niet verwijderen");var t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/argument/").concat(e.props.data.id),n=u.a.api.getHeaders(e.config);fetch(t,{method:"DELETE",headers:n,body:JSON.stringify({})}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){e.setState({isDeleted:!0});var n=new CustomEvent("osc-reaction-deleted",{detail:{ideaId:e.config.ideaId}});document.dispatchEvent(n)})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"submitLike",value:function(){var e=this;if(!e.canLike())return alert("U kunt deze reactie niet liken");var t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/argument/").concat(e.props.data.id,"/vote"),n=u.a.api.getHeaders(e.config);fetch(t,{method:"POST",headers:n,body:JSON.stringify({})}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){e.setState({yes:t.yes,hasUserVoted:t.hasUserVoted})})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"onNewReactionStored",value:function(e){this.setState({isMenuActive:!1,isReplyFromActive:!1})}},{key:"onReactionEdited",value:function(e){e.id==this.props.data.id&&this.setState({editMode:!1,isMenuActive:!1})}},{key:"render",value:function(){var e=this,t=e.props.data||{can:{}};if(t.isDeleted)return null;var n=u.a.user.hasRole(t.user,"editor")?"osc-is-admin":"",r=React.createElement("div",{className:"osc-reaction-user ".concat(n)},t.user.nickName||t.user.fullName||"".concat(t.user.firstName," ").concat(t.user.lastName)),o=null;e.canEdit()&&e.canDelete()&&(o=React.createElement("div",{className:"osc-reaction-menu".concat(e.state.isMenuActive?" osc-reaction-hamburger-active":""),onClick:function(){e.showMenu()}},React.createElement("a",{className:"osc-reaction-delete",title:"Argument verwijderen",onClick:function(){confirm("Weet je het zeker?")&&e.submitDelete()}}),React.createElement("a",{className:"osc-reaction-edit",title:"Argument bewerken",onClick:function(){return e.toggleEditForm()}})));var a=React.createElement("div",{className:"osc-reaction-description"},t.description);e.state.editMode&&(a=React.createElement("div",{className:"osc-reaction-description"},React.createElement(v,{config:E(E({},e.config),{},{description:t.description,argumentId:t.id}),user:e.state.user,ref:function(t){return e.editForm=t}})));var c=null;t.parentId||(c=React.createElement("a",{className:"osc-reaction-like-button".concat((void 0!==e.state.hasUserVoted?e.state.hasUserVoted:t.hasUserVoted)?" osc-reaction-like-button-hasvoted":""),onClick:function(){return e.submitLike()}},"Mee eens (",React.createElement("span",null,0|(void 0!==e.state.yes?e.state.yes:t.yes)),")"));var s=null,l=null;if(e.canReply()&&!e.config.isClosed&&(s=React.createElement("a",{onClick:function(){return e.toggleReplyForm()},className:"osc-reply-button"},"Reageren"),e.state.isReplyFromActive)){var f=E(E({},e.config),{},{parentId:t.id});f.formIntro="",l=React.createElement("div",{id:"osc-reaction-".concat(t.id),className:"osc-reply"},React.createElement(v,{config:f,user:e.state.user,ref:function(t){return e.editForm=t}}))}var d=null;return t.reactions&&t.reactions.length&&(d=React.createElement("ul",{className:"osc-reactions-list"},t.reactions.map((function(t){var n="osc-reaction-key-".concat(t.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:n},React.createElement(i,{config:e.config,className:"osc-reply",user:e.state.user,data:t}))})))),React.createElement("div",null,React.createElement("div",{id:"osc-reaction-".concat(t.id),className:e.props.className||"osc-reaction"},o,r,React.createElement("div",{className:"osc-reaction-date"},t.createDateHumanized),a,c,s),l,d)}}])&&b(t.prototype,n),r&&b(t,r),i}(c.a);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(i,e);var t,n,r,o=M(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e,{scrollToNewReaction:!0,isClosed:!1,closedText:"De reactiemogelijkheid is gesloten",sentiment:void 0,siteId:null,ideaId:null,title:null,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",placeholder:"",formIntro:""})).state={user:t.config.user,reactions:[]},t}return t=i,(n=[{key:"componentDidMount",value:function(e,t){var n=this;n.state.user&&n.state.user.role?n.fetchData():u.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},(function(e,t){n.setState({user:t},(function(){n.fetchData()}))})),n.newReactionStoredListener=function(e){n.onNewReactionStored(e.detail)},document.addEventListener("osc-new-reaction-stored",n.newReactionStoredListener),n.reactionEditedListener=function(e){n.onReactionEdited(e.detail)},document.addEventListener("osc-reaction-edited",n.reactionEditedListener),n.reactionDeletedListener=function(e){n.onReactionDeleted(e.detail)},document.addEventListener("osc-reaction-deleted",n.reactionDeletedListener)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("osc-new-reaction-stored",this.newReactionStoredListener),document.removeEventListener("osc-reaction-edited",this.reactionEditedListener),document.removeEventListener("osc-reaction-deleted",this.reactionDeletedListener)}},{key:"fetchData",value:function(e){var t=this,n="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/argument?sentiment=").concat(t.config.sentiment,"&withUser=1&withUserVote=1&withVoteCount=1&includeReactionsOnReactions=1"),r=u.a.api.getHeaders(t.config);fetch(n,{headers:r}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(n){var r=P({},t.state);r.reactions=n,r.reactions.sort((function(e,t){return e.createdAt<t.createdAt})),t.setState(r,(function(){if(e)return e()}))})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"onNewReactionStored",value:function(e){var t=this;this.fetchData((function(){t.config.scrollToNewReaction&&document.getElementById("osc-reaction-".concat(e.id))&&document.getElementById("osc-reaction-".concat(e.id)).scrollIntoView()}))}},{key:"onReactionEdited",value:function(e){this.fetchData()}},{key:"onReactionDeleted",value:function(e){this.fetchData()}},{key:"render",value:function(){var e=this,t=this,n=React.createElement("ul",{className:"osc-reactions-list"},t.state.reactions.map((function(e){var n="osc-reaction-key-".concat(e.id||parseInt(1e6*Math.random()));return React.createElement("li",{key:n},React.createElement(w,{config:t.config,user:t.state.user,data:P({},e)}))}))),r=t.config.title?React.createElement("h3",null,t.config.title):null,o=React.createElement(v,{config:t.config,user:t.state.user});return t.config.isClosed&&(o=t.config.closedText?React.createElement("div",{className:"osc-closed-text"},t.config.closedText):null),React.createElement("div",{id:this.id,className:t.props.className||"osc-reactions",ref:function(t){e.instance=t}},r,o,n,React.createElement("br",null),React.createElement("br",null))}}])&&L(t.prototype,n),r&&L(t,r),i}(c.a);k.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(k,{attributes:n,config:t}),e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A})),n.d(t,"Poll",(function(){return A}));n(14);var r=n(0),o=n.n(r),i=n(6),a=n.n(i),c=(n(121),n(1)),u=n(2),s=n(5);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,o=v(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e,{user:{},questionMinLength:30,questionMaxLength:500,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,allowChoiceTitles:!0})).state={user:e.user,pollId:e.pollId,poll:e.poll,isBusy:!1},t}return t=i,(n=[{key:"componentDidMount",value:function(e,t){var n=this;n.state.user&&n.state.user.role?n.state.poll||n.fetchData():u.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},(function(e,t){n.setState({user:t},(function(){n.state.poll||n.fetchData()}))}))}},{key:"fetchData",value:function(e){var t=this;if(!t.state.pollId)return t.setState({poll:{question:"",choices:{1:{},2:{}}}});var n="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/poll/").concat(t.config.pollId,"?withUser=1&withVotes=1"),r=u.a.api.getHeaders(t.config);fetch(n,{headers:r}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(n){var r=d({},t.state);r.poll=n,t.setState(r,(function(){if(e)return e()}))})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"validatedResult",value:function(){var e=this,t=e.state.poll,n=e["question-input"],r=n.validate(),o={question:n.state.value,choices:{}};return Object.keys(t.choices).forEach((function(t){var n=e["title-input-".concat(t)],i=e["description-input-".concat(t)];(n&&n.state.value||i.state.value)&&(o.choices[t]={},e.config.allowChoiceTitles&&n.state.value&&(o.choices[t].title=n.state.value,n.validate()||(r=!1)),i.state.value&&(o.choices[t].description=i.state.value,i.validate()||(r=!1)))})),r?Object.keys(o.choices).length<2?null:o:null}},{key:"handleOnChange",value:function(e){var t=d({},this.state.poll);e.choice&&(t.choices[e.choice.id]={title:this.config.allowChoiceTitles&&e.choice.title,description:e.choice.description}),e.question&&(t.question=e.question),this.setState({poll:t},(function(){}))}},{key:"addChoice",value:function(){var e=d({},this.state.poll),t=Object.keys(e.choices).sort(),n=parseInt(t[t.length-1])+1;e.choices[n]={},this.setState({poll:e})}},{key:"canSubmit",value:function(){if(this.state.poll&&this.state.poll.can)return this.state.poll.can.edit;var e=this.config.requiredUserRole,t="moderator";return("anonymous"==e?t:"member"==e&&!0)||"editor"==e&&!0||"moderator"==e&&!0||"admin"==e&&!1}},{key:"submitForm",value:function(){var e=this;e.setState({isBusy:!0},(function(){var t=e.validatedResult();if(t){if(!e.canSubmit())return alert("Je bent niet ingelogd");var n=!0,r="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/poll"),o="POST";e.state.poll&&e.state.poll.id&&(r+="/".concat(e.state.poll.id),o="PUT",n=!1);var i=u.a.api.getHeaders(e.config),a=t;fetch(r,{method:o,headers:i,body:JSON.stringify(a)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(r){var o=new CustomEvent("osc-new-poll-stored",{detail:r});n||(o=new CustomEvent("osc-poll-edited",{detail:r})),document.dispatchEvent(o),"function"==typeof e.config.onFinished&&e.config.onFinished(t)})).catch((function(t){console.log(t),t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1})}))}else e.setState({isBusy:!1})}))}},{key:"render",value:function(){var e=this,t=this,n=t.state.poll||{},r=null;t.config.formIntro&&(r=React.createElement("div",{className:"osc-intro"},t.config.formIntro));var o=null;return o=t.canSubmit()?React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{className:"osc-button-blue",onClick:function(){t.config.onFinished&&t.config.onFinished()}},"Terug"),React.createElement("button",{onClick:function(e){t.state.isBusy||t.submitForm()},className:"osc-button-blue osc-margin-left".concat(t.state.isBusy?" osc-disabled":"")},"Verzenden")):React.createElement("div",{className:"osc-align-right-container"},React.createElement("button",{className:"osc-button-blue",onClick:function(){t.config.onFinished&&t.config.onFinished()}},"Terug"),React.createElement("button",{onClick:function(){u.a.localStorage.set("osc-reactions-login-pending",!0),document.location.href=t.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button osc-margin-left"},"Inloggen")),React.createElement("div",{id:t.divId,className:"osc-form",ref:function(e){return t.instance=e}},r,React.createElement("h4",null,"Vraag"),React.createElement(s.a.InputWithCounter,{config:{inputType:"text",minLength:t.config.questionMinLength,maxLength:t.config.questionMaxLength,placeholder:"Vraag"},value:n.question,onChange:function(e){return t.handleOnChange({question:e.value})},ref:function(e){return t["question-input"]=e}}),React.createElement("h4",null,"Keuzemogelijkheden"),React.createElement("ol",{className:"osc-poll-form-choices"},n&&n.choices&&Object.keys(n.choices).sort().map((function(e){var r=n.choices[e],o=null;return t.config.allowChoiceTitles&&(o=React.createElement(s.a.InputWithCounter,{config:{inputType:"text",minLength:t.config.titleMinLength,maxLength:t.config.titleMaxLength,placeholder:"Titel"},value:r.title,onChange:function(n){return t.handleOnChange({choice:{id:e,title:n.value}})},ref:function(n){return t["title-input-".concat(e)]=n}})),React.createElement("li",{className:"osc-poll-form-choice",key:"osc-key-".concat(e)},o,React.createElement(s.a.InputWithCounter,{config:{inputType:"text",minLength:t.config.descriptionMinLength,maxLength:t.config.descriptionMaxLength,placeholder:"Beschrijving"},value:r.description,onChange:function(n){return t.handleOnChange({choice:{id:e,description:n.value}})},ref:function(n){return t["description-input-".concat(e)]=n}}))}))),React.createElement("a",{className:"osc-add-choice-button",onClick:function(t){return e.addChoice()}},"Nog een keuzemogelijkheid toevoegen"),o)}}])&&h(t.prototype,n),r&&h(t,r),i}(c.a);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,n,r,o=w(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=D(t=o.call(this,e,{siteId:null,ideaId:null,title:null,titleMinLength:30,titleMaxLength:500,descriptionMinLength:30,descriptionMaxLength:500,user:null,loginUrl:"",api:{url:null,headers:null},requiredUserRole:"member",withPercentage:!0,allowChoiceTitles:!0,allowShowResultsIfNotVoted:!1}));return n.config.loginUrl=n.config.loginUrl||"/oauth/login?returnTo="+encodeURIComponent(document.location.href),n.hideEditForm=n.hideEditForm.bind(n),n.state={user:n.config.user,poll:e.poll,pollId:e.poll&&e.poll.id||n.config.pollId,selectedChoice:null,showResult:!1,showQuestion:!1,editMode:!1,showVoteSucceeded:!1},n.state.poll&&(n.parseVoteCount(n.state.poll),n.state.poll.userVote&&(n.state.selectedChoice=n.state.poll.userVote)),t}return t=i,(n=[{key:"componentDidMount",value:function(e,t){var n=this;n.state.user&&n.state.user.role?!n.state.poll&&n.config.ideaId&&n.fetchData():u.a.user.getUser({user:n.config.user,jwt:n.config.jwt,siteId:n.config.siteId,api:n.config.api},(function(e,t){n.setState({user:t},(function(){!n.state.poll&&n.config.ideaId&&n.fetchData()}))}))}},{key:"fetchData",value:function(e){var t=this;if(!t.state.pollId)return t.setState({editMode:!0},(function(){}));var n="".concat(t.config.api&&t.config.api.url,"/api/site/").concat(t.config.siteId,"/idea/").concat(t.config.ideaId,"/poll/").concat(t.state.pollId,"?withUser=1&withUserVote=1&withVoteCount=1&withVotes=1"),r=u.a.api.getHeaders(t.config);fetch(n,{headers:r}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(n){var r=I(I({},t.state),{},{showResult:!1,showQuestion:!1});r.poll=n,r.pollId=n.id,t.parseVoteCount(r.poll),r.poll.userVote&&(r.selectedChoice=r.poll.userVote),t.setState(r,(function(){if(e)return e()}))})).catch((function(e){console.log(e),e.then((function(e){return console.log(e)}))}))}},{key:"parseVoteCount",value:function(e){e.voteCount&&Object.keys(e.choices).sort().forEach((function(t){var n=e.choices[t];n.votesAbs=e.voteCount[t],n.votesPrc=parseInt(e.voteCount[t]/e.voteCount.total*100),n.votesPrc=n.votesPrc||0}))}},{key:"showEditForm",value:function(){this.setState({editMode:!0})}},{key:"hideEditForm",value:function(){this.setState({editMode:!1},(function(){this.fetchData()}))}},{key:"setShowResult",value:function(){this.setState({showResult:!0})}},{key:"setShowQuestion",value:function(){this.setState({showQuestion:!0})}},{key:"selectChoice",value:function(e){this.setState({selectedChoice:e.choice})}},{key:"onReactionEdited",value:function(e){this.fetchData()}},{key:"isValid",value:function(){return!!this.state.selectedChoice}},{key:"canSubmit",value:function(){var e=this.config.requiredUserRole,t=this.state.user&&this.state.user.role;return"anonymous"==e&&t||"member"==e&&("member"==t||"admin"==t)||"admin"==e&&"admin"==t}},{key:"submitVote",value:function(){var e=this;e.setState({isBusy:!0},(function(){if(e.isValid()){if(!e.canSubmit())return alert("Je bent niet ingelogd");var t="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/poll/").concat(e.state.poll.id,"/vote"),n=u.a.api.getHeaders(e.config),r={choice:e.state.selectedChoice};fetch(t,{method:"POST",headers:n,body:JSON.stringify(r)}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(t){e.fetchData((function(){e.setState({isBusy:!1,showVoteSucceeded:!0},(function(){var e=new CustomEvent("osc-poll-voted",{detail:t});document.dispatchEvent(e)}))})),"function"==typeof e.config.onSubmit&&e.config.onSubmit({description:e.state.description})})).catch((function(t){t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1,isValid:!1})}))}else e.setState({isBusy:!1,isValid:!1})}))}},{key:"deletePoll",value:function(){var e=this;e.setState({isBusy:!0},(function(){var t=e.state.poll;if(!(t&&t.can&&t.can.delete))return alert("U kunt deze poll niet verwijderen");if(!t||!t.id)return alert("U kunt deze poll niet verwijderen");var n="".concat(e.config.api&&e.config.api.url,"/api/site/").concat(e.config.siteId,"/idea/").concat(e.config.ideaId,"/poll/").concat(e.state.poll.id),r=u.a.api.getHeaders(e.config);fetch(n,{method:"DELETE",headers:r}).then((function(e){if(e.ok)return e.json();throw e.text()})).then((function(e){var t=new CustomEvent("osc-poll-deleted",{detail:e});document.dispatchEvent(t)})).catch((function(t){console.log(t),t.then((function(e){return alert(e),console.log(e)})),e.setState({isBusy:!1})}))}))}},{key:"render",value:function(){var e=this,t=this,n=t.state.poll||{};if(t.state.editMode)return React.createElement("div",{id:this.id,className:t.props.className||"osc-poll",ref:function(t){e.instance=t}},React.createElement(E,{config:I(I({},t.config),{},{onFinished:t.hideEditForm}),pollId:t.state.poll&&t.state.poll.id,poll:t.state.poll,user:t.state.user}));var r=null;if(n&&n.choices&&!n.userVote||t.state.showQuestion){var o={name:"pollChoice",choices:[]};Object.keys(n.choices).sort().map((function(e){var r=t.config.allowChoiceTitles&&n.choices[e].title?"<h4>".concat(n.choices[e].title,"</h4>"):"";r+=n.choices[e].description||"",o.choices.push({dangerousDescription:r,value:e})}));var i=null;i=t.canSubmit()?React.createElement("button",{onClick:function(e){t.state.isBusy||t.submitVote()},className:"osc-button-blue".concat(t.isValid()?"":" osc-disabled")},"Stemmen"):React.createElement("button",{onClick:function(){u.a.localStorage.set("osc-poll-login-pending",!0),document.location.href=t.config.loginUrl},className:"osc-button-blue osc-not-logged-in-button"},"Inloggen");var a=null;!t.config.allowShowResultsIfNotVoted||n.userVote||t.state.showResult||(a=React.createElement("a",{className:"osc-show-result-button",onClick:function(t){return e.setShowResult()}},"Resultaat bekijken")),r=React.createElement("div",{className:"osc-poll-question osc-form"},React.createElement(s.a.Radios,{config:o,value:t.state.selectedChoice,onChange:function(e){return t.selectChoice({choice:e.value})},ref:function(e){return t.description=e}}),React.createElement("div",{className:"osc-poll-question-buttons"},i,a))}var c=null;if(n&&(n.userVote||t.state.showResult)){var l=null;t.state.showQuestion||n&&n.choices&&!n.userVote||(l=React.createElement("a",{className:"osc-show-question-button",onClick:function(t){return e.setShowQuestion()}},"Stem aanpassen"));var f=null;if(n.voteCount&&n.voteCount.total){var d=1==n.voteCount.total?"stem":"stemmen";f=React.createElement("div",null,"Totaal ",n.voteCount.total," ",d,React.createElement("br",null),React.createElement("br",null))}c=React.createElement("ul",{className:"osc-choices"},Object.keys(n.choices).sort().map((function(e){var r=n.choices[e],o=null;t.config.allowChoiceTitles&&r.title&&(o=React.createElement("h4",null,r.title));var i=null;r.description&&(i=React.createElement("div",null,r.description));var a=null;t.config.withPercentage&&(a=React.createElement("div",{className:"osc-percentage"},r.votesPrc,"%"));var c=React.createElement("div",{className:"osc-choice-default"},o,i,React.createElement("div",{className:"osc-choice-bar".concat(t.config.withPercentage?" osc-with-percentage":"")},React.createElement("div",{className:"osc-choice-bar-mask"}),React.createElement("div",{className:"osc-choice-bar-progress",style:{width:(r.votesPrc||0)+"%"}})),a);return React.createElement("li",{className:"osc-choice",key:"osc-key-".concat(e)},c)})),f,l)}var p=null;t.state.poll&&t.state.poll.can&&t.state.poll.can.edit&&(p=React.createElement("div",{className:"osc-editbuttons"},React.createElement("button",{className:"osc-editbutton osc-edit",onClick:function(e){return t.showEditForm()}},"Bewerk poll"),React.createElement("button",{className:"osc-editbutton osc-delete",onClick:function(e){confirm("Weet u het zeker")&&t.deletePoll()}},"Verwijder poll")));var h=null;return t.state.showVoteSucceeded&&(h=React.createElement("div",{className:"osc-vote-succeeded"},"Uw stem is opgeslagen")),React.createElement("div",{id:this.id,className:t.props.className||"osc-poll",ref:function(t){e.instance=t}},p,h,React.createElement("h4",null,n.question),r,c,React.createElement("br",null),React.createElement("br",null))}}])&&O(t.prototype,n),r&&O(t,r),i}(c.a);A.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(A,{attributes:n,config:t}),e)}},function(e,t,n){},function(e,t,n){(function(e){!function(t){"use strict";var n=function(e){return e instanceof HTMLElement},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object.assign({},e),o=[],i=[],a=function(){var e=[].concat(i);i.length=0,e.forEach((function(e){var t=e.type,n=e.data;c(t,n)}))},c=function(e,t,n){!n||document.hidden?(f[e]&&f[e](t),o.push({type:e,data:t})):i.push({type:e,data:t})},u=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return l[e]?(t=l)[e].apply(t,r):null},s={getState:function(){return Object.assign({},r)},processActionQueue:function(){var e=[].concat(o);return o.length=0,e},processDispatchQueue:a,dispatch:c,query:u},l={};t.forEach((function(e){l=Object.assign({},e(r),{},l)}));var f={};return n.forEach((function(e){f=Object.assign({},e(c,u,r),{},f)})),s},o=function(e,t,n){"function"!=typeof n?Object.defineProperty(e,t,Object.assign({},n)):e[t]=n},i=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},a=function(e){var t={};return i(e,(function(n){o(t,n,e[n])})),t},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},u="http://www.w3.org/2000/svg",s=["svg","path"],l=function(e){return s.includes(e)},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof t&&(n=t,t=null);var r=l(e)?document.createElementNS(u,e):document.createElement(e);return t&&(l(e)?c(r,"class",t):r.className=t),i(n,(function(e,t){c(r,e,t)})),r},d=function(e){return function(t,n){void 0!==n&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)}},p=function(e,t){return function(e,n){return void 0!==n?t.splice(n,0,e):t.push(e),e}},h=function(e,t){return function(n){return t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n}},m="undefined"!=typeof window&&void 0!==window.document,v=function(){return m},g="children"in(v()?f("svg"):{})?function(e){return e.children.length}:function(e){return e.childNodes.length},y=function(e,t,n,r){var o=n[0]||e.left,i=n[1]||e.top,a=o+e.width,c=i+e.height*(r[1]||1),u={element:Object.assign({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:o,top:i,right:a,bottom:c}};return t.filter((function(e){return!e.isRectIgnored()})).map((function(e){return e.rect})).forEach((function(e){E(u.inner,Object.assign({},e.inner)),E(u.outer,Object.assign({},e.outer))})),_(u.inner),u.outer.bottom+=u.element.marginBottom,u.outer.right+=u.element.marginRight,_(u.outer),u},E=function(e,t){t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},_=function(e){e.width=e.right-e.left,e.height=e.bottom-e.top},b=function(e){return"number"==typeof e},I=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<r&&Math.abs(n)<r},T=function(e){return e<.5?2*e*e:(4-2*e)*e-1},O={spring:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiffness,n=void 0===t?.5:t,r=e.damping,o=void 0===r?.75:r,i=e.mass,c=void 0===i?10:i,u=null,s=null,l=0,f=!1,d=a({interpolate:function(e,t){if(!f){if(!b(u)||!b(s))return f=!0,void(l=0);I(s+=l+=-(s-u)*n/c,u,l*=o)||t?(s=u,l=0,f=!0,d.onupdate(s),d.oncomplete(s)):d.onupdate(s)}},target:{set:function(e){if(b(e)&&!b(s)&&(s=e),null===u&&(u=e,s=e),s===(u=e)||void 0===u)return f=!0,l=0,d.onupdate(s),void d.oncomplete(s);f=!1},get:function(){return u}},resting:{get:function(){return f}},onupdate:function(e){},oncomplete:function(e){}});return d},tween:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.duration,o=void 0===r?500:r,i=n.easing,c=void 0===i?T:i,u=n.delay,s=void 0===u?0:u,l=null,f=!0,d=!1,p=null,h=a({interpolate:function(n,r){f||null===p||(null===l&&(l=n),n-l<s||((e=n-l-s)>=o||r?(e=1,t=d?0:1,h.onupdate(t*p),h.oncomplete(t*p),f=!0):(t=e/o,h.onupdate((e>=0?c(d?1-t:t):0)*p))))},target:{get:function(){return d?0:p},set:function(e){if(null===p)return p=e,h.onupdate(e),void h.oncomplete(e);e<p?(p=1,d=!0):(d=!1,p=e),f=!1,l=null}},resting:{get:function(){return f}},onupdate:function(e){},oncomplete:function(e){}});return h}},R=function(e,t,n){var r=e[t]&&"object"==typeof e[t][n]?e[t][n]:e[t]||e,o="string"==typeof r?r:r.type,i="object"==typeof r?Object.assign({},r):{};return O[o]?O[o](i):null},w=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(t=Array.isArray(t)?t:[t]).forEach((function(t){e.forEach((function(e){var o=e,i=function(){return n[e]},a=function(t){return n[e]=t};"object"==typeof e&&(o=e.key,i=e.getter||i,a=e.setter||a),t[o]&&!r||(t[o]={get:i,set:a})}))}))},S=function(e){return function(t,n){e.addEventListener(t,n)}},D=function(e){return function(t,n){e.removeEventListener(t,n)}},P=function(e){return null!=e},A={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},L=function(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewInternalAPI,o=e.viewExternalAPI,i=e.view,a=Object.assign({},n),c={};w(t,[r,o],n);var u=function(){return[n.translateX||0,n.translateY||0]},s=function(){return[n.scaleX||0,n.scaleY||0]},l=function(){return i.rect?y(i.rect,i.childViews,u(),s()):null};return r.rect={get:l},o.rect={get:l},t.forEach((function(e){n[e]=void 0===a[e]?A[e]:a[e]})),{write:function(){if(C(c,n))return M(i.element,n),Object.assign(c,Object.assign({},n)),!0},destroy:function(){}}},C=function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in t)if(t[n]!==e[n])return!0;return!1},M=function(e,t){var n=t.opacity,r=t.perspective,o=t.translateX,i=t.translateY,a=t.scaleX,c=t.scaleY,u=t.rotateX,s=t.rotateY,l=t.rotateZ,f=t.originX,d=t.originY,p=t.width,h=t.height,m="",v="";(P(f)||P(d))&&(v+="transform-origin: "+(f||0)+"px "+(d||0)+"px;"),P(r)&&(m+="perspective("+r+"px) "),(P(o)||P(i))&&(m+="translate3d("+(o||0)+"px, "+(i||0)+"px, 0) "),(P(a)||P(c))&&(m+="scale3d("+(P(a)?a:1)+", "+(P(c)?c:1)+", 1) "),P(l)&&(m+="rotateZ("+l+"rad) "),P(u)&&(m+="rotateX("+u+"rad) "),P(s)&&(m+="rotateY("+s+"rad) "),m.length&&(v+="transform:"+m+";"),P(n)&&(v+="opacity:"+n+";",0===n&&(v+="visibility:hidden;"),n<1&&(v+="pointer-events:none;")),P(h)&&(v+="height:"+h+"px;"),P(p)&&(v+="width:"+p+"px;");var g=e.elementCurrentStyle||"";v.length===g.length&&v===g||(e.style.cssText=v,e.elementCurrentStyle=v)},N={styles:L,listeners:function(e){e.mixinConfig,e.viewProps,e.viewInternalAPI;var t=e.viewExternalAPI,n=(e.viewState,e.view),r=[],o=S(n.element),i=D(n.element);return t.on=function(e,t){r.push({type:e,fn:t}),o(e,t)},t.off=function(e,t){r.splice(r.findIndex((function(n){return n.type===e&&n.fn===t})),1),i(e,t)},{write:function(){return!0},destroy:function(){r.forEach((function(e){i(e.type,e.fn)}))}}},animations:function(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewInternalAPI,o=e.viewExternalAPI,a=Object.assign({},n),c=[];return i(t,(function(e,t){var i=R(t);i&&(i.onupdate=function(t){n[e]=t},i.target=a[e],w([{key:e,setter:function(e){i.target!==e&&(i.target=e)},getter:function(){return n[e]}}],[r,o],n,!0),c.push(i))})),{write:function(e){var t=document.hidden,n=!0;return c.forEach((function(r){r.resting||(n=!1),r.interpolate(e,t)})),n},destroy:function(){}}},apis:function(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewExternalAPI;w(t,r,n)}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent,e},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,n=void 0===t?"div":t,r=e.name,o=void 0===r?null:r,i=e.attributes,c=void 0===i?{}:i,u=e.read,s=void 0===u?function(){}:u,l=e.write,m=void 0===l?function(){}:l,v=e.create,E=void 0===v?function(){}:v,_=e.destroy,b=void 0===_?function(){}:_,I=e.filterFrameActionsForChild,T=void 0===I?function(e,t){return t}:I,O=e.didCreateView,R=void 0===O?function(){}:O,w=e.didWriteView,S=void 0===w?function(){}:w,D=e.ignoreRect,P=void 0!==D&&D,A=e.ignoreRectUpdate,L=void 0!==A&&A,C=e.mixins,M=void 0===C?[]:C;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=f(n,"filepond--"+o,c),i=window.getComputedStyle(r,null),u=x(),l=null,v=!1,_=[],I=[],O={},w={},D=[m],A=[s],C=[b],k=function(){return r},j=function(){return _.concat()},G=function(){return O},F=function(e){return function(t,n){return t(e,n)}},U=function(){return l||(l=y(u,_,[0,0],[1,1]))},V=function(){l=null,_.forEach((function(e){return e._read()})),!(L&&u.width&&u.height)&&x(u,r,i);var e={root:X,props:t,rect:u};A.forEach((function(t){return t(e)}))},B=function(e,n,r){var o=0===n.length;return D.forEach((function(i){!1===i({props:t,root:X,actions:n,timestamp:e,shouldOptimize:r})&&(o=!1)})),I.forEach((function(t){!1===t.write(e)&&(o=!1)})),_.filter((function(e){return!!e.element.parentNode})).forEach((function(t){t._write(e,T(t,n),r)||(o=!1)})),_.forEach((function(t,i){t.element.parentNode||(X.appendChild(t.element,i),t._read(),t._write(e,T(t,n),r),o=!1)})),v=o,S({props:t,root:X,actions:n,timestamp:e}),o},q=function(){I.forEach((function(e){return e.destroy()})),C.forEach((function(e){e({root:X,props:t})})),_.forEach((function(e){return e._destroy()}))},H={element:{get:k},style:{get:function(){return i}},childViews:{get:j}},W=Object.assign({},H,{rect:{get:U},ref:{get:G},is:function(e){return o===e},appendChild:d(r),createChildView:F(e),linkView:function(e){return _.push(e),e},unlinkView:function(e){_.splice(_.indexOf(e),1)},appendChildView:p(r,_),removeChildView:h(r,_),registerWriter:function(e){return D.push(e)},registerReader:function(e){return A.push(e)},registerDestroyer:function(e){return C.push(e)},invalidateLayout:function(){return r.layoutCalculated=!1},dispatch:e.dispatch,query:e.query}),Y={element:{get:k},childViews:{get:j},rect:{get:U},resting:{get:function(){return v}},isRectIgnored:function(){return P},_read:V,_write:B,_destroy:q},z=Object.assign({},H,{rect:{get:function(){return u}}});Object.keys(M).sort((function(e,t){return"styles"===e?1:"styles"===t?-1:0})).forEach((function(e){var n=N[e]({mixinConfig:M[e],viewProps:t,viewState:w,viewInternalAPI:W,viewExternalAPI:Y,view:a(z)});n&&I.push(n)}));var X=a(W);E({root:X,props:t});var K=g(r);return _.forEach((function(e,t){X.appendChild(e.element,K+t)})),R(X),a(Y)}},j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r="__framePainter";if(window[r])return window[r].readers.push(e),void window[r].writers.push(t);window[r]={readers:[e],writers:[t]};var o=window[r],i=1e3/n,a=null,c=null,u=null,s=null,l=function(){document.hidden?(u=function(){return window.setTimeout((function(){return f(performance.now())}),i)},s=function(){return window.clearTimeout(c)}):(u=function(){return window.requestAnimationFrame(f)},s=function(){return window.cancelAnimationFrame(c)})};document.addEventListener("visibilitychange",(function(){s&&s(),l(),f(performance.now())}));var f=function e(t){c=u(e),a||(a=t);var n=t-a;n<=i||(a=t-n%i,o.readers.forEach((function(e){return e()})),o.writers.forEach((function(e){return e(t)})))};return l(),f(performance.now()),{pause:function(){s(c)}}},G=function(e,t){return function(n){var r=n.root,o=n.props,i=n.actions,a=void 0===i?[]:i,c=n.timestamp,u=n.shouldOptimize;a.filter((function(t){return e[t.type]})).forEach((function(t){return e[t.type]({root:r,props:o,action:t.data,timestamp:c,shouldOptimize:u})})),t&&t({root:r,props:o,actions:a,timestamp:c,shouldOptimize:u})}},F=function(e,t){return t.parentNode.insertBefore(e,t)},U=function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},V=function(e){return Array.isArray(e)},B=function(e){return null==e},q=function(e){return e.trim()},H=function(e){return""+e},W=function(e){return"boolean"==typeof e},Y=function(e){return W(e)?e:"true"===e},z=function(e){return"string"==typeof e},X=function(e){return b(e)?e:z(e)?H(e).replace(/[a-z]+/gi,""):0},K=function(e){return parseInt(X(e),10)},Q=function(e){return parseFloat(X(e))},Z=function(e){return b(e)&&isFinite(e)&&Math.floor(e)===e},J=function(e){if(Z(e))return e;var t=H(e).trim();return/MB$/i.test(t)?(t=t.replace(/MB$i/,"").trim(),1e3*K(t)*1e3):/KB/i.test(t)?(t=t.replace(/KB$i/,"").trim(),1e3*K(t)):K(t)},$=function(e){return"function"==typeof e},ee=function(e){for(var t=self,n=e.split("."),r=null;r=n.shift();)if(!(t=t[r]))return null;return t},te={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},ne=function(e){var t={};return t.url=z(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},i(te,(function(n){t[n]=re(n,e[n],te[n],t.timeout,t.headers)})),t.remove=e.remove||null,delete t.headers,t},re=function(e,t,n,r,o){if(null===t)return null;if("function"==typeof t)return t;var i={url:"GET"===n||"PATCH"===n?"?"+e+"=":"",method:n,headers:o,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(z(t))return i.url=t,i;if(Object.assign(i,t),z(i.headers)){var a=i.headers.split(/:(.+)/);i.headers={header:a[0],value:a[1]}}return i.withCredentials=Y(i.withCredentials),i},oe=function(e){return null===e},ie=function(e){return"object"==typeof e&&null!==e},ae=function(e){return ie(e)&&z(e.url)&&ie(e.process)&&ie(e.revert)&&ie(e.restore)&&ie(e.fetch)},ce=function(e){return V(e)?"array":oe(e)?"null":Z(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":ae(e)?"api":typeof e},ue=function(e){return e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},se={array:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return B(e)?[]:V(e)?e:H(e).split(t).map(q).filter((function(e){return e.length}))},boolean:Y,int:function(e){return"bytes"===ce(e)?J(e):K(e)},number:Q,float:Q,bytes:J,string:function(e){return $(e)?e:H(e)},function:function(e){return ee(e)},serverapi:function(e){return ne(e)},object:function(e){try{return JSON.parse(ue(e))}catch(e){return null}}},le=function(e,t){return se[t](e)},fe=function(e,t,n){if(e===t)return e;var r=ce(e);if(r!==n){var o=le(e,n);if(r=ce(o),null===o)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';e=o}return e},de=function(e,t){var n=e;return{enumerable:!0,get:function(){return n},set:function(r){n=fe(r,e,t)}}},pe=function(e){var t={};return i(e,(function(n){var r=e[n];t[n]=de(r[0],r[1])})),a(t)},he=function(e){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:pe(e)}},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase()})).join(t)},ve=function(e,t){var n={};return i(t,(function(t){n[t]={get:function(){return e.getState().options[t]},set:function(n){e.dispatch("SET_"+me(t,"_").toUpperCase(),{value:n})}}})),n},ge=function(e){return function(t,n,r){var o={};return i(e,(function(e){var n=me(e,"_").toUpperCase();o["SET_"+n]=function(o){try{r.options[e]=o.value}catch(e){}t("DID_SET_"+n,{value:r.options[e]})}})),o}},ye=function(e){return function(t){var n={};return i(e,(function(e){n["GET_"+me(e,"_").toUpperCase()]=function(n){return t.options[e]}})),n}},Ee={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},_e=function(){return Math.random().toString(36).substr(2,9)};function be(e){this.wrapped=e}function Ie(t){var n,r;function o(t,o){return new e((function(e,a){var c={key:t,arg:o,resolve:e,reject:a,next:null};r?r=r.next=c:(n=r=c,i(t,o))}))}function i(n,r){try{var o=t[n](r),c=o.value,u=c instanceof be;e.resolve(u?c.wrapped:c).then((function(e){u?i("next",e):a(o.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(e){a("throw",e)}}function a(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?i(n.key,n.arg):r=null}this._invoke=o,"function"!=typeof t.return&&(this.return=void 0)}function Te(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function Oe(e,t){if(null==e)return{};var n,r,o=Te(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Re(e){return we(e)||Se(e)||De()}function we(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function Se(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function De(){throw new TypeError("Invalid attempt to spread non-iterable instance")}"function"==typeof Symbol&&Symbol.asyncIterator&&(Ie.prototype[Symbol.asyncIterator]=function(){return this}),Ie.prototype.next=function(e){return this._invoke("next",e)},Ie.prototype.throw=function(e){return this._invoke("throw",e)},Ie.prototype.return=function(e){return this._invoke("return",e)};var Pe=function(e,t){return e.splice(t,1)},Ae=function(t,n){n?t():document.hidden?e.resolve(1).then(t):setTimeout(t,0)},Le=function(){var e=[],t=function(t,n){Pe(e,e.findIndex((function(e){return e.event===t&&(e.cb===n||!n)})))},n=function(t,n,r){e.filter((function(e){return e.event===t})).map((function(e){return e.cb})).forEach((function(e){return Ae((function(){return e.apply(void 0,Re(n))}),r)}))};return{fireSync:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n(e,r,!0)},fire:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n(e,r,!1)},on:function(t,n){e.push({event:t,cb:n})},onOnce:function(n,r){e.push({event:n,cb:function(){t(n,r),r.apply(void 0,arguments)}})},off:t}},Ce=function(e,t,n){Object.getOwnPropertyNames(e).filter((function(e){return!n.includes(e)})).forEach((function(n){return Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))},Me=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Ne=function(e){var t={};return Ce(e,t,Me),t},xe=function(e){e.forEach((function(t,n){t.released&&Pe(e,n)}))},ke={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},je={INPUT:1,LIMBO:2,LOCAL:3},Ge=function(e){return/[^0-9]+/.exec(e)},Fe=function(){return Ge(1.1.toLocaleString())[0]},Ue=function(){var e=Fe(),t=1e3.toLocaleString();return t!==1e3.toString()?Ge(t)[0]:"."===e?",":"."},Ve={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Be=[],qe=function(t,n,r){return new e((function(e,o){var i=Be.filter((function(e){return e.key===t})).map((function(e){return e.cb}));if(0!==i.length){var a=i.shift();i.reduce((function(e,t){return e.then((function(e){return t(e,r)}))}),a(n,r)).then((function(t){return e(t)})).catch((function(e){return o(e)}))}else e(n)}))},He=function(e,t,n){return Be.filter((function(t){return t.key===e})).map((function(e){return e.cb(t,n)}))},We=function(e,t){return Be.push({key:e,cb:t})},Ye=function(e){return Object.assign(Ke,e)},ze=function(){return Object.assign({},Ke)},Xe=function(e){i(e,(function(e,t){Ke[e]&&(Ke[e][0]=fe(t,Ke[e][0],Ke[e][1]))}))},Ke={id:[null,Ve.STRING],name:["filepond",Ve.STRING],disabled:[!1,Ve.BOOLEAN],className:[null,Ve.STRING],required:[!1,Ve.BOOLEAN],captureMethod:[null,Ve.STRING],allowSyncAcceptAttribute:[!0,Ve.BOOLEAN],allowDrop:[!0,Ve.BOOLEAN],allowBrowse:[!0,Ve.BOOLEAN],allowPaste:[!0,Ve.BOOLEAN],allowMultiple:[!1,Ve.BOOLEAN],allowReplace:[!0,Ve.BOOLEAN],allowRevert:[!0,Ve.BOOLEAN],allowRemove:[!0,Ve.BOOLEAN],allowProcess:[!0,Ve.BOOLEAN],allowReorder:[!1,Ve.BOOLEAN],allowDirectoriesOnly:[!1,Ve.BOOLEAN],forceRevert:[!1,Ve.BOOLEAN],maxFiles:[null,Ve.INT],checkValidity:[!1,Ve.BOOLEAN],itemInsertLocationFreedom:[!0,Ve.BOOLEAN],itemInsertLocation:["before",Ve.STRING],itemInsertInterval:[75,Ve.INT],dropOnPage:[!1,Ve.BOOLEAN],dropOnElement:[!0,Ve.BOOLEAN],dropValidation:[!1,Ve.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Ve.ARRAY],instantUpload:[!0,Ve.BOOLEAN],maxParallelUploads:[2,Ve.INT],chunkUploads:[!1,Ve.BOOLEAN],chunkForce:[!1,Ve.BOOLEAN],chunkSize:[5e6,Ve.INT],chunkRetryDelays:[[500,1e3,3e3],Ve.Array],server:[null,Ve.SERVER_API],labelDecimalSeparator:[Fe(),Ve.STRING],labelThousandsSeparator:[Ue(),Ve.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Ve.STRING],labelInvalidField:["Field contains invalid files",Ve.STRING],labelFileWaitingForSize:["Waiting for size",Ve.STRING],labelFileSizeNotAvailable:["Size not available",Ve.STRING],labelFileCountSingular:["file in list",Ve.STRING],labelFileCountPlural:["files in list",Ve.STRING],labelFileLoading:["Loading",Ve.STRING],labelFileAdded:["Added",Ve.STRING],labelFileLoadError:["Error during load",Ve.STRING],labelFileRemoved:["Removed",Ve.STRING],labelFileRemoveError:["Error during remove",Ve.STRING],labelFileProcessing:["Uploading",Ve.STRING],labelFileProcessingComplete:["Upload complete",Ve.STRING],labelFileProcessingAborted:["Upload cancelled",Ve.STRING],labelFileProcessingError:["Error during upload",Ve.STRING],labelFileProcessingRevertError:["Error during revert",Ve.STRING],labelTapToCancel:["tap to cancel",Ve.STRING],labelTapToRetry:["tap to retry",Ve.STRING],labelTapToUndo:["tap to undo",Ve.STRING],labelButtonRemoveItem:["Remove",Ve.STRING],labelButtonAbortItemLoad:["Abort",Ve.STRING],labelButtonRetryItemLoad:["Retry",Ve.STRING],labelButtonAbortItemProcessing:["Cancel",Ve.STRING],labelButtonUndoItemProcessing:["Undo",Ve.STRING],labelButtonRetryItemProcessing:["Retry",Ve.STRING],labelButtonProcessItem:["Upload",Ve.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Ve.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Ve.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Ve.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Ve.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Ve.STRING],oninit:[null,Ve.FUNCTION],onwarning:[null,Ve.FUNCTION],onerror:[null,Ve.FUNCTION],onactivatefile:[null,Ve.FUNCTION],oninitfile:[null,Ve.FUNCTION],onaddfilestart:[null,Ve.FUNCTION],onaddfileprogress:[null,Ve.FUNCTION],onaddfile:[null,Ve.FUNCTION],onprocessfilestart:[null,Ve.FUNCTION],onprocessfileprogress:[null,Ve.FUNCTION],onprocessfileabort:[null,Ve.FUNCTION],onprocessfilerevert:[null,Ve.FUNCTION],onprocessfile:[null,Ve.FUNCTION],onprocessfiles:[null,Ve.FUNCTION],onremovefile:[null,Ve.FUNCTION],onpreparefile:[null,Ve.FUNCTION],onupdatefiles:[null,Ve.FUNCTION],onreorderfiles:[null,Ve.FUNCTION],beforeDropFile:[null,Ve.FUNCTION],beforeAddFile:[null,Ve.FUNCTION],beforeRemoveFile:[null,Ve.FUNCTION],stylePanelLayout:[null,Ve.STRING],stylePanelAspectRatio:[null,Ve.STRING],styleItemPanelAspectRatio:[null,Ve.STRING],styleButtonRemoveItemPosition:["left",Ve.STRING],styleButtonProcessItemPosition:["right",Ve.STRING],styleLoadIndicatorPosition:["right",Ve.STRING],styleProgressIndicatorPosition:["right",Ve.STRING],styleButtonRemoveItemAlign:[!1,Ve.BOOLEAN],files:[[],Ve.ARRAY]},Qe=function(e,t){return B(t)?e[0]||null:Z(t)?e[t]||null:("object"==typeof t&&(t=t.id),e.find((function(e){return e.id===t}))||null)},Ze=function(e){if(B(e))return e;if(/:/.test(e)){var t=e.split(":");return t[1]/t[0]}return parseFloat(e)},Je=function(e){return e.filter((function(e){return!e.archived}))},$e={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},et=[ke.LOAD_ERROR,ke.PROCESSING_ERROR,ke.PROCESSING_REVERT_ERROR],tt=[ke.LOADING,ke.PROCESSING,ke.PROCESSING_QUEUED,ke.INIT],nt=[ke.PROCESSING_COMPLETE],rt=function(e){return et.includes(e.status)},ot=function(e){return tt.includes(e.status)},it=function(e){return nt.includes(e.status)},at=function(e){return{GET_STATUS:function(){var t=Je(e.items),n=$e.EMPTY,r=$e.ERROR,o=$e.BUSY,i=$e.IDLE,a=$e.READY;return 0===t.length?n:t.some(rt)?r:t.some(ot)?o:t.some(it)?a:i},GET_ITEM:function(t){return Qe(e.items,t)},GET_ACTIVE_ITEM:function(t){return Qe(Je(e.items),t)},GET_ACTIVE_ITEMS:function(){return Je(e.items)},GET_ITEMS:function(){return e.items},GET_ITEM_NAME:function(t){var n=Qe(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:function(t){var n=Qe(e.items,t);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(e.options).filter((function(e){return/^style/.test(e)})).map((function(t){return{name:t,value:e.options[t]}}))},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(e.options.stylePanelLayout)?1:Ze(e.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return e.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(t){return Je(e.items).filter((function(e){return e.status===t}))},GET_TOTAL_ITEMS:function(){return Je(e.items).length},IS_ASYNC:function(){return ie(e.options.server)&&(ie(e.options.server.process)||$(e.options.server.process))}}},ct=function(e){var t=Je(e.items).length;if(!e.options.allowMultiple)return 0===t;var n=e.options.maxFiles;return null===n||t<n},ut=function(e,t,n){return Math.max(Math.min(n,e),t)},st=function(e,t,n){return e.splice(t,0,n)},lt=function(e,t,n){return B(t)?null:void 0===n?(e.push(t),t):(n=ut(n,0,e.length),st(e,n,t),t)},ft=function(e){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e)},dt=function(e){return e.split("/").pop().split("?").shift()},pt=function(e){return e.split(".").pop()},ht=function(e){if("string"!=typeof e)return"";var t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""},mt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t+e).slice(-t.length)},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+mt(e.getMonth()+1,"00")+"-"+mt(e.getDate(),"00")+"_"+mt(e.getHours(),"00")+"-"+mt(e.getMinutes(),"00")+"-"+mt(e.getSeconds(),"00")},gt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o="string"==typeof n?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return o.lastModifiedDate=new Date,e._relativePath&&(o._relativePath=e._relativePath),z(t)||(t=vt()),t&&null===r&&pt(t)?o.name=t:(r=r||ht(o.type),o.name=t+(r?"."+r:"")),o},yt=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},Et=function(e,t){var n=yt();if(n){var r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},_t=function(e,t){for(var n=new ArrayBuffer(e.length),r=new Uint8Array(n),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return Et(n,t)},bt=function(e){return(/^data:(.+);/.exec(e)||[])[1]||null},It=function(e){return e.split(",")[1].replace(/\s/g,"")},Tt=function(e){return atob(It(e))},Ot=function(e){var t=bt(e),n=Tt(e);return _t(n,t)},Rt=function(e,t,n){return gt(Ot(e),t,null,n)},wt=function(e){if(!/^content-disposition:/i.test(e))return null;var t=e.split(/filename=|filename\*=.+''/).splice(1).map((function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(e){return e.length}));return t.length?decodeURI(t[t.length-1]):null},St=function(e){if(/content-length:/i.test(e)){var t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},Dt=function(e){return/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null},Pt=function(e){var t={source:null,name:null,size:null},n=e.split("\n"),r=!0,o=!1,i=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value,s=wt(u);if(s)t.name=s;else{var l=St(u);if(l)t.size=l;else{var f=Dt(u);f&&(t.source=f)}}}}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return t},At=function(e){var t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=function(){return t.progress},r=function(){t.request&&t.request.abort&&t.request.abort()},o=function(){var e=t.source;a.fire("init",e),e instanceof File?a.fire("load",e):e instanceof Blob?a.fire("load",gt(e,e.name)):ft(e)?a.fire("load",Rt(e)):i(e)},i=function(n){e?(t.timestamp=Date.now(),t.request=e(n,(function(e){t.duration=Date.now()-t.timestamp,t.complete=!0,e instanceof Blob&&(e=gt(e,e.name||dt(n))),a.fire("load",e instanceof Blob?e:e?e.body:null)}),(function(e){a.fire("error","string"==typeof e?{type:"error",code:0,body:e}:e)}),(function(e,n,r){r&&(t.size=r),t.duration=Date.now()-t.timestamp,e?(t.progress=n/r,a.fire("progress",t.progress)):t.progress=null}),(function(){a.fire("abort")}),(function(e){var n=Pt("string"==typeof e?e:e.headers);a.fire("meta",{size:t.size||n.size,filename:n.name,source:n.source})}))):a.fire("error",{type:"error",body:"Can't load URL",code:400})},a=Object.assign({},Le(),{setSource:function(e){return t.source=e},getProgress:n,abort:r,load:o});return a},Lt=function(e){return/GET|HEAD/.test(e)},Ct=function(e,t,n){var r={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){o=!0,a.abort()}},o=!1,i=!1;n=Object.assign({method:"POST",headers:{},withCredentials:!1},n),t=encodeURI(t),Lt(n.method)&&e&&(t=""+t+encodeURIComponent("string"==typeof e?e:JSON.stringify(e)));var a=new XMLHttpRequest;return(Lt(n.method)?a:a.upload).onprogress=function(e){o||r.onprogress(e.lengthComputable,e.loaded,e.total)},a.onreadystatechange=function(){a.readyState<2||4===a.readyState&&0===a.status||i||(i=!0,r.onheaders(a))},a.onload=function(){a.status>=200&&a.status<300?r.onload(a):r.onerror(a)},a.onerror=function(){return r.onerror(a)},a.onabort=function(){o=!0,r.onabort()},a.ontimeout=function(){return r.ontimeout(a)},a.open(n.method,t,!0),Z(n.timeout)&&(a.timeout=n.timeout),Object.keys(n.headers).forEach((function(e){var t=unescape(encodeURIComponent(n.headers[e]));a.setRequestHeader(e,t)})),n.responseType&&(a.responseType=n.responseType),n.withCredentials&&(a.withCredentials=!0),a.send(e),r},Mt=function(e,t,n,r){return{type:e,code:t,body:n,headers:r}},Nt=function(e){return function(t){e(Mt("error",0,"Timeout",t.getAllResponseHeaders()))}},xt=function(e){return/\?/.test(e)},kt=function(){for(var e="",t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e+=xt(e)&&xt(t)?t.replace(/\?/,"&"):t})),e},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!z(t.url))return null;var n=t.onload||function(e){return e},r=t.onerror||function(e){return null};return function(o,i,a,c,u,s){var l=Ct(o,kt(e,t.url),Object.assign({},t,{responseType:"blob"}));return l.onload=function(e){var r=e.getAllResponseHeaders(),a=Pt(r).name||dt(o);i(Mt("load",e.status,"HEAD"===t.method?null:gt(n(e.response),a),r))},l.onerror=function(e){a(Mt("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},l.onheaders=function(e){s(Mt("headers",e.status,null,e.getAllResponseHeaders()))},l.ontimeout=Nt(a),l.onprogress=c,l.onabort=u,l}},Gt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Ft=function(e,t,n,r,o,i,a,c,u,s,l){for(var f=[],d=l.chunkTransferId,p=l.chunkServer,h=l.chunkSize,m=l.chunkRetryDelays,v={serverId:d,aborted:!1},g=t.ondata||function(e){return e},y=t.onload||function(e,t){return"HEAD"===t?e.getResponseHeader("Upload-Offset"):e.response},E=t.onerror||function(e){return null},_=function(i){var c=new FormData;ie(o)&&c.append(n,JSON.stringify(o));var u="function"==typeof t.headers?t.headers(r,o):Object.assign({},t.headers,{"Upload-Length":r.size}),s=Object.assign({},t,{headers:u}),l=Ct(g(c),kt(e,t.url),s);l.onload=function(e){return i(y(e,s.method))},l.onerror=function(e){return a(Mt("error",e.status,E(e.response)||e.statusText,e.getAllResponseHeaders()))},l.ontimeout=Nt(a)},b=function(n){var r=kt(e,p.url,v.serverId),o={headers:"function"==typeof t.headers?t.headers(v.serverId):Object.assign({},t.headers),method:"HEAD"},i=Ct(null,r,o);i.onload=function(e){return n(y(e,o.method))},i.onerror=function(e){return a(Mt("error",e.status,E(e.response)||e.statusText,e.getAllResponseHeaders()))},i.ontimeout=Nt(a)},I=Math.floor(r.size/h),T=0;T<=I;T++){var O=T*h,R=r.slice(O,O+h,"application/offset+octet-stream");f[T]={index:T,size:R.size,offset:O,data:R,file:r,progress:0,retries:Re(m),status:Gt.QUEUED,error:null,request:null,timeout:null}}var w=function(){return i(v.serverId)},S=function(e){return e.status===Gt.QUEUED||e.status===Gt.ERROR},D=function(t){if(!v.aborted)if(t=t||f.find(S)){t.status=Gt.PROCESSING,t.progress=null;var n=p.ondata||function(e){return e},o=p.onerror||function(e){return null},i=kt(e,p.url,v.serverId),c="function"==typeof p.headers?p.headers(t):Object.assign({},p.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":t.offset,"Upload-Length":r.size,"Upload-Name":r.name}),s=t.request=Ct(n(t.data),i,Object.assign({},p,{headers:c}));s.onload=function(){t.status=Gt.COMPLETE,t.request=null,L()},s.onprogress=function(e,n,r){t.progress=e?n:null,A()},s.onerror=function(e){t.status=Gt.ERROR,t.request=null,t.error=o(e.response)||e.statusText,P(t)||a(Mt("error",e.status,o(e.response)||e.statusText,e.getAllResponseHeaders()))},s.ontimeout=function(e){t.status=Gt.ERROR,t.request=null,P(t)||Nt(a)(e)},s.onabort=function(){t.status=Gt.QUEUED,t.request=null,u()}}else f.every((function(e){return e.status===Gt.COMPLETE}))&&w()},P=function(e){return 0!==e.retries.length&&(e.status=Gt.WAITING,clearTimeout(e.timeout),e.timeout=setTimeout((function(){D(e)}),e.retries.shift()),!0)},A=function(){var e=f.reduce((function(e,t){return null===e||null===t.progress?null:e+t.progress}),0);if(null===e)return c(!1,0,0);var t=f.reduce((function(e,t){return e+t.size}),0);c(!0,e,t)},L=function(){f.filter((function(e){return e.status===Gt.PROCESSING})).length>=1||D()},C=function(){f.forEach((function(e){clearTimeout(e.timeout),e.request&&e.request.abort()}))};return v.serverId?b((function(e){v.aborted||(f.filter((function(t){return t.offset<e})).forEach((function(e){e.status=Gt.COMPLETE,e.progress=e.size})),L())})):_((function(e){v.aborted||(s(e),v.serverId=e,L())})),{abort:function(){v.aborted=!0,C()}}},Ut=function(e,t,n,r){return function(o,i,a,c,u,s,l){if(o){var f=r.chunkUploads,d=f&&o.size>r.chunkSize,p=f&&(d||r.chunkForce);if(o instanceof Blob&&p)return Ft(e,t,n,o,i,a,c,u,s,l,r);var h=t.ondata||function(e){return e},m=t.onload||function(e){return e},v=t.onerror||function(e){return null},g=new FormData;ie(i)&&g.append(n,JSON.stringify(i)),(o instanceof Blob?[{name:null,file:o}]:o).forEach((function(e){g.append(n,e.file,null===e.name?e.file.name:""+e.name+e.file.name)}));var y=Ct(h(g),kt(e,t.url),t);return y.onload=function(e){a(Mt("load",e.status,m(e.response),e.getAllResponseHeaders()))},y.onerror=function(e){c(Mt("error",e.status,v(e.response)||e.statusText,e.getAllResponseHeaders()))},y.ontimeout=Nt(c),y.onprogress=u,y.onabort=s,y}}},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return"function"==typeof t?function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,[n].concat(o,[r]))}:t&&z(t.url)?Ut(e,t,n,r):null},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!z(t.url))return function(e,t){return t()};var n=t.onload||function(e){return e},r=t.onerror||function(e){return null};return function(o,i,a){var c=Ct(o,e+t.url,t);return c.onload=function(e){i(Mt("load",e.status,n(e.response),e.getAllResponseHeaders()))},c.onerror=function(e){a(Mt("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},c.ontimeout=Nt(a),c}},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.random()*(t-e)},Ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,o=null,i=Date.now();return function a(){var c=Date.now()-i,u=qt(n,r);c+u>t&&(u=c+u-t);var s=c/t;s>=1||document.hidden?e(1):(e(s),o=setTimeout(a,u))}(),{clear:function(){clearTimeout(o)}}},Wt=function(e){var t={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},n=function(n,r){var o=function(){0!==t.duration&&null!==t.progress&&c.fire("progress",c.getProgress())},i=function(){t.complete=!0,c.fire("load-perceived",t.response.body)};c.fire("start"),t.timestamp=Date.now(),t.perceivedPerformanceUpdater=Ht((function(e){t.perceivedProgress=e,t.perceivedDuration=Date.now()-t.timestamp,o(),t.response&&1===t.perceivedProgress&&!t.complete&&i()}),qt(750,1500)),t.request=e(n,r,(function(e){t.response=ie(e)?e:{type:"load",code:200,body:""+e,headers:{}},t.duration=Date.now()-t.timestamp,t.progress=1,c.fire("load",t.response.body),1===t.perceivedProgress&&i()}),(function(e){t.perceivedPerformanceUpdater.clear(),c.fire("error",ie(e)?e:{type:"error",code:0,body:""+e})}),(function(e,n,r){t.duration=Date.now()-t.timestamp,t.progress=e?n/r:null,o()}),(function(){t.perceivedPerformanceUpdater.clear(),c.fire("abort",t.response?t.response.body:null)}),(function(e){c.fire("transfer",e)}))},r=function(){t.request&&(t.perceivedPerformanceUpdater.clear(),t.request.abort&&t.request.abort(),t.complete=!0)},o=function(){r(),t.complete=!1,t.perceivedProgress=0,t.progress=0,t.timestamp=null,t.perceivedDuration=0,t.duration=0,t.request=null,t.response=null},i=function(){return t.progress?Math.min(t.progress,t.perceivedProgress):null},a=function(){return Math.min(t.duration,t.perceivedDuration)},c=Object.assign({},Le(),{process:n,abort:r,getProgress:i,getDuration:a,reset:o});return c},Yt=function(e){return e.substr(0,e.lastIndexOf("."))||e},zt=function(e){var t=[e.name,e.size,e.type];return e instanceof Blob||ft(e)?t[0]=e.name||vt():ft(e)?(t[1]=e.length,t[2]=bt(e)):z(e)&&(t[0]=dt(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},Xt=function(e){return!!(e instanceof File||e instanceof Blob&&e.name)},Kt=function e(t){if(!ie(t))return t;var n=V(t)?[]:{};for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];n[r]=o&&ie(o)?e(o):o}return n},Qt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=_e(),i={archived:!1,frozen:!1,released:!1,source:null,file:r,serverFileReference:n,transferId:null,processingAborted:!1,status:n?ke.PROCESSING_COMPLETE:ke.INIT,activeLoader:null,activeProcessor:null},c=null,u={},s=function(e){return i.status=e},l=function(e){if(!i.released&&!i.frozen){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];O.fire.apply(O,[e].concat(n))}},f=function(){return pt(i.file.name)},d=function(){return i.file.type},p=function(){return i.file.size},h=function(){return i.file},m=function(e,n,r){i.source=e,O.fireSync("init"),i.file?O.fireSync("load-skip"):(i.file=zt(e),n.on("init",(function(){l("load-init")})),n.on("meta",(function(e){i.file.size=e.size,i.file.filename=e.filename,e.source&&(t=je.LIMBO,i.serverFileReference=e.source,i.status=ke.PROCESSING_COMPLETE),l("load-meta")})),n.on("progress",(function(e){s(ke.LOADING),l("load-progress",e)})),n.on("error",(function(e){s(ke.LOAD_ERROR),l("load-request-error",e)})),n.on("abort",(function(){s(ke.INIT),l("load-abort")})),n.on("load",(function(e){i.activeLoader=null;var n=function(e){i.file=Xt(e)?e:i.file,t===je.LIMBO&&i.serverFileReference?s(ke.PROCESSING_COMPLETE):s(ke.IDLE),l("load")},o=function(t){i.file=e,l("load-meta"),s(ke.LOAD_ERROR),l("load-file-error",t)};i.serverFileReference?n(e):r(e,n,o)})),n.setSource(e),i.activeLoader=n,n.load())},v=function(){i.activeLoader&&i.activeLoader.load()},g=function(){i.activeLoader?i.activeLoader.abort():(s(ke.INIT),l("load-abort"))},y=function e(t,n){if(i.processingAborted)i.processingAborted=!1;else if(s(ke.PROCESSING),c=null,i.file instanceof Blob){t.on("load",(function(e){i.transferId=null,i.serverFileReference=e})),t.on("transfer",(function(e){i.transferId=e})),t.on("load-perceived",(function(e){i.activeProcessor=null,i.transferId=null,i.serverFileReference=e,s(ke.PROCESSING_COMPLETE),l("process-complete",e)})),t.on("start",(function(){l("process-start")})),t.on("error",(function(e){i.activeProcessor=null,s(ke.PROCESSING_ERROR),l("process-error",e)})),t.on("abort",(function(e){i.activeProcessor=null,i.transferId=null,i.serverFileReference=e,s(ke.IDLE),l("process-abort"),c&&c()})),t.on("progress",(function(e){l("process-progress",e)}));var r=function(e){i.archived||t.process(e,Object.assign({},u))},o=console.error;n(i.file,r,o),i.activeProcessor=t}else O.on("load",(function(){e(t,n)}))},E=function(){i.processingAborted=!1,s(ke.PROCESSING_QUEUED)},_=function(){return new e((function(e){if(!i.activeProcessor)return i.processingAborted=!0,s(ke.IDLE),l("process-abort"),void e();c=function(){e()},i.activeProcessor.abort()}))},b=function(t,n){return new e((function(e,r){null!==i.serverFileReference?(t(i.serverFileReference,(function(){i.serverFileReference=null,e()}),(function(t){n?(s(ke.PROCESSING_REVERT_ERROR),l("process-revert-error"),r(t)):e()})),s(ke.IDLE),l("process-revert")):e()}))},I=function(e,t,n){var r=e.split("."),o=r[0],i=r.pop(),a=u;r.forEach((function(e){return a=a[e]})),JSON.stringify(a[i])!==JSON.stringify(t)&&(a[i]=t,n||l("metadata-update",{key:o,value:u[o]}))},T=function(e){return Kt(e?u[e]:u)},O=Object.assign({id:{get:function(){return o}},origin:{get:function(){return t}},serverId:{get:function(){return i.serverFileReference}},transferId:{get:function(){return i.transferId}},status:{get:function(){return i.status}},filename:{get:function(){return i.file.name}},filenameWithoutExtension:{get:function(){return Yt(i.file.name)}},fileExtension:{get:f},fileType:{get:d},fileSize:{get:p},file:{get:h},relativePath:{get:function(){return i.file._relativePath}},source:{get:function(){return i.source}},getMetadata:T,setMetadata:function(e,t,n){if(ie(e)){var r=e;return Object.keys(r).forEach((function(e){I(e,r[e],t)})),e}return I(e,t,n),t},extend:function(e,t){return R[e]=t},abortLoad:g,retryLoad:v,requestProcessing:E,abortProcessing:_,load:m,process:y,revert:b},Le(),{freeze:function(){return i.frozen=!0},release:function(){return i.released=!0},released:{get:function(){return i.released}},archive:function(){return i.archived=!0},archived:{get:function(){return i.archived}}}),R=a(O);return R},Zt=function(e,t){return B(t)?0:z(t)?e.findIndex((function(e){return e.id===t})):-1},Jt=function(e,t){var n=Zt(e,t);if(!(n<0))return e[n]||null},$t=function(e,t,n,r,o,i){var a=Ct(null,e,{method:"GET",responseType:"blob"});return a.onload=function(n){var r=n.getAllResponseHeaders(),o=Pt(r).name||dt(e);t(Mt("load",n.status,gt(n.response,o),r))},a.onerror=function(e){n(Mt("error",e.status,e.statusText,e.getAllResponseHeaders()))},a.onheaders=function(e){i(Mt("headers",e.status,null,e.getAllResponseHeaders()))},a.ontimeout=Nt(n),a.onprogress=r,a.onabort=o,a},en=function(e){return 0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},tn=function(e){return(e.indexOf(":")>-1||e.indexOf("//")>-1)&&en(location.href)!==en(e)},nn=function(e){return function(){return $(e)?e.apply(void 0,arguments):e}},rn=function(e){return!Xt(e.file)},on=function(e,t){clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout((function(){e("DID_UPDATE_ITEMS",{items:Je(t.items)})}),0)},an=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return new e((function(e){if(!t)return e(!0);var n=t.apply(void 0,r);return null==n?e(!0):"boolean"==typeof n?e(n):void("function"==typeof n.then&&n.then(e))}))},cn=function(e,t){e.items.sort((function(e,n){return t(Ne(e),Ne(n))}))},un=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.query,o=n.success,i=void 0===o?function(){}:o,a=n.failure,c=void 0===a?function(){}:a,u=Oe(n,["query","success","failure"]),s=Qe(e.items,r);s?t(s,i,c,u||{}):c({error:Mt("error",0,"Item not found"),file:null})}},sn=function(t,n,r){return{ABORT_ALL:function(){Je(r.items).forEach((function(e){e.freeze(),e.abortLoad(),e.abortProcessing()}))},DID_SET_FILES:function(e){var n=e.value,o=(void 0===n?[]:n).map((function(e){return{source:e.source?e.source:e,options:e.options}})),i=Je(r.items);i.forEach((function(e){o.find((function(t){return t.source===e.source||t.source===e.file}))||t("REMOVE_ITEM",{query:e,remove:!1})})),i=Je(r.items),o.forEach((function(e,n){i.find((function(t){return t.source===e.source||t.file===e.source}))||t("ADD_ITEM",Object.assign({},e,{interactionMethod:Ee.NONE,index:n}))}))},DID_UPDATE_ITEM_METADATA:function(e){var o=e.id;clearTimeout(r.itemUpdateTimeout),r.itemUpdateTimeout=setTimeout((function(){var e=Jt(r.items,o);if(n("IS_ASYNC")){var i=function(){setTimeout((function(){t("REQUEST_ITEM_PROCESSING",{query:o})}),32)},a=function(t){e.revert(Bt(r.options.server.url,r.options.server.revert),n("GET_FORCE_REVERT")).then(t?i:function(){}).catch((function(){}))},c=function(t){e.abortProcessing().then(t?i:function(){})};return e.status===ke.PROCESSING_COMPLETE?a(r.options.instantUpload):e.status===ke.PROCESSING?c(r.options.instantUpload):void(r.options.instantUpload&&i())}qe("SHOULD_PREPARE_OUTPUT",!1,{item:e,query:n}).then((function(n){n&&t("REQUEST_PREPARE_OUTPUT",{query:o,item:e,success:function(e){t("DID_PREPARE_OUTPUT",{id:o,file:e})}},!0)}))}),0)},MOVE_ITEM:function(e){var t=e.query,n=e.index,o=Qe(r.items,t);if(o){var i=r.items.indexOf(o);i!==(n=ut(n,0,r.items.length-1))&&r.items.splice(n,0,r.items.splice(i,1)[0])}},SORT:function(e){var o=e.compare;cn(r,o),t("DID_SORT_ITEMS",{items:n("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(r){var o=r.items,i=r.index,a=r.interactionMethod,c=r.success,u=void 0===c?function(){}:c,s=r.failure,l=void 0===s?function(){}:s,f=i;if(-1===i||void 0===i){var d=n("GET_ITEM_INSERT_LOCATION"),p=n("GET_TOTAL_ITEMS");f="before"===d?0:p}var h=n("GET_IGNORED_FILES"),m=function(e){return Xt(e)?!h.includes(e.name.toLowerCase()):!B(e)},v=o.filter(m).map((function(n){return new e((function(e,r){t("ADD_ITEM",{interactionMethod:a,source:n.source||n,success:e,failure:r,index:f++,options:n.options||{}})}))}));e.all(v).then(u).catch(l)},ADD_ITEM:function(e){var o=e.source,i=e.index,a=void 0===i?-1:i,c=e.interactionMethod,u=e.success,s=void 0===u?function(){}:u,l=e.failure,f=void 0===l?function(){}:l,d=e.options,p=void 0===d?{}:d;if(B(o))f({error:Mt("error",0,"No source"),file:null});else if(!Xt(o)||!r.options.ignoredFiles.includes(o.name.toLowerCase())){if(!ct(r)){if(r.options.allowMultiple||!r.options.allowMultiple&&!r.options.allowReplace){var h=Mt("warning",0,"Max files");return t("DID_THROW_MAX_FILES",{source:o,error:h}),void f({error:h,file:null})}var m=Je(r.items)[0];if(m.status===ke.PROCESSING_COMPLETE||m.status===ke.PROCESSING_REVERT_ERROR){var v=n("GET_FORCE_REVERT");if(m.revert(Bt(r.options.server.url,r.options.server.revert),v).then((function(){v&&t("ADD_ITEM",{source:o,index:a,interactionMethod:c,success:s,failure:f,options:p})})).catch((function(){})),v)return}t("REMOVE_ITEM",{query:m.id})}var g="local"===p.type?je.LOCAL:"limbo"===p.type?je.LIMBO:je.INPUT,y=Qt(g,g===je.INPUT?null:o,p.file);Object.keys(p.metadata||{}).forEach((function(e){y.setMetadata(e,p.metadata[e])})),He("DID_CREATE_ITEM",y,{query:n,dispatch:t});var E=n("GET_ITEM_INSERT_LOCATION");r.options.itemInsertLocationFreedom||(a="before"===E?-1:r.items.length),lt(r.items,y,a),$(E)&&o&&cn(r,E);var _=y.id;y.on("init",(function(){t("DID_INIT_ITEM",{id:_})})),y.on("load-init",(function(){t("DID_START_ITEM_LOAD",{id:_})})),y.on("load-meta",(function(){t("DID_UPDATE_ITEM_META",{id:_})})),y.on("load-progress",(function(e){t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:_,progress:e})})),y.on("load-request-error",(function(e){var n=nn(r.options.labelFileLoadError)(e);if(e.code>=400&&e.code<500)return t("DID_THROW_ITEM_INVALID",{id:_,error:e,status:{main:n,sub:e.code+" ("+e.body+")"}}),void f({error:e,file:Ne(y)});t("DID_THROW_ITEM_LOAD_ERROR",{id:_,error:e,status:{main:n,sub:r.options.labelTapToRetry}})})),y.on("load-file-error",(function(e){t("DID_THROW_ITEM_INVALID",{id:_,error:e.status,status:e.status}),f({error:e.status,file:Ne(y)})})),y.on("load-abort",(function(){t("REMOVE_ITEM",{query:_})})),y.on("load-skip",(function(){t("COMPLETE_LOAD_ITEM",{query:_,item:y,data:{source:o,success:s}})})),y.on("load",(function(){var e=function(e){e?(y.on("metadata-update",(function(e){t("DID_UPDATE_ITEM_METADATA",{id:_,change:e})})),qe("SHOULD_PREPARE_OUTPUT",!1,{item:y,query:n}).then((function(e){var n=function(){t("COMPLETE_LOAD_ITEM",{query:_,item:y,data:{source:o,success:s}}),on(t,r)};e?t("REQUEST_PREPARE_OUTPUT",{query:_,item:y,success:function(e){t("DID_PREPARE_OUTPUT",{id:_,file:e}),n()}},!0):n()}))):t("REMOVE_ITEM",{query:_})};qe("DID_LOAD_ITEM",y,{query:n,dispatch:t}).then((function(){an(n("GET_BEFORE_ADD_FILE"),Ne(y)).then(e)})).catch((function(){e(!1)}))})),y.on("process-start",(function(){t("DID_START_ITEM_PROCESSING",{id:_})})),y.on("process-progress",(function(e){t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:_,progress:e})})),y.on("process-error",(function(e){t("DID_THROW_ITEM_PROCESSING_ERROR",{id:_,error:e,status:{main:nn(r.options.labelFileProcessingError)(e),sub:r.options.labelTapToRetry}})})),y.on("process-revert-error",(function(e){t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:_,error:e,status:{main:nn(r.options.labelFileProcessingRevertError)(e),sub:r.options.labelTapToRetry}})})),y.on("process-complete",(function(e){t("DID_COMPLETE_ITEM_PROCESSING",{id:_,error:null,serverFileReference:e}),t("DID_DEFINE_VALUE",{id:_,value:e})})),y.on("process-abort",(function(){t("DID_ABORT_ITEM_PROCESSING",{id:_})})),y.on("process-revert",(function(){t("DID_REVERT_ITEM_PROCESSING",{id:_}),t("DID_DEFINE_VALUE",{id:_,value:null})})),t("DID_ADD_ITEM",{id:_,index:a,interactionMethod:c}),on(t,r);var b=r.options.server||{},I=b.url,T=b.load,O=b.restore,R=b.fetch;y.load(o,At(g===je.INPUT?z(o)&&tn(o)&&R?jt(I,R):$t:g===je.LIMBO?jt(I,O):jt(I,T)),(function(e,t,r){qe("LOAD_FILE",e,{query:n}).then(t).catch(r)}))}},REQUEST_PREPARE_OUTPUT:function(e){var t=e.item,r=e.success,o=e.failure,i=void 0===o?function(){}:o,a={error:Mt("error",0,"Item not found"),file:null};if(t.archived)return i(a);qe("PREPARE_OUTPUT",t.file,{query:n,item:t}).then((function(e){qe("COMPLETE_PREPARE_OUTPUT",e,{query:n,item:t}).then((function(e){if(t.archived)return i(a);r(e)}))}))},COMPLETE_LOAD_ITEM:function(e){var o=e.item,i=e.data,a=i.success,c=i.source,u=n("GET_ITEM_INSERT_LOCATION");if($(u)&&c&&cn(r,u),t("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.origin===je.INPUT?null:c}),a(Ne(o)),o.origin!==je.LOCAL)return o.origin===je.LIMBO?(t("DID_COMPLETE_ITEM_PROCESSING",{id:o.id,error:null,serverFileReference:c}),void t("DID_DEFINE_VALUE",{id:o.id,value:c})):void(n("IS_ASYNC")&&r.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:o.id}));t("DID_LOAD_LOCAL_ITEM",{id:o.id})},RETRY_ITEM_LOAD:un(r,(function(e){e.retryLoad()})),REQUEST_ITEM_PREPARE:un(r,(function(e,n,r){t("REQUEST_PREPARE_OUTPUT",{query:e.id,item:e,success:function(r){t("DID_PREPARE_OUTPUT",{id:e.id,file:r}),n({file:e,output:r})},failure:r},!0)})),REQUEST_ITEM_PROCESSING:un(r,(function(e,o,i){if(e.status===ke.IDLE||e.status===ke.PROCESSING_ERROR)e.status!==ke.PROCESSING_QUEUED&&(e.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:e.id}),t("PROCESS_ITEM",{query:e,success:o,failure:i},!0));else{var a=function(){return t("REQUEST_ITEM_PROCESSING",{query:e,success:o,failure:i})},c=function(){return document.hidden?a():setTimeout(a,32)};e.status===ke.PROCESSING_COMPLETE||e.status===ke.PROCESSING_REVERT_ERROR?e.revert(Bt(r.options.server.url,r.options.server.revert),n("GET_FORCE_REVERT")).then(c).catch((function(){})):e.status===ke.PROCESSING&&e.abortProcessing().then(c)}})),PROCESS_ITEM:un(r,(function(e,o,i){var a=n("GET_MAX_PARALLEL_UPLOADS");if(n("GET_ITEMS_BY_STATUS",ke.PROCESSING).length!==a){if(e.status!==ke.PROCESSING){var c=function e(){var n=r.processingQueue.shift();if(n){var o=n.id,i=n.success,a=n.failure,c=Qe(r.items,o);c&&!c.archived?t("PROCESS_ITEM",{query:o,success:i,failure:a},!0):e()}};e.onOnce("process-complete",(function(){o(Ne(e)),c(),n("GET_ITEMS_BY_STATUS",ke.PROCESSING_COMPLETE).length===r.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")})),e.onOnce("process-error",(function(t){i({error:t,file:Ne(e)}),c()}));var u=r.options;e.process(Wt(Vt(u.server.url,u.server.process,u.name,{chunkTransferId:e.transferId,chunkServer:u.server.patch,chunkUploads:u.chunkUploads,chunkForce:u.chunkForce,chunkSize:u.chunkSize,chunkRetryDelays:u.chunkRetryDelays})),(function(r,o,i){qe("PREPARE_OUTPUT",r,{query:n,item:e}).then((function(n){t("DID_PREPARE_OUTPUT",{id:e.id,file:n}),o(n)})).catch(i)}))}}else r.processingQueue.push({id:e.id,success:o,failure:i})})),RETRY_ITEM_PROCESSING:un(r,(function(e){t("REQUEST_ITEM_PROCESSING",{query:e})})),REQUEST_REMOVE_ITEM:un(r,(function(e){an(n("GET_BEFORE_REMOVE_FILE"),Ne(e)).then((function(n){n&&t("REMOVE_ITEM",{query:e})}))})),RELEASE_ITEM:un(r,(function(e){e.release()})),REMOVE_ITEM:un(r,(function(e,o,i,a){var c=function(){var n=e.id;Jt(r.items,n).archive(),t("DID_REMOVE_ITEM",{error:null,id:n,item:e}),on(t,r),o(Ne(e))},u=r.options.server;e.origin===je.LOCAL&&u&&$(u.remove)&&!1!==a.remove?(t("DID_START_ITEM_REMOVE",{id:e.id}),u.remove(e.source,(function(){return c()}),(function(n){t("DID_THROW_ITEM_REMOVE_ERROR",{id:e.id,error:Mt("error",0,n,null),status:{main:nn(r.options.labelFileRemoveError)(n),sub:r.options.labelTapToRetry}})}))):(a.revert&&e.origin!==je.LOCAL&&null!==e.serverId&&e.revert(Bt(r.options.server.url,r.options.server.revert),n("GET_FORCE_REVERT")),c())})),ABORT_ITEM_LOAD:un(r,(function(e){e.abortLoad()})),ABORT_ITEM_PROCESSING:un(r,(function(e){e.serverId?t("REVERT_ITEM_PROCESSING",{id:e.id}):e.abortProcessing().then((function(){r.options.instantUpload&&t("REMOVE_ITEM",{query:e.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:un(r,(function(e){if(r.options.instantUpload){var o=function(n){n&&t("REVERT_ITEM_PROCESSING",{query:e})},i=n("GET_BEFORE_REMOVE_FILE");if(!i)return o(!0);var a=i(Ne(e));return null==a?o(!0):"boolean"==typeof a?o(a):void("function"==typeof a.then&&a.then(o))}t("REVERT_ITEM_PROCESSING",{query:e})})),REVERT_ITEM_PROCESSING:un(r,(function(e){e.revert(Bt(r.options.server.url,r.options.server.revert),n("GET_FORCE_REVERT")).then((function(){(r.options.instantUpload||rn(e))&&t("REMOVE_ITEM",{query:e.id})})).catch((function(){}))})),SET_OPTIONS:function(e){var n=e.options;i(n,(function(e,n){t("SET_"+me(e,"_").toUpperCase(),{value:n})}))}}},ln=function(e){return e},fn=function(e){return document.createElement(e)},dn=function(e,t){var n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},pn=function(e,t,n,r){var o=(r%360-90)*Math.PI/180;return{x:e+n*Math.cos(o),y:t+n*Math.sin(o)}},hn=function(e,t,n,r,o,i){var a=pn(e,t,n,o),c=pn(e,t,n,r);return["M",a.x,a.y,"A",n,n,0,i,0,c.x,c.y].join(" ")},mn=function(e,t,n,r,o){var i=1;return o>r&&o-r<=.5&&(i=0),r>o&&r-o>=.5&&(i=0),hn(e,t,n,360*Math.min(.9999,r),360*Math.min(.9999,o),i)},vn=k({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(e){var t=e.root,n=e.props;n.spin=!1,n.progress=0,n.opacity=0;var r=f("svg");t.ref.path=f("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(t.ref.path),t.ref.svg=r,t.appendChild(r)},write:function(e){var t=e.root,n=e.props;if(0!==n.opacity){n.align&&(t.element.dataset.align=n.align);var r=parseInt(c(t.ref.path,"stroke-width"),10),o=.5*t.rect.element.width,i=0,a=0;n.spin?(i=0,a=.5):(i=0,a=n.progress);var u=mn(o,o,o-r,i,a);c(t.ref.path,"d",u),c(t.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),gn=k({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(e){var t=e.root,n=e.props;t.element.innerHTML=(n.icon||"")+"<span>"+n.label+"</span>",n.isDisabled=!1},write:function(e){var t=e.root,n=e.props,r=n.isDisabled,o=t.query("GET_DISABLED")||0===n.opacity;o&&!r?(n.isDisabled=!0,c(t.element,"disabled","disabled")):!o&&r&&(n.isDisabled=!1,t.element.removeAttribute("disabled"))}}),yn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return(e=Math.round(Math.abs(e)))<1e3?e+" bytes":e<_n?Math.floor(e/En)+" KB":e<bn?In(e/_n,1,t)+" MB":In(e/bn,2,t)+" GB"},En=1e3,_n=1e6,bn=1e9,In=function(e,t,n){return e.toFixed(t).split(".").filter((function(e){return"0"!==e})).join(n)},Tn=function(e){var t=e.root,n=e.props,r=fn("span");r.className="filepond--file-info-main",c(r,"aria-hidden","true"),t.appendChild(r),t.ref.fileName=r;var o=fn("span");o.className="filepond--file-info-sub",t.appendChild(o),t.ref.fileSize=o,dn(o,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),dn(r,ln(t.query("GET_ITEM_NAME",n.id)))},On=function(e){var t=e.root,n=e.props;dn(t.ref.fileSize,yn(t.query("GET_ITEM_SIZE",n.id))),dn(t.ref.fileName,ln(t.query("GET_ITEM_NAME",n.id)))},Rn=function(e){var t=e.root,n=e.props;Z(t.query("GET_ITEM_SIZE",n.id))||dn(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},wn=k({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:G({DID_LOAD_ITEM:On,DID_UPDATE_ITEM_META:On,DID_THROW_ITEM_LOAD_ERROR:Rn,DID_THROW_ITEM_INVALID:Rn}),didCreateView:function(e){He("CREATE_VIEW",Object.assign({},e,{view:e}))},create:Tn,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Sn=function(e){return Math.round(100*e)},Dn=function(e){var t=e.root,n=fn("span");n.className="filepond--file-status-main",t.appendChild(n),t.ref.main=n;var r=fn("span");r.className="filepond--file-status-sub",t.appendChild(r),t.ref.sub=r,Pn({root:t,action:{progress:null}})},Pn=function(e){var t=e.root,n=e.action,r=null===n.progress?t.query("GET_LABEL_FILE_LOADING"):t.query("GET_LABEL_FILE_LOADING")+" "+Sn(n.progress)+"%";dn(t.ref.main,r),dn(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},An=function(e){var t=e.root;dn(t.ref.main,""),dn(t.ref.sub,"")},Ln=function(e){var t=e.root,n=e.action;dn(t.ref.main,n.status.main),dn(t.ref.sub,n.status.sub)},Cn=k({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:G({DID_LOAD_ITEM:An,DID_REVERT_ITEM_PROCESSING:An,DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;dn(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),dn(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(e){var t=e.root;dn(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),dn(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root;dn(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),dn(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action,r=null===n.progress?t.query("GET_LABEL_FILE_PROCESSING"):t.query("GET_LABEL_FILE_PROCESSING")+" "+Sn(n.progress)+"%";dn(t.ref.main,r),dn(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:Pn,DID_THROW_ITEM_LOAD_ERROR:Ln,DID_THROW_ITEM_INVALID:Ln,DID_THROW_ITEM_PROCESSING_ERROR:Ln,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Ln,DID_THROW_ITEM_REMOVE_ERROR:Ln}),didCreateView:function(e){He("CREATE_VIEW",Object.assign({},e,{view:e}))},create:Dn,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Mn={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Nn=[];i(Mn,(function(e){Nn.push(e)}));var xn,kn=function(e){var t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},jn=function(e){return e.ref.buttonAbortItemLoad.rect.element.width},Gn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.height/4)},Fn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.left/2)},Un=function(e){return e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},Vn={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Bn={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:kn},status:{translateX:kn}},qn={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Hn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:kn},status:{translateX:kn,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:kn},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Un},info:{translateX:kn},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Un},buttonRemoveItem:{opacity:1},info:{translateX:kn},status:{opacity:1,translateX:kn}},DID_LOAD_ITEM:Bn,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:kn},status:{translateX:kn}},DID_START_ITEM_PROCESSING:qn,DID_REQUEST_ITEM_PROCESSING:qn,DID_UPDATE_ITEM_PROCESS_PROGRESS:qn,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:kn}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:kn},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Bn},Wn=k({create:function(e){var t=e.root;t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Yn=function(e){var t,n=e.root,r=e.props.id,o=n.query("GET_ALLOW_REVERT"),a=n.query("GET_ALLOW_REMOVE"),c=n.query("GET_ALLOW_PROCESS"),u=n.query("GET_INSTANT_UPLOAD"),s=n.query("IS_ASYNC"),l=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");s?c&&!o?t=function(e){return!/RevertItemProcessing/.test(e)}:!c&&o?t=function(e){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(e)}:c||o||(t=function(e){return!/Process/.test(e)}):t=function(e){return!/Process/.test(e)};var f=t?Nn.filter(t):Nn.concat();if(u&&o&&(Mn.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",Mn.RevertItemProcessing.icon="GET_ICON_REMOVE"),s&&!o){var d=Hn.DID_COMPLETE_ITEM_PROCESSING;d.info.translateX=Fn,d.info.translateY=Gn,d.status.translateY=Gn,d.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(s&&!c&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((function(e){Hn[e].status.translateY=Gn})),Hn.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=jn),l&&o){Mn.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var p=Hn.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=kn,p.status.translateY=Gn,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}a||(Mn.RemoveItem.disabled=!0),i(Mn,(function(e,t){var o=n.createChildView(gn,{label:n.query(t.label),icon:n.query(t.icon),opacity:0});f.includes(e)&&n.appendChildView(o),t.disabled&&(o.element.setAttribute("disabled","disabled"),o.element.setAttribute("hidden","hidden")),o.element.dataset.align=n.query("GET_STYLE_"+t.align),o.element.classList.add(t.className),o.on("click",(function(e){e.stopPropagation(),t.disabled||n.dispatch(t.action,{query:r})})),n.ref["button"+e]=o})),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(Wn)),n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),n.ref.info=n.appendChildView(n.createChildView(wn,{id:r})),n.ref.status=n.appendChildView(n.createChildView(Cn,{id:r}));var h=n.appendChildView(n.createChildView(vn,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));h.element.classList.add("filepond--load-indicator"),n.ref.loadProgressIndicator=h;var m=n.appendChildView(n.createChildView(vn,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));m.element.classList.add("filepond--process-indicator"),n.ref.processProgressIndicator=m,n.ref.activeStyles=[]},zn=function(e){var t=e.root,n=e.actions,r=e.props;Xn({root:t,actions:n,props:r});var o=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return Hn[e.type]}));if(o){t.ref.activeStyles=[];var a=Hn[o.type];i(Vn,(function(e,n){var r=t.ref[e];i(n,(function(n,o){var i=a[e]&&void 0!==a[e][n]?a[e][n]:o;t.ref.activeStyles.push({control:r,key:n,value:i})}))}))}t.ref.activeStyles.forEach((function(e){var n=e.control,r=e.key,o=e.value;n[r]="function"==typeof o?o(t):o}))},Xn=G({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(e){var t=e.root;t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=n.progress}}),Kn=k({create:Yn,write:zn,didCreateView:function(e){He("CREATE_VIEW",Object.assign({},e,{view:e}))},name:"file"}),Qn=k({create:function(e){var t=e.root,n=e.props;t.ref.fileName=fn("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(Kn,{id:n.id})),t.ref.data=!1},ignoreRect:!0,write:G({DID_LOAD_ITEM:function(e){var t=e.root,n=e.props;dn(t.ref.fileName,ln(t.query("GET_ITEM_NAME",n.id)))}}),didCreateView:function(e){He("CREATE_VIEW",Object.assign({},e,{view:e}))},tag:"fieldset",name:"file-wrapper"}),Zn={type:"spring",damping:.6,mass:7},Jn=function(e){var t=e.root,n=e.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Zn},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Zn},styles:["translateY"]}}].forEach((function(e){$n(t,e,n.name)})),t.element.classList.add("filepond--"+n.name),t.ref.scalable=null},$n=function(e,t,n){var r=k({name:"panel-"+t.name+" filepond--"+n,mixins:t.mixins,ignoreRectUpdate:!0}),o=e.createChildView(r,t.props);e.ref[t.name]=e.appendChildView(o)},er=k({name:"panel",write:function(e){var t=e.root,n=e.props;if(null!==t.ref.scalable&&n.scalable===t.ref.scalable||(t.ref.scalable=!W(n.scalable)||n.scalable,t.element.dataset.scalable=t.ref.scalable),n.height){var r=t.ref.top.rect.element,o=t.ref.bottom.rect.element,i=Math.max(r.height+o.height,n.height);t.ref.center.translateY=r.height,t.ref.center.scaleY=(i-r.height-o.height)/100,t.ref.bottom.translateY=i-o.height}},create:Jn,ignoreRect:!0,mixins:{apis:["height","scalable"]}}),tr=function(e){var t=e.map((function(e){return e.id})),n=void 0;return{setIndex:function(e){n=e},getIndex:function(){return n},getItemIndex:function(e){return t.indexOf(e.id)}}},nr={type:"spring",stiffness:.75,damping:.45,mass:10},rr="spring",or={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},ir=function(e){var t=e.root,n=e.props;if(t.ref.handleClick=function(e){return t.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},t.element.id="filepond--item-"+n.id,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(Qn,{id:n.id})),t.ref.panel=t.appendChildView(t.createChildView(er,{name:"item-panel"})),t.ref.panel.height=null,n.markedForRemoval=!1,t.query("GET_ALLOW_REORDER")){t.element.dataset.dragState="idle";var r=function(e){if(e.isPrimary){var r=!1,o={x:e.pageX,y:e.pageY};n.dragOrigin={x:t.translateX,y:t.translateY},n.dragCenter={x:e.offsetX,y:e.offsetY};var i=tr(t.query("GET_ACTIVE_ITEMS"));t.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:i});var a=function(e){e.isPrimary&&(e.stopPropagation(),e.preventDefault(),n.dragOffset={x:e.pageX-o.x,y:e.pageY-o.y},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!r&&(r=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:i}))},c=function e(c){c.isPrimary&&(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",e),n.dragOffset={x:c.pageX-o.x,y:c.pageY-o.y},t.dispatch("DID_DROP_ITEM",{id:n.id,dragState:i}),r&&setTimeout((function(){return t.element.addEventListener("click",t.ref.handleClick)}),0))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",c)}};t.element.addEventListener("pointerdown",r)}},ar=G({DID_UPDATE_PANEL_HEIGHT:function(e){var t=e.root,n=e.action;t.height=n.height}}),cr=G({DID_GRAB_ITEM:function(e){var t=e.root;e.props.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:function(e){e.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(e){var t=e.root,n=e.props;n.dragOffset=null,n.dragOrigin=null,t.element.dataset.dragState="drop"}},(function(e){var t=e.root,n=e.actions,r=e.props,o=e.shouldOptimize;"drop"===t.element.dataset.dragState&&t.scaleX<=1&&(t.element.dataset.dragState="idle");var i=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return or[e.type]}));i&&i.type!==r.currentState&&(r.currentState=i.type,t.element.dataset.filepondItemState=or[r.currentState]||"");var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");a?o||(t.height=t.rect.element.width*a):(ar({root:t,actions:n,props:r}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),o&&(t.ref.panel.height=null),t.ref.panel.height=t.height})),ur=k({create:ir,write:cr,destroy:function(e){var t=e.root,n=e.props;t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:rr,scaleY:rr,translateX:nr,translateY:nr,opacity:{type:"tween",duration:150}}}}),sr=function(e,t,n){if(n){var r=e.rect.element.width,o=t.length,i=null;if(0===o||n.top<t[0].rect.element.top)return-1;var a=t[0].rect.element,c=a.marginLeft+a.marginRight,u=a.width+c,s=Math.round(r/u);if(1===s){for(var l=0;l<o;l++){var f=t[l],d=f.rect.outer.top+.5*f.rect.element.height;if(n.top<d)return l}return o}for(var p=a.marginTop+a.marginBottom,h=a.height+p,m=0;m<o;m++){var v=m%s*u,g=Math.floor(m/s)*h,y=g-a.marginTop,E=v+u,_=g+h+a.marginBottom;if(n.top<_&&n.top>y){if(n.left<E)return m;i=m!==o-1?m:null}}return null!==i?i:o}},lr={height:0,width:0,get getHeight(){return this.height},set setHeight(e){0!==this.height&&0!==e||(this.height=e)},get getWidth(){return this.width},set setWidth(e){0!==this.width&&0!==e||(this.width=e)},setDimensions:function(e,t){0!==this.height&&0!==e||(this.height=e),0!==this.width&&0!==t||(this.width=t)}},fr=function(e){var t=e.root;c(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},dr=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(0===e.opacity&&pr(e,t,n,r,o),e.scaleX=1,e.scaleY=1,e.opacity=1))},pr=function(e,t,n,r,o){e.interactionMethod===Ee.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===Ee.DROP?(e.translateX=null,e.translateX=t-20*r,e.translateY=null,e.translateY=n-10*o,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===Ee.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===Ee.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},hr=function(e){return e.rect.element.height+.5*e.rect.element.marginBottom+.5*e.rect.element.marginTop},mr=function(e){return e.rect.element.width+.5*e.rect.element.marginLeft+.5*e.rect.element.marginRight},vr=G({DID_ADD_ITEM:function(e){var t=e.root,n=e.action,r=n.id,o=n.index,i=n.interactionMethod;t.ref.addIndex=o;var a=Date.now(),c=a,u=1;if(i!==Ee.NONE){u=0;var s=t.query("GET_ITEM_INSERT_INTERVAL"),l=a-t.ref.lastItemSpanwDate;c=l<s?a+(s-l):a}t.ref.lastItemSpanwDate=c,t.appendChildView(t.createChildView(ur,{spawnDate:c,id:r,opacity:u,interactionMethod:i}),o)},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action.id,r=t.childViews.find((function(e){return e.id===n}));r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},DID_DRAG_ITEM:function(e){var t=e.root,n=e.action,r=n.id,o=n.dragState,i=t.query("GET_ITEM",{id:r}),a=t.childViews.find((function(e){return e.id===r})),c=t.childViews.length,u=o.getItemIndex(i);if(a){var s={x:a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,y:a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y},l=hr(a),f=mr(a),d=Math.floor(t.rect.outer.width/f);d>c&&(d=c);var p=Math.floor(c/d+1);lr.setHeight=l*p,lr.setWidth=f*d;var h={y:Math.floor(s.y/l),x:Math.floor(s.x/f),getGridIndex:function(){return s.y>lr.getHeight||s.y<0||s.x>lr.getWidth||s.x<0?u:this.y*d+this.x},getColIndex:function(){for(var e=t.query("GET_ACTIVE_ITEMS"),n=t.childViews.filter((function(e){return e.rect.element.height})),r=e.map((function(e){return n.find((function(t){return t.id===e.id}))})),o=r.findIndex((function(e){return e===a})),i=hr(a),c=r.length,u=c,l=0,f=0,d=0;d<c;d++)if(l=(f=l)+hr(r[d]),s.y<l){if(o>d){if(s.y<f+i){u=d;break}continue}u=d;break}return u}},m=d>1?h.getGridIndex():h.getColIndex();t.dispatch("MOVE_ITEM",{query:a,index:m});var v=o.getIndex();if(void 0===v||v!==m){if(o.setIndex(m),void 0===v)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:u,target:m})}}}}),gr=k({create:fr,write:function(e){var t=e.root,n=e.props,r=e.actions,o=e.shouldOptimize;vr({root:t,props:n,actions:r});var i=n.dragCoordinates,a=t.rect.element.width,c=t.childViews.filter((function(e){return e.rect.element.height})),u=t.query("GET_ACTIVE_ITEMS").map((function(e){return c.find((function(t){return t.id===e.id}))})).filter((function(e){return e})),s=i?sr(t,u,i):null,l=t.ref.addIndex||null;t.ref.addIndex=null;var f=0,d=0,p=0;if(0!==u.length){var h=u[0].rect.element,m=h.marginTop+h.marginBottom,v=h.marginLeft+h.marginRight,g=h.width+v,y=h.height+m,E=Math.round(a/g);if(1===E){var _=0,b=0;u.forEach((function(e,t){if(s){var n=t-s;b=-2===n?.25*-m:-1===n?.75*-m:0===n?.75*m:1===n?.25*m:0}o&&(e.translateX=null,e.translateY=null),e.markedForRemoval||dr(e,0,_+b);var r=(e.rect.element.height+m)*(e.markedForRemoval?e.opacity:1);_+=r}))}else{var I=0,T=0;u.forEach((function(e,t){t===s&&(f=1),t===l&&(p+=1),e.markedForRemoval&&e.opacity<.5&&(d-=1);var n=t+p+f+d,r=n%E,i=Math.floor(n/E),a=r*g,c=i*y,u=Math.sign(a-I),h=Math.sign(c-T);I=a,T=c,e.markedForRemoval||(o&&(e.translateX=null,e.translateY=null),dr(e,a,c,u,h))}))}}},tag:"ul",name:"list",didWriteView:function(e){var t=e.root;t.childViews.filter((function(e){return e.markedForRemoval&&0===e.opacity&&e.resting})).forEach((function(e){e._destroy(),t.removeChildView(e)}))},filterFrameActionsForChild:function(e,t){return t.filter((function(t){return!t.data||!t.data.id||e.id===t.data.id}))},mixins:{apis:["dragCoordinates"]}}),yr=function(e){var t=e.root,n=e.props;t.ref.list=t.appendChildView(t.createChildView(gr)),n.dragCoordinates=null,n.overflowing=!1},Er=G({DID_DRAG:function(e){var t=e.root,n=e.props,r=e.action;t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:r.position.scopeLeft-t.ref.list.rect.element.left,top:r.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},DID_END_DRAG:function(e){e.props.dragCoordinates=null}}),_r=k({create:yr,write:function(e){var t=e.root,n=e.props,r=e.actions;if(Er({root:t,props:n,actions:r}),t.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,t.element.dataset.state="",t.height=null),n.overflow){var o=Math.round(n.overflow);o!==t.height&&(n.overflowing=!0,t.element.dataset.state="overflow",t.height=o)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),br=function(e,t,n){n?c(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):e.removeAttribute(t)},Ir=function(e){if(e&&""!==e.value){try{e.value=""}catch(e){}if(e.value){var t=fn("form"),n=e.parentNode,r=e.nextSibling;t.appendChild(e),t.reset(),r?n.insertBefore(e,r):n.appendChild(e)}}},Tr=function(e){var t=e.root,n=e.props;t.element.id="filepond--browser-"+n.id,c(t.element,"name",t.query("GET_NAME")),c(t.element,"aria-controls","filepond--assistant-"+n.id),c(t.element,"aria-labelledby","filepond--drop-label-"+n.id),Or({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),Rr({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),wr({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Sr({root:t}),Dr({root:t,action:{value:t.query("GET_REQUIRED")}}),Pr({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=function(e){if(t.element.value){var r=Array.from(t.element.files).map((function(e){return e._relativePath=e.webkitRelativePath,e}));setTimeout((function(){n.onload(r),Ir(t.element)}),250)}},t.element.addEventListener("change",t.ref.handleChange)},Or=function(e){var t=e.root,n=e.action;t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&br(t.element,"accept",!!n.value,n.value?n.value.join(","):"")},Rr=function(e){var t=e.root,n=e.action;br(t.element,"multiple",n.value)},wr=function(e){var t=e.root,n=e.action;br(t.element,"webkitdirectory",n.value)},Sr=function(e){var t=e.root,n=t.query("GET_DISABLED"),r=t.query("GET_ALLOW_BROWSE"),o=n||!r;br(t.element,"disabled",o)},Dr=function(e){var t=e.root;e.action.value?0===t.query("GET_TOTAL_ITEMS")&&br(t.element,"required",!0):br(t.element,"required",!1)},Pr=function(e){var t=e.root,n=e.action;br(t.element,"capture",!!n.value,!0===n.value?"":n.value)},Ar=function(e){var t=e.root,n=t.element;t.query("GET_TOTAL_ITEMS")>0?(br(n,"required",!1),br(n,"name",!1)):(br(n,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&n.setCustomValidity(""),t.query("GET_REQUIRED")&&br(n,"required",!0))},Lr=k({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Tr,destroy:function(e){var t=e.root;t.element.removeEventListener("change",t.ref.handleChange)},write:G({DID_LOAD_ITEM:Ar,DID_REMOVE_ITEM:Ar,DID_THROW_ITEM_INVALID:function(e){var t=e.root;t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Sr,DID_SET_ALLOW_BROWSE:Sr,DID_SET_ALLOW_DIRECTORIES_ONLY:wr,DID_SET_ALLOW_MULTIPLE:Rr,DID_SET_ACCEPTED_FILE_TYPES:Or,DID_SET_CAPTURE_METHOD:Pr,DID_SET_REQUIRED:Dr})}),Cr={ENTER:13,SPACE:32},Mr=function(e){var t=e.root,n=e.props,r=fn("label");c(r,"for","filepond--browser-"+n.id),c(r,"id","filepond--drop-label-"+n.id),c(r,"aria-hidden","true"),t.ref.handleKeyDown=function(e){(e.keyCode===Cr.ENTER||e.keyCode===Cr.SPACE)&&(e.preventDefault(),t.ref.label.click())},t.ref.handleClick=function(e){e.target===r||r.contains(e.target)||t.ref.label.click()},r.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),Nr(r,n.caption),t.appendChild(r),t.ref.label=r},Nr=function(e,t){e.innerHTML=t;var n=e.querySelector(".filepond--label-action");return n&&c(n,"tabindex","0"),t},xr=k({name:"drop-label",ignoreRect:!0,create:Mr,destroy:function(e){var t=e.root;t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:G({DID_SET_LABEL_IDLE:function(e){var t=e.root,n=e.action;Nr(t.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),kr=k({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),jr=function(e){var t=e.root,n=.5*t.rect.element.width,r=.5*t.rect.element.height;t.ref.blob=t.appendChildView(t.createChildView(kr,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:r}))},Gr=function(e){var t=e.root,n=e.props,r=e.actions;Fr({root:t,props:n,actions:r});var o=t.ref.blob;0===r.length&&o&&0===o.opacity&&(t.removeChildView(o),t.ref.blob=null)},Fr=G({DID_DRAG:function(e){var t=e.root,n=e.action;t.ref.blob?(t.ref.blob.translateX=n.position.scopeLeft,t.ref.blob.translateY=n.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1):jr({root:t})},DID_DROP:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},DID_END_DRAG:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.opacity=0)}}),Ur=k({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Gr}),Vr=function(e){return e.root.ref.fields={}},Br=function(e,t){return e.ref.fields[t]},qr=function(e){e.query("GET_ACTIVE_ITEMS").forEach((function(t){e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])}))},Hr=function(e){var t=e.root;return qr(t)},Wr=G({DID_SET_DISABLED:function(e){var t=e.root;t.element.disabled=t.query("GET_DISABLED")},DID_ADD_ITEM:function(e){var t=e.root,n=e.action,r=fn("input");r.type="hidden",r.name=t.query("GET_NAME"),r.disabled=t.query("GET_DISABLED"),t.ref.fields[n.id]=r,qr(t)},DID_LOAD_ITEM:function(e){var t=e.root,n=e.action,r=Br(t,n.id);r&&null!==n.serverFileReference&&(r.value=n.serverFileReference)},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action,r=Br(t,n.id);r&&(r.parentNode.removeChild(r),delete t.ref.fields[n.id])},DID_DEFINE_VALUE:function(e){var t=e.root,n=e.action,r=Br(t,n.id);r&&(null===n.value?r.removeAttribute("value"):r.value=n.value,qr(t))},DID_REORDER_ITEMS:Hr,DID_SORT_ITEMS:Hr}),Yr=k({tag:"fieldset",name:"data",create:Vr,write:Wr,ignoreRect:!0}),zr=function(e){return"getRootNode"in e?e.getRootNode():document},Xr=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Kr=["css","csv","html","txt"],Qr={zip:"zip|compressed",epub:"application/epub+zip"},Zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),Xr.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):Kr.includes(e)?"text/"+e:Qr[e]||""},Jr=function(t){return new e((function(e,n){var r=uo(t);if(r.length&&!$r(t))return e(r);eo(t).then(e)}))},$r=function(e){return!!e.files&&e.files.length>0},eo=function(t){return new e((function(n,r){var o=(t.items?Array.from(t.items):[]).filter((function(e){return to(e)})).map((function(e){return no(e)}));o.length?e.all(o).then((function(e){var t=[];e.forEach((function(e){t.push.apply(t,e)})),n(t.filter((function(e){return e})).map((function(e){return e._relativePath||(e._relativePath=e.webkitRelativePath),e})))})).catch(console.error):n(t.files?Array.from(t.files):[])}))},to=function(e){if(ao(e)){var t=co(e);if(t)return t.isFile||t.isDirectory}return"file"===e.kind},no=function(t){return new e((function(e,n){io(t)?ro(co(t)).then(e).catch(n):e([t.getAsFile()])}))},ro=function(t){return new e((function(e,n){var r=[],o=0,i=0,a=function(){0===i&&0===o&&e(r)};!function e(t){o++;var c=t.createReader();!function t(){c.readEntries((function(n){if(0===n.length)return o--,void a();n.forEach((function(t){t.isDirectory?e(t):(i++,t.file((function(e){var n=oo(e);t.fullPath&&(n._relativePath=t.fullPath),r.push(n),i--,a()})))})),t()}),n)}()}(t)}))},oo=function(e){if(e.type.length)return e;var t=e.lastModifiedDate,n=e.name;return(e=e.slice(0,e.size,Zr(pt(e.name)))).name=n,e.lastModifiedDate=t,e},io=function(e){return ao(e)&&(co(e)||{}).isDirectory},ao=function(e){return"webkitGetAsEntry"in e},co=function(e){return e.webkitGetAsEntry()},uo=function(e){var t=[];try{if((t=lo(e)).length)return t;t=so(e)}catch(e){}return t},so=function(e){var t=e.getData("url");return"string"==typeof t&&t.length?[t]:[]},lo=function(e){var t=e.getData("text/html");if("string"==typeof t&&t.length){var n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},fo=[],po=function(e){return{pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}},ho=function(e,t,n){var r=mo(t),o={element:e,filterElement:n,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return o.destroy=r.addListener(o),o},mo=function(e){var t=fo.find((function(t){return t.element===e}));if(t)return t;var n=vo(e);return fo.push(n),n},vo=function(e){var t=[],n={dragenter:bo,dragover:Io,dragleave:Oo,drop:To},r={};i(n,(function(n,o){r[n]=o(e,t),e.addEventListener(n,r[n],!1)}));var o={element:e,addListener:function(a){return t.push(a),function(){t.splice(t.indexOf(a),1),0===t.length&&(fo.splice(fo.indexOf(o),1),i(n,(function(t){e.removeEventListener(t,r[t],!1)})))}}};return o},go=function(e,t){return"elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)},yo=function(e,t){var n=zr(t),r=go(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===t||t.contains(r)},Eo=null,_o=function(e,t){try{e.dropEffect=t}catch(e){}},bo=function(e,t){return function(e){e.preventDefault(),Eo=e.target,t.forEach((function(t){var n=t.element,r=t.onenter;yo(e,n)&&(t.state="enter",r(po(e)))}))}},Io=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;Jr(n).then((function(r){var o=!1;t.some((function(t){var i=t.filterElement,a=t.element,c=t.onenter,u=t.onexit,s=t.ondrag,l=t.allowdrop;_o(n,"copy");var f=l(r);if(f)if(yo(e,a)){if(o=!0,null===t.state)return t.state="enter",void c(po(e));if(t.state="over",i&&!f)return void _o(n,"none");s(po(e))}else i&&!o&&_o(n,"none"),t.state&&(t.state=null,u(po(e)));else _o(n,"none")}))}))}},To=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;Jr(n).then((function(n){t.forEach((function(t){var r=t.filterElement,o=t.element,i=t.ondrop,a=t.onexit,c=t.allowdrop;if(t.state=null,!r||yo(e,o))return c(n)?void i(po(e),n):a(po(e))}))}))}},Oo=function(e,t){return function(e){Eo===e.target&&t.forEach((function(t){var n=t.onexit;t.state=null,n(po(e))}))}},Ro=function(e,t,n){e.classList.add("filepond--hopper");var r=n.catchesDropsOnPage,o=n.requiresDropOnElement,i=n.filterItems,a=void 0===i?function(e){return e}:i,c=ho(e,r?document.documentElement:e,o),u="",s="";c.allowdrop=function(e){return t(a(e))},c.ondrop=function(e,n){var r=a(n);t(r)?(s="drag-drop",l.onload(r,e)):l.ondragend(e)},c.ondrag=function(e){l.ondrag(e)},c.onenter=function(e){s="drag-over",l.ondragstart(e)},c.onexit=function(e){s="drag-exit",l.ondragend(e)};var l={updateHopperState:function(){u!==s&&(e.dataset.hopperState=s,u=s)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){c.destroy()}};return l},wo=!1,So=[],Do=function(e){var t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){for(var n=!1,r=t;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}Jr(e.clipboardData).then((function(e){e.length&&So.forEach((function(t){return t(e)}))}))},Po=function(e){So.includes(e)||(So.push(e),wo||(wo=!0,document.addEventListener("paste",Do)))},Ao=function(e){Pe(So,So.indexOf(e)),0===So.length&&(document.removeEventListener("paste",Do),wo=!1)},Lo=function(){var e=function(e){t.onload(e)},t={destroy:function(){Ao(e)},onload:function(){}};return Po(e),t},Co=null,Mo=null,No=[],xo=function(e,t){e.element.textContent=t},ko=function(e){e.element.textContent=""},jo=function(e,t,n){var r=e.query("GET_TOTAL_ITEMS");xo(e,n+" "+t+", "+r+" "+(1===r?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(Mo),Mo=setTimeout((function(){ko(e)}),1500)},Go=function(e){return e.element.parentNode.contains(document.activeElement)},Fo=function(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id).filename,o=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");xo(t,r+" "+o)},Uo=function(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id).filename;xo(t,n.status.main+" "+r+" "+n.status.sub)},Vo=k({create:function(e){var t=e.root,n=e.props;t.element.id="filepond--assistant-"+n.id,c(t.element,"role","status"),c(t.element,"aria-live","polite"),c(t.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:G({DID_LOAD_ITEM:function(e){var t=e.root,n=e.action;if(Go(t)){t.element.textContent="";var r=t.query("GET_ITEM",n.id);No.push(r.filename),clearTimeout(Co),Co=setTimeout((function(){jo(t,No.join(", "),t.query("GET_LABEL_FILE_ADDED")),No.length=0}),750)}},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action;if(Go(t)){var r=n.item;jo(t,r.filename,t.query("GET_LABEL_FILE_REMOVED"))}},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id).filename,o=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");xo(t,r+" "+o)},DID_ABORT_ITEM_PROCESSING:Fo,DID_REVERT_ITEM_PROCESSING:Fo,DID_THROW_ITEM_REMOVE_ERROR:Uo,DID_THROW_ITEM_LOAD_ERROR:Uo,DID_THROW_ITEM_INVALID:Uo,DID_THROW_ITEM_PROCESSING_ERROR:Uo}),tag:"span",name:"assistant"}),Bo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(new RegExp(t+".","g"),(function(e){return e.charAt(1).toUpperCase()}))},qo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Date.now(),o=null;return function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];clearTimeout(o);var u=Date.now()-r,s=function(){r=Date.now(),e.apply(void 0,a)};u<t?n||(o=setTimeout(s,t-u)):s()}},Ho=1e6,Wo=function(e){return e.preventDefault()},Yo=function(e){var t=e.root,n=e.props,r=t.query("GET_ID");r&&(t.element.id=r);var o=t.query("GET_CLASS_NAME");o&&o.split(" ").filter((function(e){return e.length})).forEach((function(e){t.element.classList.add(e)})),t.ref.label=t.appendChildView(t.createChildView(xr,Object.assign({},n,{translateY:null,caption:t.query("GET_LABEL_IDLE")}))),t.ref.list=t.appendChildView(t.createChildView(_r,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(er,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(Vo,Object.assign({},n))),t.ref.data=t.appendChildView(t.createChildView(Yr,Object.assign({},n))),t.ref.measure=fn("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter((function(e){return!B(e.value)})).map((function(e){var n=e.name,r=e.value;t.element.dataset[n]=r})),t.ref.widthPrevious=null,t.ref.widthUpdated=qo((function(){t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")}),250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];var i=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&a&&!i&&(t.element.addEventListener("touchmove",Wo,{passive:!1}),t.element.addEventListener("gesturestart",Wo))},zo=function(e){var t=e.root,n=e.props,r=e.actions;if(ni({root:t,props:n,actions:r}),r.filter((function(e){return/^DID_SET_STYLE_/.test(e.type)})).filter((function(e){return!B(e.data.value)})).map((function(e){var n=e.type,r=e.data,o=Bo(n.substr(8).toLowerCase(),"_");t.element.dataset[o]=r.value,t.invalidateLayout()})),!t.rect.element.hidden){t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());var o=t.ref.bounds;o||(o=t.ref.bounds=Qo(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);var i=t.ref,a=i.hopper,c=i.label,u=i.list,s=i.panel;a&&a.updateHopperState();var l=t.query("GET_PANEL_ASPECT_RATIO"),f=t.query("GET_ALLOW_MULTIPLE"),d=t.query("GET_TOTAL_ITEMS"),p=d===(f?t.query("GET_MAX_FILES")||Ho:1),h=r.find((function(e){return"DID_ADD_ITEM"===e.type}));if(p&&h){var m=h.data.interactionMethod;c.opacity=0,f?c.translateY=-40:m===Ee.API?c.translateX=40:m===Ee.BROWSE?c.translateY=40:c.translateY=30}else p||(c.opacity=1,c.translateX=0,c.translateY=0);var v=Xo(t),g=Ko(t),y=c.rect.element.height,E=!f||p?0:y,_=p?u.rect.element.marginTop:0,b=0===d?0:u.rect.element.marginBottom,I=E+_+g.visual+b,T=E+_+g.bounds+b;if(u.translateY=Math.max(0,E-u.rect.element.marginTop)-v.top,l){var O=t.rect.element.width,R=O*l;l!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=l,t.ref.updateHistory=[]);var w=t.ref.updateHistory;w.push(O);var S=2;if(w.length>2*S)for(var D=w.length,P=D-10,A=0,L=D;L>=P;L--)if(w[L]===w[L-2]&&A++,A>=S)return;s.scalable=!1,s.height=R;var C=R-E-(b-v.bottom)-(p?_:0);g.visual>C?u.overflow=C:u.overflow=null,t.height=R}else if(o.fixedHeight){s.scalable=!1;var M=o.fixedHeight-E-(b-v.bottom)-(p?_:0);g.visual>M?u.overflow=M:u.overflow=null}else if(o.cappedHeight){var N=I>=o.cappedHeight,x=Math.min(o.cappedHeight,I);s.scalable=!0,s.height=N?x:x-v.top-v.bottom;var k=x-E-(b-v.bottom)-(p?_:0);I>o.cappedHeight&&g.visual>k?u.overflow=k:u.overflow=null,t.height=Math.min(o.cappedHeight,T-v.top-v.bottom)}else{var j=d>0?v.top+v.bottom:0;s.scalable=!0,s.height=Math.max(y,I-j),t.height=Math.max(y,T-j)}}},Xo=function(e){var t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},Ko=function(e){var t=0,n=0,r=e.ref.list,o=r.childViews[0],i=o.childViews.filter((function(e){return e.rect.element.height})),a=e.query("GET_ACTIVE_ITEMS").map((function(e){return i.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));if(0===a.length)return{visual:t,bounds:n};var c=o.rect.element.width,u=sr(o,a,r.dragCoordinates),s=a[0].rect.element,l=s.marginTop+s.marginBottom,f=s.marginLeft+s.marginRight,d=s.width+f,p=s.height+l,h=void 0!==u&&u>=0?1:0,m=a.find((function(e){return e.markedForRemoval&&e.opacity<.45}))?-1:0,v=a.length+h+m,g=Math.round(c/d);return 1===g?a.forEach((function(e){var r=e.rect.element.height+l;n+=r,t+=r*e.opacity})):(n=Math.ceil(v/g)*p,t=n),{visual:t,bounds:n}},Qo=function(e){var t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:0===t?null:t}},Zo=function(e,t){var n=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),o=e.query("GET_TOTAL_ITEMS"),i=e.query("GET_MAX_FILES"),a=t.length;return!r&&a>1||!!(Z(i=r||n?i:1)&&o+a>i)&&(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Mt("warning",0,"Max files")}),!0)},Jo=function(e,t,n){var r=e.childViews[0];return sr(r,t,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},$o=function(e){var t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),r=t&&!n;if(r&&!e.ref.hopper){var o=Ro(e.element,(function(t){if(Zo(e,t))return!1;var n=e.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!e.query("GET_DROP_VALIDATION")||t.every((function(t){return He("ALLOW_HOPPER_ITEM",t,{query:e.query}).every((function(e){return!0===e}))&&n(t)}))}),{filterItems:function(t){var n=e.query("GET_IGNORED_FILES");return t.filter((function(e){return!Xt(e)||!n.includes(e.name.toLowerCase())}))},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});o.onload=function(t,n){var r=e.ref.list.childViews[0].childViews.filter((function(e){return e.rect.element.height})),o=e.query("GET_ACTIVE_ITEMS").map((function(e){return r.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));e.dispatch("ADD_ITEMS",{items:t,index:Jo(e.ref.list,o,n),interactionMethod:Ee.DROP}),e.dispatch("DID_DROP",{position:n}),e.dispatch("DID_END_DRAG",{position:n})},o.ondragstart=function(t){e.dispatch("DID_START_DRAG",{position:t})},o.ondrag=qo((function(t){e.dispatch("DID_DRAG",{position:t})})),o.ondragend=function(t){e.dispatch("DID_END_DRAG",{position:t})},e.ref.hopper=o,e.ref.drip=e.appendChildView(e.createChildView(Ur))}else!r&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},ei=function(e,t){var n=e.query("GET_ALLOW_BROWSE"),r=e.query("GET_DISABLED"),o=n&&!r;o&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Lr,Object.assign({},t,{onload:function(t){if(Zo(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:Ee.BROWSE})}})),0):!o&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},ti=function(e){var t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),r=t&&!n;r&&!e.ref.paster?(e.ref.paster=Lo(),e.ref.paster.onload=function(t){e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:Ee.PASTE})}):!r&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},ni=G({DID_SET_ALLOW_BROWSE:function(e){var t=e.root,n=e.props;ei(t,n)},DID_SET_ALLOW_DROP:function(e){var t=e.root;$o(t)},DID_SET_ALLOW_PASTE:function(e){var t=e.root;ti(t)},DID_SET_DISABLED:function(e){var t=e.root,n=e.props;$o(t),ti(t),ei(t,n),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),ri=k({name:"root",read:function(e){var t=e.root;t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:Yo,write:zo,destroy:function(e){var t=e.root;t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",Wo),t.element.removeEventListener("gesturestart",Wo)},mixins:{styles:["height"]}}),oi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null,o=ze(),i=r(he(o),[at,ye(o)],[sn,ge(o)]);i.dispatch("SET_OPTIONS",{options:t});var c=function(){document.hidden||i.dispatch("KICK")};document.addEventListener("visibilitychange",c);var u=null,s=!1,l=!1,f=null,d=null,p=function(){s||(s=!0),clearTimeout(u),u=setTimeout((function(){s=!1,f=null,d=null,l&&(l=!1,i.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",p);var h=ri(i,{id:_e()}),m=!1,v=!1,g={_read:function(){s&&(d=window.innerWidth,f||(f=d),l||d===f||(i.dispatch("DID_START_RESIZE"),l=!0)),v&&m&&(m=null===h.element.offsetParent),m||(h._read(),v=h.rect.element.hidden)},_write:function(e){var t=i.processActionQueue().filter((function(e){return!/^SET_/.test(e.type)}));m&&!t.length||(I(t),m=h._write(e,t,l),xe(i.query("GET_ITEMS")),m&&i.processDispatchQueue())}},y=function(e){return function(t){var n={type:e};if(!t)return n;if(t.hasOwnProperty("error")&&(n.error=t.error?Object.assign({},t.error):null),t.status&&(n.status=Object.assign({},t.status)),t.file&&(n.output=t.file),t.source)n.file=t.source;else if(t.item||t.id){var r=t.item?t.item:i.query("GET_ITEM",t.id);n.file=r?Ne(r):null}return t.items&&(n.items=t.items.map(Ne)),/progress/.test(e)&&(n.progress=t.progress),t.hasOwnProperty("origin")&&t.hasOwnProperty("target")&&(n.origin=t.origin,n.target=t.target),n}},E={DID_DESTROY:y("destroy"),DID_INIT:y("init"),DID_THROW_MAX_FILES:y("warning"),DID_INIT_ITEM:y("initfile"),DID_START_ITEM_LOAD:y("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:y("addfileprogress"),DID_LOAD_ITEM:y("addfile"),DID_THROW_ITEM_INVALID:[y("error"),y("addfile")],DID_THROW_ITEM_LOAD_ERROR:[y("error"),y("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[y("error"),y("removefile")],DID_PREPARE_OUTPUT:y("preparefile"),DID_START_ITEM_PROCESSING:y("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:y("processfileprogress"),DID_ABORT_ITEM_PROCESSING:y("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:y("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:y("processfiles"),DID_REVERT_ITEM_PROCESSING:y("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[y("error"),y("processfile")],DID_REMOVE_ITEM:y("removefile"),DID_UPDATE_ITEMS:y("updatefiles"),DID_ACTIVATE_ITEM:y("activatefile"),DID_REORDER_ITEMS:y("reorderfiles")},_=function(e){var t=Object.assign({pond:x},e);delete t.type,h.element.dispatchEvent(new CustomEvent("FilePond:"+e.type,{detail:t,bubbles:!0,cancelable:!0,composed:!0}));var n=[];e.hasOwnProperty("error")&&n.push(e.error),e.hasOwnProperty("file")&&n.push(e.file);var r=["type","error","file"];Object.keys(e).filter((function(e){return!r.includes(e)})).forEach((function(t){return n.push(e[t])})),x.fire.apply(x,[e.type].concat(n));var o=i.query("GET_ON"+e.type.toUpperCase());o&&o.apply(void 0,n)},I=function(e){e.length&&e.filter((function(e){return E[e.type]})).forEach((function(e){var t=E[e.type];(Array.isArray(t)?t:[t]).forEach((function(t){"DID_INIT_ITEM"===e.type?_(t(e.data)):setTimeout((function(){_(t(e.data))}),0)}))}))},T=function(e){return i.dispatch("SET_OPTIONS",{options:e})},O=function(e){return i.query("GET_ACTIVE_ITEM",e)},R=function(t){return new e((function(e,n){i.dispatch("REQUEST_ITEM_PREPARE",{query:t,success:function(t){e(t)},failure:function(e){n(e)}})}))},w=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new e((function(e,r){P([{source:t,options:n}],{index:n.index}).then((function(t){return e(t&&t[0])})).catch(r)}))},S=function(e){return e.file&&e.id},D=function(e,t){return"object"!=typeof e||S(e)||t||(t=e,e=void 0),i.dispatch("REMOVE_ITEM",Object.assign({},t,{query:e})),null===i.query("GET_ACTIVE_ITEM",e)},P=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new e((function(e,t){var r=[],o={};if(V(n[0]))r.push.apply(r,n[0]),Object.assign(o,n[1]||{});else{var a=n[n.length-1];"object"!=typeof a||a instanceof Blob||Object.assign(o,n.pop()),r.push.apply(r,n)}i.dispatch("ADD_ITEMS",{items:r,index:o.index,interactionMethod:Ee.API,success:e,failure:t})}))},A=function(){return i.query("GET_ACTIVE_ITEMS")},L=function(t){return new e((function(e,n){i.dispatch("REQUEST_ITEM_PROCESSING",{query:t,success:function(t){e(t)},failure:function(e){n(e)}})}))},C=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Array.isArray(n[0])?n[0]:n,i=o.length?o:A();return e.all(i.map(R))},M=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Array.isArray(n[0])?n[0]:n;if(!o.length){var i=A().filter((function(e){return!(e.status===ke.IDLE&&e.origin===je.LOCAL)&&e.status!==ke.PROCESSING&&e.status!==ke.PROCESSING_COMPLETE&&e.status!==ke.PROCESSING_REVERT_ERROR}));return e.all(i.map(L))}return e.all(o.map(L))},N=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o,i=Array.isArray(n[0])?n[0]:n;"object"==typeof i[i.length-1]?o=i.pop():Array.isArray(n[0])&&(o=n[1]);var a=A();return i.length?i.map((function(e){return b(e)?a[e]?a[e].id:null:e})).filter((function(e){return e})).map((function(e){return D(e,o)})):e.all(a.map((function(e){return D(e,o)})))},x=Object.assign({},Le(),{},g,{},ve(i,o),{setOptions:T,addFile:w,addFiles:P,getFile:O,processFile:L,prepareFile:R,removeFile:D,moveFile:function(e,t){return i.dispatch("MOVE_ITEM",{query:e,index:t})},getFiles:A,processFiles:M,removeFiles:N,prepareFiles:C,sort:function(e){return i.dispatch("SORT",{compare:e})},browse:function(){var e=h.element.querySelector("input[type=file]");e&&e.click()},destroy:function(){x.fire("destroy",h.element),i.dispatch("ABORT_ALL"),h._destroy(),window.removeEventListener("resize",p),document.removeEventListener("visibilitychange",c),i.dispatch("DID_DESTROY")},insertBefore:function(e){return F(h.element,e)},insertAfter:function(e){return U(h.element,e)},appendTo:function(e){return e.appendChild(h.element)},replaceElement:function(e){F(h.element,e),e.parentNode.removeChild(e),n=e},restoreElement:function(){n&&(U(n,h.element),h.element.parentNode.removeChild(h.element),n=null)},isAttachedTo:function(e){return h.element===e||n===e},element:{get:function(){return h.element}},status:{get:function(){return i.query("GET_STATUS")}}});return i.dispatch("DID_INIT"),a(x)},ii=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return i(ze(),(function(e,n){t[e]=n[0]})),oi(Object.assign({},t,{},e))},ai=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},ci=function(e){return Bo(e.replace(/^data-/,""))},ui=function e(t,n){i(n,(function(n,r){i(t,(function(e,o){var i=new RegExp(n);if(i.test(e)&&(delete t[e],!1!==r))if(z(r))t[r]=o;else{var a=r.group;ie(r)&&!t[a]&&(t[a]={}),t[a][ai(e.replace(i,""))]=o}})),r.mapping&&e(t[r.group],r.mapping)}))},si=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];i(e.attributes,(function(t){n.push(e.attributes[t])}));var r=n.filter((function(e){return e.name})).reduce((function(t,n){var r=c(e,n.name);return t[ci(n.name)]=r===n.name||r,t}),{});return ui(r,t),r},li=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};He("SET_ATTRIBUTE_TO_OPTION_MAP",n);var r=Object.assign({},t),o=si("FIELDSET"===e.nodeName?e.querySelector("input[type=file]"):e,n);Object.keys(o).forEach((function(e){ie(o[e])?(ie(r[e])||(r[e]={}),Object.assign(r[e],o[e])):r[e]=o[e]})),r.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map((function(e){return{source:e.value,options:{type:e.dataset.type}}})));var i=ii(r);return e.files&&Array.from(e.files).forEach((function(e){i.addFile(e)})),i.replaceElement(e),i},fi=function(){return n(arguments.length<=0?void 0:arguments[0])?li.apply(void 0,arguments):ii.apply(void 0,arguments)},di=["fire","_read","_write"],pi=function(e){var t={};return Ce(e,t,di),t},hi=function(e,t){return e.replace(/(?:{([a-zA-Z]+)})/g,(function(e,n){return t[n]}))},mi=function(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);return{transfer:function(e,t){},post:function(e,t,n){var o=_e();r.onmessage=function(e){e.data.id===o&&t(e.data.message)},r.postMessage({id:o,message:e},n)},terminate:function(){r.terminate(),URL.revokeObjectURL(n)}}},vi=function(t){return new e((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(e){n(e)},r.src=t}))},gi=function(e,t){var n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},yi=function(e){return gi(e,e.name)},Ei=[],_i=function(e){if(!Ei.includes(e)){Ei.push(e);var t=e({addFilter:We,utils:{Type:Ve,forin:i,isString:z,isFile:Xt,toNaturalFileSize:yn,replaceInString:hi,getExtensionFromFilename:pt,getFilenameWithoutExtension:Yt,guesstimateMimeType:Zr,getFileFromBlob:gt,getFilenameFromURL:dt,createRoute:G,createWorker:mi,createView:k,createItemAPI:Ne,loadImage:vi,copyFile:yi,renameFile:gi,createBlob:Et,applyFilterChain:qe,text:dn,getNumericAspectRatioFromString:Ze},views:{fileActionButton:gn}});Ye(t.options)}},bi=function(){return"[object OperaMini]"===Object.prototype.toString.call(window.operamini)},Ii=function(){return"Promise"in window},Ti=function(){return"slice"in Blob.prototype},Oi=function(){return"URL"in window&&"createObjectURL"in window.URL},Ri=function(){return"visibilityState"in document},wi=function(){return"performance"in window},Si=function(){return"supports"in(window.CSS||{})},Di=function(){return/MSIE|Trident/.test(window.navigator.userAgent)},Pi=(xn=v()&&!bi()&&Ri()&&Ii()&&Ti()&&Oi()&&wi()&&(Si()||Di()),function(){return xn}),Ai={apps:[]},Li="filepond",Ci=function(){};if(t.Status={},t.FileStatus={},t.FileOrigin={},t.OptionTypes={},t.create=Ci,t.destroy=Ci,t.parse=Ci,t.find=Ci,t.registerPlugin=Ci,t.getOptions=Ci,t.setOptions=Ci,Pi()){j((function(){Ai.apps.forEach((function(e){return e._read()}))}),(function(e){Ai.apps.forEach((function(t){return t._write(e)}))}));var Mi=function e(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Pi,create:t.create,destroy:t.destroy,parse:t.parse,find:t.find,registerPlugin:t.registerPlugin,setOptions:t.setOptions}})),document.removeEventListener("DOMContentLoaded",e)};"loading"!==document.readyState?setTimeout((function(){return Mi()}),0):document.addEventListener("DOMContentLoaded",Mi);var Ni=function(){return i(ze(),(function(e,n){t.OptionTypes[e]=n[1]}))};t.Status=Object.assign({},$e),t.FileOrigin=Object.assign({},je),t.FileStatus=Object.assign({},ke),t.OptionTypes={},Ni(),t.create=function(){var e=fi.apply(void 0,arguments);return e.on("destroy",t.destroy),Ai.apps.push(e),pi(e)},t.destroy=function(e){var t=Ai.apps.findIndex((function(t){return t.isAttachedTo(e)}));return t>=0&&(Ai.apps.splice(t,1)[0].restoreElement(),!0)},t.parse=function(e){return Array.from(e.querySelectorAll("."+Li)).filter((function(e){return!Ai.apps.find((function(t){return t.isAttachedTo(e)}))})).map((function(e){return t.create(e)}))},t.find=function(e){var t=Ai.apps.find((function(t){return t.isAttachedTo(e)}));return t?pi(t):null},t.registerPlugin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(_i),Ni()},t.getOptions=function(){var e={};return i(ze(),(function(t,n){e[t]=n[0]})),e},t.setOptions=function(e){return ie(e)&&(Ai.apps.forEach((function(t){t.setOptions(e)})),Xe(e)),t.getOptions()}}t.supported=Pi,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(11))},function(e,t,n){},,,,,,,,function(e,t,n){"use strict";n.r(t);n(14);var r=n(0),o=n.n(r),i=n(6),a=n.n(i),c=(n(133),n(89));n.d(t,"default",(function(){return c.a})),n.d(t,"IdeaDetails",(function(){return c.a})),c.a.renderElement=function(e,t){var n=e.attributes;a.a.render(o.a.createElement(c.a,{attributes:n,config:t}),e)}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1),o=n(2);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,e);var t,n,r,i=u(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e,{name:"likebutton",backgroundColor:"#164995",color:"#fff",text:"like",opinion:"yes"})).state={value:t.props.value,busy:!1},t}return t=s,(n=[{key:"componentDidMount",value:function(e,t){o.a.localStorage.get("osc-ideas-on-map-vote-pending")&&(this.doVote(),o.a.localStorage.remove("osc-ideas-on-map-vote-pending"))}},{key:"doVote",value:function(e){var t=this;if(e&&e.stopPropagation(),!this.state.busy){this.setState({busy:!0});var n=this,r="".concat(n.config.api.url,"/api/site/").concat(n.config.siteId,"/vote"),i=o.a.api.getHeaders(n.config);if(!n.config.user||!n.config.user.role){o.a.localStorage.set("osc-ideas-on-map-vote-pending",!0);var a="/oauth/login?returnTo="+encodeURIComponent(document.location.href)+"&useOauth=anonymous";return document.location.href=a}fetch(r,{method:"post",headers:i,body:JSON.stringify({ideaId:n.props.idea.id,opinion:n.config.opinion})}).then((function(e){if(!e.ok)throw Error("Stemmen is niet gelukt");return e.json()})).then((function(e){var r=e.length?1:-1,o=n.state.value+r;n.setState({value:o}),n.props.idea.userVote=e.length&&e||null,t.setState({busy:!1});var i=new window.CustomEvent("osc-idea-liked",{detail:{ideaId:n.props.idea.id,change:r}});document.dispatchEvent(i)})).catch((function(e){alert(e.message)}))}}},{key:"render",value:function(){var e=this,t=parseInt(e.state.value)||0,n=parseInt(t/100)||0,r=parseInt((t-100*n)/10)||0,o=t-100*n-10*r;return React.createElement("div",{id:e.id,className:e.props.className||"osc-vote-button osc-number-button",ref:function(t){return e.instance=t}},React.createElement("div",{className:"osc-number-plates",style:{color:this.config.color,backgroundColor:this.config.backgroundColor}},React.createElement("div",{id:"".concat(this.config.name,"-number-plate-000"),className:"osc-number-plate"},n),React.createElement("div",{id:"".concat(this.config.name,"-number-plate-00"),className:"osc-number-plate"},r),React.createElement("div",{id:"".concat(this.config.name,"-number-plate-0"),className:"osc-number-plate"},o)),React.createElement("div",{className:"osc-number-button-text ".concat(this.config.name,"-name ").concat(this.props.idea.userVote?" osc-user-has-voted":""," ").concat(this.state.busy?" osc-busy":""),style:{color:this.config.color,backgroundColor:this.config.backgroundColor},onClick:function(t){return e.doVote(t)}},e.config.text),React.createElement("div",{className:"osc-clear-both"}))}}])&&a(t.prototype,n),r&&a(t,r),s}(r.a)},,,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,function(e,t,n){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvY29tcG9uZW50L2luZGV4LmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvbGlicy9saWIvc2Vzc2lvbi1zdG9yYWdlLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9saWJzL2xpYi91c2VyL2dldC1qd3QuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2xpYnMvbGliL3VzZXIvaGFzLXJvbGUuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2xpYnMvbGliL2xvY2FsLXN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2xpYnMvaW5kZXguanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9saWJzL2xpYi9hcGkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2xpYnMvbGliL2FwaS9nZXQtaGVhZGVycy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvbGlicy9saWIvdXNlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvbGlicy9saWIvdXNlci9nZXQtdXNlci5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvbGlicy9saWIvdXNlci9sb2dvdXQuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2xpYnMvbGliL2lkZWFzLXNvcnQuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2xpYnMvbGliL3JlYWN0LXRlbXBsYXRlLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9tZXJnZS9tZXJnZS5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZ2xvYmFsLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9mb3Jtcy9jb21wb25lbnQvZGVmYXVsdC1pbnB1dC5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2Zvcm1zL2NvbXBvbmVudC9oaWRkZW4uanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9mb3Jtcy9jb21wb25lbnQvaW1hZ2UtdXBsb2FkLmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvZm9ybXMvY29tcG9uZW50L2h0bWxhcmVhLmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvZm9ybXMvY29tcG9uZW50L2lucHV0LXdpdGgtY291bnRlci5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2Zvcm1zL2NvbXBvbmVudC9yYWRpb3MuanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9mb3Jtcy9jb21wb25lbnQvcG9zdGNvZGUuanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9mb3Jtcy9jb21wb25lbnQvc2VsZWN0LmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvZm9ybXMvY29tcG9uZW50L3RleHRpbnB1dC5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2Zvcm1zL2NvbXBvbmVudC90ZXh0YXJlYS5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2Zvcm1zL2NvbXBvbmVudC9mb3JtLWZpZWxkLmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvZm9ybXMvY29tcG9uZW50L2Zvcm0uanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9mb3Jtcy9jb21wb25lbnQvc2xpZGVyLmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvZm9ybXMvaW5kZXguanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy9leHRlcm5hbCBcIlJlYWN0RE9NXCIiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2hhcy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZGVzY3JpcHRvcnMuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ZhaWxzLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS1wcm9taXNlL2luZGV4LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL3doYXR3Zy1mZXRjaC9mZXRjaC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hbi1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zZXQtZ2xvYmFsLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9oaWRkZW4ta2V5cy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW51bS1idWcta2V5cy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9pbWFnZS9jb21wb25lbnQvaW1hZ2UuanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9pbWFnZS9jb21wb25lbnQvaWRlYS1pbWFnZS5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL2ltYWdlL2luZGV4LmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLXByaW1pdGl2ZS5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaWU4LWRvbS1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2RvY3VtZW50LWNyZWF0ZS1lbGVtZW50LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbnNwZWN0LXNvdXJjZS5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc2hhcmVkLXN0b3JlLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQta2V5LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3VpZC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYXJyYXktaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL25hdGl2ZS1zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2V4cG9ydC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYWRkLXRvLXVuc2NvcGFibGVzLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1tZXRob2QtdXNlcy10by1sZW5ndGguanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2VudHJ5LXVuYmluZC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaW5kZXhlZC1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NsYXNzb2YtcmF3LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWxlbmd0aC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1jb250ZXh0LmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UvZGlzdC9lczYtcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9yZWFjdC1maWxlcG9uZC9kaXN0L3JlYWN0LWZpbGVwb25kLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtcHJvcGVydHktaXMtZW51bWVyYWJsZS5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcmVkZWZpbmUuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9uYXRpdmUtd2Vhay1tYXAuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLXB1cmUuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NvcHktY29uc3RydWN0b3ItcHJvcGVydGllcy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb3duLWtleXMuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3BhdGguanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1hYnNvbHV0ZS1pbmRleC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktc3ltYm9scy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtZm9yY2VkLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hLWZ1bmN0aW9uLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy91c2Utc3ltYm9sLWFzLXVpZC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0aWVzLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3Qta2V5cy5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaHRtbC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2VzL2FycmF5L2luY2x1ZGVzLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kLXBsdWdpbi1pbWFnZS1wcmV2aWV3L2Rpc3QvZmlsZXBvbmQtcGx1Z2luLWltYWdlLXByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2ZpbGVwb25kLXBsdWdpbi1maWxlLXZhbGlkYXRlLXR5cGUvZGlzdC9maWxlcG9uZC1wbHVnaW4tZmlsZS12YWxpZGF0ZS10eXBlLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9maWxlcG9uZC1wbHVnaW4tZmlsZS12YWxpZGF0ZS1zaXplL2Rpc3QvZmlsZXBvbmQtcGx1Z2luLWZpbGUtdmFsaWRhdGUtc2l6ZS5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQtcGx1Z2luLWZpbGUtcG9zdGVyL2Rpc3QvZmlsZXBvbmQtcGx1Z2luLWZpbGUtcG9zdGVyLmpzIiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9pZGVhLWRldGFpbHMvY29tcG9uZW50L2lkZWEtZGV0YWlscy5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL3JlYWN0aW9ucy9jb21wb25lbnQvcmVhY3Rpb24tZm9ybS5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL3JlYWN0aW9ucy9jb21wb25lbnQvcmVhY3Rpb24uanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9yZWFjdGlvbnMvY29tcG9uZW50L3JlYWN0aW9ucy5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL3JlYWN0aW9ucy9pbmRleC5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL3BvbGwvY29tcG9uZW50L3BvbGwtZm9ybS5qc3giLCJ3ZWJwYWNrOi8vT3BlblN0YWRDb21wb25lbnRzLy4vc3JjL3BvbGwvY29tcG9uZW50L3BvbGwuanN4Iiwid2VicGFjazovL09wZW5TdGFkQ29tcG9uZW50cy8uL3NyYy9wb2xsL2luZGV4LmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvZmlsZXBvbmQvZGlzdC9maWxlcG9uZC5qcyIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvaWRlYS1kZXRhaWxzL2luZGV4LmpzeCIsIndlYnBhY2s6Ly9PcGVuU3RhZENvbXBvbmVudHMvLi9zcmMvaWRlYS1kZXRhaWxzL2NvbXBvbmVudC92b3RlLWJ1dHRvbi5qc3giXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ3aW5kb3ciLCJPcGVuU3RhZENvbXBvbmVudCIsInByb3BzIiwiZGVmYXVsdENvbmZpZyIsImRlZmF1bHRkZWZhdWx0Q29uZmlnIiwic2VsZiIsImF0dHJpYnV0ZXMiLCJrZXlzIiwiZm9yRWFjaCIsImF0dHJpYnV0ZSIsImNvbmZpZyIsIkpTT04iLCJwYXJzZSIsImVyciIsInByb3BzQ29uZmlnIiwicmVtb3ZlVW5kZWZBbmROdWxsIiwibWVyZ2UiLCJyZWN1cnNpdmUiLCJzaXRlSWQiLCJhcGkiLCJ1cmwiLCJoZWFkZXJzIiwiaXNVc2VyTG9nZ2VkSW4iLCJ1c2VyIiwiZGl2SWQiLCJpZCIsInBhcnNlSW50IiwiTWF0aCIsInJhbmRvbSIsInByZXZQcm9wcyIsInByZXZTdGF0ZSIsIlJlYWN0IiwiQ29tcG9uZW50Iiwib2JqIiwib3NjU2Vzc2lvblN0b3JhZ2UiLCJzZXNzaW9uU3RvcmFnZSIsImdldEl0ZW0iLCJzdHJpbmdpZnkiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImp3dCIsIm1hdGNoIiwibG9jYXRpb24iLCJzZWFyY2giLCJzZXQiLCJkb2N1bWVudCIsInJlcGxhY2UiLCJyb2xlcyIsImFkbWluIiwibW9kZXJhdG9yIiwiZWRpdG9yIiwibWVtYmVyIiwiYW5vbnltb3VzIiwiYWxsIiwib3duZXIiLCJvc2NMb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJPcGVuU3RhZENvbXBvbmVudExpYnMiLCJnZXRIZWFkZXJzIiwiZ2V0SldUIiwiZ2V0VXNlciIsIm5leHQiLCJjb25zb2xlIiwibG9nIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJvayIsIkVycm9yIiwianNvbiIsImxvZ291dCIsImhhc1JvbGUiLCJyZXF1aXJlZFJvbGUiLCJ1c2VyUm9sZSIsInJvbGUiLCJpbmNsdWRlcyIsImlkZWFzU29ydCIsImlkZWFzIiwic29ydE9yZGVyIiwiY2VudGVyIiwic29ydCIsImEiLCJiIiwidGl0bGUiLCJ0b0xvd2VyQ2FzZSIsInJhbmtpbmciLCJ5ZXMiLCJEYXRlIiwiY3JlYXRlZEF0IiwiZ2V0VGltZSIsImxhdCIsImxuZyIsImNvb3JkaW5hdGVzIiwibWFwIiwiaWRlYSIsIl9kaXN0YW5jZSIsInNxcnQiLCJwb3ciLCJhcmdDb3VudCIsInJlYWN0VGVtcGxhdGUiLCJodG1sIiwiYXJncyIsImFyZ3VtZW50cyIsIm1hdGNoZXMiLCJSZWdFeHAiLCJleGVjIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJpc05vZGUiLCJQdWJsaWMiLCJjbG9uZSIsIm1lcmdlX3JlY3Vyc2l2ZSIsImJhc2UiLCJleHRlbmQiLCJ0eXBlT2YiLCJhcmd2IiwicmVzdWx0Iiwic2l6ZSIsImxlbmd0aCIsImluZGV4IiwiaXRlbSIsInNpdGVtIiwiaW5wdXQiLCJ0b1N0cmluZyIsInNsaWNlIiwib3V0cHV0IiwidHlwZSIsIml0IiwiY2hlY2siLCJnbG9iYWxUaGlzIiwiZ2xvYmFsIiwiRnVuY3Rpb24iLCJPcGVuU3RhZENvbXBvbmVudERlZmF1bHRJbnB1dCIsImNob2ljZXMiLCJwbGFjZWhvbGRlciIsImRpc2FibGVkIiwicmVxdWlyZWQiLCJzdGF0ZSIsInVuZGVmaW5lZCIsImVycm9yIiwib25DaGFuZ2UiLCJzaG93RXJyb3JzIiwiaXNWYWxpZCIsInRoaXMiLCJzZXRTdGF0ZSIsImRhdGEiLCJ2YWxpZGF0ZSIsIk9wZW5TdGFkQ29tcG9uZW50U2VsZWN0IiwiZSIsImhhbmRsZU9uQ2hhbmdlIiwicmVmIiwiZWwiLCJyZWdpc3RlclBsdWdpbiIsIkZpbGVwb25kUGx1Z2luSW1hZ2VQcmV2aWV3IiwiRmlsZXBvbmRQbHVnaW5GaWxlVmFsaWRhdGVUeXBlIiwiRmlsZXBvbmRQbHVnaW5GaWxlVmFsaWRhdGVTaXplIiwiRmlsZXBvbmRQbHVnaW5GaWxlUG9zdGVyIiwiT3BlblN0YWRDb21wb25lbnRJbWFnZVVwbG9hZCIsImFsbG93TXVsdGlwbGUiLCJpbWFnZXNlcnZlciIsInByb2Nlc3MiLCJ1cGxvYWRlZEZpbGVzIiwiQXJyYXkiLCJpc0FycmF5IiwiaW1hZ2UiLCJzcmMiLCJwdXNoIiwic291cmNlIiwib3B0aW9ucyIsImZpbGUiLCJtZXRhZGF0YSIsInBvc3RlciIsImltYWdldXBsb2FkZXIiLCJnZXRGaWxlcyIsInNlcnZlcklkIiwiYWRkRmlsZSIsInJlbW92ZUZpbGUiLCJjdXJyZW50IiwiZmlsdGVyIiwiZmlsZUl0ZW0iLCJmaWxlcyIsImFzSnNvbiIsImFzIiwib25pbml0IiwiaW5pdCIsIm9ucHJvY2Vzc2ZpbGUiLCJ1cGRhdGVVcGxvYWRlZEZpbGVzIiwidXBkYXRlVmFsdWUiLCJvbnJlbW92ZWZpbGUiLCJzZXJ2ZXIiLCJhY2NlcHRlZEZpbGVUeXBlcyIsImFsbG93RmlsZVNpemVWYWxpZGF0aW9uIiwiYWxsb3dSZW9yZGVyIiwic3R5bGVJdGVtUGFuZWxBc3BlY3RSYXRpbyIsIm1heEZpbGVTaXplIiwibWF4RmlsZXMiLCJhbGxvd0Jyb3dzZSIsImltYWdlUmVzaXplVGFyZ2V0V2lkdGgiLCJpbWFnZVJlc2l6ZVRhcmdldEhlaWdodCIsImltYWdlQ3JvcEFzcGVjdFJhdGlvIiwibGFiZWxJZGxlIiwibGFiZWxJbnZhbGlkRmllbGQiLCJsYWJlbEZpbGVXYWl0aW5nRm9yU2l6ZSIsImxhYmVsRmlsZVNpemVOb3RBdmFpbGFibGUiLCJsYWJlbEZpbGVDb3VudFNpbmd1bGFyIiwibGFiZWxGaWxlQ291bnRQbHVyYWwiLCJsYWJlbEZpbGVMb2FkaW5nIiwibGFiZWxGaWxlQWRkZWQiLCJsYWJlbEZpbGVMb2FkRXJyb3IiLCJsYWJlbEZpbGVSZW1vdmVkIiwibGFiZWxGaWxlUmVtb3ZlRXJyb3IiLCJsYWJlbEZpbGVQcm9jZXNzaW5nIiwibGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlIiwibGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQiLCJsYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3IiLCJsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3IiLCJsYWJlbFRhcFRvQ2FuY2VsIiwibGFiZWxUYXBUb1JldHJ5IiwibGFiZWxUYXBUb1VuZG8iLCJsYWJlbEJ1dHRvblJlbW92ZUl0ZW0iLCJsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQiLCJsYWJlbEJ1dHRvblJldHJ5SXRlbUxvYWQiLCJsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3NpbmciLCJsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZyIsImxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZyIsImxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW0iLCJPcGVuU3RhZENvbXBvbmVudEhUTUxBcmVhIiwib25LZXlVcHgiLCJmaWx0ZXJIVE1MIiwiaW5uZXJIVE1MIiwiY29tbWFuZCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZXhlY0NvbW1hbmQiLCJvbktleVVwIiwib25Gb2N1cyIsIm9uQmx1ciIsImNsYXNzTmFtZSIsIm9uTW91c2VEb3duIiwiZXhlY3V0ZUFjdGlvbiIsInByb21wdCIsImNvbnRlbnRFZGl0YWJsZSIsIkZvcm1maWVsZElucHV0V2l0aENvdW50ZXIiLCJpbnB1dFR5cGUiLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJmb2N1c2VkIiwidmFsdWVMZW5ndGgiLCJ1c2VLZXkiLCJvbklucHV0Rm9jdXMiLCJvbklucHV0Qmx1ciIsIm9uSW5wdXRLZXlVcCIsIndhcm5pbmciLCJzaG93V2FybmluZyIsImNvdW50ZXIiLCJpbnB1dEhUTUwiLCJpbnN0YW5jZSIsIk9wZW5TdGFkQ29tcG9uZW50UmFkaW9zIiwiZXJyb3JIVE1MIiwiY2hvaWNlIiwiZGFuZ2Vyb3VzRGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsIk9wZW5TdGFkQ29tcG9uZW50UG9zdGNvZGUiLCJ0ZXh0IiwiT3BlblN0YWRDb21wb25lbnRUZXh0IiwiT3BlblN0YWRDb21wb25lbnRUZXh0QXJlYSIsIk9wZW5TdGFkQ29tcG9uZW50Rm9ybUZpZWxkIiwidmFsaWRhdGVBY3Rpb24iLCJjaGFuZ2VBY3Rpb24iLCJpbml0VmFsdWUiLCJ0aXRsZUhUTUwiLCJkZXNjcmlwdGlvbkhUTUwiLCJmaWVsZEhUTUwiLCJPcGVuU3RhZENvbXBvbmVudEZvcm0iLCJpbnRybyIsImZpZWxkcyIsImluaXRWYWx1ZXMiLCJ2YWx1ZXMiLCJmaWVsZENvbmZpZyIsInNjcm9sbFRvIiwiZmlyc3RJbnZhbGlkIiwiZmllbGQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiaW50cm9IVE1MIiwiZmllbGRzSFRNTCIsIlNsaWRlciIsInRvdWNoZWQiLCJoYW5kbGVDaGFuZ2UiLCJldmVudCIsInRhcmdldCIsIm1pbiIsIm1heCIsInN0ZXAiLCJzdHlsZSIsInRyYW5zZm9ybSIsImNhbGNQcm9ncmVzcyIsIm9uQ2xpY2siLCJkb1RvdWNoIiwiRm9ybSIsIkZvcm1GaWVsZCIsIkhpZGRlbiIsIkltYWdlVXBsb2FkIiwiSW5wdXRXaXRoQ291bnRlciIsIlBvc3Rjb2RlIiwiUmFkaW9zIiwiU2VsZWN0IiwiVGV4dCIsIlRleHRhcmVhIiwiZmFpbHMiLCJQcm9taXNlIiwic3VwcG9ydCIsIkJsb2IiLCJ2aWV3Q2xhc3NlcyIsImlzQXJyYXlCdWZmZXJWaWV3IiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJpbmRleE9mIiwibm9ybWFsaXplTmFtZSIsIlN0cmluZyIsInRlc3QiLCJUeXBlRXJyb3IiLCJub3JtYWxpemVWYWx1ZSIsIml0ZXJhdG9yRm9yIiwiaXRlbXMiLCJpdGVyYXRvciIsInNoaWZ0IiwiZG9uZSIsIkhlYWRlcnMiLCJhcHBlbmQiLCJoZWFkZXIiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29uc3VtZWQiLCJib2R5IiwiYm9keVVzZWQiLCJyZWplY3QiLCJmaWxlUmVhZGVyUmVhZHkiLCJyZWFkZXIiLCJyZXNvbHZlIiwib25sb2FkIiwib25lcnJvciIsInJlYWRCbG9iQXNBcnJheUJ1ZmZlciIsImJsb2IiLCJGaWxlUmVhZGVyIiwicHJvbWlzZSIsInJlYWRBc0FycmF5QnVmZmVyIiwiYnVmZmVyQ2xvbmUiLCJidWYiLCJ2aWV3IiwiVWludDhBcnJheSIsImJ5dGVMZW5ndGgiLCJidWZmZXIiLCJCb2R5IiwiX2luaXRCb2R5IiwiX2JvZHlJbml0IiwiX2JvZHlUZXh0IiwiaXNQcm90b3R5cGVPZiIsIl9ib2R5QmxvYiIsIkZvcm1EYXRhIiwiX2JvZHlGb3JtRGF0YSIsIlVSTFNlYXJjaFBhcmFtcyIsIkRhdGFWaWV3IiwiX2JvZHlBcnJheUJ1ZmZlciIsInJlamVjdGVkIiwiYXJyYXlCdWZmZXIiLCJyZWFkQXNUZXh0IiwiY2hhcnMiLCJmcm9tQ2hhckNvZGUiLCJqb2luIiwicmVhZEFycmF5QnVmZmVyQXNUZXh0IiwiZm9ybURhdGEiLCJkZWNvZGUiLCJvbGRWYWx1ZSIsImhhcyIsImNhbGxiYWNrIiwidGhpc0FyZyIsImVudHJpZXMiLCJtZXRob2RzIiwiUmVxdWVzdCIsIm1ldGhvZCIsInVwY2FzZWQiLCJjcmVkZW50aWFscyIsInNpZ25hbCIsInRvVXBwZXJDYXNlIiwicmVmZXJyZXIiLCJmb3JtIiwidHJpbSIsInNwbGl0IiwiYnl0ZXMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJSZXNwb25zZSIsImJvZHlJbml0Iiwic3RhdHVzIiwic3RhdHVzVGV4dCIsInJlZGlyZWN0U3RhdHVzZXMiLCJyZWRpcmVjdCIsIlJhbmdlRXJyb3IiLCJET01FeGNlcHRpb24iLCJtZXNzYWdlIiwic3RhY2siLCJjb25zdHJ1Y3RvciIsInJlcXVlc3QiLCJhYm9ydGVkIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJhYm9ydFhociIsImFib3J0IiwicmF3SGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsImxpbmUiLCJwYXJ0cyIsInJlc3BvbnNlVVJMIiwicmVzcG9uc2VUZXh0Iiwib250aW1lb3V0Iiwib25hYm9ydCIsIm9wZW4iLCJ3aXRoQ3JlZGVudGlhbHMiLCJyZXNwb25zZVR5cGUiLCJzZXRSZXF1ZXN0SGVhZGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2VuZCIsInBvbHlmaWxsIiwiREVTQ1JJUFRPUlMiLCJkZWZpbmVQcm9wZXJ0eU1vZHVsZSIsImNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciIsImYiLCJJRThfRE9NX0RFRklORSIsImFuT2JqZWN0IiwidG9QcmltaXRpdmUiLCJuYXRpdmVEZWZpbmVQcm9wZXJ0eSIsIk8iLCJQIiwiQXR0cmlidXRlcyIsImlzT2JqZWN0IiwiSW5kZXhlZE9iamVjdCIsInJlcXVpcmVPYmplY3RDb2VyY2libGUiLCJjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkiLCJnIiwiT3BlblN0YWRDb21wb25lbnRJbWFnZSIsImFzcGVjdFJhdGlvIiwiYWxsb3dNdWx0aXBsZUltYWdlcyIsImN1cnJlbnRJbWFnZUluZGV4Iiwid2lkdGgiLCJlbGVtIiwicXVlcnlTZWxlY3RvciIsInBhcmVudE5vZGUiLCJvZmZzZXRXaWR0aCIsIndoaWNoIiwiaW1hZ2VzIiwiaW1hZ2VTcmMiLCJoZWlnaHQiLCJnZXRBc3BlY3RSYXRpb0ZhY3RvciIsImdldEltYWdlc0Zyb21Qcm9wcyIsImdldFdpZHRoSGVpZ2h0IiwiYmFja2dyb3VuZEltYWdlIiwiZ2V0SW1hZ2VTcmMiLCJ0aHVtYiIsInRodW1iaGVpZ2h0IiwidGh1bWJ3aWR0aCIsInRodW1ibGVmdCIsImxlZnQiLCJ6SW5kZXgiLCJzZXRDdXJyZW50SW1hZ2VJbmRleCIsIk9wZW5TdGFkQ29tcG9uZW50SWRlYUltYWdlIiwiZXh0cmFEYXRhIiwicG9zdGVySW1hZ2UiLCJyZW5kZXJFbGVtZW50IiwiUmVhY3RET00iLCJyZW5kZXIiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSIsInRvSW5kZXhlZE9iamVjdCIsIm5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImJpdG1hcCIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiUFJFRkVSUkVEX1NUUklORyIsImZuIiwidmFsIiwidmFsdWVPZiIsImNyZWF0ZUVsZW1lbnQiLCJFWElTVFMiLCJzdG9yZSIsImZ1bmN0aW9uVG9TdHJpbmciLCJpbnNwZWN0U291cmNlIiwic2V0R2xvYmFsIiwiU0hBUkVEIiwic2hhcmVkIiwidWlkIiwiSVNfUFVSRSIsInZlcnNpb24iLCJjb3B5cmlnaHQiLCJwb3N0Zml4IiwicGF0aCIsImFGdW5jdGlvbiIsInZhcmlhYmxlIiwibmFtZXNwYWNlIiwiaGlkZGVuS2V5cyIsIm5hbWVzIiwidG9MZW5ndGgiLCJ0b0Fic29sdXRlSW5kZXgiLCJjcmVhdGVNZXRob2QiLCJJU19JTkNMVURFUyIsIiR0aGlzIiwiZnJvbUluZGV4IiwiY2VpbCIsImZsb29yIiwiYXJndW1lbnQiLCJpc05hTiIsImdldE93blByb3BlcnR5U3ltYm9scyIsInJlZGVmaW5lIiwiY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyIsImlzRm9yY2VkIiwidGFyZ2V0UHJvcGVydHkiLCJzb3VyY2VQcm9wZXJ0eSIsImRlc2NyaXB0b3IiLCJUQVJHRVQiLCJHTE9CQUwiLCJTVEFUSUMiLCJzdGF0Iiwibm9UYXJnZXRHZXQiLCJmb3JjZWQiLCJzaGFtIiwid2VsbEtub3duU3ltYm9sIiwiVU5TQ09QQUJMRVMiLCJBcnJheVByb3RvdHlwZSIsImNhY2hlIiwidGhyb3dlciIsIk1FVEhPRF9OQU1FIiwiQUNDRVNTT1JTIiwiYXJndW1lbnQwIiwiYXJndW1lbnQxIiwiQ09OU1RSVUNUT1IiLCJNRVRIT0QiLCJjbGFzc29mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b0ludGVnZXIiLCJ0aGF0IiwiYXBwbHkiLCJOQVRJVkVfU1lNQk9MIiwiVVNFX1NZTUJPTF9BU19VSUQiLCJXZWxsS25vd25TeW1ib2xzU3RvcmUiLCJjcmVhdGVXZWxsS25vd25TeW1ib2wiLCJ3aXRob3V0U2V0dGVyIiwiZmFjdG9yeSIsImlzRnVuY3Rpb24iLCJ4IiwibGVuIiwidmVydHhOZXh0IiwiY3VzdG9tU2NoZWR1bGVyRm4iLCJhc2FwIiwiYXJnIiwicXVldWUiLCJmbHVzaCIsInNjaGVkdWxlRmx1c2giLCJicm93c2VyV2luZG93IiwiYnJvd3Nlckdsb2JhbCIsIkJyb3dzZXJNdXRhdGlvbk9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiLCJpc1dvcmtlciIsIlVpbnQ4Q2xhbXBlZEFycmF5IiwiaW1wb3J0U2NyaXB0cyIsIk1lc3NhZ2VDaGFubmVsIiwidXNlU2V0VGltZW91dCIsImdsb2JhbFNldFRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2hhbm5lbCIsIml0ZXJhdGlvbnMiLCJvYnNlcnZlciIsIm5vZGUiLCJvbkZ1bGZpbGxtZW50Iiwib25SZWplY3Rpb24iLCJfYXJndW1lbnRzIiwicGFyZW50IiwiY2hpbGQiLCJub29wIiwiUFJPTUlTRV9JRCIsIm1ha2VQcm9taXNlIiwiX3N0YXRlIiwiaW52b2tlQ2FsbGJhY2siLCJfcmVzdWx0Iiwic3Vic2NyaWJlIiwiX3Jlc29sdmUiLCJuZXh0VGljayIsImNyZWF0ZVRleHROb2RlIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJwb3J0MSIsIm9ubWVzc2FnZSIsInBvcnQyIiwicG9zdE1lc3NhZ2UiLCJ2ZXJ0eCIsInJ1bk9uTG9vcCIsInJ1bk9uQ29udGV4dCIsImF0dGVtcHRWZXJ0eCIsInN1YnN0cmluZyIsIlBFTkRJTkciLCJHRVRfVEhFTl9FUlJPUiIsIkVycm9yT2JqZWN0IiwiZ2V0VGhlbiIsImhhbmRsZU1heWJlVGhlbmFibGUiLCJtYXliZVRoZW5hYmxlIiwidGhlbiQkIiwidGhlbmFibGUiLCJmdWxmaWxsIiwiX3JlamVjdCIsInJlYXNvbiIsImhhbmRsZU93blRoZW5hYmxlIiwic2VhbGVkIiwiZnVsZmlsbG1lbnRIYW5kbGVyIiwicmVqZWN0aW9uSGFuZGxlciIsInRyeVRoZW4iLCJfbGFiZWwiLCJoYW5kbGVGb3JlaWduVGhlbmFibGUiLCJwdWJsaXNoUmVqZWN0aW9uIiwiX29uZXJyb3IiLCJwdWJsaXNoIiwiX3N1YnNjcmliZXJzIiwic3Vic2NyaWJlcnMiLCJzZXR0bGVkIiwiZGV0YWlsIiwiVFJZX0NBVENIX0VSUk9SIiwiaGFzQ2FsbGJhY2siLCJzdWNjZWVkZWQiLCJmYWlsZWQiLCJ0cnlDYXRjaCIsIkVudW1lcmF0b3IiLCJDb25zdHJ1Y3RvciIsIl9pbnN0YW5jZUNvbnN0cnVjdG9yIiwiX2lucHV0IiwiX3JlbWFpbmluZyIsIl9lbnVtZXJhdGUiLCJyZXNvbHZlciIsIm5lZWRzUmVzb2x2ZXIiLCJpbml0aWFsaXplUHJvbWlzZSIsIm5lZWRzTmV3IiwibG9jYWwiLCJwcm9taXNlVG9TdHJpbmciLCJjYXN0IiwiX2VhY2hFbnRyeSIsImVudHJ5IiwicmVzb2x2ZSQkIiwiX3RoZW4iLCJfc2V0dGxlZEF0IiwiX3dpbGxTZXR0bGVBdCIsImVudW1lcmF0b3IiLCJyYWNlIiwiXyIsIl9zZXRTY2hlZHVsZXIiLCJzY2hlZHVsZUZuIiwiX3NldEFzYXAiLCJhc2FwRm4iLCJfYXNhcCIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwidGltZW91dCIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsImJyb3dzZXIiLCJlbnYiLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiRmlsZVBvbmQiLCJGaWxlU3RhdHVzIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9yZWFjdCIsIl9yZWFjdDIiLCJkZWZhdWx0IiwiX2ZpbGVwb25kIiwiaXNTdXBwb3J0ZWQiLCJzdXBwb3J0ZWQiLCJmaWx0ZXJlZE1ldGhvZHMiLCJfUmVhY3QkQ29tcG9uZW50IiwiX2NsYXNzQ2FsbENoZWNrIiwiX3RoaXMiLCJSZWZlcmVuY2VFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX19wcm90b19fIiwiZ2V0UHJvdG90eXBlT2YiLCJhbGxvd0ZpbGVzU3luYyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInNldFByb3RvdHlwZU9mIiwiX2luaGVyaXRzIiwiX3RoaXMyIiwiYXNzaWduIiwib251cGRhdGVmaWxlcyIsImNiIiwiX3BvbmQiLCJfZWxlbWVudCIsImRlc3Ryb3kiLCJzZXRPcHRpb25zIiwiX3RoaXMzIiwiX3Byb3BzIiwiY2FwdHVyZU1ldGhvZCIsImFjY2VwdCIsIm11bHRpcGxlIiwiY2FwdHVyZSIsImVsZW1lbnQiLCJuYXRpdmVQcm9wZXJ0eUlzRW51bWVyYWJsZSIsIk5BU0hPUk5fQlVHIiwiMSIsIlYiLCJJbnRlcm5hbFN0YXRlTW9kdWxlIiwiZ2V0SW50ZXJuYWxTdGF0ZSIsImVuZm9yY2VJbnRlcm5hbFN0YXRlIiwiZW5mb3JjZSIsIlRFTVBMQVRFIiwidW5zYWZlIiwic2ltcGxlIiwiTkFUSVZFX1dFQUtfTUFQIiwib2JqZWN0SGFzIiwic2hhcmVkS2V5IiwiV2Vha01hcCIsIndtZ2V0Iiwid21oYXMiLCJ3bXNldCIsIlNUQVRFIiwiZ2V0dGVyRm9yIiwiVFlQRSIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUiLCJnZXRCdWlsdEluIiwiZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZSIsImdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSIsImludGVybmFsT2JqZWN0S2V5cyIsImludGVnZXIiLCJyZXBsYWNlbWVudCIsImZlYXR1cmUiLCJkZXRlY3Rpb24iLCJub3JtYWxpemUiLCJQT0xZRklMTCIsIk5BVElWRSIsInN0cmluZyIsImFjdGl2ZVhEb2N1bWVudCIsImVudW1CdWdLZXlzIiwiZG9jdW1lbnRDcmVhdGVFbGVtZW50IiwiSUVfUFJPVE8iLCJFbXB0eUNvbnN0cnVjdG9yIiwic2NyaXB0VGFnIiwiY29udGVudCIsIkxUIiwiTnVsbFByb3RvT2JqZWN0IiwiZG9tYWluIiwiQWN0aXZlWE9iamVjdCIsImlmcmFtZURvY3VtZW50IiwiaWZyYW1lIiwid3JpdGUiLCJjbG9zZSIsInRlbXAiLCJwYXJlbnRXaW5kb3ciLCJOdWxsUHJvdG9PYmplY3RWaWFBY3RpdmVYIiwiZGlzcGxheSIsImFwcGVuZENoaWxkIiwiY29udGVudFdpbmRvdyIsIkYiLCJQcm9wZXJ0aWVzIiwib2JqZWN0S2V5cyIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIiwiY2hpbGRyZW4iLCJlbnRyeVVuYmluZCIsIiQiLCIkaW5jbHVkZXMiLCJhZGRUb1Vuc2NvcGFibGVzIiwicHJvdG8iLCJhcnJheU1ldGhvZFVzZXNUb0xlbmd0aCIsImlzUHJldmlld2FibGVJbWFnZSIsIl9Bd2FpdFZhbHVlIiwid3JhcHBlZCIsIl9Bc3luY0dlbmVyYXRvciIsImdlbiIsImZyb250IiwiYmFjayIsInJlc3VtZSIsIndyYXBwZWRBd2FpdCIsInNldHRsZSIsIl9pbnZva2UiLCJyZXR1cm4iLCJfc2xpY2VkVG9BcnJheSIsImFyciIsIl9hcnJheVdpdGhIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIl9ub25JdGVyYWJsZVJlc3QiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwiX3MiLCJfaSIsImFzeW5jSXRlcmF0b3IiLCJ0aHJvdyIsInZlY3Rvck11bHRpcGx5IiwidiIsImFtb3VudCIsImNyZWF0ZVZlY3RvciIsInkiLCJ2ZWN0b3JBZGQiLCJ2ZWN0b3JOb3JtYWxpemUiLCJ2ZWN0b3JSb3RhdGUiLCJyYWRpYW5zIiwib3JpZ2luIiwiY29zIiwic2luIiwiZ2V0TWFya3VwVmFsdWUiLCJzY2FsYXIiLCJheGlzIiwicGFyc2VGbG9hdCIsImdldE1hcmt1cFN0eWxlcyIsIm1hcmt1cCIsInNjYWxlIiwibGluZVN0eWxlIiwiYm9yZGVyU3R5bGUiLCJmaWxsIiwiYmFja2dyb3VuZENvbG9yIiwiZm9udENvbG9yIiwic3Ryb2tlIiwiYm9yZGVyQ29sb3IiLCJsaW5lQ29sb3IiLCJzdHJva2VXaWR0aCIsImJvcmRlcldpZHRoIiwibGluZVdpZHRoIiwibGluZUNhcCIsImxpbmVKb2luIiwib3BhY2l0eSIsImlzRGVmaW5lZCIsImdldE1hcmt1cFJlY3QiLCJyZWN0IiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJwb2ludHNUb1BhdGhTaGFwZSIsInBvaW50cyIsInBvaW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHIiLCJzZXRBdHRyaWJ1dGUiLCJzdmciLCJ0YWciLCJjcmVhdGVFbGVtZW50TlMiLCJ1cGRhdGVSZWN0Iiwic3R5bGVzIiwidXBkYXRlRWxsaXBzZSIsImN4IiwiY3kiLCJyeCIsInJ5IiwiSU1BR0VfRklUX1NUWUxFIiwiY29udGFpbiIsImNvdmVyIiwidXBkYXRlSW1hZ2UiLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwiZml0IiwiVEVYVF9BTkNIT1IiLCJ1cGRhdGVUZXh0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwiZm9udFdlaWdodCIsInRleHRBbGlnbiIsInRleHRDb250ZW50IiwidXBkYXRlTGluZSIsImNoaWxkTm9kZXMiLCJiZWdpbiIsImVuZCIsIngxIiwieTEiLCJ4MiIsInkyIiwibGluZURlY29yYXRpb24iLCJhcnJvd0JlZ2luUm90YXRpb25Qb2ludCIsImFycm93QmVnaW5DZW50ZXIiLCJhcnJvd0JlZ2luQSIsImFycm93QmVnaW5CIiwiYXJyb3dFbmRSb3RhdGlvblBvaW50IiwiYXJyb3dFbmRDZW50ZXIiLCJhcnJvd0VuZEEiLCJhcnJvd0VuZEIiLCJ1cGRhdGVQYXRoIiwiY3JlYXRlU2hhcGUiLCJjcmVhdGVMaW5lIiwic2hhcGUiLCJDUkVBVEVfVFlQRV9ST1VURVMiLCJzZXRBdHRyaWJ1dGVOUyIsImVsbGlwc2UiLCJVUERBVEVfVFlQRV9ST1VURVMiLCJjcmVhdGVNYXJrdXBCeVR5cGUiLCJ1cGRhdGVNYXJrdXBCeVR5cGUiLCJNQVJLVVBfUkVDVCIsInRvT3B0aW9uYWxGcmFjdGlvbiIsInByZXBhcmVNYXJrdXAiLCJfbWFya3VwIiwicmVkdWNlIiwicHJldiIsImN1cnIiLCJzb3J0TWFya3VwQnlaSW5kZXgiLCJjcmVhdGVNYXJrdXBWaWV3IiwidXRpbHMiLCJjcmVhdGVWaWV3IiwiaWdub3JlUmVjdCIsIm1peGlucyIsImFwaXMiLCJfcmVmIiwicm9vdCIsImRpcnR5IiwiY3JvcCIsInJlc2l6ZSIsInZpZXdXaWR0aCIsInZpZXdIZWlnaHQiLCJjcm9wV2lkdGgiLCJjcm9wSGVpZ2h0IiwiX3NpemUiLCJvdXRwdXRXaWR0aCIsIm91dHB1dEhlaWdodCIsIm91dHB1dEZpdCIsIm91dHB1dFVwc2NhbGUiLCJ1cHNjYWxlIiwic2hvdWxkVXBzY2FsZSIsInNjYWxhcldpZHRoIiwic2NhbGFySGVpZ2h0IiwibWFya3VwRmlsdGVyIiwicXVlcnkiLCJzZXR0aW5ncyIsImNyZWF0ZVZlY3RvciQxIiwidmVjdG9yRG90IiwidmVjdG9yU3VidHJhY3QiLCJ2ZWN0b3JEaXN0YW5jZVNxdWFyZWQiLCJ2ZWN0b3JEaXN0YW5jZSIsImdldE9mZnNldFBvaW50T25FZGdlIiwicm90YXRpb24iLCJBIiwiQiIsIkMiLCJzaW5BIiwic2luQiIsInNpbkMiLCJjb3NDIiwicmF0aW8iLCJnZXRSb3RhdGVkUmVjdFNpemUiLCJ3IiwiaCIsImhvciIsInZlciIsInRsIiwiYWJzIiwidHIiLCJibCIsImNhbGN1bGF0ZUNhbnZhc1NpemUiLCJjYW52YXNBc3BlY3RSYXRpbyIsInpvb20iLCJpbWFnZUFzcGVjdFJhdGlvIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJpbWdXaWR0aCIsImltZ0hlaWdodCIsImdldEltYWdlUmVjdFpvb21GYWN0b3IiLCJpbWFnZVJlY3QiLCJjcm9wUmVjdCIsImltYWdlV2lkdGgiLCJpbWFnZUhlaWdodCIsInJvdGF0ZWRDcm9wU2l6ZSIsImdldENlbnRlcmVkQ3JvcFJlY3QiLCJjb250YWluZXIiLCJnZXRDdXJyZW50Q3JvcFNpemUiLCJpbWFnZVNpemUiLCJjYW52YXNTaXplIiwiY2FudmFzQ2VudGVyIiwic3RhZ2UiLCJzaG91bGRMaW1pdCIsInNjYWxlVG9GaXQiLCJ3aWR0aEZsb2F0IiwiaGVpZ2h0RmxvYXQiLCJyb3VuZCIsIklNQUdFX1NDQUxFX1NQUklOR19QUk9QUyIsInN0aWZmbmVzcyIsImRhbXBpbmciLCJtYXNzIiwiY3JlYXRlQml0bWFwVmlldyIsImNyZWF0ZUltYWdlQ2FudmFzV3JhcHBlciIsImFuaW1hdGlvbnMiLCJvcmlnaW5YIiwib3JpZ2luWSIsInNjYWxlWCIsInNjYWxlWSIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwicm90YXRlWiIsIl9yZWYyIiwiYXBwZW5kQ2hpbGRWaWV3IiwiY3JlYXRlQ2hpbGRWaWV3IiwiX3JlZjMiLCJmbGlwIiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsIiwiY3JlYXRlQ2xpcFZpZXciLCJkdXJhdGlvbiIsImRpZFdyaXRlVmlldyIsIl9yZWY0IiwiYmFja2dyb3VuZCIsIl9yZWY1IiwiY3JlYXRlTWFya3VwIiwiZGVzdHJveU1hcmt1cCIsInJlbW92ZUNoaWxkVmlldyIsInRyYW5zcGFyZW5jeUluZGljYXRvciIsImRhdGFzZXQiLCJfcmVmNiIsInNob3VsZE9wdGltaXplIiwidHJhbnNsYXRpb24iLCJQSSIsImNyb3BBc3BlY3RSYXRpbyIsInN0YWdlWm9vbUZhY3RvciIsImltYWdlVmlldyIsImNyZWF0ZUltYWdlVmlldyIsIl9yZWY3IiwiY2xpcCIsIl9yZWY4IiwiaGlkZGVuIiwiY29udGFpbmVyV2lkdGgiLCJpbm5lciIsImNvbnRhaW5lckhlaWdodCIsImZpeGVkUHJldmlld0hlaWdodCIsIm1pblByZXZpZXdIZWlnaHQiLCJtYXhQcmV2aWV3SGVpZ2h0IiwicGFuZWxBc3BlY3RSYXRpbyIsImNsaXBIZWlnaHQiLCJjbGlwV2lkdGgiLCJTVkdfTUFTSyIsImNoZWNrZWRNeUJhc2VzIiwiU1ZHTWFza1VuaXF1ZUlkIiwiY3JlYXRlSW1hZ2VPdmVybGF5VmlldyIsImZwQVBJIiwiaHJlZiIsImhhc2giLCJjbGFzc0xpc3QiLCJhZGQiLCJCaXRtYXBXb3JrZXIiLCJjcmVhdGVJbWFnZUJpdG1hcCIsIkNvbG9yTWF0cml4V29ya2VyIiwiaW1hZ2VEYXRhIiwibWF0cml4IiwiY29sb3JNYXRyaXgiLCJtMTEiLCJtMTIiLCJtMTMiLCJtMTQiLCJtMTUiLCJtMjEiLCJtMjIiLCJtMjMiLCJtMjQiLCJtMjUiLCJtMzEiLCJtMzIiLCJtMzMiLCJtMzQiLCJtMzUiLCJtNDEiLCJtNDIiLCJtNDMiLCJtNDQiLCJtNDUiLCJnZXRJbWFnZVNpemUiLCJJbWFnZSIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ0cmFuc2Zvcm1zIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsImZpeEltYWdlT3JpZW50YXRpb24iLCJjdHgiLCJvcmllbnRhdGlvbiIsImNyZWF0ZVByZXZpZXdJbWFnZSIsImNhbnZhcyIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJpc0JpdG1hcCIsIk1BWF9XSURUSCIsIk1BWF9IRUlHSFQiLCJjYWxjdWxhdGVBdmVyYWdlQ29sb3IiLCJnZXRJbWFnZURhdGEiLCJhdmVyYWdlQ29sb3IiLCJjbG9uZUNhbnZhcyIsImNsb25lSW1hZ2VEYXRhIiwiSW1hZ2VEYXRhIiwiY3JlYXRlSW1hZ2VEYXRhIiwibG9hZEltYWdlIiwiaW1nIiwiY3Jvc3NPcmlnaW4iLCJjcmVhdGVJbWFnZVdyYXBwZXJWaWV3IiwiT3ZlcmxheVZpZXciLCJJbWFnZVZpZXciLCJjcmVhdGVXb3JrZXIiLCJhcHBseUZpbHRlciIsInB1dEltYWdlRGF0YSIsIndvcmtlciIsInBvc3QiLCJ0ZXJtaW5hdGUiLCJyZW1vdmVJbWFnZVZpZXciLCJfZGVzdHJveSIsInNoaWZ0SW1hZ2UiLCJpbWFnZVZpZXdCaW4iLCJwdXNoSW1hZ2UiLCJnZXRNZXRhZGF0YSIsImNoaWxkVmlld3MiLCJkaXNwYXRjaCIsImRpZFVwZGF0ZUl0ZW1NZXRhZGF0YSIsImFjdGlvbiIsImNoYW5nZSIsIl9pbWFnZVZpZXciLCJjYW5DcmVhdGVJbWFnZUJpdG1hcCIsImlzRmlyZWZveCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImRpZENyZWF0ZVByZXZpZXdDb250YWluZXIiLCJmaWxlVVJMIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZHJhd1ByZXZpZXciLCJsb2FkUHJldmlld0ZhbGxiYWNrIiwicHJldmlld0ltYWdlTG9hZGVkIiwicmV2b2tlT2JqZWN0VVJMIiwicGl4ZWxEZW5zaXR5RmFjdG9yIiwiZGV2aWNlUGl4ZWxSYXRpbyIsInNjYWxlRmFjdG9yIiwicHJldmlld0ltYWdlUmF0aW8iLCJwcmV2aWV3Q29udGFpbmVyV2lkdGgiLCJwcmV2aWV3Q29udGFpbmVySGVpZ2h0IiwicHJldmlld0ltYWdlIiwic2V0TWV0YWRhdGEiLCJvdmVybGF5U2hhZG93IiwiaW1hZ2VCaXRtYXAiLCJkaWREcmF3UHJldmlldyIsInJlc3RvcmVPdmVybGF5IiwiX3JlZjkiLCJvdmVybGF5RXJyb3IiLCJvdmVybGF5U3VjY2VzcyIsImRpZFRocm93RXJyb3IiLCJfcmVmMTAiLCJkaWRDb21wbGV0ZVByb2Nlc3NpbmciLCJfcmVmMTEiLCJfcmVmMTIiLCJfcmVmMTMiLCJfcmVmMTQiLCJjcmVhdGVSb3V0ZSIsIkRJRF9JTUFHRV9QUkVWSUVXX0RSQVciLCJESURfSU1BR0VfUFJFVklFV19DT05UQUlORVJfQ1JFQVRFIiwiRElEX0ZJTklTSF9DQUxDVUxBVEVfUFJFVklFV1NJWkUiLCJESURfVVBEQVRFX0lURU1fTUVUQURBVEEiLCJESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SIiwiRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUiIsIkRJRF9USFJPV19JVEVNX0lOVkFMSUQiLCJESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HIiwiRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORyIsIkRJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HIiwiX3JlZjE1Iiwidmlld3NUb1JlbW92ZSIsInBsdWdpbiIsImFkZEZpbHRlciIsIlR5cGUiLCJpc0ZpbGUiLCJpbWFnZVByZXZpZXdWaWV3Iiwidmlld0FQSSIsImlzIiwiZGlkTG9hZEl0ZW0iLCJhcmNoaXZlZCIsInN1cHBvcnRzQ3JlYXRlSW1hZ2VCaXRtYXAiLCJtYXhQcmV2aWV3RmlsZVNpemUiLCJpbWFnZVByZXZpZXciLCJyZXNjYWxlSXRlbSIsIml0ZW1QYW5lbEFzcGVjdFJhdGlvIiwiZml4ZWRIZWlnaHQiLCJfcm9vdCRyZWYiLCJwcmV2aWV3QXNwZWN0UmF0aW8iLCJwcmV2aWV3SGVpZ2h0TWF4IiwiaXRlbVdpZHRoIiwicHJldmlld0hlaWdodCIsImRpZFJlc2l6ZVZpZXciLCJzaG91bGRSZXNjYWxlIiwiZGlkQ2FsY3VsYXRlUHJldmlld1NpemUiLCJzaG91bGREcmF3UHJldmlldyIsInJlZ2lzdGVyV3JpdGVyIiwiRElEX1JFU0laRV9ST09UIiwiRElEX1NUT1BfUkVTSVpFIiwiRElEX0xPQURfSVRFTSIsIkRJRF9JTUFHRV9QUkVWSUVXX0NBTENVTEFURV9TSVpFIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYWxsb3dJbWFnZVByZXZpZXciLCJCT09MRUFOIiwiaW1hZ2VQcmV2aWV3RmlsdGVySXRlbSIsIkZVTkNUSU9OIiwiaW1hZ2VQcmV2aWV3SGVpZ2h0IiwiSU5UIiwiaW1hZ2VQcmV2aWV3TWluSGVpZ2h0IiwiaW1hZ2VQcmV2aWV3TWF4SGVpZ2h0IiwiaW1hZ2VQcmV2aWV3TWF4RmlsZVNpemUiLCJpbWFnZVByZXZpZXdab29tRmFjdG9yIiwiaW1hZ2VQcmV2aWV3VXBzY2FsZSIsImltYWdlUHJldmlld01heEluc3RhbnRQcmV2aWV3RmlsZVNpemUiLCJpbWFnZVByZXZpZXdUcmFuc3BhcmVuY3lJbmRpY2F0b3IiLCJTVFJJTkciLCJpbWFnZVByZXZpZXdDYWxjdWxhdGVBdmVyYWdlSW1hZ2VDb2xvciIsImltYWdlUHJldmlld01hcmt1cFNob3ciLCJpbWFnZVByZXZpZXdNYXJrdXBGaWx0ZXIiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJpc1N0cmluZyIsInJlcGxhY2VJblN0cmluZyIsImd1ZXNzdGltYXRlTWltZVR5cGUiLCJnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUiLCJnZXRGaWxlbmFtZUZyb21VUkwiLCJtaW1lVHlwZU1hdGNoZXNXaWxkQ2FyZCIsIm1pbWVUeXBlIiwid2lsZGNhcmQiLCJwb3AiLCJpc1ZhbGlkTWltZVR5cGUiLCJhY2NlcHRlZFR5cGVzIiwidXNlcklucHV0VHlwZSIsInNvbWUiLCJhY2NlcHRlZFR5cGUiLCJnZXRJdGVtVHlwZSIsImZpbGVuYW1lIiwiZXh0ZW5zaW9uIiwidmFsaWRhdGVGaWxlIiwidHlwZURldGVjdG9yIiwiZGV0ZWN0ZWRUeXBlIiwiY2F0Y2giLCJhcHBseU1pbWVUeXBlTWFwIiwiYWNjZXB0ZWRGaWxlVHlwZSIsInZhbGlkYXRpb25SZXN1bHQiLCJoYW5kbGVSZWplY3Rpb24iLCJhY2NlcHRlZEZpbGVUeXBlc01hcHBlZCIsImxhYmVsIiwibWFpbiIsInN1YiIsImFsbFR5cGVzIiwiYWxsQnV0TGFzdFR5cGUiLCJsYXN0VHlwZSIsImFsbG93RmlsZVR5cGVWYWxpZGF0aW9uIiwiQVJSQVkiLCJsYWJlbEZpbGVUeXBlTm90QWxsb3dlZCIsImZpbGVWYWxpZGF0ZVR5cGVMYWJlbEV4cGVjdGVkVHlwZXMiLCJmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzTWFwIiwiT0JKRUNUIiwiZmlsZVZhbGlkYXRlVHlwZURldGVjdFR5cGUiLCJ0b05hdHVyYWxGaWxlU2l6ZSIsInNpemVNYXgiLCJzaXplTWluIiwiZmlsZUZpbHRlciIsImZpbGVzaXplIiwidG90YWxTaXplTWF4IiwidG90YWwiLCJmaWxlU2l6ZSIsIm1pbkZpbGVTaXplIiwibWF4VG90YWxGaWxlU2l6ZSIsImZpbGVWYWxpZGF0ZVNpemVGaWx0ZXIiLCJsYWJlbE1pbkZpbGVTaXplRXhjZWVkZWQiLCJsYWJlbE1pbkZpbGVTaXplIiwibGFiZWxNYXhGaWxlU2l6ZUV4Y2VlZGVkIiwibGFiZWxNYXhGaWxlU2l6ZSIsImxhYmVsTWF4VG90YWxGaWxlU2l6ZUV4Y2VlZGVkIiwibGFiZWxNYXhUb3RhbEZpbGVTaXplIiwiY3JlYXRlUG9zdGVyVmlldyIsIkRJRF9GSUxFX1BPU1RFUl9MT0FEIiwiYXBwbHlUZW1wbGF0ZSIsImNyZWF0ZVBvc3Rlck92ZXJsYXlWaWV3IiwidGVtcGxhdGUiLCJlYXNlSW5PdXRTaW5lIiwiYWRkR3JhZGllbnRTdGVwcyIsImdyYWRpZW50IiwiY29sb3IiLCJhbHBoYSIsImVhc2VGbiIsInN0ZXBzIiwib2Zmc2V0IiwicmFuZ2UiLCJyZ2IiLCJzdG9wIiwiYWRkQ29sb3JTdG9wIiwiZHJhd1RlbXBsYXRlIiwiYWxwaGFUYXJnZXQiLCJob3Jpem9udGFsQ2VudGVyIiwiZ3JhZCIsImNyZWF0ZVJhZGlhbEdyYWRpZW50Iiwic2F2ZSIsInRyYW5zbGF0ZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwicmVzdG9yZSIsImhhc05hdmlnYXRvciIsIm92ZXJsYXlUZW1wbGF0ZVNoYWRvdyIsIm92ZXJsYXlUZW1wbGF0ZUVycm9yIiwib3ZlcmxheVRlbXBsYXRlU3VjY2VzcyIsImNyb3NzT3JpZ2luVmFsdWUiLCJjcmVhdGVQb3N0ZXJXcmFwcGVyVmlldyIsIm92ZXJsYXkiLCJkaWRMb2FkUHJldmlldyIsIkRJRF9GSUxFX1BPU1RFUl9EUkFXIiwiRElEX0ZJTEVfUE9TVEVSX0NPTlRBSU5FUl9DUkVBVEUiLCJmaWxlUG9zdGVyVmlldyIsInVwZGF0ZUl0ZW1Qb3N0ZXIiLCJmaWxlUG9zdGVyIiwic2hvdWxkVXBkYXRlUGFuZWxIZWlnaHQiLCJnZXRQb3N0ZXJIZWlnaHQiLCJmaXhlZFBvc3RlckhlaWdodCIsIm1pblBvc3RlckhlaWdodCIsIm1heFBvc3RlckhlaWdodCIsIkRJRF9GSUxFX1BPU1RFUl9DQUxDVUxBVEVfU0laRSIsImFsbG93RmlsZVBvc3RlciIsImZpbGVQb3N0ZXJIZWlnaHQiLCJmaWxlUG9zdGVyTWluSGVpZ2h0IiwiZmlsZVBvc3Rlck1heEhlaWdodCIsImZpbGVQb3N0ZXJGaWx0ZXJJdGVtIiwiZmlsZVBvc3RlckNhbGN1bGF0ZUF2ZXJhZ2VJbWFnZUNvbG9yIiwiZmlsZVBvc3RlckNyb3NzT3JpZ2luQXR0cmlidXRlVmFsdWUiLCJJZGVhc0RldGFpbHMiLCJpZGVhSWQiLCJzaG93Vm90ZUJ1dHRvbnMiLCJzaG93TGFiZWxzIiwic2hhcmVDaGFubmVsc1NlbGVjdGlvbiIsIm1ldGFEYXRhVGVtcGxhdGUiLCJpc0FjdGl2ZSIsImZvcm1JbnRybyIsImlnbm9yZVJlYWN0aW9uc0ZvcklkZWFJZHMiLCJjbG9zZVJlYWN0aW9uc0ZvcklkZWFJZHMiLCJwb2xsIiwiY2FuQWRkUG9sbHMiLCJsYWJlbHMiLCJ0eXBlcyIsInR5cGVGaWVsZCIsInR5cGVMYWJlbCIsInNob3dQb2xsRm9ybSIsInJlYWN0aW9uQWRkZWRMaXN0ZW5lciIsIm9uUmVhY3Rpb25TdG9yZWQiLCJyZWFjdGlvbkVkaXRlZExpc3RlbmVyIiwicmVhY3Rpb25EZWxldGVkTGlzdGVuZXIiLCJvblJlYWN0aW9uRGVsZXRlZCIsInBvbGxDcmVhdGVkTGlzdGVuZXIiLCJvblBvbGxDcmVhdGVkIiwicG9sbERlbGV0ZWRMaXN0ZW5lciIsIm9uUG9sbERlbGV0ZWQiLCJmZXRjaERhdGEiLCJlZGl0SWRlYUxpbmsiLCJpc05ldyIsImhpZGVQb2xsRm9ybSIsImFmdGVyRGVsZXRlSWRlYUxpbmsiLCJsYWJlbEhUTUwiLCJ0eXBlSWQiLCJldmFsIiwidHlwZURlZiIsImZpbmQiLCJkZWYiLCJsYWJlbFRleHQiLCJ0ZXh0Q29sb3IiLCJwb2xsSFRNTCIsImFkZFBvbGxCdXR0b25IVE1MIiwiY2FuIiwiZWRpdCIsImRpc3BhdGNoQWRkUG9sbENsaWNrIiwidm90ZUJ1dHRvbnNIVE1MIiwib3BpbmlvbiIsImVkaXRCdXR0b25zSFRNTCIsImRpc3BhdGNoRWRpdElkZWFCdXR0b25DbGljayIsImNvbmZpcm0iLCJkZWxldGVJZGVhIiwibW9kQnJlYWtIVE1MIiwibW9kQnJlYWsiLCJtb2RCcmVha0RhdGVIdW1hbml6ZWQiLCJyZWFjdGlvbnNDb3VudEhUTUwiLCJyZWFjdGlvbnNIVE1MIiwiaXNDbG9zZWQiLCJsb2dpblVybCIsInNoYXJlQnV0dG9uc0hUTUwiLCJmYWNlYm9va0J1dHRvbkhUTUwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ0d2l0dGVyQnV0dG9uSFRNTCIsIm1haWxCdXR0b25IVE1MIiwidGl0bGVGaWVsZCIsIndoYXRzYXBwQnV0dG9uSFRNTCIsImF1dGhvckhUTUwiLCJuaWNrTmFtZSIsImZ1bGxOYW1lIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJsaW5rVG9Vc2VyUGFnZVVybCIsIm1ldGFEYXRhSFRNTCIsImNyZWF0ZURhdGVIdW1hbml6ZWQiLCJ0aGVtZSIsInVzZXJuYW1lIiwic3VtbWFyeSIsIk9wZW5TdGFkQ29tcG9uZW50UmVhY3Rpb25Gb3JtIiwiYXJndW1lbnRJZCIsImRlc2NyaXB0aW9uTWluTGVuZ3RoIiwiZGVzY3JpcHRpb25NYXhMZW5ndGgiLCJyZXF1aXJlZFVzZXJSb2xlIiwiaXNCdXN5IiwiY2FuU3VibWl0IiwiYWxlcnQiLCJwYXJlbnRJZCIsInNlbnRpbWVudCIsIm9uU3VibWl0IiwibWVzc2FnZXMiLCJzdWJtaXRCdXR0b25IVE1MIiwic3VibWl0Rm9ybSIsIk9wZW5TdGFkQ29tcG9uZW50UmVhY3Rpb24iLCJpc01lbnVBY3RpdmUiLCJpc1JlcGx5RnJvbUFjdGl2ZSIsImVkaXRNb2RlIiwibmV3UmVhY3Rpb25TdG9yZWRMaXN0ZW5lciIsIm9uTmV3UmVhY3Rpb25TdG9yZWQiLCJvblJlYWN0aW9uRWRpdGVkIiwid2hhdCIsInJlcGx5IiwiY2FuRGVsZXRlIiwiaXNEZWxldGVkIiwiY2FuTGlrZSIsImhhc1VzZXJWb3RlZCIsInJlYWN0aW9uIiwiaXNBZG1pbiIsIm1ldGFkYXRhSFRNTCIsIm1lbnVIVE1MIiwiY2FuRWRpdCIsInNob3dNZW51Iiwic3VibWl0RGVsZXRlIiwidG9nZ2xlRWRpdEZvcm0iLCJlZGl0Rm9ybSIsImxpa2VCdXR0b25IVE1MIiwic3VibWl0TGlrZSIsInJlcGx5QnV0dG9uSFRNTCIsInJlcGx5Rm9ybUhUTUwiLCJjYW5SZXBseSIsInRvZ2dsZVJlcGx5Rm9ybSIsInJlcGxpZXNIVE1MIiwicmVhY3Rpb25zIiwiT3BlblN0YWRDb21wb25lbnRSZWFjdGlvbnMiLCJzY3JvbGxUb05ld1JlYWN0aW9uIiwiY2xvc2VkVGV4dCIsImdldEVsZW1lbnRCeUlkIiwicmVhY3Rpb25Gb3JtSFRNTCIsIk9wZW5TdGFkQ29tcG9uZW50UG9sbEZvcm0iLCJxdWVzdGlvbk1pbkxlbmd0aCIsInF1ZXN0aW9uTWF4TGVuZ3RoIiwidGl0bGVNaW5MZW5ndGgiLCJ0aXRsZU1heExlbmd0aCIsImFsbG93Q2hvaWNlVGl0bGVzIiwicG9sbElkIiwicXVlc3Rpb24iLCJxdWVzdGlvbklucHV0IiwidGl0bGVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJ2YWxpZGF0ZWRSZXN1bHQiLCJvbkZpbmlzaGVkIiwidGl0bGVJbnB1dEhUTUwiLCJhZGRDaG9pY2UiLCJPcGVuU3RhZENvbXBvbmVudFBvbGwiLCJ3aXRoUGVyY2VudGFnZSIsImFsbG93U2hvd1Jlc3VsdHNJZk5vdFZvdGVkIiwiaGlkZUVkaXRGb3JtIiwic2VsZWN0ZWRDaG9pY2UiLCJzaG93UmVzdWx0Iiwic2hvd1F1ZXN0aW9uIiwic2hvd1ZvdGVTdWNjZWVkZWQiLCJwYXJzZVZvdGVDb3VudCIsInVzZXJWb3RlIiwidm90ZUNvdW50Iiwidm90ZXNBYnMiLCJ2b3Rlc1ByYyIsInF1ZXN0aW9uSFRNTCIsImNob2ljZUhUTUwiLCJzdWJtaXRWb3RlIiwic2hvd1Jlc3VsdEJ1dHRvbkhUTUwiLCJzZXRTaG93UmVzdWx0Iiwic2VsZWN0Q2hvaWNlIiwicmVzdWx0SFRNTCIsInNob3dRdWVzdGlvbkJ1dHRvbkhUTUwiLCJzZXRTaG93UXVlc3Rpb24iLCJ0b3RhbFZvdGVzSFRNTCIsInh4IiwicGVyY2VudGFnZUhUTUwiLCJzY29yZUhUTUwiLCJzaG93RWRpdEZvcm0iLCJkZWxldGVQb2xsIiwidm90ZVN1Y2NlZWRlZEhUTUwiLCJIVE1MRWxlbWVudCIsImNyZWF0ZVN0b3JlIiwiaW5pdGlhbFN0YXRlIiwicXVlcmllcyIsImFjdGlvbnMiLCJhY3Rpb25RdWV1ZSIsImRpc3BhdGNoUXVldWUiLCJwcm9jZXNzRGlzcGF0Y2hRdWV1ZSIsImlzQmxvY2tpbmciLCJhY3Rpb25IYW5kbGVycyIsInN0ciIsIl9xdWVyeUhhbmRsZXMiLCJfbGVuIiwiX2tleSIsInF1ZXJ5SGFuZGxlcyIsImdldFN0YXRlIiwicHJvY2Vzc0FjdGlvblF1ZXVlIiwiZGVmaW5pdGlvbiIsImZvcmluIiwiY3JlYXRlT2JqZWN0IiwiZ2V0QXR0cmlidXRlIiwiaGFzQXR0cmlidXRlIiwic3ZnRWxlbWVudHMiLCJpc1NWR0VsZW1lbnQiLCJpbnNlcnRCZWZvcmUiLCJzcGxpY2UiLCJyZW1vdmVDaGlsZCIsIklTX0JST1dTRVIiLCJpc0Jyb3dzZXIiLCJnZXRDaGlsZENvdW50IiwiZ2V0Vmlld1JlY3QiLCJlbGVtZW50UmVjdCIsIm91dGVyIiwiY2hpbGRWaWV3IiwiaXNSZWN0SWdub3JlZCIsImNoaWxkVmlld1JlY3QiLCJleHBhbmRSZWN0IiwiY2FsY3VsYXRlUmVjdFNpemUiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5SaWdodCIsImlzTnVtYmVyIiwidGhlcmVZZXQiLCJwb3NpdGlvbiIsImRlc3RpbmF0aW9uIiwidmVsb2NpdHkiLCJlcnJvck1hcmdpbiIsImVhc2VJbk91dFF1YWQiLCJhbmltYXRvciIsInNwcmluZyIsIl9yZWYkc3RpZmZuZXNzIiwiX3JlZiRkYW1waW5nIiwiX3JlZiRtYXNzIiwicmVzdGluZyIsImludGVycG9sYXRlIiwidHMiLCJza2lwVG9FbmRTdGF0ZSIsIm9udXBkYXRlIiwib25jb21wbGV0ZSIsInR3ZWVuIiwiX3JlZiRkdXJhdGlvbiIsIl9yZWYkZWFzaW5nIiwiZWFzaW5nIiwiX3JlZiRkZWxheSIsImRlbGF5Iiwic3RhcnQiLCJyZXZlcnNlIiwiY3JlYXRlQW5pbWF0b3IiLCJjYXRlZ29yeSIsImFkZEdldFNldCIsIm92ZXJ3cml0ZSIsInNldHRlciIsImFkZEV2ZW50IiwicmVtb3ZlRXZlbnQiLCJkZWZhdWx0cyIsInJvdGF0ZVgiLCJyb3RhdGVZIiwibWl4aW5Db25maWciLCJ2aWV3UHJvcHMiLCJ2aWV3SW50ZXJuYWxBUEkiLCJ2aWV3RXh0ZXJuYWxBUEkiLCJpbml0aWFsUHJvcHMiLCJjdXJyZW50UHJvcHMiLCJnZXRPZmZzZXQiLCJnZXRTY2FsZSIsImdldFJlY3QiLCJwcm9wc0hhdmVDaGFuZ2VkIiwiYXBwbHlTdHlsZXMiLCJuZXdQcm9wcyIsInByb3AiLCJwZXJzcGVjdGl2ZSIsImVsZW1lbnRDdXJyZW50U3R5bGUiLCJjc3NUZXh0IiwiTWl4aW5zIiwidmlld1N0YXRlIiwiZXZlbnRzIiwicmVtb3ZlIiwiZmluZEluZGV4IiwiYW5pbWF0aW9uIiwibGF5b3V0Q2FsY3VsYXRlZCIsInBhZGRpbmdUb3AiLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm9mZnNldEhlaWdodCIsInNjcm9sbFRvcCIsIm9mZnNldFBhcmVudCIsIl9yZWYkdGFnIiwiX3JlZiRuYW1lIiwiX3JlZiRhdHRyaWJ1dGVzIiwiX3JlZiRyZWFkIiwicmVhZCIsIl9yZWYkd3JpdGUiLCJfcmVmJGNyZWF0ZSIsIl9yZWYkZGVzdHJveSIsIl9yZWYkZmlsdGVyRnJhbWVBY3RpbyIsImZpbHRlckZyYW1lQWN0aW9uc0ZvckNoaWxkIiwiX3JlZiRkaWRDcmVhdGVWaWV3IiwiZGlkQ3JlYXRlVmlldyIsIl9yZWYkZGlkV3JpdGVWaWV3IiwiX3JlZiRpZ25vcmVSZWN0IiwiX3JlZiRpZ25vcmVSZWN0VXBkYXRlIiwiaWdub3JlUmVjdFVwZGF0ZSIsIl9yZWYkbWl4aW5zIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImZyYW1lUmVjdCIsImlzUmVzdGluZyIsImFjdGl2ZU1peGlucyIsIndyaXRlcnMiLCJyZWFkZXJzIiwiZGVzdHJveWVycyIsImdldEVsZW1lbnQiLCJnZXRDaGlsZFZpZXdzIiwiZ2V0UmVmZXJlbmNlIiwiX3JlYWQiLCJpbnRlcm5hbEFQSSIsIl93cml0ZSIsImZyYW1lQWN0aW9ucyIsIndyaXRlciIsInRpbWVzdGFtcCIsIm1peGluIiwiZGVzdHJveWVyIiwic2hhcmVkQVBJRGVmaW5pdGlvbiIsImludGVybmFsQVBJRGVmaW5pdGlvbiIsIm5lZWRsZSIsImxpbmtWaWV3IiwidW5saW5rVmlldyIsInJlZ2lzdGVyUmVhZGVyIiwicmVnaXN0ZXJEZXN0cm95ZXIiLCJpbnZhbGlkYXRlTGF5b3V0IiwiZXh0ZXJuYWxBUElEZWZpbml0aW9uIiwibWl4aW5BUElEZWZpbml0aW9uIiwibWl4aW5BUEkiLCJjaGlsZENvdW50IiwiY3JlYXRlUGFpbnRlciIsImZwcyIsInBhaW50ZXIiLCJpbnRlcnZhbCIsImxhc3QiLCJyZXF1ZXN0VGljayIsImNhbmNlbFRpY2siLCJzZXRUaW1lclR5cGUiLCJ0aWNrIiwicGVyZm9ybWFuY2UiLCJub3ciLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImRlbHRhIiwicGF1c2UiLCJyb3V0ZXMiLCJfcmVmJGFjdGlvbnMiLCJuZXdOb2RlIiwicmVmZXJlbmNlTm9kZSIsImluc2VydEFmdGVyIiwibmV4dFNpYmxpbmciLCJpc0VtcHR5IiwiaXNCb29sZWFuIiwidG9Cb29sZWFuIiwidG9OdW1iZXIiLCJ0b0ludCIsInRvRmxvYXQiLCJpc0ludCIsImlzRmluaXRlIiwidG9CeXRlcyIsIm5hdHVyYWxGaWxlU2l6ZSIsInRvRnVuY3Rpb25SZWZlcmVuY2UiLCJsZXZlbHMiLCJsZXZlbCIsInBhdGNoIiwicmV2ZXJ0IiwibG9hZCIsImNyZWF0ZVNlcnZlckFQSSIsIm91dGxpbmUiLCJjcmVhdGVBY3Rpb24iLCJvbmRhdGEiLCJpc051bGwiLCJpc0FQSSIsImdldFR5cGUiLCJyZXBsYWNlU2luZ2xlUXVvdGVzIiwiY29udmVyc2lvblRhYmxlIiwic3BsaXR0ZXIiLCJib29sZWFuIiwiaW50IiwibnVtYmVyIiwiZmxvYXQiLCJmdW5jdGlvbiIsInNlcnZlcmFwaSIsImNvbnZlcnRUbyIsImdldFZhbHVlQnlUeXBlIiwibmV3VmFsdWUiLCJkZWZhdWx0VmFsdWUiLCJ2YWx1ZVR5cGUiLCJuZXdWYWx1ZVR5cGUiLCJjb252ZXJ0ZWRWYWx1ZSIsIm9wdGlvbiIsImNyZWF0ZU9wdGlvbiIsImN1cnJlbnRWYWx1ZSIsImNyZWF0ZU9wdGlvbnMiLCJvcHRpb25EZWZpbml0aW9uIiwiY3JlYXRlSW5pdGlhbFN0YXRlIiwibGlzdFVwZGF0ZVRpbWVvdXQiLCJpdGVtVXBkYXRlVGltZW91dCIsInByb2Nlc3NpbmdRdWV1ZSIsImZyb21DYW1lbHMiLCJzZXBhcmF0b3IiLCJwYXJ0IiwiY3JlYXRlT3B0aW9uQVBJIiwiY3JlYXRlT3B0aW9uQWN0aW9ucyIsImNyZWF0ZU9wdGlvblF1ZXJpZXMiLCJJbnRlcmFjdGlvbk1ldGhvZCIsIkFQSSIsIkRST1AiLCJCUk9XU0UiLCJQQVNURSIsIk5PTkUiLCJnZXRVbmlxdWVJZCIsInN1YnN0ciIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwiZXhjbHVkZWQiLCJzb3VyY2VLZXlzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwic291cmNlU3ltYm9sS2V5cyIsIl90b0NvbnN1bWFibGVBcnJheSIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVTcHJlYWQiLCJhcnIyIiwiaXRlciIsImZyb20iLCJhcnJheVJlbW92ZSIsInN5bmMiLCJsaXN0ZW5lciIsIl9maXJlIiwiZmlyZVN5bmMiLCJmaXJlIiwiX2xlbjIiLCJfa2V5MiIsIm9uT25jZSIsIl9jYiIsImNvcHlPYmplY3RQcm9wZXJ0aWVzVG9PYmplY3QiLCJQUklWQVRFIiwiY3JlYXRlSXRlbUFQSSIsInJlbW92ZVJlbGVhc2VkSXRlbXMiLCJyZWxlYXNlZCIsIkl0ZW1TdGF0dXMiLCJJTklUIiwiSURMRSIsIlBST0NFU1NJTkdfUVVFVUVEIiwiUFJPQ0VTU0lORyIsIlBST0NFU1NJTkdfQ09NUExFVEUiLCJQUk9DRVNTSU5HX0VSUk9SIiwiUFJPQ0VTU0lOR19SRVZFUlRfRVJST1IiLCJMT0FESU5HIiwiTE9BRF9FUlJPUiIsIkZpbGVPcmlnaW4iLCJJTlBVVCIsIkxJTUJPIiwiTE9DQUwiLCJnZXROb25OdW1lcmljIiwiZ2V0RGVjaW1hbFNlcGFyYXRvciIsInRvTG9jYWxlU3RyaW5nIiwiZ2V0VGhvdXNhbmRzU2VwYXJhdG9yIiwiZGVjaW1hbFNlcGFyYXRvciIsInRob3VzYW5kc1N0cmluZ1dpdGhTZXBhcmF0b3IiLCJOVU1CRVIiLCJBQ1RJT04iLCJTRVJWRVJfQVBJIiwiUkVHRVgiLCJmaWx0ZXJzIiwiYXBwbHlGaWx0ZXJDaGFpbiIsIm1hdGNoaW5nRmlsdGVycyIsImluaXRpYWxGaWx0ZXIiLCJhcHBseUZpbHRlcnMiLCJleHRlbmREZWZhdWx0T3B0aW9ucyIsImFkZGl0aW9uYWxPcHRpb25zIiwiZGVmYXVsdE9wdGlvbnMiLCJnZXRPcHRpb25zIiwib3B0cyIsImFsbG93U3luY0FjY2VwdEF0dHJpYnV0ZSIsImFsbG93RHJvcCIsImFsbG93UGFzdGUiLCJhbGxvd1JlcGxhY2UiLCJhbGxvd1JldmVydCIsImFsbG93UmVtb3ZlIiwiYWxsb3dQcm9jZXNzIiwiYWxsb3dEaXJlY3Rvcmllc09ubHkiLCJmb3JjZVJldmVydCIsImNoZWNrVmFsaWRpdHkiLCJpdGVtSW5zZXJ0TG9jYXRpb25GcmVlZG9tIiwiaXRlbUluc2VydExvY2F0aW9uIiwiaXRlbUluc2VydEludGVydmFsIiwiZHJvcE9uUGFnZSIsImRyb3BPbkVsZW1lbnQiLCJkcm9wVmFsaWRhdGlvbiIsImlnbm9yZWRGaWxlcyIsImluc3RhbnRVcGxvYWQiLCJtYXhQYXJhbGxlbFVwbG9hZHMiLCJjaHVua1VwbG9hZHMiLCJjaHVua0ZvcmNlIiwiY2h1bmtTaXplIiwiY2h1bmtSZXRyeURlbGF5cyIsImxhYmVsRGVjaW1hbFNlcGFyYXRvciIsImxhYmVsVGhvdXNhbmRzU2VwYXJhdG9yIiwiaWNvblJlbW92ZSIsImljb25Qcm9jZXNzIiwiaWNvblJldHJ5IiwiaWNvblVuZG8iLCJpY29uRG9uZSIsIm9ud2FybmluZyIsIm9uYWN0aXZhdGVmaWxlIiwib25pbml0ZmlsZSIsIm9uYWRkZmlsZXN0YXJ0Iiwib25hZGRmaWxlcHJvZ3Jlc3MiLCJvbmFkZGZpbGUiLCJvbnByb2Nlc3NmaWxlc3RhcnQiLCJvbnByb2Nlc3NmaWxlcHJvZ3Jlc3MiLCJvbnByb2Nlc3NmaWxlYWJvcnQiLCJvbnByb2Nlc3NmaWxlcmV2ZXJ0Iiwib25wcm9jZXNzZmlsZXMiLCJvbnByZXBhcmVmaWxlIiwib25yZW9yZGVyZmlsZXMiLCJiZWZvcmVEcm9wRmlsZSIsImJlZm9yZUFkZEZpbGUiLCJiZWZvcmVSZW1vdmVGaWxlIiwic3R5bGVQYW5lbExheW91dCIsInN0eWxlUGFuZWxBc3BlY3RSYXRpbyIsInN0eWxlQnV0dG9uUmVtb3ZlSXRlbVBvc2l0aW9uIiwic3R5bGVCdXR0b25Qcm9jZXNzSXRlbVBvc2l0aW9uIiwic3R5bGVMb2FkSW5kaWNhdG9yUG9zaXRpb24iLCJzdHlsZVByb2dyZXNzSW5kaWNhdG9yUG9zaXRpb24iLCJzdHlsZUJ1dHRvblJlbW92ZUl0ZW1BbGlnbiIsImdldEl0ZW1CeVF1ZXJ5IiwiZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyIsImdldEFjdGl2ZUl0ZW1zIiwiU3RhdHVzIiwiRU1QVFkiLCJFUlJPUiIsIkJVU1kiLCJSRUFEWSIsIklURU1fRVJST1IiLCJJVEVNX0JVU1kiLCJJVEVNX1JFQURZIiwiaXNJdGVtSW5FcnJvclN0YXRlIiwiaXNJdGVtSW5CdXN5U3RhdGUiLCJpc0l0ZW1JblJlYWR5U3RhdGUiLCJHRVRfU1RBVFVTIiwiR0VUX0lURU0iLCJHRVRfQUNUSVZFX0lURU0iLCJHRVRfQUNUSVZFX0lURU1TIiwiR0VUX0lURU1TIiwiR0VUX0lURU1fTkFNRSIsIkdFVF9JVEVNX1NJWkUiLCJHRVRfU1RZTEVTIiwiR0VUX1BBTkVMX0FTUEVDVF9SQVRJTyIsIkdFVF9JVEVNX1BBTkVMX0FTUEVDVF9SQVRJTyIsIkdFVF9JVEVNU19CWV9TVEFUVVMiLCJHRVRfVE9UQUxfSVRFTVMiLCJJU19BU1lOQyIsImhhc1Jvb21Gb3JJdGVtIiwiY291bnQiLCJtYXhGaWxlQ291bnQiLCJsaW1pdCIsImFycmF5SW5zZXJ0IiwiaW5zZXJ0SXRlbSIsImlzQmFzZTY0RGF0YVVSSSIsImd1ZXNzdGltYXRlRXh0ZW5zaW9uIiwic3VidHlwZSIsImxlZnRQYWQiLCJwYWRkaW5nIiwiZ2V0RGF0ZVN0cmluZyIsImRhdGUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnZXRGaWxlRnJvbUJsb2IiLCJsYXN0TW9kaWZpZWREYXRlIiwiX3JlbGF0aXZlUGF0aCIsImdldEJsb2JCdWlsZGVyIiwiQmxvYkJ1aWxkZXIiLCJXZWJLaXRCbG9iQnVpbGRlciIsIk1vekJsb2JCdWlsZGVyIiwiTVNCbG9iQnVpbGRlciIsImNyZWF0ZUJsb2IiLCJCQiIsImJiIiwiZ2V0QmxvYiIsImdldEJsb2JGcm9tQnl0ZVN0cmluZ1dpdGhNaW1lVHlwZSIsImJ5dGVTdHJpbmciLCJhYiIsImlhIiwiY2hhckNvZGVBdCIsImdldE1pbWVUeXBlRnJvbUJhc2U2NERhdGFVUkkiLCJkYXRhVVJJIiwiZ2V0QmFzZTY0RGF0YUZyb21CYXNlNjREYXRhVVJJIiwiZ2V0Qnl0ZVN0cmluZ0Zyb21CYXNlNjREYXRhVVJJIiwiYXRvYiIsImdldEJsb2JGcm9tQmFzZTY0RGF0YVVSSSIsImdldEZpbGVGcm9tQmFzZTY0RGF0YVVSSSIsImdldEZpbGVOYW1lRnJvbUhlYWRlciIsImRlY29kZVVSSSIsImdldEZpbGVTaXplRnJvbUhlYWRlciIsImdldFRyYW5mc2VySWRGcm9tSGVhZGVyIiwiZ2V0RmlsZUluZm9Gcm9tSGVhZGVycyIsImluZm8iLCJyb3dzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsImNyZWF0ZUZpbGVMb2FkZXIiLCJmZXRjaEZuIiwiY29tcGxldGUiLCJwcm9ncmVzcyIsImdldFByb2dyZXNzIiwiRmlsZSIsImxvYWRVUkwiLCJjb2RlIiwiY29tcHV0YWJsZSIsImZpbGVpbmZvIiwic2V0U291cmNlIiwiaXNHZXQiLCJzZW5kUmVxdWVzdCIsIm9uaGVhZGVycyIsIm9ucHJvZ3Jlc3MiLCJoZWFkZXJzUmVjZWl2ZWQiLCJlbmNvZGVVUkkiLCJ1cGxvYWQiLCJsZW5ndGhDb21wdXRhYmxlIiwibG9hZGVkIiwidW5lc2NhcGUiLCJjcmVhdGVSZXNwb25zZSIsImNyZWF0ZVRpbWVvdXRSZXNwb25zZSIsImhhc1FTIiwiYnVpbGRVUkwiLCJjcmVhdGVGZXRjaEZ1bmN0aW9uIiwiYXBpVXJsIiwicmVzIiwiQ2h1bmtTdGF0dXMiLCJRVUVVRUQiLCJDT01QTEVURSIsIldBSVRJTkciLCJwcm9jZXNzRmlsZUNodW5rZWQiLCJ0cmFuc2ZlciIsImNodW5rcyIsImNodW5rVHJhbnNmZXJJZCIsImNodW5rU2VydmVyIiwiZmQiLCJnZXRSZXNwb25zZUhlYWRlciIsInJlcXVlc3RUcmFuc2ZlcklkIiwicmVxdWVzdFBhcmFtcyIsInJlcXVlc3RUcmFuc2Zlck9mZnNldCIsInJlcXVlc3RVcmwiLCJsYXN0Q2h1bmtJbmRleCIsInJldHJpZXMiLCJjb21wbGV0ZVByb2Nlc3NpbmdDaHVua3MiLCJjYW5Qcm9jZXNzQ2h1bmsiLCJjaHVuayIsInByb2Nlc3NDaHVuayIsInByb2Nlc3NDaHVua3MiLCJ1cGRhdGVUb3RhbFByb2dyZXNzIiwicmV0cnlQcm9jZXNzQ2h1bmsiLCJldmVyeSIsInRvdGFsQnl0ZXNUcmFuc2ZlcmVkIiwidG90YWxTaXplIiwiYWJvcnRDaHVua3MiLCJjcmVhdGVGaWxlUHJvY2Vzc29yRnVuY3Rpb24iLCJjYW5DaHVua1VwbG9hZCIsInNob3VsZENodW5rVXBsb2FkIiwid2lsbENodW5rVXBsb2FkIiwiY3JlYXRlUHJvY2Vzc29yRnVuY3Rpb24iLCJwYXJhbXMiLCJjcmVhdGVSZXZlcnRGdW5jdGlvbiIsInVuaXF1ZUZpbGVJZCIsImdldFJhbmRvbU51bWJlciIsImNyZWF0ZVBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlciIsInRpY2tNaW4iLCJ0aWNrTWF4IiwicnVudGltZSIsImNsZWFyIiwiY3JlYXRlRmlsZVByb2Nlc3NvciIsInByb2Nlc3NGbiIsInBlcmNlaXZlZFByb2dyZXNzIiwicGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyIiwicGVyY2VpdmVkRHVyYXRpb24iLCJwcm9ncmVzc0ZuIiwiY29tcGxldGVGbiIsInRyYW5zZmVySWQiLCJyZXNldCIsImdldER1cmF0aW9uIiwiZ2V0RmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uIiwibGFzdEluZGV4T2YiLCJjcmVhdGVGaWxlU3R1YiIsImRlZXBDbG9uZU9iamVjdCIsImNyZWF0ZUl0ZW0iLCJzZXJ2ZXJGaWxlUmVmZXJlbmNlIiwiZnJvemVuIiwicHJvY2Vzc2luZ0Fib3J0ZWQiLCJhY3RpdmVMb2FkZXIiLCJhY3RpdmVQcm9jZXNzb3IiLCJhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUiLCJzZXRTdGF0dXMiLCJnZXRGaWxlRXh0ZW5zaW9uIiwiZ2V0RmlsZVR5cGUiLCJnZXRGaWxlU2l6ZSIsImdldEZpbGUiLCJsb2FkZXIiLCJtZXRhIiwic3VjY2VzcyIsInJldHJ5TG9hZCIsImFib3J0TG9hZCIsInByb2Nlc3NvciIsIm9ucHJvY2VzcyIsInJlcXVlc3RQcm9jZXNzaW5nIiwiYWJvcnRQcm9jZXNzaW5nIiwicmV2ZXJ0RmlsZVVwbG9hZCIsIl9zZXRNZXRhZGF0YSIsInNpbGVudCIsImZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbiIsImZpbGVFeHRlbnNpb24iLCJmaWxlVHlwZSIsInJlbGF0aXZlUGF0aCIsImhhbmRsZXIiLCJpdGVtQVBJIiwiZnJlZXplIiwicmVsZWFzZSIsImFyY2hpdmUiLCJnZXRJdGVtSW5kZXhCeVF1ZXJ5IiwiZ2V0SXRlbUJ5SWQiLCJpdGVtSWQiLCJmZXRjaEJsb2IiLCJnZXREb21haW5Gcm9tVVJMIiwicHJvdG9jb2wiLCJpc0V4dGVybmFsVVJMIiwiZHluYW1pY0xhYmVsIiwiaXNNb2NrSXRlbSIsImxpc3RVcGRhdGVkIiwib3B0aW9uYWxQcm9taXNlIiwic29ydEl0ZW1zIiwiY29tcGFyZSIsImdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlIiwiaXRlbUhhbmRsZXIiLCJfcmVmJHN1Y2Nlc3MiLCJfcmVmJGZhaWx1cmUiLCJmYWlsdXJlIiwiQUJPUlRfQUxMIiwiRElEX1NFVF9GSUxFUyIsIl9yZWYyJHZhbHVlIiwiYWN0aXZlSXRlbXMiLCJpbnRlcmFjdGlvbk1ldGhvZCIsImRvVXBsb2FkIiwic2hvdWxkUHJlcGFyZU91dHB1dCIsIk1PVkVfSVRFTSIsImN1cnJlbnRJbmRleCIsIlNPUlQiLCJBRERfSVRFTVMiLCJfcmVmNiRzdWNjZXNzIiwiX3JlZjYkZmFpbHVyZSIsImluc2VydExvY2F0aW9uIiwidG90YWxJdGVtcyIsImlzVmFsaWRGaWxlIiwicHJvbWlzZXMiLCJBRERfSVRFTSIsIl9yZWY3JGluZGV4IiwiX3JlZjckc3VjY2VzcyIsIl9yZWY3JGZhaWx1cmUiLCJfcmVmNyRvcHRpb25zIiwiX2l0ZW0iLCJtYWluU3RhdHVzIiwiaGFuZGxlQWRkIiwic2hvdWxkQWRkIiwibG9hZENvbXBsZXRlIiwiUkVRVUVTVF9QUkVQQVJFX09VVFBVVCIsIl9yZWY5JGZhaWx1cmUiLCJDT01QTEVURV9MT0FEX0lURU0iLCJSRVRSWV9JVEVNX0xPQUQiLCJSRVFVRVNUX0lURU1fUFJFUEFSRSIsIl9zdWNjZXNzIiwiUkVRVUVTVF9JVEVNX1BST0NFU1NJTkciLCJwcm9jZXNzTm93IiwiUFJPQ0VTU19JVEVNIiwicHJvY2Vzc05leHQiLCJxdWV1ZUVudHJ5IiwiaXRlbVJlZmVyZW5jZSIsIlJFVFJZX0lURU1fUFJPQ0VTU0lORyIsIlJFUVVFU1RfUkVNT1ZFX0lURU0iLCJzaG91bGRSZW1vdmUiLCJSRUxFQVNFX0lURU0iLCJSRU1PVkVfSVRFTSIsInJlbW92ZUZyb21WaWV3IiwiQUJPUlRfSVRFTV9MT0FEIiwiQUJPUlRfSVRFTV9QUk9DRVNTSU5HIiwiUkVRVUVTVF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HIiwiaGFuZGxlUmV2ZXJ0Iiwic2hvdWxkUmV2ZXJ0IiwicmVxdWVzdFJlbW92ZVJlc3VsdCIsIlJFVkVSVF9JVEVNX1BST0NFU1NJTkciLCJTRVRfT1BUSU9OUyIsImZvcm1hdEZpbGVuYW1lIiwiY3JlYXRlRWxlbWVudCQxIiwidGFnTmFtZSIsInRleHROb2RlIiwibm9kZVZhbHVlIiwicG9sYXJUb0NhcnRlc2lhbiIsImNlbnRlclgiLCJjZW50ZXJZIiwicmFkaXVzIiwiYW5nbGVJbkRlZ3JlZXMiLCJhbmdsZUluUmFkaWFucyIsImRlc2NyaWJlQXJjIiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiYXJjU3dlZXAiLCJwZXJjZW50YWdlQXJjIiwidG8iLCJwcm9ncmVzc0luZGljYXRvciIsInNwaW4iLCJhbGlnbiIsInJpbmdTdHJva2VXaWR0aCIsInJpbmdGcm9tIiwicmluZ1RvIiwiZmlsZUFjdGlvbkJ1dHRvbiIsImljb24iLCJpc0Rpc2FibGVkIiwic2hvdWxkRGlzYWJsZSIsInJlbW92ZUF0dHJpYnV0ZSIsIk1CIiwiS0IiLCJHQiIsInJlbW92ZURlY2ltYWxzV2hlblplcm8iLCJkZWNpbWFsQ291bnQiLCJ0b0ZpeGVkIiwiY3JlYXRlJDIiLCJmaWxlTmFtZSIsInVwZGF0ZUZpbGUiLCJ1cGRhdGVGaWxlU2l6ZU9uRXJyb3IiLCJmaWxlSW5mbyIsIkRJRF9VUERBVEVfSVRFTV9NRVRBIiwidG9QZXJjZW50YWdlIiwiY3JlYXRlJDMiLCJkaWRTZXRJdGVtTG9hZFByb2dyZXNzIiwiZmlsZVN0YXR1cyIsIkRJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORyIsIkRJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkciLCJESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUyIsIkRJRF9VUERBVEVfSVRFTV9MT0FEX1BST0dSRVNTIiwiRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19SRVZFUlRfRVJST1IiLCJESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1IiLCJCdXR0b25zIiwiQWJvcnRJdGVtTG9hZCIsIlJldHJ5SXRlbUxvYWQiLCJSZW1vdmVJdGVtIiwiUHJvY2Vzc0l0ZW0iLCJBYm9ydEl0ZW1Qcm9jZXNzaW5nIiwiUmV0cnlJdGVtUHJvY2Vzc2luZyIsIlJldmVydEl0ZW1Qcm9jZXNzaW5nIiwiQnV0dG9uS2V5cyIsImNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IiwiYnV0dG9uUmVjdCIsImJ1dHRvblJlbW92ZUl0ZW0iLCJjYWxjdWxhdGVCdXR0b25XaWR0aCIsImJ1dHRvbkFib3J0SXRlbUxvYWQiLCJjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQiLCJjYWxjdWxhdGVGaWxlSG9yaXpvbnRhbENlbnRlck9mZnNldCIsImdldFJlbW92ZUluZGljYXRvckFsaWdtZW50IiwiRGVmYXVsdFN0eWxlIiwiYnV0dG9uUmV0cnlJdGVtTG9hZCIsImJ1dHRvblByb2Nlc3NJdGVtIiwiYnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZyIsImJ1dHRvblJldHJ5SXRlbVByb2Nlc3NpbmciLCJidXR0b25SZXZlcnRJdGVtUHJvY2Vzc2luZyIsImxvYWRQcm9ncmVzc0luZGljYXRvciIsInByb2Nlc3NQcm9ncmVzc0luZGljYXRvciIsInByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvciIsIklkbGVTdHlsZSIsIlByb2Nlc3NpbmdTdHlsZSIsIlN0eWxlTWFwIiwiRElEX1NUQVJUX0lURU1fTE9BRCIsIkRJRF9TVEFSVF9JVEVNX1JFTU9WRSIsIkRJRF9MT0FEX0xPQ0FMX0lURU0iLCJwcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3JWaWV3IiwiY3JlYXRlJDQiLCJidXR0b25GaWx0ZXIiLCJpc0FzeW5jIiwiYWxpZ25SZW1vdmVJdGVtQnV0dG9uIiwiZW5hYmxlZEJ1dHRvbnMiLCJfbWFwIiwiYnV0dG9uVmlldyIsImxvYWRJbmRpY2F0b3JWaWV3IiwicHJvZ3Jlc3NJbmRpY2F0b3JWaWV3IiwiYWN0aXZlU3R5bGVzIiwid3JpdGUkMiIsInJvdXRlIiwic3R5bGVzVG9BcHBseSIsImRlZmF1bHRTdHlsZXMiLCJjb250cm9sIiwiRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9QUk9DRVNTSU5HIiwiRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9MT0FEIiwiRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9SRU1PVkFMIiwiYnV0dG9uQWJvcnRJdGVtUmVtb3ZhbCIsImZpbGVXcmFwcGVyIiwiUEFORUxfU1BSSU5HX1BST1BTIiwiY3JlYXRlJDYiLCJzZWN0aW9uIiwiY3JlYXRlU2VjdGlvbiIsInNjYWxhYmxlIiwidmlld0NvbnN0cnVjdG9yIiwicGFuZWwiLCJ0b3BSZWN0IiwiYm90dG9tUmVjdCIsImNyZWF0ZURyYWdIZWxwZXIiLCJpdGVtSWRzIiwicHJldkluZGV4Iiwic2V0SW5kZXgiLCJnZXRJbmRleCIsImdldEl0ZW1JbmRleCIsIklURU1fVFJBTlNMQVRFX1NQUklORyIsIklURU1fU0NBTEVfU1BSSU5HIiwiU3RhdGVNYXAiLCJjcmVhdGUkNyIsImhhbmRsZUNsaWNrIiwibWFya2VkRm9yUmVtb3ZhbCIsImRyYWdTdGF0ZSIsImdyYWIiLCJpc1ByaW1hcnkiLCJyZW1vdmVkQWN0aXZhdGVMaXN0ZW5lciIsInBhZ2VYIiwicGFnZVkiLCJkcmFnT3JpZ2luIiwiZHJhZ0NlbnRlciIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZHJhZyIsImRyYWdPZmZzZXQiLCJkcm9wIiwicm91dGUkMSIsIkRJRF9VUERBVEVfUEFORUxfSEVJR0hUIiwid3JpdGUkNCIsIkRJRF9HUkFCX0lURU0iLCJESURfRFJBR19JVEVNIiwiRElEX0RST1BfSVRFTSIsImN1cnJlbnRTdGF0ZSIsImZpbGVwb25kSXRlbVN0YXRlIiwiZ2V0SXRlbUluZGV4QnlQb3NpdGlvbiIsInBvc2l0aW9uSW5WaWV3IiwiaG9yaXpvbnRhbFNwYWNlIiwiaXRlbVJlY3QiLCJpdGVtSG9yaXpvbnRhbE1hcmdpbiIsIml0ZW1zUGVyUm93IiwiY2hpbGRNaWQiLCJpdGVtVmVydGljYWxNYXJnaW4iLCJpdGVtSGVpZ2h0IiwiX2luZGV4IiwiaXRlbVRvcCIsIml0ZW1SaWdodCIsIml0ZW1Cb3R0b20iLCJkcm9wQXJlYURpbWVuc2lvbnMiLCJzZXREaW1lbnNpb25zIiwiY3JlYXRlJDgiLCJsYXN0SXRlbVNwYW53RGF0ZSIsIm1vdmVJdGVtIiwidngiLCJ2eSIsInNwYXduRGF0ZSIsImludHJvSXRlbVZpZXciLCJnZXRJdGVtSGVpZ2h0IiwiZ2V0SXRlbVdpZHRoIiwicm91dGUkMiIsIkRJRF9BRERfSVRFTSIsImFkZEluZGV4IiwiY29vbGRvd24iLCJkaXN0IiwiRElEX1JFTU9WRV9JVEVNIiwibnVtSXRlbXMiLCJvbGRJbmRleCIsImRyYWdQb3NpdGlvbiIsImRyYWdIZWlnaHQiLCJkcmFnV2lkdGgiLCJjb2xzIiwic2V0SGVpZ2h0Iiwic2V0V2lkdGgiLCJnZXRHcmlkSW5kZXgiLCJnZXRIZWlnaHQiLCJnZXRXaWR0aCIsImdldENvbEluZGV4IiwidmlzaWJsZUNoaWxkcmVuIiwiaWR4IiwiY2hpbGRCb3R0b20iLCJjaGlsZFRvcCIsImxpc3QiLCJkcmFnQ29vcmRpbmF0ZXMiLCJkcmFnSW5kZXgiLCJkcmFnSW5kZXhPZmZzZXQiLCJyZW1vdmVJbmRleE9mZnNldCIsImFkZEluZGV4T2Zmc2V0IiwiY2hpbGRSZWN0IiwidmlzdWFsSGVpZ2h0IiwicHJldlgiLCJwcmV2WSIsInZpc3VhbEluZGV4IiwiaW5kZXhYIiwiaW5kZXhZIiwidmVjdG9yWCIsInNpZ24iLCJ2ZWN0b3JZIiwiY3JlYXRlJDkiLCJvdmVyZmxvd2luZyIsInJvdXRlJDMiLCJESURfRFJBRyIsInNjb3BlTGVmdCIsInNjb3BlVG9wIiwiRElEX0VORF9EUkFHIiwibGlzdFNjcm9sbGVyIiwib3ZlcmZsb3ciLCJuZXdIZWlnaHQiLCJhdHRyVG9nZ2xlIiwicmVzZXRGaWxlSW5wdXQiLCJjcmVhdGUkYSIsInNldEFjY2VwdGVkRmlsZVR5cGVzIiwidG9nZ2xlQWxsb3dNdWx0aXBsZSIsInRvZ2dsZURpcmVjdG9yeUZpbHRlciIsInRvZ2dsZURpc2FibGVkIiwidG9nZ2xlUmVxdWlyZWQiLCJzZXRDYXB0dXJlTWV0aG9kIiwid2Via2l0UmVsYXRpdmVQYXRoIiwiZG9lc0FsbG93QnJvd3NlIiwiZGlzYWJsZUZpZWxkIiwidXBkYXRlUmVxdWlyZWRTdGF0dXMiLCJzZXRDdXN0b21WYWxpZGl0eSIsIkRJRF9TRVRfRElTQUJMRUQiLCJESURfU0VUX0FMTE9XX0JST1dTRSIsIkRJRF9TRVRfQUxMT1dfRElSRUNUT1JJRVNfT05MWSIsIkRJRF9TRVRfQUxMT1dfTVVMVElQTEUiLCJESURfU0VUX0FDQ0VQVEVEX0ZJTEVfVFlQRVMiLCJESURfU0VUX0NBUFRVUkVfTUVUSE9EIiwiRElEX1NFVF9SRVFVSVJFRCIsIktleSIsIkVOVEVSIiwiU1BBQ0UiLCJjcmVhdGUkYiIsImhhbmRsZUtleURvd24iLCJrZXlDb2RlIiwiY2xpY2siLCJjb250YWlucyIsInVwZGF0ZUxhYmVsVmFsdWUiLCJjYXB0aW9uIiwiY2xpY2thYmxlIiwiZHJvcExhYmVsIiwiRElEX1NFVF9MQUJFTF9JRExFIiwiYWRkQmxvYiIsIndyaXRlJDciLCJyb3V0ZSQ0IiwiRElEX0RST1AiLCJkcmlwIiwiY3JlYXRlJGMiLCJnZXRGaWVsZCIsInN5bmNGaWVsZFBvc2l0aW9uc1dpdGhJdGVtcyIsImRpZFJlb3JkZXJJdGVtcyIsIndyaXRlJDgiLCJkYXRhQ29udGFpbmVyIiwiRElEX0RFRklORV9WQUxVRSIsIkRJRF9SRU9SREVSX0lURU1TIiwiRElEX1NPUlRfSVRFTVMiLCJnZXRSb290Tm9kZSIsInRleHQkMSIsInppcCIsImVwdWIiLCJyZXF1ZXN0RGF0YVRyYW5zZmVySXRlbXMiLCJkYXRhVHJhbnNmZXIiLCJsaW5rcyIsImdldExpbmtzIiwiaGFzRmlsZXMiLCJwcm9taXNlZEZpbGVzIiwiaXNGaWxlU3lzdGVtSXRlbSIsImdldEZpbGVzRnJvbUl0ZW0iLCJyZXR1cm5lZEZpbGVHcm91cHMiLCJncm91cCIsImlzRW50cnkiLCJnZXRBc0VudHJ5IiwiaXNEaXJlY3RvcnkiLCJraW5kIiwiaXNEaXJlY3RvcnlFbnRyeSIsImdldEZpbGVzSW5EaXJlY3RvcnkiLCJnZXRBc0ZpbGUiLCJkaXJDb3VudGVyIiwiZmlsZUNvdW50ZXIiLCJyZXNvbHZlSWZEb25lIiwicmVhZEVudHJpZXMiLCJkaXJFbnRyeSIsImRpcmVjdG9yeVJlYWRlciIsImNyZWF0ZVJlYWRlciIsInJlYWRCYXRjaCIsImNvcnJlY3RlZEZpbGUiLCJjb3JyZWN0TWlzc2luZ0ZpbGVUeXBlIiwiZnVsbFBhdGgiLCJ3ZWJraXRHZXRBc0VudHJ5IiwiZ2V0TGlua3NGcm9tVHJhbnNmZXJNZXRhRGF0YSIsImdldExpbmtzRnJvbVRyYW5zZmVyVVJMRGF0YSIsImdldERhdGEiLCJkcmFnTkRyb3BPYnNlcnZlcnMiLCJldmVudFBvc2l0aW9uIiwicGFnZUxlZnQiLCJwYWdlVG9wIiwibGF5ZXJYIiwibGF5ZXJZIiwiY3JlYXRlRHJhZ05Ecm9wQ2xpZW50Iiwic2NvcGVUb09ic2VydmUiLCJmaWx0ZXJFbGVtZW50IiwiZ2V0RHJhZ05Ecm9wT2JzZXJ2ZXIiLCJjbGllbnQiLCJvbmRyb3AiLCJvbmVudGVyIiwib25kcmFnIiwib25leGl0IiwiYWxsb3dkcm9wIiwibmV3T2JzZXJ2ZXIiLCJjcmVhdGVEcmFnTkRyb3BPYnNlcnZlciIsImNsaWVudHMiLCJkcmFnZW50ZXIiLCJkcmFnb3ZlciIsImRyYWdsZWF2ZSIsImhhbmRsZXJzIiwiY3JlYXRlSGFuZGxlciIsImVsZW1lbnRGcm9tUG9pbnQiLCJpc0V2ZW50VGFyZ2V0IiwiZWxlbWVudEF0UG9zaXRpb24iLCJwYWdlWE9mZnNldCIsInBhZ2VZT2Zmc2V0IiwiaW5pdGlhbFRhcmdldCIsInNldERyb3BFZmZlY3QiLCJlZmZlY3QiLCJkcm9wRWZmZWN0Iiwib3ZlckRyb3BUYXJnZXQiLCJhbGxvd3NUcmFuc2ZlciIsImNyZWF0ZUhvcHBlciIsInNjb3BlIiwidmFsaWRhdGVJdGVtcyIsImNhdGNoZXNEcm9wc09uUGFnZSIsInJlcXVpcmVzRHJvcE9uRWxlbWVudCIsIl9vcHRpb25zJGZpbHRlckl0ZW1zIiwiZmlsdGVySXRlbXMiLCJkb2N1bWVudEVsZW1lbnQiLCJsYXN0U3RhdGUiLCJmaWx0ZXJlZEl0ZW1zIiwib25kcmFnZW5kIiwib25kcmFnc3RhcnQiLCJ1cGRhdGVIb3BwZXJTdGF0ZSIsImhvcHBlclN0YXRlIiwibGlzdGVuaW5nIiwibGlzdGVuZXJzJDEiLCJoYW5kbGVQYXN0ZSIsImFjdGl2ZUVsIiwiYWN0aXZlRWxlbWVudCIsIm5vZGVOYW1lIiwiaW5TY29wZSIsImNsaXBib2FyZERhdGEiLCJsaXN0ZW4iLCJ1bmxpc3RlbiIsImNyZWF0ZVBhc3RlciIsImFkZEZpbGVzTm90aWZpY2F0aW9uVGltZW91dCIsIm5vdGlmaWNhdGlvbkNsZWFyVGltZW91dCIsImZpbGVuYW1lcyIsImFzc2lzdCIsImNsZWFyJDEiLCJsaXN0TW9kaWZpZWQiLCJpc1VzaW5nRmlsZVBvbmQiLCJpdGVtUHJvY2Vzc2VkVW5kbyIsIml0ZW1FcnJvciIsImFzc2lzdGFudCIsInRvQ2FtZWxzIiwiY2hhckF0IiwiZGVib3VuY2UiLCJmdW5jIiwiaW1taWRpYXRlT25seSIsIk1BWF9GSUxFU19MSU1JVCIsInByZXZlbnQiLCJjcmVhdGUkZSIsIm1lYXN1cmUiLCJib3VuZHMiLCJ3aWR0aFByZXZpb3VzIiwid2lkdGhVcGRhdGVkIiwidXBkYXRlSGlzdG9yeSIsInByZXZpb3VzQXNwZWN0UmF0aW8iLCJjYW5Ib3ZlciIsIm1hdGNoTWVkaWEiLCJoYXNQb2ludGVyRXZlbnRzIiwicGFzc2l2ZSIsIndyaXRlJDkiLCJyb3V0ZSQ1IiwiY2FsY3VsYXRlUm9vdEJvdW5kaW5nQm94SGVpZ2h0IiwiaG9wcGVyIiwiaXNNdWx0aUl0ZW0iLCJhdE1heENhcGFjaXR5IiwiYWRkQWN0aW9uIiwibGlzdEl0ZW1NYXJnaW4iLCJjYWxjdWxhdGVMaXN0SXRlbU1hcmdpbiIsImxpc3RIZWlnaHQiLCJjYWxjdWxhdGVMaXN0SGVpZ2h0IiwibGFiZWxIZWlnaHQiLCJjdXJyZW50TGFiZWxIZWlnaHQiLCJsaXN0TWFyZ2luVG9wIiwibGlzdE1hcmdpbkJvdHRvbSIsInZpc3VhbCIsImJvdW5kc0hlaWdodCIsImhpc3RvcnkiLCJNQVhfQk9VTkNFUyIsImJvdW5jZXMiLCJsaXN0QXZhaWxhYmxlSGVpZ2h0IiwiX2xpc3RBdmFpbGFibGVIZWlnaHQiLCJjYXBwZWRIZWlnaHQiLCJpc0NhcHBlZEhlaWdodCIsInBhbmVsSGVpZ2h0IiwiX2xpc3RBdmFpbGFibGVIZWlnaHQyIiwiaXRlbU1hcmdpbiIsInNjcm9sbExpc3QiLCJpdGVtTGlzdCIsIm5ld0l0ZW0iLCJyZW1vdmVkSXRlbSIsInZlcnRpY2FsSXRlbUNvdW50IiwibWVhc3VyZUhlaWdodCIsIm1heEhlaWdodCIsImV4Y2VlZHNNYXhGaWxlcyIsIm1heEl0ZW1zIiwidG90YWxCcm93c2VJdGVtcyIsImdldERyYWdJbmRleCIsInRvZ2dsZURyb3AiLCJpc0FsbG93ZWQiLCJlbmFibGVkIiwidG9nZ2xlQnJvd3NlIiwidG9nZ2xlUGFzdGUiLCJwYXN0ZXIiLCJESURfU0VUX0FMTE9XX0RST1AiLCJESURfU0VUX0FMTE9XX1BBU1RFIiwiY3JlYXRlQXBwIiwiaW5pdGlhbE9wdGlvbnMiLCJvcmlnaW5hbEVsZW1lbnQiLCJ2aXNpYmlsaXR5SGFuZGxlciIsInJlc2l6ZURvbmVUaW1lciIsImlzUmVzaXppbmciLCJpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5IiwiaW5pdGlhbFdpbmRvd1dpZHRoIiwiY3VycmVudFdpbmRvd1dpZHRoIiwicmVzaXplSGFuZGxlciIsImlzSGlkZGVuIiwicmVhZFdyaXRlQXBpIiwiaW5uZXJXaWR0aCIsInJvdXRlQWN0aW9uc1RvRXZlbnRzIiwiY3JlYXRlRXZlbnQiLCJldmVudFJvdXRlcyIsIkRJRF9ERVNUUk9ZIiwiRElEX0lOSVQiLCJESURfVEhST1dfTUFYX0ZJTEVTIiwiRElEX0lOSVRfSVRFTSIsIkRJRF9QUkVQQVJFX09VVFBVVCIsIkRJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkdfQUxMIiwiRElEX1VQREFURV9JVEVNUyIsIkRJRF9BQ1RJVkFURV9JVEVNIiwiZXhwb3NlRXZlbnQiLCJwb25kIiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJjb21wb3NlZCIsImZpbHRlcmVkIiwicHJlcGFyZUZpbGUiLCJhZGRGaWxlcyIsImlzRmlsZVBvbmRGaWxlIiwic291cmNlcyIsImxhc3RBcmd1bWVudCIsInByb2Nlc3NGaWxlIiwicHJlcGFyZUZpbGVzIiwicHJvY2Vzc0ZpbGVzIiwiX2xlbjMiLCJfa2V5MyIsInJlbW92ZUZpbGVzIiwiX2xlbjQiLCJfa2V5NCIsInEiLCJtb3ZlRmlsZSIsImJyb3dzZSIsImFwcGVuZFRvIiwicmVwbGFjZUVsZW1lbnQiLCJyZXN0b3JlRWxlbWVudCIsImlzQXR0YWNoZWRUbyIsImNyZWF0ZUFwcE9iamVjdCIsImN1c3RvbU9wdGlvbnMiLCJsb3dlckNhc2VGaXJzdExldHRlciIsImF0dHJpYnV0ZU5hbWVUb1Byb3BlcnR5TmFtZSIsImF0dHJpYnV0ZU5hbWUiLCJtYXBPYmplY3QiLCJwcm9wZXJ0eU1hcCIsInNlbGVjdG9yIiwibWFwcGluZyIsInNlbGVjdG9yUmVnRXhwIiwiZ2V0QXR0cmlidXRlc0FzT2JqZWN0IiwiYXR0cmlidXRlTWFwcGluZyIsImNyZWF0ZUFwcEF0RWxlbWVudCIsIm1lcmdlZE9wdGlvbnMiLCJhdHRyaWJ1dGVPcHRpb25zIiwicXVlcnlTZWxlY3RvckFsbCIsImFwcCIsImNyZWF0ZUFwcCQxIiwiUFJJVkFURV9NRVRIT0RTIiwiY3JlYXRlQXBwQVBJIiwicmVwbGFjZW1lbnRzIiwid29ya2VyQmxvYiIsIndvcmtlclVSTCIsIldvcmtlciIsInRyYW5zZmVyTGlzdCIsInJlbmFtZUZpbGUiLCJyZW5hbWVkRmlsZSIsImNvcHlGaWxlIiwicmVnaXN0ZXJlZFBsdWdpbnMiLCJjcmVhdGVBcHBQbHVnaW4iLCJwbHVnaW5PdXRsaW5lIiwidmlld3MiLCJpc09wZXJhTWluaSIsIm9wZXJhbWluaSIsImhhc1Byb21pc2VzIiwiaGFzQmxvYlNsaWNlIiwiaGFzQ3JlYXRlT2JqZWN0VVJMIiwiaGFzVmlzaWJpbGl0eSIsImhhc1RpbWluZyIsImhhc0NTU1N1cHBvcnRzIiwiQ1NTIiwiaXNJRTExIiwiYXBwcyIsIk9wdGlvblR5cGVzIiwidXBkYXRlT3B0aW9uVHlwZXMiLCJob29rIiwiaW5kZXhUb1JlbW92ZSIsImNvbnRleHQiLCJuZXdIb29rIiwicGx1Z2lucyIsIk9wZW5TdGFkQ29tcG9uZW50SWRlYURldGFpbHMiLCJWb3RlQnV0dG9uIiwiYnVzeSIsImRvVm90ZSIsInZhbHVlMDAwIiwidmFsdWUwMCIsInZhbHVlMCJdLCJtYXBwaW5ncyI6IjtzQ0FDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUEwRGYsT0FyREFGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFz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c1EsVUFBVSxvQkFBb0I0NEUsR0FDL0UsMkJBQUtobUYsR0FBRSxVQUFLc0gsS0FBS3JJLE9BQU9uQyxLQUFqQixvQkFBeUNzUSxVQUFVLG9CQUFvQjY0RSxHQUM5RSwyQkFBS2ptRixHQUFFLFVBQUtzSCxLQUFLckksT0FBT25DLEtBQWpCLG1CQUF3Q3NRLFVBQVUsb0JBQW9CODRFLElBRTVFLDJCQUFLOTRFLFVBQVMsaUNBQTRCOUYsS0FBS3JJLE9BQU9uQyxLQUF4QyxpQkFBcUR3SyxLQUFLN0ksTUFBTTRGLEtBQUtnNEMsU0FBVyxzQkFBd0IsR0FBeEcsWUFBOEcvMEMsS0FBS04sTUFBTTgrRSxLQUFPLFlBQWMsSUFBTWoxRSxNQUFPLENBQUV1L0IsTUFBTzlvQyxLQUFLckksT0FBT214QyxNQUFPM2MsZ0JBQWlCbnNCLEtBQUtySSxPQUFPdzBCLGlCQUFtQnppQixRQUFVLFNBQUNySixHQUFELE9BQU8vSSxFQUFLbW5GLE9BQU9wK0UsS0FDbFIvSSxFQUFLSyxPQUFPNlAsTUFFWiwyQkFBSzFCLFVBQVUseUIsOEJBbEdpQjVPLE0iLCJmaWxlIjoiaWRlYS1kZXRhaWxzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDExMSk7XG4iLCIoZnVuY3Rpb24oKSB7IG1vZHVsZS5leHBvcnRzID0gd2luZG93W1wiUmVhY3RcIl07IH0oKSk7IiwiaW1wb3J0IG1lcmdlIGZyb20gJ21lcmdlJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJ2NvcmUtanMvZXMvYXJyYXkvaW5jbHVkZXMnO1xuXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5TdGFkQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcywgZGVmYXVsdENvbmZpZyA9IHt9LCBkZWZhdWx0ZGVmYXVsdENvbmZpZyA9IHt9KSB7XG5cbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAocHJvcHMuYXR0cmlidXRlcykge1xuICAgICAgT2JqZWN0LmtleXMocHJvcHMuYXR0cmlidXRlcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGxldCBhdHRyaWJ1dGUgPSBwcm9wcy5hdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIHNlbGZbYXR0cmlidXRlLm5hbWVdID0gYXR0cmlidXRlLnZhbHVlO1xuICAgICAgfSk7XG4gICAgfVxuXG5cdFx0Ly8gY29uZmlnXG4gICAgaWYgKHR5cGVvZiBzZWxmLmNvbmZpZyA9PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2VsZi5jb25maWcgPSBKU09OLnBhcnNlKHNlbGYuY29uZmlnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge31cbiAgICB9XG4gICAgbGV0IHByb3BzQ29uZmlnID0gcHJvcHMuY29uZmlnIHx8IHt9O1xuICAgIHByb3BzQ29uZmlnID0gcmVtb3ZlVW5kZWZBbmROdWxsKHByb3BzQ29uZmlnKTsgLy8gcmVtb3ZlIHVuZGVmaW5lZCBhbmQgbnVsbFxuXHRcdHNlbGYuY29uZmlnID0gbWVyZ2UucmVjdXJzaXZlKHtcbiAgICAgIHNpdGVJZDogbnVsbCxcblx0XHRcdGFwaToge1xuICAgICAgICB1cmw6IG51bGwsXG4gICAgICAgIGhlYWRlcnM6IG51bGwsXG4gICAgICAgIGlzVXNlckxvZ2dlZEluOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICB1c2VyOiB7fSxcbiAgICB9LCBkZWZhdWx0Q29uZmlnLCBkZWZhdWx0ZGVmYXVsdENvbmZpZywgcHJvcHNDb25maWcpXG5cbiAgICBzZWxmLmRpdklkID0gc2VsZi5kaXZJZCB8fCAoIHNlbGYuY29uZmlnICYmIHNlbGYuY29uZmlnLmRpdklkICkgfHwgcHJvcHMuaWQgfHwgYG9wZW5zdGFkLWNvbXBvbmVudC0keyAgcGFyc2VJbnQoIDEwMDAwMDAwMCAqIE1hdGgucmFuZG9tKCkgKX1gO1xuICAgIFxuICAgIHdpbmRvd1tzZWxmLmRpdklkXSA9IHNlbGY7XG5cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgLy8gbGV0IGV2ZW50ID0gbmV3IEV2ZW50KCdpc1JlYWR5Jyk7XG4gICAgLy8gc2VsZi5pc1JlYWR5ID0gdHJ1ZTtcbiAgICAvLyBzZWxmLmluc3RhbmNlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVW5kZWZBbmROdWxsKG9iaikge1xuICBpZiAodHlwZW9mIG9iaiAhPSAnb2JqZWN0JykgcmV0dXJuIG9iajtcbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpZiAodHlwZW9mIG9ialtrZXldID09ICd1bmRlZmluZWQnIHx8IG9ialtrZXldID09IG51bGwpIGRlbGV0ZSBvYmpba2V5XTtcbiAgICBpZiAodHlwZW9mIG9ialtrZXldID09ICdvYmplY3QnKSBvYmpba2V5XSA9IHJlbW92ZVVuZGVmQW5kTnVsbChvYmpba2V5XSk7XG4gIH0pO1xuICByZXR1cm4gIG9iajtcbn1cbiIsImxldCBvc2NTZXNzaW9uU3RvcmFnZSA9IHt9O1xuXG5vc2NTZXNzaW9uU3RvcmFnZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG5cblx0dmFyIHZhbHVlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShuYW1lKTtcblxuXHR0cnkge1xuXHRcdHZhbHVlID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG5cdH0gY2F0Y2goZXJyKSB7fVxuXG5cdHJldHVybiB2YWx1ZTtcblxufVxuXG5vc2NTZXNzaW9uU3RvcmFnZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuXG5cdGlmICggdHlwZW9mIG5hbWUgIT0gJ3N0cmluZycgKSByZXR1cm47XG5cblx0aWYgKCB0eXBlb2YgdmFsdWUgPT0gJ3VuZGVmaW5lZCcgKSB2YWx1ZSA9IFwiXCI7XG5cdGlmICggdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICkge1xuXHRcdHRyeSB7XG5cdFx0XHR2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0XHR9IGNhdGNoKGVycikge31cblx0fTtcblxuXHRzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCBuYW1lLCB2YWx1ZSApO1xuXG59XG5cblxub3NjU2Vzc2lvblN0b3JhZ2UucmVtb3ZlID0gZnVuY3Rpb24obmFtZSkge1xuICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKG5hbWUpXG59XG5cbmV4cG9ydCBkZWZhdWx0IG9zY1Nlc3Npb25TdG9yYWdlO1xuIiwiaW1wb3J0IHNlc3Npb25TdG9yYWdlIGZyb20gJy4uL3Nlc3Npb24tc3RvcmFnZS5qcydcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY29uZmlnKSB7XG5cbiAgbGV0IGp3dDtcblxuICAvLyBqd3QgaW4gdXJsXG4gIGxldCBtYXRjaCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gubWF0Y2goLyg/OlxcP3wmKWp3dD0oW0EtWmEtejAtOS1fPV0rXFwuW0EtWmEtejAtOS1fPV0rXFwuP1tBLVphLXowLTktXy4rLz1dKikoPzomfCQpLyk7XG4gIGlmIChtYXRjaCkge1xuICAgIGp3dCA9IG1hdGNoWzFdO1xuICAgIHNlc3Npb25TdG9yYWdlLnNldCgnb3NjLWp3dCcsIGp3dCk7XG4gICAgbGV0IHNlYXJjaCA9IGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaC5yZXBsYWNlKCdqd3Q9JyArIGp3dCwgJycpO1xuICAgIGlmIChzZWFyY2ggPT0gJz8nKSBzZWFyY2ggPSAnJztcbiAgICBkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2ggPSBzZWFyY2g7XG4gIH1cblxuICBqd3QgPSBzZXNzaW9uU3RvcmFnZS5nZXQoJ29zYy1qd3QnKTtcblxuICBpZiAoY29uZmlnICYmIGNvbmZpZy5qd3QpIHtcbiAgICBqd3QgPSBjb25maWcuand0O1xuICAgIHNlc3Npb25TdG9yYWdlLnNldCgnb3NjLWp3dCcsIGp3dClcbiAgfVxuXG4gIHJldHVybiBqd3Q7XG4gIFxufVxuIiwiaW1wb3J0IHNlc3Npb25TdG9yYWdlIGZyb20gJy4uL3Nlc3Npb24tc3RvcmFnZS5qcyc7XG5pbXBvcnQgZ2V0SldUIGZyb20gJy4vZ2V0LWp3dC5qcyc7XG5cbmxldCByb2xlcyA9IHtcbiAgYWRtaW46IFsnYWRtaW4nLCAnbW9kZXJhdG9yJywgJ2VkaXRvcicsICdtZW1iZXInLCAnYW5vbnltb3VzJywgJ2FsbCddLFxuICBtb2RlcmF0b3I6IFsnbW9kZXJhdG9yJywgJ2VkaXRvcicsICdtZW1iZXInLCAnYW5vbnltb3VzJywgJ2FsbCddLFxuICBlZGl0b3I6IFsnZWRpdG9yJywgJ21lbWJlcicsICdhbm9ueW1vdXMnLCAnYWxsJ10sXG4gIG1lbWJlcjogWydtZW1iZXInLCAnYW5vbnltb3VzJywgJ2FsbCddLFxuICBhbm9ueW1vdXM6IFsnYW5vbnltb3VzJywgJ2FsbCddLFxuICBhbGw6IFsnYWxsJ10sICAgLy8gc3BlY2lhbFxuICBvd25lcjogbnVsbCwgLy8gc3BlY2lhbFxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih1c2VyLCByZXF1aXJlZFJvbGUpIHtcbiAgbGV0IHVzZXJSb2xlID0gdXNlci5yb2xlO1xuICBpZiAoIU9iamVjdC5rZXlzKHJvbGVzKS5pbmNsdWRlcyh1c2VyUm9sZSkpIHVzZXJSb2xlID0gJ2FsbCc7XG4gIHJldHVybiByb2xlc1t1c2VyUm9sZV0uaW5jbHVkZXMocmVxdWlyZWRSb2xlKTtcbn1cbiIsImxldCBvc2NMb2NhbFN0b3JhZ2UgPSB7fTtcblxub3NjTG9jYWxTdG9yYWdlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcblxuXHR2YXIgdmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShuYW1lKTtcblxuXHR0cnkge1xuXHRcdHZhbHVlID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG5cdH0gY2F0Y2goZXJyKSB7fVxuXG5cdHJldHVybiB2YWx1ZTtcblxufVxuXG5vc2NMb2NhbFN0b3JhZ2Uuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcblxuXHRpZiAoIHR5cGVvZiBuYW1lICE9ICdzdHJpbmcnICkgcmV0dXJuO1xuXG5cdGlmICggdHlwZW9mIHZhbHVlID09ICd1bmRlZmluZWQnICkgdmFsdWUgPSBcIlwiO1xuXHRpZiAoIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyApIHtcblx0XHR0cnkge1xuXHRcdFx0dmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0fSBjYXRjaChlcnIpIHt9XG5cdH07XG5cblx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oIG5hbWUsIHZhbHVlICk7XG5cbn1cblxuXG5vc2NMb2NhbFN0b3JhZ2UucmVtb3ZlID0gZnVuY3Rpb24obmFtZSkge1xuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShuYW1lKVxufVxuXG5leHBvcnQgZGVmYXVsdCBvc2NMb2NhbFN0b3JhZ2U7XG4iLCIvLyBwb2x5ZmlsbHNcbi8vaW1wb3J0ICdjb3JlLWpzL2VzL21hcCc7XG4vL2ltcG9ydCAnY29yZS1qcy9lcy9zZXQnO1xuaW1wb3J0ICd3aGF0d2ctZmV0Y2gnO1xuXG4vLyByZWFjdFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG4vLyBpbXBvcnQgY3NzIHRvIG1ha2Ugc3VyZSBpdCBpcyBnZW5lcmF0ZWQgaW4gdGhlIHJlc3VsdFxuaW1wb3J0ICcuL2Nzcy9kZWZhdWx0Lmxlc3MnO1xuXG4vLyB0aGUgbW9kdWxlXG5pbXBvcnQgYXBpIGZyb20gJy4vbGliL2FwaS9pbmRleC5qcyc7XG5pbXBvcnQgdXNlciBmcm9tICcuL2xpYi91c2VyL2luZGV4LmpzJztcbmltcG9ydCBpZGVhc1NvcnQgZnJvbSAnLi9saWIvaWRlYXMtc29ydC5qcyc7XG5pbXBvcnQgbG9jYWxTdG9yYWdlIGZyb20gJy4vbGliL2xvY2FsLXN0b3JhZ2UuanMnO1xuaW1wb3J0IHNlc3Npb25TdG9yYWdlIGZyb20gJy4vbGliL3Nlc3Npb24tc3RvcmFnZS5qcyc7XG5pbXBvcnQgcmVhY3RUZW1wbGF0ZSBmcm9tICcuL2xpYi9yZWFjdC10ZW1wbGF0ZS5qcyc7XG5cbmxldCBPcGVuU3RhZENvbXBvbmVudExpYnMgPSB7XG4gIGFwaSxcbiAgdXNlcixcbiAgaWRlYXNTb3J0LFxuICBsb2NhbFN0b3JhZ2UsXG4gIHNlc3Npb25TdG9yYWdlLFxuICByZWFjdFRlbXBsYXRlLFxufVxuZXhwb3J0IGRlZmF1bHQgT3BlblN0YWRDb21wb25lbnRMaWJzO1xuXG4iLCJpbXBvcnQgZ2V0SGVhZGVycyBmcm9tICcuL2dldC1oZWFkZXJzLmpzJ1xuXG5sZXQgT3BlblN0YWRDb21wb25lbnRBUEkgPSB7XG4gIGdldEhlYWRlcnMsXG59XG5cbmV4cG9ydCBkZWZhdWx0IE9wZW5TdGFkQ29tcG9uZW50QVBJO1xuXG4iLCJpbXBvcnQgbWVyZ2UgZnJvbSAnbWVyZ2UnO1xuaW1wb3J0IGdldEpXVCBmcm9tICcuLi91c2VyL2dldC1qd3QuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb25maWcpIHtcblxuICBsZXQgaGVhZGVycyA9IG1lcmdlLnJlY3Vyc2l2ZSh7ICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSwgY29uZmlnICYmIGNvbmZpZy5hcGkgJiYgY29uZmlnLmFwaS5oZWFkZXJzKTtcblxuICBsZXQgand0ID0gZ2V0SldUKCk7XG4gIGlmIChqd3QpIHtcbiAgICBoZWFkZXJzID0gbWVyZ2UucmVjdXJzaXZlKHsgXCJYLUF1dGhvcml6YXRpb25cIjogXCJCZWFyZXIgXCIgKyBqd3QgfSwgaGVhZGVycyk7XG4gIH1cblxuICByZXR1cm4gaGVhZGVycztcbiAgXG59XG4iLCJpbXBvcnQgZ2V0VXNlciBmcm9tICcuL2dldC11c2VyLmpzJ1xuaW1wb3J0IGdldEpXVCBmcm9tICcuL2dldC1qd3QuanMnXG5pbXBvcnQgbG9nb3V0IGZyb20gJy4vbG9nb3V0LmpzJ1xuaW1wb3J0IGhhc1JvbGUgZnJvbSAnLi9oYXMtcm9sZS5qcydcblxubGV0IE9wZW5TdGFkQ29tcG9uZW50VXNlciA9IHtcbiAgZ2V0VXNlcixcbiAgZ2V0SldULFxuICBsb2dvdXQsXG4gIGhhc1JvbGUsXG59XG5cbmV4cG9ydCBkZWZhdWx0IE9wZW5TdGFkQ29tcG9uZW50VXNlcjtcblxuIiwiaW1wb3J0IHNlc3Npb25TdG9yYWdlIGZyb20gJy4uL3Nlc3Npb24tc3RvcmFnZS5qcyc7XG5pbXBvcnQgZ2V0SldUIGZyb20gJy4vZ2V0LWp3dC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbmZpZywgbmV4dCkge1xuXG4gIG5leHQgPSBuZXh0IHx8IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICBjb25zb2xlLmxvZygnZ2V0VXNlcjogbmV4dCBub3QgZGVmaW5lZC4nKTtcbiAgICBjb25zb2xlLmxvZyh1c2VyKTtcbiAgfTtcblxuICBsZXQgdXNlciA9IGNvbmZpZy51c2VyIHx8IHNlc3Npb25TdG9yYWdlLmdldCgnb3NjLXVzZXInKTtcblxuICBpZiAodXNlcikge1xuICAgIC8vIHJldHVybiB1c2VyXG4gICAgcmV0dXJuIG5leHQobnVsbCwgdXNlcik7XG4gIH1cblxuICAvLyBqd3RcbiAgbGV0IGp3dCA9IGdldEpXVChjb25maWcpO1xuXG4gIGlmICghand0KSB7XG4gICAgLy8gcmV0dXJuIG5vIHVzZXJcbiAgICByZXR1cm4gbmV4dChudWxsLCB7fSk7XG4gIH1cblxuICAvLyBmZXRjaCB1c2VyXG4gIGxldCB1cmwgPSBgJHtjb25maWcuYXBpLnVybCAgfS9vYXV0aC9zaXRlLyR7ICBjb25maWcuc2l0ZUlkICB9L21lYDtcbiAgbGV0IGhlYWRlcnMgPSB7ICdYLUF1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7ICBqd3R9YCwgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9O1xuICBmZXRjaCh1cmwsIHsgaGVhZGVycyB9IClcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRXJyb3Igb24gZmV0Y2gnKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSlcbiAgICAudGhlbiggKGpzb24pID0+IHtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldCgnb3NjLXVzZXInLCBqc29uKTtcbiAgICAgIG5leHQobnVsbCwganNvbik7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgbmV4dChlcnIpO1xuICAgIH0pO1xuXG59XG4iLCJpbXBvcnQgc2Vzc2lvblN0b3JhZ2UgZnJvbSAnLi4vc2Vzc2lvbi1zdG9yYWdlLmpzJztcbmltcG9ydCBnZXRKV1QgZnJvbSAnLi9nZXQtand0LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY29uZmlnLCBuZXh0KSB7XG5cbiAgbmV4dCA9IG5leHQgfHwgZnVuY3Rpb24odXNlcikge1xuICAgIGNvbnNvbGUubG9nKCdsb2dvdXQ6IG5leHQgbm90IGRlZmluZWQuJyk7XG4gIH1cblxuICBsZXQgdXNlciA9IGNvbmZpZy51c2VyIHx8IHNlc3Npb25TdG9yYWdlLmdldCgnb3NjLXVzZXInKTtcblxuICBpZiAodXNlcikge1xuICAgIC8vIHJldHVybiB1c2VyXG4gICAgcmV0dXJuIG5leHQobnVsbCwgdXNlcik7XG4gIH1cblxuICAvLyBqd3RcbiAgbGV0IGp3dCA9IGdldEpXVChjb25maWcpO1xuXG4gIGlmICghand0KSB7XG4gICAgLy8gcmV0dXJuIG5vIHVzZXJcbiAgICByZXR1cm4gbmV4dChudWxsLCB7fSlcbiAgfVxuXG4gIC8vIGZldGNoIHVzZXJcbiAgbGV0IHVybCA9IGNvbmZpZy5hcGkudXJsICsgJy9vYXV0aC9zaXRlLycgKyBjb25maWcuc2l0ZUlkICsgJy9tZSc7XG4gIGxldCBoZWFkZXJzID0geyAnWC1BdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgand0LCAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH07XG4gIGZldGNoKHVybCwgeyBoZWFkZXJzIH0gKVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBvbiBmZXRjaCcpXG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pXG4gICAgLnRoZW4oIGpzb24gPT4ge1xuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0KCdvc2MtdXNlcicsIGpzb24pXG4gICAgICBuZXh0KG51bGwsIGpzb24pXG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgbmV4dChlcnIpXG4gICAgfSk7XG4gIFxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpZGVhc1NvcnQoeyBpZGVhcywgc29ydE9yZGVyLCBjZW50ZXIgfSkge1xuXG4gIHNvcnRPcmRlciA9IHNvcnRPcmRlciB8fCAncmFuZG9tJztcblxuXHRzd2l0Y2goc29ydE9yZGVyKXtcblx0XHRjYXNlICd0aXRsZSc6XG5cdFx0XHRpZGVhcyA9IGlkZWFzLnNvcnQoIGZ1bmN0aW9uKGEsYikgeyBpZiAoYS50aXRsZS50b0xvd2VyQ2FzZSgpIDwgYi50aXRsZS50b0xvd2VyQ2FzZSgpKSB7IHJldHVybiAtMTsgfSBpZiAoYi50aXRsZS50b0xvd2VyQ2FzZSgpIDwgYS50aXRsZS50b0xvd2VyQ2FzZSgpKSB7IHJldHVybiAxOyB9IHJldHVybiAwOyB9KTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ3JhbmtpbmcsYXNjJzpcblx0XHRcdGlkZWFzID0gaWRlYXMuc29ydCggZnVuY3Rpb24oYSxiKSB7IHJldHVybiBhLnJhbmtpbmcgLSBiLnJhbmtpbmcgfSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdsaWtlcyxhc2MnOlxuXHRcdFx0aWRlYXMgPSBpZGVhcy5zb3J0KCBmdW5jdGlvbihhLGIpIHsgcmV0dXJuIGEueWVzIC0gYi55ZXMgfSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdsaWtlcyxkZXNjJzpcblx0XHRcdGlkZWFzID0gaWRlYXMuc29ydCggZnVuY3Rpb24oYSxiKSB7IHJldHVybiBiLnllcyAtIGEueWVzIH0pO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnY3JlYXRlZHRpbWUsZGVzYyc6XG5cdFx0XHRpZGVhcyA9IGlkZWFzLnNvcnQoIGZ1bmN0aW9uKGEsYikgeyByZXR1cm4gbmV3IERhdGUoYi5jcmVhdGVkQXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEuY3JlYXRlZEF0KS5nZXRUaW1lKCkgfSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdjcmVhdGVkdGltZSxhc2MnOlxuXHRcdFx0aWRlYXMgPSBpZGVhcy5zb3J0KCBmdW5jdGlvbihhLGIpIHsgcmV0dXJuIG5ldyBEYXRlKGEuY3JlYXRlZEF0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLmNyZWF0ZWRBdCkuZ2V0VGltZSgpIH0pO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnZGlzdGFuY2UnOlxuICAgICAgY2VudGVyID0gY2VudGVyIHx8IHtsYXQ6IDUyLjM3MTA0NjQ0NDYzNTg2LCBsbmc6OTAwNDAyOTExMDA3NDA1fTtcbiAgICAgIGlmIChjZW50ZXIuY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgY2VudGVyLmxhdCA9IGNlbnRlci5jb29yZGluYXRlc1swXTtcbiAgICAgICAgY2VudGVyLmxuZyA9IGNlbnRlci5jb29yZGluYXRlc1sxXTtcbiAgICAgIH1cblx0XHRcdGlkZWFzID0gaWRlYXNcbiAgICAgICAgLm1hcCggaWRlYSA9PiB7IGlkZWEuX2Rpc3RhbmNlID0gTWF0aC5zcXJ0KCBNYXRoLnBvdyggaWRlYS5sb2NhdGlvbi5jb29yZGluYXRlc1swXSAtIGNlbnRlci5sYXQsIDIgKSArIE1hdGgucG93KCBpZGVhLmxvY2F0aW9uLmNvb3JkaW5hdGVzWzFdIC0gY2VudGVyLmxuZywgMiApICk7IHJldHVybiBpZGVhOyB9IClcbiAgICAgICAgLnNvcnQoIGZ1bmN0aW9uKGEsYikgeyByZXR1cm4gYS5fZGlzdGFuY2UgLSBiLl9kaXN0YW5jZSB9KVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnYXJncyxkZXNjJzpcblx0XHRcdGlkZWFzID0gaWRlYXMuc29ydCggZnVuY3Rpb24oYSxiKSB7IHJldHVybiBiLmFyZ0NvdW50IC0gYS5hcmdDb3VudCB9KVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnYXJncyxhc2MnOlxuXHRcdFx0aWRlYXMgPSBpZGVhcy5zb3J0KCBmdW5jdGlvbihhLGIpIHsgcmV0dXJuIGEuYXJnQ291bnQgLSBiLmFyZ0NvdW50IH0pXG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdyYW5kb20nOlxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRpZGVhcyA9IGlkZWFzLnNvcnQoIGZ1bmN0aW9uKGEsYikgeyByZXR1cm4gTWF0aC5yYW5kb20oKSAtIDAuNSB9KTtcblx0XHRcdGJyZWFrO1xuXHR9XG5cbiAgcmV0dXJuIGlkZWFzO1xuICBcbn1cbiIsImltcG9ydCBtZXJnZSBmcm9tICdtZXJnZSc7XG5cbi8vIFRPRE86IGRpdCB3ZXJrdCBhbGxlZW4gYWxzIGhldCBlciAxIGlzXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgaHRtbD0nJyB9KSB7XG5cbiAgbGV0IGFyZ3MgPSBhcmd1bWVudHNbMF07XG4gIGRlbGV0ZSBhcmdzLmh0bWw7XG5cbiAgbGV0IG1hdGNoZXMgPSAwO1xuXG4gIE9iamVjdC5rZXlzKGFyZ3MpLmZvckVhY2goKGtleSkgPT4ge1xuXG4gICAgbGV0IHJlZ0V4ID0gbmV3IFJlZ0V4cChgXigoPzoufFxcbnxcXHIpKilcXFxceyR7a2V5fVxcXFx9KCg/Oi58XFxufFxccikqKSRgLCAnZycpO1xuICAgIGxldCBtYXRjaCA9IHJlZ0V4LmV4ZWMoaHRtbCk7XG5cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIG1hdGNoZXMrKztcbiAgICAgIGh0bWwgPSAoXG4gICAgICAgIDxzcGFuPlxuICAgICAgICA8c3BhbiBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1hdGNoWzFdIH19Pjwvc3Bhbj5cbiAgICAgICAge2FyZ3Nba2V5XX1cbiAgICAgICAgPHNwYW4gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtYXRjaFsyXSB9fT48L3NwYW4+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIGlmIChtYXRjaGVzID09IDApIGh0bWwgPSA8c3BhbiBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGh0bWwgfX0+PC9zcGFuPlxuICByZXR1cm4gaHRtbDtcbiAgXG59XG4iLCIvKiFcclxuICogQG5hbWUgSmF2YVNjcmlwdC9Ob2RlSlMgTWVyZ2UgdjEuMi4xXHJcbiAqIEBhdXRob3IgeWVpa29zXHJcbiAqIEByZXBvc2l0b3J5IGh0dHBzOi8vZ2l0aHViLmNvbS95ZWlrb3MvanMubWVyZ2VcclxuXHJcbiAqIENvcHlyaWdodCAyMDE0IHllaWtvcyAtIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20veWVpa29zL2pzLm1lcmdlL21hc3Rlci9MSUNFTlNFXHJcbiAqL1xyXG5cclxuOyhmdW5jdGlvbihpc05vZGUpIHtcclxuXHJcblx0LyoqXHJcblx0ICogTWVyZ2Ugb25lIG9yIG1vcmUgb2JqZWN0cyBcclxuXHQgKiBAcGFyYW0gYm9vbD8gY2xvbmVcclxuXHQgKiBAcGFyYW0gbWl4ZWQsLi4uIGFyZ3VtZW50c1xyXG5cdCAqIEByZXR1cm4gb2JqZWN0XHJcblx0ICovXHJcblxyXG5cdHZhciBQdWJsaWMgPSBmdW5jdGlvbihjbG9uZSkge1xyXG5cclxuXHRcdHJldHVybiBtZXJnZShjbG9uZSA9PT0gdHJ1ZSwgZmFsc2UsIGFyZ3VtZW50cyk7XHJcblxyXG5cdH0sIHB1YmxpY05hbWUgPSAnbWVyZ2UnO1xyXG5cclxuXHQvKipcclxuXHQgKiBNZXJnZSB0d28gb3IgbW9yZSBvYmplY3RzIHJlY3Vyc2l2ZWx5IFxyXG5cdCAqIEBwYXJhbSBib29sPyBjbG9uZVxyXG5cdCAqIEBwYXJhbSBtaXhlZCwuLi4gYXJndW1lbnRzXHJcblx0ICogQHJldHVybiBvYmplY3RcclxuXHQgKi9cclxuXHJcblx0UHVibGljLnJlY3Vyc2l2ZSA9IGZ1bmN0aW9uKGNsb25lKSB7XHJcblxyXG5cdFx0cmV0dXJuIG1lcmdlKGNsb25lID09PSB0cnVlLCB0cnVlLCBhcmd1bWVudHMpO1xyXG5cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBDbG9uZSB0aGUgaW5wdXQgcmVtb3ZpbmcgYW55IHJlZmVyZW5jZVxyXG5cdCAqIEBwYXJhbSBtaXhlZCBpbnB1dFxyXG5cdCAqIEByZXR1cm4gbWl4ZWRcclxuXHQgKi9cclxuXHJcblx0UHVibGljLmNsb25lID0gZnVuY3Rpb24oaW5wdXQpIHtcclxuXHJcblx0XHR2YXIgb3V0cHV0ID0gaW5wdXQsXHJcblx0XHRcdHR5cGUgPSB0eXBlT2YoaW5wdXQpLFxyXG5cdFx0XHRpbmRleCwgc2l6ZTtcclxuXHJcblx0XHRpZiAodHlwZSA9PT0gJ2FycmF5Jykge1xyXG5cclxuXHRcdFx0b3V0cHV0ID0gW107XHJcblx0XHRcdHNpemUgPSBpbnB1dC5sZW5ndGg7XHJcblxyXG5cdFx0XHRmb3IgKGluZGV4PTA7aW5kZXg8c2l6ZTsrK2luZGV4KVxyXG5cclxuXHRcdFx0XHRvdXRwdXRbaW5kZXhdID0gUHVibGljLmNsb25lKGlucHV0W2luZGV4XSk7XHJcblxyXG5cdFx0fSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xyXG5cclxuXHRcdFx0b3V0cHV0ID0ge307XHJcblxyXG5cdFx0XHRmb3IgKGluZGV4IGluIGlucHV0KVxyXG5cclxuXHRcdFx0XHRvdXRwdXRbaW5kZXhdID0gUHVibGljLmNsb25lKGlucHV0W2luZGV4XSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBvdXRwdXQ7XHJcblxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1lcmdlIHR3byBvYmplY3RzIHJlY3Vyc2l2ZWx5XHJcblx0ICogQHBhcmFtIG1peGVkIGlucHV0XHJcblx0ICogQHBhcmFtIG1peGVkIGV4dGVuZFxyXG5cdCAqIEByZXR1cm4gbWl4ZWRcclxuXHQgKi9cclxuXHJcblx0ZnVuY3Rpb24gbWVyZ2VfcmVjdXJzaXZlKGJhc2UsIGV4dGVuZCkge1xyXG5cclxuXHRcdGlmICh0eXBlT2YoYmFzZSkgIT09ICdvYmplY3QnKVxyXG5cclxuXHRcdFx0cmV0dXJuIGV4dGVuZDtcclxuXHJcblx0XHRmb3IgKHZhciBrZXkgaW4gZXh0ZW5kKSB7XHJcblxyXG5cdFx0XHRpZiAodHlwZU9mKGJhc2Vba2V5XSkgPT09ICdvYmplY3QnICYmIHR5cGVPZihleHRlbmRba2V5XSkgPT09ICdvYmplY3QnKSB7XHJcblxyXG5cdFx0XHRcdGJhc2Vba2V5XSA9IG1lcmdlX3JlY3Vyc2l2ZShiYXNlW2tleV0sIGV4dGVuZFtrZXldKTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdGJhc2Vba2V5XSA9IGV4dGVuZFtrZXldO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gYmFzZTtcclxuXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBNZXJnZSB0d28gb3IgbW9yZSBvYmplY3RzXHJcblx0ICogQHBhcmFtIGJvb2wgY2xvbmVcclxuXHQgKiBAcGFyYW0gYm9vbCByZWN1cnNpdmVcclxuXHQgKiBAcGFyYW0gYXJyYXkgYXJndlxyXG5cdCAqIEByZXR1cm4gb2JqZWN0XHJcblx0ICovXHJcblxyXG5cdGZ1bmN0aW9uIG1lcmdlKGNsb25lLCByZWN1cnNpdmUsIGFyZ3YpIHtcclxuXHJcblx0XHR2YXIgcmVzdWx0ID0gYXJndlswXSxcclxuXHRcdFx0c2l6ZSA9IGFyZ3YubGVuZ3RoO1xyXG5cclxuXHRcdGlmIChjbG9uZSB8fCB0eXBlT2YocmVzdWx0KSAhPT0gJ29iamVjdCcpXHJcblxyXG5cdFx0XHRyZXN1bHQgPSB7fTtcclxuXHJcblx0XHRmb3IgKHZhciBpbmRleD0wO2luZGV4PHNpemU7KytpbmRleCkge1xyXG5cclxuXHRcdFx0dmFyIGl0ZW0gPSBhcmd2W2luZGV4XSxcclxuXHJcblx0XHRcdFx0dHlwZSA9IHR5cGVPZihpdGVtKTtcclxuXHJcblx0XHRcdGlmICh0eXBlICE9PSAnb2JqZWN0JykgY29udGludWU7XHJcblxyXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gaXRlbSkge1xyXG5cclxuXHRcdFx0XHRpZiAoa2V5ID09PSAnX19wcm90b19fJykgY29udGludWU7XHJcblxyXG5cdFx0XHRcdHZhciBzaXRlbSA9IGNsb25lID8gUHVibGljLmNsb25lKGl0ZW1ba2V5XSkgOiBpdGVtW2tleV07XHJcblxyXG5cdFx0XHRcdGlmIChyZWN1cnNpdmUpIHtcclxuXHJcblx0XHRcdFx0XHRyZXN1bHRba2V5XSA9IG1lcmdlX3JlY3Vyc2l2ZShyZXN1bHRba2V5XSwgc2l0ZW0pO1xyXG5cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdHJlc3VsdFtrZXldID0gc2l0ZW07XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgdHlwZSBvZiB2YXJpYWJsZVxyXG5cdCAqIEBwYXJhbSBtaXhlZCBpbnB1dFxyXG5cdCAqIEByZXR1cm4gc3RyaW5nXHJcblx0ICpcclxuXHQgKiBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL3R5cGVvZnZhclxyXG5cdCAqL1xyXG5cclxuXHRmdW5jdGlvbiB0eXBlT2YoaW5wdXQpIHtcclxuXHJcblx0XHRyZXR1cm4gKHt9KS50b1N0cmluZy5jYWxsKGlucHV0KS5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKTtcclxuXHJcblx0fVxyXG5cclxuXHRpZiAoaXNOb2RlKSB7XHJcblxyXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBQdWJsaWM7XHJcblxyXG5cdH0gZWxzZSB7XHJcblxyXG5cdFx0d2luZG93W3B1YmxpY05hbWVdID0gUHVibGljO1xyXG5cclxuXHR9XHJcblxyXG59KSh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyk7IiwidmFyIGNoZWNrID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCAmJiBpdC5NYXRoID09IE1hdGggJiYgaXQ7XG59O1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxubW9kdWxlLmV4cG9ydHMgPVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgY2hlY2sodHlwZW9mIGdsb2JhbFRoaXMgPT0gJ29iamVjdCcgJiYgZ2xvYmFsVGhpcykgfHxcbiAgY2hlY2sodHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cpIHx8XG4gIGNoZWNrKHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYpIHx8XG4gIGNoZWNrKHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsKSB8fFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvbXBvbmVudC9pbmRleC5qc3gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuU3RhZENvbXBvbmVudERlZmF1bHRJbnB1dCBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcywgZGVmYXVsdENvbmZpZyA9IHt9KSB7XG5cbiAgICBzdXBlcihwcm9wcywge1xuICAgICAgY2hvaWNlczogW10sXG5cdFx0XHRuYW1lOiAnJyxcbiAgICAgIHBsYWNlaG9sZGVyOiAnJyxcbiAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSxcblx0XHR9LCBkZWZhdWx0Q29uZmlnKTtcblxuXHRcdGxldCBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuc3RhdGUgPSB7XG4gICAgICB2YWx1ZTogdHlwZW9mIHByb3BzLnZhbHVlICE9IHVuZGVmaW5lZCA/IHByb3BzLnZhbHVlIDogJycsXG4gICAgICBlcnJvcjogbnVsbCxcblx0XHR9O1xuXG4gICAgdGhpcy5vbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlO1xuXG4gIH1cblxuXHR2YWxpZGF0ZSh7IHNob3dFcnJvcnMgfSkge1xuXHRcdGxldCBpc1ZhbGlkID0gdGhpcy5jb25maWcucmVxdWlyZWQgPyAhIXRoaXMuc3RhdGUudmFsdWUgOiB0cnVlO1xuICAgIGxldCBlcnJvciA9ICcnO1xuICAgIGlmICghaXNWYWxpZCAmJiBzaG93RXJyb3JzKSBlcnJvciA9IHRydWU7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzVmFsaWQsIGVycm9yIH0pXG5cdFx0cmV0dXJuIGlzVmFsaWQ7XG5cdH1cblxuXHRoYW5kbGVPbkNoYW5nZShkYXRhKSB7XG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuICAgIGRhdGEgPSBkYXRhIHx8IHt9O1xuXHRcdHNlbGYuc2V0U3RhdGUoZGF0YSwgKCkgPT4ge1xuICAgICAgc2VsZi52YWxpZGF0ZSh7fSk7XG4gICAgfSlcblx0XHRpZiAodHlwZW9mIHNlbGYub25DaGFuZ2UgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0c2VsZi5vbkNoYW5nZSh7IG5hbWU6IHNlbGYuY29uZmlnLm5hbWUsIHZhbHVlOiBkYXRhLnZhbHVlIH0pO1xuXHRcdH1cblx0fVxuXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudERlZmF1bHRJbnB1dCBmcm9tICcuL2RlZmF1bHQtaW5wdXQuanN4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlblN0YWRDb21wb25lbnRTZWxlY3QgZXh0ZW5kcyBPcGVuU3RhZENvbXBvbmVudERlZmF1bHRJbnB1dCB7XG5cblx0cmVuZGVyKCkge1xuXG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuICAgIFxuICAgIHJldHVybiAoXG5cdFx0XHQ8aW5wdXQgdHlwZT1cImhpZGRlblwiIHZhbHVlPXt0aGlzLnN0YXRlLnZhbHVlfSBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH0gcGxhY2Vob2xkZXI9e3RoaXMuY29uZmlnLnBsYWNlaG9sZGVyfSBvbkNoYW5nZT17ZSA9PiBzZWxmLmhhbmRsZU9uQ2hhbmdlKHsgdmFsdWU6IHNlbGYuaW5wdXQudmFsdWUgfSl9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9Lz5cbiAgICApO1xuXG4gIH1cblxufVxuIiwiaW1wb3J0IHsgRmlsZVBvbmQsIHJlZ2lzdGVyUGx1Z2luIH0gZnJvbSBcInJlYWN0LWZpbGVwb25kXCI7XG4vLyBUT0RPOiBkaXQgZ2FhdCBtaXMgb21kYXQgd2VicGFjayBudSBnZWVuIGNzcyBsdXN0XG4vLyBpbXBvcnQgXCJmaWxlcG9uZC9kaXN0L2ZpbGVwb25kLm1pbi5jc3NcIjtcbi8vIG1vZXQgZmlsZXBvbmQtcG9seWZpbGwgb29rIG5vZz9cbmltcG9ydCBGaWxlcG9uZFBsdWdpbkltYWdlUHJldmlldyBmcm9tIFwiZmlsZXBvbmQtcGx1Z2luLWltYWdlLXByZXZpZXdcIjtcbmltcG9ydCBGaWxlcG9uZFBsdWdpbkZpbGVWYWxpZGF0ZVR5cGUgZnJvbSBcImZpbGVwb25kLXBsdWdpbi1maWxlLXZhbGlkYXRlLXR5cGVcIjtcbmltcG9ydCBGaWxlcG9uZFBsdWdpbkZpbGVWYWxpZGF0ZVNpemUgZnJvbSBcImZpbGVwb25kLXBsdWdpbi1maWxlLXZhbGlkYXRlLXNpemVcIjtcbmltcG9ydCBGaWxlcG9uZFBsdWdpbkZpbGVQb3N0ZXIgZnJvbSBcImZpbGVwb25kLXBsdWdpbi1maWxlLXBvc3RlclwiO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnREZWZhdWx0SW5wdXQgZnJvbSAnLi9kZWZhdWx0LWlucHV0LmpzeCc7XG5cbi8vIFJlZ2lzdGVyIHRoZSBwbHVnaW5zXG5yZWdpc3RlclBsdWdpbihGaWxlcG9uZFBsdWdpbkltYWdlUHJldmlldywgRmlsZXBvbmRQbHVnaW5GaWxlVmFsaWRhdGVUeXBlLCBGaWxlcG9uZFBsdWdpbkZpbGVWYWxpZGF0ZVNpemUsIEZpbGVwb25kUGx1Z2luRmlsZVBvc3Rlcik7XG5cbi8vIE91ciBhcHBcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlblN0YWRDb21wb25lbnRJbWFnZVVwbG9hZCBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50RGVmYXVsdElucHV0IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuXG4gICAgc3VwZXIocHJvcHMsIHtcbiAgICAgIG5hbWU6ICdpbWFnZScsXG4gICAgICBhbGxvd011bHRpcGxlOiBmYWxzZSxcblx0XHRcdGltYWdlc2VydmVyOiB7XG5cdFx0XHRcdHByb2Nlc3M6ICcvaW1hZ2UnLFxuXHRcdFx0XHRmZXRjaDogJy9pbWFnZSdcblx0XHRcdH0sXG4gICAgfSk7XG5cbiAgICB2YXIgdXBsb2FkZWRGaWxlcyA9IFtdO1xuICAgIGxldCB2YWx1ZSA9IHByb3BzLnZhbHVlIHx8IFtdO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgdmFsdWUgPSBbdmFsdWVdO1xuICAgIHZhbHVlLmZvckVhY2goKGltYWdlKSA9PiB7XG4gICAgICBsZXQgc3JjID0gdHlwZW9mIGltYWdlID09ICdvYmplY3QnID8gaW1hZ2Uuc3JjIDogaW1hZ2U7XG4gICAgICB1cGxvYWRlZEZpbGVzLnB1c2goe1xuICAgICAgICBzb3VyY2U6IHsgdXJsOiBzcmMgfSxcbiAgICAgICAgb3B0aW9ucyA6IHtcbiAgICAgICAgICB0eXBlOiAnbG9jYWwnLFxuICAgICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIG5hbWU6IHNyYyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBwb3N0ZXI6IHNyYyxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdXBsb2FkZWRGaWxlczogdXBsb2FkZWRGaWxlcyxcbiAgICB9XG5cbiAgfVxuXG4gIHZhbGlkYXRlKCkge1xuICAgIGxldCBpc1ZhbGlkID0gdHJ1ZTtcblx0XHRpZiAoIHRoaXMuaW1hZ2V1cGxvYWRlciAmJiB0aGlzLmltYWdldXBsb2FkZXIuZ2V0RmlsZXMgKSB7XG5cdFx0XHR2YXIgaW1hZ2VzID0gdGhpcy5pbWFnZXVwbG9hZGVyLmdldEZpbGVzKCk7XG5cdFx0XHRpbWFnZXMuZm9yRWFjaChmdW5jdGlvbihpbWFnZSkge1xuXHRcdFx0XHRpZiAoIWltYWdlLnNlcnZlcklkKSB7XG5cdFx0XHRcdFx0aXNWYWxpZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG4gICAgcmV0dXJuIGlzVmFsaWQ7XG4gIH1cblxuICBpbml0KCkge1xuICB9XG5cbiAgdXBkYXRlVXBsb2FkZWRGaWxlcyh7IGFkZEZpbGUsIHJlbW92ZUZpbGUsIG5leHQgfSkge1xuXHRcdGlmICggdGhpcy5pbWFnZXVwbG9hZGVyICYmIHRoaXMuaW1hZ2V1cGxvYWRlci5nZXRGaWxlcyApIHtcbiAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5pbWFnZXVwbG9hZGVyLmdldEZpbGVzKCk7XG4gICAgICBpZiAocmVtb3ZlRmlsZSkge1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5maWx0ZXIoZmlsZSA9PiBmaWxlLnNlcnZlcklkICE9IHJlbW92ZUZpbGUuc2VydmVySWQpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVwbG9hZGVkRmlsZXM6IGN1cnJlbnQubWFwKGZpbGVJdGVtID0+IGZpbGVJdGVtLmZpbGUpIH0sICgpID0+IHtcbiAgICAgICAgaWYgKG5leHQpIG5leHQoY3VycmVudCk7XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVZhbHVlKGZpbGVzKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGxldCB2YWx1ZSA9IFtdO1xuICAgIHZhciBhc0pzb24gPSBzZWxmLmNvbmZpZy5hcyAmJiBzZWxmLmNvbmZpZy5hcyA9PSAnanNvbic7XG5cdFx0ZmlsZXMuZm9yRWFjaCgoaW1hZ2UpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhciBzZXJ2ZXJJZCA9IHR5cGVvZiBpbWFnZS5zZXJ2ZXJJZCA9PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoaW1hZ2Uuc2VydmVySWQpIDogaW1hZ2Uuc2VydmVySWQ7XG5cdFx0XHRcdHZhbHVlLnB1c2goIGFzSnNvbiA/IHsgXCJzcmNcIjogc2VydmVySWQudXJsIH0gOiBzZXJ2ZXJJZC51cmwgIClcblx0XHRcdH0gY2F0Y2goZXJyKSB7IGNvbnNvbGUubG9nKGVycikgfVxuXHRcdH0pO1xuICAgIHNlbGYuaGFuZGxlT25DaGFuZ2Uoe25hbWU6IHNlbGYuY29uZmlnLm5hbWUsIHZhbHVlfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICByZXR1cm4gKFxuICAgIDxGaWxlUG9uZFxuXG4gICAgICByZWY9e3JlZiA9PiAodGhpcy5pbWFnZXVwbG9hZGVyID0gcmVmKX1cbiAgICAgIGZpbGVzPXt0aGlzLnN0YXRlLnVwbG9hZGVkRmlsZXN9XG5cbiAgICAgIG9uaW5pdD17c2VsZi5pbml0fVxuICAgICAgb25wcm9jZXNzZmlsZT17KCBlcnIsIGZpbGUgKSA9PiBzZWxmLnVwZGF0ZVVwbG9hZGVkRmlsZXMoeyBhZGRGaWxlOiBmaWxlLCBuZXh0OiBmaWxlcyA9PiBzZWxmLnVwZGF0ZVZhbHVlKGZpbGVzKSB9KX1cbiAgICAgIG9ucmVtb3ZlZmlsZT17KCBlcnIsIGZpbGUgKSA9PiBzZWxmLnVwZGF0ZVVwbG9hZGVkRmlsZXMoeyByZW1vdmVGaWxlOiBmaWxlLCBuZXh0OiBmaWxlcyA9PiBzZWxmLnVwZGF0ZVZhbHVlKGZpbGVzKSB9KX1cbiAgICAgICAgXG4gICAgICBuYW1lPXtzZWxmLmNvbmZpZy5uYW1lfVxuICAgICAgc2VydmVyPXt0aGlzLmNvbmZpZy5pbWFnZXNlcnZlci5wcm9jZXNzfVxuICAgICAgYWxsb3dNdWx0aXBsZT17dGhpcy5jb25maWcuYWxsb3dNdWx0aXBsZX1cbiAgICAgIFxuICAgICAgLy8gdG9kbzogbWFhayBkaXQgYWxsZW1hYWwgY29uZmlndXJhYmVsXG5cdFx0XHRhY2NlcHRlZEZpbGVUeXBlcz17WydpbWFnZS8qJ119XG5cdFx0XHRhbGxvd0ZpbGVTaXplVmFsaWRhdGlvbj1cInRydWVcIlxuICAgICAgYWxsb3dSZW9yZGVyPXt0cnVlfVxuICAgICAgc3R5bGVJdGVtUGFuZWxBc3BlY3RSYXRpbz1cIjFcIlxuXHRcdFx0bWF4RmlsZVNpemU9XCI4bWJcIlxuXHRcdFx0bWF4RmlsZXM9XCI1XCJcblx0XHRcdGFsbG93QnJvd3NlPVwidHJ1ZVwiXG5cdFx0XHRpbWFnZVJlc2l6ZVRhcmdldFdpZHRoPVwiODBcIlxuXHRcdFx0aW1hZ2VSZXNpemVUYXJnZXRIZWlnaHQ9XCI4MFwiXG5cdFx0XHRpbWFnZUNyb3BBc3BlY3RSYXRpbz1cIjE2OjlcIlxuXHRcdFx0bGFiZWxJZGxlPVwiU2xlZXAgYWZiZWVsZGluZyhlbikgbmFhciBkZXplIHBsZWsgb2YgPHNwYW4gY2xhc3M9J2ZpbGVwb25kLS1sYWJlbC1hY3Rpb24nPktMSUsgSElFUjwvc3Bhbj5cIlxuXHRcdFx0bGFiZWxJbnZhbGlkRmllbGQ9XCJGaWVsZCBjb250YWlucyBpbnZhbGlkIGZpbGVzXCJcblx0XHRcdGxhYmVsRmlsZVdhaXRpbmdGb3JTaXplPVwiV2FjaHRlbmQgb3AgZ3Jvb3R0ZVwiXG5cdFx0XHRsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlPVwiR3Jvb3R0ZSBuaWV0IGJlc2NoaWtiYWFyXCJcblx0XHRcdGxhYmVsRmlsZUNvdW50U2luZ3VsYXI9XCJCZXN0YW5kIGluIGxpanN0XCJcblx0XHRcdGxhYmVsRmlsZUNvdW50UGx1cmFsPVwiQmVzdGFuZGVuIGluIGxpanN0XCJcblx0XHRcdGxhYmVsRmlsZUxvYWRpbmc9XCJMYWRlblwiXG5cdFx0XHRsYWJlbEZpbGVBZGRlZD1cIlRvZWdldm9lZ2RcIlxuXHRcdFx0bGFiZWxGaWxlTG9hZEVycm9yPVwiRm91dCBiaWogaGV0IHVwbG9hZGVuXCJcblx0XHRcdGxhYmVsRmlsZVJlbW92ZWQ9XCJWZXJ3aWpkZXJkXCJcblx0XHRcdGxhYmVsRmlsZVJlbW92ZUVycm9yPVwiRm91dCBiaWogaGV0IHZlcndpamRlcmVuXCJcblx0XHRcdGxhYmVsRmlsZVByb2Nlc3Npbmc9XCJMYWRlblwiXG5cdFx0XHRsYWJlbEZpbGVQcm9jZXNzaW5nQ29tcGxldGU9XCJBZmJlZWxkaW5nIGdlbGFkZW5cIlxuXHRcdFx0bGFiZWxGaWxlUHJvY2Vzc2luZ0Fib3J0ZWQ9XCJVcGxvYWQgY2FuY2VsbGVkXCJcblx0XHRcdGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcj1cIkVycm9yIGR1cmluZyB1cGxvYWRcIlxuXHRcdFx0bGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yPVwiRXJyb3IgZHVyaW5nIHJldmVydFwiXG5cdFx0XHRsYWJlbFRhcFRvQ2FuY2VsPVwidGFwIHRvIGNhbmNlbFwiXG5cdFx0XHRsYWJlbFRhcFRvUmV0cnk9XCJ0YXAgdG8gcmV0cnlcIlxuXHRcdFx0bGFiZWxUYXBUb1VuZG89XCJ0YXAgdG8gdW5kb1wiXG5cdFx0XHRsYWJlbEJ1dHRvblJlbW92ZUl0ZW09XCJWZXJ3aWpkZXJlblwiXG5cdFx0XHRsYWJlbEJ1dHRvbkFib3J0SXRlbUxvYWQ9XCJBYm9ydFwiXG5cdFx0XHRsYWJlbEJ1dHRvblJldHJ5SXRlbUxvYWQ9XCJSZXRyeVwiXG5cdFx0XHRsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc9XCJWZXJ3aWpkZXJcIlxuXHRcdFx0bGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3Npbmc9XCJVbmRvXCJcblx0XHRcdGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZz1cIlJldHJ5XCJcblx0XHRcdGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW09XCJVcGxvYWRcIlxuXG4gICAgLz4pO1xuXG4gIH1cbn1cblxuXG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudCBmcm9tICcuLi8uLi9jb21wb25lbnQvaW5kZXguanN4JztcblxuLy8gVE9ETzogaXQgaXMgcHJvYmFibHkgbm90IG9rIHRvIHdyaXRlIHlvdXIgb3duIGh0bWwgZWRpdG9yLCBidXQgYWZ0ZXIgaW50ZXJncmF0aW5nIGNrZWRpdG9yIG9yIHJlYWN0LXJ0ZSB0aGUgYnVpbGQgd2FzIChtb3JlIHRoYW4pIHR3aWNlIGFzIGxhcmdlOyBhIGJldHR0ZXIgc29sdXRpb24gbXVzdCBiZSBwb3NzaWJsZVxuXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5TdGFkQ29tcG9uZW50SFRNTEFyZWEgZXh0ZW5kcyBPcGVuU3RhZENvbXBvbmVudCAge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHZhbHVlOiB0aGlzLnByb3BzLnZhbHVlLFxuXHQgIH07XG5cbiAgICB0aGlzLm9uS2V5VXB4ID0gdGhpcy5vbktleVVweC5iaW5kKHRoaXMpO1xuXG4gIH1cblxuXHRjb21wb25lbnREaWRNb3VudChwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIGxldCB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWU7XG4gICAgdmFsdWUgPSB0aGlzLmZpbHRlckhUTUwodmFsdWUpO1xuICAgIHRoaXMuaW5wdXQuaW5uZXJIVE1MID0gdmFsdWU7XG4gIH1cblxuICBmaWx0ZXJIVE1MKHZhbHVlKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC88KFxcLz9cXHMqKD86YSBbXj5dK3xhfGJ8aXxzdHJvbmd8ZW18cHxkaXZ8YnJ8dWx8bGkpXFxzKlxcLz8pPi9nLCBcIltbWyQxXV1dXCIpO1xuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvPFtePl0rPi9nLCBcIlwiKTtcbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcW1xcW1xcWyhbXlxcXV0rKVxcXVxcXVxcXS9nLCBcIjwkMT5cIik7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZXhlY3V0ZUFjdGlvbihlLCBjb21tYW5kLCBhcmdzKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZChjb21tYW5kLGZhbHNlLGFyZ3MpO1xuICAgIHRoaXMub25LZXlVcCgpO1xuICB9XG4gIFxuICBvbkZvY3VzKGUpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkZvY3VzKSB7XG4gICAgICB0aGlzLnByb3BzLm9uRm9jdXMoZSk7XG4gICAgfVxuICB9XG5cbiAgb25CbHVyKGUpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkJsdXIpIHtcbiAgICAgIHRoaXMucHJvcHMub25CbHVyKGUpO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7IHZhbHVlOiB0aGlzLnN0YXRlLnZhbHVlIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9uS2V5VXB4KCkge1xuICAgIGxldCB2YWx1ZSA9IHRoaXMuaW5wdXQuaW5uZXJIVE1MO1xuICAgIHZhbHVlID0gdGhpcy5maWx0ZXJIVE1MKHZhbHVlKTtcbiAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWUgfSlcbiAgICBpZiAodGhpcy5wcm9wcy5vbktleVVwKSB7XG4gICAgICB0aGlzLnByb3BzLm9uS2V5VXAodmFsdWUpO1xuICAgIH1cbiAgfVxuICBcbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtaHRtbC1lZGl0b3JcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtaHRtbC1lZGl0b3ItYnV0dG9uc1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLWh0bWwtZWRpdG9yLWJ1dHRvbiBvc2MtaHRtbC1lZGl0b3ItYnV0dG9uLWJvbGRcIiBvbk1vdXNlRG93bj17ZSA9PiB0aGlzLmV4ZWN1dGVBY3Rpb24oZSwgJ2JvbGQnKX0+Jm5ic3A7PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtaHRtbC1lZGl0b3ItYnV0dG9uIG9zYy1odG1sLWVkaXRvci1idXR0b24taXRhbGljXCIgb25Nb3VzZURvd249e2UgPT4gdGhpcy5leGVjdXRlQWN0aW9uKGUsICdpdGFsaWMnKX0+Jm5ic3A7PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtaHRtbC1lZGl0b3ItYnV0dG9uIG9zYy1odG1sLWVkaXRvci1idXR0b24taW5zZXJ0dW5vcmRlcmVkbGlzdFwiIG9uTW91c2VEb3duPXtlID0+IHRoaXMuZXhlY3V0ZUFjdGlvbihlLCAnaW5zZXJ0dW5vcmRlcmVkbGlzdCcpfT4mbmJzcDs8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1odG1sLWVkaXRvci1idXR0b24gb3NjLWh0bWwtZWRpdG9yLWJ1dHRvbi1jcmVhdGVsaW5rXCIgb25Nb3VzZURvd249e2UgPT4gdGhpcy5leGVjdXRlQWN0aW9uKGUsICdjcmVhdGVsaW5rJywgcHJvbXB0KCdMYW5rIG5hYXInLCdodHRwOi8vJykpfT4mbmJzcDs8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLWh0bWwtZWRpdG9yLWNvbnRlbnRcIiBjb250ZW50RWRpdGFibGU9e3RydWV9XG4gICAgICAgICAgICAgb25Gb2N1cz17IGUgPT4gdGhpcy5vbkZvY3VzKGUpfVxuICAgICAgICAgICAgIG9uQmx1cj17IGUgPT4gdGhpcy5vbkJsdXIoZSl9XG4gICAgICAgICAgICAgb25LZXlVcD17IGUgPT4gdGhpcy5vbktleVVweCgpfVxuICAgICAgICAgICAgIC8vIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogdGhpcy5zdGF0ZS52YWx1ZSB9fVxuICAgICAgICAgICAgIHJlZj17ZWwgPT4gKHRoaXMuaW5wdXQgPSBlbCl9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gRWRpdEJ1dHRvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGtleT17cHJvcHMuY21kfVxuICAgICAgb25Nb3VzZURvd249e2V2dCA9PiB7XG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBBdm9pZHMgbG9vc2luZyBmb2N1cyBmcm9tIHRoZSBlZGl0YWJsZSBhcmVhXG4gICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKHByb3BzLmNtZCwgZmFsc2UsIHByb3BzLmFyZyk7IC8vIFNlbmQgdGhlIGNvbW1hbmQgdG8gdGhlIGJyb3dzZXJcbiAgICAgIH19XG4gICAgPlxuICAgICAge3Byb3BzLm5hbWUgfHwgcHJvcHMuY21kfVxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vL2ltcG9ydCBDS0VkaXRvciBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXJlYWN0Jztcbi8vaW1wb3J0IENsYXNzaWNFZGl0b3IgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS1idWlsZC1jbGFzc2ljJztcbmltcG9ydCBIVE1MQXJlYSBmcm9tICcuL2h0bWxhcmVhLmpzeCc7XG5cbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudCBmcm9tICcuLi8uLi9jb21wb25lbnQvaW5kZXguanN4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybWZpZWxkSW5wdXRXaXRoQ291bnRlciBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuXG4gICAgc3VwZXIocHJvcHMsIHtcblx0XHRcdG5hbWU6ICd0ZWtzdCcsXG5cdFx0XHRpbnB1dFR5cGU6ICdpbnB1dCcsXG5cdFx0XHRtaW5MZW5ndGg6IDUsXG5cdFx0XHRtYXhMZW5ndGg6IDEwMjQsXG4gICAgICBwbGFjZWhvbGRlcjogJycsXG5cdFx0fSk7XG5cblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cdFx0c2VsZi5pZCA9IHByb3BzLmlkIHx8ICdvc2MtZm9ybWZpZWxkcy1wbGFpbnRleHQtd2l0aC1jb3VudGVyLScgKyBwYXJzZUludCggMTAwMDAwMCAqIE1hdGgucmFuZG9tKCkgKVxuXG4gICAgc2VsZi5zdGF0ZSA9IHtcblx0XHRcdGZvY3VzZWQ6IGZhbHNlLFxuICAgICAgdmFsdWU6IHByb3BzLnZhbHVlIHx8ICcnLFxuXHRcdFx0dmFsdWVMZW5ndGg6IHByb3BzLnZhbHVlICYmIHByb3BzLnZhbHVlLmxlbmd0aCB8fCAwLFxuXHRcdH07XG5cbiAgICBzZWxmLmtleSA9IHByb3BzLnVzZUtleSB8fCAoIHNlbGYuaWQgfHwgJ29zYy1pbnB1dC13aXRoLWNvdW50ZXItJyApICsgcGFyc2VJbnQoIDEwMDAwMDAwICogTWF0aC5yYW5kb20gKTtcblxuICAgIHRoaXMub25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZTtcblxuICAgIHNlbGYuaGFuZGxlT25DaGFuZ2UgPSBzZWxmLmhhbmRsZU9uQ2hhbmdlLmJpbmQodGhpcylcbiAgICBzZWxmLm9uSW5wdXRGb2N1cyA9IHNlbGYub25JbnB1dEZvY3VzLmJpbmQodGhpcylcbiAgICBzZWxmLm9uSW5wdXRCbHVyID0gc2VsZi5vbklucHV0Qmx1ci5iaW5kKHRoaXMpXG4gICAgc2VsZi5vbklucHV0S2V5VXAgPSBzZWxmLm9uSW5wdXRLZXlVcC5iaW5kKHRoaXMpXG5cbiAgfVxuXG5cdGlzVmFsaWQoKSB7XG5cdFx0bGV0IHN0YXRlID0ge307XG5cdFx0c3RhdGUuaXNWYWxpZCA9IHRydWU7XG5cdFx0c3RhdGUud2FybmluZyA9IG51bGw7XG5cdFx0aWYgKHRoaXMuc3RhdGUudmFsdWVMZW5ndGggPCB0aGlzLmNvbmZpZy5taW5MZW5ndGgpIHtcblx0XHRcdHN0YXRlLndhcm5pbmcgPSBgRGUgdGVrc3QgaXMgdGUga29ydGA7XG5cdFx0XHRzdGF0ZS5pc1ZhbGlkID0gZmFsc2U7XG5cdFx0fVxuXHRcdGlmICh0aGlzLnN0YXRlLnZhbHVlTGVuZ3RoID4gdGhpcy5jb25maWcubWF4TGVuZ3RoKSB7XG5cdFx0XHRzdGF0ZS53YXJuaW5nID0gYERlIHRla3N0IGlzIHRlIGxhbmdgO1xuXHRcdFx0c3RhdGUuaXNWYWxpZCA9IGZhbHNlO1xuXHRcdH1cblx0XHR0aGlzLnNldFN0YXRlKHN0YXRlKVxuXHRcdHJldHVybiBzdGF0ZS5pc1ZhbGlkO1xuICB9XG5cblx0dmFsaWRhdGUoKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7IHNob3dXYXJuaW5nOiB0cnVlIH0pXG5cdFx0cmV0dXJuIHRoaXMuaXNWYWxpZCgpO1xuXHR9XG4gIFxuXHRoYW5kbGVPbkNoYW5nZShkYXRhKSB7XG4gICAgZGF0YSA9IGRhdGEgfHwge307XG5cdFx0dGhpcy5zZXRTdGF0ZShkYXRhKVxuXHRcdGlmICh0eXBlb2YgdGhpcy5vbkNoYW5nZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHR0aGlzLm9uQ2hhbmdlKHsgbmFtZTogdGhpcy5jb25maWcubmFtZSwgdmFsdWU6IGRhdGEudmFsdWUgfSk7XG5cdFx0fVxuXHR9XG5cblx0b25JbnB1dEZvY3VzKCkge1xuXHRcdGxldCBzdGF0ZSA9IHt9O1xuXHRcdHN0YXRlLmZvY3VzZWQgPSB0cnVlO1xuXHRcdHN0YXRlLnNob3dXYXJuaW5nID0gZmFsc2U7XG5cdFx0dGhpcy5zZXRTdGF0ZShzdGF0ZSlcblx0fVxuXG5cdG9uSW5wdXRCbHVyKCkge1xuXHRcdGxldCBzdGF0ZSA9IHt9O1xuXHRcdHN0YXRlLmZvY3VzZWQgPSBmYWxzZTtcblx0XHR0aGlzLnNldFN0YXRlKHN0YXRlKVxuXHR9XG5cblx0b25JbnB1dEtleVVwKHZhbHVlKSB7XG5cdFx0bGV0IHN0YXRlID0ge307XG5cdFx0c3RhdGUudmFsdWUgPSB2YWx1ZSB8fCB0aGlzLmlucHV0LnZhbHVlO1xuXHRcdGxldCB2YWx1ZUxlbmd0aCA9IHN0YXRlLnZhbHVlLmxlbmd0aDtcblx0XHRzdGF0ZS52YWx1ZUxlbmd0aCA9IHZhbHVlTGVuZ3RoO1xuXHRcdHN0YXRlLmlzVmFsaWQgPSB2YWx1ZUxlbmd0aCA+PSB0aGlzLmNvbmZpZy5taW5MZW5ndGggJiYgdmFsdWVMZW5ndGggPD0gdGhpcy5jb25maWcubWF4TGVuZ3RoO1xuXHRcdHRoaXMuc2V0U3RhdGUoc3RhdGUpXG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cblx0XHRsZXQgY291bnRlciA9IG51bGw7XG5cdFx0bGV0IHdhcm5pbmcgPSBudWxsO1xuXHRcdGlmIChzZWxmLnN0YXRlLmZvY3VzZWQpIHtcblx0XHRcdGlmIChzZWxmLnN0YXRlLnZhbHVlTGVuZ3RoIDwgc2VsZi5jb25maWcubWluTGVuZ3RoKSB7XG5cdFx0XHRcdGNvdW50ZXIgPSAoPGRpdiBjbGFzc05hbWU9XCJvc2MtZm9ybS1jb3VudGVyIG9zYy1mb3JtLWVycm9yXCI+Tm9nIG1pbmltYWFsIDxzcGFuIGNsYXNzTmFtZT1cIlwiPntzZWxmLmNvbmZpZy5taW5MZW5ndGggLSBzZWxmLnN0YXRlLnZhbHVlTGVuZ3RofTwvc3Bhbj4gdGVrZW5zPC9kaXY+KVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bGV0IGVycm9yID0gc2VsZi5zdGF0ZS52YWx1ZUxlbmd0aCA+IHNlbGYuY29uZmlnLm1heExlbmd0aCA/ICdvc2MtZm9ybS1lcnJvcicgOiAnJztcblx0XHRcdFx0Y291bnRlciA9ICg8ZGl2IGNsYXNzTmFtZT17J29zYy1mb3JtLWNvdW50ZXIgJyArIGVycm9yfT5KZSBoZWJ0IG5vZyA8c3BhbiBjbGFzc05hbWU9XCJcIj57c2VsZi5jb25maWcubWF4TGVuZ3RoIC0gc2VsZi5zdGF0ZS52YWx1ZUxlbmd0aH08L3NwYW4+IHRla2VucyBvdmVyLjwvZGl2Pilcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoc2VsZi5zdGF0ZS5zaG93V2FybmluZyAmJiBzZWxmLnN0YXRlLndhcm5pbmcpIHtcblx0XHRcdHdhcm5pbmcgPSAoPGRpdiBjbGFzc05hbWU9XCJvc2MtZm9ybS13YXJuaW5nXCIgcmVmPXsgZWwgPT4gdGhpc1snZm9ybS13YXJuaW5nJ10gPSBlbCAgfT57c2VsZi5zdGF0ZS53YXJuaW5nfTwvZGl2Pilcblx0XHR9XG5cbiAgICBsZXQgaW5wdXRIVE1MID0gbnVsbDtcblxuICAgIHN3aXRjaChzZWxmLmNvbmZpZy5pbnB1dFR5cGUpIHtcbiAgICAgICAgXG4gICAgICBjYXNlICdodG1sYXJlYSc6XG4gICAgICAgIGlucHV0SFRNTCA9IChcbiAgICAgICAgICA8SFRNTEFyZWFcbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnZhbHVlfVxuICAgICAgICAgICAgb25DaGFuZ2U9e3NlbGYuaGFuZGxlT25DaGFuZ2V9XG4gICAgICAgICAgICBvbkZvY3VzPXtzZWxmLm9uSW5wdXRGb2N1c31cbiAgICAgICAgICAgIG9uQmx1cj17c2VsZi5vbklucHV0Qmx1cn1cbiAgICAgICAgICAgIG9uS2V5VXA9e3NlbGYub25JbnB1dEtleVVwfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICAgIC8vIGlucHV0SFRNTCA9IChcbiAgICAgICAgLy8gICA8Q0tFZGl0b3JcbiAgICAgICAgLy8gICAgIGVkaXRvcj17IENsYXNzaWNFZGl0b3IgfVxuICAgICAgICAvLyAgICAgY29uZmlnPXt7IHRvb2xiYXI6IFsgJ2gzJywgJ2JvbGQnLCAnaXRhbGljJywgJ2xpbmsnIF0gfX1cbiAgICAgICAgLy8gICAgIGRhdGE9e3RoaXMuc3RhdGUudmFsdWV9XG4gICAgICAgIC8vICAgICBvbkluaXQ9eyBlZGl0b3IgPT4ge1xuICAgICAgICAvLyAgICAgICAvLyBUT0RPOiBiZXRlcmUgc2VsZWN0b3JcbiAgICAgICAgLy8gICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNrLWNvbnRlbnQnKS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy8gICAgICAgICBzZWxmLm9uSW5wdXRLZXlVcChlLCBlZGl0b3IuZ2V0RGF0YSgpKVxuICAgICAgICAvLyAgICAgICB9KVxuICAgICAgICAvLyAgICAgfX1cbiAgICAgICAgLy8gICAgIG9uQ2hhbmdlPXsoIGV2ZW50LCBlZGl0b3IgKSA9PiBzZWxmLmhhbmRsZU9uQ2hhbmdlKHsgdmFsdWU6IGVkaXRvci5nZXREYXRhKCkgfSl9XG4gICAgICAgIC8vICAgICBvbkZvY3VzPXtlID0+IHNlbGYub25JbnB1dEZvY3VzKGUpfVxuICAgICAgICAvLyAgICAgb25CbHVyPXtlID0+IHNlbGYub25JbnB1dEJsdXIoZSl9XG4gICAgICAgIC8vICAgLz5cbiAgICAgICAgLy8gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgICBpbnB1dEhUTUwgPSAoXG5cdFx0XHRcdCAgPHRleHRhcmVhIGtleT17c2VsZi5rZXl9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9IHZhbHVlPXt0aGlzLnN0YXRlLnZhbHVlfSBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH0gcGxhY2Vob2xkZXI9e3RoaXMuY29uZmlnLnBsYWNlaG9sZGVyfSBvbkNoYW5nZT17ZSA9PiBzZWxmLmhhbmRsZU9uQ2hhbmdlKHsgdmFsdWU6IHNlbGYuaW5wdXQudmFsdWUgfSl9IG9uS2V5VXA9e2UgPT4gc2VsZi5vbklucHV0S2V5VXAoKX0gb25Gb2N1cz17ZSA9PiBzZWxmLm9uSW5wdXRGb2N1cyhlKX0gb25CbHVyPXtlID0+IHNlbGYub25JbnB1dEJsdXIoZSl9PjwvdGV4dGFyZWE+XG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdpbnB1dCc6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpbnB1dEhUTUwgPSAoXG5cdFx0XHRcdCAgPGlucHV0IGtleT17c2VsZi5rZXl9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9IHZhbHVlPXt0aGlzLnN0YXRlLnZhbHVlfSBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH0gcGxhY2Vob2xkZXI9e3RoaXMuY29uZmlnLnBsYWNlaG9sZGVyfSBvbkNoYW5nZT17ZSA9PiBzZWxmLmhhbmRsZU9uQ2hhbmdlKHsgdmFsdWU6IHNlbGYuaW5wdXQudmFsdWUgfSl9IG9uS2V5VXA9e2UgPT4gc2VsZi5vbklucHV0S2V5VXAoKX0gb25Gb2N1cz17ZSA9PiBzZWxmLm9uSW5wdXRGb2N1cyhlKX0gb25CbHVyPXtlID0+IHNlbGYub25JbnB1dEJsdXIoZSl9PjwvaW5wdXQ+XG4gICAgICAgICk7XG5cbiAgICB9XG5cdFx0XG4gICAgcmV0dXJuIChcblx0XHRcdDxkaXYgaWQ9e3NlbGYuaWR9IHJlZj17ZWwgPT4gKHNlbGYuaW5zdGFuY2UgPSBlbCl9IGNsYXNzTmFtZT1cIm9zYy1pbnB1dC13aXRoLWNvdW50ZXJcIj5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJvc2MtZm9ybS1mZWVkYmFja1wiPlxuXHRcdFx0XHRcdHtpbnB1dEhUTUx9XG5cdFx0XHRcdFx0e2NvdW50ZXJ9XG5cdFx0XHRcdFx0e3dhcm5pbmd9XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG4gICAgKTtcblxuICB9XG5cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50RGVmYXVsdElucHV0IGZyb20gJy4vZGVmYXVsdC1pbnB1dC5qc3gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuU3RhZENvbXBvbmVudFJhZGlvcyBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50RGVmYXVsdElucHV0IHtcblxuXHRyZW5kZXIoKSB7XG5cblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBsZXQgZXJyb3JIVE1MID0gbnVsbDtcbiAgICBpZiAoc2VsZi5zdGF0ZS5lcnJvcikge1xuICAgICAgZXJyb3JIVE1MID0gKDxkaXYgY2xhc3NOYW1lPVwib3NjLWZvcm0tZXJyb3Igb3NjLWZvcm0tZmllbGQtZXJyb3JcIj5KZSBoZWJ0IG5vZyBnZWVuIGtldXplIGdlbWFha3Q8L2Rpdj4pXG4gICAgfVxuXG4gICAgcmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwib3NjLXJhZGlvc1wiPlxuICAgICAgICB7c2VsZi5jb25maWcuY2hvaWNlcy5tYXAoIGNob2ljZSA9PiB7XG4gICAgICAgICAgaWYgKGNob2ljZS5kYW5nZXJvdXNEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwib3NjLXJhZGlvLWNvbnRhaW5lclwiIGtleT17Y2hvaWNlLnZhbHVlfT48ZGl2IGNsYXNzTmFtZT17YG9zYy1yYWRpby1pbnB1dCR7IHNlbGYuc3RhdGUudmFsdWUgPT0gY2hvaWNlLnZhbHVlID8gJyBvc2MtcmFkaW8taW5wdXQtY2hlY2tlZCcgOiAnJ31gfT48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT17c2VsZi5kaXZJZH0gdmFsdWU9e2Nob2ljZS52YWx1ZX0gb25DaGFuZ2U9e2UgPT4gc2VsZi5oYW5kbGVPbkNoYW5nZSh7IHZhbHVlOiBjaG9pY2UudmFsdWUgfSl9IC8+PC9kaXY+PGRpdiBjbGFzc05hbWU9XCJvc2MtcmFkaW8tdGV4dFwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogY2hvaWNlLmRhbmdlcm91c0Rlc2NyaXB0aW9uIH19Lz48L2Rpdj5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwib3NjLXJhZGlvLWNvbnRhaW5lclwiIGtleT17Y2hvaWNlLnZhbHVlfT48ZGl2IGNsYXNzTmFtZT17YG9zYy1yYWRpby1pbnB1dCR7IHNlbGYuc3RhdGUudmFsdWUgPT0gY2hvaWNlLnZhbHVlID8gJyBvc2MtcmFkaW8taW5wdXQtY2hlY2tlZCcgOiAnJ31gfT48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT17c2VsZi5kaXZJZH0gdmFsdWU9e2Nob2ljZS52YWx1ZX0gb25DaGFuZ2U9e2UgPT4gc2VsZi5oYW5kbGVPbkNoYW5nZSh7IHZhbHVlOiBjaG9pY2UudmFsdWUgfSl9IC8+PC9kaXY+PGRpdiBjbGFzc05hbWU9XCJvc2MtcmFkaW8tdGV4dFwiPntjaG9pY2UuZGFuZ2Vyb3VzRGVzY3JpcHRpb24gPyBudWxsIDogY2hvaWNlLmRlc2NyaXB0aW9uIHx8IGNob2ljZS50aXRsZSB8fCBjaG9pY2UudmFsdWV9PC9kaXY+PC9kaXY+XG4gICAgICAgICAgfVxuICAgICAgICB9KX1cbiAgICAgICAge2Vycm9ySFRNTH1cblx0XHQgIDwvZGl2PlxuICAgICk7XG5cbiAgfVxuXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudERlZmF1bHRJbnB1dCBmcm9tICcuL2RlZmF1bHQtaW5wdXQuanN4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlblN0YWRDb21wb25lbnRQb3N0Y29kZSBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50RGVmYXVsdElucHV0IHtcblxuXHR2YWxpZGF0ZSh7IHNob3dFcnJvcnMgfSkge1xuXHRcdGxldCBpc1ZhbGlkID0gdHJ1ZTtcbiAgICBsZXQgZXJyb3IgPSAnJztcbiAgICBpZiAoIXRoaXMuc3RhdGUudmFsdWUgfHwgIXRoaXMuc3RhdGUudmFsdWUubWF0Y2goL15cXHMqXFxkezR9XFxzKlthLXpBLVpdW2EtekEtWl1cXHMqJC8pKSB7XG4gICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICBpZiAoc2hvd0Vycm9ycykgZXJyb3IgPSAnRGl0IGlzIGdlZW4gcG9zdGNvZGUnO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb25maWcucmVxdWlyZWQgJiYgIXRoaXMuc3RhdGUudmFsdWUpIHtcbiAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgIGlmIChzaG93RXJyb3JzKSBlcnJvciA9ICdKZSBoZWJ0IG5vZyBuaWV0cyBpbmdldnVsZCc7XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc1ZhbGlkLCBlcnJvciB9KVxuXG5cdFx0cmV0dXJuIGlzVmFsaWQ7XG5cdH1cbiAgXG4gIHJlbmRlcigpIHtcblxuXHRcdGxldCBzZWxmID0gdGhpcztcblxuICAgIGxldCBlcnJvckhUTUwgPSBudWxsO1xuICAgIGlmIChzZWxmLnN0YXRlLmVycm9yKSB7XG4gICAgICBlcnJvckhUTUwgPSAoPGRpdiBjbGFzc05hbWU9XCJvc2MtZm9ybS1lcnJvciBvc2MtZm9ybS1maWVsZC1lcnJvclwiPntzZWxmLnN0YXRlLmVycm9yfTwvZGl2PilcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwib3NjLXRleHRpbnB1dFwiPlxuXHRcdFx0ICA8aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT17dGhpcy5zdGF0ZS52YWx1ZX0gZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9IHBsYWNlaG9sZGVyPXt0aGlzLmNvbmZpZy5wbGFjZWhvbGRlcn0gb25DaGFuZ2U9e2UgPT4gc2VsZi5oYW5kbGVPbkNoYW5nZSh7IHZhbHVlOiBzZWxmLmlucHV0LnZhbHVlIH0pfSByZWY9e2VsID0+IChzZWxmLmlucHV0ID0gZWwpfS8+XG4gICAgICAgIHtlcnJvckhUTUx9XG5cdFx0ICA8L2Rpdj5cbiAgICApO1xuXG4gIH1cblxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnREZWZhdWx0SW5wdXQgZnJvbSAnLi9kZWZhdWx0LWlucHV0LmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5TdGFkQ29tcG9uZW50U2VsZWN0IGV4dGVuZHMgT3BlblN0YWRDb21wb25lbnREZWZhdWx0SW5wdXQge1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIGluaXQgdmFsdWVcbiAgICBsZXQgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlIHx8ICggdGhpcy5jb25maWcuY2hvaWNlc1swXSAmJiB0aGlzLmNvbmZpZy5jaG9pY2VzWzBdLnZhbHVlICk7XG4gICAgdGhpcy5oYW5kbGVPbkNoYW5nZSh7IHZhbHVlIH0pXG4gIH1cblxuXHRyZW5kZXIoKSB7XG5cblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBsZXQgZXJyb3JIVE1MID0gbnVsbDtcbiAgICBpZiAoc2VsZi5zdGF0ZS5lcnJvcikge1xuICAgICAgZXJyb3JIVE1MID0gKDxkaXYgY2xhc3NOYW1lPVwib3NjLWZvcm0tZXJyb3Igb3NjLWZvcm0tZmllbGQtZXJyb3JcIj5KZSBoZWJ0IG5vZyBnZWVuIGtldXplIGdlbWFha3Q8L2Rpdj4pXG4gICAgfVxuXG4gICAgcmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwib3NjLXNlbGVjdFwiPlxuXHRcdFx0ICA8c2VsZWN0IHZhbHVlPXt0aGlzLnN0YXRlLnZhbHVlIHx8ICcnfSBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH0gcGxhY2Vob2xkZXI9e3RoaXMuY29uZmlnLnBsYWNlaG9sZGVyfSBvbkNoYW5nZT17ZSA9PiBzZWxmLmhhbmRsZU9uQ2hhbmdlKHsgdmFsdWU6IHNlbGYuaW5wdXQudmFsdWUgfSl9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9PlxuICAgICAgICAgIHtzZWxmLmNvbmZpZy5jaG9pY2VzLm1hcCggKGNob2ljZSwgaSkgPT4ge1xuICAgICAgICAgICAgbGV0IHRleHQgPSBjaG9pY2UuZGVzY3JpcHRpb24gfHwgY2hvaWNlLnRpdGxlIHx8IGNob2ljZS52YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiA8b3B0aW9uIHZhbHVlPXtjaG9pY2UudmFsdWUgfHwgJyd9IGtleT17YCR7dGV4dH0tJHtjaG9pY2UudmFsdWV9LSR7aX1gfT57dGV4dH08L29wdGlvbj5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIHtlcnJvckhUTUx9XG5cdFx0ICA8L2Rpdj5cbiAgICApO1xuXG4gIH1cblxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnREZWZhdWx0SW5wdXQgZnJvbSAnLi9kZWZhdWx0LWlucHV0LmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5TdGFkQ29tcG9uZW50VGV4dCBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50RGVmYXVsdElucHV0IHtcblxuXHRyZW5kZXIoKSB7XG5cblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBsZXQgZXJyb3JIVE1MID0gbnVsbDtcbiAgICBpZiAoc2VsZi5zdGF0ZS5lcnJvcikge1xuICAgICAgZXJyb3JIVE1MID0gKDxkaXYgY2xhc3NOYW1lPVwib3NjLWZvcm0tZXJyb3Igb3NjLWZvcm0tZmllbGQtZXJyb3JcIj5KZSBoZWJ0IG5vZyBuaWV0cyBpbmdldnVsZDwvZGl2PilcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwib3NjLXRleHRpbnB1dFwiPlxuXHRcdFx0ICA8aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT17dGhpcy5zdGF0ZS52YWx1ZX0gZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9IHBsYWNlaG9sZGVyPXt0aGlzLmNvbmZpZy5wbGFjZWhvbGRlcn0gb25DaGFuZ2U9e2UgPT4gc2VsZi5oYW5kbGVPbkNoYW5nZSh7IHZhbHVlOiBzZWxmLmlucHV0LnZhbHVlIH0pfSByZWY9e2VsID0+IChzZWxmLmlucHV0ID0gZWwpfS8+XG4gICAgICAgIHtlcnJvckhUTUx9XG5cdFx0ICA8L2Rpdj5cbiAgICApO1xuXG4gIH1cblxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnREZWZhdWx0SW5wdXQgZnJvbSAnLi9kZWZhdWx0LWlucHV0LmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5TdGFkQ29tcG9uZW50VGV4dEFyZWEgZXh0ZW5kcyBPcGVuU3RhZENvbXBvbmVudERlZmF1bHRJbnB1dCB7XG5cblx0cmVuZGVyKCkge1xuXG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgbGV0IGVycm9ySFRNTCA9IG51bGw7XG4gICAgaWYgKHNlbGYuc3RhdGUuZXJyb3IpIHtcbiAgICAgIGVycm9ySFRNTCA9ICg8ZGl2IGNsYXNzTmFtZT1cIm9zYy1mb3JtLWVycm9yIG9zYy1mb3JtLWZpZWxkLWVycm9yXCI+SmUgaGVidCBub2cgbmlldHMgaW5nZXZ1bGQ8L2Rpdj4pXG4gICAgfVxuICAgIFxuICAgIHJldHVybiAoXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cIm9zYy10ZXh0YXJlYVwiPlxuXHRcdFx0ICA8dGV4dGFyZWEgdmFsdWU9e3RoaXMuc3RhdGUudmFsdWV9IGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfSBwbGFjZWhvbGRlcj17dGhpcy5jb25maWcucGxhY2Vob2xkZXJ9IG9uQ2hhbmdlPXtlID0+IHNlbGYuaGFuZGxlT25DaGFuZ2UoeyB2YWx1ZTogc2VsZi5pbnB1dC52YWx1ZSB9KX0gcmVmPXtlbCA9PiAoc2VsZi5pbnB1dCA9IGVsKX0+e3RoaXMuc3RhdGUudmFsdWV9PC90ZXh0YXJlYT5cbiAgICAgICAge2Vycm9ySFRNTH1cblx0XHQgIDwvZGl2PlxuICAgICk7XG5cbiAgfVxuXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudCBmcm9tICcuLi8uLi9jb21wb25lbnQvaW5kZXguanN4JztcblxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50SGlkZGVuIGZyb20gJy4vaGlkZGVuLmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRJbWFnZVVwbG9hZCBmcm9tICcuL2ltYWdlLXVwbG9hZC5qc3gnO1xuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50SW5wdXRXaXRoQ291bnRlciBmcm9tICcuL2lucHV0LXdpdGgtY291bnRlci5qc3gnO1xuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50UmFkaW9zIGZyb20gJy4vcmFkaW9zLmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRQb3N0Y29kZSBmcm9tICcuL3Bvc3Rjb2RlLmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRTZWxlY3QgZnJvbSAnLi9zZWxlY3QuanN4JztcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudFRleHQgZnJvbSAnLi90ZXh0aW5wdXQuanN4JztcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudFRleHRBcmVhIGZyb20gJy4vdGV4dGFyZWEuanN4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlblN0YWRDb21wb25lbnRGb3JtRmllbGQgZXh0ZW5kcyBPcGVuU3RhZENvbXBvbmVudCB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcblxuICAgIHN1cGVyKHByb3BzLCB7XG4gICAgICBpbnB1dFR5cGU6IG51bGwsXG5cbiAgICAgIHZhbGlkYXRlQWN0aW9uOiBudWxsLFxuICAgICAgY2hhbmdlQWN0aW9uOiBudWxsLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogbnVsbCxcbiAgICAgIGRlc2NyaXB0aW9uOiBudWxsLFxuICAgICAgY2hvaWNlczogW10sXG5cdFx0fSk7XG5cblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLmNvbmZpZy5uYW1lID0gc2VsZi5jb25maWcubmFtZSB8fCBzZWxmLmNvbmZpZy50aXRsZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgc2VsZi5zdGF0ZSA9IHtcbiAgICAgIHZhbHVlOiBwcm9wcy5pbml0VmFsdWUgfHwgdW5kZWZpbmVkLFxuXHRcdH07XG5cbiAgICBzZWxmLmhhbmRsZU9uQ2hhbmdlID0gc2VsZi5oYW5kbGVPbkNoYW5nZS5iaW5kKHNlbGYpO1xuXG4gICAgc2VsZi5vbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlO1xuXG4gIH1cbiAgXG5cdHZhbGlkYXRlKHsgc2hvd0Vycm9ycyB9KSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXQgPyB0aGlzLmlucHV0LnZhbGlkYXRlKHsgc2hvd0Vycm9ycyB9KSA6IHRydWU7XG5cdH1cblxuXHRoYW5kbGVPbkNoYW5nZShkYXRhKSB7XG4gICAgLy8gY29uc29sZS5sb2coXCJmb3JtIGZpZWxkIGNoYW5nZVwiLCBkYXRhKTtcblx0XHRpZiAodHlwZW9mIHRoaXMub25DaGFuZ2UgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0dGhpcy5vbkNoYW5nZShkYXRhKTtcblx0XHR9XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBsZXQgdGl0bGVIVE1MID0gbnVsbDtcbiAgICBpZiAoc2VsZi5jb25maWcudGl0bGUpIHtcbiAgICAgIHRpdGxlSFRNTCA9IDxoMyBjbGFzc05hbWU9XCJvc2MtZm9ybS10aXRsZVwiPntzZWxmLmNvbmZpZy50aXRsZX08L2gzPlxuICAgIH1cblxuICAgIGxldCBkZXNjcmlwdGlvbkhUTUwgPSBudWxsO1xuICAgIGlmIChzZWxmLmNvbmZpZy5kZXNjcmlwdGlvbikge1xuICAgICAgZGVzY3JpcHRpb25IVE1MID0gPGRpdiBjbGFzc05hbWU9XCJvc2MtZm9ybS1kZXNjcmlwdGlvblwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogc2VsZi5jb25maWcuZGVzY3JpcHRpb24gfX0+PC9kaXY+XG4gICAgfVxuXG4gICAgbGV0IGZpZWxkSFRNTCA9IG51bGw7XG5cbiAgICBzd2l0Y2ggKHNlbGYuY29uZmlnLmlucHV0VHlwZSkge1xuXG4gICAgICBjYXNlICdoaWRkZW4nOlxuICAgICAgICBmaWVsZEhUTUwgPSA8T3BlblN0YWRDb21wb25lbnRIaWRkZW4gY29uZmlnPXtzZWxmLmNvbmZpZ30gdmFsdWU9eyB0aGlzLnN0YXRlLnZhbHVlIH0gb25DaGFuZ2U9e3NlbGYuaGFuZGxlT25DaGFuZ2V9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9Lz5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2h0bWwtd2l0aC1jb3VudGVyJzpcbiAgICAgIGNhc2UgJ2h0bWxhcmVhLXdpdGgtY291bnRlcic6XG4gICAgICAgIGZpZWxkSFRNTCA9IDxPcGVuU3RhZENvbXBvbmVudElucHV0V2l0aENvdW50ZXIgY29uZmlnPXt7IC4uLnNlbGYuY29uZmlnLCBpbnB1dFR5cGU6ICdodG1sYXJlYScgfX0gdmFsdWU9eyB0aGlzLnN0YXRlLnZhbHVlIH0gb25DaGFuZ2U9e3NlbGYuaGFuZGxlT25DaGFuZ2V9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9Lz5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2ltYWdlLXVwbG9hZCc6XG4gICAgICAgIGZpZWxkSFRNTCA9IDxPcGVuU3RhZENvbXBvbmVudEltYWdlVXBsb2FkIGNvbmZpZz17c2VsZi5jb25maWd9IHZhbHVlPXsgdGhpcy5zdGF0ZS52YWx1ZSB9IG9uQ2hhbmdlPXtzZWxmLmhhbmRsZU9uQ2hhbmdlfSByZWY9e2VsID0+IChzZWxmLmlucHV0ID0gZWwpfS8+XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdpbnB1dC13aXRoLWNvdW50ZXInOlxuICAgICAgY2FzZSAndGV4dC13aXRoLWNvdW50ZXInOlxuICAgICAgICBmaWVsZEhUTUwgPSA8T3BlblN0YWRDb21wb25lbnRJbnB1dFdpdGhDb3VudGVyIGNvbmZpZz17eyBpbnB1dFR5cGU6ICdpbnB1dCcsIC4uLnNlbGYuY29uZmlnIH19IHZhbHVlPXsgdGhpcy5zdGF0ZS52YWx1ZSB9IG9uQ2hhbmdlPXtzZWxmLmhhbmRsZU9uQ2hhbmdlfSByZWY9e2VsID0+IChzZWxmLmlucHV0ID0gZWwpfS8+XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdwb3N0Y29kZSc6XG4gICAgICAgIGZpZWxkSFRNTCA9IDxPcGVuU3RhZENvbXBvbmVudFBvc3Rjb2RlIGNvbmZpZz17c2VsZi5jb25maWd9IHZhbHVlPXsgdGhpcy5zdGF0ZS52YWx1ZSB9IG9uQ2hhbmdlPXtzZWxmLmhhbmRsZU9uQ2hhbmdlfSByZWY9e2VsID0+IChzZWxmLmlucHV0ID0gZWwpfS8+XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdyYWRpb3MnOlxuICAgICAgICBmaWVsZEhUTUwgPSA8T3BlblN0YWRDb21wb25lbnRSYWRpb3MgY29uZmlnPXtzZWxmLmNvbmZpZ30gdmFsdWU9eyB0aGlzLnN0YXRlLnZhbHVlIH0gb25DaGFuZ2U9e3NlbGYuaGFuZGxlT25DaGFuZ2V9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9Lz5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICBjYXNlICdtdWx0aXBsZS1jaG9pY2UnOlxuICAgICAgICBmaWVsZEhUTUwgPSA8T3BlblN0YWRDb21wb25lbnRTZWxlY3QgY29uZmlnPXtzZWxmLmNvbmZpZ30gdmFsdWU9eyB0aGlzLnN0YXRlLnZhbHVlIH0gb25DaGFuZ2U9e3NlbGYuaGFuZGxlT25DaGFuZ2V9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9Lz5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICBmaWVsZEhUTUwgPSA8T3BlblN0YWRDb21wb25lbnRUZXh0IGNvbmZpZz17c2VsZi5jb25maWd9IHZhbHVlPXsgdGhpcy5zdGF0ZS52YWx1ZSB9IG9uQ2hhbmdlPXtzZWxmLmhhbmRsZU9uQ2hhbmdlfSByZWY9e2VsID0+IChzZWxmLmlucHV0ID0gZWwpfS8+XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICAgIGZpZWxkSFRNTCA9IDxPcGVuU3RhZENvbXBvbmVudFRleHRBcmVhIGNvbmZpZz17c2VsZi5jb25maWd9IHZhbHVlPXsgdGhpcy5zdGF0ZS52YWx1ZSB9IG9uQ2hhbmdlPXtzZWxmLmhhbmRsZU9uQ2hhbmdlfSByZWY9e2VsID0+IChzZWxmLmlucHV0ID0gZWwpfS8+XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd0ZXh0YXJlYS13aXRoLWNvdW50ZXInOlxuICAgICAgICBmaWVsZEhUTUwgPSA8T3BlblN0YWRDb21wb25lbnRJbnB1dFdpdGhDb3VudGVyIGNvbmZpZz17eyAuLi5zZWxmLmNvbmZpZywgaW5wdXRUeXBlOiAndGV4dGFyZWEnIH19IHZhbHVlPXsgdGhpcy5zdGF0ZS52YWx1ZSB9IG9uQ2hhbmdlPXtzZWxmLmhhbmRsZU9uQ2hhbmdlfSByZWY9e2VsID0+IChzZWxmLmlucHV0ID0gZWwpfS8+XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmxvZygnRm9ybSBmaWVsZCAnICsgc2VsZi5jb25maWcuaW5wdXRUeXBlICsgJ25vdCB5ZXQgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuXHRcdFx0PGRpdiBpZD17c2VsZi5pZH0gcmVmPXtlbCA9PiAoc2VsZi5pbnN0YW5jZSA9IGVsKX0gY2xhc3NOYW1lPVwib3NjLWZvcm0tZmllbGRcIj5cblx0XHRcdFx0e3RpdGxlSFRNTH1cblx0XHRcdFx0e2Rlc2NyaXB0aW9uSFRNTH1cblx0XHRcdFx0e2ZpZWxkSFRNTH1cblx0XHRcdDwvZGl2PlxuICAgICk7XG5cbiAgfVxuXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudCBmcm9tICcuLi8uLi9jb21wb25lbnQvaW5kZXguanN4JztcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudExpYnMgZnJvbSAnLi4vLi4vbGlicy9pbmRleC5qc3gnO1xuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50Rm9ybUZpZWxkIGZyb20gJy4vZm9ybS1maWVsZC5qc3gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuU3RhZENvbXBvbmVudEZvcm0gZXh0ZW5kcyBPcGVuU3RhZENvbXBvbmVudCB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcblxuICAgIHN1cGVyKHByb3BzLCB7XG4gICAgICB0aXRsZTogbnVsbCxcbiAgICAgIGludHJvOiBudWxsLFxuICAgICAgZmllbGRzOiBbXSxcblx0XHR9KTtcblxuXHRcdGxldCBzZWxmID0gdGhpcztcblxuICAgIGxldCBpbml0VmFsdWVzID0gcHJvcHMudmFsdWVzO1xuICAgIGlmICggIWluaXRWYWx1ZXMgJiYgc2VsZi5jb25maWcuZmllbGRzICYmIHNlbGYuY29uZmlnLmZpZWxkcy5sZW5ndGgpIHtcbiAgICAgIGluaXRWYWx1ZXMgPSB7fTtcbiAgICAgIHNlbGYuY29uZmlnLmZpZWxkcy5tYXAoKGZpZWxkQ29uZmlnLCBpKSA9PiB7XG4gICAgICAgIGxldCBuYW1lID0gZmllbGRDb25maWcubmFtZSB8fCBmaWVsZENvbmZpZy50aXRsZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpbml0VmFsdWVzW25hbWVdID0gZmllbGRDb25maWcudmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgc2VsZi5zdGF0ZSA9IHtcbiAgICAgIHZhbHVlczogaW5pdFZhbHVlcyB8fCB7fSxcblx0XHR9O1xuXG4gICAgc2VsZi5oYW5kbGVPbkNoYW5nZSA9IHNlbGYuaGFuZGxlT25DaGFuZ2UuYmluZCh0aGlzKTtcblxuICAgIHNlbGYuZmllbGRzID0gW107XG5cbiAgfVxuICBcblxuICBnZXRWYWx1ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUudmFsdWVzO1xuXHR9XG5cblx0dmFsaWRhdGUoeyBzaG93RXJyb3JzLCBzY3JvbGxUbyB9KSB7XG4gICAgbGV0IHNlbGY9IHRoaXM7XG4gICAgbGV0IGlzVmFsaWQgPSB0cnVlO1xuICAgIGxldCBmaXJzdEludmFsaWQgPSBudWxsXG4gICAgc2VsZi5maWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgIGlmICghZmllbGQudmFsaWRhdGUoeyBzaG93RXJyb3JzIH0pKSB7IFxuICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIGlmICghZmlyc3RJbnZhbGlkKSBmaXJzdEludmFsaWQgPSBmaWVsZDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChzY3JvbGxUbyAmJiBmaXJzdEludmFsaWQgJiYgZmlyc3RJbnZhbGlkLmluc3RhbmNlICYmIGZpcnN0SW52YWxpZC5pbnN0YW5jZS5zY3JvbGxJbnRvVmlldykgZmlyc3RJbnZhbGlkLmluc3RhbmNlLnNjcm9sbEludG9WaWV3KHtiZWhhdmlvcjogJ3Ntb290aCd9KTtcbiAgICByZXR1cm4gaXNWYWxpZDsgICAgXG5cblx0fVxuXG5cdGhhbmRsZU9uQ2hhbmdlKGRhdGEpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgbGV0IHZhbHVlcyA9IHsgLi4udGhpcy5zdGF0ZS52YWx1ZXMgfTtcbiAgICB2YWx1ZXNbZGF0YS5uYW1lXSA9IGRhdGEudmFsdWU7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7IHZhbHVlcyB9LCAoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMub25DaGFuZ2UgPT0gJ2Z1bmN0aW9uJykgdGhpcy5wcm9wcy5vbkNoYW5nZShkYXRhKVxuICAgIH0pO1xuXHR9XG5cblx0cmVuZGVyKCkge1xuXG5cdFx0bGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgbGV0IHRpdGxlSFRNTCA9IG51bGw7XG4gICAgaWYgKHNlbGYuY29uZmlnLnRpdGxlKSB7XG4gICAgICB0aXRsZUhUTUwgPSA8aDIgY2xhc3NOYW1lPVwib3NjLWZvcm0tdGl0bGVcIj57c2VsZi5jb25maWcudGl0bGV9PC9oMj5cbiAgICB9XG5cbiAgICBsZXQgaW50cm9IVE1MID0gbnVsbDtcbiAgICBpZiAoc2VsZi5jb25maWcuaW50cm8pIHtcbiAgICAgIGludHJvSFRNTCA9IDxkaXYgY2xhc3NOYW1lPVwib3NjLWZvcm0taW50cm9cIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IHNlbGYuY29uZmlnLmludHJvIH19PjwvZGl2PlxuICAgIH1cblxuICAgIGxldCBmaWVsZHNIVE1MID0gbnVsbDtcbiAgICBpZiAoc2VsZi5jb25maWcuZmllbGRzICYmIHNlbGYuY29uZmlnLmZpZWxkcy5sZW5ndGgpIHtcbiAgICAgIGZpZWxkc0hUTUwgPVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1mb3JtLWZpZWxkc1wiPlxuICAgICAgICAgIHsgc2VsZi5jb25maWcuZmllbGRzLm1hcCgoZmllbGRDb25maWcsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8T3BlblN0YWRDb21wb25lbnRGb3JtRmllbGQgY29uZmlnPXtmaWVsZENvbmZpZ30gaW5pdFZhbHVlPXtmaWVsZENvbmZpZy52YWx1ZX0gb25DaGFuZ2U9e3NlbGYuaGFuZGxlT25DaGFuZ2V9IHJlZj17ZWwgPT4gKHNlbGYuaW5wdXQgPSBlbCl9IGtleT17YG9zYy1mb3JtLWZpZWxkLSR7aX1gfSByZWY9e2VsID0+IHsgc2VsZi5maWVsZHNbaV0gPSBlbDsgfX0vPlxuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuXHRcdFx0PGRpdiBpZD17c2VsZi5kaXZJZH0gY2xhc3NOYW1lPVwib3NjLWZvcm1cIiByZWY9e2VsID0+IChzZWxmLmluc3RhbmNlID0gZWwpfT5cblx0XHRcdFx0e3RpdGxlSFRNTH1cblx0XHRcdFx0e2ludHJvSFRNTH1cblx0XHRcdFx0e2ZpZWxkc0hUTUx9XG5cdFx0XHQ8L2Rpdj5cbiAgICApO1xuXG4gIH1cblxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnQgZnJvbSAnLi4vLi4vY29tcG9uZW50L2luZGV4LmpzeCc7XG5cbmNsYXNzIFNsaWRlciBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpe1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB2YWx1ZTogdGhpcy5wcm9wcy52YWx1ZSxcbiAgICAgIHRvdWNoZWQ6IHRoaXMucHJvcHMudG91Y2hlZCB8fCBmYWxzZSxcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpXG4gIH1cblxuICBoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBldmVudC50YXJnZXRcblxuICAgIGlmKHR5cGVvZiB0aGlzLnByb3BzLm9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKXtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodmFsdWUpXG4gICAgfVxuICAgIFxuICAgIHRoaXMuc2V0U3RhdGUoe3ZhbHVlLCB0b3VjaGVkOiB0cnVlfSlcbiAgfVxuXG4gIGRvVG91Y2goKSB7XG5cbiAgICBpZih0eXBlb2YgdGhpcy5wcm9wcy5vbkNoYW5nZSA9PT0gJ2Z1bmN0aW9uJyl7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKDUwKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe3RvdWNoZWQ6IHRydWV9KVxuXG4gIH1cblxuICBjYWxjUHJvZ3Jlc3MobWluLCBtYXgsIHZhbHVlKSB7XG4gICAgY29uc3QgcmFuZ2UgPSBtYXggLSBtaW5cbiAgICBjb25zdCBwcm9nSW5SYW5nZSA9IHZhbHVlIC0gbWluXG4gICAgcmV0dXJuICgocHJvZ0luUmFuZ2UqMikvcmFuZ2UpLTFcbiAgfVxuXG4gIHJlbmRlcigpe1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBjb25zdCB7IHZhbHVlLCB0b3VjaGVkIH0gPSBzZWxmLnN0YXRlXG4gICAgY29uc3QgeyBtaW4sIG1heCwgc3RlcCB9ID0gc2VsZi5wcm9wc1xuICAgIHJldHVybihcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtzZWxmLnByb3BzLmNsYXNzTmFtZX0gb3NjLXNsaWRlcmB9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1zbGlkZXItdHJhY2stY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2Mtc2xpZGVyLXRyYWNrXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2Mtc2xpZGVyLXRyYWNrLXByb2dyZXNzLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2Mtc2xpZGVyLXRyYWNrLXByb2dyZXNzXCIgc3R5bGU9e3sgdHJhbnNmb3JtOiAnc2NhbGVYKCcgKyBzZWxmLmNhbGNQcm9ncmVzcyhtaW4sIG1heCwgdmFsdWUpICsgJyknIH19PjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLXNsaWRlci10cmFjay1kb3QtZW5kIG9zYy1zbGlkZXItdHJhY2stZG90LWxlZnRcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1zbGlkZXItdHJhY2stZG90LXN0YXJ0IG9zYy1zbGlkZXItdHJhY2stZG90LWNlbnRlclwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLXNsaWRlci10cmFjay1kb3QtZW5kIG9zYy1zbGlkZXItdHJhY2stZG90LXJpZ2h0XCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8aW5wdXQgdHlwZT0ncmFuZ2UnIG1pbj17bWlufSBtYXg9e21heH0gc3RlcD17c3RlcH0gdmFsdWU9e3ZhbHVlfSBvbkNsaWNrPXsoKSA9PiB7IGlmICghdG91Y2hlZCkgc2VsZi5kb1RvdWNoKCk7IH0gfSBvbkNoYW5nZT17c2VsZi5oYW5kbGVDaGFuZ2V9IGNsYXNzTmFtZT17dG91Y2hlZCA/ICdvc2Mtc2xpZGVyLWlucHV0LXJhbmdlJyA6ICdvc2Mtc2xpZGVyLWlucHV0LXJhbmdlIG9zYy1zbGlkZXItdW50b3VjaGVkJ30gcmVmPXtlbCA9PiAoc2VsZi5pbnB1dCA9IGVsKX0vPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNsaWRlcjtcbiIsIi8vIHBvbHlmaWxsc1xuLy9pbXBvcnQgJ2NvcmUtanMvZXMvbWFwJztcbi8vaW1wb3J0ICdjb3JlLWpzL2VzL3NldCc7XG5pbXBvcnQgJ3doYXR3Zy1mZXRjaCc7XG5cbi8vIHJlYWN0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbi8vIGltcG9ydCBjc3MgdG8gbWFrZSBzdXJlIGl0IGlzIGdlbmVyYXRlZCBpbiB0aGUgcmVzdWx0XG5pbXBvcnQgJy4vY3NzL2RlZmF1bHQubGVzcyc7XG5cbi8vIHRoZSBtb2R1bGVcbmltcG9ydCBGb3JtIGZyb20gJy4vY29tcG9uZW50L2Zvcm0uanN4JztcbmltcG9ydCBGb3JtRmllbGQgZnJvbSAnLi9jb21wb25lbnQvZm9ybS1maWVsZC5qc3gnO1xuaW1wb3J0IEhpZGRlbiBmcm9tICcuL2NvbXBvbmVudC9oaWRkZW4uanN4JztcbmltcG9ydCBJbWFnZVVwbG9hZCBmcm9tICcuL2NvbXBvbmVudC9pbWFnZS11cGxvYWQuanN4JztcbmltcG9ydCBJbnB1dFdpdGhDb3VudGVyIGZyb20gJy4vY29tcG9uZW50L2lucHV0LXdpdGgtY291bnRlci5qc3gnO1xuaW1wb3J0IFBvc3Rjb2RlIGZyb20gJy4vY29tcG9uZW50L3Bvc3Rjb2RlLmpzeCc7XG5pbXBvcnQgUmFkaW9zIGZyb20gJy4vY29tcG9uZW50L3JhZGlvcy5qc3gnO1xuaW1wb3J0IFNlbGVjdCBmcm9tICcuL2NvbXBvbmVudC9zZWxlY3QuanN4JztcbmltcG9ydCBUZXh0IGZyb20gJy4vY29tcG9uZW50L3RleHRpbnB1dC5qc3gnO1xuaW1wb3J0IFRleHRhcmVhIGZyb20gJy4vY29tcG9uZW50L3RleHRhcmVhLmpzeCc7XG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vY29tcG9uZW50L3NsaWRlci5qc3gnO1xuZXhwb3J0IGRlZmF1bHQge1xuICBGb3JtLFxuICBGb3JtRmllbGQsXG4gIEhpZGRlbixcbiAgSW1hZ2VVcGxvYWQsXG4gIElucHV0V2l0aENvdW50ZXIsXG4gIFBvc3Rjb2RlLFxuICBSYWRpb3MsXG4gIFNlbGVjdCxcbiAgVGV4dCxcbiAgVGV4dGFyZWEsXG4gIFNsaWRlcixcbn1cblxuLy8gcmVuZGVyIHRoZSBiYXNlIGVsZW1lbnRcbi8vIGZ1bmN0aW9uIHJlbmRlckVsZW1lbnQoIGVsZW0sIGNvbmZpZyApIHtcbi8vICAgbGV0IGF0dHJpYnV0ZXMgPSBlbGVtLmF0dHJpYnV0ZXM7XG4vLyAgIFJlYWN0RE9NLnJlbmRlciggPE9wZW5TdGFkQ29tcG9uZW50UmVhY3Rpb25zIGF0dHJpYnV0ZXM9e2F0dHJpYnV0ZXN9IGNvbmZpZz17Y29uZmlnfS8+LCBlbGVtKVxuLy8gfVxuLy8gZXhwb3J0IHtyZW5kZXJFbGVtZW50fVxuXG4iLCIoZnVuY3Rpb24oKSB7IG1vZHVsZS5leHBvcnRzID0gd2luZG93W1wiUmVhY3RET01cIl07IH0oKSk7IiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuIiwidmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG5cbi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgMSwgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSlbMV0gIT0gNztcbn0pO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnZXM2LXByb21pc2UnKS5Qcm9taXNlO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG4iLCJ2YXIgc3VwcG9ydCA9IHtcbiAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgYmxvYjpcbiAgICAnRmlsZVJlYWRlcicgaW4gc2VsZiAmJlxuICAgICdCbG9iJyBpbiBzZWxmICYmXG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEJsb2IoKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KSgpLFxuICBmb3JtRGF0YTogJ0Zvcm1EYXRhJyBpbiBzZWxmLFxuICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG59XG5cbmZ1bmN0aW9uIGlzRGF0YVZpZXcob2JqKSB7XG4gIHJldHVybiBvYmogJiYgRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob2JqKVxufVxuXG5pZiAoc3VwcG9ydC5hcnJheUJ1ZmZlcikge1xuICB2YXIgdmlld0NsYXNzZXMgPSBbXG4gICAgJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICdbb2JqZWN0IFVpbnQzMkFycmF5XScsXG4gICAgJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgJ1tvYmplY3QgRmxvYXQ2NEFycmF5XSdcbiAgXVxuXG4gIHZhciBpc0FycmF5QnVmZmVyVmlldyA9XG4gICAgQXJyYXlCdWZmZXIuaXNWaWV3IHx8XG4gICAgZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUobmFtZSkge1xuICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgbmFtZSA9IFN0cmluZyhuYW1lKVxuICB9XG4gIGlmICgvW15hLXowLTlcXC0jJCUmJyorLl5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gIH1cbiAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuICB9XG4gIHJldHVybiB2YWx1ZVxufVxuXG4vLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgdmFyIGl0ZXJhdG9yID0ge1xuICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgcmV0dXJuIHtkb25lOiB2YWx1ZSA9PT0gdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9XG4gICAgfVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaXRlcmF0b3Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICB0aGlzLm1hcCA9IHt9XG5cbiAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSlcbiAgICB9LCB0aGlzKVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVycykpIHtcbiAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICB9LCB0aGlzKVxuICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgfSwgdGhpcylcbiAgfVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICB2YXIgb2xkVmFsdWUgPSB0aGlzLm1hcFtuYW1lXVxuICB0aGlzLm1hcFtuYW1lXSA9IG9sZFZhbHVlID8gb2xkVmFsdWUgKyAnLCAnICsgdmFsdWUgOiB2YWx1ZVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG4gIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gIHJldHVybiB0aGlzLmhhcyhuYW1lKSA/IHRoaXMubWFwW25hbWVdIDogbnVsbFxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgIGlmICh0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLm1hcFtuYW1lXSwgbmFtZSwgdGhpcylcbiAgICB9XG4gIH1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXMgPSBbXVxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICBpdGVtcy5wdXNoKG5hbWUpXG4gIH0pXG4gIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbn1cblxuSGVhZGVycy5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIGl0ZW1zLnB1c2godmFsdWUpXG4gIH0pXG4gIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXMgPSBbXVxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pXG4gIH0pXG4gIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbn1cblxuaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcbn1cblxuZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgfVxuICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxufVxuXG5mdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG4gICAgfVxuICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuICAgIH1cbiAgfSlcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gIHJldHVybiBwcm9taXNlXG59XG5cbmZ1bmN0aW9uIHJlYWRBcnJheUJ1ZmZlckFzVGV4dChidWYpIHtcbiAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpXG4gIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICBjaGFyc1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUodmlld1tpXSlcbiAgfVxuICByZXR1cm4gY2hhcnMuam9pbignJylcbn1cblxuZnVuY3Rpb24gYnVmZmVyQ2xvbmUoYnVmKSB7XG4gIGlmIChidWYuc2xpY2UpIHtcbiAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gIH0gZWxzZSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYuYnl0ZUxlbmd0aClcbiAgICB2aWV3LnNldChuZXcgVWludDhBcnJheShidWYpKVxuICAgIHJldHVybiB2aWV3LmJ1ZmZlclxuICB9XG59XG5cbmZ1bmN0aW9uIEJvZHkoKSB7XG4gIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuICAgIGlmICghYm9keSkge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSAnJ1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkuYnVmZmVyKVxuICAgICAgLy8gSUUgMTAtMTEgY2FuJ3QgaGFuZGxlIGEgRGF0YVZpZXcgYm9keS5cbiAgICAgIHRoaXMuX2JvZHlJbml0ID0gbmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pXG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIChBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChib2R5KVxuICAgIH1cblxuICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgdGhpcy5fYm9keUJsb2IudHlwZSlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSlcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gY29uc3VtZWQodGhpcykgfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICB9XG4gIH1cblxuICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG52YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG5mdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcbiAgcmV0dXJuIG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xID8gdXBjYXNlZCA6IG1ldGhvZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXG4gIGlmIChpbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QpIHtcbiAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgfVxuICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG4gICAgfVxuICAgIHRoaXMubWV0aG9kID0gaW5wdXQubWV0aG9kXG4gICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuICAgIHRoaXMuc2lnbmFsID0gaW5wdXQuc2lnbmFsXG4gICAgaWYgKCFib2R5ICYmIGlucHV0Ll9ib2R5SW5pdCAhPSBudWxsKSB7XG4gICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy51cmwgPSBTdHJpbmcoaW5wdXQpXG4gIH1cblxuICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdzYW1lLW9yaWdpbidcbiAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICB9XG4gIHRoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IHRoaXMubWV0aG9kIHx8ICdHRVQnKVxuICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgdGhpcy5zaWduYWwgPSBvcHRpb25zLnNpZ25hbCB8fCB0aGlzLnNpZ25hbFxuICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gIH1cbiAgdGhpcy5faW5pdEJvZHkoYm9keSlcbn1cblxuUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMsIHtib2R5OiB0aGlzLl9ib2R5SW5pdH0pXG59XG5cbmZ1bmN0aW9uIGRlY29kZShib2R5KSB7XG4gIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgYm9keVxuICAgIC50cmltKClcbiAgICAuc3BsaXQoJyYnKVxuICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICByZXR1cm4gZm9ybVxufVxuXG5mdW5jdGlvbiBwYXJzZUhlYWRlcnMocmF3SGVhZGVycykge1xuICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKClcbiAgLy8gUmVwbGFjZSBpbnN0YW5jZXMgb2YgXFxyXFxuIGFuZCBcXG4gZm9sbG93ZWQgYnkgYXQgbGVhc3Qgb25lIHNwYWNlIG9yIGhvcml6b250YWwgdGFiIHdpdGggYSBzcGFjZVxuICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzIzMCNzZWN0aW9uLTMuMlxuICB2YXIgcHJlUHJvY2Vzc2VkSGVhZGVycyA9IHJhd0hlYWRlcnMucmVwbGFjZSgvXFxyP1xcbltcXHQgXSsvZywgJyAnKVxuICBwcmVQcm9jZXNzZWRIZWFkZXJzLnNwbGl0KC9cXHI/XFxuLykuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpXG4gICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpXG4gICAgaWYgKGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gcGFydHMuam9pbignOicpLnRyaW0oKVxuICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICB9XG4gIH0pXG4gIHJldHVybiBoZWFkZXJzXG59XG5cbkJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblxuZXhwb3J0IGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fVxuICB9XG5cbiAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG4gIHRoaXMuc3RhdHVzID0gb3B0aW9ucy5zdGF0dXMgPT09IHVuZGVmaW5lZCA/IDIwMCA6IG9wdGlvbnMuc3RhdHVzXG4gIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcbiAgdGhpcy5zdGF0dXNUZXh0ID0gJ3N0YXR1c1RleHQnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1c1RleHQgOiAnT0snXG4gIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbn1cblxuQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblxuUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgIHVybDogdGhpcy51cmxcbiAgfSlcbn1cblxuUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcbiAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgcmV0dXJuIHJlc3BvbnNlXG59XG5cbnZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG5SZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gIH1cblxuICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbn1cblxuZXhwb3J0IHZhciBET01FeGNlcHRpb24gPSBzZWxmLkRPTUV4Y2VwdGlvblxudHJ5IHtcbiAgbmV3IERPTUV4Y2VwdGlvbigpXG59IGNhdGNoIChlcnIpIHtcbiAgRE9NRXhjZXB0aW9uID0gZnVuY3Rpb24obWVzc2FnZSwgbmFtZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2VcbiAgICB0aGlzLm5hbWUgPSBuYW1lXG4gICAgdmFyIGVycm9yID0gRXJyb3IobWVzc2FnZSlcbiAgICB0aGlzLnN0YWNrID0gZXJyb3Iuc3RhY2tcbiAgfVxuICBET01FeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpXG4gIERPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBET01FeGNlcHRpb25cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoKGlucHV0LCBpbml0KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuXG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsICYmIHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IERPTUV4Y2VwdGlvbignQWJvcnRlZCcsICdBYm9ydEVycm9yJykpXG4gICAgfVxuXG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICBmdW5jdGlvbiBhYm9ydFhocigpIHtcbiAgICAgIHhoci5hYm9ydCgpXG4gICAgfVxuXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpXG4gICAgICB9XG4gICAgICBvcHRpb25zLnVybCA9ICdyZXNwb25zZVVSTCcgaW4geGhyID8geGhyLnJlc3BvbnNlVVJMIDogb3B0aW9ucy5oZWFkZXJzLmdldCgnWC1SZXF1ZXN0LVVSTCcpXG4gICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2UoYm9keSwgb3B0aW9ucykpXG4gICAgfVxuXG4gICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgfVxuXG4gICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICB9XG5cbiAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVqZWN0KG5ldyBET01FeGNlcHRpb24oJ0Fib3J0ZWQnLCAnQWJvcnRFcnJvcicpKVxuICAgIH1cblxuICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSlcblxuICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXG4gICAgfSBlbHNlIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnb21pdCcpIHtcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZVxuICAgIH1cblxuICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG4gICAgfVxuXG4gICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuICAgIH0pXG5cbiAgICBpZiAocmVxdWVzdC5zaWduYWwpIHtcbiAgICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpXG5cbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gRE9ORSAoc3VjY2VzcyBvciBmYWlsdXJlKVxuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICByZXF1ZXN0LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0WGhyKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcbiAgfSlcbn1cblxuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG5cbmlmICghc2VsZi5mZXRjaCkge1xuICBzZWxmLmZldGNoID0gZmV0Y2hcbiAgc2VsZi5IZWFkZXJzID0gSGVhZGVyc1xuICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0XG4gIHNlbGYuUmVzcG9uc2UgPSBSZXNwb25zZVxufVxuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERFU0NSSVBUT1JTID8gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZGVmaW5lUHJvcGVydHlNb2R1bGUuZihvYmplY3QsIGtleSwgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2llOC1kb20tZGVmaW5lJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tcHJpbWl0aXZlJyk7XG5cbnZhciBuYXRpdmVEZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0eWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydHlcbmV4cG9ydHMuZiA9IERFU0NSSVBUT1JTID8gbmF0aXZlRGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7XG4gICAgcmV0dXJuIG5hdGl2ZURlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIGlmICgnZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpIHRocm93IFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGl0KSArICcgaXMgbm90IGFuIG9iamVjdCcpO1xuICB9IHJldHVybiBpdDtcbn07XG4iLCIvLyB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIEluZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5kZXhlZC1vYmplY3QnKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSW5kZXhlZE9iamVjdChyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGl0KSk7XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdHJ5IHtcbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoZ2xvYmFsLCBrZXksIHZhbHVlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBnbG9iYWxba2V5XSA9IHZhbHVlO1xuICB9IHJldHVybiB2YWx1ZTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuIiwiLy8gSUU4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IFtcbiAgJ2NvbnN0cnVjdG9yJyxcbiAgJ2hhc093blByb3BlcnR5JyxcbiAgJ2lzUHJvdG90eXBlT2YnLFxuICAncHJvcGVydHlJc0VudW1lcmFibGUnLFxuICAndG9Mb2NhbGVTdHJpbmcnLFxuICAndG9TdHJpbmcnLFxuICAndmFsdWVPZidcbl07XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgbWVyZ2UgZnJvbSAnbWVyZ2UnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvbXBvbmVudC9pbmRleC5qc3gnO1xuXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5TdGFkQ29tcG9uZW50SW1hZ2UgZXh0ZW5kcyBPcGVuU3RhZENvbXBvbmVudCB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcblxuICAgIHN1cGVyKHByb3BzKTtcblxuXHRcdC8vIGNvbmZpZ1xuXHRcdGxldCBkZWZhdWx0Q29uZmlnID0ge1xuICAgICAgYXNwZWN0UmF0aW86ICcxNng5JyxcbiAgICAgIGFsbG93TXVsdGlwbGVJbWFnZXM6IGZhbHNlLFxuXHRcdH07XG5cdFx0dGhpcy5jb25maWcgPSBtZXJnZS5yZWN1cnNpdmUoZGVmYXVsdENvbmZpZywgdGhpcy5jb25maWcsIHRoaXMucHJvcHMuY29uZmlnIHx8IHt9KVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGN1cnJlbnRJbWFnZUluZGV4OiAwLFxuICAgICAgd2lkdGg6IDAsXG4gICAgfTtcblxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGxldCBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5kaXZJZH1gKS5wYXJlbnROb2RlO1xuICAgIHRoaXMuc2V0U3RhdGUoe3dpZHRoOiBlbGVtLm9mZnNldFdpZHRofSlcbiAgfVxuXG4gIHNldEN1cnJlbnRJbWFnZUluZGV4ICh3aGljaCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJlbnRJbWFnZUluZGV4OiB3aGljaH0pXG4gIH1cblxuICBnZXRJbWFnZXNGcm9tUHJvcHMoKSB7XG4gICAgbGV0IGltYWdlcyA9IHRoaXMucHJvcHMuaW1hZ2VzIHx8IFtdO1xuICAgIGxldCBpbWFnZSA9IHRoaXMucHJvcHMuaW1hZ2UgfHwgaW1hZ2VzW3RoaXMuc3RhdGUuY3VycmVudEltYWdlSW5kZXhdO1xuICAgIHJldHVybiBbdGhpcy5wcm9wcy5pbWFnZSwgaW1hZ2VzXTtcbiAgfVxuXG4gIGdldEltYWdlU3JjKGltYWdlKSB7XG4gICAgbGV0IGltYWdlU3JjID0gaW1hZ2U7XG4gICAgaWYgKCB0eXBlb2YgaW1hZ2UgPT0gJ29iamVjdCcgJiYgaW1hZ2Uuc3JjICkgaW1hZ2VTcmMgPSBpbWFnZS5zcmM7XG4gICAgcmV0dXJuIGltYWdlU3JjO1xuICB9XG5cbiAgZ2V0QXNwZWN0UmF0aW9GYWN0b3IoKSB7XG5cbiAgICBpZiAodGhpcy5wcm9wcy53aWR0aCAmJiB0aGlzLnByb3BzLmhlaWdodCkgcmV0dXJuIHRoaXMucHJvcHMud2lkdGgvdGhpcy5wcm9wcy5oZWlnaHRcbiAgICBcbiAgICBsZXQgbWF0Y2ggPSB0aGlzLmNvbmZpZy5hc3BlY3RSYXRpby5tYXRjaCgvKFxcZCspeChcXGQrKS8pO1xuICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdIC8gbWF0Y2hbMl0gOiAxNi85XG4gIH1cblxuICBnZXRXaWR0aEhlaWdodCgpIHtcbiAgICBsZXQgd2lkdGggPSB0aGlzLnByb3BzLndpZHRoIHx8IHRoaXMuc3RhdGUud2lkdGg7XG4gICAgbGV0IGhlaWdodCA9IHRoaXMucHJvcHMuaGVpZ2h0IHx8IHdpZHRoICogKCAxIC8gdGhpcy5nZXRBc3BlY3RSYXRpb0ZhY3RvcigpICkgfHwgdW5kZWZpbmVkO1xuICAgIHJldHVybiBbIHdpZHRoLCBoZWlnaHQgXVxuICB9XG5cblx0cmVuZGVyKCkge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgbGV0IGltYWdlcywgaW1hZ2U7XG4gICAgWyBpbWFnZSwgaW1hZ2VzIF0gPSBzZWxmLmdldEltYWdlc0Zyb21Qcm9wcygpO1xuXG4gICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG4gICAgWyB3aWR0aCwgaGVpZ2h0IF0gPSBzZWxmLmdldFdpZHRoSGVpZ2h0KCk7XG5cbiAgICBpZiAoc2VsZi5jb25maWcuYWxsb3dNdWx0aXBsZUltYWdlcyAmJiBpbWFnZXMubGVuZ3RoID4gMSkge1xuXG4gICAgICAvLyBtdWx0aXBsZVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBpZD17c2VsZi5kaXZJZH0gY2xhc3NOYW1lPXtgb3NjLW11bHRpcGxlLWltYWdlcyAke3NlbGYucHJvcHMuY2xhc3NOYW1lIHx8ICcnfWB9PlxuICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1pbWFnZS1zcGFjZXJcIiBzdHlsZT17eyB3aWR0aCwgaGVpZ2h0IH19PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtaW1hZ2VcIiBzdHlsZT17aW1hZ2UgPyB7IGJhY2tncm91bmRJbWFnZTogYHVybCgke3NlbGYuZ2V0SW1hZ2VTcmMoaW1hZ2UpfSlgIH0gOiB7fX0ga2V5PXsnaW1hZ2UtJyArIHNlbGYuZGl2SWR9PjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtbXVsdGlwbGUtaW1hZ2VzLXRodW1ic1wiIHN0eWxlPXt7IGhlaWdodDogMC4xICogc2VsZi5zdGF0ZS53aWR0aCB9fT5cblxuICAgICAgICAgICAge2ltYWdlcy5tYXAoKCB0aHVtYiwgaSApID0+IHtcbiAgICAgICAgICAgICAgbGV0IHRodW1iaGVpZ2h0ID0gMC4xICogd2lkdGg7XG4gICAgICAgICAgICAgIGxldCB0aHVtYndpZHRoID0gdGh1bWJoZWlnaHQgKiBzZWxmLmdldEFzcGVjdFJhdGlvRmFjdG9yKCk7XG4gICAgICAgICAgICAgIGxldCB0aHVtYmxlZnQgPSAoIHRodW1id2lkdGggKiAgMS4wNSApICogaTtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1pbWFnZS10aHVtYi1zcGFjZXJcIiBrZXk9e2Bvc2MtaW1hZ2UtdGh1bWItJHtpfWB9IHN0eWxlPXt7IGxlZnQ6IHRodW1ibGVmdCwgd2lkdGg6IHRodW1id2lkdGgsIGhlaWdodDogdGh1bWJoZWlnaHQgfX0+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1pbWFnZS10aHVtYlwiIHN0eWxlPXt0aHVtYiA/IHsgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7c2VsZi5nZXRJbWFnZVNyYyh0aHVtYil9KWAsIHpJbmRleDogMTAtaSB9IDoge319IG9uQ2xpY2s9e2UgPT4gc2VsZi5zZXRDdXJyZW50SW1hZ2VJbmRleChpKX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cblxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIC8vIHNpbmd1bGFyXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGlkPXtzZWxmLmRpdklkfSBjbGFzc05hbWU9e2Bvc2MtaW1hZ2Utc3BhY2VyICR7c2VsZi5wcm9wcy5jbGFzc05hbWUgfHwgJyd9YH0gc3R5bGU9e3sgd2lkdGgsIGhlaWdodCB9fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1pbWFnZVwiIHN0eWxlPXtpbWFnZSA/IHsgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7c2VsZi5nZXRJbWFnZVNyYyhpbWFnZSl9KWAgfSA6IHt9fSBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xpY2t9IGtleT17J2ltYWdlLScgKyBzZWxmLmRpdklkfT48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgICAgXG4gICAgfVxuXG4gIH1cblxufVxuIiwiaW1wb3J0IG1lcmdlIGZyb20gJ21lcmdlJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudEltYWdlIGZyb20gJy4vaW1hZ2UuanN4JztcblxuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuU3RhZENvbXBvbmVudElkZWFJbWFnZSBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50SW1hZ2Uge1xuXG4gIGdldEltYWdlc0Zyb21Qcm9wcygpIHtcblxuICAgIGxldCBpZGVhID0gdGhpcy5wcm9wcy5pZGVhO1xuICAgIGlmICghaWRlYSkgcmV0dXJuIFsgJycsIFsgJycgXSBdO1xuXG4gICAgbGV0IGltYWdlcyA9IChpZGVhLmV4dHJhRGF0YSAmJiBpZGVhLmV4dHJhRGF0YS5pbWFnZXMpIHx8IFtdO1xuICAgIGxldCBpbWFnZSA9IChpZGVhLnBvc3RlckltYWdlICYmIGlkZWEucG9zdGVySW1hZ2Uua2V5KSB8fCAoaWRlYS5leHRyYURhdGEgJiYgaWRlYS5leHRyYURhdGEuaW1hZ2VzICYmIGlkZWEuZXh0cmFEYXRhLmltYWdlc1t0aGlzLnN0YXRlLmN1cnJlbnRJbWFnZUluZGV4XSk7XG5cbiAgICByZXR1cm4gW2ltYWdlLCBpbWFnZXNdXG5cbiAgfVxuXG59XG4iLCIvLyBwb2x5ZmlsbHNcbmltcG9ydCAnd2hhdHdnLWZldGNoJztcblxuLy8gcmVhY3RcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuLy8gaW1wb3J0IGNzcyB0byBtYWtlIHN1cmUgaXQgaXMgZ2VuZXJhdGVkIGluIHRoZSByZXN1bHRcbmltcG9ydCAnLi9jc3MvZGVmYXVsdC5sZXNzJztcblxuLy8gdGhlIG1vZHVsZVxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50SW1hZ2UgZnJvbSAnLi9jb21wb25lbnQvaW1hZ2UuanN4JztcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudElkZWFJbWFnZSBmcm9tICcuL2NvbXBvbmVudC9pZGVhLWltYWdlLmpzeCc7XG5cbi8vIHJlbmRlciBlbGVtZW50c1xuT3BlblN0YWRDb21wb25lbnRJZGVhSW1hZ2UucmVuZGVyRWxlbWVudCA9IGZ1bmN0aW9uIHJlbmRlckVsZW1lbnQoIGVsZW0sIGNvbmZpZyApIHtcbiAgbGV0IGF0dHJpYnV0ZXMgPSBlbGVtLmF0dHJpYnV0ZXM7XG5cdFJlYWN0RE9NLnJlbmRlciggPE9wZW5TdGFkQ29tcG9uZW50SWRlYUltYWdlIGF0dHJpYnV0ZXM9e2F0dHJpYnV0ZXN9IGNvbmZpZz17Y29uZmlnfS8+LCBlbGVtKVxufVxuXG5leHBvcnQge1xuICBPcGVuU3RhZENvbXBvbmVudEltYWdlIGFzIGRlZmF1bHQsXG4gIE9wZW5TdGFkQ29tcG9uZW50SW1hZ2UgYXMgSW1hZ2UsXG4gIE9wZW5TdGFkQ29tcG9uZW50SWRlYUltYWdlIGFzIElkZWFJbWFnZSxcbn07XG5cbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1wcm9wZXJ0eS1pcy1lbnVtZXJhYmxlJyk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tcHJpbWl0aXZlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcycpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2llOC1kb20tZGVmaW5lJyk7XG5cbnZhciBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG4vLyBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yXG5leHBvcnRzLmYgPSBERVNDUklQVE9SUyA/IG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvciA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0luZGV4ZWRPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKGhhcyhPLCBQKSkgcmV0dXJuIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcighcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChiaXRtYXAsIHZhbHVlKSB7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZTogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGU6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWU6IHZhbHVlXG4gIH07XG59O1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xuXG4vLyBgVG9QcmltaXRpdmVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9wcmltaXRpdmVcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5wdXQsIFBSRUZFUlJFRF9TVFJJTkcpIHtcbiAgaWYgKCFpc09iamVjdChpbnB1dCkpIHJldHVybiBpbnB1dDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmIChQUkVGRVJSRURfU1RSSU5HICYmIHR5cGVvZiAoZm4gPSBpbnB1dC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpbnB1dCkpKSByZXR1cm4gdmFsO1xuICBpZiAodHlwZW9mIChmbiA9IGlucHV0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaW5wdXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKCFQUkVGRVJSRURfU1RSSU5HICYmIHR5cGVvZiAoZm4gPSBpbnB1dC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpbnB1dCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBjcmVhdGVFbGVtZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvY3VtZW50LWNyZWF0ZS1lbGVtZW50Jyk7XG5cbi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIURFU0NSSVBUT1JTICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3JlYXRlRWxlbWVudCgnZGl2JyksICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfVxuICB9KS5hICE9IDc7XG59KTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG5cbnZhciBkb2N1bWVudCA9IGdsb2JhbC5kb2N1bWVudDtcbi8vIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnIGluIG9sZCBJRVxudmFyIEVYSVNUUyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIEVYSVNUUyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuIiwidmFyIHN0b3JlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1zdG9yZScpO1xuXG52YXIgZnVuY3Rpb25Ub1N0cmluZyA9IEZ1bmN0aW9uLnRvU3RyaW5nO1xuXG4vLyB0aGlzIGhlbHBlciBicm9rZW4gaW4gYDMuNC4xLTMuNC40YCwgc28gd2UgY2FuJ3QgdXNlIGBzaGFyZWRgIGhlbHBlclxuaWYgKHR5cGVvZiBzdG9yZS5pbnNwZWN0U291cmNlICE9ICdmdW5jdGlvbicpIHtcbiAgc3RvcmUuaW5zcGVjdFNvdXJjZSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBmdW5jdGlvblRvU3RyaW5nLmNhbGwoaXQpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0b3JlLmluc3BlY3RTb3VyY2U7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIHNldEdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zZXQtZ2xvYmFsJyk7XG5cbnZhciBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJztcbnZhciBzdG9yZSA9IGdsb2JhbFtTSEFSRURdIHx8IHNldEdsb2JhbChTSEFSRUQsIHt9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdG9yZTtcbiIsInZhciBzaGFyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3VpZCcpO1xuXG52YXIga2V5cyA9IHNoYXJlZCgna2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIGtleXNba2V5XSB8fCAoa2V5c1trZXldID0gdWlkKGtleSkpO1xufTtcbiIsInZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBzdG9yZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQtc3RvcmUnKTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG59KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG4gIHZlcnNpb246ICczLjYuNScsXG4gIG1vZGU6IElTX1BVUkUgPyAncHVyZScgOiAnZ2xvYmFsJyxcbiAgY29weXJpZ2h0OiAnwqkgMjAyMCBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSdcbn0pO1xuIiwidmFyIGlkID0gMDtcbnZhciBwb3N0Zml4ID0gTWF0aC5yYW5kb20oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcgKyBTdHJpbmcoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSkgKyAnKV8nICsgKCsraWQgKyBwb3N0Zml4KS50b1N0cmluZygzNik7XG59O1xuIiwidmFyIHBhdGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcGF0aCcpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcblxudmFyIGFGdW5jdGlvbiA9IGZ1bmN0aW9uICh2YXJpYWJsZSkge1xuICByZXR1cm4gdHlwZW9mIHZhcmlhYmxlID09ICdmdW5jdGlvbicgPyB2YXJpYWJsZSA6IHVuZGVmaW5lZDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWVzcGFjZSwgbWV0aG9kKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGFGdW5jdGlvbihwYXRoW25hbWVzcGFjZV0pIHx8IGFGdW5jdGlvbihnbG9iYWxbbmFtZXNwYWNlXSlcbiAgICA6IHBhdGhbbmFtZXNwYWNlXSAmJiBwYXRoW25hbWVzcGFjZV1bbWV0aG9kXSB8fCBnbG9iYWxbbmFtZXNwYWNlXSAmJiBnbG9iYWxbbmFtZXNwYWNlXVttZXRob2RdO1xufTtcbiIsInZhciBoYXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzJyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgaW5kZXhPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1pbmNsdWRlcycpLmluZGV4T2Y7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oaWRkZW4ta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JbmRleGVkT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSAhaGFzKGhpZGRlbktleXMsIGtleSkgJiYgaGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5pbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwidmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWxlbmd0aCcpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1hYnNvbHV0ZS1pbmRleCcpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnsgaW5kZXhPZiwgaW5jbHVkZXMgfWAgbWV0aG9kcyBpbXBsZW1lbnRhdGlvblxudmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChJU19JTkNMVURFUykge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBlbCwgZnJvbUluZGV4KSB7XG4gICAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3QoJHRoaXMpO1xuICAgIHZhciBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgdmFyIGluZGV4ID0gdG9BYnNvbHV0ZUluZGV4KGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICBpZiAoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpIHdoaWxlIChsZW5ndGggPiBpbmRleCkge1xuICAgICAgdmFsdWUgPSBPW2luZGV4KytdO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICBpZiAoKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pICYmIE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuaW5jbHVkZXNcbiAgaW5jbHVkZXM6IGNyZWF0ZU1ldGhvZCh0cnVlKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5pbmRleE9mYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluZGV4b2ZcbiAgaW5kZXhPZjogY3JlYXRlTWV0aG9kKGZhbHNlKVxufTtcbiIsInZhciBjZWlsID0gTWF0aC5jZWlsO1xudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxuLy8gYFRvSW50ZWdlcmAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b2ludGVnZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHJldHVybiBpc05hTihhcmd1bWVudCA9ICthcmd1bWVudCkgPyAwIDogKGFyZ3VtZW50ID4gMCA/IGZsb29yIDogY2VpbCkoYXJndW1lbnQpO1xufTtcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAmJiAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBDaHJvbWUgMzggU3ltYm9sIGhhcyBpbmNvcnJlY3QgdG9TdHJpbmcgY29udmVyc2lvblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgcmV0dXJuICFTdHJpbmcoU3ltYm9sKCkpO1xufSk7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJykuZjtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVkZWZpbmUnKTtcbnZhciBzZXRHbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2V0LWdsb2JhbCcpO1xudmFyIGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY29weS1jb25zdHJ1Y3Rvci1wcm9wZXJ0aWVzJyk7XG52YXIgaXNGb3JjZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtZm9yY2VkJyk7XG5cbi8qXG4gIG9wdGlvbnMudGFyZ2V0ICAgICAgLSBuYW1lIG9mIHRoZSB0YXJnZXQgb2JqZWN0XG4gIG9wdGlvbnMuZ2xvYmFsICAgICAgLSB0YXJnZXQgaXMgdGhlIGdsb2JhbCBvYmplY3RcbiAgb3B0aW9ucy5zdGF0ICAgICAgICAtIGV4cG9ydCBhcyBzdGF0aWMgbWV0aG9kcyBvZiB0YXJnZXRcbiAgb3B0aW9ucy5wcm90byAgICAgICAtIGV4cG9ydCBhcyBwcm90b3R5cGUgbWV0aG9kcyBvZiB0YXJnZXRcbiAgb3B0aW9ucy5yZWFsICAgICAgICAtIHJlYWwgcHJvdG90eXBlIG1ldGhvZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gIG9wdGlvbnMuZm9yY2VkICAgICAgLSBleHBvcnQgZXZlbiBpZiB0aGUgbmF0aXZlIGZlYXR1cmUgaXMgYXZhaWxhYmxlXG4gIG9wdGlvbnMuYmluZCAgICAgICAgLSBiaW5kIG1ldGhvZHMgdG8gdGhlIHRhcmdldCwgcmVxdWlyZWQgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICBvcHRpb25zLndyYXAgICAgICAgIC0gd3JhcCBjb25zdHJ1Y3RvcnMgdG8gcHJldmVudGluZyBnbG9iYWwgcG9sbHV0aW9uLCByZXF1aXJlZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gIG9wdGlvbnMudW5zYWZlICAgICAgLSB1c2UgdGhlIHNpbXBsZSBhc3NpZ25tZW50IG9mIHByb3BlcnR5IGluc3RlYWQgb2YgZGVsZXRlICsgZGVmaW5lUHJvcGVydHlcbiAgb3B0aW9ucy5zaGFtICAgICAgICAtIGFkZCBhIGZsYWcgdG8gbm90IGNvbXBsZXRlbHkgZnVsbCBwb2x5ZmlsbHNcbiAgb3B0aW9ucy5lbnVtZXJhYmxlICAtIGV4cG9ydCBhcyBlbnVtZXJhYmxlIHByb3BlcnR5XG4gIG9wdGlvbnMubm9UYXJnZXRHZXQgLSBwcmV2ZW50IGNhbGxpbmcgYSBnZXR0ZXIgb24gdGFyZ2V0XG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3B0aW9ucywgc291cmNlKSB7XG4gIHZhciBUQVJHRVQgPSBvcHRpb25zLnRhcmdldDtcbiAgdmFyIEdMT0JBTCA9IG9wdGlvbnMuZ2xvYmFsO1xuICB2YXIgU1RBVElDID0gb3B0aW9ucy5zdGF0O1xuICB2YXIgRk9SQ0VELCB0YXJnZXQsIGtleSwgdGFyZ2V0UHJvcGVydHksIHNvdXJjZVByb3BlcnR5LCBkZXNjcmlwdG9yO1xuICBpZiAoR0xPQkFMKSB7XG4gICAgdGFyZ2V0ID0gZ2xvYmFsO1xuICB9IGVsc2UgaWYgKFNUQVRJQykge1xuICAgIHRhcmdldCA9IGdsb2JhbFtUQVJHRVRdIHx8IHNldEdsb2JhbChUQVJHRVQsIHt9KTtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQgPSAoZ2xvYmFsW1RBUkdFVF0gfHwge30pLnByb3RvdHlwZTtcbiAgfVxuICBpZiAodGFyZ2V0KSBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICBzb3VyY2VQcm9wZXJ0eSA9IHNvdXJjZVtrZXldO1xuICAgIGlmIChvcHRpb25zLm5vVGFyZ2V0R2V0KSB7XG4gICAgICBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KTtcbiAgICAgIHRhcmdldFByb3BlcnR5ID0gZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLnZhbHVlO1xuICAgIH0gZWxzZSB0YXJnZXRQcm9wZXJ0eSA9IHRhcmdldFtrZXldO1xuICAgIEZPUkNFRCA9IGlzRm9yY2VkKEdMT0JBTCA/IGtleSA6IFRBUkdFVCArIChTVEFUSUMgPyAnLicgOiAnIycpICsga2V5LCBvcHRpb25zLmZvcmNlZCk7XG4gICAgLy8gY29udGFpbmVkIGluIHRhcmdldFxuICAgIGlmICghRk9SQ0VEICYmIHRhcmdldFByb3BlcnR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0eXBlb2Ygc291cmNlUHJvcGVydHkgPT09IHR5cGVvZiB0YXJnZXRQcm9wZXJ0eSkgY29udGludWU7XG4gICAgICBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzKHNvdXJjZVByb3BlcnR5LCB0YXJnZXRQcm9wZXJ0eSk7XG4gICAgfVxuICAgIC8vIGFkZCBhIGZsYWcgdG8gbm90IGNvbXBsZXRlbHkgZnVsbCBwb2x5ZmlsbHNcbiAgICBpZiAob3B0aW9ucy5zaGFtIHx8ICh0YXJnZXRQcm9wZXJ0eSAmJiB0YXJnZXRQcm9wZXJ0eS5zaGFtKSkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHNvdXJjZVByb3BlcnR5LCAnc2hhbScsIHRydWUpO1xuICAgIH1cbiAgICAvLyBleHRlbmQgZ2xvYmFsXG4gICAgcmVkZWZpbmUodGFyZ2V0LCBrZXksIHNvdXJjZVByb3BlcnR5LCBvcHRpb25zKTtcbiAgfVxufTtcbiIsInZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZScpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKTtcblxudmFyIFVOU0NPUEFCTEVTID0gd2VsbEtub3duU3ltYm9sKCd1bnNjb3BhYmxlcycpO1xudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG4vLyBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS1AQHVuc2NvcGFibGVzXG5pZiAoQXJyYXlQcm90b3R5cGVbVU5TQ09QQUJMRVNdID09IHVuZGVmaW5lZCkge1xuICBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKEFycmF5UHJvdG90eXBlLCBVTlNDT1BBQkxFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogY3JlYXRlKG51bGwpXG4gIH0pO1xufVxuXG4vLyBhZGQgYSBrZXkgdG8gQXJyYXkucHJvdG90eXBlW0BAdW5zY29wYWJsZXNdXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgQXJyYXlQcm90b3R5cGVbVU5TQ09QQUJMRVNdW2tleV0gPSB0cnVlO1xufTtcbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcycpO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgY2FjaGUgPSB7fTtcblxudmFyIHRocm93ZXIgPSBmdW5jdGlvbiAoaXQpIHsgdGhyb3cgaXQ7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FLCBvcHRpb25zKSB7XG4gIGlmIChoYXMoY2FjaGUsIE1FVEhPRF9OQU1FKSkgcmV0dXJuIGNhY2hlW01FVEhPRF9OQU1FXTtcbiAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge307XG4gIHZhciBtZXRob2QgPSBbXVtNRVRIT0RfTkFNRV07XG4gIHZhciBBQ0NFU1NPUlMgPSBoYXMob3B0aW9ucywgJ0FDQ0VTU09SUycpID8gb3B0aW9ucy5BQ0NFU1NPUlMgOiBmYWxzZTtcbiAgdmFyIGFyZ3VtZW50MCA9IGhhcyhvcHRpb25zLCAwKSA/IG9wdGlvbnNbMF0gOiB0aHJvd2VyO1xuICB2YXIgYXJndW1lbnQxID0gaGFzKG9wdGlvbnMsIDEpID8gb3B0aW9uc1sxXSA6IHVuZGVmaW5lZDtcblxuICByZXR1cm4gY2FjaGVbTUVUSE9EX05BTUVdID0gISFtZXRob2QgJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoQUNDRVNTT1JTICYmICFERVNDUklQVE9SUykgcmV0dXJuIHRydWU7XG4gICAgdmFyIE8gPSB7IGxlbmd0aDogLTEgfTtcblxuICAgIGlmIChBQ0NFU1NPUlMpIGRlZmluZVByb3BlcnR5KE8sIDEsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiB0aHJvd2VyIH0pO1xuICAgIGVsc2UgT1sxXSA9IDE7XG5cbiAgICBtZXRob2QuY2FsbChPLCBhcmd1bWVudDAsIGFyZ3VtZW50MSk7XG4gIH0pO1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTtcblxudmFyIGNhbGwgPSBGdW5jdGlvbi5jYWxsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDT05TVFJVQ1RPUiwgTUVUSE9ELCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJpbmQoY2FsbCwgZ2xvYmFsW0NPTlNUUlVDVE9SXS5wcm90b3R5cGVbTUVUSE9EXSwgbGVuZ3RoKTtcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG5cbnZhciBzcGxpdCA9ICcnLnNwbGl0O1xuXG4vLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xubW9kdWxlLmV4cG9ydHMgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIHRocm93cyBhbiBlcnJvciBpbiByaGlubywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3JoaW5vL2lzc3Vlcy8zNDZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICByZXR1cm4gIU9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApO1xufSkgPyBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGNsYXNzb2YoaXQpID09ICdTdHJpbmcnID8gc3BsaXQuY2FsbChpdCwgJycpIDogT2JqZWN0KGl0KTtcbn0gOiBPYmplY3Q7XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG4iLCIvLyBgUmVxdWlyZU9iamVjdENvZXJjaWJsZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1yZXF1aXJlb2JqZWN0Y29lcmNpYmxlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgPT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW50ZWdlcicpO1xuXG52YXIgbWluID0gTWF0aC5taW47XG5cbi8vIGBUb0xlbmd0aGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b2xlbmd0aFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuIGFyZ3VtZW50ID4gMCA/IG1pbih0b0ludGVnZXIoYXJndW1lbnQpLCAweDFGRkZGRkZGRkZGRkZGKSA6IDA7IC8vIDIgKiogNTMgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07XG4iLCJ2YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtZnVuY3Rpb24nKTtcblxuLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0KTtcbiAgICB9O1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiAoLyogLi4uYXJncyAqLykge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZCcpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdWlkJyk7XG52YXIgTkFUSVZFX1NZTUJPTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uYXRpdmUtc3ltYm9sJyk7XG52YXIgVVNFX1NZTUJPTF9BU19VSUQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdXNlLXN5bWJvbC1hcy11aWQnKTtcblxudmFyIFdlbGxLbm93blN5bWJvbHNTdG9yZSA9IHNoYXJlZCgnd2tzJyk7XG52YXIgU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcbnZhciBjcmVhdGVXZWxsS25vd25TeW1ib2wgPSBVU0VfU1lNQk9MX0FTX1VJRCA/IFN5bWJvbCA6IFN5bWJvbCAmJiBTeW1ib2wud2l0aG91dFNldHRlciB8fCB1aWQ7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgaWYgKCFoYXMoV2VsbEtub3duU3ltYm9sc1N0b3JlLCBuYW1lKSkge1xuICAgIGlmIChOQVRJVkVfU1lNQk9MICYmIGhhcyhTeW1ib2wsIG5hbWUpKSBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPSBTeW1ib2xbbmFtZV07XG4gICAgZWxzZSBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPSBjcmVhdGVXZWxsS25vd25TeW1ib2woJ1N5bWJvbC4nICsgbmFtZSk7XG4gIH0gcmV0dXJuIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXTtcbn07XG4iLCIvKiFcbiAqIEBvdmVydmlldyBlczYtcHJvbWlzZSAtIGEgdGlueSBpbXBsZW1lbnRhdGlvbiBvZiBQcm9taXNlcy9BKy5cbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE0IFllaHVkYSBLYXR6LCBUb20gRGFsZSwgU3RlZmFuIFBlbm5lciBhbmQgY29udHJpYnV0b3JzIChDb252ZXJzaW9uIHRvIEVTNiBBUEkgYnkgSmFrZSBBcmNoaWJhbGQpXG4gKiBAbGljZW5zZSAgIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlXG4gKiAgICAgICAgICAgIFNlZSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vc3RlZmFucGVubmVyL2VzNi1wcm9taXNlL21hc3Rlci9MSUNFTlNFXG4gKiBAdmVyc2lvbiAgIDMuMy4xXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICAoZ2xvYmFsLkVTNlByb21pc2UgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIG9iamVjdE9yRnVuY3Rpb24oeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG5cbnZhciBfaXNBcnJheSA9IHVuZGVmaW5lZDtcbmlmICghQXJyYXkuaXNBcnJheSkge1xuICBfaXNBcnJheSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcbn0gZWxzZSB7XG4gIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbn1cblxudmFyIGlzQXJyYXkgPSBfaXNBcnJheTtcblxudmFyIGxlbiA9IDA7XG52YXIgdmVydHhOZXh0ID0gdW5kZWZpbmVkO1xudmFyIGN1c3RvbVNjaGVkdWxlckZuID0gdW5kZWZpbmVkO1xuXG52YXIgYXNhcCA9IGZ1bmN0aW9uIGFzYXAoY2FsbGJhY2ssIGFyZykge1xuICBxdWV1ZVtsZW5dID0gY2FsbGJhY2s7XG4gIHF1ZXVlW2xlbiArIDFdID0gYXJnO1xuICBsZW4gKz0gMjtcbiAgaWYgKGxlbiA9PT0gMikge1xuICAgIC8vIElmIGxlbiBpcyAyLCB0aGF0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byBzY2hlZHVsZSBhbiBhc3luYyBmbHVzaC5cbiAgICAvLyBJZiBhZGRpdGlvbmFsIGNhbGxiYWNrcyBhcmUgcXVldWVkIGJlZm9yZSB0aGUgcXVldWUgaXMgZmx1c2hlZCwgdGhleVxuICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICBpZiAoY3VzdG9tU2NoZWR1bGVyRm4pIHtcbiAgICAgIGN1c3RvbVNjaGVkdWxlckZuKGZsdXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NoZWR1bGVGbHVzaCgpO1xuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgY3VzdG9tU2NoZWR1bGVyRm4gPSBzY2hlZHVsZUZuO1xufVxuXG5mdW5jdGlvbiBzZXRBc2FwKGFzYXBGbikge1xuICBhc2FwID0gYXNhcEZuO1xufVxuXG52YXIgYnJvd3NlcldpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdW5kZWZpbmVkO1xudmFyIGJyb3dzZXJHbG9iYWwgPSBicm93c2VyV2luZG93IHx8IHt9O1xudmFyIEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyID0gYnJvd3Nlckdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGJyb3dzZXJHbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbnZhciBpc05vZGUgPSB0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICh7fSkudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4vLyB0ZXN0IGZvciB3ZWIgd29ya2VyIGJ1dCBub3QgaW4gSUUxMFxudmFyIGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuLy8gbm9kZVxuZnVuY3Rpb24gdXNlTmV4dFRpY2soKSB7XG4gIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2N1am9qcy93aGVuL2lzc3Vlcy80MTAgZm9yIGRldGFpbHNcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gIH07XG59XG5cbi8vIHZlcnR4XG5mdW5jdGlvbiB1c2VWZXJ0eFRpbWVyKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZlcnR4TmV4dChmbHVzaCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZU11dGF0aW9uT2JzZXJ2ZXIoKSB7XG4gIHZhciBpdGVyYXRpb25zID0gMDtcbiAgdmFyIG9ic2VydmVyID0gbmV3IEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGZsdXNoKTtcbiAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gIG9ic2VydmVyLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgbm9kZS5kYXRhID0gaXRlcmF0aW9ucyA9ICsraXRlcmF0aW9ucyAlIDI7XG4gIH07XG59XG5cbi8vIHdlYiB3b3JrZXJcbmZ1bmN0aW9uIHVzZU1lc3NhZ2VDaGFubmVsKCkge1xuICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZsdXNoO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VTZXRUaW1lb3V0KCkge1xuICAvLyBTdG9yZSBzZXRUaW1lb3V0IHJlZmVyZW5jZSBzbyBlczYtcHJvbWlzZSB3aWxsIGJlIHVuYWZmZWN0ZWQgYnlcbiAgLy8gb3RoZXIgY29kZSBtb2RpZnlpbmcgc2V0VGltZW91dCAobGlrZSBzaW5vbi51c2VGYWtlVGltZXJzKCkpXG4gIHZhciBnbG9iYWxTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZ2xvYmFsU2V0VGltZW91dChmbHVzaCwgMSk7XG4gIH07XG59XG5cbnZhciBxdWV1ZSA9IG5ldyBBcnJheSgxMDAwKTtcbmZ1bmN0aW9uIGZsdXNoKCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gcXVldWVbaV07XG4gICAgdmFyIGFyZyA9IHF1ZXVlW2kgKyAxXTtcblxuICAgIGNhbGxiYWNrKGFyZyk7XG5cbiAgICBxdWV1ZVtpXSA9IHVuZGVmaW5lZDtcbiAgICBxdWV1ZVtpICsgMV0gPSB1bmRlZmluZWQ7XG4gIH1cblxuICBsZW4gPSAwO1xufVxuXG5mdW5jdGlvbiBhdHRlbXB0VmVydHgoKSB7XG4gIHRyeSB7XG4gICAgdmFyIHIgPSByZXF1aXJlO1xuICAgIHZhciB2ZXJ0eCA9IHIoJ3ZlcnR4Jyk7XG4gICAgdmVydHhOZXh0ID0gdmVydHgucnVuT25Mb29wIHx8IHZlcnR4LnJ1bk9uQ29udGV4dDtcbiAgICByZXR1cm4gdXNlVmVydHhUaW1lcigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHVzZVNldFRpbWVvdXQoKTtcbiAgfVxufVxuXG52YXIgc2NoZWR1bGVGbHVzaCA9IHVuZGVmaW5lZDtcbi8vIERlY2lkZSB3aGF0IGFzeW5jIG1ldGhvZCB0byB1c2UgdG8gdHJpZ2dlcmluZyBwcm9jZXNzaW5nIG9mIHF1ZXVlZCBjYWxsYmFja3M6XG5pZiAoaXNOb2RlKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VOZXh0VGljaygpO1xufSBlbHNlIGlmIChCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlTXV0YXRpb25PYnNlcnZlcigpO1xufSBlbHNlIGlmIChpc1dvcmtlcikge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlTWVzc2FnZUNoYW5uZWwoKTtcbn0gZWxzZSBpZiAoYnJvd3NlcldpbmRvdyA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSBhdHRlbXB0VmVydHgoKTtcbn0gZWxzZSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VTZXRUaW1lb3V0KCk7XG59XG5cbmZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHM7XG5cbiAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaWYgKGNoaWxkW1BST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICBtYWtlUHJvbWlzZShjaGlsZCk7XG4gIH1cblxuICB2YXIgX3N0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuICBpZiAoX3N0YXRlKSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IF9hcmd1bWVudHNbX3N0YXRlIC0gMV07XG4gICAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGludm9rZUNhbGxiYWNrKF9zdGF0ZSwgY2hpbGQsIGNhbGxiYWNrLCBwYXJlbnQuX3Jlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9KSgpO1xuICB9IGVsc2Uge1xuICAgIHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbik7XG4gIH1cblxuICByZXR1cm4gY2hpbGQ7XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yZXNvbHZlYCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIHJlc29sdmVkIHdpdGggdGhlXG4gIHBhc3NlZCBgdmFsdWVgLiBJdCBpcyBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVzb2x2ZSgxKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgSW5zdGVhZCBvZiB3cml0aW5nIHRoZSBhYm92ZSwgeW91ciBjb2RlIG5vdyBzaW1wbHkgYmVjb21lcyB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoMSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZXNvbHZlXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBbnl9IHZhbHVlIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCB3aXRoXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgZnVsZmlsbGVkIHdpdGggdGhlIGdpdmVuXG4gIGB2YWx1ZWBcbiovXG5mdW5jdGlvbiByZXNvbHZlKG9iamVjdCkge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcbiAgX3Jlc29sdmUocHJvbWlzZSwgb2JqZWN0KTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbnZhciBQUk9NSVNFX0lEID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDE2KTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBQRU5ESU5HID0gdm9pZCAwO1xudmFyIEZVTEZJTExFRCA9IDE7XG52YXIgUkVKRUNURUQgPSAyO1xuXG52YXIgR0VUX1RIRU5fRVJST1IgPSBuZXcgRXJyb3JPYmplY3QoKTtcblxuZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG59XG5cbmZ1bmN0aW9uIGNhbm5vdFJldHVybk93bigpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbn1cblxuZnVuY3Rpb24gZ2V0VGhlbihwcm9taXNlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBHRVRfVEhFTl9FUlJPUi5lcnJvciA9IGVycm9yO1xuICAgIHJldHVybiBHRVRfVEhFTl9FUlJPUjtcbiAgfVxufVxuXG5mdW5jdGlvbiB0cnlUaGVuKHRoZW4sIHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpIHtcbiAgdHJ5IHtcbiAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUsIHRoZW4pIHtcbiAgYXNhcChmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgIHZhciBzZWFsZWQgPSBmYWxzZTtcbiAgICB2YXIgZXJyb3IgPSB0cnlUaGVuKHRoZW4sIHRoZW5hYmxlLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChzZWFsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIGlmICh0aGVuYWJsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgX3Jlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICBfcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSwgJ1NldHRsZTogJyArIChwcm9taXNlLl9sYWJlbCB8fCAnIHVua25vd24gcHJvbWlzZScpKTtcblxuICAgIGlmICghc2VhbGVkICYmIGVycm9yKSB7XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgX3JlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfVxuICB9LCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHtcbiAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgX3JlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gX3Jlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJldHVybiBfcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQpIHtcbiAgaWYgKG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IgPT09IHByb21pc2UuY29uc3RydWN0b3IgJiYgdGhlbiQkID09PSB0aGVuICYmIG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IucmVzb2x2ZSA9PT0gcmVzb2x2ZSkge1xuICAgIGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICB9IGVsc2Uge1xuICAgIGlmICh0aGVuJCQgPT09IEdFVF9USEVOX0VSUk9SKSB7XG4gICAgICBfcmVqZWN0KHByb21pc2UsIEdFVF9USEVOX0VSUk9SLmVycm9yKTtcbiAgICB9IGVsc2UgaWYgKHRoZW4kJCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGVuJCQpKSB7XG4gICAgICBoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbiQkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gX3Jlc29sdmUocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgX3JlamVjdChwcm9taXNlLCBzZWxmRnVsZmlsbG1lbnQoKSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlLCBnZXRUaGVuKHZhbHVlKSk7XG4gIH0gZWxzZSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaFJlamVjdGlvbihwcm9taXNlKSB7XG4gIGlmIChwcm9taXNlLl9vbmVycm9yKSB7XG4gICAgcHJvbWlzZS5fb25lcnJvcihwcm9taXNlLl9yZXN1bHQpO1xuICB9XG5cbiAgcHVibGlzaChwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gZnVsZmlsbChwcm9taXNlLCB2YWx1ZSkge1xuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcm9taXNlLl9yZXN1bHQgPSB2YWx1ZTtcbiAgcHJvbWlzZS5fc3RhdGUgPSBGVUxGSUxMRUQ7XG5cbiAgaWYgKHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCAhPT0gMCkge1xuICAgIGFzYXAocHVibGlzaCwgcHJvbWlzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX3JlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG4gIHBhcmVudC5fb25lcnJvciA9IG51bGw7XG5cbiAgX3N1YnNjcmliZXJzW2xlbmd0aF0gPSBjaGlsZDtcbiAgX3N1YnNjcmliZXJzW2xlbmd0aCArIEZVTEZJTExFRF0gPSBvbkZ1bGZpbGxtZW50O1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgUkVKRUNURURdID0gb25SZWplY3Rpb247XG5cbiAgaWYgKGxlbmd0aCA9PT0gMCAmJiBwYXJlbnQuX3N0YXRlKSB7XG4gICAgYXNhcChwdWJsaXNoLCBwYXJlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2gocHJvbWlzZSkge1xuICB2YXIgc3Vic2NyaWJlcnMgPSBwcm9taXNlLl9zdWJzY3JpYmVycztcbiAgdmFyIHNldHRsZWQgPSBwcm9taXNlLl9zdGF0ZTtcblxuICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNoaWxkID0gdW5kZWZpbmVkLFxuICAgICAgY2FsbGJhY2sgPSB1bmRlZmluZWQsXG4gICAgICBkZXRhaWwgPSBwcm9taXNlLl9yZXN1bHQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgIGNoaWxkID0gc3Vic2NyaWJlcnNbaV07XG4gICAgY2FsbGJhY2sgPSBzdWJzY3JpYmVyc1tpICsgc2V0dGxlZF07XG5cbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIGNoaWxkLCBjYWxsYmFjaywgZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soZGV0YWlsKTtcbiAgICB9XG4gIH1cblxuICBwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggPSAwO1xufVxuXG5mdW5jdGlvbiBFcnJvck9iamVjdCgpIHtcbiAgdGhpcy5lcnJvciA9IG51bGw7XG59XG5cbnZhciBUUllfQ0FUQ0hfRVJST1IgPSBuZXcgRXJyb3JPYmplY3QoKTtcblxuZnVuY3Rpb24gdHJ5Q2F0Y2goY2FsbGJhY2ssIGRldGFpbCkge1xuICB0cnkge1xuICAgIHJldHVybiBjYWxsYmFjayhkZXRhaWwpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgVFJZX0NBVENIX0VSUk9SLmVycm9yID0gZTtcbiAgICByZXR1cm4gVFJZX0NBVENIX0VSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdmFyIGhhc0NhbGxiYWNrID0gaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICB2YWx1ZSA9IHVuZGVmaW5lZCxcbiAgICAgIGVycm9yID0gdW5kZWZpbmVkLFxuICAgICAgc3VjY2VlZGVkID0gdW5kZWZpbmVkLFxuICAgICAgZmFpbGVkID0gdW5kZWZpbmVkO1xuXG4gIGlmIChoYXNDYWxsYmFjaykge1xuICAgIHZhbHVlID0gdHJ5Q2F0Y2goY2FsbGJhY2ssIGRldGFpbCk7XG5cbiAgICBpZiAodmFsdWUgPT09IFRSWV9DQVRDSF9FUlJPUikge1xuICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgIGVycm9yID0gdmFsdWUuZXJyb3I7XG4gICAgICB2YWx1ZSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1Y2NlZWRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICBfcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIC8vIG5vb3BcbiAgfSBlbHNlIGlmIChoYXNDYWxsYmFjayAmJiBzdWNjZWVkZWQpIHtcbiAgICAgIF9yZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGZhaWxlZCkge1xuICAgICAgX3JlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBGVUxGSUxMRUQpIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICAgIF9yZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaW5pdGlhbGl6ZVByb21pc2UocHJvbWlzZSwgcmVzb2x2ZXIpIHtcbiAgdHJ5IHtcbiAgICByZXNvbHZlcihmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSkge1xuICAgICAgX3Jlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICBfcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBfcmVqZWN0KHByb21pc2UsIGUpO1xuICB9XG59XG5cbnZhciBpZCA9IDA7XG5mdW5jdGlvbiBuZXh0SWQoKSB7XG4gIHJldHVybiBpZCsrO1xufVxuXG5mdW5jdGlvbiBtYWtlUHJvbWlzZShwcm9taXNlKSB7XG4gIHByb21pc2VbUFJPTUlTRV9JRF0gPSBpZCsrO1xuICBwcm9taXNlLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fcmVzdWx0ID0gdW5kZWZpbmVkO1xuICBwcm9taXNlLl9zdWJzY3JpYmVycyA9IFtdO1xufVxuXG5mdW5jdGlvbiBFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yID0gQ29uc3RydWN0b3I7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcblxuICBpZiAoIXRoaXMucHJvbWlzZVtQUk9NSVNFX0lEXSkge1xuICAgIG1ha2VQcm9taXNlKHRoaXMucHJvbWlzZSk7XG4gIH1cblxuICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgIHRoaXMuX3JlbWFpbmluZyA9IGlucHV0Lmxlbmd0aDtcblxuICAgIHRoaXMuX3Jlc3VsdCA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG5cbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICB0aGlzLl9lbnVtZXJhdGUoKTtcbiAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIF9yZWplY3QodGhpcy5wcm9taXNlLCB2YWxpZGF0aW9uRXJyb3IoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn07XG5cbkVudW1lcmF0b3IucHJvdG90eXBlLl9lbnVtZXJhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aDtcbiAgdmFyIF9pbnB1dCA9IHRoaXMuX2lucHV0O1xuXG4gIGZvciAodmFyIGkgPSAwOyB0aGlzLl9zdGF0ZSA9PT0gUEVORElORyAmJiBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB0aGlzLl9lYWNoRW50cnkoX2lucHV0W2ldLCBpKTtcbiAgfVxufTtcblxuRW51bWVyYXRvci5wcm90b3R5cGUuX2VhY2hFbnRyeSA9IGZ1bmN0aW9uIChlbnRyeSwgaSkge1xuICB2YXIgYyA9IHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3I7XG4gIHZhciByZXNvbHZlJCQgPSBjLnJlc29sdmU7XG5cbiAgaWYgKHJlc29sdmUkJCA9PT0gcmVzb2x2ZSkge1xuICAgIHZhciBfdGhlbiA9IGdldFRoZW4oZW50cnkpO1xuXG4gICAgaWYgKF90aGVuID09PSB0aGVuICYmIGVudHJ5Ll9zdGF0ZSAhPT0gUEVORElORykge1xuICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgX3RoZW4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgfSBlbHNlIGlmIChjID09PSBQcm9taXNlKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBjKG5vb3ApO1xuICAgICAgaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBlbnRyeSwgX3RoZW4pO1xuICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl93aWxsU2V0dGxlQXQobmV3IGMoZnVuY3Rpb24gKHJlc29sdmUkJCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSQkKGVudHJ5KTtcbiAgICAgIH0pLCBpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fd2lsbFNldHRsZUF0KHJlc29sdmUkJChlbnRyeSksIGkpO1xuICB9XG59O1xuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fc2V0dGxlZEF0ID0gZnVuY3Rpb24gKHN0YXRlLCBpLCB2YWx1ZSkge1xuICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZTtcblxuICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcpIHtcbiAgICB0aGlzLl9yZW1haW5pbmctLTtcblxuICAgIGlmIChzdGF0ZSA9PT0gUkVKRUNURUQpIHtcbiAgICAgIF9yZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICB9XG59O1xuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fd2lsbFNldHRsZUF0ID0gZnVuY3Rpb24gKHByb21pc2UsIGkpIHtcbiAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gIHN1YnNjcmliZShwcm9taXNlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gZW51bWVyYXRvci5fc2V0dGxlZEF0KFJFSkVDVEVELCBpLCByZWFzb24pO1xuICB9KTtcbn07XG5cbi8qKlxuICBgUHJvbWlzZS5hbGxgIGFjY2VwdHMgYW4gYXJyYXkgb2YgcHJvbWlzZXMsIGFuZCByZXR1cm5zIGEgbmV3IHByb21pc2Ugd2hpY2hcbiAgaXMgZnVsZmlsbGVkIHdpdGggYW4gYXJyYXkgb2YgZnVsZmlsbG1lbnQgdmFsdWVzIGZvciB0aGUgcGFzc2VkIHByb21pc2VzLCBvclxuICByZWplY3RlZCB3aXRoIHRoZSByZWFzb24gb2YgdGhlIGZpcnN0IHBhc3NlZCBwcm9taXNlIHRvIGJlIHJlamVjdGVkLiBJdCBjYXN0cyBhbGxcbiAgZWxlbWVudHMgb2YgdGhlIHBhc3NlZCBpdGVyYWJsZSB0byBwcm9taXNlcyBhcyBpdCBydW5zIHRoaXMgYWxnb3JpdGhtLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSByZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSByZXNvbHZlKDIpO1xuICBsZXQgcHJvbWlzZTMgPSByZXNvbHZlKDMpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gVGhlIGFycmF5IGhlcmUgd291bGQgYmUgWyAxLCAyLCAzIF07XG4gIH0pO1xuICBgYGBcblxuICBJZiBhbnkgb2YgdGhlIGBwcm9taXNlc2AgZ2l2ZW4gdG8gYGFsbGAgYXJlIHJlamVjdGVkLCB0aGUgZmlyc3QgcHJvbWlzZVxuICB0aGF0IGlzIHJlamVjdGVkIHdpbGwgYmUgZ2l2ZW4gYXMgYW4gYXJndW1lbnQgdG8gdGhlIHJldHVybmVkIHByb21pc2VzJ3NcbiAgcmVqZWN0aW9uIGhhbmRsZXIuIEZvciBleGFtcGxlOlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSByZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSByZWplY3QobmV3IEVycm9yKFwiMlwiKSk7XG4gIGxldCBwcm9taXNlMyA9IHJlamVjdChuZXcgRXJyb3IoXCIzXCIpKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgIC8vIGVycm9yLm1lc3NhZ2UgPT09IFwiMlwiXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIGFsbFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QXJyYXl9IGVudHJpZXMgYXJyYXkgb2YgcHJvbWlzZXNcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCBgcHJvbWlzZXNgIGhhdmUgYmVlblxuICBmdWxmaWxsZWQsIG9yIHJlamVjdGVkIGlmIGFueSBvZiB0aGVtIGJlY29tZSByZWplY3RlZC5cbiAgQHN0YXRpY1xuKi9cbmZ1bmN0aW9uIGFsbChlbnRyaWVzKSB7XG4gIHJldHVybiBuZXcgRW51bWVyYXRvcih0aGlzLCBlbnRyaWVzKS5wcm9taXNlO1xufVxuXG4vKipcbiAgYFByb21pc2UucmFjZWAgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoIGlzIHNldHRsZWQgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBzZXR0bGUuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDInKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgaXQgd2FzIHJlc29sdmVkIGJlZm9yZSBwcm9taXNlMVxuICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgfSk7XG4gIGBgYFxuXG4gIGBQcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3Byb21pc2UgMicpKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBQcm9taXNlLnJhY2UoW2FqYXgoJ2Zvby5qc29uJyksIHRpbWVvdXQoNTAwMCldKVxuICBgYGBcblxuICBAbWV0aG9kIHJhY2VcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHdoaWNoIHNldHRsZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZSBmaXJzdCBwYXNzZWRcbiAgcHJvbWlzZSB0byBzZXR0bGUuXG4qL1xuZnVuY3Rpb24gcmFjZShlbnRyaWVzKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yZWplY3RgIHJldHVybnMgYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIHBhc3NlZCBgcmVhc29uYC5cbiAgSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVqZWN0XG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBbnl9IHJlYXNvbiB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aC5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgcmVqZWN0ZWQgd2l0aCB0aGUgZ2l2ZW4gYHJlYXNvbmAuXG4qL1xuZnVuY3Rpb24gcmVqZWN0KHJlYXNvbikge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcbiAgX3JlamVjdChwcm9taXNlLCByZWFzb24pO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gbmVlZHNSZXNvbHZlcigpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xufVxuXG5mdW5jdGlvbiBuZWVkc05ldygpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbn1cblxuLyoqXG4gIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGUgcmVhc29uXG4gIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gIFRlcm1pbm9sb2d5XG4gIC0tLS0tLS0tLS0tXG5cbiAgLSBgcHJvbWlzZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHdpdGggYSBgdGhlbmAgbWV0aG9kIHdob3NlIGJlaGF2aW9yIGNvbmZvcm1zIHRvIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAtIGB2YWx1ZWAgaXMgYW55IGxlZ2FsIEphdmFTY3JpcHQgdmFsdWUgKGluY2x1ZGluZyB1bmRlZmluZWQsIGEgdGhlbmFibGUsIG9yIGEgcHJvbWlzZSkuXG4gIC0gYGV4Y2VwdGlvbmAgaXMgYSB2YWx1ZSB0aGF0IGlzIHRocm93biB1c2luZyB0aGUgdGhyb3cgc3RhdGVtZW50LlxuICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gIC0gYHNldHRsZWRgIHRoZSBmaW5hbCByZXN0aW5nIHN0YXRlIG9mIGEgcHJvbWlzZSwgZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuXG4gIEEgcHJvbWlzZSBjYW4gYmUgaW4gb25lIG9mIHRocmVlIHN0YXRlczogcGVuZGluZywgZnVsZmlsbGVkLCBvciByZWplY3RlZC5cblxuICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICBzdGF0ZS4gIFByb21pc2VzIHRoYXQgYXJlIHJlamVjdGVkIGhhdmUgYSByZWplY3Rpb24gcmVhc29uIGFuZCBhcmUgaW4gdGhlXG4gIHJlamVjdGVkIHN0YXRlLiAgQSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZXZlciBhIHRoZW5hYmxlLlxuXG4gIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICBwcm9taXNlLCB0aGVuIHRoZSBvcmlnaW5hbCBwcm9taXNlJ3Mgc2V0dGxlZCBzdGF0ZSB3aWxsIG1hdGNoIHRoZSB2YWx1ZSdzXG4gIHNldHRsZWQgc3RhdGUuICBTbyBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2lsbFxuICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gIGl0c2VsZiBmdWxmaWxsLlxuXG5cbiAgQmFzaWMgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLVxuXG4gIGBgYGpzXG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gb24gc3VjY2Vzc1xuICAgIHJlc29sdmUodmFsdWUpO1xuXG4gICAgLy8gb24gZmFpbHVyZVxuICAgIHJlamVjdChyZWFzb24pO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIEFkdmFuY2VkIFVzYWdlOlxuICAtLS0tLS0tLS0tLS0tLS1cblxuICBQcm9taXNlcyBzaGluZSB3aGVuIGFic3RyYWN0aW5nIGF3YXkgYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBzdWNoIGFzXG4gIGBYTUxIdHRwUmVxdWVzdGBzLlxuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGdldEpTT04odXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZXI7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SlNPTjogYCcgKyB1cmwgKyAnYCBmYWlsZWQgd2l0aCBzdGF0dXM6IFsnICsgdGhpcy5zdGF0dXMgKyAnXScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXRKU09OKCcvcG9zdHMuanNvbicpLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgVW5saWtlIGNhbGxiYWNrcywgcHJvbWlzZXMgYXJlIGdyZWF0IGNvbXBvc2FibGUgcHJpbWl0aXZlcy5cblxuICBgYGBqc1xuICBQcm9taXNlLmFsbChbXG4gICAgZ2V0SlNPTignL3Bvc3RzJyksXG4gICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgXSkudGhlbihmdW5jdGlvbih2YWx1ZXMpe1xuICAgIHZhbHVlc1swXSAvLyA9PiBwb3N0c0pTT05cbiAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9KTtcbiAgYGBgXG5cbiAgQGNsYXNzIFByb21pc2VcbiAgQHBhcmFtIHtmdW5jdGlvbn0gcmVzb2x2ZXJcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAY29uc3RydWN0b3JcbiovXG5mdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gIHRoaXNbUFJPTUlTRV9JRF0gPSBuZXh0SWQoKTtcbiAgdGhpcy5fcmVzdWx0ID0gdGhpcy5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgaWYgKG5vb3AgIT09IHJlc29sdmVyKSB7XG4gICAgdHlwZW9mIHJlc29sdmVyICE9PSAnZnVuY3Rpb24nICYmIG5lZWRzUmVzb2x2ZXIoKTtcbiAgICB0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSA/IGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IG5lZWRzTmV3KCk7XG4gIH1cbn1cblxuUHJvbWlzZS5hbGwgPSBhbGw7XG5Qcm9taXNlLnJhY2UgPSByYWNlO1xuUHJvbWlzZS5yZXNvbHZlID0gcmVzb2x2ZTtcblByb21pc2UucmVqZWN0ID0gcmVqZWN0O1xuUHJvbWlzZS5fc2V0U2NoZWR1bGVyID0gc2V0U2NoZWR1bGVyO1xuUHJvbWlzZS5fc2V0QXNhcCA9IHNldEFzYXA7XG5Qcm9taXNlLl9hc2FwID0gYXNhcDtcblxuUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQcm9taXNlLFxuXG4gIC8qKlxuICAgIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICAgIHdoaWNoIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlXG4gICAgcmVhc29uIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbih1c2VyKXtcbiAgICAgIC8vIHVzZXIgaXMgYXZhaWxhYmxlXG4gICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgIC8vIHVzZXIgaXMgdW5hdmFpbGFibGUsIGFuZCB5b3UgYXJlIGdpdmVuIHRoZSByZWFzb24gd2h5XG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIENoYWluaW5nXG4gICAgLS0tLS0tLS1cbiAgXG4gICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgICBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZmlyc3QgcHJvbWlzZSdzIGZ1bGZpbGxtZW50XG4gICAgb3IgcmVqZWN0aW9uIGhhbmRsZXIsIG9yIHJlamVjdGVkIGlmIHRoZSBoYW5kbGVyIHRocm93cyBhbiBleGNlcHRpb24uXG4gIFxuICAgIGBgYGpzXG4gICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICByZXR1cm4gdXNlci5uYW1lO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJldHVybiAnZGVmYXVsdCBuYW1lJztcbiAgICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyTmFtZSkge1xuICAgICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgICAgLy8gd2lsbCBiZSBgJ2RlZmF1bHQgbmFtZSdgXG4gICAgfSk7XG4gIFxuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgLy8gaWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGByZWFzb25gIHdpbGwgYmUgJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jy5cbiAgICAgIC8vIElmIGBmaW5kVXNlcmAgcmVqZWN0ZWQsIGByZWFzb25gIHdpbGwgYmUgJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknLlxuICAgIH0pO1xuICAgIGBgYFxuICAgIElmIHRoZSBkb3duc3RyZWFtIHByb21pc2UgZG9lcyBub3Qgc3BlY2lmeSBhIHJlamVjdGlvbiBoYW5kbGVyLCByZWplY3Rpb24gcmVhc29ucyB3aWxsIGJlIHByb3BhZ2F0ZWQgZnVydGhlciBkb3duc3RyZWFtLlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgdGhyb3cgbmV3IFBlZGFnb2dpY2FsRXhjZXB0aW9uKCdVcHN0cmVhbSBlcnJvcicpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAvLyBUaGUgYFBlZGdhZ29jaWFsRXhjZXB0aW9uYCBpcyBwcm9wYWdhdGVkIGFsbCB0aGUgd2F5IGRvd24gdG8gaGVyZVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBBc3NpbWlsYXRpb25cbiAgICAtLS0tLS0tLS0tLS1cbiAgXG4gICAgU29tZXRpbWVzIHRoZSB2YWx1ZSB5b3Ugd2FudCB0byBwcm9wYWdhdGUgdG8gYSBkb3duc3RyZWFtIHByb21pc2UgY2FuIG9ubHkgYmVcbiAgICByZXRyaWV2ZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJldHVybmluZyBhIHByb21pc2UgaW4gdGhlXG4gICAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgICB1bnRpbCB0aGUgcmV0dXJuZWQgcHJvbWlzZSBpcyBzZXR0bGVkLiBUaGlzIGlzIGNhbGxlZCAqYXNzaW1pbGF0aW9uKi5cbiAgXG4gICAgYGBganNcbiAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgLy8gVGhlIHVzZXIncyBjb21tZW50cyBhcmUgbm93IGF2YWlsYWJsZVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cbiAgXG4gICAgYGBganNcbiAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCBmdWxmaWxscywgd2UnbGwgaGF2ZSB0aGUgdmFsdWUgaGVyZVxuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgcmVqZWN0cywgd2UnbGwgaGF2ZSB0aGUgcmVhc29uIGhlcmVcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgU2ltcGxlIEV4YW1wbGVcbiAgICAtLS0tLS0tLS0tLS0tLVxuICBcbiAgICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gIFxuICAgIGBgYGphdmFzY3JpcHRcbiAgICBsZXQgcmVzdWx0O1xuICBcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gZmluZFJlc3VsdCgpO1xuICAgICAgLy8gc3VjY2Vzc1xuICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfVxuICAgIGBgYFxuICBcbiAgICBFcnJiYWNrIEV4YW1wbGVcbiAgXG4gICAgYGBganNcbiAgICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBQcm9taXNlIEV4YW1wbGU7XG4gIFxuICAgIGBgYGphdmFzY3JpcHRcbiAgICBmaW5kUmVzdWx0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgLy8gc3VjY2Vzc1xuICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIEFkdmFuY2VkIEV4YW1wbGVcbiAgICAtLS0tLS0tLS0tLS0tLVxuICBcbiAgICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gIFxuICAgIGBgYGphdmFzY3JpcHRcbiAgICBsZXQgYXV0aG9yLCBib29rcztcbiAgXG4gICAgdHJ5IHtcbiAgICAgIGF1dGhvciA9IGZpbmRBdXRob3IoKTtcbiAgICAgIGJvb2tzICA9IGZpbmRCb29rc0J5QXV0aG9yKGF1dGhvcik7XG4gICAgICAvLyBzdWNjZXNzXG4gICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9XG4gICAgYGBgXG4gIFxuICAgIEVycmJhY2sgRXhhbXBsZVxuICBcbiAgICBgYGBqc1xuICBcbiAgICBmdW5jdGlvbiBmb3VuZEJvb2tzKGJvb2tzKSB7XG4gIFxuICAgIH1cbiAgXG4gICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcbiAgXG4gICAgfVxuICBcbiAgICBmaW5kQXV0aG9yKGZ1bmN0aW9uKGF1dGhvciwgZXJyKXtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAvLyBmYWlsdXJlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZpbmRCb29va3NCeUF1dGhvcihhdXRob3IsIGZ1bmN0aW9uKGJvb2tzLCBlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3VuZEJvb2tzKGJvb2tzKTtcbiAgICAgICAgICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICBmYWlsdXJlKHJlYXNvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzdWNjZXNzXG4gICAgICB9XG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIFByb21pc2UgRXhhbXBsZTtcbiAgXG4gICAgYGBgamF2YXNjcmlwdFxuICAgIGZpbmRBdXRob3IoKS5cbiAgICAgIHRoZW4oZmluZEJvb2tzQnlBdXRob3IpLlxuICAgICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAgIC8vIGZvdW5kIGJvb2tzXG4gICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIEBtZXRob2QgdGhlblxuICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uRnVsZmlsbGVkXG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3RlZFxuICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuICB0aGVuOiB0aGVuLFxuXG4gIC8qKlxuICAgIGBjYXRjaGAgaXMgc2ltcGx5IHN1Z2FyIGZvciBgdGhlbih1bmRlZmluZWQsIG9uUmVqZWN0aW9uKWAgd2hpY2ggbWFrZXMgaXQgdGhlIHNhbWVcbiAgICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuICBcbiAgICBgYGBqc1xuICAgIGZ1bmN0aW9uIGZpbmRBdXRob3IoKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICAgIH1cbiAgXG4gICAgLy8gc3luY2hyb25vdXNcbiAgICB0cnkge1xuICAgICAgZmluZEF1dGhvcigpO1xuICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgIH1cbiAgXG4gICAgLy8gYXN5bmMgd2l0aCBwcm9taXNlc1xuICAgIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQG1ldGhvZCBjYXRjaFxuICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG4gICdjYXRjaCc6IGZ1bmN0aW9uIF9jYXRjaChvblJlamVjdGlvbikge1xuICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3Rpb24pO1xuICB9XG59O1xuXG5mdW5jdGlvbiBwb2x5ZmlsbCgpIHtcbiAgICB2YXIgbG9jYWwgPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9jYWwgPSBnbG9iYWw7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9jYWwgPSBzZWxmO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncG9seWZpbGwgZmFpbGVkIGJlY2F1c2UgZ2xvYmFsIG9iamVjdCBpcyB1bmF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgICBpZiAoUCkge1xuICAgICAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHByb21pc2VUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChQLnJlc29sdmUoKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIHNpbGVudGx5IGlnbm9yZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9taXNlVG9TdHJpbmcgPT09ICdbb2JqZWN0IFByb21pc2VdJyAmJiAhUC5jYXN0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2NhbC5Qcm9taXNlID0gUHJvbWlzZTtcbn1cblxucG9seWZpbGwoKTtcbi8vIFN0cmFuZ2UgY29tcGF0Li5cblByb21pc2UucG9seWZpbGwgPSBwb2x5ZmlsbDtcblByb21pc2UuUHJvbWlzZSA9IFByb21pc2U7XG5cbnJldHVybiBQcm9taXNlO1xuXG59KSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXM2LXByb21pc2UubWFwIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIi8qIVxuICogcmVhY3QtZmlsZXBvbmQgdjcuMS4wXG4gKiBBIGhhbmR5IEZpbGVQb25kIGFkYXB0ZXIgY29tcG9uZW50IGZvciBSZWFjdFxuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgUFFJTkFcbiAqIGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmRcbiAqIFxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuRmlsZVBvbmQgPSBleHBvcnRzLkZpbGVTdGF0dXMgPSBleHBvcnRzLnJlZ2lzdGVyUGx1Z2luID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfZmlsZXBvbmQgPSByZXF1aXJlKCdmaWxlcG9uZCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8vIEltcG9ydCByZXF1aXJlZCBtZXRob2RzIGFuZCBzdHlsZXMgZnJvbSB0aGUgRmlsZVBvbmQgbW9kdWxlLCBzaG91bGQgbm90IG5lZWQgYW55dGhpbmcgZWxzZVxuXG5cbi8vIFdlIG5lZWQgdG8gYmUgYWJsZSB0byBjYWxsIHRoZSByZWdpc3RlclBsdWdpbiBtZXRob2QgZGlyZWN0bHkgc28gd2UgY2FuIGFkZCBwbHVnaW5zXG5leHBvcnRzLnJlZ2lzdGVyUGx1Z2luID0gX2ZpbGVwb25kLnJlZ2lzdGVyUGx1Z2luO1xuZXhwb3J0cy5GaWxlU3RhdHVzID0gX2ZpbGVwb25kLkZpbGVTdGF0dXM7XG5cbi8vIERvIHRoaXMgb25jZVxuXG52YXIgaXNTdXBwb3J0ZWQgPSAoMCwgX2ZpbGVwb25kLnN1cHBvcnRlZCkoKTtcblxuLy8gZmlsdGVyZWQgbWV0aG9kc1xudmFyIGZpbHRlcmVkTWV0aG9kcyA9IFsnc2V0T3B0aW9ucycsICdvbicsICdvZmYnLCAnb25PbmNlJywgJ2FwcGVuZFRvJywgJ2luc2VydEFmdGVyJywgJ2luc2VydEJlZm9yZScsICdpc0F0dGFjaGVkVG8nLCAncmVwbGFjZUVsZW1lbnQnLCAncmVzdG9yZUVsZW1lbnQnLCAnZGVzdHJveSddO1xuXG4vLyBUaGUgUmVhY3QgPEZpbGVQb25kLz4gd3JhcHBlclxuXG52YXIgRmlsZVBvbmQgPSBleHBvcnRzLkZpbGVQb25kID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEZpbGVQb25kLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBGaWxlUG9uZChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWxlUG9uZCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRmlsZVBvbmQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihGaWxlUG9uZCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmFsbG93RmlsZXNTeW5jID0gdHJ1ZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvLyBXaWxsIHNldHVwIEZpbGVQb25kIGluc3RhbmNlIHdoZW4gbW91bnRlZFxuXG5cbiAgX2NyZWF0ZUNsYXNzKEZpbGVQb25kLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgLy8gZXhpdCBoZXJlIGlmIG5vdCBzdXBwb3J0ZWRcbiAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHJldHVybjtcblxuICAgICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzKTtcblxuICAgICAgLy8gaWYgb251cGRhdGUgZmlsZXMgaXMgZGVmaW5lZCwgbWFrZSBzdXJlIHNldEZpbGVzIGRvZXMgbm90IGNhdXNlIHJhY2UgY29uZGl0aW9uXG4gICAgICBpZiAob3B0aW9ucy5vbnVwZGF0ZWZpbGVzKSB7XG4gICAgICAgIHZhciBjYiA9IG9wdGlvbnMub251cGRhdGVmaWxlcztcbiAgICAgICAgb3B0aW9ucy5vbnVwZGF0ZWZpbGVzID0gZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgICAgICAgX3RoaXMyLmFsbG93RmlsZXNTeW5jID0gZmFsc2U7XG4gICAgICAgICAgY2IoaXRlbXMpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgb3VyIHBvbmRcbiAgICAgIHRoaXMuX3BvbmQgPSAoMCwgX2ZpbGVwb25kLmNyZWF0ZSkodGhpcy5fZWxlbWVudCwgb3B0aW9ucyk7XG5cbiAgICAgIC8vIFJlZmVyZW5jZSBwb25kIG1ldGhvZHMgdG8gRmlsZVBvbmQgY29tcG9uZW50IGluc3RhbmNlXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLl9wb25kKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gIWZpbHRlcmVkTWV0aG9kcy5pbmNsdWRlcyhrZXkpO1xuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIF90aGlzMltrZXldID0gX3RoaXMyLl9wb25kW2tleV07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBXaWxsIGNsZWFuIHVwIEZpbGVQb25kIGluc3RhbmNlIHdoZW4gdW5tb3VudGVkXG5cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAvLyBleGl0IHdoZW4gbm8gcG9uZCBkZWZpbmVkXG4gICAgICBpZiAoIXRoaXMuX3BvbmQpIHJldHVybjtcbiAgICAgIHRoaXMuX3BvbmQuZGVzdHJveSgpO1xuICAgICAgdGhpcy5hbGxvd0ZpbGVzU3luYyA9IHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgICAgaWYgKCF0aGlzLmFsbG93RmlsZXNTeW5jKSB7XG4gICAgICAgIHRoaXMuYWxsb3dGaWxlc1N5bmMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBTb21ldGhpbmcgY2hhbmdlZFxuXG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cbiAgICAgIC8vIGV4aXQgd2hlbiBubyBwb25kIGRlZmluZWRcbiAgICAgIGlmICghdGhpcy5fcG9uZCkgcmV0dXJuO1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMpO1xuXG4gICAgICAvLyB0aGlzIGlzIG9ubHkgc2V0IG9uY2VzLCBvbiBkaWRtb3VudFxuICAgICAgZGVsZXRlIG9wdGlvbnMub251cGRhdGVmaWxlcztcblxuICAgICAgLy8gdXBkYXRlIHBvbmQgb3B0aW9ucyBiYXNlZCBvbiBuZXcgcHJvcHNcbiAgICAgIHRoaXMuX3BvbmQuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvLyBSZW5kZXJzIGJhc2ljIGVsZW1lbnQgaG9vayBmb3IgRmlsZVBvbmQgdG8gYXR0YWNoIHRvXG5cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBpZCA9IF9wcm9wcy5pZCxcbiAgICAgICAgICBuYW1lID0gX3Byb3BzLm5hbWUsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBhbGxvd011bHRpcGxlID0gX3Byb3BzLmFsbG93TXVsdGlwbGUsXG4gICAgICAgICAgcmVxdWlyZWQgPSBfcHJvcHMucmVxdWlyZWQsXG4gICAgICAgICAgY2FwdHVyZU1ldGhvZCA9IF9wcm9wcy5jYXB0dXJlTWV0aG9kLFxuICAgICAgICAgIGFjY2VwdGVkRmlsZVR5cGVzID0gX3Byb3BzLmFjY2VwdGVkRmlsZVR5cGVzO1xuXG4gICAgICByZXR1cm4gKDAsIF9yZWFjdC5jcmVhdGVFbGVtZW50KSgnZGl2JywgeyBjbGFzc05hbWU6ICdmaWxlcG9uZC0td3JhcHBlcicgfSwgKDAsIF9yZWFjdC5jcmVhdGVFbGVtZW50KSgnaW5wdXQnLCB7XG4gICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBhY2NlcHQ6IGFjY2VwdGVkRmlsZVR5cGVzLFxuICAgICAgICBtdWx0aXBsZTogYWxsb3dNdWx0aXBsZSxcbiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgY2FwdHVyZTogY2FwdHVyZU1ldGhvZCxcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZpbGVQb25kO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuXG4iLCIndXNlIHN0cmljdCc7XG52YXIgbmF0aXZlUHJvcGVydHlJc0VudW1lcmFibGUgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG4vLyBOYXNob3JuIH4gSkRLOCBidWdcbnZhciBOQVNIT1JOX0JVRyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJiAhbmF0aXZlUHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh7IDE6IDIgfSwgMSk7XG5cbi8vIGBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5wcm90b3R5cGUucHJvcGVydHlpc2VudW1lcmFibGVcbmV4cG9ydHMuZiA9IE5BU0hPUk5fQlVHID8gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoVikge1xuICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCBWKTtcbiAgcmV0dXJuICEhZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmVudW1lcmFibGU7XG59IDogbmF0aXZlUHJvcGVydHlJc0VudW1lcmFibGU7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzJyk7XG52YXIgc2V0R2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC1nbG9iYWwnKTtcbnZhciBpbnNwZWN0U291cmNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlJyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xuXG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0O1xudmFyIGVuZm9yY2VJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5lbmZvcmNlO1xudmFyIFRFTVBMQVRFID0gU3RyaW5nKFN0cmluZykuc3BsaXQoJ1N0cmluZycpO1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywga2V5LCB2YWx1ZSwgb3B0aW9ucykge1xuICB2YXIgdW5zYWZlID0gb3B0aW9ucyA/ICEhb3B0aW9ucy51bnNhZmUgOiBmYWxzZTtcbiAgdmFyIHNpbXBsZSA9IG9wdGlvbnMgPyAhIW9wdGlvbnMuZW51bWVyYWJsZSA6IGZhbHNlO1xuICB2YXIgbm9UYXJnZXRHZXQgPSBvcHRpb25zID8gISFvcHRpb25zLm5vVGFyZ2V0R2V0IDogZmFsc2U7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICh0eXBlb2Yga2V5ID09ICdzdHJpbmcnICYmICFoYXModmFsdWUsICduYW1lJykpIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSh2YWx1ZSwgJ25hbWUnLCBrZXkpO1xuICAgIGVuZm9yY2VJbnRlcm5hbFN0YXRlKHZhbHVlKS5zb3VyY2UgPSBURU1QTEFURS5qb2luKHR5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyBrZXkgOiAnJyk7XG4gIH1cbiAgaWYgKE8gPT09IGdsb2JhbCkge1xuICAgIGlmIChzaW1wbGUpIE9ba2V5XSA9IHZhbHVlO1xuICAgIGVsc2Ugc2V0R2xvYmFsKGtleSwgdmFsdWUpO1xuICAgIHJldHVybjtcbiAgfSBlbHNlIGlmICghdW5zYWZlKSB7XG4gICAgZGVsZXRlIE9ba2V5XTtcbiAgfSBlbHNlIGlmICghbm9UYXJnZXRHZXQgJiYgT1trZXldKSB7XG4gICAgc2ltcGxlID0gdHJ1ZTtcbiAgfVxuICBpZiAoc2ltcGxlKSBPW2tleV0gPSB2YWx1ZTtcbiAgZWxzZSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoTywga2V5LCB2YWx1ZSk7XG4vLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbn0pKEZ1bmN0aW9uLnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nICYmIGdldEludGVybmFsU3RhdGUodGhpcykuc291cmNlIHx8IGluc3BlY3RTb3VyY2UodGhpcyk7XG59KTtcbiIsInZhciBOQVRJVkVfV0VBS19NQVAgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmF0aXZlLXdlYWstbWFwJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcbnZhciBvYmplY3RIYXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzJyk7XG52YXIgc2hhcmVkS2V5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1rZXknKTtcbnZhciBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hpZGRlbi1rZXlzJyk7XG5cbnZhciBXZWFrTWFwID0gZ2xvYmFsLldlYWtNYXA7XG52YXIgc2V0LCBnZXQsIGhhcztcblxudmFyIGVuZm9yY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGhhcyhpdCkgPyBnZXQoaXQpIDogc2V0KGl0LCB7fSk7XG59O1xuXG52YXIgZ2V0dGVyRm9yID0gZnVuY3Rpb24gKFRZUEUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBzdGF0ZTtcbiAgICBpZiAoIWlzT2JqZWN0KGl0KSB8fCAoc3RhdGUgPSBnZXQoaXQpKS50eXBlICE9PSBUWVBFKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ0luY29tcGF0aWJsZSByZWNlaXZlciwgJyArIFRZUEUgKyAnIHJlcXVpcmVkJyk7XG4gICAgfSByZXR1cm4gc3RhdGU7XG4gIH07XG59O1xuXG5pZiAoTkFUSVZFX1dFQUtfTUFQKSB7XG4gIHZhciBzdG9yZSA9IG5ldyBXZWFrTWFwKCk7XG4gIHZhciB3bWdldCA9IHN0b3JlLmdldDtcbiAgdmFyIHdtaGFzID0gc3RvcmUuaGFzO1xuICB2YXIgd21zZXQgPSBzdG9yZS5zZXQ7XG4gIHNldCA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcbiAgICB3bXNldC5jYWxsKHN0b3JlLCBpdCwgbWV0YWRhdGEpO1xuICAgIHJldHVybiBtZXRhZGF0YTtcbiAgfTtcbiAgZ2V0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHdtZ2V0LmNhbGwoc3RvcmUsIGl0KSB8fCB7fTtcbiAgfTtcbiAgaGFzID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHdtaGFzLmNhbGwoc3RvcmUsIGl0KTtcbiAgfTtcbn0gZWxzZSB7XG4gIHZhciBTVEFURSA9IHNoYXJlZEtleSgnc3RhdGUnKTtcbiAgaGlkZGVuS2V5c1tTVEFURV0gPSB0cnVlO1xuICBzZXQgPSBmdW5jdGlvbiAoaXQsIG1ldGFkYXRhKSB7XG4gICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KGl0LCBTVEFURSwgbWV0YWRhdGEpO1xuICAgIHJldHVybiBtZXRhZGF0YTtcbiAgfTtcbiAgZ2V0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIG9iamVjdEhhcyhpdCwgU1RBVEUpID8gaXRbU1RBVEVdIDoge307XG4gIH07XG4gIGhhcyA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBvYmplY3RIYXMoaXQsIFNUQVRFKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogc2V0LFxuICBnZXQ6IGdldCxcbiAgaGFzOiBoYXMsXG4gIGVuZm9yY2U6IGVuZm9yY2UsXG4gIGdldHRlckZvcjogZ2V0dGVyRm9yXG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBpbnNwZWN0U291cmNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlJyk7XG5cbnZhciBXZWFrTWFwID0gZ2xvYmFsLldlYWtNYXA7XG5cbm1vZHVsZS5leHBvcnRzID0gdHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbicgJiYgL25hdGl2ZSBjb2RlLy50ZXN0KGluc3BlY3RTb3VyY2UoV2Vha01hcCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmYWxzZTtcbiIsInZhciBoYXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzJyk7XG52YXIgb3duS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vd24ta2V5cycpO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuICB2YXIga2V5cyA9IG93bktleXMoc291cmNlKTtcbiAgdmFyIGRlZmluZVByb3BlcnR5ID0gZGVmaW5lUHJvcGVydHlNb2R1bGUuZjtcbiAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZS5mO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICBpZiAoIWhhcyh0YXJnZXQsIGtleSkpIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcbiAgfVxufTtcbiIsInZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xudmFyIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktc3ltYm9scycpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xuXG4vLyBhbGwgb2JqZWN0IGtleXMsIGluY2x1ZGVzIG5vbi1lbnVtZXJhYmxlIGFuZCBzeW1ib2xzXG5tb2R1bGUuZXhwb3J0cyA9IGdldEJ1aWx0SW4oJ1JlZmxlY3QnLCAnb3duS2V5cycpIHx8IGZ1bmN0aW9uIG93bktleXMoaXQpIHtcbiAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlLmYoYW5PYmplY3QoaXQpKTtcbiAgdmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZS5mO1xuICByZXR1cm4gZ2V0T3duUHJvcGVydHlTeW1ib2xzID8ga2V5cy5jb25jYXQoZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KSkgOiBrZXlzO1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsO1xuIiwidmFyIGludGVybmFsT2JqZWN0S2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qta2V5cy1pbnRlcm5hbCcpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VudW0tYnVnLWtleXMnKTtcblxudmFyIGhpZGRlbktleXMgPSBlbnVtQnVnS2V5cy5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eW5hbWVzXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pIHtcbiAgcmV0dXJuIGludGVybmFsT2JqZWN0S2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG4iLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWludGVnZXInKTtcblxudmFyIG1heCA9IE1hdGgubWF4O1xudmFyIG1pbiA9IE1hdGgubWluO1xuXG4vLyBIZWxwZXIgZm9yIGEgcG9wdWxhciByZXBlYXRpbmcgY2FzZSBvZiB0aGUgc3BlYzpcbi8vIExldCBpbnRlZ2VyIGJlID8gVG9JbnRlZ2VyKGluZGV4KS5cbi8vIElmIGludGVnZXIgPCAwLCBsZXQgcmVzdWx0IGJlIG1heCgobGVuZ3RoICsgaW50ZWdlciksIDApOyBlbHNlIGxldCByZXN1bHQgYmUgbWluKGludGVnZXIsIGxlbmd0aCkuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gIHZhciBpbnRlZ2VyID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGludGVnZXIgPCAwID8gbWF4KGludGVnZXIgKyBsZW5ndGgsIDApIDogbWluKGludGVnZXIsIGxlbmd0aCk7XG59O1xuIiwiZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG52YXIgcmVwbGFjZW1lbnQgPSAvI3xcXC5wcm90b3R5cGVcXC4vO1xuXG52YXIgaXNGb3JjZWQgPSBmdW5jdGlvbiAoZmVhdHVyZSwgZGV0ZWN0aW9uKSB7XG4gIHZhciB2YWx1ZSA9IGRhdGFbbm9ybWFsaXplKGZlYXR1cmUpXTtcbiAgcmV0dXJuIHZhbHVlID09IFBPTFlGSUxMID8gdHJ1ZVxuICAgIDogdmFsdWUgPT0gTkFUSVZFID8gZmFsc2VcbiAgICA6IHR5cGVvZiBkZXRlY3Rpb24gPT0gJ2Z1bmN0aW9uJyA/IGZhaWxzKGRldGVjdGlvbilcbiAgICA6ICEhZGV0ZWN0aW9uO1xufTtcblxudmFyIG5vcm1hbGl6ZSA9IGlzRm9yY2VkLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgcmV0dXJuIFN0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVwbGFjZW1lbnQsICcuJykudG9Mb3dlckNhc2UoKTtcbn07XG5cbnZhciBkYXRhID0gaXNGb3JjZWQuZGF0YSA9IHt9O1xudmFyIE5BVElWRSA9IGlzRm9yY2VkLk5BVElWRSA9ICdOJztcbnZhciBQT0xZRklMTCA9IGlzRm9yY2VkLlBPTFlGSUxMID0gJ1AnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRm9yY2VkO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKFN0cmluZyhpdCkgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gIH0gcmV0dXJuIGl0O1xufTtcbiIsInZhciBOQVRJVkVfU1lNQk9MID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL25hdGl2ZS1zeW1ib2wnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBOQVRJVkVfU1lNQk9MXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAmJiAhU3ltYm9sLnNoYW1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCc7XG4iLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgZGVmaW5lUHJvcGVydGllcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnRpZXMnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbnVtLWJ1Zy1rZXlzJyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oaWRkZW4ta2V5cycpO1xudmFyIGh0bWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaHRtbCcpO1xudmFyIGRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kb2N1bWVudC1jcmVhdGUtZWxlbWVudCcpO1xudmFyIHNoYXJlZEtleSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQta2V5Jyk7XG5cbnZhciBHVCA9ICc+JztcbnZhciBMVCA9ICc8JztcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbnZhciBTQ1JJUFQgPSAnc2NyaXB0JztcbnZhciBJRV9QUk9UTyA9IHNoYXJlZEtleSgnSUVfUFJPVE8nKTtcblxudmFyIEVtcHR5Q29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG5cbnZhciBzY3JpcHRUYWcgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICByZXR1cm4gTFQgKyBTQ1JJUFQgKyBHVCArIGNvbnRlbnQgKyBMVCArICcvJyArIFNDUklQVCArIEdUO1xufTtcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIEFjdGl2ZVggT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBOdWxsUHJvdG9PYmplY3RWaWFBY3RpdmVYID0gZnVuY3Rpb24gKGFjdGl2ZVhEb2N1bWVudCkge1xuICBhY3RpdmVYRG9jdW1lbnQud3JpdGUoc2NyaXB0VGFnKCcnKSk7XG4gIGFjdGl2ZVhEb2N1bWVudC5jbG9zZSgpO1xuICB2YXIgdGVtcCA9IGFjdGl2ZVhEb2N1bWVudC5wYXJlbnRXaW5kb3cuT2JqZWN0O1xuICBhY3RpdmVYRG9jdW1lbnQgPSBudWxsOyAvLyBhdm9pZCBtZW1vcnkgbGVha1xuICByZXR1cm4gdGVtcDtcbn07XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBOdWxsUHJvdG9PYmplY3RWaWFJRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICB2YXIgSlMgPSAnamF2YScgKyBTQ1JJUFQgKyAnOic7XG4gIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGh0bWwuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzQ3NVxuICBpZnJhbWUuc3JjID0gU3RyaW5nKEpTKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShzY3JpcHRUYWcoJ2RvY3VtZW50LkY9T2JqZWN0JykpO1xuICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuICByZXR1cm4gaWZyYW1lRG9jdW1lbnQuRjtcbn07XG5cbi8vIENoZWNrIGZvciBkb2N1bWVudC5kb21haW4gYW5kIGFjdGl2ZSB4IHN1cHBvcnRcbi8vIE5vIG5lZWQgdG8gdXNlIGFjdGl2ZSB4IGFwcHJvYWNoIHdoZW4gZG9jdW1lbnQuZG9tYWluIGlzIG5vdCBzZXRcbi8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW0vaXNzdWVzLzE1MFxuLy8gdmFyaWF0aW9uIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9raXRjYW1icmlkZ2UvZXM1LXNoaW0vY29tbWl0LzRmNzM4YWMwNjYzNDZcbi8vIGF2b2lkIElFIEdDIGJ1Z1xudmFyIGFjdGl2ZVhEb2N1bWVudDtcbnZhciBOdWxsUHJvdG9PYmplY3QgPSBmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgLyogZ2xvYmFsIEFjdGl2ZVhPYmplY3QgKi9cbiAgICBhY3RpdmVYRG9jdW1lbnQgPSBkb2N1bWVudC5kb21haW4gJiYgbmV3IEFjdGl2ZVhPYmplY3QoJ2h0bWxmaWxlJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGlnbm9yZSAqLyB9XG4gIE51bGxQcm90b09iamVjdCA9IGFjdGl2ZVhEb2N1bWVudCA/IE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVgoYWN0aXZlWERvY3VtZW50KSA6IE51bGxQcm90b09iamVjdFZpYUlGcmFtZSgpO1xuICB2YXIgbGVuZ3RoID0gZW51bUJ1Z0tleXMubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIGRlbGV0ZSBOdWxsUHJvdG9PYmplY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tsZW5ndGhdXTtcbiAgcmV0dXJuIE51bGxQcm90b09iamVjdCgpO1xufTtcblxuaGlkZGVuS2V5c1tJRV9QUk9UT10gPSB0cnVlO1xuXG4vLyBgT2JqZWN0LmNyZWF0ZWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vYmplY3QuY3JlYXRlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKE8gIT09IG51bGwpIHtcbiAgICBFbXB0eUNvbnN0cnVjdG9yW1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHlDb25zdHJ1Y3RvcigpO1xuICAgIEVtcHR5Q29uc3RydWN0b3JbUFJPVE9UWVBFXSA9IG51bGw7XG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuICB9IGVsc2UgcmVzdWx0ID0gTnVsbFByb3RvT2JqZWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkZWZpbmVQcm9wZXJ0aWVzKHJlc3VsdCwgUHJvcGVydGllcyk7XG59O1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIG9iamVjdEtleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMnKTtcblxuLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0aWVzXG5tb2R1bGUuZXhwb3J0cyA9IERFU0NSSVBUT1JTID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzID0gb2JqZWN0S2V5cyhQcm9wZXJ0aWVzKTtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIGRlZmluZVByb3BlcnR5TW9kdWxlLmYoTywga2V5ID0ga2V5c1tpbmRleCsrXSwgUHJvcGVydGllc1trZXldKTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIGludGVybmFsT2JqZWN0S2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qta2V5cy1pbnRlcm5hbCcpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VudW0tYnVnLWtleXMnKTtcblxuLy8gYE9iamVjdC5rZXlzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5rZXlzXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTykge1xuICByZXR1cm4gaW50ZXJuYWxPYmplY3RLZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG4iLCJ2YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRCdWlsdEluKCdkb2N1bWVudCcsICdkb2N1bWVudEVsZW1lbnQnKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMnKTtcbnZhciBlbnRyeVVuYmluZCA9IHJlcXVpcmUoJy4uLy4uL2ludGVybmFscy9lbnRyeS11bmJpbmQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBlbnRyeVVuYmluZCgnQXJyYXknLCAnaW5jbHVkZXMnKTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyICRpbmNsdWRlcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1pbmNsdWRlcycpLmluY2x1ZGVzO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYWRkLXRvLXVuc2NvcGFibGVzJyk7XG52YXIgYXJyYXlNZXRob2RVc2VzVG9MZW5ndGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLXVzZXMtdG8tbGVuZ3RoJyk7XG5cbnZhciBVU0VTX1RPX0xFTkdUSCA9IGFycmF5TWV0aG9kVXNlc1RvTGVuZ3RoKCdpbmRleE9mJywgeyBBQ0NFU1NPUlM6IHRydWUsIDE6IDAgfSk7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluY2x1ZGVzXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhVVNFU19UT19MRU5HVEggfSwge1xuICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoZWwgLyogLCBmcm9tSW5kZXggPSAwICovKSB7XG4gICAgcmV0dXJuICRpbmNsdWRlcyh0aGlzLCBlbCwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLUBAdW5zY29wYWJsZXNcbmFkZFRvVW5zY29wYWJsZXMoJ2luY2x1ZGVzJyk7XG4iLCIvKiFcbiAqIEZpbGVQb25kUGx1Z2luSW1hZ2VQcmV2aWV3IDQuNi41XG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmQvIGZvciBkZXRhaWxzLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbihmdW5jdGlvbihnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnXG4gICAgPyAobW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkpXG4gICAgOiB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWRcbiAgICA/IGRlZmluZShmYWN0b3J5KVxuICAgIDogKChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiksXG4gICAgICAoZ2xvYmFsLkZpbGVQb25kUGx1Z2luSW1hZ2VQcmV2aWV3ID0gZmFjdG9yeSgpKSk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIHRlc3QgaWYgZmlsZSBpcyBvZiB0eXBlIGltYWdlIGFuZCBjYW4gYmUgdmlld2VkIGluIGNhbnZhc1xuICB2YXIgaXNQcmV2aWV3YWJsZUltYWdlID0gZnVuY3Rpb24gaXNQcmV2aWV3YWJsZUltYWdlKGZpbGUpIHtcbiAgICByZXR1cm4gL15pbWFnZS8udGVzdChmaWxlLnR5cGUpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIF90eXBlb2YgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBfdHlwZW9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiZcbiAgICAgICAgICB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiZcbiAgICAgICAgICBvYmogIT09IFN5bWJvbC5wcm90b3R5cGVcbiAgICAgICAgICA/ICdzeW1ib2wnXG4gICAgICAgICAgOiB0eXBlb2Ygb2JqO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3R5cGVvZihvYmopO1xuICB9XG5cbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRTtcblxuICBmdW5jdGlvbiBfanN4KHR5cGUsIHByb3BzLCBrZXksIGNoaWxkcmVuKSB7XG4gICAgaWYgKCFSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9XG4gICAgICAgICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgU3ltYm9sLmZvciAmJlxuICAgICAgICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcbiAgICAgICAgMHhlYWM3O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzO1xuICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAzO1xuXG4gICAgaWYgKCFwcm9wcyAmJiBjaGlsZHJlbkxlbmd0aCAhPT0gMCkge1xuICAgICAgcHJvcHMgPSB7XG4gICAgICAgIGNoaWxkcmVuOiB2b2lkIDBcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHByb3BzICYmIGRlZmF1bHRQcm9wcykge1xuICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHZvaWQgMCkge1xuICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFwcm9wcykge1xuICAgICAgcHJvcHMgPSBkZWZhdWx0UHJvcHMgfHwge307XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgICB2YXIgY2hpbGRBcnJheSA9IG5ldyBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAzXTtcbiAgICAgIH1cblxuICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGtleToga2V5ID09PSB1bmRlZmluZWQgPyBudWxsIDogJycgKyBrZXksXG4gICAgICByZWY6IG51bGwsXG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBfb3duZXI6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gX2FzeW5jSXRlcmF0b3IoaXRlcmFibGUpIHtcbiAgICB2YXIgbWV0aG9kO1xuXG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChTeW1ib2wuYXN5bmNJdGVyYXRvcikge1xuICAgICAgICBtZXRob2QgPSBpdGVyYWJsZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl07XG4gICAgICAgIGlmIChtZXRob2QgIT0gbnVsbCkgcmV0dXJuIG1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICBtZXRob2QgPSBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdO1xuICAgICAgICBpZiAobWV0aG9kICE9IG51bGwpIHJldHVybiBtZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0IGlzIG5vdCBhc3luYyBpdGVyYWJsZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gX0F3YWl0VmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLndyYXBwZWQgPSB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9Bc3luY0dlbmVyYXRvcihnZW4pIHtcbiAgICB2YXIgZnJvbnQsIGJhY2s7XG5cbiAgICBmdW5jdGlvbiBzZW5kKGtleSwgYXJnKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIGFyZzogYXJnLFxuICAgICAgICAgIHJlc29sdmU6IHJlc29sdmUsXG4gICAgICAgICAgcmVqZWN0OiByZWplY3QsXG4gICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChiYWNrKSB7XG4gICAgICAgICAgYmFjayA9IGJhY2submV4dCA9IHJlcXVlc3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZnJvbnQgPSBiYWNrID0gcmVxdWVzdDtcbiAgICAgICAgICByZXN1bWUoa2V5LCBhcmcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXN1bWUoa2V5LCBhcmcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBnZW5ba2V5XShhcmcpO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIHZhciB3cmFwcGVkQXdhaXQgPSB2YWx1ZSBpbnN0YW5jZW9mIF9Bd2FpdFZhbHVlO1xuICAgICAgICBQcm9taXNlLnJlc29sdmUod3JhcHBlZEF3YWl0ID8gdmFsdWUud3JhcHBlZCA6IHZhbHVlKS50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgaWYgKHdyYXBwZWRBd2FpdCkge1xuICAgICAgICAgICAgICByZXN1bWUoJ25leHQnLCBhcmcpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldHRsZShyZXN1bHQuZG9uZSA/ICdyZXR1cm4nIDogJ25vcm1hbCcsIGFyZyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIHJlc3VtZSgndGhyb3cnLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXR0bGUoJ3Rocm93JywgZXJyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXR0bGUodHlwZSwgdmFsdWUpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdyZXR1cm4nOlxuICAgICAgICAgIGZyb250LnJlc29sdmUoe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3Rocm93JzpcbiAgICAgICAgICBmcm9udC5yZWplY3QodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgZnJvbnQucmVzb2x2ZSh7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBmcm9udCA9IGZyb250Lm5leHQ7XG5cbiAgICAgIGlmIChmcm9udCkge1xuICAgICAgICByZXN1bWUoZnJvbnQua2V5LCBmcm9udC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFjayA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5faW52b2tlID0gc2VuZDtcblxuICAgIGlmICh0eXBlb2YgZ2VuLnJldHVybiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5yZXR1cm4gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHtcbiAgICBfQXN5bmNHZW5lcmF0b3IucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgfVxuXG4gIF9Bc3luY0dlbmVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0aGlzLl9pbnZva2UoJ25leHQnLCBhcmcpO1xuICB9O1xuXG4gIF9Bc3luY0dlbmVyYXRvci5wcm90b3R5cGUudGhyb3cgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5faW52b2tlKCd0aHJvdycsIGFyZyk7XG4gIH07XG5cbiAgX0FzeW5jR2VuZXJhdG9yLnByb3RvdHlwZS5yZXR1cm4gPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5faW52b2tlKCdyZXR1cm4nLCBhcmcpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF93cmFwQXN5bmNHZW5lcmF0b3IoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IF9Bc3luY0dlbmVyYXRvcihmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gX2F3YWl0QXN5bmNHZW5lcmF0b3IodmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IF9Bd2FpdFZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hc3luY0dlbmVyYXRvckRlbGVnYXRlKGlubmVyLCBhd2FpdFdyYXApIHtcbiAgICB2YXIgaXRlciA9IHt9LFxuICAgICAgd2FpdGluZyA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gcHVtcChrZXksIHZhbHVlKSB7XG4gICAgICB3YWl0aW5nID0gdHJ1ZTtcbiAgICAgIHZhbHVlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICByZXNvbHZlKGlubmVyW2tleV0odmFsdWUpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBhd2FpdFdyYXAodmFsdWUpXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgaXRlcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHdhaXRpbmcpIHtcbiAgICAgICAgd2FpdGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwdW1wKCduZXh0JywgdmFsdWUpO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIGlubmVyLnRocm93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpdGVyLnRocm93ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKHdhaXRpbmcpIHtcbiAgICAgICAgICB3YWl0aW5nID0gZmFsc2U7XG4gICAgICAgICAgdGhyb3cgdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHVtcCgndGhyb3cnLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaW5uZXIucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpdGVyLnJldHVybiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBwdW1wKCdyZXR1cm4nLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBpdGVyO1xuICB9XG5cbiAgZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICAgIHRyeSB7XG4gICAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChcbiAgICAgICAgICAgIGdlbixcbiAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICBfbmV4dCxcbiAgICAgICAgICAgIF90aHJvdyxcbiAgICAgICAgICAgICduZXh0JyxcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICd0aHJvdycsIGVycik7XG4gICAgICAgIH1cblxuICAgICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVFbnVtZXJhYmxlUHJvcGVydGllcyhvYmosIGRlc2NzKSB7XG4gICAgZm9yICh2YXIga2V5IGluIGRlc2NzKSB7XG4gICAgICB2YXIgZGVzYyA9IGRlc2NzW2tleV07XG4gICAgICBkZXNjLmNvbmZpZ3VyYWJsZSA9IGRlc2MuZW51bWVyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSBkZXNjLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgZGVzYyk7XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIHZhciBvYmplY3RTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhkZXNjcyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0U3ltYm9scy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc3ltID0gb2JqZWN0U3ltYm9sc1tpXTtcbiAgICAgICAgdmFyIGRlc2MgPSBkZXNjc1tzeW1dO1xuICAgICAgICBkZXNjLmNvbmZpZ3VyYWJsZSA9IGRlc2MuZW51bWVyYWJsZSA9IHRydWU7XG4gICAgICAgIGlmICgndmFsdWUnIGluIGRlc2MpIGRlc2Mud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBzeW0sIGRlc2MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7XG5cbiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gICAgX2V4dGVuZHMgPVxuICAgICAgT2JqZWN0LmFzc2lnbiB8fFxuICAgICAgZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH07XG5cbiAgICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuICAgICAgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgICBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3duS2V5cyA9IG93bktleXMuY29uY2F0KFxuICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24oc3ltKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBvd25LZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICAgIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZlxuICAgICAgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2ZcbiAgICAgIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICAgICAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICAgICAgICB9O1xuICAgIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH1cblxuICBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIF9zZXRQcm90b3R5cGVPZiA9XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgIGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgICAgIG8uX19wcm90b19fID0gcDtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgICB9O1xuXG4gICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICd1bmRlZmluZWQnIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHRydWU7XG5cbiAgICB0cnkge1xuICAgICAgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24oKSB7fSkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICAgIGlmIChpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkge1xuICAgICAgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICAgIHZhciBhID0gW251bGxdO1xuICAgICAgICBhLnB1c2guYXBwbHkoYSwgYXJncyk7XG4gICAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7XG4gICAgICAgIGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikge1xuICAgIHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKCdbbmF0aXZlIGNvZGVdJykgIT09IC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICAgIHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSAnZnVuY3Rpb24nID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkO1xuXG4gICAgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgICAgIGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7XG5cbiAgICAgIGlmICh0eXBlb2YgQ2xhc3MgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAnU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24nXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgX2NhY2hlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtcblxuICAgICAgICBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgICAgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTtcbiAgICAgIH1cblxuICAgICAgV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgIHZhbHVlOiBXcmFwcGVyLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5zdGFuY2VvZihsZWZ0LCByaWdodCkge1xuICAgIGlmIChcbiAgICAgIHJpZ2h0ICE9IG51bGwgJiZcbiAgICAgIHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICByaWdodFtTeW1ib2wuaGFzSW5zdGFuY2VdXG4gICAgKSB7XG4gICAgICByZXR1cm4gcmlnaHRbU3ltYm9sLmhhc0luc3RhbmNlXShsZWZ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGxlZnQgaW5zdGFuY2VvZiByaWdodDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGVcbiAgICAgID8gb2JqXG4gICAgICA6IHtcbiAgICAgICAgICBkZWZhdWx0OiBvYmpcbiAgICAgICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikge1xuICAgIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBuZXdPYmogPSB7fTtcblxuICAgICAgaWYgKG9iaiAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgdmFyIGRlc2MgPVxuICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvclxuICAgICAgICAgICAgICAgID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSlcbiAgICAgICAgICAgICAgICA6IHt9O1xuXG4gICAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHtcbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG5ld09iai5kZWZhdWx0ID0gb2JqO1xuICAgICAgcmV0dXJuIG5ld09iajtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfbmV3QXJyb3dDaGVjayhpbm5lclRoaXMsIGJvdW5kVGhpcykge1xuICAgIGlmIChpbm5lclRoaXMgIT09IGJvdW5kVGhpcykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGluc3RhbnRpYXRlIGFuIGFycm93IGZ1bmN0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdERlc3RydWN0dXJpbmdFbXB0eShvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBkZXN0cnVjdHVyZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgICB2YXIgdGFyZ2V0ID0ge307XG4gICAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgIHZhciBrZXksIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICAgIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuXG4gICAgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpO1xuXG4gICAgdmFyIGtleSwgaTtcblxuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTtcbiAgICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gICAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxuICAgICAgICBcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9XG5cbiAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgIGlmIChjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGNhbGwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICByZXR1cm4gY2FsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdXBlclByb3BCYXNlKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgICAgb2JqZWN0ID0gX2dldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gICAgICBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgUmVmbGVjdC5nZXQpIHtcbiAgICAgIF9nZXQgPSBSZWZsZWN0LmdldDtcbiAgICB9IGVsc2Uge1xuICAgICAgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTtcblxuICAgICAgICBpZiAoIWJhc2UpIHJldHVybjtcbiAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTtcblxuICAgICAgICBpZiAoZGVzYy5nZXQpIHtcbiAgICAgICAgICByZXR1cm4gZGVzYy5nZXQuY2FsbChyZWNlaXZlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVzYy52YWx1ZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgIT09ICd1bmRlZmluZWQnICYmIFJlZmxlY3Quc2V0KSB7XG4gICAgICBzZXQgPSBSZWZsZWN0LnNldDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0ID0gZnVuY3Rpb24gc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICB2YXIgYmFzZSA9IF9zdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpO1xuXG4gICAgICAgIHZhciBkZXNjO1xuXG4gICAgICAgIGlmIChiYXNlKSB7XG4gICAgICAgICAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpO1xuXG4gICAgICAgICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICAgICAgICBkZXNjLnNldC5jYWxsKHJlY2VpdmVyLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFkZXNjLndyaXRhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocmVjZWl2ZXIsIHByb3BlcnR5KTtcblxuICAgICAgICBpZiAoZGVzYykge1xuICAgICAgICAgIGlmICghZGVzYy53cml0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlc2MudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIHByb3BlcnR5LCBkZXNjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIsIGlzU3RyaWN0KSB7XG4gICAgdmFyIHMgPSBzZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyIHx8IHRhcmdldCk7XG5cbiAgICBpZiAoIXMgJiYgaXNTdHJpY3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIHNldCBwcm9wZXJ0eScpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoc3RyaW5ncywgcmF3KSB7XG4gICAgaWYgKCFyYXcpIHtcbiAgICAgIHJhdyA9IHN0cmluZ3Muc2xpY2UoMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzdHJpbmdzLCB7XG4gICAgICAgIHJhdzoge1xuICAgICAgICAgIHZhbHVlOiBPYmplY3QuZnJlZXplKHJhdylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKHN0cmluZ3MsIHJhdykge1xuICAgIGlmICghcmF3KSB7XG4gICAgICByYXcgPSBzdHJpbmdzLnNsaWNlKDApO1xuICAgIH1cblxuICAgIHN0cmluZ3MucmF3ID0gcmF3O1xuICAgIHJldHVybiBzdHJpbmdzO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RlbXBvcmFsUmVmKHZhbCwgbmFtZSkge1xuICAgIGlmICh2YWwgPT09IF90ZW1wb3JhbFVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKG5hbWUgKyAnIGlzIG5vdCBkZWZpbmVkIC0gdGVtcG9yYWwgZGVhZCB6b25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX3JlYWRPbmx5RXJyb3IobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignXCInICsgbmFtZSArICdcIiBpcyByZWFkLW9ubHknKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc05hbWVURFpFcnJvcihuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0NsYXNzIFwiJyArIG5hbWUgKyAnXCIgY2Fubm90IGJlIHJlZmVyZW5jZWQgaW4gY29tcHV0ZWQgcHJvcGVydHkga2V5cy4nXG4gICAgKTtcbiAgfVxuXG4gIHZhciBfdGVtcG9yYWxVbmRlZmluZWQgPSB7fTtcblxuICBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgX2FycmF5V2l0aEhvbGVzKGFycikgfHxcbiAgICAgIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8XG4gICAgICBfbm9uSXRlcmFibGVSZXN0KClcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXlMb29zZShhcnIsIGkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgX2FycmF5V2l0aEhvbGVzKGFycikgfHxcbiAgICAgIF9pdGVyYWJsZVRvQXJyYXlMaW1pdExvb3NlKGFyciwgaSkgfHxcbiAgICAgIF9ub25JdGVyYWJsZVJlc3QoKVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBfdG9BcnJheShhcnIpIHtcbiAgICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKylcbiAgICAgICAgYXJyMltpXSA9IGFycltpXTtcblxuICAgICAgcmV0dXJuIGFycjI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG4gIH1cblxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgICBpZiAoXG4gICAgICBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8XG4gICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICdbb2JqZWN0IEFyZ3VtZW50c10nXG4gICAgKVxuICAgICAgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG4gIH1cblxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gICAgdmFyIF9hcnIgPSBbXTtcbiAgICB2YXIgX24gPSB0cnVlO1xuICAgIHZhciBfZCA9IGZhbHNlO1xuICAgIHZhciBfZSA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfcztcbiAgICAgICAgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7XG4gICAgICAgIF9uID0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSB0cnVlO1xuICAgICAgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgX2lbJ3JldHVybiddICE9IG51bGwpIF9pWydyZXR1cm4nXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdExvb3NlKGFyciwgaSkge1xuICAgIHZhciBfYXJyID0gW107XG5cbiAgICBmb3IgKFxuICAgICAgdmFyIF9pdGVyYXRvciA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwO1xuICAgICAgIShfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmU7XG5cbiAgICApIHtcbiAgICAgIF9hcnIucHVzaChfc3RlcC52YWx1ZSk7XG5cbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfc2tpcEZpcnN0R2VuZXJhdG9yTmV4dChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpdCA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBpdC5uZXh0KCk7XG4gICAgICByZXR1cm4gaXQ7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdvYmplY3QnIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7XG4gICAgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdO1xuXG4gICAgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCAnZGVmYXVsdCcpO1xuICAgICAgaWYgKHR5cGVvZiByZXMgIT09ICdvYmplY3QnKSByZXR1cm4gcmVzO1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKGhpbnQgPT09ICdzdHJpbmcnID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7XG4gIH1cblxuICBmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHtcbiAgICB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgJ3N0cmluZycpO1xuXG4gICAgcmV0dXJuIHR5cGVvZiBrZXkgPT09ICdzeW1ib2wnID8ga2V5IDogU3RyaW5nKGtleSk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICtcbiAgICAgICAgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICtcbiAgICAgICAgJ1RvIHVzZSBwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGluIHNwZWMgbW9kZSB3aXRoIGRlY29yYXRvcnMsIHdhaXQgZm9yICcgK1xuICAgICAgICAndGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBkZWNvcmF0b3JzIGluIHN0YWdlIDIuJ1xuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHtcbiAgICAgIGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsXG4gICAgICB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSxcbiAgICAgIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyXG4gICAgICAgID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpXG4gICAgICAgIDogdm9pZCAwXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKFxuICAgIHRhcmdldCxcbiAgICBwcm9wZXJ0eSxcbiAgICBkZWNvcmF0b3JzLFxuICAgIGRlc2NyaXB0b3IsXG4gICAgY29udGV4dFxuICApIHtcbiAgICB2YXIgZGVzYyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07XG4gICAgfSk7XG4gICAgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7XG4gICAgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlO1xuXG4gICAgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7XG4gICAgICBkZXNjLndyaXRhYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBkZXNjID0gZGVjb3JhdG9yc1xuICAgICAgLnNsaWNlKClcbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5yZWR1Y2UoZnVuY3Rpb24oZGVzYywgZGVjb3JhdG9yKSB7XG4gICAgICAgIHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYztcbiAgICAgIH0sIGRlc2MpO1xuXG4gICAgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7XG4gICAgICBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDtcbiAgICAgIGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpO1xuICAgICAgZGVzYyA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc2M7XG4gIH1cblxuICB2YXIgaWQgPSAwO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KG5hbWUpIHtcbiAgICByZXR1cm4gJ19fcHJpdmF0ZV8nICsgaWQrKyArICdfJyArIG5hbWU7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZWNlaXZlciwgcHJpdmF0ZUtleSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byB1c2UgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVjZWl2ZXI7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZScpO1xuICAgIH1cblxuICAgIHZhciBkZXNjcmlwdG9yID0gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xuXG4gICAgaWYgKGRlc2NyaXB0b3IuZ2V0KSB7XG4gICAgICByZXR1cm4gZGVzY3JpcHRvci5nZXQuY2FsbChyZWNlaXZlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc2NyaXB0b3IudmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICB9XG5cbiAgICB2YXIgZGVzY3JpcHRvciA9IHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcblxuICAgIGlmIChkZXNjcmlwdG9yLnNldCkge1xuICAgICAgZGVzY3JpcHRvci5zZXQuY2FsbChyZWNlaXZlciwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWRlc2NyaXB0b3Iud3JpdGFibGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgcHJpdmF0ZSBmaWVsZCcpO1xuICAgICAgfVxuXG4gICAgICBkZXNjcmlwdG9yLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzU3RhdGljUHJpdmF0ZUZpZWxkU3BlY0dldChcbiAgICByZWNlaXZlcixcbiAgICBjbGFzc0NvbnN0cnVjdG9yLFxuICAgIGRlc2NyaXB0b3JcbiAgKSB7XG4gICAgaWYgKHJlY2VpdmVyICE9PSBjbGFzc0NvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIHN0YXRpYyBhY2Nlc3Mgb2Ygd3JvbmcgcHJvdmVuYW5jZScpO1xuICAgIH1cblxuICAgIHJldHVybiBkZXNjcmlwdG9yLnZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzU3RhdGljUHJpdmF0ZUZpZWxkU3BlY1NldChcbiAgICByZWNlaXZlcixcbiAgICBjbGFzc0NvbnN0cnVjdG9yLFxuICAgIGRlc2NyaXB0b3IsXG4gICAgdmFsdWVcbiAgKSB7XG4gICAgaWYgKHJlY2VpdmVyICE9PSBjbGFzc0NvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIHN0YXRpYyBhY2Nlc3Mgb2Ygd3JvbmcgcHJvdmVuYW5jZScpO1xuICAgIH1cblxuICAgIGlmICghZGVzY3JpcHRvci53cml0YWJsZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgcHJpdmF0ZSBmaWVsZCcpO1xuICAgIH1cblxuICAgIGRlc2NyaXB0b3IudmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NTdGF0aWNQcml2YXRlTWV0aG9kR2V0KHJlY2VpdmVyLCBjbGFzc0NvbnN0cnVjdG9yLCBtZXRob2QpIHtcbiAgICBpZiAocmVjZWl2ZXIgIT09IGNsYXNzQ29uc3RydWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ByaXZhdGUgc3RhdGljIGFjY2VzcyBvZiB3cm9uZyBwcm92ZW5hbmNlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1ldGhvZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1N0YXRpY1ByaXZhdGVNZXRob2RTZXQoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgc3RhdGljIHByaXZhdGUgZmllbGQnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWNvcmF0ZShkZWNvcmF0b3JzLCBmYWN0b3J5LCBzdXBlckNsYXNzLCBtaXhpbnMpIHtcbiAgICB2YXIgYXBpID0gX2dldERlY29yYXRvcnNBcGkoKTtcblxuICAgIGlmIChtaXhpbnMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFwaSA9IG1peGluc1tpXShhcGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByID0gZmFjdG9yeShmdW5jdGlvbiBpbml0aWFsaXplKE8pIHtcbiAgICAgIGFwaS5pbml0aWFsaXplSW5zdGFuY2VFbGVtZW50cyhPLCBkZWNvcmF0ZWQuZWxlbWVudHMpO1xuICAgIH0sIHN1cGVyQ2xhc3MpO1xuICAgIHZhciBkZWNvcmF0ZWQgPSBhcGkuZGVjb3JhdGVDbGFzcyhcbiAgICAgIF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoci5kLm1hcChfY3JlYXRlRWxlbWVudERlc2NyaXB0b3IpKSxcbiAgICAgIGRlY29yYXRvcnNcbiAgICApO1xuICAgIGFwaS5pbml0aWFsaXplQ2xhc3NFbGVtZW50cyhyLkYsIGRlY29yYXRlZC5lbGVtZW50cyk7XG4gICAgcmV0dXJuIGFwaS5ydW5DbGFzc0ZpbmlzaGVycyhyLkYsIGRlY29yYXRlZC5maW5pc2hlcnMpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldERlY29yYXRvcnNBcGkoKSB7XG4gICAgX2dldERlY29yYXRvcnNBcGkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBhcGk7XG4gICAgfTtcblxuICAgIHZhciBhcGkgPSB7XG4gICAgICBlbGVtZW50c0RlZmluaXRpb25PcmRlcjogW1snbWV0aG9kJ10sIFsnZmllbGQnXV0sXG4gICAgICBpbml0aWFsaXplSW5zdGFuY2VFbGVtZW50czogZnVuY3Rpb24oTywgZWxlbWVudHMpIHtcbiAgICAgICAgWydtZXRob2QnLCAnZmllbGQnXS5mb3JFYWNoKGZ1bmN0aW9uKGtpbmQpIHtcbiAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmtpbmQgPT09IGtpbmQgJiYgZWxlbWVudC5wbGFjZW1lbnQgPT09ICdvd24nKSB7XG4gICAgICAgICAgICAgIHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KE8sIGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgIH0sXG4gICAgICBpbml0aWFsaXplQ2xhc3NFbGVtZW50czogZnVuY3Rpb24oRiwgZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIHByb3RvID0gRi5wcm90b3R5cGU7XG4gICAgICAgIFsnbWV0aG9kJywgJ2ZpZWxkJ10uZm9yRWFjaChmdW5jdGlvbihraW5kKSB7XG4gICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgcGxhY2VtZW50ID0gZWxlbWVudC5wbGFjZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgZWxlbWVudC5raW5kID09PSBraW5kICYmXG4gICAgICAgICAgICAgIChwbGFjZW1lbnQgPT09ICdzdGF0aWMnIHx8IHBsYWNlbWVudCA9PT0gJ3Byb3RvdHlwZScpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFyIHJlY2VpdmVyID0gcGxhY2VtZW50ID09PSAnc3RhdGljJyA/IEYgOiBwcm90bztcbiAgICAgICAgICAgICAgdGhpcy5kZWZpbmVDbGFzc0VsZW1lbnQocmVjZWl2ZXIsIGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgIH0sXG4gICAgICBkZWZpbmVDbGFzc0VsZW1lbnQ6IGZ1bmN0aW9uKHJlY2VpdmVyLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yO1xuXG4gICAgICAgIGlmIChlbGVtZW50LmtpbmQgPT09ICdmaWVsZCcpIHtcbiAgICAgICAgICB2YXIgaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyO1xuICAgICAgICAgIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsXG4gICAgICAgICAgICB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsXG4gICAgICAgICAgICB2YWx1ZTogaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWxpemVyLmNhbGwocmVjZWl2ZXIpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWNlaXZlciwgZWxlbWVudC5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgfSxcbiAgICAgIGRlY29yYXRlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnRzLCBkZWNvcmF0b3JzKSB7XG4gICAgICAgIHZhciBuZXdFbGVtZW50cyA9IFtdO1xuICAgICAgICB2YXIgZmluaXNoZXJzID0gW107XG4gICAgICAgIHZhciBwbGFjZW1lbnRzID0ge1xuICAgICAgICAgIHN0YXRpYzogW10sXG4gICAgICAgICAgcHJvdG90eXBlOiBbXSxcbiAgICAgICAgICBvd246IFtdXG4gICAgICAgIH07XG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIGlmICghX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHJldHVybiBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgIHZhciBlbGVtZW50RmluaXNoZXJzRXh0cmFzID0gdGhpcy5kZWNvcmF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgcGxhY2VtZW50c1xuICAgICAgICAgICk7XG4gICAgICAgICAgbmV3RWxlbWVudHMucHVzaChlbGVtZW50RmluaXNoZXJzRXh0cmFzLmVsZW1lbnQpO1xuICAgICAgICAgIG5ld0VsZW1lbnRzLnB1c2guYXBwbHkobmV3RWxlbWVudHMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZXh0cmFzKTtcbiAgICAgICAgICBmaW5pc2hlcnMucHVzaC5hcHBseShmaW5pc2hlcnMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZmluaXNoZXJzKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKCFkZWNvcmF0b3JzKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVsZW1lbnRzOiBuZXdFbGVtZW50cyxcbiAgICAgICAgICAgIGZpbmlzaGVyczogZmluaXNoZXJzXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29yYXRlQ29uc3RydWN0b3IobmV3RWxlbWVudHMsIGRlY29yYXRvcnMpO1xuICAgICAgICBmaW5pc2hlcnMucHVzaC5hcHBseShmaW5pc2hlcnMsIHJlc3VsdC5maW5pc2hlcnMpO1xuICAgICAgICByZXN1bHQuZmluaXNoZXJzID0gZmluaXNoZXJzO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIGFkZEVsZW1lbnRQbGFjZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHBsYWNlbWVudHMsIHNpbGVudCkge1xuICAgICAgICB2YXIga2V5cyA9IHBsYWNlbWVudHNbZWxlbWVudC5wbGFjZW1lbnRdO1xuXG4gICAgICAgIGlmICghc2lsZW50ICYmIGtleXMuaW5kZXhPZihlbGVtZW50LmtleSkgIT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRHVwbGljYXRlZCBlbGVtZW50ICgnICsgZWxlbWVudC5rZXkgKyAnKScpO1xuICAgICAgICB9XG5cbiAgICAgICAga2V5cy5wdXNoKGVsZW1lbnQua2V5KTtcbiAgICAgIH0sXG4gICAgICBkZWNvcmF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHBsYWNlbWVudHMpIHtcbiAgICAgICAgdmFyIGV4dHJhcyA9IFtdO1xuICAgICAgICB2YXIgZmluaXNoZXJzID0gW107XG5cbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgZGVjb3JhdG9ycyA9IGVsZW1lbnQuZGVjb3JhdG9ycywgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICBpID49IDA7XG4gICAgICAgICAgaS0tXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBrZXlzID0gcGxhY2VtZW50c1tlbGVtZW50LnBsYWNlbWVudF07XG4gICAgICAgICAga2V5cy5zcGxpY2Uoa2V5cy5pbmRleE9mKGVsZW1lbnQua2V5KSwgMSk7XG4gICAgICAgICAgdmFyIGVsZW1lbnRPYmplY3QgPSB0aGlzLmZyb21FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50KTtcbiAgICAgICAgICB2YXIgZWxlbWVudEZpbmlzaGVyRXh0cmFzID0gdGhpcy50b0VsZW1lbnRGaW5pc2hlckV4dHJhcyhcbiAgICAgICAgICAgICgwLCBkZWNvcmF0b3JzW2ldKShlbGVtZW50T2JqZWN0KSB8fCBlbGVtZW50T2JqZWN0XG4gICAgICAgICAgKTtcbiAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudEZpbmlzaGVyRXh0cmFzLmVsZW1lbnQ7XG4gICAgICAgICAgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpO1xuXG4gICAgICAgICAgaWYgKGVsZW1lbnRGaW5pc2hlckV4dHJhcy5maW5pc2hlcikge1xuICAgICAgICAgICAgZmluaXNoZXJzLnB1c2goZWxlbWVudEZpbmlzaGVyRXh0cmFzLmZpbmlzaGVyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbmV3RXh0cmFzID0gZWxlbWVudEZpbmlzaGVyRXh0cmFzLmV4dHJhcztcblxuICAgICAgICAgIGlmIChuZXdFeHRyYXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3RXh0cmFzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChuZXdFeHRyYXNbal0sIHBsYWNlbWVudHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBleHRyYXMucHVzaC5hcHBseShleHRyYXMsIG5ld0V4dHJhcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgIGZpbmlzaGVyczogZmluaXNoZXJzLFxuICAgICAgICAgIGV4dHJhczogZXh0cmFzXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgZGVjb3JhdGVDb25zdHJ1Y3RvcjogZnVuY3Rpb24oZWxlbWVudHMsIGRlY29yYXRvcnMpIHtcbiAgICAgICAgdmFyIGZpbmlzaGVycyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdmFyIG9iaiA9IHRoaXMuZnJvbUNsYXNzRGVzY3JpcHRvcihlbGVtZW50cyk7XG4gICAgICAgICAgdmFyIGVsZW1lbnRzQW5kRmluaXNoZXIgPSB0aGlzLnRvQ2xhc3NEZXNjcmlwdG9yKFxuICAgICAgICAgICAgKDAsIGRlY29yYXRvcnNbaV0pKG9iaikgfHwgb2JqXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZpbmlzaGVycy5wdXNoKGVsZW1lbnRzQW5kRmluaXNoZXIuZmluaXNoZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmVsZW1lbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVsZW1lbnRzID0gZWxlbWVudHNBbmRGaW5pc2hlci5lbGVtZW50cztcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlbGVtZW50cy5sZW5ndGggLSAxOyBqKyspIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgayA9IGogKyAxOyBrIDwgZWxlbWVudHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBlbGVtZW50c1tqXS5rZXkgPT09IGVsZW1lbnRzW2tdLmtleSAmJlxuICAgICAgICAgICAgICAgICAgZWxlbWVudHNbal0ucGxhY2VtZW50ID09PSBlbGVtZW50c1trXS5wbGFjZW1lbnRcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdEdXBsaWNhdGVkIGVsZW1lbnQgKCcgKyBlbGVtZW50c1tqXS5rZXkgKyAnKSdcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICAgICAgZmluaXNoZXJzOiBmaW5pc2hlcnNcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBmcm9tRWxlbWVudERlc2NyaXB0b3I6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG9iaiA9IHtcbiAgICAgICAgICBraW5kOiBlbGVtZW50LmtpbmQsXG4gICAgICAgICAga2V5OiBlbGVtZW50LmtleSxcbiAgICAgICAgICBwbGFjZW1lbnQ6IGVsZW1lbnQucGxhY2VtZW50LFxuICAgICAgICAgIGRlc2NyaXB0b3I6IGVsZW1lbnQuZGVzY3JpcHRvclxuICAgICAgICB9O1xuICAgICAgICB2YXIgZGVzYyA9IHtcbiAgICAgICAgICB2YWx1ZTogJ0Rlc2NyaXB0b3InLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBTeW1ib2wudG9TdHJpbmdUYWcsIGRlc2MpO1xuICAgICAgICBpZiAoZWxlbWVudC5raW5kID09PSAnZmllbGQnKSBvYmouaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfSxcbiAgICAgIHRvRWxlbWVudERlc2NyaXB0b3JzOiBmdW5jdGlvbihlbGVtZW50T2JqZWN0cykge1xuICAgICAgICBpZiAoZWxlbWVudE9iamVjdHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICByZXR1cm4gX3RvQXJyYXkoZWxlbWVudE9iamVjdHMpLm1hcChmdW5jdGlvbihlbGVtZW50T2JqZWN0KSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7XG4gICAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KFxuICAgICAgICAgICAgZWxlbWVudE9iamVjdCxcbiAgICAgICAgICAgICdmaW5pc2hlcicsXG4gICAgICAgICAgICAnQW4gZWxlbWVudCBkZXNjcmlwdG9yJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KFxuICAgICAgICAgICAgZWxlbWVudE9iamVjdCxcbiAgICAgICAgICAgICdleHRyYXMnLFxuICAgICAgICAgICAgJ0FuIGVsZW1lbnQgZGVzY3JpcHRvcidcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgIH0sXG4gICAgICB0b0VsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbihlbGVtZW50T2JqZWN0KSB7XG4gICAgICAgIHZhciBraW5kID0gU3RyaW5nKGVsZW1lbnRPYmplY3Qua2luZCk7XG5cbiAgICAgICAgaWYgKGtpbmQgIT09ICdtZXRob2QnICYmIGtpbmQgIT09ICdmaWVsZCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgJ0FuIGVsZW1lbnQgZGVzY3JpcHRvclxcJ3MgLmtpbmQgcHJvcGVydHkgbXVzdCBiZSBlaXRoZXIgXCJtZXRob2RcIiBvcicgK1xuICAgICAgICAgICAgICAnIFwiZmllbGRcIiwgYnV0IGEgZGVjb3JhdG9yIGNyZWF0ZWQgYW4gZWxlbWVudCBkZXNjcmlwdG9yIHdpdGgnICtcbiAgICAgICAgICAgICAgJyAua2luZCBcIicgK1xuICAgICAgICAgICAgICBraW5kICtcbiAgICAgICAgICAgICAgJ1wiJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZWxlbWVudE9iamVjdC5rZXkpO1xuXG4gICAgICAgIHZhciBwbGFjZW1lbnQgPSBTdHJpbmcoZWxlbWVudE9iamVjdC5wbGFjZW1lbnQpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwbGFjZW1lbnQgIT09ICdzdGF0aWMnICYmXG4gICAgICAgICAgcGxhY2VtZW50ICE9PSAncHJvdG90eXBlJyAmJlxuICAgICAgICAgIHBsYWNlbWVudCAhPT0gJ293bidcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5wbGFjZW1lbnQgcHJvcGVydHkgbXVzdCBiZSBvbmUgb2YgXCJzdGF0aWNcIiwnICtcbiAgICAgICAgICAgICAgJyBcInByb3RvdHlwZVwiIG9yIFwib3duXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvcicgK1xuICAgICAgICAgICAgICAnIHdpdGggLnBsYWNlbWVudCBcIicgK1xuICAgICAgICAgICAgICBwbGFjZW1lbnQgK1xuICAgICAgICAgICAgICAnXCInXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gZWxlbWVudE9iamVjdC5kZXNjcmlwdG9yO1xuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgZWxlbWVudE9iamVjdCxcbiAgICAgICAgICAnZWxlbWVudHMnLFxuICAgICAgICAgICdBbiBlbGVtZW50IGRlc2NyaXB0b3InXG4gICAgICAgICk7XG4gICAgICAgIHZhciBlbGVtZW50ID0ge1xuICAgICAgICAgIGtpbmQ6IGtpbmQsXG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICAgICAgZGVzY3JpcHRvcjogT2JqZWN0LmFzc2lnbih7fSwgZGVzY3JpcHRvcilcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoa2luZCAhPT0gJ2ZpZWxkJykge1xuICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShcbiAgICAgICAgICAgIGVsZW1lbnRPYmplY3QsXG4gICAgICAgICAgICAnaW5pdGlhbGl6ZXInLFxuICAgICAgICAgICAgJ0EgbWV0aG9kIGRlc2NyaXB0b3InXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgJ2dldCcsXG4gICAgICAgICAgICAnVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KFxuICAgICAgICAgICAgZGVzY3JpcHRvcixcbiAgICAgICAgICAgICdzZXQnLFxuICAgICAgICAgICAgJ1RoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvcidcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShcbiAgICAgICAgICAgIGRlc2NyaXB0b3IsXG4gICAgICAgICAgICAndmFsdWUnLFxuICAgICAgICAgICAgJ1RoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvcidcbiAgICAgICAgICApO1xuICAgICAgICAgIGVsZW1lbnQuaW5pdGlhbGl6ZXIgPSBlbGVtZW50T2JqZWN0LmluaXRpYWxpemVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9LFxuICAgICAgdG9FbGVtZW50RmluaXNoZXJFeHRyYXM6IGZ1bmN0aW9uKGVsZW1lbnRPYmplY3QpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7XG5cbiAgICAgICAgdmFyIGZpbmlzaGVyID0gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCAnZmluaXNoZXInKTtcblxuICAgICAgICB2YXIgZXh0cmFzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhlbGVtZW50T2JqZWN0LmV4dHJhcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICBmaW5pc2hlcjogZmluaXNoZXIsXG4gICAgICAgICAgZXh0cmFzOiBleHRyYXNcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBmcm9tQ2xhc3NEZXNjcmlwdG9yOiBmdW5jdGlvbihlbGVtZW50cykge1xuICAgICAgICB2YXIgb2JqID0ge1xuICAgICAgICAgIGtpbmQ6ICdjbGFzcycsXG4gICAgICAgICAgZWxlbWVudHM6IGVsZW1lbnRzLm1hcCh0aGlzLmZyb21FbGVtZW50RGVzY3JpcHRvciwgdGhpcylcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlc2MgPSB7XG4gICAgICAgICAgdmFsdWU6ICdEZXNjcmlwdG9yJyxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkZXNjKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sXG4gICAgICB0b0NsYXNzRGVzY3JpcHRvcjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHZhciBraW5kID0gU3RyaW5nKG9iai5raW5kKTtcblxuICAgICAgICBpZiAoa2luZCAhPT0gJ2NsYXNzJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAnQSBjbGFzcyBkZXNjcmlwdG9yXFwncyAua2luZCBwcm9wZXJ0eSBtdXN0IGJlIFwiY2xhc3NcIiwgYnV0IGEgZGVjb3JhdG9yJyArXG4gICAgICAgICAgICAgICcgY3JlYXRlZCBhIGNsYXNzIGRlc2NyaXB0b3Igd2l0aCAua2luZCBcIicgK1xuICAgICAgICAgICAgICBraW5kICtcbiAgICAgICAgICAgICAgJ1wiJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAna2V5JywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAncGxhY2VtZW50JywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAnZGVzY3JpcHRvcicsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcbiAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgJ2luaXRpYWxpemVyJywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAnZXh0cmFzJywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuXG4gICAgICAgIHZhciBmaW5pc2hlciA9IF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkob2JqLCAnZmluaXNoZXInKTtcblxuICAgICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3JzKG9iai5lbGVtZW50cyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgICAgICAgIGZpbmlzaGVyOiBmaW5pc2hlclxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHJ1bkNsYXNzRmluaXNoZXJzOiBmdW5jdGlvbihjb25zdHJ1Y3RvciwgZmluaXNoZXJzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmluaXNoZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIG5ld0NvbnN0cnVjdG9yID0gKDAsIGZpbmlzaGVyc1tpXSkoY29uc3RydWN0b3IpO1xuXG4gICAgICAgICAgaWYgKG5ld0NvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3Q29uc3RydWN0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmluaXNoZXJzIG11c3QgcmV0dXJuIGEgY29uc3RydWN0b3IuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gbmV3Q29uc3RydWN0b3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xuICAgICAgfSxcbiAgICAgIGRpc2FsbG93UHJvcGVydHk6IGZ1bmN0aW9uKG9iaiwgbmFtZSwgb2JqZWN0VHlwZSkge1xuICAgICAgICBpZiAob2JqW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgb2JqZWN0VHlwZSArIFwiIGNhbid0IGhhdmUgYSAuXCIgKyBuYW1lICsgJyBwcm9wZXJ0eS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGFwaTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50RGVzY3JpcHRvcihkZWYpIHtcbiAgICB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZGVmLmtleSk7XG5cbiAgICB2YXIgZGVzY3JpcHRvcjtcblxuICAgIGlmIChkZWYua2luZCA9PT0gJ21ldGhvZCcpIHtcbiAgICAgIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgIHZhbHVlOiBkZWYudmFsdWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09ICdnZXQnKSB7XG4gICAgICBkZXNjcmlwdG9yID0ge1xuICAgICAgICBnZXQ6IGRlZi52YWx1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGRlZi5raW5kID09PSAnc2V0Jykge1xuICAgICAgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgc2V0OiBkZWYudmFsdWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gJ2ZpZWxkJykge1xuICAgICAgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudCA9IHtcbiAgICAgIGtpbmQ6IGRlZi5raW5kID09PSAnZmllbGQnID8gJ2ZpZWxkJyA6ICdtZXRob2QnLFxuICAgICAga2V5OiBrZXksXG4gICAgICBwbGFjZW1lbnQ6IGRlZi5zdGF0aWNcbiAgICAgICAgPyAnc3RhdGljJ1xuICAgICAgICA6IGRlZi5raW5kID09PSAnZmllbGQnXG4gICAgICAgID8gJ293bidcbiAgICAgICAgOiAncHJvdG90eXBlJyxcbiAgICAgIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3JcbiAgICB9O1xuICAgIGlmIChkZWYuZGVjb3JhdG9ycykgZWxlbWVudC5kZWNvcmF0b3JzID0gZGVmLmRlY29yYXRvcnM7XG4gICAgaWYgKGRlZi5raW5kID09PSAnZmllbGQnKSBlbGVtZW50LmluaXRpYWxpemVyID0gZGVmLnZhbHVlO1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gX2NvYWxlc2NlR2V0dGVyU2V0dGVyKGVsZW1lbnQsIG90aGVyKSB7XG4gICAgaWYgKGVsZW1lbnQuZGVzY3JpcHRvci5nZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgb3RoZXIuZGVzY3JpcHRvci5nZXQgPSBlbGVtZW50LmRlc2NyaXB0b3IuZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICBvdGhlci5kZXNjcmlwdG9yLnNldCA9IGVsZW1lbnQuZGVzY3JpcHRvci5zZXQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NvYWxlc2NlQ2xhc3NFbGVtZW50cyhlbGVtZW50cykge1xuICAgIHZhciBuZXdFbGVtZW50cyA9IFtdO1xuXG4gICAgdmFyIGlzU2FtZUVsZW1lbnQgPSBmdW5jdGlvbihvdGhlcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgb3RoZXIua2luZCA9PT0gJ21ldGhvZCcgJiZcbiAgICAgICAgb3RoZXIua2V5ID09PSBlbGVtZW50LmtleSAmJlxuICAgICAgICBvdGhlci5wbGFjZW1lbnQgPT09IGVsZW1lbnQucGxhY2VtZW50XG4gICAgICApO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgdmFyIG90aGVyO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGVsZW1lbnQua2luZCA9PT0gJ21ldGhvZCcgJiZcbiAgICAgICAgKG90aGVyID0gbmV3RWxlbWVudHMuZmluZChpc1NhbWVFbGVtZW50KSlcbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgX2lzRGF0YURlc2NyaXB0b3IoZWxlbWVudC5kZXNjcmlwdG9yKSB8fFxuICAgICAgICAgIF9pc0RhdGFEZXNjcmlwdG9yKG90aGVyLmRlc2NyaXB0b3IpXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB8fCBfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcbiAgICAgICAgICAgICAgJ0R1cGxpY2F0ZWQgbWV0aG9kcyAoJyArIGVsZW1lbnQua2V5ICsgXCIpIGNhbid0IGJlIGRlY29yYXRlZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvdGhlci5kZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSkge1xuICAgICAgICAgICAgaWYgKF9oYXNEZWNvcmF0b3JzKG90aGVyKSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJEZWNvcmF0b3JzIGNhbid0IGJlIHBsYWNlZCBvbiBkaWZmZXJlbnQgYWNjZXNzb3JzIHdpdGggZm9yIFwiICtcbiAgICAgICAgICAgICAgICAgICd0aGUgc2FtZSBwcm9wZXJ0eSAoJyArXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LmtleSArXG4gICAgICAgICAgICAgICAgICAnKS4nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG90aGVyLmRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2NvYWxlc2NlR2V0dGVyU2V0dGVyKGVsZW1lbnQsIG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3RWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3RWxlbWVudHM7XG4gIH1cblxuICBmdW5jdGlvbiBfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuZGVjb3JhdG9ycyAmJiBlbGVtZW50LmRlY29yYXRvcnMubGVuZ3RoO1xuICB9XG5cbiAgZnVuY3Rpb24gX2lzRGF0YURlc2NyaXB0b3IoZGVzYykge1xuICAgIHJldHVybiAoXG4gICAgICBkZXNjICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICEoZGVzYy52YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGRlc2Mud3JpdGFibGUgPT09IHVuZGVmaW5lZClcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShvYmosIG5hbWUpIHtcbiAgICB2YXIgdmFsdWUgPSBvYmpbbmFtZV07XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCAnXCIgKyBuYW1lICsgXCInIHRvIGJlIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZU1ldGhvZEdldChyZWNlaXZlciwgcHJpdmF0ZVNldCwgZm4pIHtcbiAgICBpZiAoIXByaXZhdGVTZXQuaGFzKHJlY2VpdmVyKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZScpO1xuICAgIH1cblxuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVNZXRob2RTZXQoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHJlYXNzaWduIHByaXZhdGUgbWV0aG9kJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfd3JhcFJlZ0V4cChyZSwgZ3JvdXBzKSB7XG4gICAgX3dyYXBSZWdFeHAgPSBmdW5jdGlvbihyZSwgZ3JvdXBzKSB7XG4gICAgICByZXR1cm4gbmV3IEJhYmVsUmVnRXhwKHJlLCBncm91cHMpO1xuICAgIH07XG5cbiAgICB2YXIgX1JlZ0V4cCA9IF93cmFwTmF0aXZlU3VwZXIoUmVnRXhwKTtcblxuICAgIHZhciBfc3VwZXIgPSBSZWdFeHAucHJvdG90eXBlO1xuXG4gICAgdmFyIF9ncm91cHMgPSBuZXcgV2Vha01hcCgpO1xuXG4gICAgZnVuY3Rpb24gQmFiZWxSZWdFeHAocmUsIGdyb3Vwcykge1xuICAgICAgdmFyIF90aGlzID0gX1JlZ0V4cC5jYWxsKHRoaXMsIHJlKTtcblxuICAgICAgX2dyb3Vwcy5zZXQoX3RoaXMsIGdyb3Vwcyk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfaW5oZXJpdHMoQmFiZWxSZWdFeHAsIF9SZWdFeHApO1xuXG4gICAgQmFiZWxSZWdFeHAucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBfc3VwZXIuZXhlYy5jYWxsKHRoaXMsIHN0cik7XG5cbiAgICAgIGlmIChyZXN1bHQpIHJlc3VsdC5ncm91cHMgPSBidWlsZEdyb3VwcyhyZXN1bHQsIHRoaXMpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgQmFiZWxSZWdFeHAucHJvdG90eXBlW1N5bWJvbC5yZXBsYWNlXSA9IGZ1bmN0aW9uKHN0ciwgc3Vic3RpdHV0aW9uKSB7XG4gICAgICBpZiAodHlwZW9mIHN1YnN0aXR1dGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIGdyb3VwcyA9IF9ncm91cHMuZ2V0KHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBfc3VwZXJbU3ltYm9sLnJlcGxhY2VdLmNhbGwoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBzdHIsXG4gICAgICAgICAgc3Vic3RpdHV0aW9uLnJlcGxhY2UoL1xcJDwoW14+XSspPi9nLCBmdW5jdGlvbihfLCBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyQnICsgZ3JvdXBzW25hbWVdO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdWJzdGl0dXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICByZXR1cm4gX3N1cGVyW1N5bWJvbC5yZXBsYWNlXS5jYWxsKHRoaXMsIHN0ciwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICBhcmdzLnB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgYXJncy5wdXNoKGJ1aWxkR3JvdXBzKGFyZ3MsIF90aGlzKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHN1YnN0aXR1dGlvbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gX3N1cGVyW1N5bWJvbC5yZXBsYWNlXS5jYWxsKHRoaXMsIHN0ciwgc3Vic3RpdHV0aW9uKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYnVpbGRHcm91cHMocmVzdWx0LCByZSkge1xuICAgICAgdmFyIGcgPSBfZ3JvdXBzLmdldChyZSk7XG5cbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhnKS5yZWR1Y2UoZnVuY3Rpb24oZ3JvdXBzLCBuYW1lKSB7XG4gICAgICAgIGdyb3Vwc1tuYW1lXSA9IHJlc3VsdFtnW25hbWVdXTtcbiAgICAgICAgcmV0dXJuIGdyb3VwcztcbiAgICAgIH0sIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgIH1cblxuICAgIHJldHVybiBfd3JhcFJlZ0V4cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgdmFyIHZlY3Rvck11bHRpcGx5ID0gZnVuY3Rpb24gdmVjdG9yTXVsdGlwbHkodiwgYW1vdW50KSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZlY3Rvcih2LnggKiBhbW91bnQsIHYueSAqIGFtb3VudCk7XG4gIH07XG5cbiAgdmFyIHZlY3RvckFkZCA9IGZ1bmN0aW9uIHZlY3RvckFkZChhLCBiKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZlY3RvcihhLnggKyBiLngsIGEueSArIGIueSk7XG4gIH07XG5cbiAgdmFyIHZlY3Rvck5vcm1hbGl6ZSA9IGZ1bmN0aW9uIHZlY3Rvck5vcm1hbGl6ZSh2KSB7XG4gICAgdmFyIGwgPSBNYXRoLnNxcnQodi54ICogdi54ICsgdi55ICogdi55KTtcbiAgICBpZiAobCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVZlY3Rvcih2LnggLyBsLCB2LnkgLyBsKTtcbiAgfTtcblxuICB2YXIgdmVjdG9yUm90YXRlID0gZnVuY3Rpb24gdmVjdG9yUm90YXRlKHYsIHJhZGlhbnMsIG9yaWdpbikge1xuICAgIHZhciBjb3MgPSBNYXRoLmNvcyhyYWRpYW5zKTtcbiAgICB2YXIgc2luID0gTWF0aC5zaW4ocmFkaWFucyk7XG4gICAgdmFyIHQgPSBjcmVhdGVWZWN0b3Iodi54IC0gb3JpZ2luLngsIHYueSAtIG9yaWdpbi55KTtcbiAgICByZXR1cm4gY3JlYXRlVmVjdG9yKFxuICAgICAgb3JpZ2luLnggKyBjb3MgKiB0LnggLSBzaW4gKiB0LnksXG4gICAgICBvcmlnaW4ueSArIHNpbiAqIHQueCArIGNvcyAqIHQueVxuICAgICk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVZlY3RvciA9IGZ1bmN0aW9uIGNyZWF0ZVZlY3RvcigpIHtcbiAgICB2YXIgeCA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgdmFyIHkgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbiAgfTtcblxuICB2YXIgZ2V0TWFya3VwVmFsdWUgPSBmdW5jdGlvbiBnZXRNYXJrdXBWYWx1ZSh2YWx1ZSwgc2l6ZSkge1xuICAgIHZhciBzY2FsYXIgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuICAgIHZhciBheGlzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBhcmd1bWVudHNbM10gOiB1bmRlZmluZWQ7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKSAqIHNjYWxhcjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAqIChheGlzID8gc2l6ZVtheGlzXSA6IE1hdGgubWluKHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfTtcblxuICB2YXIgZ2V0TWFya3VwU3R5bGVzID0gZnVuY3Rpb24gZ2V0TWFya3VwU3R5bGVzKG1hcmt1cCwgc2l6ZSwgc2NhbGUpIHtcbiAgICB2YXIgbGluZVN0eWxlID0gbWFya3VwLmJvcmRlclN0eWxlIHx8IG1hcmt1cC5saW5lU3R5bGUgfHwgJ3NvbGlkJztcbiAgICB2YXIgZmlsbCA9IG1hcmt1cC5iYWNrZ3JvdW5kQ29sb3IgfHwgbWFya3VwLmZvbnRDb2xvciB8fCAndHJhbnNwYXJlbnQnO1xuICAgIHZhciBzdHJva2UgPSBtYXJrdXAuYm9yZGVyQ29sb3IgfHwgbWFya3VwLmxpbmVDb2xvciB8fCAndHJhbnNwYXJlbnQnO1xuICAgIHZhciBzdHJva2VXaWR0aCA9IGdldE1hcmt1cFZhbHVlKFxuICAgICAgbWFya3VwLmJvcmRlcldpZHRoIHx8IG1hcmt1cC5saW5lV2lkdGgsXG4gICAgICBzaXplLFxuICAgICAgc2NhbGVcbiAgICApO1xuICAgIHZhciBsaW5lQ2FwID0gbWFya3VwLmxpbmVDYXAgfHwgJ3JvdW5kJztcbiAgICB2YXIgbGluZUpvaW4gPSBtYXJrdXAubGluZUpvaW4gfHwgJ3JvdW5kJztcbiAgICB2YXIgZGFzaGVzID1cbiAgICAgIHR5cGVvZiBsaW5lU3R5bGUgPT09ICdzdHJpbmcnXG4gICAgICAgID8gJydcbiAgICAgICAgOiBsaW5lU3R5bGVcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0TWFya3VwVmFsdWUodiwgc2l6ZSwgc2NhbGUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCcsJyk7XG4gICAgdmFyIG9wYWNpdHkgPSBtYXJrdXAub3BhY2l0eSB8fCAxO1xuICAgIHJldHVybiB7XG4gICAgICAnc3Ryb2tlLWxpbmVjYXAnOiBsaW5lQ2FwLFxuICAgICAgJ3N0cm9rZS1saW5lam9pbic6IGxpbmVKb2luLFxuICAgICAgJ3N0cm9rZS13aWR0aCc6IHN0cm9rZVdpZHRoIHx8IDAsXG4gICAgICAnc3Ryb2tlLWRhc2hhcnJheSc6IGRhc2hlcyxcbiAgICAgIHN0cm9rZTogc3Ryb2tlLFxuICAgICAgZmlsbDogZmlsbCxcbiAgICAgIG9wYWNpdHk6IG9wYWNpdHlcbiAgICB9O1xuICB9O1xuXG4gIHZhciBpc0RlZmluZWQgPSBmdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT0gbnVsbDtcbiAgfTtcblxuICB2YXIgZ2V0TWFya3VwUmVjdCA9IGZ1bmN0aW9uIGdldE1hcmt1cFJlY3QocmVjdCwgc2l6ZSkge1xuICAgIHZhciBzY2FsYXIgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuXG4gICAgdmFyIGxlZnQgPVxuICAgICAgZ2V0TWFya3VwVmFsdWUocmVjdC54LCBzaXplLCBzY2FsYXIsICd3aWR0aCcpIHx8XG4gICAgICBnZXRNYXJrdXBWYWx1ZShyZWN0LmxlZnQsIHNpemUsIHNjYWxhciwgJ3dpZHRoJyk7XG4gICAgdmFyIHRvcCA9XG4gICAgICBnZXRNYXJrdXBWYWx1ZShyZWN0LnksIHNpemUsIHNjYWxhciwgJ2hlaWdodCcpIHx8XG4gICAgICBnZXRNYXJrdXBWYWx1ZShyZWN0LnRvcCwgc2l6ZSwgc2NhbGFyLCAnaGVpZ2h0Jyk7XG4gICAgdmFyIHdpZHRoID0gZ2V0TWFya3VwVmFsdWUocmVjdC53aWR0aCwgc2l6ZSwgc2NhbGFyLCAnd2lkdGgnKTtcbiAgICB2YXIgaGVpZ2h0ID0gZ2V0TWFya3VwVmFsdWUocmVjdC5oZWlnaHQsIHNpemUsIHNjYWxhciwgJ2hlaWdodCcpO1xuICAgIHZhciByaWdodCA9IGdldE1hcmt1cFZhbHVlKHJlY3QucmlnaHQsIHNpemUsIHNjYWxhciwgJ3dpZHRoJyk7XG4gICAgdmFyIGJvdHRvbSA9IGdldE1hcmt1cFZhbHVlKHJlY3QuYm90dG9tLCBzaXplLCBzY2FsYXIsICdoZWlnaHQnKTtcblxuICAgIGlmICghaXNEZWZpbmVkKHRvcCkpIHtcbiAgICAgIGlmIChpc0RlZmluZWQoaGVpZ2h0KSAmJiBpc0RlZmluZWQoYm90dG9tKSkge1xuICAgICAgICB0b3AgPSBzaXplLmhlaWdodCAtIGhlaWdodCAtIGJvdHRvbTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvcCA9IGJvdHRvbTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWlzRGVmaW5lZChsZWZ0KSkge1xuICAgICAgaWYgKGlzRGVmaW5lZCh3aWR0aCkgJiYgaXNEZWZpbmVkKHJpZ2h0KSkge1xuICAgICAgICBsZWZ0ID0gc2l6ZS53aWR0aCAtIHdpZHRoIC0gcmlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZWZ0ID0gcmlnaHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFpc0RlZmluZWQod2lkdGgpKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKGxlZnQpICYmIGlzRGVmaW5lZChyaWdodCkpIHtcbiAgICAgICAgd2lkdGggPSBzaXplLndpZHRoIC0gbGVmdCAtIHJpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaXNEZWZpbmVkKGhlaWdodCkpIHtcbiAgICAgIGlmIChpc0RlZmluZWQodG9wKSAmJiBpc0RlZmluZWQoYm90dG9tKSkge1xuICAgICAgICBoZWlnaHQgPSBzaXplLmhlaWdodCAtIHRvcCAtIGJvdHRvbTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhlaWdodCA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGxlZnQgfHwgMCxcbiAgICAgIHk6IHRvcCB8fCAwLFxuICAgICAgd2lkdGg6IHdpZHRoIHx8IDAsXG4gICAgICBoZWlnaHQ6IGhlaWdodCB8fCAwXG4gICAgfTtcbiAgfTtcblxuICB2YXIgcG9pbnRzVG9QYXRoU2hhcGUgPSBmdW5jdGlvbiBwb2ludHNUb1BhdGhTaGFwZShwb2ludHMpIHtcbiAgICByZXR1cm4gcG9pbnRzXG4gICAgICAubWFwKGZ1bmN0aW9uKHBvaW50LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gJydcbiAgICAgICAgICAuY29uY2F0KGluZGV4ID09PSAwID8gJ00nIDogJ0wnLCAnICcpXG4gICAgICAgICAgLmNvbmNhdChwb2ludC54LCAnICcpXG4gICAgICAgICAgLmNvbmNhdChwb2ludC55KTtcbiAgICAgIH0pXG4gICAgICAuam9pbignICcpO1xuICB9O1xuXG4gIHZhciBzZXRBdHRyaWJ1dGVzID0gZnVuY3Rpb24gc2V0QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGF0dHIpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyW2tleV0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gIHZhciBzdmcgPSBmdW5jdGlvbiBzdmcodGFnLCBhdHRyKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZyk7XG4gICAgaWYgKGF0dHIpIHtcbiAgICAgIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cik7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50O1xuICB9O1xuXG4gIHZhciB1cGRhdGVSZWN0ID0gZnVuY3Rpb24gdXBkYXRlUmVjdChlbGVtZW50KSB7XG4gICAgcmV0dXJuIHNldEF0dHJpYnV0ZXMoXG4gICAgICBlbGVtZW50LFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudC5yZWN0LCBlbGVtZW50LnN0eWxlcylcbiAgICApO1xuICB9O1xuXG4gIHZhciB1cGRhdGVFbGxpcHNlID0gZnVuY3Rpb24gdXBkYXRlRWxsaXBzZShlbGVtZW50KSB7XG4gICAgdmFyIGN4ID0gZWxlbWVudC5yZWN0LnggKyBlbGVtZW50LnJlY3Qud2lkdGggKiAwLjU7XG4gICAgdmFyIGN5ID0gZWxlbWVudC5yZWN0LnkgKyBlbGVtZW50LnJlY3QuaGVpZ2h0ICogMC41O1xuICAgIHZhciByeCA9IGVsZW1lbnQucmVjdC53aWR0aCAqIDAuNTtcbiAgICB2YXIgcnkgPSBlbGVtZW50LnJlY3QuaGVpZ2h0ICogMC41O1xuICAgIHJldHVybiBzZXRBdHRyaWJ1dGVzKFxuICAgICAgZWxlbWVudCxcbiAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtcbiAgICAgICAgICBjeDogY3gsXG4gICAgICAgICAgY3k6IGN5LFxuICAgICAgICAgIHJ4OiByeCxcbiAgICAgICAgICByeTogcnlcbiAgICAgICAgfSxcbiAgICAgICAgZWxlbWVudC5zdHlsZXNcbiAgICAgIClcbiAgICApO1xuICB9O1xuXG4gIHZhciBJTUFHRV9GSVRfU1RZTEUgPSB7XG4gICAgY29udGFpbjogJ3hNaWRZTWlkIG1lZXQnLFxuICAgIGNvdmVyOiAneE1pZFlNaWQgc2xpY2UnXG4gIH07XG5cbiAgdmFyIHVwZGF0ZUltYWdlID0gZnVuY3Rpb24gdXBkYXRlSW1hZ2UoZWxlbWVudCwgbWFya3VwKSB7XG4gICAgc2V0QXR0cmlidXRlcyhcbiAgICAgIGVsZW1lbnQsXG4gICAgICBPYmplY3QuYXNzaWduKHt9LCBlbGVtZW50LnJlY3QsIGVsZW1lbnQuc3R5bGVzLCB7XG4gICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IElNQUdFX0ZJVF9TVFlMRVttYXJrdXAuZml0XSB8fCAnbm9uZSdcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICB2YXIgVEVYVF9BTkNIT1IgPSB7XG4gICAgbGVmdDogJ3N0YXJ0JyxcbiAgICBjZW50ZXI6ICdtaWRkbGUnLFxuICAgIHJpZ2h0OiAnZW5kJ1xuICB9O1xuXG4gIHZhciB1cGRhdGVUZXh0ID0gZnVuY3Rpb24gdXBkYXRlVGV4dChlbGVtZW50LCBtYXJrdXAsIHNpemUsIHNjYWxlKSB7XG4gICAgdmFyIGZvbnRTaXplID0gZ2V0TWFya3VwVmFsdWUobWFya3VwLmZvbnRTaXplLCBzaXplLCBzY2FsZSk7XG4gICAgdmFyIGZvbnRGYW1pbHkgPSBtYXJrdXAuZm9udEZhbWlseSB8fCAnc2Fucy1zZXJpZic7XG4gICAgdmFyIGZvbnRXZWlnaHQgPSBtYXJrdXAuZm9udFdlaWdodCB8fCAnbm9ybWFsJztcbiAgICB2YXIgdGV4dEFsaWduID0gVEVYVF9BTkNIT1JbbWFya3VwLnRleHRBbGlnbl0gfHwgJ3N0YXJ0JztcblxuICAgIHNldEF0dHJpYnV0ZXMoXG4gICAgICBlbGVtZW50LFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudC5yZWN0LCBlbGVtZW50LnN0eWxlcywge1xuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMCxcbiAgICAgICAgJ2ZvbnQtd2VpZ2h0JzogZm9udFdlaWdodCxcbiAgICAgICAgJ2ZvbnQtc2l6ZSc6IGZvbnRTaXplLFxuICAgICAgICAnZm9udC1mYW1pbHknOiBmb250RmFtaWx5LFxuICAgICAgICAndGV4dC1hbmNob3InOiB0ZXh0QWxpZ25cbiAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIHVwZGF0ZSB0ZXh0XG4gICAgaWYgKGVsZW1lbnQudGV4dCAhPT0gbWFya3VwLnRleHQpIHtcbiAgICAgIGVsZW1lbnQudGV4dCA9IG1hcmt1cC50ZXh0O1xuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG1hcmt1cC50ZXh0Lmxlbmd0aCA/IG1hcmt1cC50ZXh0IDogJyAnO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdXBkYXRlTGluZSA9IGZ1bmN0aW9uIHVwZGF0ZUxpbmUoZWxlbWVudCwgbWFya3VwLCBzaXplLCBzY2FsZSkge1xuICAgIHNldEF0dHJpYnV0ZXMoXG4gICAgICBlbGVtZW50LFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudC5yZWN0LCBlbGVtZW50LnN0eWxlcywge1xuICAgICAgICBmaWxsOiAnbm9uZSdcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIHZhciBsaW5lID0gZWxlbWVudC5jaGlsZE5vZGVzWzBdO1xuICAgIHZhciBiZWdpbiA9IGVsZW1lbnQuY2hpbGROb2Rlc1sxXTtcbiAgICB2YXIgZW5kID0gZWxlbWVudC5jaGlsZE5vZGVzWzJdO1xuXG4gICAgdmFyIG9yaWdpbiA9IGVsZW1lbnQucmVjdDtcblxuICAgIHZhciB0YXJnZXQgPSB7XG4gICAgICB4OiBlbGVtZW50LnJlY3QueCArIGVsZW1lbnQucmVjdC53aWR0aCxcbiAgICAgIHk6IGVsZW1lbnQucmVjdC55ICsgZWxlbWVudC5yZWN0LmhlaWdodFxuICAgIH07XG5cbiAgICBzZXRBdHRyaWJ1dGVzKGxpbmUsIHtcbiAgICAgIHgxOiBvcmlnaW4ueCxcbiAgICAgIHkxOiBvcmlnaW4ueSxcbiAgICAgIHgyOiB0YXJnZXQueCxcbiAgICAgIHkyOiB0YXJnZXQueVxuICAgIH0pO1xuXG4gICAgaWYgKCFtYXJrdXAubGluZURlY29yYXRpb24pIHJldHVybjtcblxuICAgIGJlZ2luLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZW5kLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICB2YXIgdiA9IHZlY3Rvck5vcm1hbGl6ZSh7XG4gICAgICB4OiB0YXJnZXQueCAtIG9yaWdpbi54LFxuICAgICAgeTogdGFyZ2V0LnkgLSBvcmlnaW4ueVxuICAgIH0pO1xuXG4gICAgdmFyIGwgPSBnZXRNYXJrdXBWYWx1ZSgwLjA1LCBzaXplLCBzY2FsZSk7XG5cbiAgICBpZiAobWFya3VwLmxpbmVEZWNvcmF0aW9uLmluZGV4T2YoJ2Fycm93LWJlZ2luJykgIT09IC0xKSB7XG4gICAgICB2YXIgYXJyb3dCZWdpblJvdGF0aW9uUG9pbnQgPSB2ZWN0b3JNdWx0aXBseSh2LCBsKTtcbiAgICAgIHZhciBhcnJvd0JlZ2luQ2VudGVyID0gdmVjdG9yQWRkKG9yaWdpbiwgYXJyb3dCZWdpblJvdGF0aW9uUG9pbnQpO1xuICAgICAgdmFyIGFycm93QmVnaW5BID0gdmVjdG9yUm90YXRlKG9yaWdpbiwgMiwgYXJyb3dCZWdpbkNlbnRlcik7XG4gICAgICB2YXIgYXJyb3dCZWdpbkIgPSB2ZWN0b3JSb3RhdGUob3JpZ2luLCAtMiwgYXJyb3dCZWdpbkNlbnRlcik7XG5cbiAgICAgIHNldEF0dHJpYnV0ZXMoYmVnaW4sIHtcbiAgICAgICAgc3R5bGU6ICdkaXNwbGF5OmJsb2NrOycsXG4gICAgICAgIGQ6ICdNJ1xuICAgICAgICAgIC5jb25jYXQoYXJyb3dCZWdpbkEueCwgJywnKVxuICAgICAgICAgIC5jb25jYXQoYXJyb3dCZWdpbkEueSwgJyBMJylcbiAgICAgICAgICAuY29uY2F0KG9yaWdpbi54LCAnLCcpXG4gICAgICAgICAgLmNvbmNhdChvcmlnaW4ueSwgJyBMJylcbiAgICAgICAgICAuY29uY2F0KGFycm93QmVnaW5CLngsICcsJylcbiAgICAgICAgICAuY29uY2F0KGFycm93QmVnaW5CLnkpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobWFya3VwLmxpbmVEZWNvcmF0aW9uLmluZGV4T2YoJ2Fycm93LWVuZCcpICE9PSAtMSkge1xuICAgICAgdmFyIGFycm93RW5kUm90YXRpb25Qb2ludCA9IHZlY3Rvck11bHRpcGx5KHYsIC1sKTtcbiAgICAgIHZhciBhcnJvd0VuZENlbnRlciA9IHZlY3RvckFkZCh0YXJnZXQsIGFycm93RW5kUm90YXRpb25Qb2ludCk7XG4gICAgICB2YXIgYXJyb3dFbmRBID0gdmVjdG9yUm90YXRlKHRhcmdldCwgMiwgYXJyb3dFbmRDZW50ZXIpO1xuICAgICAgdmFyIGFycm93RW5kQiA9IHZlY3RvclJvdGF0ZSh0YXJnZXQsIC0yLCBhcnJvd0VuZENlbnRlcik7XG5cbiAgICAgIHNldEF0dHJpYnV0ZXMoZW5kLCB7XG4gICAgICAgIHN0eWxlOiAnZGlzcGxheTpibG9jazsnLFxuICAgICAgICBkOiAnTSdcbiAgICAgICAgICAuY29uY2F0KGFycm93RW5kQS54LCAnLCcpXG4gICAgICAgICAgLmNvbmNhdChhcnJvd0VuZEEueSwgJyBMJylcbiAgICAgICAgICAuY29uY2F0KHRhcmdldC54LCAnLCcpXG4gICAgICAgICAgLmNvbmNhdCh0YXJnZXQueSwgJyBMJylcbiAgICAgICAgICAuY29uY2F0KGFycm93RW5kQi54LCAnLCcpXG4gICAgICAgICAgLmNvbmNhdChhcnJvd0VuZEIueSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdXBkYXRlUGF0aCA9IGZ1bmN0aW9uIHVwZGF0ZVBhdGgoZWxlbWVudCwgbWFya3VwLCBzaXplLCBzY2FsZSkge1xuICAgIHNldEF0dHJpYnV0ZXMoXG4gICAgICBlbGVtZW50LFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudC5zdHlsZXMsIHtcbiAgICAgICAgZmlsbDogJ25vbmUnLFxuICAgICAgICBkOiBwb2ludHNUb1BhdGhTaGFwZShcbiAgICAgICAgICBtYXJrdXAucG9pbnRzLm1hcChmdW5jdGlvbihwb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgeDogZ2V0TWFya3VwVmFsdWUocG9pbnQueCwgc2l6ZSwgc2NhbGUsICd3aWR0aCcpLFxuICAgICAgICAgICAgICB5OiBnZXRNYXJrdXBWYWx1ZShwb2ludC55LCBzaXplLCBzY2FsZSwgJ2hlaWdodCcpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlU2hhcGUgPSBmdW5jdGlvbiBjcmVhdGVTaGFwZShub2RlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG1hcmt1cCkge1xuICAgICAgcmV0dXJuIHN2Zyhub2RlLCB7IGlkOiBtYXJrdXAuaWQgfSk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgY3JlYXRlSW1hZ2UgPSBmdW5jdGlvbiBjcmVhdGVJbWFnZShtYXJrdXApIHtcbiAgICB2YXIgc2hhcGUgPSBzdmcoJ2ltYWdlJywge1xuICAgICAgaWQ6IG1hcmt1cC5pZCxcbiAgICAgICdzdHJva2UtbGluZWNhcCc6ICdyb3VuZCcsXG4gICAgICAnc3Ryb2tlLWxpbmVqb2luJzogJ3JvdW5kJyxcbiAgICAgIG9wYWNpdHk6ICcwJ1xuICAgIH0pO1xuXG4gICAgc2hhcGUub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICBzaGFwZS5zZXRBdHRyaWJ1dGUoJ29wYWNpdHknLCBtYXJrdXAub3BhY2l0eSB8fCAxKTtcbiAgICB9O1xuICAgIHNoYXBlLnNldEF0dHJpYnV0ZU5TKFxuICAgICAgJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLFxuICAgICAgJ3hsaW5rOmhyZWYnLFxuICAgICAgbWFya3VwLnNyY1xuICAgICk7XG4gICAgcmV0dXJuIHNoYXBlO1xuICB9O1xuXG4gIHZhciBjcmVhdGVMaW5lID0gZnVuY3Rpb24gY3JlYXRlTGluZShtYXJrdXApIHtcbiAgICB2YXIgc2hhcGUgPSBzdmcoJ2cnLCB7XG4gICAgICBpZDogbWFya3VwLmlkLFxuICAgICAgJ3N0cm9rZS1saW5lY2FwJzogJ3JvdW5kJyxcbiAgICAgICdzdHJva2UtbGluZWpvaW4nOiAncm91bmQnXG4gICAgfSk7XG5cbiAgICB2YXIgbGluZSA9IHN2ZygnbGluZScpO1xuICAgIHNoYXBlLmFwcGVuZENoaWxkKGxpbmUpO1xuXG4gICAgdmFyIGJlZ2luID0gc3ZnKCdwYXRoJyk7XG4gICAgc2hhcGUuYXBwZW5kQ2hpbGQoYmVnaW4pO1xuXG4gICAgdmFyIGVuZCA9IHN2ZygncGF0aCcpO1xuICAgIHNoYXBlLmFwcGVuZENoaWxkKGVuZCk7XG5cbiAgICByZXR1cm4gc2hhcGU7XG4gIH07XG5cbiAgdmFyIENSRUFURV9UWVBFX1JPVVRFUyA9IHtcbiAgICBpbWFnZTogY3JlYXRlSW1hZ2UsXG4gICAgcmVjdDogY3JlYXRlU2hhcGUoJ3JlY3QnKSxcbiAgICBlbGxpcHNlOiBjcmVhdGVTaGFwZSgnZWxsaXBzZScpLFxuICAgIHRleHQ6IGNyZWF0ZVNoYXBlKCd0ZXh0JyksXG4gICAgcGF0aDogY3JlYXRlU2hhcGUoJ3BhdGgnKSxcbiAgICBsaW5lOiBjcmVhdGVMaW5lXG4gIH07XG5cbiAgdmFyIFVQREFURV9UWVBFX1JPVVRFUyA9IHtcbiAgICByZWN0OiB1cGRhdGVSZWN0LFxuICAgIGVsbGlwc2U6IHVwZGF0ZUVsbGlwc2UsXG4gICAgaW1hZ2U6IHVwZGF0ZUltYWdlLFxuICAgIHRleHQ6IHVwZGF0ZVRleHQsXG4gICAgcGF0aDogdXBkYXRlUGF0aCxcbiAgICBsaW5lOiB1cGRhdGVMaW5lXG4gIH07XG5cbiAgdmFyIGNyZWF0ZU1hcmt1cEJ5VHlwZSA9IGZ1bmN0aW9uIGNyZWF0ZU1hcmt1cEJ5VHlwZSh0eXBlLCBtYXJrdXApIHtcbiAgICByZXR1cm4gQ1JFQVRFX1RZUEVfUk9VVEVTW3R5cGVdKG1hcmt1cCk7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZU1hcmt1cEJ5VHlwZSA9IGZ1bmN0aW9uIHVwZGF0ZU1hcmt1cEJ5VHlwZShcbiAgICBlbGVtZW50LFxuICAgIHR5cGUsXG4gICAgbWFya3VwLFxuICAgIHNpemUsXG4gICAgc2NhbGVcbiAgKSB7XG4gICAgaWYgKHR5cGUgIT09ICdwYXRoJykge1xuICAgICAgZWxlbWVudC5yZWN0ID0gZ2V0TWFya3VwUmVjdChtYXJrdXAsIHNpemUsIHNjYWxlKTtcbiAgICB9XG4gICAgZWxlbWVudC5zdHlsZXMgPSBnZXRNYXJrdXBTdHlsZXMobWFya3VwLCBzaXplLCBzY2FsZSk7XG4gICAgVVBEQVRFX1RZUEVfUk9VVEVTW3R5cGVdKGVsZW1lbnQsIG1hcmt1cCwgc2l6ZSwgc2NhbGUpO1xuICB9O1xuXG4gIHZhciBNQVJLVVBfUkVDVCA9IFtcbiAgICAneCcsXG4gICAgJ3knLFxuICAgICdsZWZ0JyxcbiAgICAndG9wJyxcbiAgICAncmlnaHQnLFxuICAgICdib3R0b20nLFxuICAgICd3aWR0aCcsXG4gICAgJ2hlaWdodCdcbiAgXTtcblxuICB2YXIgdG9PcHRpb25hbEZyYWN0aW9uID0gZnVuY3Rpb24gdG9PcHRpb25hbEZyYWN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgLyUvLnRlc3QodmFsdWUpXG4gICAgICA/IHBhcnNlRmxvYXQodmFsdWUpIC8gMTAwXG4gICAgICA6IHZhbHVlO1xuICB9O1xuXG4gIC8vIGFkZHMgZGVmYXVsdCBtYXJrdXAgcHJvcGVydGllcywgY2xvbmVzIG1hcmt1cFxuICB2YXIgcHJlcGFyZU1hcmt1cCA9IGZ1bmN0aW9uIHByZXBhcmVNYXJrdXAobWFya3VwKSB7XG4gICAgdmFyIF9tYXJrdXAgPSBfc2xpY2VkVG9BcnJheShtYXJrdXAsIDIpLFxuICAgICAgdHlwZSA9IF9tYXJrdXBbMF0sXG4gICAgICBwcm9wcyA9IF9tYXJrdXBbMV07XG5cbiAgICB2YXIgcmVjdCA9IHByb3BzLnBvaW50c1xuICAgICAgPyB7fVxuICAgICAgOiBNQVJLVVBfUkVDVC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3Vycikge1xuICAgICAgICAgIHByZXZbY3Vycl0gPSB0b09wdGlvbmFsRnJhY3Rpb24ocHJvcHNbY3Vycl0pO1xuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9LCB7fSk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgdHlwZSxcbiAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtcbiAgICAgICAgICB6SW5kZXg6IDBcbiAgICAgICAgfSxcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHJlY3RcbiAgICAgIClcbiAgICBdO1xuICB9O1xuXG4gIHZhciBzb3J0TWFya3VwQnlaSW5kZXggPSBmdW5jdGlvbiBzb3J0TWFya3VwQnlaSW5kZXgoYSwgYikge1xuICAgIGlmIChhWzFdLnpJbmRleCA+IGJbMV0uekluZGV4KSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKGFbMV0uekluZGV4IDwgYlsxXS56SW5kZXgpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU1hcmt1cFZpZXcgPSBmdW5jdGlvbiBjcmVhdGVNYXJrdXBWaWV3KF8pIHtcbiAgICByZXR1cm4gXy51dGlscy5jcmVhdGVWaWV3KHtcbiAgICAgIG5hbWU6ICdpbWFnZS1wcmV2aWV3LW1hcmt1cCcsXG4gICAgICB0YWc6ICdzdmcnLFxuICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgIG1peGluczoge1xuICAgICAgICBhcGlzOiBbJ3dpZHRoJywgJ2hlaWdodCcsICdjcm9wJywgJ21hcmt1cCcsICdyZXNpemUnLCAnZGlydHknXVxuICAgICAgfSxcblxuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuXG4gICAgICAgIGlmICghcHJvcHMuZGlydHkpIHJldHVybjtcbiAgICAgICAgdmFyIGNyb3AgPSBwcm9wcy5jcm9wLFxuICAgICAgICAgIHJlc2l6ZSA9IHByb3BzLnJlc2l6ZSxcbiAgICAgICAgICBtYXJrdXAgPSBwcm9wcy5tYXJrdXA7XG5cbiAgICAgICAgdmFyIHZpZXdXaWR0aCA9IHByb3BzLndpZHRoO1xuICAgICAgICB2YXIgdmlld0hlaWdodCA9IHByb3BzLmhlaWdodDtcblxuICAgICAgICB2YXIgY3JvcFdpZHRoID0gY3JvcC53aWR0aDtcbiAgICAgICAgdmFyIGNyb3BIZWlnaHQgPSBjcm9wLmhlaWdodDtcblxuICAgICAgICBpZiAocmVzaXplKSB7XG4gICAgICAgICAgdmFyIF9zaXplID0gcmVzaXplLnNpemU7XG5cbiAgICAgICAgICB2YXIgb3V0cHV0V2lkdGggPSBfc2l6ZSAmJiBfc2l6ZS53aWR0aDtcbiAgICAgICAgICB2YXIgb3V0cHV0SGVpZ2h0ID0gX3NpemUgJiYgX3NpemUuaGVpZ2h0O1xuICAgICAgICAgIHZhciBvdXRwdXRGaXQgPSByZXNpemUubW9kZTtcbiAgICAgICAgICB2YXIgb3V0cHV0VXBzY2FsZSA9IHJlc2l6ZS51cHNjYWxlO1xuXG4gICAgICAgICAgaWYgKG91dHB1dFdpZHRoICYmICFvdXRwdXRIZWlnaHQpIG91dHB1dEhlaWdodCA9IG91dHB1dFdpZHRoO1xuICAgICAgICAgIGlmIChvdXRwdXRIZWlnaHQgJiYgIW91dHB1dFdpZHRoKSBvdXRwdXRXaWR0aCA9IG91dHB1dEhlaWdodDtcblxuICAgICAgICAgIHZhciBzaG91bGRVcHNjYWxlID1cbiAgICAgICAgICAgIGNyb3BXaWR0aCA8IG91dHB1dFdpZHRoICYmIGNyb3BIZWlnaHQgPCBvdXRwdXRIZWlnaHQ7XG5cbiAgICAgICAgICBpZiAoIXNob3VsZFVwc2NhbGUgfHwgKHNob3VsZFVwc2NhbGUgJiYgb3V0cHV0VXBzY2FsZSkpIHtcbiAgICAgICAgICAgIHZhciBzY2FsYXJXaWR0aCA9IG91dHB1dFdpZHRoIC8gY3JvcFdpZHRoO1xuICAgICAgICAgICAgdmFyIHNjYWxhckhlaWdodCA9IG91dHB1dEhlaWdodCAvIGNyb3BIZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmIChvdXRwdXRGaXQgPT09ICdmb3JjZScpIHtcbiAgICAgICAgICAgICAgY3JvcFdpZHRoID0gb3V0cHV0V2lkdGg7XG4gICAgICAgICAgICAgIGNyb3BIZWlnaHQgPSBvdXRwdXRIZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgc2NhbGFyO1xuICAgICAgICAgICAgICBpZiAob3V0cHV0Rml0ID09PSAnY292ZXInKSB7XG4gICAgICAgICAgICAgICAgc2NhbGFyID0gTWF0aC5tYXgoc2NhbGFyV2lkdGgsIHNjYWxhckhlaWdodCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0Rml0ID09PSAnY29udGFpbicpIHtcbiAgICAgICAgICAgICAgICBzY2FsYXIgPSBNYXRoLm1pbihzY2FsYXJXaWR0aCwgc2NhbGFySGVpZ2h0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjcm9wV2lkdGggPSBjcm9wV2lkdGggKiBzY2FsYXI7XG4gICAgICAgICAgICAgIGNyb3BIZWlnaHQgPSBjcm9wSGVpZ2h0ICogc2NhbGFyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaXplID0ge1xuICAgICAgICAgIHdpZHRoOiB2aWV3V2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiB2aWV3SGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgcm9vdC5lbGVtZW50LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBzaXplLndpZHRoKTtcbiAgICAgICAgcm9vdC5lbGVtZW50LnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jywgc2l6ZS5oZWlnaHQpO1xuXG4gICAgICAgIHZhciBzY2FsZSA9IE1hdGgubWluKHZpZXdXaWR0aCAvIGNyb3BXaWR0aCwgdmlld0hlaWdodCAvIGNyb3BIZWlnaHQpO1xuXG4gICAgICAgIC8vIGNsZWFyXG4gICAgICAgIHJvb3QuZWxlbWVudC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgICAvLyBnZXQgZmlsdGVyXG4gICAgICAgIHZhciBtYXJrdXBGaWx0ZXIgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVJLVVBfRklMVEVSJyk7XG5cbiAgICAgICAgLy8gZHJhdyBuZXdcbiAgICAgICAgbWFya3VwXG4gICAgICAgICAgLmZpbHRlcihtYXJrdXBGaWx0ZXIpXG4gICAgICAgICAgLm1hcChwcmVwYXJlTWFya3VwKVxuICAgICAgICAgIC5zb3J0KHNvcnRNYXJrdXBCeVpJbmRleClcbiAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihtYXJrdXApIHtcbiAgICAgICAgICAgIHZhciBfbWFya3VwID0gX3NsaWNlZFRvQXJyYXkobWFya3VwLCAyKSxcbiAgICAgICAgICAgICAgdHlwZSA9IF9tYXJrdXBbMF0sXG4gICAgICAgICAgICAgIHNldHRpbmdzID0gX21hcmt1cFsxXTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGNyZWF0ZU1hcmt1cEJ5VHlwZSh0eXBlLCBzZXR0aW5ncyk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZVxuICAgICAgICAgICAgdXBkYXRlTWFya3VwQnlUeXBlKGVsZW1lbnQsIHR5cGUsIHNldHRpbmdzLCBzaXplLCBzY2FsZSk7XG5cbiAgICAgICAgICAgIC8vIGFkZFxuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVWZWN0b3IkMSA9IGZ1bmN0aW9uIGNyZWF0ZVZlY3Rvcih4LCB5KSB7XG4gICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuICB9O1xuXG4gIHZhciB2ZWN0b3JEb3QgPSBmdW5jdGlvbiB2ZWN0b3JEb3QoYSwgYikge1xuICAgIHJldHVybiBhLnggKiBiLnggKyBhLnkgKiBiLnk7XG4gIH07XG5cbiAgdmFyIHZlY3RvclN1YnRyYWN0ID0gZnVuY3Rpb24gdmVjdG9yU3VidHJhY3QoYSwgYikge1xuICAgIHJldHVybiBjcmVhdGVWZWN0b3IkMShhLnggLSBiLngsIGEueSAtIGIueSk7XG4gIH07XG5cbiAgdmFyIHZlY3RvckRpc3RhbmNlU3F1YXJlZCA9IGZ1bmN0aW9uIHZlY3RvckRpc3RhbmNlU3F1YXJlZChhLCBiKSB7XG4gICAgcmV0dXJuIHZlY3RvckRvdCh2ZWN0b3JTdWJ0cmFjdChhLCBiKSwgdmVjdG9yU3VidHJhY3QoYSwgYikpO1xuICB9O1xuXG4gIHZhciB2ZWN0b3JEaXN0YW5jZSA9IGZ1bmN0aW9uIHZlY3RvckRpc3RhbmNlKGEsIGIpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHZlY3RvckRpc3RhbmNlU3F1YXJlZChhLCBiKSk7XG4gIH07XG5cbiAgdmFyIGdldE9mZnNldFBvaW50T25FZGdlID0gZnVuY3Rpb24gZ2V0T2Zmc2V0UG9pbnRPbkVkZ2UobGVuZ3RoLCByb3RhdGlvbikge1xuICAgIHZhciBhID0gbGVuZ3RoO1xuXG4gICAgdmFyIEEgPSAxLjU3MDc5NjMyNjc5NDg5NjY7XG4gICAgdmFyIEIgPSByb3RhdGlvbjtcbiAgICB2YXIgQyA9IDEuNTcwNzk2MzI2Nzk0ODk2NiAtIHJvdGF0aW9uO1xuXG4gICAgdmFyIHNpbkEgPSBNYXRoLnNpbihBKTtcbiAgICB2YXIgc2luQiA9IE1hdGguc2luKEIpO1xuICAgIHZhciBzaW5DID0gTWF0aC5zaW4oQyk7XG4gICAgdmFyIGNvc0MgPSBNYXRoLmNvcyhDKTtcbiAgICB2YXIgcmF0aW8gPSBhIC8gc2luQTtcbiAgICB2YXIgYiA9IHJhdGlvICogc2luQjtcbiAgICB2YXIgYyA9IHJhdGlvICogc2luQztcblxuICAgIHJldHVybiBjcmVhdGVWZWN0b3IkMShjb3NDICogYiwgY29zQyAqIGMpO1xuICB9O1xuXG4gIHZhciBnZXRSb3RhdGVkUmVjdFNpemUgPSBmdW5jdGlvbiBnZXRSb3RhdGVkUmVjdFNpemUocmVjdCwgcm90YXRpb24pIHtcbiAgICB2YXIgdyA9IHJlY3Qud2lkdGg7XG4gICAgdmFyIGggPSByZWN0LmhlaWdodDtcblxuICAgIHZhciBob3IgPSBnZXRPZmZzZXRQb2ludE9uRWRnZSh3LCByb3RhdGlvbik7XG4gICAgdmFyIHZlciA9IGdldE9mZnNldFBvaW50T25FZGdlKGgsIHJvdGF0aW9uKTtcblxuICAgIHZhciB0bCA9IGNyZWF0ZVZlY3RvciQxKHJlY3QueCArIE1hdGguYWJzKGhvci54KSwgcmVjdC55IC0gTWF0aC5hYnMoaG9yLnkpKTtcblxuICAgIHZhciB0ciA9IGNyZWF0ZVZlY3RvciQxKFxuICAgICAgcmVjdC54ICsgcmVjdC53aWR0aCArIE1hdGguYWJzKHZlci55KSxcbiAgICAgIHJlY3QueSArIE1hdGguYWJzKHZlci54KVxuICAgICk7XG5cbiAgICB2YXIgYmwgPSBjcmVhdGVWZWN0b3IkMShcbiAgICAgIHJlY3QueCAtIE1hdGguYWJzKHZlci55KSxcbiAgICAgIHJlY3QueSArIHJlY3QuaGVpZ2h0IC0gTWF0aC5hYnModmVyLngpXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogdmVjdG9yRGlzdGFuY2UodGwsIHRyKSxcbiAgICAgIGhlaWdodDogdmVjdG9yRGlzdGFuY2UodGwsIGJsKVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGNhbGN1bGF0ZUNhbnZhc1NpemUgPSBmdW5jdGlvbiBjYWxjdWxhdGVDYW52YXNTaXplKFxuICAgIGltYWdlLFxuICAgIGNhbnZhc0FzcGVjdFJhdGlvXG4gICkge1xuICAgIHZhciB6b29tID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTtcblxuICAgIHZhciBpbWFnZUFzcGVjdFJhdGlvID0gaW1hZ2UuaGVpZ2h0IC8gaW1hZ2Uud2lkdGg7XG5cbiAgICAvLyBkZXRlcm1pbmUgYWN0dWFsIHBpeGVscyBvbiB4IGFuZCB5IGF4aXNcbiAgICB2YXIgY2FudmFzV2lkdGggPSAxO1xuICAgIHZhciBjYW52YXNIZWlnaHQgPSBjYW52YXNBc3BlY3RSYXRpbztcbiAgICB2YXIgaW1nV2lkdGggPSAxO1xuICAgIHZhciBpbWdIZWlnaHQgPSBpbWFnZUFzcGVjdFJhdGlvO1xuICAgIGlmIChpbWdIZWlnaHQgPiBjYW52YXNIZWlnaHQpIHtcbiAgICAgIGltZ0hlaWdodCA9IGNhbnZhc0hlaWdodDtcbiAgICAgIGltZ1dpZHRoID0gaW1nSGVpZ2h0IC8gaW1hZ2VBc3BlY3RSYXRpbztcbiAgICB9XG5cbiAgICB2YXIgc2NhbGFyID0gTWF0aC5tYXgoY2FudmFzV2lkdGggLyBpbWdXaWR0aCwgY2FudmFzSGVpZ2h0IC8gaW1nSGVpZ2h0KTtcbiAgICB2YXIgd2lkdGggPSBpbWFnZS53aWR0aCAvICh6b29tICogc2NhbGFyICogaW1nV2lkdGgpO1xuICAgIHZhciBoZWlnaHQgPSB3aWR0aCAqIGNhbnZhc0FzcGVjdFJhdGlvO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfTtcbiAgfTtcblxuICB2YXIgZ2V0SW1hZ2VSZWN0Wm9vbUZhY3RvciA9IGZ1bmN0aW9uIGdldEltYWdlUmVjdFpvb21GYWN0b3IoXG4gICAgaW1hZ2VSZWN0LFxuICAgIGNyb3BSZWN0LFxuICAgIHJvdGF0aW9uLFxuICAgIGNlbnRlclxuICApIHtcbiAgICAvLyBjYWxjdWxhdGUgYXZhaWxhYmxlIHNwYWNlIHJvdW5kIGltYWdlIGNlbnRlciBwb3NpdGlvblxuICAgIHZhciBjeCA9IGNlbnRlci54ID4gMC41ID8gMSAtIGNlbnRlci54IDogY2VudGVyLng7XG4gICAgdmFyIGN5ID0gY2VudGVyLnkgPiAwLjUgPyAxIC0gY2VudGVyLnkgOiBjZW50ZXIueTtcbiAgICB2YXIgaW1hZ2VXaWR0aCA9IGN4ICogMiAqIGltYWdlUmVjdC53aWR0aDtcbiAgICB2YXIgaW1hZ2VIZWlnaHQgPSBjeSAqIDIgKiBpbWFnZVJlY3QuaGVpZ2h0O1xuXG4gICAgLy8gY2FsY3VsYXRlIHJvdGF0ZWQgY3JvcCByZWN0YW5nbGUgc2l6ZVxuICAgIHZhciByb3RhdGVkQ3JvcFNpemUgPSBnZXRSb3RhdGVkUmVjdFNpemUoY3JvcFJlY3QsIHJvdGF0aW9uKTtcblxuICAgIC8vIGNhbGN1bGF0ZSBzY2FsYXIgcmVxdWlyZWQgdG8gZml0IGltYWdlXG4gICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgcm90YXRlZENyb3BTaXplLndpZHRoIC8gaW1hZ2VXaWR0aCxcbiAgICAgIHJvdGF0ZWRDcm9wU2l6ZS5oZWlnaHQgLyBpbWFnZUhlaWdodFxuICAgICk7XG4gIH07XG5cbiAgdmFyIGdldENlbnRlcmVkQ3JvcFJlY3QgPSBmdW5jdGlvbiBnZXRDZW50ZXJlZENyb3BSZWN0KFxuICAgIGNvbnRhaW5lcixcbiAgICBhc3BlY3RSYXRpb1xuICApIHtcbiAgICB2YXIgd2lkdGggPSBjb250YWluZXIud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IHdpZHRoICogYXNwZWN0UmF0aW87XG4gICAgaWYgKGhlaWdodCA+IGNvbnRhaW5lci5oZWlnaHQpIHtcbiAgICAgIGhlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQ7XG4gICAgICB3aWR0aCA9IGhlaWdodCAvIGFzcGVjdFJhdGlvO1xuICAgIH1cbiAgICB2YXIgeCA9IChjb250YWluZXIud2lkdGggLSB3aWR0aCkgKiAwLjU7XG4gICAgdmFyIHkgPSAoY29udGFpbmVyLmhlaWdodCAtIGhlaWdodCkgKiAwLjU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogeCxcbiAgICAgIHk6IHksXG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodFxuICAgIH07XG4gIH07XG5cbiAgdmFyIGdldEN1cnJlbnRDcm9wU2l6ZSA9IGZ1bmN0aW9uIGdldEN1cnJlbnRDcm9wU2l6ZShpbWFnZVNpemUpIHtcbiAgICB2YXIgY3JvcCA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciB6b29tID0gY3JvcC56b29tLFxuICAgICAgcm90YXRpb24gPSBjcm9wLnJvdGF0aW9uLFxuICAgICAgY2VudGVyID0gY3JvcC5jZW50ZXIsXG4gICAgICBhc3BlY3RSYXRpbyA9IGNyb3AuYXNwZWN0UmF0aW87XG5cbiAgICBpZiAoIWFzcGVjdFJhdGlvKSBhc3BlY3RSYXRpbyA9IGltYWdlU2l6ZS5oZWlnaHQgLyBpbWFnZVNpemUud2lkdGg7XG5cbiAgICB2YXIgY2FudmFzU2l6ZSA9IGNhbGN1bGF0ZUNhbnZhc1NpemUoaW1hZ2VTaXplLCBhc3BlY3RSYXRpbywgem9vbSk7XG5cbiAgICB2YXIgY2FudmFzQ2VudGVyID0ge1xuICAgICAgeDogY2FudmFzU2l6ZS53aWR0aCAqIDAuNSxcbiAgICAgIHk6IGNhbnZhc1NpemUuaGVpZ2h0ICogMC41XG4gICAgfTtcblxuICAgIHZhciBzdGFnZSA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IGNhbnZhc1NpemUud2lkdGgsXG4gICAgICBoZWlnaHQ6IGNhbnZhc1NpemUuaGVpZ2h0LFxuICAgICAgY2VudGVyOiBjYW52YXNDZW50ZXJcbiAgICB9O1xuXG4gICAgdmFyIHNob3VsZExpbWl0ID0gdHlwZW9mIGNyb3Auc2NhbGVUb0ZpdCA9PT0gJ3VuZGVmaW5lZCcgfHwgY3JvcC5zY2FsZVRvRml0O1xuXG4gICAgdmFyIHN0YWdlWm9vbUZhY3RvciA9IGdldEltYWdlUmVjdFpvb21GYWN0b3IoXG4gICAgICBpbWFnZVNpemUsXG4gICAgICBnZXRDZW50ZXJlZENyb3BSZWN0KHN0YWdlLCBhc3BlY3RSYXRpbyksXG4gICAgICByb3RhdGlvbixcbiAgICAgIHNob3VsZExpbWl0ID8gY2VudGVyIDogeyB4OiAwLjUsIHk6IDAuNSB9XG4gICAgKTtcblxuICAgIHZhciBzY2FsZSA9IHpvb20gKiBzdGFnZVpvb21GYWN0b3I7XG5cbiAgICAvLyBzdGFydCBkcmF3aW5nXG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoRmxvYXQ6IGNhbnZhc1NpemUud2lkdGggLyBzY2FsZSxcbiAgICAgIGhlaWdodEZsb2F0OiBjYW52YXNTaXplLmhlaWdodCAvIHNjYWxlLFxuICAgICAgd2lkdGg6IE1hdGgucm91bmQoY2FudmFzU2l6ZS53aWR0aCAvIHNjYWxlKSxcbiAgICAgIGhlaWdodDogTWF0aC5yb3VuZChjYW52YXNTaXplLmhlaWdodCAvIHNjYWxlKVxuICAgIH07XG4gIH07XG5cbiAgdmFyIElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyA9IHtcbiAgICB0eXBlOiAnc3ByaW5nJyxcbiAgICBzdGlmZm5lc3M6IDAuNSxcbiAgICBkYW1waW5nOiAwLjQ1LFxuICAgIG1hc3M6IDEwXG4gIH07XG5cbiAgLy8gZG9lcyBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCBmbGlwcGluZ1xuICB2YXIgY3JlYXRlQml0bWFwVmlldyA9IGZ1bmN0aW9uIGNyZWF0ZUJpdG1hcFZpZXcoXykge1xuICAgIHJldHVybiBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ltYWdlLWJpdG1hcCcsXG4gICAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgICAgbWl4aW5zOiB7IHN0eWxlczogWydzY2FsZVgnLCAnc2NhbGVZJ10gfSxcbiAgICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgICAgICByb290LmFwcGVuZENoaWxkKHByb3BzLmltYWdlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvLyBzaGlmdHMgYW5kIHJvdGF0ZXMgaW1hZ2VcbiAgdmFyIGNyZWF0ZUltYWdlQ2FudmFzV3JhcHBlciA9IGZ1bmN0aW9uIGNyZWF0ZUltYWdlQ2FudmFzV3JhcHBlcihfKSB7XG4gICAgcmV0dXJuIF8udXRpbHMuY3JlYXRlVmlldyh7XG4gICAgICBuYW1lOiAnaW1hZ2UtY2FudmFzLXdyYXBwZXInLFxuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICBtaXhpbnM6IHtcbiAgICAgICAgYXBpczogWydjcm9wJywgJ3dpZHRoJywgJ2hlaWdodCddLFxuXG4gICAgICAgIHN0eWxlczogW1xuICAgICAgICAgICdvcmlnaW5YJyxcbiAgICAgICAgICAnb3JpZ2luWScsXG4gICAgICAgICAgJ3RyYW5zbGF0ZVgnLFxuICAgICAgICAgICd0cmFuc2xhdGVZJyxcbiAgICAgICAgICAnc2NhbGVYJyxcbiAgICAgICAgICAnc2NhbGVZJyxcbiAgICAgICAgICAncm90YXRlWidcbiAgICAgICAgXSxcblxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgb3JpZ2luWDogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICAgIG9yaWdpblk6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICBzY2FsZVg6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICBzY2FsZVk6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICB0cmFuc2xhdGVYOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgICAgdHJhbnNsYXRlWTogSU1BR0VfU0NBTEVfU1BSSU5HX1BST1BTLFxuICAgICAgICAgIHJvdGF0ZVo6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QU1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShfcmVmMikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcztcbiAgICAgICAgcHJvcHMud2lkdGggPSBwcm9wcy5pbWFnZS53aWR0aDtcbiAgICAgICAgcHJvcHMuaGVpZ2h0ID0gcHJvcHMuaW1hZ2UuaGVpZ2h0O1xuICAgICAgICByb290LnJlZi5iaXRtYXAgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhjcmVhdGVCaXRtYXBWaWV3KF8pLCB7IGltYWdlOiBwcm9wcy5pbWFnZSB9KVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShfcmVmMykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmMy5wcm9wcztcbiAgICAgICAgdmFyIGZsaXAgPSBwcm9wcy5jcm9wLmZsaXA7XG4gICAgICAgIHZhciBiaXRtYXAgPSByb290LnJlZi5iaXRtYXA7XG4gICAgICAgIGJpdG1hcC5zY2FsZVggPSBmbGlwLmhvcml6b250YWwgPyAtMSA6IDE7XG4gICAgICAgIGJpdG1hcC5zY2FsZVkgPSBmbGlwLnZlcnRpY2FsID8gLTEgOiAxO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIGNsaXBzIGNhbnZhcyB0byBjb3JyZWN0IGFzcGVjdCByYXRpb1xuICB2YXIgY3JlYXRlQ2xpcFZpZXcgPSBmdW5jdGlvbiBjcmVhdGVDbGlwVmlldyhfKSB7XG4gICAgcmV0dXJuIF8udXRpbHMuY3JlYXRlVmlldyh7XG4gICAgICBuYW1lOiAnaW1hZ2UtY2xpcCcsXG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgIG1peGluczoge1xuICAgICAgICBhcGlzOiBbXG4gICAgICAgICAgJ2Nyb3AnLFxuICAgICAgICAgICdtYXJrdXAnLFxuICAgICAgICAgICdyZXNpemUnLFxuICAgICAgICAgICd3aWR0aCcsXG4gICAgICAgICAgJ2hlaWdodCcsXG4gICAgICAgICAgJ2RpcnR5JyxcbiAgICAgICAgICAnYmFja2dyb3VuZCdcbiAgICAgICAgXSxcblxuICAgICAgICBzdHlsZXM6IFsnd2lkdGgnLCAnaGVpZ2h0JywgJ29wYWNpdHknXSxcbiAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDI1MCB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGRpZFdyaXRlVmlldzogZnVuY3Rpb24gZGlkV3JpdGVWaWV3KF9yZWY0KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjQucm9vdCxcbiAgICAgICAgICBwcm9wcyA9IF9yZWY0LnByb3BzO1xuICAgICAgICBpZiAoIXByb3BzLmJhY2tncm91bmQpIHJldHVybjtcbiAgICAgICAgcm9vdC5lbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHByb3BzLmJhY2tncm91bmQ7XG4gICAgICB9LFxuICAgICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoX3JlZjUpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZjUucHJvcHM7XG5cbiAgICAgICAgcm9vdC5yZWYuaW1hZ2UgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhcbiAgICAgICAgICAgIGNyZWF0ZUltYWdlQ2FudmFzV3JhcHBlcihfKSxcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcblxuICAgICAgICByb290LnJlZi5jcmVhdGVNYXJrdXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAocm9vdC5yZWYubWFya3VwKSByZXR1cm47XG4gICAgICAgICAgcm9vdC5yZWYubWFya3VwID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhjcmVhdGVNYXJrdXBWaWV3KF8pLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpXG4gICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICByb290LnJlZi5kZXN0cm95TWFya3VwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFyb290LnJlZi5tYXJrdXApIHJldHVybjtcbiAgICAgICAgICByb290LnJlbW92ZUNoaWxkVmlldyhyb290LnJlZi5tYXJrdXApO1xuICAgICAgICAgIHJvb3QucmVmLm1hcmt1cCA9IG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc2V0IHVwIHRyYW5zcGFyZW5jeSBncmlkXG4gICAgICAgIHZhciB0cmFuc3BhcmVuY3lJbmRpY2F0b3IgPSByb290LnF1ZXJ5KFxuICAgICAgICAgICdHRVRfSU1BR0VfUFJFVklFV19UUkFOU1BBUkVOQ1lfSU5ESUNBVE9SJ1xuICAgICAgICApO1xuICAgICAgICBpZiAodHJhbnNwYXJlbmN5SW5kaWNhdG9yID09PSBudWxsKSByZXR1cm47XG5cbiAgICAgICAgLy8gZ3JpZCBwYXR0ZXJuXG4gICAgICAgIGlmICh0cmFuc3BhcmVuY3lJbmRpY2F0b3IgPT09ICdncmlkJykge1xuICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LnRyYW5zcGFyZW5jeUluZGljYXRvciA9IHRyYW5zcGFyZW5jeUluZGljYXRvcjtcbiAgICAgICAgfVxuICAgICAgICAvLyBiYXNpYyBjb2xvclxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC50cmFuc3BhcmVuY3lJbmRpY2F0b3IgPSAnY29sb3InO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKF9yZWY2KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjYucm9vdCxcbiAgICAgICAgICBwcm9wcyA9IF9yZWY2LnByb3BzLFxuICAgICAgICAgIHNob3VsZE9wdGltaXplID0gX3JlZjYuc2hvdWxkT3B0aW1pemU7XG4gICAgICAgIHZhciBjcm9wID0gcHJvcHMuY3JvcCxcbiAgICAgICAgICBtYXJrdXAgPSBwcm9wcy5tYXJrdXAsXG4gICAgICAgICAgcmVzaXplID0gcHJvcHMucmVzaXplLFxuICAgICAgICAgIGRpcnR5ID0gcHJvcHMuZGlydHksXG4gICAgICAgICAgd2lkdGggPSBwcm9wcy53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBwcm9wcy5oZWlnaHQ7XG5cbiAgICAgICAgcm9vdC5yZWYuaW1hZ2UuY3JvcCA9IGNyb3A7XG5cbiAgICAgICAgdmFyIHN0YWdlID0ge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMCxcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuNSxcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuNVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaW1hZ2UgPSB7XG4gICAgICAgICAgd2lkdGg6IHJvb3QucmVmLmltYWdlLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogcm9vdC5yZWYuaW1hZ2UuaGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9yaWdpbiA9IHtcbiAgICAgICAgICB4OiBjcm9wLmNlbnRlci54ICogaW1hZ2Uud2lkdGgsXG4gICAgICAgICAgeTogY3JvcC5jZW50ZXIueSAqIGltYWdlLmhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IHtcbiAgICAgICAgICB4OiBzdGFnZS5jZW50ZXIueCAtIGltYWdlLndpZHRoICogY3JvcC5jZW50ZXIueCxcbiAgICAgICAgICB5OiBzdGFnZS5jZW50ZXIueSAtIGltYWdlLmhlaWdodCAqIGNyb3AuY2VudGVyLnlcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcm90YXRpb24gPSBNYXRoLlBJICogMiArIChjcm9wLnJvdGF0aW9uICUgKE1hdGguUEkgKiAyKSk7XG5cbiAgICAgICAgdmFyIGNyb3BBc3BlY3RSYXRpbyA9IGNyb3AuYXNwZWN0UmF0aW8gfHwgaW1hZ2UuaGVpZ2h0IC8gaW1hZ2Uud2lkdGg7XG5cbiAgICAgICAgdmFyIHNob3VsZExpbWl0ID1cbiAgICAgICAgICB0eXBlb2YgY3JvcC5zY2FsZVRvRml0ID09PSAndW5kZWZpbmVkJyB8fCBjcm9wLnNjYWxlVG9GaXQ7XG5cbiAgICAgICAgdmFyIHN0YWdlWm9vbUZhY3RvciA9IGdldEltYWdlUmVjdFpvb21GYWN0b3IoXG4gICAgICAgICAgaW1hZ2UsXG4gICAgICAgICAgZ2V0Q2VudGVyZWRDcm9wUmVjdChzdGFnZSwgY3JvcEFzcGVjdFJhdGlvKSxcblxuICAgICAgICAgIHJvdGF0aW9uLFxuICAgICAgICAgIHNob3VsZExpbWl0ID8gY3JvcC5jZW50ZXIgOiB7IHg6IDAuNSwgeTogMC41IH1cbiAgICAgICAgKTtcblxuICAgICAgICB2YXIgc2NhbGUgPSBjcm9wLnpvb20gKiBzdGFnZVpvb21GYWN0b3I7XG5cbiAgICAgICAgLy8gdXBkYXRlIG1hcmt1cCB2aWV3XG4gICAgICAgIGlmIChtYXJrdXAgJiYgbWFya3VwLmxlbmd0aCkge1xuICAgICAgICAgIHJvb3QucmVmLmNyZWF0ZU1hcmt1cCgpO1xuICAgICAgICAgIHJvb3QucmVmLm1hcmt1cC53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgIHJvb3QucmVmLm1hcmt1cC5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgcm9vdC5yZWYubWFya3VwLnJlc2l6ZSA9IHJlc2l6ZTtcbiAgICAgICAgICByb290LnJlZi5tYXJrdXAuZGlydHkgPSBkaXJ0eTtcbiAgICAgICAgICByb290LnJlZi5tYXJrdXAubWFya3VwID0gbWFya3VwO1xuICAgICAgICAgIHJvb3QucmVmLm1hcmt1cC5jcm9wID0gZ2V0Q3VycmVudENyb3BTaXplKGltYWdlLCBjcm9wKTtcbiAgICAgICAgfSBlbHNlIGlmIChyb290LnJlZi5tYXJrdXApIHtcbiAgICAgICAgICByb290LnJlZi5kZXN0cm95TWFya3VwKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgaW1hZ2Ugdmlld1xuICAgICAgICB2YXIgaW1hZ2VWaWV3ID0gcm9vdC5yZWYuaW1hZ2U7XG5cbiAgICAgICAgLy8gZG9uJ3QgdXBkYXRlIGNsaXAgbGF5b3V0XG4gICAgICAgIGlmIChzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICAgIGltYWdlVmlldy5vcmlnaW5YID0gbnVsbDtcbiAgICAgICAgICBpbWFnZVZpZXcub3JpZ2luWSA9IG51bGw7XG4gICAgICAgICAgaW1hZ2VWaWV3LnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICAgIGltYWdlVmlldy50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgICBpbWFnZVZpZXcucm90YXRlWiA9IG51bGw7XG4gICAgICAgICAgaW1hZ2VWaWV3LnNjYWxlWCA9IG51bGw7XG4gICAgICAgICAgaW1hZ2VWaWV3LnNjYWxlWSA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaW1hZ2VWaWV3Lm9yaWdpblggPSBvcmlnaW4ueDtcbiAgICAgICAgaW1hZ2VWaWV3Lm9yaWdpblkgPSBvcmlnaW4ueTtcbiAgICAgICAgaW1hZ2VWaWV3LnRyYW5zbGF0ZVggPSB0cmFuc2xhdGlvbi54O1xuICAgICAgICBpbWFnZVZpZXcudHJhbnNsYXRlWSA9IHRyYW5zbGF0aW9uLnk7XG4gICAgICAgIGltYWdlVmlldy5yb3RhdGVaID0gcm90YXRpb247XG4gICAgICAgIGltYWdlVmlldy5zY2FsZVggPSBzY2FsZTtcbiAgICAgICAgaW1hZ2VWaWV3LnNjYWxlWSA9IHNjYWxlO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVJbWFnZVZpZXcgPSBmdW5jdGlvbiBjcmVhdGVJbWFnZVZpZXcoXykge1xuICAgIHJldHVybiBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ltYWdlLXByZXZpZXcnLFxuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICBtaXhpbnM6IHtcbiAgICAgICAgYXBpczogWydpbWFnZScsICdjcm9wJywgJ21hcmt1cCcsICdyZXNpemUnLCAnZGlydHknLCAnYmFja2dyb3VuZCddLFxuXG4gICAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVZJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnb3BhY2l0eSddLFxuXG4gICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICBzY2FsZVg6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICBzY2FsZVk6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICB0cmFuc2xhdGVZOiBJTUFHRV9TQ0FMRV9TUFJJTkdfUFJPUFMsXG4gICAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogNDAwIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoX3JlZjcpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNy5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZjcucHJvcHM7XG4gICAgICAgIHJvb3QucmVmLmNsaXAgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhjcmVhdGVDbGlwVmlldyhfKSwge1xuICAgICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgICAgaW1hZ2U6IHByb3BzLmltYWdlLFxuICAgICAgICAgICAgY3JvcDogcHJvcHMuY3JvcCxcbiAgICAgICAgICAgIG1hcmt1cDogcHJvcHMubWFya3VwLFxuICAgICAgICAgICAgcmVzaXplOiBwcm9wcy5yZXNpemUsXG4gICAgICAgICAgICBkaXJ0eTogcHJvcHMuZGlydHksXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBwcm9wcy5iYWNrZ3JvdW5kXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoX3JlZjgpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmOC5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZjgucHJvcHMsXG4gICAgICAgICAgc2hvdWxkT3B0aW1pemUgPSBfcmVmOC5zaG91bGRPcHRpbWl6ZTtcbiAgICAgICAgdmFyIGNsaXAgPSByb290LnJlZi5jbGlwO1xuICAgICAgICB2YXIgaW1hZ2UgPSBwcm9wcy5pbWFnZSxcbiAgICAgICAgICBjcm9wID0gcHJvcHMuY3JvcCxcbiAgICAgICAgICBtYXJrdXAgPSBwcm9wcy5tYXJrdXAsXG4gICAgICAgICAgcmVzaXplID0gcHJvcHMucmVzaXplLFxuICAgICAgICAgIGRpcnR5ID0gcHJvcHMuZGlydHk7XG5cbiAgICAgICAgY2xpcC5jcm9wID0gY3JvcDtcbiAgICAgICAgY2xpcC5tYXJrdXAgPSBtYXJrdXA7XG4gICAgICAgIGNsaXAucmVzaXplID0gcmVzaXplO1xuICAgICAgICBjbGlwLmRpcnR5ID0gZGlydHk7XG5cbiAgICAgICAgLy8gZG9uJ3QgdXBkYXRlIGNsaXAgbGF5b3V0XG4gICAgICAgIGNsaXAub3BhY2l0eSA9IHNob3VsZE9wdGltaXplID8gMCA6IDE7XG5cbiAgICAgICAgLy8gZG9uJ3QgcmUtcmVuZGVyIGlmIG9wdGltaXppbmcgb3IgaGlkZGVuICh3aWR0aCB3aWxsIGJlIHplcm8gcmVzdWx0aW5nIGluIHdlaXJkIGFuaW1hdGlvbnMpXG4gICAgICAgIGlmIChzaG91bGRPcHRpbWl6ZSB8fCByb290LnJlY3QuZWxlbWVudC5oaWRkZW4pIHJldHVybjtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgc2NhbGVkIHByZXZpZXcgaW1hZ2Ugc2l6ZVxuICAgICAgICB2YXIgaW1hZ2VBc3BlY3RSYXRpbyA9IGltYWdlLmhlaWdodCAvIGltYWdlLndpZHRoO1xuICAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSBjcm9wLmFzcGVjdFJhdGlvIHx8IGltYWdlQXNwZWN0UmF0aW87XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIGNvbnRhaW5lciBzaXplXG4gICAgICAgIHZhciBjb250YWluZXJXaWR0aCA9IHJvb3QucmVjdC5pbm5lci53aWR0aDtcbiAgICAgICAgdmFyIGNvbnRhaW5lckhlaWdodCA9IHJvb3QucmVjdC5pbm5lci5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIGZpeGVkUHJldmlld0hlaWdodCA9IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX0hFSUdIVCcpO1xuICAgICAgICB2YXIgbWluUHJldmlld0hlaWdodCA9IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX01JTl9IRUlHSFQnKTtcbiAgICAgICAgdmFyIG1heFByZXZpZXdIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVhfSEVJR0hUJyk7XG5cbiAgICAgICAgdmFyIHBhbmVsQXNwZWN0UmF0aW8gPSByb290LnF1ZXJ5KCdHRVRfUEFORUxfQVNQRUNUX1JBVElPJyk7XG4gICAgICAgIHZhciBhbGxvd011bHRpcGxlID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX01VTFRJUExFJyk7XG5cbiAgICAgICAgaWYgKHBhbmVsQXNwZWN0UmF0aW8gJiYgIWFsbG93TXVsdGlwbGUpIHtcbiAgICAgICAgICBmaXhlZFByZXZpZXdIZWlnaHQgPSBjb250YWluZXJXaWR0aCAqIHBhbmVsQXNwZWN0UmF0aW87XG4gICAgICAgICAgYXNwZWN0UmF0aW8gPSBwYW5lbEFzcGVjdFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIGNsaXAgd2lkdGggYW5kIGhlaWdodFxuICAgICAgICB2YXIgY2xpcEhlaWdodCA9XG4gICAgICAgICAgZml4ZWRQcmV2aWV3SGVpZ2h0ICE9PSBudWxsXG4gICAgICAgICAgICA/IGZpeGVkUHJldmlld0hlaWdodFxuICAgICAgICAgICAgOiBNYXRoLm1heChcbiAgICAgICAgICAgICAgICBtaW5QcmV2aWV3SGVpZ2h0LFxuICAgICAgICAgICAgICAgIE1hdGgubWluKGNvbnRhaW5lcldpZHRoICogYXNwZWN0UmF0aW8sIG1heFByZXZpZXdIZWlnaHQpXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgdmFyIGNsaXBXaWR0aCA9IGNsaXBIZWlnaHQgLyBhc3BlY3RSYXRpbztcbiAgICAgICAgaWYgKGNsaXBXaWR0aCA+IGNvbnRhaW5lcldpZHRoKSB7XG4gICAgICAgICAgY2xpcFdpZHRoID0gY29udGFpbmVyV2lkdGg7XG4gICAgICAgICAgY2xpcEhlaWdodCA9IGNsaXBXaWR0aCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsaXBIZWlnaHQgPiBjb250YWluZXJIZWlnaHQpIHtcbiAgICAgICAgICBjbGlwSGVpZ2h0ID0gY29udGFpbmVySGVpZ2h0O1xuICAgICAgICAgIGNsaXBXaWR0aCA9IGNvbnRhaW5lckhlaWdodCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xpcC53aWR0aCA9IGNsaXBXaWR0aDtcbiAgICAgICAgY2xpcC5oZWlnaHQgPSBjbGlwSGVpZ2h0O1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBTVkdfTUFTSyA9XG4gICAgJzxzdmcgd2lkdGg9XCI1MDBcIiBoZWlnaHQ9XCIyMDBcIiB2aWV3Qm94PVwiMCAwIDUwMCAyMDBcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwibm9uZVwiPlxcbiAgICA8ZGVmcz5cXG4gICAgICAgIDxyYWRpYWxHcmFkaWVudCBpZD1cImdyYWRpZW50LV9fVUlEX19cIiBjeD1cIi41XCIgY3k9XCIxLjI1XCIgcj1cIjEuMTVcIj5cXG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XFwnNTAlXFwnIHN0b3AtY29sb3I9XFwnIzAwMDAwMFxcJy8+XFxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVxcJzU2JVxcJyBzdG9wLWNvbG9yPVxcJyMwYTBhMGFcXCcvPlxcbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cXCc2MyVcXCcgc3RvcC1jb2xvcj1cXCcjMjYyNjI2XFwnLz5cXG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XFwnNjklXFwnIHN0b3AtY29sb3I9XFwnIzRmNGY0ZlxcJy8+XFxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVxcJzc1JVxcJyBzdG9wLWNvbG9yPVxcJyM4MDgwODBcXCcvPlxcbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cXCc4MSVcXCcgc3RvcC1jb2xvcj1cXCcjYjFiMWIxXFwnLz5cXG4gICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XFwnODglXFwnIHN0b3AtY29sb3I9XFwnI2RhZGFkYVxcJy8+XFxuICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVxcJzk0JVxcJyBzdG9wLWNvbG9yPVxcJyNmNmY2ZjZcXCcvPlxcbiAgICAgICAgICAgIDxzdG9wIG9mZnNldD1cXCcxMDAlXFwnIHN0b3AtY29sb3I9XFwnI2ZmZmZmZlxcJy8+XFxuICAgICAgICA8L3JhZGlhbEdyYWRpZW50PlxcbiAgICAgICAgPG1hc2sgaWQ9XCJtYXNrLV9fVUlEX19cIj5cXG4gICAgICAgICAgICA8cmVjdCB4PVwiMFwiIHk9XCIwXCIgd2lkdGg9XCI1MDBcIiBoZWlnaHQ9XCIyMDBcIiBmaWxsPVwidXJsKCNncmFkaWVudC1fX1VJRF9fKVwiPjwvcmVjdD5cXG4gICAgICAgIDwvbWFzaz5cXG4gICAgPC9kZWZzPlxcbiAgICA8cmVjdCB4PVwiMFwiIHdpZHRoPVwiNTAwXCIgaGVpZ2h0PVwiMjAwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIG1hc2s9XCJ1cmwoI21hc2stX19VSURfXylcIj48L3JlY3Q+XFxuPC9zdmc+JztcblxuICB2YXIgY2hlY2tlZE15QmFzZXMgPSBmYWxzZTtcbiAgdmFyIFNWR01hc2tVbmlxdWVJZCA9IDA7XG5cbiAgdmFyIGNyZWF0ZUltYWdlT3ZlcmxheVZpZXcgPSBmdW5jdGlvbiBjcmVhdGVJbWFnZU92ZXJsYXlWaWV3KGZwQVBJKSB7XG4gICAgcmV0dXJuIGZwQVBJLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ltYWdlLXByZXZpZXctb3ZlcmxheScsXG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuXG4gICAgICAgIGlmICghY2hlY2tlZE15QmFzZXMgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYmFzZScpKSB7XG4gICAgICAgICAgU1ZHX01BU0sgPSBTVkdfTUFTSy5yZXBsYWNlKFxuICAgICAgICAgICAgL3VybFxcKFxcIy9nLFxuICAgICAgICAgICAgJ3VybCgnICtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSh3aW5kb3cubG9jYXRpb24uaGFzaCwgJycpICtcbiAgICAgICAgICAgICAgJyMnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjaGVja2VkTXlCYXNlcyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBTVkdNYXNrVW5pcXVlSWQrKztcbiAgICAgICAgcm9vdC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXG4gICAgICAgICAgJ2ZpbGVwb25kLS1pbWFnZS1wcmV2aWV3LW92ZXJsYXktJy5jb25jYXQocHJvcHMuc3RhdHVzKVxuICAgICAgICApO1xuICAgICAgICByb290LmVsZW1lbnQuaW5uZXJIVE1MID0gU1ZHX01BU0sucmVwbGFjZSgvX19VSURfXy9nLCBTVkdNYXNrVW5pcXVlSWQpO1xuICAgICAgfSxcbiAgICAgIG1peGluczoge1xuICAgICAgICBzdHlsZXM6IFsnb3BhY2l0eSddLFxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAnc3ByaW5nJywgbWFzczogMjUgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpdG1hcCBXb3JrZXJcbiAgICovXG4gIHZhciBCaXRtYXBXb3JrZXIgPSBmdW5jdGlvbiBCaXRtYXBXb3JrZXIoKSB7XG4gICAgc2VsZi5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICBjcmVhdGVJbWFnZUJpdG1hcChlLmRhdGEubWVzc2FnZS5maWxlKS50aGVuKGZ1bmN0aW9uKGJpdG1hcCkge1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCwgbWVzc2FnZTogYml0bWFwIH0sIFtiaXRtYXBdKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbG9yTWF0cml4IFdvcmtlclxuICAgKi9cbiAgdmFyIENvbG9yTWF0cml4V29ya2VyID0gZnVuY3Rpb24gQ29sb3JNYXRyaXhXb3JrZXIoKSB7XG4gICAgc2VsZi5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gZS5kYXRhLm1lc3NhZ2UuaW1hZ2VEYXRhO1xuICAgICAgdmFyIG1hdHJpeCA9IGUuZGF0YS5tZXNzYWdlLmNvbG9yTWF0cml4O1xuXG4gICAgICB2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuICAgICAgdmFyIGwgPSBkYXRhLmxlbmd0aDtcblxuICAgICAgdmFyIG0xMSA9IG1hdHJpeFswXTtcbiAgICAgIHZhciBtMTIgPSBtYXRyaXhbMV07XG4gICAgICB2YXIgbTEzID0gbWF0cml4WzJdO1xuICAgICAgdmFyIG0xNCA9IG1hdHJpeFszXTtcbiAgICAgIHZhciBtMTUgPSBtYXRyaXhbNF07XG5cbiAgICAgIHZhciBtMjEgPSBtYXRyaXhbNV07XG4gICAgICB2YXIgbTIyID0gbWF0cml4WzZdO1xuICAgICAgdmFyIG0yMyA9IG1hdHJpeFs3XTtcbiAgICAgIHZhciBtMjQgPSBtYXRyaXhbOF07XG4gICAgICB2YXIgbTI1ID0gbWF0cml4WzldO1xuXG4gICAgICB2YXIgbTMxID0gbWF0cml4WzEwXTtcbiAgICAgIHZhciBtMzIgPSBtYXRyaXhbMTFdO1xuICAgICAgdmFyIG0zMyA9IG1hdHJpeFsxMl07XG4gICAgICB2YXIgbTM0ID0gbWF0cml4WzEzXTtcbiAgICAgIHZhciBtMzUgPSBtYXRyaXhbMTRdO1xuXG4gICAgICB2YXIgbTQxID0gbWF0cml4WzE1XTtcbiAgICAgIHZhciBtNDIgPSBtYXRyaXhbMTZdO1xuICAgICAgdmFyIG00MyA9IG1hdHJpeFsxN107XG4gICAgICB2YXIgbTQ0ID0gbWF0cml4WzE4XTtcbiAgICAgIHZhciBtNDUgPSBtYXRyaXhbMTldO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICByID0gMC4wLFxuICAgICAgICBnID0gMC4wLFxuICAgICAgICBiID0gMC4wLFxuICAgICAgICBhID0gMC4wO1xuXG4gICAgICBmb3IgKDsgaW5kZXggPCBsOyBpbmRleCArPSA0KSB7XG4gICAgICAgIHIgPSBkYXRhW2luZGV4XSAvIDI1NTtcbiAgICAgICAgZyA9IGRhdGFbaW5kZXggKyAxXSAvIDI1NTtcbiAgICAgICAgYiA9IGRhdGFbaW5kZXggKyAyXSAvIDI1NTtcbiAgICAgICAgYSA9IGRhdGFbaW5kZXggKyAzXSAvIDI1NTtcbiAgICAgICAgZGF0YVtpbmRleF0gPSBNYXRoLm1heChcbiAgICAgICAgICAwLFxuICAgICAgICAgIE1hdGgubWluKChyICogbTExICsgZyAqIG0xMiArIGIgKiBtMTMgKyBhICogbTE0ICsgbTE1KSAqIDI1NSwgMjU1KVxuICAgICAgICApO1xuICAgICAgICBkYXRhW2luZGV4ICsgMV0gPSBNYXRoLm1heChcbiAgICAgICAgICAwLFxuICAgICAgICAgIE1hdGgubWluKChyICogbTIxICsgZyAqIG0yMiArIGIgKiBtMjMgKyBhICogbTI0ICsgbTI1KSAqIDI1NSwgMjU1KVxuICAgICAgICApO1xuICAgICAgICBkYXRhW2luZGV4ICsgMl0gPSBNYXRoLm1heChcbiAgICAgICAgICAwLFxuICAgICAgICAgIE1hdGgubWluKChyICogbTMxICsgZyAqIG0zMiArIGIgKiBtMzMgKyBhICogbTM0ICsgbTM1KSAqIDI1NSwgMjU1KVxuICAgICAgICApO1xuICAgICAgICBkYXRhW2luZGV4ICsgM10gPSBNYXRoLm1heChcbiAgICAgICAgICAwLFxuICAgICAgICAgIE1hdGgubWluKChyICogbTQxICsgZyAqIG00MiArIGIgKiBtNDMgKyBhICogbTQ0ICsgbTQ1KSAqIDI1NSwgMjU1KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBzZWxmLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCwgbWVzc2FnZTogaW1hZ2VEYXRhIH0sIFtcbiAgICAgICAgaW1hZ2VEYXRhLmRhdGEuYnVmZmVyXG4gICAgICBdKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBnZXRJbWFnZVNpemUgPSBmdW5jdGlvbiBnZXRJbWFnZVNpemUodXJsLCBjYikge1xuICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHdpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgdmFyIGhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICBpbWFnZSA9IG51bGw7XG4gICAgICBjYih3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuICAgIGltYWdlLnNyYyA9IHVybDtcbiAgfTtcblxuICB2YXIgdHJhbnNmb3JtcyA9IHtcbiAgICAxOiBmdW5jdGlvbiBfKCkge1xuICAgICAgcmV0dXJuIFsxLCAwLCAwLCAxLCAwLCAwXTtcbiAgICB9LFxuICAgIDI6IGZ1bmN0aW9uIF8od2lkdGgpIHtcbiAgICAgIHJldHVybiBbLTEsIDAsIDAsIDEsIHdpZHRoLCAwXTtcbiAgICB9LFxuICAgIDM6IGZ1bmN0aW9uIF8od2lkdGgsIGhlaWdodCkge1xuICAgICAgcmV0dXJuIFstMSwgMCwgMCwgLTEsIHdpZHRoLCBoZWlnaHRdO1xuICAgIH0sXG4gICAgNDogZnVuY3Rpb24gXyh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICByZXR1cm4gWzEsIDAsIDAsIC0xLCAwLCBoZWlnaHRdO1xuICAgIH0sXG4gICAgNTogZnVuY3Rpb24gXygpIHtcbiAgICAgIHJldHVybiBbMCwgMSwgMSwgMCwgMCwgMF07XG4gICAgfSxcbiAgICA2OiBmdW5jdGlvbiBfKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHJldHVybiBbMCwgMSwgLTEsIDAsIGhlaWdodCwgMF07XG4gICAgfSxcbiAgICA3OiBmdW5jdGlvbiBfKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHJldHVybiBbMCwgLTEsIC0xLCAwLCBoZWlnaHQsIHdpZHRoXTtcbiAgICB9LFxuICAgIDg6IGZ1bmN0aW9uIF8od2lkdGgpIHtcbiAgICAgIHJldHVybiBbMCwgLTEsIDEsIDAsIDAsIHdpZHRoXTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGZpeEltYWdlT3JpZW50YXRpb24gPSBmdW5jdGlvbiBmaXhJbWFnZU9yaWVudGF0aW9uKFxuICAgIGN0eCxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgb3JpZW50YXRpb25cbiAgKSB7XG4gICAgLy8gbm8gb3JpZW50YXRpb24gc3VwcGxpZWRcbiAgICBpZiAob3JpZW50YXRpb24gPT09IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY3R4LnRyYW5zZm9ybS5hcHBseShjdHgsIHRyYW5zZm9ybXNbb3JpZW50YXRpb25dKHdpZHRoLCBoZWlnaHQpKTtcbiAgfTtcblxuICAvLyBkcmF3cyB0aGUgcHJldmlldyBpbWFnZSB0byBjYW52YXNcbiAgdmFyIGNyZWF0ZVByZXZpZXdJbWFnZSA9IGZ1bmN0aW9uIGNyZWF0ZVByZXZpZXdJbWFnZShcbiAgICBkYXRhLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBvcmllbnRhdGlvblxuICApIHtcbiAgICAvLyBjYW4ndCBkcmF3IG9uIGhhbGYgcGl4ZWxzXG4gICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCk7XG5cbiAgICAvLyBkcmF3IGltYWdlXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgLy8gaWYgaXMgcm90YXRlZCBpbmNvcnJlY3RseSBzd2FwIHdpZHRoIGFuZCBoZWlnaHRcbiAgICBpZiAob3JpZW50YXRpb24gPj0gNSAmJiBvcmllbnRhdGlvbiA8PSA4KSB7XG4gICAgICB2YXIgX3JlZiA9IFtoZWlnaHQsIHdpZHRoXTtcbiAgICAgIHdpZHRoID0gX3JlZlswXTtcbiAgICAgIGhlaWdodCA9IF9yZWZbMV07XG4gICAgfVxuXG4gICAgLy8gY29ycmVjdCBpbWFnZSBvcmllbnRhdGlvblxuICAgIGZpeEltYWdlT3JpZW50YXRpb24oY3R4LCB3aWR0aCwgaGVpZ2h0LCBvcmllbnRhdGlvbik7XG5cbiAgICAvLyBkcmF3IHRoZSBpbWFnZVxuICAgIGN0eC5kcmF3SW1hZ2UoZGF0YSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICByZXR1cm4gY2FudmFzO1xuICB9O1xuXG4gIHZhciBpc0JpdG1hcCA9IGZ1bmN0aW9uIGlzQml0bWFwKGZpbGUpIHtcbiAgICByZXR1cm4gL15pbWFnZS8udGVzdChmaWxlLnR5cGUpICYmICEvc3ZnLy50ZXN0KGZpbGUudHlwZSk7XG4gIH07XG5cbiAgdmFyIE1BWF9XSURUSCA9IDEwO1xuICB2YXIgTUFYX0hFSUdIVCA9IDEwO1xuXG4gIHZhciBjYWxjdWxhdGVBdmVyYWdlQ29sb3IgPSBmdW5jdGlvbiBjYWxjdWxhdGVBdmVyYWdlQ29sb3IoaW1hZ2UpIHtcbiAgICB2YXIgc2NhbGFyID0gTWF0aC5taW4oTUFYX1dJRFRIIC8gaW1hZ2Uud2lkdGgsIE1BWF9IRUlHSFQgLyBpbWFnZS5oZWlnaHQpO1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB2YXIgd2lkdGggPSAoY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGltYWdlLndpZHRoICogc2NhbGFyKSk7XG4gICAgdmFyIGhlaWdodCA9IChjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGltYWdlLmhlaWdodCAqIHNjYWxhcikpO1xuICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHZhciBkYXRhID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGwgPSBkYXRhLmxlbmd0aDtcblxuICAgIHZhciByID0gMDtcbiAgICB2YXIgZyA9IDA7XG4gICAgdmFyIGIgPSAwO1xuICAgIHZhciBpID0gMDtcblxuICAgIGZvciAoOyBpIDwgbDsgaSArPSA0KSB7XG4gICAgICByICs9IGRhdGFbaV0gKiBkYXRhW2ldO1xuICAgICAgZyArPSBkYXRhW2kgKyAxXSAqIGRhdGFbaSArIDFdO1xuICAgICAgYiArPSBkYXRhW2kgKyAyXSAqIGRhdGFbaSArIDJdO1xuICAgIH1cblxuICAgIHIgPSBhdmVyYWdlQ29sb3IociwgbCk7XG4gICAgZyA9IGF2ZXJhZ2VDb2xvcihnLCBsKTtcbiAgICBiID0gYXZlcmFnZUNvbG9yKGIsIGwpO1xuXG4gICAgcmV0dXJuIHsgcjogciwgZzogZywgYjogYiB9O1xuICB9O1xuXG4gIHZhciBhdmVyYWdlQ29sb3IgPSBmdW5jdGlvbiBhdmVyYWdlQ29sb3IoYywgbCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGguc3FydChjIC8gKGwgLyA0KSkpO1xuICB9O1xuXG4gIHZhciBjbG9uZUNhbnZhcyA9IGZ1bmN0aW9uIGNsb25lQ2FudmFzKG9yaWdpbiwgdGFyZ2V0KSB7XG4gICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHRhcmdldC53aWR0aCA9IG9yaWdpbi53aWR0aDtcbiAgICB0YXJnZXQuaGVpZ2h0ID0gb3JpZ2luLmhlaWdodDtcbiAgICB2YXIgY3R4ID0gdGFyZ2V0LmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmRyYXdJbWFnZShvcmlnaW4sIDAsIDApO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgdmFyIGNsb25lSW1hZ2VEYXRhID0gZnVuY3Rpb24gY2xvbmVJbWFnZURhdGEoaW1hZ2VEYXRhKSB7XG4gICAgdmFyIGlkO1xuICAgIHRyeSB7XG4gICAgICBpZCA9IG5ldyBJbWFnZURhdGEoaW1hZ2VEYXRhLndpZHRoLCBpbWFnZURhdGEuaGVpZ2h0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBpZCA9IGN0eC5jcmVhdGVJbWFnZURhdGEoaW1hZ2VEYXRhLndpZHRoLCBpbWFnZURhdGEuaGVpZ2h0KTtcbiAgICB9XG4gICAgaWQuZGF0YS5zZXQobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGltYWdlRGF0YS5kYXRhKSk7XG4gICAgcmV0dXJuIGlkO1xuICB9O1xuXG4gIHZhciBsb2FkSW1hZ2UgPSBmdW5jdGlvbiBsb2FkSW1hZ2UodXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgaW1nLmNyb3NzT3JpZ2luID0gJ0Fub255bW91cyc7XG4gICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUoaW1nKTtcbiAgICAgIH07XG4gICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfTtcbiAgICAgIGltZy5zcmMgPSB1cmw7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUltYWdlV3JhcHBlclZpZXcgPSBmdW5jdGlvbiBjcmVhdGVJbWFnZVdyYXBwZXJWaWV3KF8pIHtcbiAgICAvLyBjcmVhdGUgb3ZlcmxheSB2aWV3XG4gICAgdmFyIE92ZXJsYXlWaWV3ID0gY3JlYXRlSW1hZ2VPdmVybGF5VmlldyhfKTtcblxuICAgIHZhciBJbWFnZVZpZXcgPSBjcmVhdGVJbWFnZVZpZXcoXyk7XG4gICAgdmFyIGNyZWF0ZVdvcmtlciA9IF8udXRpbHMuY3JlYXRlV29ya2VyO1xuXG4gICAgdmFyIGFwcGx5RmlsdGVyID0gZnVuY3Rpb24gYXBwbHlGaWx0ZXIocm9vdCwgZmlsdGVyLCB0YXJnZXQpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIC8vIHdpbGwgc3RvcmUgaW1hZ2UgZGF0YSBmb3IgZnV0dXJlIGZpbHRlciB1cGRhdGVzXG4gICAgICAgIGlmICghcm9vdC5yZWYuaW1hZ2VEYXRhKSB7XG4gICAgICAgICAgcm9vdC5yZWYuaW1hZ2VEYXRhID0gdGFyZ2V0XG4gICAgICAgICAgICAuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICAgICAgLmdldEltYWdlRGF0YSgwLCAwLCB0YXJnZXQud2lkdGgsIHRhcmdldC5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGltYWdlIGRhdGEgcmVmZXJlbmNlXG4gICAgICAgIHZhciBpbWFnZURhdGEgPSBjbG9uZUltYWdlRGF0YShyb290LnJlZi5pbWFnZURhdGEpO1xuXG4gICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlci5sZW5ndGggIT09IDIwKSB7XG4gICAgICAgICAgdGFyZ2V0LmdldENvbnRleHQoJzJkJykucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3b3JrZXIgPSBjcmVhdGVXb3JrZXIoQ29sb3JNYXRyaXhXb3JrZXIpO1xuICAgICAgICB3b3JrZXIucG9zdChcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbWFnZURhdGE6IGltYWdlRGF0YSxcbiAgICAgICAgICAgIGNvbG9yTWF0cml4OiBmaWx0ZXJcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8vIGFwcGx5IGZpbHRlcmVkIGNvbG9yc1xuICAgICAgICAgICAgdGFyZ2V0LmdldENvbnRleHQoJzJkJykucHV0SW1hZ2VEYXRhKHJlc3BvbnNlLCAwLCAwKTtcblxuICAgICAgICAgICAgLy8gc3RvcCB3b3JrZXJcbiAgICAgICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcblxuICAgICAgICAgICAgLy8gZG9uZSFcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIFtpbWFnZURhdGEuZGF0YS5idWZmZXJdXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIHJlbW92ZUltYWdlVmlldyA9IGZ1bmN0aW9uIHJlbW92ZUltYWdlVmlldyhyb290LCBpbWFnZVZpZXcpIHtcbiAgICAgIHJvb3QucmVtb3ZlQ2hpbGRWaWV3KGltYWdlVmlldyk7XG4gICAgICBpbWFnZVZpZXcuaW1hZ2Uud2lkdGggPSAxO1xuICAgICAgaW1hZ2VWaWV3LmltYWdlLmhlaWdodCA9IDE7XG4gICAgICBpbWFnZVZpZXcuX2Rlc3Ryb3koKTtcbiAgICB9O1xuXG4gICAgLy8gcmVtb3ZlIGFuIGltYWdlXG4gICAgdmFyIHNoaWZ0SW1hZ2UgPSBmdW5jdGlvbiBzaGlmdEltYWdlKF9yZWYpIHtcbiAgICAgIHZhciByb290ID0gX3JlZi5yb290O1xuICAgICAgdmFyIGltYWdlVmlldyA9IHJvb3QucmVmLmltYWdlcy5zaGlmdCgpO1xuICAgICAgaW1hZ2VWaWV3Lm9wYWNpdHkgPSAwO1xuICAgICAgaW1hZ2VWaWV3LnRyYW5zbGF0ZVkgPSAtMTU7XG4gICAgICByb290LnJlZi5pbWFnZVZpZXdCaW4ucHVzaChpbWFnZVZpZXcpO1xuICAgICAgcmV0dXJuIGltYWdlVmlldztcbiAgICB9O1xuXG4gICAgLy8gYWRkIG5ldyBpbWFnZVxuICAgIHZhciBwdXNoSW1hZ2UgPSBmdW5jdGlvbiBwdXNoSW1hZ2UoX3JlZjIpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcyxcbiAgICAgICAgaW1hZ2UgPSBfcmVmMi5pbWFnZTtcblxuICAgICAgdmFyIGlkID0gcHJvcHMuaWQ7XG4gICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZDogaWQgfSk7XG4gICAgICBpZiAoIWl0ZW0pIHJldHVybjtcblxuICAgICAgdmFyIGNyb3AgPSBpdGVtLmdldE1ldGFkYXRhKCdjcm9wJykgfHwge1xuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICB4OiAwLjUsXG4gICAgICAgICAgeTogMC41XG4gICAgICAgIH0sXG5cbiAgICAgICAgZmxpcDoge1xuICAgICAgICAgIGhvcml6b250YWw6IGZhbHNlLFxuICAgICAgICAgIHZlcnRpY2FsOiBmYWxzZVxuICAgICAgICB9LFxuXG4gICAgICAgIHpvb206IDEsXG4gICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICBhc3BlY3RSYXRpbzogbnVsbFxuICAgICAgfTtcblxuICAgICAgdmFyIGJhY2tncm91bmQgPSByb290LnF1ZXJ5KFxuICAgICAgICAnR0VUX0lNQUdFX1RSQU5TRk9STV9DQU5WQVNfQkFDS0dST1VORF9DT0xPUidcbiAgICAgICk7XG5cbiAgICAgIHZhciBtYXJrdXA7XG4gICAgICB2YXIgcmVzaXplO1xuICAgICAgdmFyIGRpcnR5ID0gZmFsc2U7XG4gICAgICBpZiAocm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFSS1VQX1NIT1cnKSkge1xuICAgICAgICBtYXJrdXAgPSBpdGVtLmdldE1ldGFkYXRhKCdtYXJrdXAnKSB8fCBbXTtcbiAgICAgICAgcmVzaXplID0gaXRlbS5nZXRNZXRhZGF0YSgncmVzaXplJyk7XG4gICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gYXBwZW5kIGltYWdlIHByZXNlbnRlclxuICAgICAgdmFyIGltYWdlVmlldyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhJbWFnZVZpZXcsIHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgaW1hZ2U6IGltYWdlLFxuICAgICAgICAgIGNyb3A6IGNyb3AsXG4gICAgICAgICAgcmVzaXplOiByZXNpemUsXG4gICAgICAgICAgbWFya3VwOiBtYXJrdXAsXG4gICAgICAgICAgZGlydHk6IGRpcnR5LFxuICAgICAgICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmQsXG4gICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICBzY2FsZVg6IDEuMTUsXG4gICAgICAgICAgc2NhbGVZOiAxLjE1LFxuICAgICAgICAgIHRyYW5zbGF0ZVk6IDE1XG4gICAgICAgIH0pLFxuXG4gICAgICAgIHJvb3QuY2hpbGRWaWV3cy5sZW5ndGhcbiAgICAgICk7XG5cbiAgICAgIHJvb3QucmVmLmltYWdlcy5wdXNoKGltYWdlVmlldyk7XG5cbiAgICAgIC8vIHJldmVhbCB0aGUgcHJldmlldyBpbWFnZVxuICAgICAgaW1hZ2VWaWV3Lm9wYWNpdHkgPSAxO1xuICAgICAgaW1hZ2VWaWV3LnNjYWxlWCA9IDE7XG4gICAgICBpbWFnZVZpZXcuc2NhbGVZID0gMTtcbiAgICAgIGltYWdlVmlldy50cmFuc2xhdGVZID0gMDtcblxuICAgICAgLy8gdGhlIHByZXZpZXcgaXMgbm93IHJlYWR5IHRvIGJlIGRyYXduXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICByb290LmRpc3BhdGNoKCdESURfSU1BR0VfUFJFVklFV19TSE9XJywgeyBpZDogaWQgfSk7XG4gICAgICB9LCAyNTApO1xuICAgIH07XG5cbiAgICB2YXIgdXBkYXRlSW1hZ2UgPSBmdW5jdGlvbiB1cGRhdGVJbWFnZShfcmVmMykge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgICBwcm9wcyA9IF9yZWYzLnByb3BzO1xuICAgICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIHsgaWQ6IHByb3BzLmlkIH0pO1xuICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgICB2YXIgaW1hZ2VWaWV3ID0gcm9vdC5yZWYuaW1hZ2VzW3Jvb3QucmVmLmltYWdlcy5sZW5ndGggLSAxXTtcbiAgICAgIGltYWdlVmlldy5jcm9wID0gaXRlbS5nZXRNZXRhZGF0YSgnY3JvcCcpO1xuICAgICAgaW1hZ2VWaWV3LmJhY2tncm91bmQgPSByb290LnF1ZXJ5KFxuICAgICAgICAnR0VUX0lNQUdFX1RSQU5TRk9STV9DQU5WQVNfQkFDS0dST1VORF9DT0xPUidcbiAgICAgICk7XG4gICAgICBpZiAocm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFSS1VQX1NIT1cnKSkge1xuICAgICAgICBpbWFnZVZpZXcuZGlydHkgPSB0cnVlO1xuICAgICAgICBpbWFnZVZpZXcucmVzaXplID0gaXRlbS5nZXRNZXRhZGF0YSgncmVzaXplJyk7XG4gICAgICAgIGltYWdlVmlldy5tYXJrdXAgPSBpdGVtLmdldE1ldGFkYXRhKCdtYXJrdXAnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gcmVwbGFjZSBpbWFnZSBwcmV2aWV3XG4gICAgdmFyIGRpZFVwZGF0ZUl0ZW1NZXRhZGF0YSA9IGZ1bmN0aW9uIGRpZFVwZGF0ZUl0ZW1NZXRhZGF0YShfcmVmNCkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmNC5yb290LFxuICAgICAgICBwcm9wcyA9IF9yZWY0LnByb3BzLFxuICAgICAgICBhY3Rpb24gPSBfcmVmNC5hY3Rpb247XG5cbiAgICAgIC8vIG9ubHkgZmlsdGVyIGFuZCBjcm9wIHRyaWdnZXIgcmVkcmF3XG4gICAgICBpZiAoIS9jcm9wfGZpbHRlcnxtYXJrdXB8cmVzaXplLy50ZXN0KGFjdGlvbi5jaGFuZ2Uua2V5KSkgcmV0dXJuO1xuXG4gICAgICAvLyBubyBpbWFnZXMgdG8gdXBkYXRlLCBleGl0XG4gICAgICBpZiAoIXJvb3QucmVmLmltYWdlcy5sZW5ndGgpIHJldHVybjtcblxuICAgICAgLy8gbm8gaXRlbSBmb3VuZCwgZXhpdFxuICAgICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIHsgaWQ6IHByb3BzLmlkIH0pO1xuICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG5cbiAgICAgIC8vIGZvciBub3csIHVwZGF0ZSBleGlzdGluZyBpbWFnZSB3aGVuIGZpbHRlcmluZ1xuICAgICAgaWYgKC9maWx0ZXIvLnRlc3QoYWN0aW9uLmNoYW5nZS5rZXkpKSB7XG4gICAgICAgIHZhciBpbWFnZVZpZXcgPSByb290LnJlZi5pbWFnZXNbcm9vdC5yZWYuaW1hZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICBhcHBseUZpbHRlcihyb290LCBhY3Rpb24uY2hhbmdlLnZhbHVlLCBpbWFnZVZpZXcuaW1hZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICgvY3JvcHxtYXJrdXB8cmVzaXplLy50ZXN0KGFjdGlvbi5jaGFuZ2Uua2V5KSkge1xuICAgICAgICB2YXIgY3JvcCA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ2Nyb3AnKTtcbiAgICAgICAgdmFyIGltYWdlID0gcm9vdC5yZWYuaW1hZ2VzW3Jvb3QucmVmLmltYWdlcy5sZW5ndGggLSAxXTtcblxuICAgICAgICAvLyBpZiBhc3BlY3QgcmF0aW8gaGFzIGNoYW5nZWQsIHdlIG5lZWQgdG8gY3JlYXRlIGEgbmV3IGltYWdlXG4gICAgICAgIGlmIChNYXRoLmFicyhjcm9wLmFzcGVjdFJhdGlvIC0gaW1hZ2UuY3JvcC5hc3BlY3RSYXRpbykgPiAwLjAwMDAxKSB7XG4gICAgICAgICAgdmFyIF9pbWFnZVZpZXcgPSBzaGlmdEltYWdlKHsgcm9vdDogcm9vdCB9KTtcbiAgICAgICAgICBwdXNoSW1hZ2Uoe1xuICAgICAgICAgICAgcm9vdDogcm9vdCxcbiAgICAgICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgICAgIGltYWdlOiBjbG9uZUNhbnZhcyhfaW1hZ2VWaWV3LmltYWdlKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIG5vdCwgd2UgY2FuIHVwZGF0ZSB0aGUgY3VycmVudCBpbWFnZVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVJbWFnZSh7IHJvb3Q6IHJvb3QsIHByb3BzOiBwcm9wcyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgY2FuQ3JlYXRlSW1hZ2VCaXRtYXAgPSBmdW5jdGlvbiBjYW5DcmVhdGVJbWFnZUJpdG1hcChmaWxlKSB7XG4gICAgICAvLyBGaXJlZm94IHZlcnNpb25zIGJlZm9yZSA1OCB3aWxsIGZyZWV6ZSB3aGVuIHJ1bm5pbmcgY3JlYXRlSW1hZ2VCaXRtYXBcbiAgICAgIC8vIGluIGEgV2ViIFdvcmtlciBzbyB3ZSBkZXRlY3QgdGhvc2UgdmVyc2lvbnMgYW5kIHJldHVybiBmYWxzZSBmb3Igc3VwcG9ydFxuICAgICAgdmFyIHVzZXJBZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICAgICAgdmFyIGlzRmlyZWZveCA9IHVzZXJBZ2VudC5tYXRjaCgvRmlyZWZveFxcLyhbMC05XSspXFwuLyk7XG4gICAgICB2YXIgZmlyZWZveFZlcnNpb24gPSBpc0ZpcmVmb3ggPyBwYXJzZUludChpc0ZpcmVmb3hbMV0pIDogbnVsbDtcbiAgICAgIGlmIChmaXJlZm94VmVyc2lvbiA8PSA1OCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICByZXR1cm4gJ2NyZWF0ZUltYWdlQml0bWFwJyBpbiB3aW5kb3cgJiYgaXNCaXRtYXAoZmlsZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdyaXRlIGhhbmRsZXIgZm9yIHdoZW4gcHJldmlldyBjb250YWluZXIgaGFzIGJlZW4gY3JlYXRlZFxuICAgICAqL1xuICAgIHZhciBkaWRDcmVhdGVQcmV2aWV3Q29udGFpbmVyID0gZnVuY3Rpb24gZGlkQ3JlYXRlUHJldmlld0NvbnRhaW5lcihfcmVmNSkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICBwcm9wcyA9IF9yZWY1LnByb3BzO1xuICAgICAgdmFyIGlkID0gcHJvcHMuaWQ7XG5cbiAgICAgIC8vIHdlIG5lZWQgdG8gZ2V0IHRoZSBmaWxlIGRhdGEgdG8gZGV0ZXJtaW5lIHRoZSBldmVudHVhbCBpbWFnZSBzaXplXG4gICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgaWQpO1xuICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG5cbiAgICAgIC8vIGdldCB1cmwgdG8gZmlsZSAod2UnbGwgcmV2b2tlIGl0IGxhdGVyIG9uIHdoZW4gZG9uZSlcbiAgICAgIHZhciBmaWxlVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChpdGVtLmZpbGUpO1xuXG4gICAgICAvLyBkZXRlcm1pbmUgaW1hZ2Ugc2l6ZSBvZiB0aGlzIGl0ZW1cbiAgICAgIGdldEltYWdlU2l6ZShmaWxlVVJMLCBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIC8vIHdlIGNhbiBub3cgc2NhbGUgdGhlIHBhbmVsIHRvIHRoZSBmaW5hbCBzaXplXG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9JTUFHRV9QUkVWSUVXX0NBTENVTEFURV9TSVpFJywge1xuICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGRyYXdQcmV2aWV3ID0gZnVuY3Rpb24gZHJhd1ByZXZpZXcoX3JlZjYpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjYucm9vdCxcbiAgICAgICAgcHJvcHMgPSBfcmVmNi5wcm9wcztcbiAgICAgIHZhciBpZCA9IHByb3BzLmlkO1xuXG4gICAgICAvLyB3ZSBuZWVkIHRvIGdldCB0aGUgZmlsZSBkYXRhIHRvIGRldGVybWluZSB0aGUgZXZlbnR1YWwgaW1hZ2Ugc2l6ZVxuICAgICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGlkKTtcbiAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgICAvLyBnZXQgdXJsIHRvIGZpbGUgKHdlJ2xsIHJldm9rZSBpdCBsYXRlciBvbiB3aGVuIGRvbmUpXG4gICAgICB2YXIgZmlsZVVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoaXRlbS5maWxlKTtcblxuICAgICAgLy8gZmFsbGJhY2tcbiAgICAgIHZhciBsb2FkUHJldmlld0ZhbGxiYWNrID0gZnVuY3Rpb24gbG9hZFByZXZpZXdGYWxsYmFjaygpIHtcbiAgICAgICAgLy8gbGV0J3Mgc2NhbGUgdGhlIGltYWdlIGluIHRoZSBtYWluIHRocmVhZCA6KFxuICAgICAgICBsb2FkSW1hZ2UoZmlsZVVSTCkudGhlbihwcmV2aWV3SW1hZ2VMb2FkZWQpO1xuICAgICAgfTtcblxuICAgICAgLy8gaW1hZ2UgaXMgbm93IHJlYWR5XG4gICAgICB2YXIgcHJldmlld0ltYWdlTG9hZGVkID0gZnVuY3Rpb24gcHJldmlld0ltYWdlTG9hZGVkKGltYWdlRGF0YSkge1xuICAgICAgICAvLyB0aGUgZmlsZSB1cmwgaXMgbm8gbG9uZ2VyIG5lZWRlZFxuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGZpbGVVUkwpO1xuXG4gICAgICAgIC8vIGRyYXcgdGhlIHNjYWxlZCBkb3duIHZlcnNpb24gaGVyZSBhbmQgdXNlIHRoYXQgYXMgc291cmNlIHNvIGJpdG1hcGRhdGEgY2FuIGJlIGNsb3NlZFxuICAgICAgICAvLyBvcmllbnRhdGlvbiBpbmZvXG4gICAgICAgIHZhciBleGlmID0gaXRlbS5nZXRNZXRhZGF0YSgnZXhpZicpIHx8IHt9O1xuICAgICAgICB2YXIgb3JpZW50YXRpb24gPSBleGlmLm9yaWVudGF0aW9uIHx8IC0xO1xuXG4gICAgICAgIC8vIGdldCB3aWR0aCBhbmQgaGVpZ2h0IGZyb20gYWN0aW9uLCBhbmQgc3dhcCBpZiBvcmllbnRhdGlvbiBpcyBpbmNvcnJlY3RcbiAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2VEYXRhLndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IGltYWdlRGF0YS5oZWlnaHQ7XG5cbiAgICAgICAgLy8gaWYgbm8gd2lkdGggb3IgaGVpZ2h0LCBqdXN0IHJldHVybiBlYXJseS5cbiAgICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSByZXR1cm47XG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID49IDUgJiYgb3JpZW50YXRpb24gPD0gOCkge1xuICAgICAgICAgIHZhciBfcmVmNyA9IFtoZWlnaHQsIHdpZHRoXTtcbiAgICAgICAgICB3aWR0aCA9IF9yZWY3WzBdO1xuICAgICAgICAgIGhlaWdodCA9IF9yZWY3WzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2NhbGUgY2FudmFzIGJhc2VkIG9uIHBpeGVsIGRlbnNpdHlcbiAgICAgICAgLy8gd2UgbXVsdGlwbHkgYnkgLjc1IGFzIHRoYXQgY3JlYXRlcyBzbWFsbGVyIGJ1dCBzdGlsbCBjbGVhciBpbWFnZXMgb24gc2NyZWVucyB3aXRoIGhpZ2ggcmVzIGRpc3BsYXlzXG4gICAgICAgIHZhciBwaXhlbERlbnNpdHlGYWN0b3IgPSBNYXRoLm1heCgxLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAqIDAuNzUpO1xuXG4gICAgICAgIC8vIHdlIHdhbnQgYXMgbXVjaCBwaXhlbHMgdG8gd29yayB3aXRoIGFzIHBvc3NpYmxlLFxuICAgICAgICAvLyB0aGlzIG11bHRpcGxpZXMgdGhlIG1pbmltdW0gaW1hZ2UgcmVzb2x1dGlvbixcbiAgICAgICAgLy8gc28gd2hlbiB6b29taW5nIGluIGl0IGRvZXNuJ3QgZ2V0IHRvbyBibHVycnlcbiAgICAgICAgdmFyIHpvb21GYWN0b3IgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19aT09NX0ZBQ1RPUicpO1xuXG4gICAgICAgIC8vIGltYWVnIHNjYWxlIGZhY3RvclxuICAgICAgICB2YXIgc2NhbGVGYWN0b3IgPSB6b29tRmFjdG9yICogcGl4ZWxEZW5zaXR5RmFjdG9yO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBzY2FsZWQgcHJldmlldyBpbWFnZSBzaXplXG4gICAgICAgIHZhciBwcmV2aWV3SW1hZ2VSYXRpbyA9IGhlaWdodCAvIHdpZHRoO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBpbWFnZSBwcmV2aWV3IGhlaWdodCBhbmQgd2lkdGhcbiAgICAgICAgdmFyIHByZXZpZXdDb250YWluZXJXaWR0aCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoO1xuICAgICAgICB2YXIgcHJldmlld0NvbnRhaW5lckhlaWdodCA9IHJvb3QucmVjdC5lbGVtZW50LmhlaWdodDtcblxuICAgICAgICB2YXIgaW1hZ2VXaWR0aCA9IHByZXZpZXdDb250YWluZXJXaWR0aDtcbiAgICAgICAgdmFyIGltYWdlSGVpZ2h0ID0gaW1hZ2VXaWR0aCAqIHByZXZpZXdJbWFnZVJhdGlvO1xuXG4gICAgICAgIGlmIChwcmV2aWV3SW1hZ2VSYXRpbyA+IDEpIHtcbiAgICAgICAgICBpbWFnZVdpZHRoID0gTWF0aC5taW4od2lkdGgsIHByZXZpZXdDb250YWluZXJXaWR0aCAqIHNjYWxlRmFjdG9yKTtcbiAgICAgICAgICBpbWFnZUhlaWdodCA9IGltYWdlV2lkdGggKiBwcmV2aWV3SW1hZ2VSYXRpbztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbWFnZUhlaWdodCA9IE1hdGgubWluKGhlaWdodCwgcHJldmlld0NvbnRhaW5lckhlaWdodCAqIHNjYWxlRmFjdG9yKTtcbiAgICAgICAgICBpbWFnZVdpZHRoID0gaW1hZ2VIZWlnaHQgLyBwcmV2aWV3SW1hZ2VSYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRyYW5zZmVyIHRvIGltYWdlIHRhZyBzbyBubyBjYW52YXMgbWVtb3J5IHdhc3RlZCBvbiBpT1NcbiAgICAgICAgdmFyIHByZXZpZXdJbWFnZSA9IGNyZWF0ZVByZXZpZXdJbWFnZShcbiAgICAgICAgICBpbWFnZURhdGEsXG4gICAgICAgICAgaW1hZ2VXaWR0aCxcbiAgICAgICAgICBpbWFnZUhlaWdodCxcbiAgICAgICAgICBvcmllbnRhdGlvblxuICAgICAgICApO1xuXG4gICAgICAgIC8vIGRvbmVcbiAgICAgICAgdmFyIGRvbmUgPSBmdW5jdGlvbiBkb25lKCkge1xuICAgICAgICAgIC8vIGNhbGN1bGF0ZSBhdmVyYWdlIGltYWdlIGNvbG9yLCBkaXNhYmxlZCBmb3Igbm93XG4gICAgICAgICAgdmFyIGF2ZXJhZ2VDb2xvciA9IHJvb3QucXVlcnkoXG4gICAgICAgICAgICAnR0VUX0lNQUdFX1BSRVZJRVdfQ0FMQ1VMQVRFX0FWRVJBR0VfSU1BR0VfQ09MT1InXG4gICAgICAgICAgKVxuICAgICAgICAgICAgPyBjYWxjdWxhdGVBdmVyYWdlQ29sb3IoZGF0YSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICBpdGVtLnNldE1ldGFkYXRhKCdjb2xvcicsIGF2ZXJhZ2VDb2xvciwgdHJ1ZSk7XG5cbiAgICAgICAgICAvLyBkYXRhIGhhcyBiZWVuIHRyYW5zZmVycmVkIHRvIGNhbnZhcyAoIGlmIHdhcyBJbWFnZUJpdG1hcCApXG4gICAgICAgICAgaWYgKCdjbG9zZScgaW4gaW1hZ2VEYXRhKSB7XG4gICAgICAgICAgICBpbWFnZURhdGEuY2xvc2UoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzaG93IHRoZSBvdmVybGF5XG4gICAgICAgICAgcm9vdC5yZWYub3ZlcmxheVNoYWRvdy5vcGFjaXR5ID0gMTtcblxuICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgZmlyc3QgaW1hZ2VcbiAgICAgICAgICBwdXNoSW1hZ2UoeyByb290OiByb290LCBwcm9wczogcHJvcHMsIGltYWdlOiBwcmV2aWV3SW1hZ2UgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gYXBwbHkgZmlsdGVyXG4gICAgICAgIHZhciBmaWx0ZXIgPSBpdGVtLmdldE1ldGFkYXRhKCdmaWx0ZXInKTtcbiAgICAgICAgaWYgKGZpbHRlcikge1xuICAgICAgICAgIGFwcGx5RmlsdGVyKHJvb3QsIGZpbHRlciwgcHJldmlld0ltYWdlKS50aGVuKGRvbmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gaWYgd2Ugc3VwcG9ydCBzY2FsaW5nIHVzaW5nIGNyZWF0ZUltYWdlQml0bWFwIHdlIHVzZSBhIHdvcmtlclxuICAgICAgaWYgKGNhbkNyZWF0ZUltYWdlQml0bWFwKGl0ZW0uZmlsZSkpIHtcbiAgICAgICAgLy8gbGV0J3Mgc2NhbGUgdGhlIGltYWdlIGluIGEgd29ya2VyXG4gICAgICAgIHZhciB3b3JrZXIgPSBjcmVhdGVXb3JrZXIoQml0bWFwV29ya2VyKTtcblxuICAgICAgICB3b3JrZXIucG9zdChcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmaWxlOiBpdGVtLmZpbGVcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZnVuY3Rpb24oaW1hZ2VCaXRtYXApIHtcbiAgICAgICAgICAgIC8vIGRlc3Ryb3kgd29ya2VyXG4gICAgICAgICAgICB3b3JrZXIudGVybWluYXRlKCk7XG5cbiAgICAgICAgICAgIC8vIG5vIGJpdG1hcCByZXR1cm5lZCwgbXVzdCBiZSBzb21ldGhpbmcgd3JvbmcsXG4gICAgICAgICAgICAvLyB0cnkgdGhlIG9sZHNjaG9vbCB3YXlcbiAgICAgICAgICAgIGlmICghaW1hZ2VCaXRtYXApIHtcbiAgICAgICAgICAgICAgbG9hZFByZXZpZXdGYWxsYmFjaygpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHlheSB3ZSBnb3Qgb3VyIGJpdG1hcCwgbGV0J3MgY29udGludWUgc2hvd2luZyB0aGUgcHJldmlld1xuICAgICAgICAgICAgcHJldmlld0ltYWdlTG9hZGVkKGltYWdlQml0bWFwKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGUgZmFsbGJhY2sgcHJldmlld1xuICAgICAgICBsb2FkUHJldmlld0ZhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdyaXRlIGhhbmRsZXIgZm9yIHdoZW4gdGhlIHByZXZpZXcgaW1hZ2UgaXMgcmVhZHkgdG8gYmUgYW5pbWF0ZWRcbiAgICAgKi9cbiAgICB2YXIgZGlkRHJhd1ByZXZpZXcgPSBmdW5jdGlvbiBkaWREcmF3UHJldmlldyhfcmVmOCkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmOC5yb290O1xuICAgICAgLy8gZ2V0IGxhc3QgYWRkZWQgaW1hZ2VcbiAgICAgIHZhciBpbWFnZSA9IHJvb3QucmVmLmltYWdlc1tyb290LnJlZi5pbWFnZXMubGVuZ3RoIC0gMV07XG4gICAgICBpbWFnZS50cmFuc2xhdGVZID0gMDtcbiAgICAgIGltYWdlLnNjYWxlWCA9IDEuMDtcbiAgICAgIGltYWdlLnNjYWxlWSA9IDEuMDtcbiAgICAgIGltYWdlLm9wYWNpdHkgPSAxO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXcml0ZSBoYW5kbGVyIGZvciB3aGVuIHRoZSBwcmV2aWV3IGhhcyBiZWVuIGxvYWRlZFxuICAgICAqL1xuICAgIHZhciByZXN0b3JlT3ZlcmxheSA9IGZ1bmN0aW9uIHJlc3RvcmVPdmVybGF5KF9yZWY5KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY5LnJvb3Q7XG4gICAgICByb290LnJlZi5vdmVybGF5U2hhZG93Lm9wYWNpdHkgPSAxO1xuICAgICAgcm9vdC5yZWYub3ZlcmxheUVycm9yLm9wYWNpdHkgPSAwO1xuICAgICAgcm9vdC5yZWYub3ZlcmxheVN1Y2Nlc3Mub3BhY2l0eSA9IDA7XG4gICAgfTtcblxuICAgIHZhciBkaWRUaHJvd0Vycm9yID0gZnVuY3Rpb24gZGlkVGhyb3dFcnJvcihfcmVmMTApIHtcbiAgICAgIHZhciByb290ID0gX3JlZjEwLnJvb3Q7XG4gICAgICByb290LnJlZi5vdmVybGF5U2hhZG93Lm9wYWNpdHkgPSAwLjI1O1xuICAgICAgcm9vdC5yZWYub3ZlcmxheUVycm9yLm9wYWNpdHkgPSAxO1xuICAgIH07XG5cbiAgICB2YXIgZGlkQ29tcGxldGVQcm9jZXNzaW5nID0gZnVuY3Rpb24gZGlkQ29tcGxldGVQcm9jZXNzaW5nKF9yZWYxMSkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmMTEucm9vdDtcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cub3BhY2l0eSA9IDAuMjU7XG4gICAgICByb290LnJlZi5vdmVybGF5U3VjY2Vzcy5vcGFjaXR5ID0gMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYxMikge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmMTIucm9vdDtcblxuICAgICAgLy8gaW1hZ2Ugdmlld1xuICAgICAgcm9vdC5yZWYuaW1hZ2VzID0gW107XG5cbiAgICAgIC8vIHRoZSBwcmV2aWV3IGltYWdlIGRhdGEgKHdlIG5lZWQgdGhpcyB0byBmaWx0ZXIgdGhlIGltYWdlKVxuICAgICAgcm9vdC5yZWYuaW1hZ2VEYXRhID0gbnVsbDtcblxuICAgICAgLy8gaW1hZ2UgYmluXG4gICAgICByb290LnJlZi5pbWFnZVZpZXdCaW4gPSBbXTtcblxuICAgICAgLy8gaW1hZ2Ugb3ZlcmxheXNcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoT3ZlcmxheVZpZXcsIHtcbiAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgIHN0YXR1czogJ2lkbGUnXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICByb290LnJlZi5vdmVybGF5U3VjY2VzcyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhPdmVybGF5Vmlldywge1xuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcydcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHJvb3QucmVmLm92ZXJsYXlFcnJvciA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhPdmVybGF5Vmlldywge1xuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgc3RhdHVzOiAnZmFpbHVyZSdcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ltYWdlLXByZXZpZXctd3JhcHBlcicsXG4gICAgICBjcmVhdGU6IGNyZWF0ZSxcbiAgICAgIHN0eWxlczogWydoZWlnaHQnXSxcblxuICAgICAgYXBpczogWydoZWlnaHQnXSxcblxuICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShfcmVmMTMpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMTMucm9vdDtcbiAgICAgICAgLy8gd2UgcmVzaXplIHRoZSBpbWFnZSBzbyBtZW1vcnkgb24gaU9TIDEyIGlzIHJlbGVhc2VkIG1vcmUgcXVpY2tseSAoaXQgc2VlbXMpXG4gICAgICAgIHJvb3QucmVmLmltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKGltYWdlVmlldykge1xuICAgICAgICAgIGltYWdlVmlldy5pbWFnZS53aWR0aCA9IDE7XG4gICAgICAgICAgaW1hZ2VWaWV3LmltYWdlLmhlaWdodCA9IDE7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGRpZFdyaXRlVmlldzogZnVuY3Rpb24gZGlkV3JpdGVWaWV3KF9yZWYxNCkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYxNC5yb290O1xuICAgICAgICByb290LnJlZi5pbWFnZXMuZm9yRWFjaChmdW5jdGlvbihpbWFnZVZpZXcpIHtcbiAgICAgICAgICBpbWFnZVZpZXcuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgd3JpdGU6IF8udXRpbHMuY3JlYXRlUm91dGUoXG4gICAgICAgIHtcbiAgICAgICAgICAvLyBpbWFnZSBwcmV2aWV3IHN0YXRlZFxuICAgICAgICAgIERJRF9JTUFHRV9QUkVWSUVXX0RSQVc6IGRpZERyYXdQcmV2aWV3LFxuICAgICAgICAgIERJRF9JTUFHRV9QUkVWSUVXX0NPTlRBSU5FUl9DUkVBVEU6IGRpZENyZWF0ZVByZXZpZXdDb250YWluZXIsXG4gICAgICAgICAgRElEX0ZJTklTSF9DQUxDVUxBVEVfUFJFVklFV1NJWkU6IGRyYXdQcmV2aWV3LFxuICAgICAgICAgIERJRF9VUERBVEVfSVRFTV9NRVRBREFUQTogZGlkVXBkYXRlSXRlbU1ldGFkYXRhLFxuXG4gICAgICAgICAgLy8gZmlsZSBzdGF0ZXNcbiAgICAgICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiBkaWRUaHJvd0Vycm9yLFxuICAgICAgICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1I6IGRpZFRocm93RXJyb3IsXG4gICAgICAgICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDogZGlkVGhyb3dFcnJvcixcbiAgICAgICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiBkaWRDb21wbGV0ZVByb2Nlc3NpbmcsXG4gICAgICAgICAgRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORzogcmVzdG9yZU92ZXJsYXksXG4gICAgICAgICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IHJlc3RvcmVPdmVybGF5XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKF9yZWYxNSkge1xuICAgICAgICAgIHZhciByb290ID0gX3JlZjE1LnJvb3Q7XG5cbiAgICAgICAgICAvLyB2aWV3cyBvbiBkZWF0aCByb3dcbiAgICAgICAgICB2YXIgdmlld3NUb1JlbW92ZSA9IHJvb3QucmVmLmltYWdlVmlld0Jpbi5maWx0ZXIoZnVuY3Rpb24oaW1hZ2VWaWV3KSB7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VWaWV3Lm9wYWNpdHkgPT09IDA7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyB2aWV3cyB0byByZXRhaW5cbiAgICAgICAgICByb290LnJlZi5pbWFnZVZpZXdCaW4gPSByb290LnJlZi5pbWFnZVZpZXdCaW4uZmlsdGVyKGZ1bmN0aW9uKFxuICAgICAgICAgICAgaW1hZ2VWaWV3XG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VWaWV3Lm9wYWNpdHkgPiAwO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gcmVtb3ZlIHRoZXNlIHZpZXdzXG4gICAgICAgICAgdmlld3NUb1JlbW92ZS5mb3JFYWNoKGZ1bmN0aW9uKGltYWdlVmlldykge1xuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUltYWdlVmlldyhyb290LCBpbWFnZVZpZXcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZpZXdzVG9SZW1vdmUubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbWFnZSBQcmV2aWV3IFBsdWdpblxuICAgKi9cbiAgdmFyIHBsdWdpbiA9IGZ1bmN0aW9uIHBsdWdpbihmcEFQSSkge1xuICAgIHZhciBhZGRGaWx0ZXIgPSBmcEFQSS5hZGRGaWx0ZXIsXG4gICAgICB1dGlscyA9IGZwQVBJLnV0aWxzO1xuICAgIHZhciBUeXBlID0gdXRpbHMuVHlwZSxcbiAgICAgIGNyZWF0ZVJvdXRlID0gdXRpbHMuY3JlYXRlUm91dGUsXG4gICAgICBpc0ZpbGUgPSB1dGlscy5pc0ZpbGU7XG5cbiAgICAvLyBpbWFnZVByZXZpZXdWaWV3XG4gICAgdmFyIGltYWdlUHJldmlld1ZpZXcgPSBjcmVhdGVJbWFnZVdyYXBwZXJWaWV3KGZwQVBJKTtcblxuICAgIC8vIGNhbGxlZCBmb3IgZWFjaCB2aWV3IHRoYXQgaXMgY3JlYXRlZCByaWdodCBhZnRlciB0aGUgJ2NyZWF0ZScgbWV0aG9kXG4gICAgYWRkRmlsdGVyKCdDUkVBVEVfVklFVycsIGZ1bmN0aW9uKHZpZXdBUEkpIHtcbiAgICAgIC8vIGdldCByZWZlcmVuY2UgdG8gY3JlYXRlZCB2aWV3XG4gICAgICB2YXIgaXMgPSB2aWV3QVBJLmlzLFxuICAgICAgICB2aWV3ID0gdmlld0FQSS52aWV3LFxuICAgICAgICBxdWVyeSA9IHZpZXdBUEkucXVlcnk7XG5cbiAgICAgIC8vIG9ubHkgaG9vayB1cCB0byBpdGVtIHZpZXcgYW5kIG9ubHkgaWYgaXMgZW5hYmxlZCBmb3IgdGhpcyBjcm9wcGVyXG4gICAgICBpZiAoIWlzKCdmaWxlJykgfHwgIXF1ZXJ5KCdHRVRfQUxMT1dfSU1BR0VfUFJFVklFVycpKSByZXR1cm47XG5cbiAgICAgIC8vIGNyZWF0ZSB0aGUgaW1hZ2UgcHJldmlldyBwbHVnaW4sIGJ1dCBvbmx5IGRvIHNvIGlmIHRoZSBpdGVtIGlzIGFuIGltYWdlXG4gICAgICB2YXIgZGlkTG9hZEl0ZW0gPSBmdW5jdGlvbiBkaWRMb2FkSXRlbShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICAgICAgdmFyIGlkID0gcHJvcHMuaWQ7XG4gICAgICAgIHZhciBpdGVtID0gcXVlcnkoJ0dFVF9JVEVNJywgaWQpO1xuXG4gICAgICAgIC8vIGl0ZW0gY291bGQgdGhlb3JldGljYWxseSBoYXZlIGJlZW4gcmVtb3ZlZCBpbiB0aGUgbWVhbiB0aW1lXG4gICAgICAgIGlmICghaXRlbSB8fCAhaXNGaWxlKGl0ZW0uZmlsZSkgfHwgaXRlbS5hcmNoaXZlZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIGdldCB0aGUgZmlsZSBvYmplY3RcbiAgICAgICAgdmFyIGZpbGUgPSBpdGVtLmZpbGU7XG5cbiAgICAgICAgLy8gZXhpdCBpZiB0aGlzIGlzIG5vdCBhbiBpbWFnZVxuICAgICAgICBpZiAoIWlzUHJldmlld2FibGVJbWFnZShmaWxlKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIHRlc3QgaWYgaXMgZmlsdGVyZWRcbiAgICAgICAgaWYgKCFxdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfRklMVEVSX0lURU0nKShpdGVtKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIGV4aXQgaWYgaW1hZ2Ugc2l6ZSBpcyB0b28gaGlnaCBhbmQgbm8gY3JlYXRlSW1hZ2VCaXRtYXAgc3VwcG9ydFxuICAgICAgICAvLyB0aGlzIHdvdWxkIHNpbXBseSBicmluZyB0aGUgYnJvd3NlciB0byBpdHMga25lZXMgYW5kIHRoYXQgaXMgbm90IHdoYXQgd2Ugd2FudFxuICAgICAgICB2YXIgc3VwcG9ydHNDcmVhdGVJbWFnZUJpdG1hcCA9ICdjcmVhdGVJbWFnZUJpdG1hcCcgaW4gKHdpbmRvdyB8fCB7fSk7XG4gICAgICAgIHZhciBtYXhQcmV2aWV3RmlsZVNpemUgPSBxdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfTUFYX0ZJTEVfU0laRScpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXN1cHBvcnRzQ3JlYXRlSW1hZ2VCaXRtYXAgJiZcbiAgICAgICAgICBtYXhQcmV2aWV3RmlsZVNpemUgJiZcbiAgICAgICAgICBmaWxlLnNpemUgPiBtYXhQcmV2aWV3RmlsZVNpemVcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyBzZXQgcHJldmlldyB2aWV3XG4gICAgICAgIHJvb3QucmVmLmltYWdlUHJldmlldyA9IHZpZXcuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICAgIHZpZXcuY3JlYXRlQ2hpbGRWaWV3KGltYWdlUHJldmlld1ZpZXcsIHsgaWQ6IGlkIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gdXBkYXRlIGhlaWdodCBpZiBpcyBmaXhlZFxuICAgICAgICB2YXIgZml4ZWRQcmV2aWV3SGVpZ2h0ID0gcm9vdC5xdWVyeSgnR0VUX0lNQUdFX1BSRVZJRVdfSEVJR0hUJyk7XG4gICAgICAgIGlmIChmaXhlZFByZXZpZXdIZWlnaHQpIHtcbiAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfVVBEQVRFX1BBTkVMX0hFSUdIVCcsIHtcbiAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgaGVpZ2h0OiBmaXhlZFByZXZpZXdIZWlnaHRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vdyByZWFkeVxuICAgICAgICB2YXIgcXVldWUgPVxuICAgICAgICAgICFzdXBwb3J0c0NyZWF0ZUltYWdlQml0bWFwICYmXG4gICAgICAgICAgZmlsZS5zaXplID4gcXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX01BWF9JTlNUQU5UX1BSRVZJRVdfRklMRV9TSVpFJyk7XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9JTUFHRV9QUkVWSUVXX0NPTlRBSU5FUl9DUkVBVEUnLCB7IGlkOiBpZCB9LCBxdWV1ZSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgcmVzY2FsZUl0ZW0gPSBmdW5jdGlvbiByZXNjYWxlSXRlbShyb290LCBwcm9wcykge1xuICAgICAgICBpZiAoIXJvb3QucmVmLmltYWdlUHJldmlldykgcmV0dXJuO1xuICAgICAgICB2YXIgaWQgPSBwcm9wcy5pZDtcblxuICAgICAgICAvLyBnZXQgaXRlbVxuICAgICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZDogaWQgfSk7XG4gICAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIGlmIGlzIGZpeGVkIGhlaWdodCBvciBwYW5lbCBoYXMgYXNwZWN0IHJhdGlvLCBleGl0IGhlcmUsIGhlaWdodCBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWRcbiAgICAgICAgdmFyIHBhbmVsQXNwZWN0UmF0aW8gPSByb290LnF1ZXJ5KCdHRVRfUEFORUxfQVNQRUNUX1JBVElPJyk7XG4gICAgICAgIHZhciBpdGVtUGFuZWxBc3BlY3RSYXRpbyA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNX1BBTkVMX0FTUEVDVF9SQVRJTycpO1xuICAgICAgICB2YXIgZml4ZWRIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19IRUlHSFQnKTtcbiAgICAgICAgaWYgKHBhbmVsQXNwZWN0UmF0aW8gfHwgaXRlbVBhbmVsQXNwZWN0UmF0aW8gfHwgZml4ZWRIZWlnaHQpIHJldHVybjtcblxuICAgICAgICAvLyBubyBkYXRhIVxuICAgICAgICB2YXIgX3Jvb3QkcmVmID0gcm9vdC5yZWYsXG4gICAgICAgICAgaW1hZ2VXaWR0aCA9IF9yb290JHJlZi5pbWFnZVdpZHRoLFxuICAgICAgICAgIGltYWdlSGVpZ2h0ID0gX3Jvb3QkcmVmLmltYWdlSGVpZ2h0O1xuICAgICAgICBpZiAoIWltYWdlV2lkdGggfHwgIWltYWdlSGVpZ2h0KSByZXR1cm47XG5cbiAgICAgICAgLy8gZ2V0IGhlaWdodCBtaW4gYW5kIG1heFxuICAgICAgICB2YXIgbWluUHJldmlld0hlaWdodCA9IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX01JTl9IRUlHSFQnKTtcbiAgICAgICAgdmFyIG1heFByZXZpZXdIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfSU1BR0VfUFJFVklFV19NQVhfSEVJR0hUJyk7XG5cbiAgICAgICAgLy8gb3JpZW50YXRpb24gaW5mb1xuICAgICAgICB2YXIgZXhpZiA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ2V4aWYnKSB8fCB7fTtcbiAgICAgICAgdmFyIG9yaWVudGF0aW9uID0gZXhpZi5vcmllbnRhdGlvbiB8fCAtMTtcblxuICAgICAgICAvLyBnZXQgd2lkdGggYW5kIGhlaWdodCBmcm9tIGFjdGlvbiwgYW5kIHN3YXAgb2Ygb3JpZW50YXRpb24gaXMgaW5jb3JyZWN0XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA+PSA1ICYmIG9yaWVudGF0aW9uIDw9IDgpIHtcbiAgICAgICAgICB2YXIgX3JlZjIgPSBbaW1hZ2VIZWlnaHQsIGltYWdlV2lkdGhdO1xuICAgICAgICAgIGltYWdlV2lkdGggPSBfcmVmMlswXTtcbiAgICAgICAgICBpbWFnZUhlaWdodCA9IF9yZWYyWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2NhbGUgdXAgd2lkdGggYW5kIGhlaWdodCB3aGVuIHdlJ3JlIGRlYWxpbmcgd2l0aCBhbiBTVkdcbiAgICAgICAgaWYgKCFpc0JpdG1hcChpdGVtLmZpbGUpIHx8IHJvb3QucXVlcnkoJ0dFVF9JTUFHRV9QUkVWSUVXX1VQU0NBTEUnKSkge1xuICAgICAgICAgIHZhciBzY2FsYXIgPSAyMDQ4IC8gaW1hZ2VXaWR0aDtcbiAgICAgICAgICBpbWFnZVdpZHRoICo9IHNjYWxhcjtcbiAgICAgICAgICBpbWFnZUhlaWdodCAqPSBzY2FsYXI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbWFnZSBhc3BlY3QgcmF0aW9cbiAgICAgICAgdmFyIGltYWdlQXNwZWN0UmF0aW8gPSBpbWFnZUhlaWdodCAvIGltYWdlV2lkdGg7XG5cbiAgICAgICAgLy8gd2UgbmVlZCB0aGUgaXRlbSB0byBnZXQgdG8gdGhlIGNyb3Agc2l6ZVxuICAgICAgICB2YXIgcHJldmlld0FzcGVjdFJhdGlvID1cbiAgICAgICAgICAoaXRlbS5nZXRNZXRhZGF0YSgnY3JvcCcpIHx8IHt9KS5hc3BlY3RSYXRpbyB8fCBpbWFnZUFzcGVjdFJhdGlvO1xuXG4gICAgICAgIC8vIHByZXZpZXcgaGVpZ2h0IHJhbmdlXG4gICAgICAgIHZhciBwcmV2aWV3SGVpZ2h0TWF4ID0gTWF0aC5tYXgoXG4gICAgICAgICAgbWluUHJldmlld0hlaWdodCxcbiAgICAgICAgICBNYXRoLm1pbihpbWFnZUhlaWdodCwgbWF4UHJldmlld0hlaWdodClcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIGl0ZW1XaWR0aCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoO1xuICAgICAgICB2YXIgcHJldmlld0hlaWdodCA9IE1hdGgubWluKFxuICAgICAgICAgIGl0ZW1XaWR0aCAqIHByZXZpZXdBc3BlY3RSYXRpbyxcbiAgICAgICAgICBwcmV2aWV3SGVpZ2h0TWF4XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gcmVxdWVzdCB1cGRhdGUgdG8gcGFuZWwgaGVpZ2h0XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9VUERBVEVfUEFORUxfSEVJR0hUJywge1xuICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgIGhlaWdodDogcHJldmlld0hlaWdodFxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkaWRSZXNpemVWaWV3ID0gZnVuY3Rpb24gZGlkUmVzaXplVmlldyhfcmVmMykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3Q7XG4gICAgICAgIC8vIGFjdGlvbnMgaW4gbmV4dCB3cml0ZSBvcGVyYXRpb25cbiAgICAgICAgcm9vdC5yZWYuc2hvdWxkUmVzY2FsZSA9IHRydWU7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZGlkVXBkYXRlSXRlbU1ldGFkYXRhID0gZnVuY3Rpb24gZGlkVXBkYXRlSXRlbU1ldGFkYXRhKF9yZWY0KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjQucm9vdCxcbiAgICAgICAgICBhY3Rpb24gPSBfcmVmNC5hY3Rpb247XG5cbiAgICAgICAgaWYgKGFjdGlvbi5jaGFuZ2Uua2V5ICE9PSAnY3JvcCcpIHJldHVybjtcblxuICAgICAgICAvLyBhY3Rpb25zIGluIG5leHQgd3JpdGUgb3BlcmF0aW9uXG4gICAgICAgIHJvb3QucmVmLnNob3VsZFJlc2NhbGUgPSB0cnVlO1xuICAgICAgfTtcblxuICAgICAgdmFyIGRpZENhbGN1bGF0ZVByZXZpZXdTaXplID0gZnVuY3Rpb24gZGlkQ2FsY3VsYXRlUHJldmlld1NpemUoX3JlZjUpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICAgIGFjdGlvbiA9IF9yZWY1LmFjdGlvbjtcblxuICAgICAgICAvLyByZW1lbWJlciBkaW1lbnNpb25zXG4gICAgICAgIHJvb3QucmVmLmltYWdlV2lkdGggPSBhY3Rpb24ud2lkdGg7XG4gICAgICAgIHJvb3QucmVmLmltYWdlSGVpZ2h0ID0gYWN0aW9uLmhlaWdodDtcblxuICAgICAgICAvLyBhY3Rpb25zIGluIG5leHQgd3JpdGUgb3BlcmF0aW9uXG4gICAgICAgIHJvb3QucmVmLnNob3VsZFJlc2NhbGUgPSB0cnVlO1xuICAgICAgICByb290LnJlZi5zaG91bGREcmF3UHJldmlldyA9IHRydWU7XG5cbiAgICAgICAgLy8gYXMgaW1hZ2UgbG9hZCBjb3VsZCB0YWtlIGEgd2hpbGUgYW5kIGZpcmUgd2hlbiBkcmF3IGxvb3AgaXMgcmVzdGluZyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSBraWNrXG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0tJQ0snKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIHN0YXJ0IHdyaXRpbmdcbiAgICAgIHZpZXcucmVnaXN0ZXJXcml0ZXIoXG4gICAgICAgIGNyZWF0ZVJvdXRlKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIERJRF9SRVNJWkVfUk9PVDogZGlkUmVzaXplVmlldyxcbiAgICAgICAgICAgIERJRF9TVE9QX1JFU0laRTogZGlkUmVzaXplVmlldyxcbiAgICAgICAgICAgIERJRF9MT0FEX0lURU06IGRpZExvYWRJdGVtLFxuICAgICAgICAgICAgRElEX0lNQUdFX1BSRVZJRVdfQ0FMQ1VMQVRFX1NJWkU6IGRpZENhbGN1bGF0ZVByZXZpZXdTaXplLFxuICAgICAgICAgICAgRElEX1VQREFURV9JVEVNX01FVEFEQVRBOiBkaWRVcGRhdGVJdGVtTWV0YWRhdGFcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uKF9yZWY2KSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWY2LnJvb3QsXG4gICAgICAgICAgICAgIHByb3BzID0gX3JlZjYucHJvcHM7XG5cbiAgICAgICAgICAgIC8vIG5vIHByZXZpZXcgdmlldyBhdHRhY2hlZFxuICAgICAgICAgICAgaWYgKCFyb290LnJlZi5pbWFnZVByZXZpZXcpIHJldHVybjtcblxuICAgICAgICAgICAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgd2hpbGUgaGlkZGVuXG4gICAgICAgICAgICBpZiAocm9vdC5yZWN0LmVsZW1lbnQuaGlkZGVuKSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIHJlc2l6ZSB0aGUgaXRlbSBwYW5lbFxuICAgICAgICAgICAgaWYgKHJvb3QucmVmLnNob3VsZFJlc2NhbGUpIHtcbiAgICAgICAgICAgICAgcmVzY2FsZUl0ZW0ocm9vdCwgcHJvcHMpO1xuICAgICAgICAgICAgICByb290LnJlZi5zaG91bGRSZXNjYWxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyb290LnJlZi5zaG91bGREcmF3UHJldmlldykge1xuICAgICAgICAgICAgICAvLyBxdWV1ZSB0aWxsIG5leHQgZnJhbWUgc28gd2UncmUgc3VyZSB0aGUgaGVpZ2h0IGhhcyBiZWVuIGFwcGxpZWQgdGhpcyBmb3JjZXMgdGhlIGRyYXcgaW1hZ2UgY2FsbCBpbnNpZGUgdGhlIHdyYXBwZXIgdmlldyB0byB1c2UgdGhlIGNvcnJlY3QgaGVpZ2h0XG4gICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfRklOSVNIX0NBTENVTEFURV9QUkVWSUVXU0laRScsIHtcbiAgICAgICAgICAgICAgICAgIGlkOiBwcm9wcy5pZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcm9vdC5yZWYuc2hvdWxkRHJhd1ByZXZpZXcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICAvLyBleHBvc2UgcGx1Z2luXG4gICAgcmV0dXJuIHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgLy8gRW5hYmxlIG9yIGRpc2FibGUgaW1hZ2UgcHJldmlld1xuICAgICAgICBhbGxvd0ltYWdlUHJldmlldzogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgICAgLy8gZmlsdGVycyBmaWxlIGl0ZW1zIHRvIGRldGVybWluZSB3aGljaCBhcmUgc2hvd24gYXMgcHJldmlld1xuICAgICAgICBpbWFnZVByZXZpZXdGaWx0ZXJJdGVtOiBbXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIFR5cGUuRlVOQ1RJT05cbiAgICAgICAgXSxcblxuICAgICAgICAvLyBGaXhlZCBwcmV2aWV3IGhlaWdodFxuICAgICAgICBpbWFnZVByZXZpZXdIZWlnaHQ6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gTWluIGltYWdlIGhlaWdodFxuICAgICAgICBpbWFnZVByZXZpZXdNaW5IZWlnaHQ6IFs0NCwgVHlwZS5JTlRdLFxuXG4gICAgICAgIC8vIE1heCBpbWFnZSBoZWlnaHRcbiAgICAgICAgaW1hZ2VQcmV2aWV3TWF4SGVpZ2h0OiBbMjU2LCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gTWF4IHNpemUgb2YgcHJldmlldyBmaWxlIGZvciB3aGVuIGNyZWF0ZUltYWdlQml0bWFwIGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgaW1hZ2VQcmV2aWV3TWF4RmlsZVNpemU6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gVGhlIGFtb3VudCBvZiBleHRyYSBwaXhlbHMgYWRkZWQgdG8gdGhlIGltYWdlIHByZXZpZXcgdG8gYWxsb3cgY29tZm9ydGFibGUgem9vbWluZ1xuICAgICAgICBpbWFnZVByZXZpZXdab29tRmFjdG9yOiBbMiwgVHlwZS5JTlRdLFxuXG4gICAgICAgIC8vIFNob3VsZCB3ZSB1cHNjYWxlIHNtYWxsIGltYWdlcyB0byBmaXQgdGhlIG1heCBib3VuZGluZyBib3ggb2YgdGhlIHByZXZpZXcgYXJlYVxuICAgICAgICBpbWFnZVByZXZpZXdVcHNjYWxlOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgICAgLy8gTWF4IHNpemUgb2YgcHJldmlldyBmaWxlIHRoYXQgd2UgYWxsb3cgdG8gdHJ5IHRvIGluc3RhbnQgcHJldmlldyBpZiBjcmVhdGVJbWFnZUJpdG1hcCBpcyBub3Qgc3VwcG9ydGVkLCBlbHNlIGltYWdlIGlzIHF1ZXVlZCBmb3IgbG9hZGluZ1xuICAgICAgICBpbWFnZVByZXZpZXdNYXhJbnN0YW50UHJldmlld0ZpbGVTaXplOiBbMTAwMDAwMCwgVHlwZS5JTlRdLFxuXG4gICAgICAgIC8vIFN0eWxlIG9mIHRoZSB0cmFuc3BhcmFuY3kgaW5kaWNhdG9yIHVzZWQgYmVoaW5kIGltYWdlc1xuICAgICAgICBpbWFnZVByZXZpZXdUcmFuc3BhcmVuY3lJbmRpY2F0b3I6IFtudWxsLCBUeXBlLlNUUklOR10sXG5cbiAgICAgICAgLy8gRW5hYmxlcyBvciBkaXNhYmxlcyByZWFkaW5nIGF2ZXJhZ2UgaW1hZ2UgY29sb3JcbiAgICAgICAgaW1hZ2VQcmV2aWV3Q2FsY3VsYXRlQXZlcmFnZUltYWdlQ29sb3I6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBFbmFibGVzIG9yIGRpc2FibGVzIHRoZSBwcmV2aWV3aW5nIG9mIG1hcmt1cFxuICAgICAgICBpbWFnZVByZXZpZXdNYXJrdXBTaG93OiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBBbGxvd3MgZmlsdGVyaW5nIG9mIG1hcmt1cCB0byBvbmx5IHNob3cgY2VydGFpbiBzaGFwZXNcbiAgICAgICAgaW1hZ2VQcmV2aWV3TWFya3VwRmlsdGVyOiBbXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIFR5cGUuRlVOQ1RJT05cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gZmlyZSBwbHVnaW5sb2FkZWQgZXZlbnQgaWYgcnVubmluZyBpbiBicm93c2VyLCB0aGlzIGFsbG93cyByZWdpc3RlcmluZyB0aGUgcGx1Z2luIHdoZW4gdXNpbmcgYXN5bmMgc2NyaXB0IHRhZ3NcbiAgdmFyIGlzQnJvd3NlciA9XG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDpwbHVnaW5sb2FkZWQnLCB7IGRldGFpbDogcGx1Z2luIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBwbHVnaW47XG59KTtcbiIsIi8qIVxuICogRmlsZVBvbmRQbHVnaW5GaWxlVmFsaWRhdGVUeXBlIDEuMi41XG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmQvIGZvciBkZXRhaWxzLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbihmdW5jdGlvbihnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnXG4gICAgPyAobW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkpXG4gICAgOiB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWRcbiAgICA/IGRlZmluZShmYWN0b3J5KVxuICAgIDogKChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiksXG4gICAgICAoZ2xvYmFsLkZpbGVQb25kUGx1Z2luRmlsZVZhbGlkYXRlVHlwZSA9IGZhY3RvcnkoKSkpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgcGx1Z2luID0gZnVuY3Rpb24gcGx1Z2luKF9yZWYpIHtcbiAgICB2YXIgYWRkRmlsdGVyID0gX3JlZi5hZGRGaWx0ZXIsXG4gICAgICB1dGlscyA9IF9yZWYudXRpbHM7XG4gICAgLy8gZ2V0IHF1aWNrIHJlZmVyZW5jZSB0byBUeXBlIHV0aWxzXG4gICAgdmFyIFR5cGUgPSB1dGlscy5UeXBlLFxuICAgICAgaXNTdHJpbmcgPSB1dGlscy5pc1N0cmluZyxcbiAgICAgIHJlcGxhY2VJblN0cmluZyA9IHV0aWxzLnJlcGxhY2VJblN0cmluZyxcbiAgICAgIGd1ZXNzdGltYXRlTWltZVR5cGUgPSB1dGlscy5ndWVzc3RpbWF0ZU1pbWVUeXBlLFxuICAgICAgZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lID0gdXRpbHMuZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lLFxuICAgICAgZ2V0RmlsZW5hbWVGcm9tVVJMID0gdXRpbHMuZ2V0RmlsZW5hbWVGcm9tVVJMO1xuXG4gICAgdmFyIG1pbWVUeXBlTWF0Y2hlc1dpbGRDYXJkID0gZnVuY3Rpb24gbWltZVR5cGVNYXRjaGVzV2lsZENhcmQoXG4gICAgICBtaW1lVHlwZSxcbiAgICAgIHdpbGRjYXJkXG4gICAgKSB7XG4gICAgICB2YXIgbWltZVR5cGVHcm91cCA9ICgvXlteL10rLy5leGVjKG1pbWVUeXBlKSB8fCBbXSkucG9wKCk7IC8vIGltYWdlL3BuZyAtPiBpbWFnZVxuICAgICAgdmFyIHdpbGRjYXJkR3JvdXAgPSB3aWxkY2FyZC5zbGljZSgwLCAtMik7IC8vIGltYWdlLyogLT4gaW1hZ2VcbiAgICAgIHJldHVybiBtaW1lVHlwZUdyb3VwID09PSB3aWxkY2FyZEdyb3VwO1xuICAgIH07XG5cbiAgICB2YXIgaXNWYWxpZE1pbWVUeXBlID0gZnVuY3Rpb24gaXNWYWxpZE1pbWVUeXBlKFxuICAgICAgYWNjZXB0ZWRUeXBlcyxcbiAgICAgIHVzZXJJbnB1dFR5cGVcbiAgICApIHtcbiAgICAgIHJldHVybiBhY2NlcHRlZFR5cGVzLnNvbWUoZnVuY3Rpb24oYWNjZXB0ZWRUeXBlKSB7XG4gICAgICAgIC8vIGFjY2VwdGVkIGlzIHdpbGRjYXJkIG1pbWUgdHlwZVxuICAgICAgICBpZiAoL1xcKiQvLnRlc3QoYWNjZXB0ZWRUeXBlKSkge1xuICAgICAgICAgIHJldHVybiBtaW1lVHlwZU1hdGNoZXNXaWxkQ2FyZCh1c2VySW5wdXRUeXBlLCBhY2NlcHRlZFR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXMgbm9ybWFsIG1pbWUgdHlwZVxuICAgICAgICByZXR1cm4gYWNjZXB0ZWRUeXBlID09PSB1c2VySW5wdXRUeXBlO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRJdGVtVHlwZSA9IGZ1bmN0aW9uIGdldEl0ZW1UeXBlKGl0ZW0pIHtcbiAgICAgIC8vIGlmIHRoZSBpdGVtIGlzIGEgdXJsIHdlIGd1ZXNzIHRoZSBtaW1lIHR5cGUgYnkgdGhlIGV4dGVuc2lvblxuICAgICAgdmFyIHR5cGUgPSAnJztcbiAgICAgIGlmIChpc1N0cmluZyhpdGVtKSkge1xuICAgICAgICB2YXIgZmlsZW5hbWUgPSBnZXRGaWxlbmFtZUZyb21VUkwoaXRlbSk7XG4gICAgICAgIHZhciBleHRlbnNpb24gPSBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUoZmlsZW5hbWUpO1xuICAgICAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgdHlwZSA9IGd1ZXNzdGltYXRlTWltZVR5cGUoZXh0ZW5zaW9uKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHlwZSA9IGl0ZW0udHlwZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfTtcblxuICAgIHZhciB2YWxpZGF0ZUZpbGUgPSBmdW5jdGlvbiB2YWxpZGF0ZUZpbGUoXG4gICAgICBpdGVtLFxuICAgICAgYWNjZXB0ZWRGaWxlVHlwZXMsXG4gICAgICB0eXBlRGV0ZWN0b3JcbiAgICApIHtcbiAgICAgIC8vIG5vIHR5cGVzIGRlZmluZWQsIGV2ZXJ5dGhpbmcgaXMgYWxsb3dlZCBcXG8vXG4gICAgICBpZiAoYWNjZXB0ZWRGaWxlVHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBnZXRzIHRoZSBpdGVtIHR5cGVcbiAgICAgIHZhciB0eXBlID0gZ2V0SXRlbVR5cGUoaXRlbSk7XG5cbiAgICAgIC8vIG5vIHR5cGUgZGV0ZWN0b3IsIHRlc3Qgbm93XG4gICAgICBpZiAoIXR5cGVEZXRlY3Rvcikge1xuICAgICAgICByZXR1cm4gaXNWYWxpZE1pbWVUeXBlKGFjY2VwdGVkRmlsZVR5cGVzLCB0eXBlKTtcbiAgICAgIH1cblxuICAgICAgLy8gdXNlIHR5cGUgZGV0ZWN0b3JcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdHlwZURldGVjdG9yKGl0ZW0sIHR5cGUpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGV0ZWN0ZWRUeXBlKSB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZE1pbWVUeXBlKGFjY2VwdGVkRmlsZVR5cGVzLCBkZXRlY3RlZFR5cGUpKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGFwcGx5TWltZVR5cGVNYXAgPSBmdW5jdGlvbiBhcHBseU1pbWVUeXBlTWFwKG1hcCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGFjY2VwdGVkRmlsZVR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG1hcFthY2NlcHRlZEZpbGVUeXBlXSA9PT0gbnVsbFxuICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICA6IG1hcFthY2NlcHRlZEZpbGVUeXBlXSB8fCBhY2NlcHRlZEZpbGVUeXBlO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gc2V0dXAgYXR0cmlidXRlIG1hcHBpbmcgZm9yIGFjY2VwdFxuICAgIGFkZEZpbHRlcignU0VUX0FUVFJJQlVURV9UT19PUFRJT05fTUFQJywgZnVuY3Rpb24obWFwKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihtYXAsIHtcbiAgICAgICAgYWNjZXB0OiAnYWNjZXB0ZWRGaWxlVHlwZXMnXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIGZpbHRlcmluZyBpZiBhbiBpdGVtIGlzIGFsbG93ZWQgaW4gaG9wcGVyXG4gICAgYWRkRmlsdGVyKCdBTExPV19IT1BQRVJfSVRFTScsIGZ1bmN0aW9uKGZpbGUsIF9yZWYyKSB7XG4gICAgICB2YXIgcXVlcnkgPSBfcmVmMi5xdWVyeTtcbiAgICAgIC8vIGlmIHdlIGFyZSBub3QgZG9pbmcgZmlsZSB0eXBlIHZhbGlkYXRpb24gZXhpdFxuICAgICAgaWYgKCFxdWVyeSgnR0VUX0FMTE9XX0ZJTEVfVFlQRV9WQUxJREFUSU9OJykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIHZhbGlkYXRlIHRoZSBmaWxlIGFnYWluc3QgdGhlIGFjY2VwdGVkIGZpbGUgdHlwZXNcbiAgICAgIHJldHVybiB2YWxpZGF0ZUZpbGUoZmlsZSwgcXVlcnkoJ0dFVF9BQ0NFUFRFRF9GSUxFX1RZUEVTJykpO1xuICAgIH0pO1xuXG4gICAgLy8gY2FsbGVkIGZvciBlYWNoIGZpbGUgdGhhdCBpcyBsb2FkZWRcbiAgICAvLyByaWdodCBiZWZvcmUgaXQgaXMgc2V0IHRvIHRoZSBpdGVtIHN0YXRlXG4gICAgLy8gc2hvdWxkIHJldHVybiBhIHByb21pc2VcbiAgICBhZGRGaWx0ZXIoJ0xPQURfRklMRScsIGZ1bmN0aW9uKGZpbGUsIF9yZWYzKSB7XG4gICAgICB2YXIgcXVlcnkgPSBfcmVmMy5xdWVyeTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgaWYgKCFxdWVyeSgnR0VUX0FMTE9XX0ZJTEVfVFlQRV9WQUxJREFUSU9OJykpIHtcbiAgICAgICAgICByZXNvbHZlKGZpbGUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhY2NlcHRlZEZpbGVUeXBlcyA9IHF1ZXJ5KCdHRVRfQUNDRVBURURfRklMRV9UWVBFUycpO1xuXG4gICAgICAgIC8vIGN1c3RvbSB0eXBlIGRldGVjdG9yIG1ldGhvZFxuICAgICAgICB2YXIgdHlwZURldGVjdG9yID0gcXVlcnkoJ0dFVF9GSUxFX1ZBTElEQVRFX1RZUEVfREVURUNUX1RZUEUnKTtcblxuICAgICAgICAvLyBpZiBpbnZhbGlkLCBleGl0IGhlcmVcbiAgICAgICAgdmFyIHZhbGlkYXRpb25SZXN1bHQgPSB2YWxpZGF0ZUZpbGUoXG4gICAgICAgICAgZmlsZSxcbiAgICAgICAgICBhY2NlcHRlZEZpbGVUeXBlcyxcbiAgICAgICAgICB0eXBlRGV0ZWN0b3JcbiAgICAgICAgKTtcblxuICAgICAgICB2YXIgaGFuZGxlUmVqZWN0aW9uID0gZnVuY3Rpb24gaGFuZGxlUmVqZWN0aW9uKCkge1xuICAgICAgICAgIHZhciBhY2NlcHRlZEZpbGVUeXBlc01hcHBlZCA9IGFjY2VwdGVkRmlsZVR5cGVzXG4gICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICBhcHBseU1pbWVUeXBlTWFwKFxuICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRklMRV9WQUxJREFURV9UWVBFX0xBQkVMX0VYUEVDVEVEX1RZUEVTX01BUCcpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24obGFiZWwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGxhYmVsICE9PSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICBtYWluOiBxdWVyeSgnR0VUX0xBQkVMX0ZJTEVfVFlQRV9OT1RfQUxMT1dFRCcpLFxuICAgICAgICAgICAgICBzdWI6IHJlcGxhY2VJblN0cmluZyhcbiAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZJTEVfVkFMSURBVEVfVFlQRV9MQUJFTF9FWFBFQ1RFRF9UWVBFUycpLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGFsbFR5cGVzOiBhY2NlcHRlZEZpbGVUeXBlc01hcHBlZC5qb2luKCcsICcpLFxuICAgICAgICAgICAgICAgICAgYWxsQnV0TGFzdFR5cGU6IGFjY2VwdGVkRmlsZVR5cGVzTWFwcGVkXG4gICAgICAgICAgICAgICAgICAgIC5zbGljZSgwLCAtMSlcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJywgJyksXG4gICAgICAgICAgICAgICAgICBsYXN0VHlwZTpcbiAgICAgICAgICAgICAgICAgICAgYWNjZXB0ZWRGaWxlVHlwZXNNYXBwZWRbYWNjZXB0ZWRGaWxlVHlwZXNNYXBwZWQubGVuZ3RoIC0gMV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBoYXMgcmV0dXJuZWQgbmV3IGZpbGVuYW1lIGltbWlkaWF0ZWx5XG4gICAgICAgIGlmICh0eXBlb2YgdmFsaWRhdGlvblJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlUmVqZWN0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNvbHZlKGZpbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaXMgcHJvbWlzZVxuICAgICAgICB2YWxpZGF0aW9uUmVzdWx0XG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXNvbHZlKGZpbGUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGhhbmRsZVJlamVjdGlvbik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIGV4cG9zZSBwbHVnaW5cbiAgICByZXR1cm4ge1xuICAgICAgLy8gZGVmYXVsdCBvcHRpb25zXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIC8vIEVuYWJsZSBvciBkaXNhYmxlIGZpbGUgdHlwZSB2YWxpZGF0aW9uXG4gICAgICAgIGFsbG93RmlsZVR5cGVWYWxpZGF0aW9uOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBXaGF0IGZpbGUgdHlwZXMgdG8gYWNjZXB0XG4gICAgICAgIGFjY2VwdGVkRmlsZVR5cGVzOiBbW10sIFR5cGUuQVJSQVldLFxuICAgICAgICAvLyAtIG11c3QgYmUgY29tbWEgc2VwYXJhdGVkXG4gICAgICAgIC8vIC0gbWltZSB0eXBlczogaW1hZ2UvcG5nLCBpbWFnZS9qcGVnLCBpbWFnZS9naWZcbiAgICAgICAgLy8gLSBleHRlbnNpb25zOiAucG5nLCAuanBnLCAuanBlZyAoIG5vdCBlbmFibGVkIHlldCApXG4gICAgICAgIC8vIC0gd2lsZGNhcmRzOiBpbWFnZS8qXG5cbiAgICAgICAgLy8gbGFiZWwgdG8gc2hvdyB3aGVuIGEgdHlwZSBpcyBub3QgYWxsb3dlZFxuICAgICAgICBsYWJlbEZpbGVUeXBlTm90QWxsb3dlZDogWydGaWxlIGlzIG9mIGludmFsaWQgdHlwZScsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICAvLyBuaWNlciBsYWJlbFxuICAgICAgICBmaWxlVmFsaWRhdGVUeXBlTGFiZWxFeHBlY3RlZFR5cGVzOiBbXG4gICAgICAgICAgJ0V4cGVjdHMge2FsbEJ1dExhc3RUeXBlfSBvciB7bGFzdFR5cGV9JyxcbiAgICAgICAgICBUeXBlLlNUUklOR1xuICAgICAgICBdLFxuXG4gICAgICAgIC8vIG1hcCBtaW1lIHR5cGVzIHRvIGV4dGVuc2lvbnNcbiAgICAgICAgZmlsZVZhbGlkYXRlVHlwZUxhYmVsRXhwZWN0ZWRUeXBlc01hcDogW3t9LCBUeXBlLk9CSkVDVF0sXG5cbiAgICAgICAgLy8gQ3VzdG9tIGZ1bmN0aW9uIHRvIGRldGVjdCB0eXBlIG9mIGZpbGVcbiAgICAgICAgZmlsZVZhbGlkYXRlVHlwZURldGVjdFR5cGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXVxuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gZmlyZSBwbHVnaW5sb2FkZWQgZXZlbnQgaWYgcnVubmluZyBpbiBicm93c2VyLCB0aGlzIGFsbG93cyByZWdpc3RlcmluZyB0aGUgcGx1Z2luIHdoZW4gdXNpbmcgYXN5bmMgc2NyaXB0IHRhZ3NcbiAgdmFyIGlzQnJvd3NlciA9XG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDpwbHVnaW5sb2FkZWQnLCB7IGRldGFpbDogcGx1Z2luIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBwbHVnaW47XG59KTtcbiIsIi8qIVxuICogRmlsZVBvbmRQbHVnaW5GaWxlVmFsaWRhdGVTaXplIDIuMi4xXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQsIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUL1xuICogUGxlYXNlIHZpc2l0IGh0dHBzOi8vcHFpbmEubmwvZmlsZXBvbmQvIGZvciBkZXRhaWxzLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbihmdW5jdGlvbihnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnXG4gICAgPyAobW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkpXG4gICAgOiB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWRcbiAgICA/IGRlZmluZShmYWN0b3J5KVxuICAgIDogKChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiksXG4gICAgICAoZ2xvYmFsLkZpbGVQb25kUGx1Z2luRmlsZVZhbGlkYXRlU2l6ZSA9IGZhY3RvcnkoKSkpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgcGx1Z2luID0gZnVuY3Rpb24gcGx1Z2luKF9yZWYpIHtcbiAgICB2YXIgYWRkRmlsdGVyID0gX3JlZi5hZGRGaWx0ZXIsXG4gICAgICB1dGlscyA9IF9yZWYudXRpbHM7XG4gICAgLy8gZ2V0IHF1aWNrIHJlZmVyZW5jZSB0byBUeXBlIHV0aWxzXG4gICAgdmFyIFR5cGUgPSB1dGlscy5UeXBlLFxuICAgICAgcmVwbGFjZUluU3RyaW5nID0gdXRpbHMucmVwbGFjZUluU3RyaW5nLFxuICAgICAgdG9OYXR1cmFsRmlsZVNpemUgPSB1dGlscy50b05hdHVyYWxGaWxlU2l6ZTtcblxuICAgIC8vIGZpbHRlcmluZyBpZiBhbiBpdGVtIGlzIGFsbG93ZWQgaW4gaG9wcGVyXG4gICAgYWRkRmlsdGVyKCdBTExPV19IT1BQRVJfSVRFTScsIGZ1bmN0aW9uKGZpbGUsIF9yZWYyKSB7XG4gICAgICB2YXIgcXVlcnkgPSBfcmVmMi5xdWVyeTtcbiAgICAgIGlmICghcXVlcnkoJ0dFVF9BTExPV19GSUxFX1NJWkVfVkFMSURBVElPTicpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2l6ZU1heCA9IHF1ZXJ5KCdHRVRfTUFYX0ZJTEVfU0laRScpO1xuICAgICAgaWYgKHNpemVNYXggIT09IG51bGwgJiYgZmlsZS5zaXplID49IHNpemVNYXgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2l6ZU1pbiA9IHF1ZXJ5KCdHRVRfTUlOX0ZJTEVfU0laRScpO1xuICAgICAgaWYgKHNpemVNaW4gIT09IG51bGwgJiYgZmlsZS5zaXplIDw9IHNpemVNaW4pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIC8vIGNhbGxlZCBmb3IgZWFjaCBmaWxlIHRoYXQgaXMgbG9hZGVkXG4gICAgLy8gcmlnaHQgYmVmb3JlIGl0IGlzIHNldCB0byB0aGUgaXRlbSBzdGF0ZVxuICAgIC8vIHNob3VsZCByZXR1cm4gYSBwcm9taXNlXG4gICAgYWRkRmlsdGVyKCdMT0FEX0ZJTEUnLCBmdW5jdGlvbihmaWxlLCBfcmVmMykge1xuICAgICAgdmFyIHF1ZXJ5ID0gX3JlZjMucXVlcnk7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vIGlmIG5vdCBhbGxvd2VkLCBhbGwgZmluZSwgZXhpdFxuICAgICAgICBpZiAoIXF1ZXJ5KCdHRVRfQUxMT1dfRklMRV9TSVpFX1ZBTElEQVRJT04nKSkge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKGZpbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgZmlsZSBzaG91bGQgYmUgZmlsdGVyZWRcbiAgICAgICAgdmFyIGZpbGVGaWx0ZXIgPSBxdWVyeSgnR0VUX0ZJTEVfVkFMSURBVEVfU0laRV9GSUxURVInKTtcbiAgICAgICAgaWYgKGZpbGVGaWx0ZXIgJiYgIWZpbGVGaWx0ZXIoZmlsZSkpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmaWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlamVjdCBvciByZXNvbHZlIGJhc2VkIG9uIGZpbGUgc2l6ZVxuICAgICAgICB2YXIgc2l6ZU1heCA9IHF1ZXJ5KCdHRVRfTUFYX0ZJTEVfU0laRScpO1xuICAgICAgICBpZiAoc2l6ZU1heCAhPT0gbnVsbCAmJiBmaWxlLnNpemUgPj0gc2l6ZU1heCkge1xuICAgICAgICAgIHJlamVjdCh7XG4gICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgbWFpbjogcXVlcnkoJ0dFVF9MQUJFTF9NQVhfRklMRV9TSVpFX0VYQ0VFREVEJyksXG4gICAgICAgICAgICAgIHN1YjogcmVwbGFjZUluU3RyaW5nKHF1ZXJ5KCdHRVRfTEFCRUxfTUFYX0ZJTEVfU0laRScpLCB7XG4gICAgICAgICAgICAgICAgZmlsZXNpemU6IHRvTmF0dXJhbEZpbGVTaXplKHNpemVNYXgpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZWplY3Qgb3IgcmVzb2x2ZSBiYXNlZCBvbiBmaWxlIHNpemVcbiAgICAgICAgdmFyIHNpemVNaW4gPSBxdWVyeSgnR0VUX01JTl9GSUxFX1NJWkUnKTtcbiAgICAgICAgaWYgKHNpemVNaW4gIT09IG51bGwgJiYgZmlsZS5zaXplIDw9IHNpemVNaW4pIHtcbiAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgIG1haW46IHF1ZXJ5KCdHRVRfTEFCRUxfTUlOX0ZJTEVfU0laRV9FWENFRURFRCcpLFxuICAgICAgICAgICAgICBzdWI6IHJlcGxhY2VJblN0cmluZyhxdWVyeSgnR0VUX0xBQkVMX01JTl9GSUxFX1NJWkUnKSwge1xuICAgICAgICAgICAgICAgIGZpbGVzaXplOiB0b05hdHVyYWxGaWxlU2l6ZShzaXplTWluKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmV0dXJucyB0aGUgY3VycmVudCBvcHRpb24gdmFsdWVcbiAgICAgICAgdmFyIHRvdGFsU2l6ZU1heCA9IHF1ZXJ5KCdHRVRfTUFYX1RPVEFMX0ZJTEVfU0laRScpO1xuICAgICAgICBpZiAodG90YWxTaXplTWF4ICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gZ2V0IHRoZSBjdXJyZW50IHRvdGFsIGZpbGUgc2l6ZVxuICAgICAgICAgIHZhciBjdXJyZW50VG90YWxTaXplID0gcXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKS5yZWR1Y2UoZnVuY3Rpb24oXG4gICAgICAgICAgICB0b3RhbCxcbiAgICAgICAgICAgIGl0ZW1cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB0b3RhbCArIGl0ZW0uZmlsZVNpemU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAwKTtcblxuICAgICAgICAgIC8vIGdldCB0aGUgc2l6ZSBvZiB0aGUgbmV3IGZpbGVcbiAgICAgICAgICBpZiAoY3VycmVudFRvdGFsU2l6ZSA+IHRvdGFsU2l6ZU1heCkge1xuICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgbWFpbjogcXVlcnkoJ0dFVF9MQUJFTF9NQVhfVE9UQUxfRklMRV9TSVpFX0VYQ0VFREVEJyksXG5cbiAgICAgICAgICAgICAgICBzdWI6IHJlcGxhY2VJblN0cmluZyhxdWVyeSgnR0VUX0xBQkVMX01BWF9UT1RBTF9GSUxFX1NJWkUnKSwge1xuICAgICAgICAgICAgICAgICAgZmlsZXNpemU6IHRvTmF0dXJhbEZpbGVTaXplKHRvdGFsU2l6ZU1heClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbGUgaXMgZmluZSwgbGV0J3MgcGFzcyBpdCBiYWNrXG4gICAgICAgIHJlc29sdmUoZmlsZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIC8vIEVuYWJsZSBvciBkaXNhYmxlIGZpbGUgdHlwZSB2YWxpZGF0aW9uXG4gICAgICAgIGFsbG93RmlsZVNpemVWYWxpZGF0aW9uOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBNYXggaW5kaXZpZHVhbCBmaWxlIHNpemUgaW4gYnl0ZXNcbiAgICAgICAgbWF4RmlsZVNpemU6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gTWluIGluZGl2aWR1YWwgZmlsZSBzaXplIGluIGJ5dGVzXG4gICAgICAgIG1pbkZpbGVTaXplOiBbbnVsbCwgVHlwZS5JTlRdLFxuXG4gICAgICAgIC8vIE1heCB0b3RhbCBmaWxlIHNpemUgaW4gYnl0ZXNcbiAgICAgICAgbWF4VG90YWxGaWxlU2l6ZTogW251bGwsIFR5cGUuSU5UXSxcblxuICAgICAgICAvLyBGaWx0ZXIgdGhlIGZpbGVzIHRoYXQgbmVlZCB0byBiZSB2YWxpZGF0ZWQgZm9yIHNpemVcbiAgICAgICAgZmlsZVZhbGlkYXRlU2l6ZUZpbHRlcjogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuXG4gICAgICAgIC8vIGVycm9yIGxhYmVsc1xuICAgICAgICBsYWJlbE1pbkZpbGVTaXplRXhjZWVkZWQ6IFsnRmlsZSBpcyB0b28gc21hbGwnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsTWluRmlsZVNpemU6IFsnTWluaW11bSBmaWxlIHNpemUgaXMge2ZpbGVzaXplfScsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICBsYWJlbE1heEZpbGVTaXplRXhjZWVkZWQ6IFsnRmlsZSBpcyB0b28gbGFyZ2UnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsTWF4RmlsZVNpemU6IFsnTWF4aW11bSBmaWxlIHNpemUgaXMge2ZpbGVzaXplfScsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICBsYWJlbE1heFRvdGFsRmlsZVNpemVFeGNlZWRlZDogW1xuICAgICAgICAgICdNYXhpbXVtIHRvdGFsIHNpemUgZXhjZWVkZWQnLFxuICAgICAgICAgIFR5cGUuU1RSSU5HXG4gICAgICAgIF0sXG5cbiAgICAgICAgbGFiZWxNYXhUb3RhbEZpbGVTaXplOiBbXG4gICAgICAgICAgJ01heGltdW0gdG90YWwgZmlsZSBzaXplIGlzIHtmaWxlc2l6ZX0nLFxuICAgICAgICAgIFR5cGUuU1RSSU5HXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIGZpcmUgcGx1Z2lubG9hZGVkIGV2ZW50IGlmIHJ1bm5pbmcgaW4gYnJvd3NlciwgdGhpcyBhbGxvd3MgcmVnaXN0ZXJpbmcgdGhlIHBsdWdpbiB3aGVuIHVzaW5nIGFzeW5jIHNjcmlwdCB0YWdzXG4gIHZhciBpc0Jyb3dzZXIgPVxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuICBpZiAoaXNCcm93c2VyKSB7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBDdXN0b21FdmVudCgnRmlsZVBvbmQ6cGx1Z2lubG9hZGVkJywgeyBkZXRhaWw6IHBsdWdpbiB9KVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gcGx1Z2luO1xufSk7XG4iLCIvKiFcbiAqIEZpbGVQb25kUGx1Z2luRmlsZVBvc3RlciAyLjQuMVxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cbiAqIFBsZWFzZSB2aXNpdCBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kLyBmb3IgZGV0YWlscy5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4oZnVuY3Rpb24oZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJ1xuICAgID8gKG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpKVxuICAgIDogdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kXG4gICAgPyBkZWZpbmUoZmFjdG9yeSlcbiAgICA6ICgoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYpLFxuICAgICAgKGdsb2JhbC5GaWxlUG9uZFBsdWdpbkZpbGVQb3N0ZXIgPSBmYWN0b3J5KCkpKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyA9IHtcbiAgICB0eXBlOiAnc3ByaW5nJyxcbiAgICBzdGlmZm5lc3M6IDAuNSxcbiAgICBkYW1waW5nOiAwLjQ1LFxuICAgIG1hc3M6IDEwXG4gIH07XG5cbiAgdmFyIGNyZWF0ZVBvc3RlclZpZXcgPSBmdW5jdGlvbiBjcmVhdGVQb3N0ZXJWaWV3KF8pIHtcbiAgICByZXR1cm4gXy51dGlscy5jcmVhdGVWaWV3KHtcbiAgICAgIG5hbWU6ICdmaWxlLXBvc3RlcicsXG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3Q7XG4gICAgICAgIHJvb3QucmVmLmltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIHJvb3QuZWxlbWVudC5hcHBlbmRDaGlsZChyb290LnJlZi5pbWFnZSk7XG4gICAgICB9LFxuICAgICAgd3JpdGU6IF8udXRpbHMuY3JlYXRlUm91dGUoe1xuICAgICAgICBESURfRklMRV9QT1NURVJfTE9BRDogZnVuY3Rpb24gRElEX0ZJTEVfUE9TVEVSX0xPQUQoX3JlZjIpIHtcbiAgICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWYyLnByb3BzO1xuICAgICAgICAgIHZhciBpZCA9IHByb3BzLmlkO1xuXG4gICAgICAgICAgLy8gZ2V0IGl0ZW1cbiAgICAgICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZDogcHJvcHMuaWQgfSk7XG4gICAgICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG5cbiAgICAgICAgICAvLyBnZXQgcG9zdGVyXG4gICAgICAgICAgdmFyIHBvc3RlciA9IGl0ZW0uZ2V0TWV0YWRhdGEoJ3Bvc3RlcicpO1xuICAgICAgICAgIHJvb3QucmVmLmltYWdlLnNyYyA9IHBvc3RlcjtcblxuICAgICAgICAgIC8vIGxldCBvdGhlcnMga25vdyBvZiBvdXIgZmFidWxvdXMgYWNoaWV2ZW1lbnQgKHNvIHRoZSBpbWFnZSBjYW4gYmUgZmFkZWQgaW4pXG4gICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0ZJTEVfUE9TVEVSX0RSQVcnLCB7IGlkOiBpZCB9KTtcbiAgICAgICAgfVxuICAgICAgfSksXG5cbiAgICAgIG1peGluczoge1xuICAgICAgICBzdHlsZXM6IFsnc2NhbGVYJywgJ3NjYWxlWScsICdvcGFjaXR5J10sXG4gICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICBzY2FsZVg6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICBzY2FsZVk6IElNQUdFX1NDQUxFX1NQUklOR19QUk9QUyxcbiAgICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiA3NTAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGFwcGx5VGVtcGxhdGUgPSBmdW5jdGlvbiBhcHBseVRlbXBsYXRlKHNvdXJjZSwgdGFyZ2V0KSB7XG4gICAgLy8gY29weSB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgdGFyZ2V0LndpZHRoID0gc291cmNlLndpZHRoO1xuICAgIHRhcmdldC5oZWlnaHQgPSBzb3VyY2UuaGVpZ2h0O1xuXG4gICAgLy8gZHJhdyB0aGUgdGVtcGxhdGVcbiAgICB2YXIgY3R4ID0gdGFyZ2V0LmdldENvbnRleHQoJzJkJyk7XG4gICAgY3R4LmRyYXdJbWFnZShzb3VyY2UsIDAsIDApO1xuICB9O1xuXG4gIHZhciBjcmVhdGVQb3N0ZXJPdmVybGF5VmlldyA9IGZ1bmN0aW9uIGNyZWF0ZVBvc3Rlck92ZXJsYXlWaWV3KGZwQVBJKSB7XG4gICAgcmV0dXJuIGZwQVBJLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ZpbGUtcG9zdGVyLW92ZXJsYXknLFxuICAgICAgdGFnOiAnY2FudmFzJyxcbiAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICAgICAgYXBwbHlUZW1wbGF0ZShwcm9wcy50ZW1wbGF0ZSwgcm9vdC5lbGVtZW50KTtcbiAgICAgIH0sXG4gICAgICBtaXhpbnM6IHtcbiAgICAgICAgc3R5bGVzOiBbJ29wYWNpdHknXSxcbiAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3NwcmluZycsIG1hc3M6IDI1IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnZXRJbWFnZVNpemUgPSBmdW5jdGlvbiBnZXRJbWFnZVNpemUodXJsLCBjYikge1xuICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHdpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgdmFyIGhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICBpbWFnZSA9IG51bGw7XG4gICAgICBjYih3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuICAgIGltYWdlLnNyYyA9IHVybDtcbiAgfTtcblxuICB2YXIgZWFzZUluT3V0U2luZSA9IGZ1bmN0aW9uIGVhc2VJbk91dFNpbmUodCkge1xuICAgIHJldHVybiAtMC41ICogKE1hdGguY29zKE1hdGguUEkgKiB0KSAtIDEpO1xuICB9O1xuXG4gIHZhciBhZGRHcmFkaWVudFN0ZXBzID0gZnVuY3Rpb24gYWRkR3JhZGllbnRTdGVwcyhncmFkaWVudCwgY29sb3IpIHtcbiAgICB2YXIgYWxwaGEgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuICAgIHZhciBlYXNlRm4gPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBhcmd1bWVudHNbM11cbiAgICAgICAgOiBlYXNlSW5PdXRTaW5lO1xuICAgIHZhciBzdGVwcyA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDEwO1xuICAgIHZhciBvZmZzZXQgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAwO1xuICAgIHZhciByYW5nZSA9IDEgLSBvZmZzZXQ7XG4gICAgdmFyIHJnYiA9IGNvbG9yLmpvaW4oJywnKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBzdGVwczsgaSsrKSB7XG4gICAgICB2YXIgcCA9IGkgLyBzdGVwcztcbiAgICAgIHZhciBzdG9wID0gb2Zmc2V0ICsgcmFuZ2UgKiBwO1xuICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKFxuICAgICAgICBzdG9wLFxuICAgICAgICAncmdiYSgnLmNvbmNhdChyZ2IsICcsICcpLmNvbmNhdChlYXNlRm4ocCkgKiBhbHBoYSwgJyknKVxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIE1BWF9XSURUSCA9IDEwO1xuICB2YXIgTUFYX0hFSUdIVCA9IDEwO1xuXG4gIHZhciBjYWxjdWxhdGVBdmVyYWdlQ29sb3IgPSBmdW5jdGlvbiBjYWxjdWxhdGVBdmVyYWdlQ29sb3IoaW1hZ2UpIHtcbiAgICB2YXIgc2NhbGFyID0gTWF0aC5taW4oTUFYX1dJRFRIIC8gaW1hZ2Uud2lkdGgsIE1BWF9IRUlHSFQgLyBpbWFnZS5oZWlnaHQpO1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB2YXIgd2lkdGggPSAoY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGltYWdlLndpZHRoICogc2NhbGFyKSk7XG4gICAgdmFyIGhlaWdodCA9IChjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGltYWdlLmhlaWdodCAqIHNjYWxhcikpO1xuICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHZhciBkYXRhID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGwgPSBkYXRhLmxlbmd0aDtcblxuICAgIHZhciByID0gMDtcbiAgICB2YXIgZyA9IDA7XG4gICAgdmFyIGIgPSAwO1xuICAgIHZhciBpID0gMDtcblxuICAgIGZvciAoOyBpIDwgbDsgaSArPSA0KSB7XG4gICAgICByICs9IGRhdGFbaV0gKiBkYXRhW2ldO1xuICAgICAgZyArPSBkYXRhW2kgKyAxXSAqIGRhdGFbaSArIDFdO1xuICAgICAgYiArPSBkYXRhW2kgKyAyXSAqIGRhdGFbaSArIDJdO1xuICAgIH1cblxuICAgIHIgPSBhdmVyYWdlQ29sb3IociwgbCk7XG4gICAgZyA9IGF2ZXJhZ2VDb2xvcihnLCBsKTtcbiAgICBiID0gYXZlcmFnZUNvbG9yKGIsIGwpO1xuXG4gICAgcmV0dXJuIHsgcjogciwgZzogZywgYjogYiB9O1xuICB9O1xuXG4gIHZhciBhdmVyYWdlQ29sb3IgPSBmdW5jdGlvbiBhdmVyYWdlQ29sb3IoYywgbCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGguc3FydChjIC8gKGwgLyA0KSkpO1xuICB9O1xuXG4gIHZhciBkcmF3VGVtcGxhdGUgPSBmdW5jdGlvbiBkcmF3VGVtcGxhdGUoXG4gICAgY2FudmFzLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBjb2xvcixcbiAgICBhbHBoYVRhcmdldFxuICApIHtcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHZhciBob3Jpem9udGFsQ2VudGVyID0gd2lkdGggKiAwLjU7XG5cbiAgICB2YXIgZ3JhZCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChcbiAgICAgIGhvcml6b250YWxDZW50ZXIsXG4gICAgICBoZWlnaHQgKyAxMTAsXG4gICAgICBoZWlnaHQgLSAxMDAsXG4gICAgICBob3Jpem9udGFsQ2VudGVyLFxuICAgICAgaGVpZ2h0ICsgMTEwLFxuICAgICAgaGVpZ2h0ICsgMTAwXG4gICAgKTtcblxuICAgIGFkZEdyYWRpZW50U3RlcHMoZ3JhZCwgY29sb3IsIGFscGhhVGFyZ2V0LCB1bmRlZmluZWQsIDgsIDAuNCk7XG5cbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2xhdGUoLXdpZHRoICogMC41LCAwKTtcbiAgICBjdHguc2NhbGUoMiwgMSk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IGdyYWQ7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH07XG5cbiAgdmFyIGhhc05hdmlnYXRvciA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnO1xuXG4gIHZhciB3aWR0aCA9IDUwMDtcbiAgdmFyIGhlaWdodCA9IDIwMDtcblxuICB2YXIgb3ZlcmxheVRlbXBsYXRlU2hhZG93ID0gaGFzTmF2aWdhdG9yICYmIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICB2YXIgb3ZlcmxheVRlbXBsYXRlRXJyb3IgPSBoYXNOYXZpZ2F0b3IgJiYgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIHZhciBvdmVybGF5VGVtcGxhdGVTdWNjZXNzID0gaGFzTmF2aWdhdG9yICYmIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gIGlmIChoYXNOYXZpZ2F0b3IpIHtcbiAgICBkcmF3VGVtcGxhdGUob3ZlcmxheVRlbXBsYXRlU2hhZG93LCB3aWR0aCwgaGVpZ2h0LCBbNDAsIDQwLCA0MF0sIDAuODUpO1xuICAgIGRyYXdUZW1wbGF0ZShvdmVybGF5VGVtcGxhdGVFcnJvciwgd2lkdGgsIGhlaWdodCwgWzE5NiwgNzgsIDcxXSwgMSk7XG4gICAgZHJhd1RlbXBsYXRlKG92ZXJsYXlUZW1wbGF0ZVN1Y2Nlc3MsIHdpZHRoLCBoZWlnaHQsIFs1NCwgMTUxLCA5OV0sIDEpO1xuICB9XG5cbiAgdmFyIGxvYWRJbWFnZSA9IGZ1bmN0aW9uIGxvYWRJbWFnZSh1cmwsIGNyb3NzT3JpZ2luVmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBpZiAodHlwZW9mIGNyb3NzT3JpZ2luID09PSAnc3RyaW5nJykge1xuICAgICAgICBpbWcuY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpblZhbHVlO1xuICAgICAgfVxuICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICB9O1xuICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH07XG4gICAgICBpbWcuc3JjID0gdXJsO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVQb3N0ZXJXcmFwcGVyVmlldyA9IGZ1bmN0aW9uIGNyZWF0ZVBvc3RlcldyYXBwZXJWaWV3KF8pIHtcbiAgICAvLyBjcmVhdGUgb3ZlcmxheSB2aWV3XG4gICAgdmFyIG92ZXJsYXkgPSBjcmVhdGVQb3N0ZXJPdmVybGF5VmlldyhfKTtcblxuICAgIC8qKlxuICAgICAqIFdyaXRlIGhhbmRsZXIgZm9yIHdoZW4gcHJldmlldyBjb250YWluZXIgaGFzIGJlZW4gY3JlYXRlZFxuICAgICAqL1xuICAgIHZhciBkaWRDcmVhdGVQcmV2aWV3Q29udGFpbmVyID0gZnVuY3Rpb24gZGlkQ3JlYXRlUHJldmlld0NvbnRhaW5lcihfcmVmKSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgICAgdmFyIGlkID0gcHJvcHMuaWQ7XG5cbiAgICAgIC8vIHdlIG5lZWQgdG8gZ2V0IHRoZSBmaWxlIGRhdGEgdG8gZGV0ZXJtaW5lIHRoZSBldmVudHVhbCBpbWFnZSBzaXplXG4gICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgaWQpO1xuICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG5cbiAgICAgIC8vIGdldCB1cmwgdG8gZmlsZVxuICAgICAgdmFyIGZpbGVVUkwgPSBpdGVtLmdldE1ldGFkYXRhKCdwb3N0ZXInKTtcblxuICAgICAgLy8gaW1hZ2UgaXMgbm93IHJlYWR5XG4gICAgICB2YXIgcHJldmlld0ltYWdlTG9hZGVkID0gZnVuY3Rpb24gcHJldmlld0ltYWdlTG9hZGVkKGRhdGEpIHtcbiAgICAgICAgLy8gY2FsY3VsYXRlIGF2ZXJhZ2UgaW1hZ2UgY29sb3IsIGlzIGluIHRyeSBjYXRjaCB0byBjaXJjdW12ZW50IGFueSBjb3JzIGVycm9yc1xuICAgICAgICB2YXIgYXZlcmFnZUNvbG9yID0gcm9vdC5xdWVyeShcbiAgICAgICAgICAnR0VUX0ZJTEVfUE9TVEVSX0NBTENVTEFURV9BVkVSQUdFX0lNQUdFX0NPTE9SJ1xuICAgICAgICApXG4gICAgICAgICAgPyBjYWxjdWxhdGVBdmVyYWdlQ29sb3IoZGF0YSlcbiAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGl0ZW0uc2V0TWV0YWRhdGEoJ2NvbG9yJywgYXZlcmFnZUNvbG9yLCB0cnVlKTtcblxuICAgICAgICAvLyB0aGUgcHJldmlldyBpcyBub3cgcmVhZHkgdG8gYmUgZHJhd25cbiAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0ZJTEVfUE9TVEVSX0xPQUQnLCB7XG4gICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBkZXRlcm1pbmUgaW1hZ2Ugc2l6ZSBvZiB0aGlzIGl0ZW1cbiAgICAgIGdldEltYWdlU2l6ZShmaWxlVVJMLCBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIC8vIHdlIGNhbiBub3cgc2NhbGUgdGhlIHBhbmVsIHRvIHRoZSBmaW5hbCBzaXplXG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9GSUxFX1BPU1RFUl9DQUxDVUxBVEVfU0laRScsIHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBmYWxsYmFjayBwcmV2aWV3XG4gICAgICAgIGxvYWRJbWFnZShcbiAgICAgICAgICBmaWxlVVJMLFxuICAgICAgICAgIHJvb3QucXVlcnkoJ0dFVF9GSUxFX1BPU1RFUl9DUk9TU19PUklHSU5fQVRUUklCVVRFX1ZBTFVFJylcbiAgICAgICAgKS50aGVuKHByZXZpZXdJbWFnZUxvYWRlZCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV3JpdGUgaGFuZGxlciBmb3Igd2hlbiB0aGUgcHJldmlldyBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKi9cbiAgICB2YXIgZGlkTG9hZFByZXZpZXcgPSBmdW5jdGlvbiBkaWRMb2FkUHJldmlldyhfcmVmMikge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmMi5yb290O1xuICAgICAgcm9vdC5yZWYub3ZlcmxheVNoYWRvdy5vcGFjaXR5ID0gMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV3JpdGUgaGFuZGxlciBmb3Igd2hlbiB0aGUgcHJldmlldyBpbWFnZSBpcyByZWFkeSB0byBiZSBhbmltYXRlZFxuICAgICAqL1xuICAgIHZhciBkaWREcmF3UHJldmlldyA9IGZ1bmN0aW9uIGRpZERyYXdQcmV2aWV3KF9yZWYzKSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3Q7XG4gICAgICB2YXIgaW1hZ2UgPSByb290LnJlZi5pbWFnZTtcblxuICAgICAgLy8gcmV2ZWFsIGltYWdlXG4gICAgICBpbWFnZS5zY2FsZVggPSAxLjA7XG4gICAgICBpbWFnZS5zY2FsZVkgPSAxLjA7XG4gICAgICBpbWFnZS5vcGFjaXR5ID0gMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV3JpdGUgaGFuZGxlciBmb3Igd2hlbiB0aGUgcHJldmlldyBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKi9cbiAgICB2YXIgcmVzdG9yZU92ZXJsYXkgPSBmdW5jdGlvbiByZXN0b3JlT3ZlcmxheShfcmVmNCkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmNC5yb290O1xuICAgICAgcm9vdC5yZWYub3ZlcmxheVNoYWRvdy5vcGFjaXR5ID0gMTtcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlFcnJvci5vcGFjaXR5ID0gMDtcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTdWNjZXNzLm9wYWNpdHkgPSAwO1xuICAgIH07XG5cbiAgICB2YXIgZGlkVGhyb3dFcnJvciA9IGZ1bmN0aW9uIGRpZFRocm93RXJyb3IoX3JlZjUpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjUucm9vdDtcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cub3BhY2l0eSA9IDAuMjU7XG4gICAgICByb290LnJlZi5vdmVybGF5RXJyb3Iub3BhY2l0eSA9IDE7XG4gICAgfTtcblxuICAgIHZhciBkaWRDb21wbGV0ZVByb2Nlc3NpbmcgPSBmdW5jdGlvbiBkaWRDb21wbGV0ZVByb2Nlc3NpbmcoX3JlZjYpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjYucm9vdDtcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cub3BhY2l0eSA9IDAuMjU7XG4gICAgICByb290LnJlZi5vdmVybGF5U3VjY2Vzcy5vcGFjaXR5ID0gMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKF9yZWY3KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY3LnJvb3QsXG4gICAgICAgIHByb3BzID0gX3JlZjcucHJvcHM7XG5cbiAgICAgIC8vIGltYWdlIHZpZXdcbiAgICAgIHZhciBpbWFnZSA9IGNyZWF0ZVBvc3RlclZpZXcoXyk7XG5cbiAgICAgIC8vIGFwcGVuZCBpbWFnZSBwcmVzZW50ZXJcbiAgICAgIHJvb3QucmVmLmltYWdlID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGltYWdlLCB7XG4gICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgIHNjYWxlWDogMS4yNSxcbiAgICAgICAgICBzY2FsZVk6IDEuMjUsXG4gICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgLy8gaW1hZ2Ugb3ZlcmxheXNcbiAgICAgIHJvb3QucmVmLm92ZXJsYXlTaGFkb3cgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcob3ZlcmxheSwge1xuICAgICAgICAgIHRlbXBsYXRlOiBvdmVybGF5VGVtcGxhdGVTaGFkb3csXG4gICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgcm9vdC5yZWYub3ZlcmxheVN1Y2Nlc3MgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcob3ZlcmxheSwge1xuICAgICAgICAgIHRlbXBsYXRlOiBvdmVybGF5VGVtcGxhdGVTdWNjZXNzLFxuICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHJvb3QucmVmLm92ZXJsYXlFcnJvciA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhvdmVybGF5LCB7XG4gICAgICAgICAgdGVtcGxhdGU6IG92ZXJsYXlUZW1wbGF0ZUVycm9yLFxuICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBfLnV0aWxzLmNyZWF0ZVZpZXcoe1xuICAgICAgbmFtZTogJ2ZpbGUtcG9zdGVyLXdyYXBwZXInLFxuICAgICAgY3JlYXRlOiBjcmVhdGUsXG4gICAgICB3cml0ZTogXy51dGlscy5jcmVhdGVSb3V0ZSh7XG4gICAgICAgIC8vIGltYWdlIHByZXZpZXcgc3RhdGVkXG4gICAgICAgIERJRF9GSUxFX1BPU1RFUl9MT0FEOiBkaWRMb2FkUHJldmlldyxcbiAgICAgICAgRElEX0ZJTEVfUE9TVEVSX0RSQVc6IGRpZERyYXdQcmV2aWV3LFxuICAgICAgICBESURfRklMRV9QT1NURVJfQ09OVEFJTkVSX0NSRUFURTogZGlkQ3JlYXRlUHJldmlld0NvbnRhaW5lcixcblxuICAgICAgICAvLyBmaWxlIHN0YXRlc1xuICAgICAgICBESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SOiBkaWRUaHJvd0Vycm9yLFxuICAgICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiBkaWRUaHJvd0Vycm9yLFxuICAgICAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiBkaWRUaHJvd0Vycm9yLFxuICAgICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiBkaWRDb21wbGV0ZVByb2Nlc3NpbmcsXG4gICAgICAgIERJRF9TVEFSVF9JVEVNX1BST0NFU1NJTkc6IHJlc3RvcmVPdmVybGF5LFxuICAgICAgICBESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogcmVzdG9yZU92ZXJsYXlcbiAgICAgIH0pXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEZpbGUgUG9zdGVyIFBsdWdpblxuICAgKi9cbiAgdmFyIHBsdWdpbiA9IGZ1bmN0aW9uIHBsdWdpbihmcEFQSSkge1xuICAgIHZhciBhZGRGaWx0ZXIgPSBmcEFQSS5hZGRGaWx0ZXIsXG4gICAgICB1dGlscyA9IGZwQVBJLnV0aWxzO1xuICAgIHZhciBUeXBlID0gdXRpbHMuVHlwZSxcbiAgICAgIGNyZWF0ZVJvdXRlID0gdXRpbHMuY3JlYXRlUm91dGU7XG5cbiAgICAvLyBmaWxlUG9zdGVyVmlld1xuICAgIHZhciBmaWxlUG9zdGVyVmlldyA9IGNyZWF0ZVBvc3RlcldyYXBwZXJWaWV3KGZwQVBJKTtcblxuICAgIC8vIGNhbGxlZCBmb3IgZWFjaCB2aWV3IHRoYXQgaXMgY3JlYXRlZCByaWdodCBhZnRlciB0aGUgJ2NyZWF0ZScgbWV0aG9kXG4gICAgYWRkRmlsdGVyKCdDUkVBVEVfVklFVycsIGZ1bmN0aW9uKHZpZXdBUEkpIHtcbiAgICAgIC8vIGdldCByZWZlcmVuY2UgdG8gY3JlYXRlZCB2aWV3XG4gICAgICB2YXIgaXMgPSB2aWV3QVBJLmlzLFxuICAgICAgICB2aWV3ID0gdmlld0FQSS52aWV3LFxuICAgICAgICBxdWVyeSA9IHZpZXdBUEkucXVlcnk7XG5cbiAgICAgIC8vIG9ubHkgaG9vayB1cCB0byBpdGVtIHZpZXcgYW5kIG9ubHkgaWYgaXMgZW5hYmxlZCBmb3IgdGhpcyBjcm9wcGVyXG4gICAgICBpZiAoIWlzKCdmaWxlJykgfHwgIXF1ZXJ5KCdHRVRfQUxMT1dfRklMRV9QT1NURVInKSkgcmV0dXJuO1xuXG4gICAgICAvLyBjcmVhdGUgdGhlIGZpbGUgcG9zdGVyIHBsdWdpbiwgYnV0IG9ubHkgZG8gc28gaWYgdGhlIGl0ZW0gaXMgYW4gaW1hZ2VcbiAgICAgIHZhciBkaWRMb2FkSXRlbSA9IGZ1bmN0aW9uIGRpZExvYWRJdGVtKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgICAgICB1cGRhdGVJdGVtUG9zdGVyKHJvb3QsIHByb3BzKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkaWRVcGRhdGVJdGVtTWV0YWRhdGEgPSBmdW5jdGlvbiBkaWRVcGRhdGVJdGVtTWV0YWRhdGEoX3JlZjIpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgICAgIHByb3BzID0gX3JlZjIucHJvcHMsXG4gICAgICAgICAgYWN0aW9uID0gX3JlZjIuYWN0aW9uO1xuICAgICAgICBpZiAoIS9wb3N0ZXIvLnRlc3QoYWN0aW9uLmNoYW5nZS5rZXkpKSByZXR1cm47XG4gICAgICAgIHVwZGF0ZUl0ZW1Qb3N0ZXIocm9vdCwgcHJvcHMpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHVwZGF0ZUl0ZW1Qb3N0ZXIgPSBmdW5jdGlvbiB1cGRhdGVJdGVtUG9zdGVyKHJvb3QsIHByb3BzKSB7XG4gICAgICAgIHZhciBpZCA9IHByb3BzLmlkO1xuICAgICAgICB2YXIgaXRlbSA9IHF1ZXJ5KCdHRVRfSVRFTScsIGlkKTtcblxuICAgICAgICAvLyBpdGVtIGNvdWxkIHRoZW9yZXRpY2FsbHkgaGF2ZSBiZWVuIHJlbW92ZWQgaW4gdGhlIG1lYW4gdGltZVxuICAgICAgICBpZiAoIWl0ZW0gfHwgIWl0ZW0uZ2V0TWV0YWRhdGEoJ3Bvc3RlcicpIHx8IGl0ZW0uYXJjaGl2ZWQpIHJldHVybjtcblxuICAgICAgICAvLyB0ZXN0IGlmIGlzIGZpbHRlcmVkXG4gICAgICAgIGlmICghcXVlcnkoJ0dFVF9GSUxFX1BPU1RFUl9GSUxURVJfSVRFTScpKGl0ZW0pKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHJvb3QucmVmLmZpbGVQb3N0ZXIpIHtcbiAgICAgICAgICB2aWV3LnJlbW92ZUNoaWxkVmlldyhyb290LnJlZi5maWxlUG9zdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBwcmV2aWV3IHZpZXdcbiAgICAgICAgcm9vdC5yZWYuZmlsZVBvc3RlciA9IHZpZXcuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICAgIHZpZXcuY3JlYXRlQ2hpbGRWaWV3KGZpbGVQb3N0ZXJWaWV3LCB7IGlkOiBpZCB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIG5vdyByZWFkeVxuICAgICAgICByb290LmRpc3BhdGNoKCdESURfRklMRV9QT1NURVJfQ09OVEFJTkVSX0NSRUFURScsIHsgaWQ6IGlkIH0pO1xuICAgICAgfTtcblxuICAgICAgdmFyIGRpZENhbGN1bGF0ZVByZXZpZXdTaXplID0gZnVuY3Rpb24gZGlkQ2FsY3VsYXRlUHJldmlld1NpemUoX3JlZjMpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgICAgIGFjdGlvbiA9IF9yZWYzLmFjdGlvbjtcblxuICAgICAgICAvLyBubyBwb3N0ZXIgc2V0XG4gICAgICAgIGlmICghcm9vdC5yZWYuZmlsZVBvc3RlcikgcmV0dXJuO1xuXG4gICAgICAgIC8vIHJlbWVtYmVyIGRpbWVuc2lvbnNcbiAgICAgICAgcm9vdC5yZWYuaW1hZ2VXaWR0aCA9IGFjdGlvbi53aWR0aDtcbiAgICAgICAgcm9vdC5yZWYuaW1hZ2VIZWlnaHQgPSBhY3Rpb24uaGVpZ2h0O1xuXG4gICAgICAgIHJvb3QucmVmLnNob3VsZFVwZGF0ZVBhbmVsSGVpZ2h0ID0gdHJ1ZTtcblxuICAgICAgICByb290LmRpc3BhdGNoKCdLSUNLJyk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZ2V0UG9zdGVySGVpZ2h0ID0gZnVuY3Rpb24gZ2V0UG9zdGVySGVpZ2h0KF9yZWY0KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjQucm9vdDtcbiAgICAgICAgdmFyIGZpeGVkUG9zdGVySGVpZ2h0ID0gcm9vdC5xdWVyeSgnR0VUX0ZJTEVfUE9TVEVSX0hFSUdIVCcpO1xuXG4gICAgICAgIC8vIGlmIGZpeGVkIGhlaWdodDogcmV0dXJuIGZpeGVkIGltbWVkaWF0ZWx5XG4gICAgICAgIGlmIChmaXhlZFBvc3RlckhlaWdodCkge1xuICAgICAgICAgIHJldHVybiBmaXhlZFBvc3RlckhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtaW5Qb3N0ZXJIZWlnaHQgPSByb290LnF1ZXJ5KCdHRVRfRklMRV9QT1NURVJfTUlOX0hFSUdIVCcpO1xuICAgICAgICB2YXIgbWF4UG9zdGVySGVpZ2h0ID0gcm9vdC5xdWVyeSgnR0VUX0ZJTEVfUE9TVEVSX01BWF9IRUlHSFQnKTtcblxuICAgICAgICAvLyBpZiBuYXR1cmFsIGhlaWdodCBpcyBzbWFsbGVyIHRoYW4gbWluSGVpZ2h0OiByZXR1cm4gbWluIGhlaWdodFxuICAgICAgICBpZiAobWluUG9zdGVySGVpZ2h0ICYmIHJvb3QucmVmLmltYWdlSGVpZ2h0IDwgbWluUG9zdGVySGVpZ2h0KSB7XG4gICAgICAgICAgcmV0dXJuIG1pblBvc3RlckhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoZWlnaHQgPVxuICAgICAgICAgIHJvb3QucmVjdC5lbGVtZW50LndpZHRoICpcbiAgICAgICAgICAocm9vdC5yZWYuaW1hZ2VIZWlnaHQgLyByb290LnJlZi5pbWFnZVdpZHRoKTtcblxuICAgICAgICBpZiAobWluUG9zdGVySGVpZ2h0ICYmIGhlaWdodCA8IG1pblBvc3RlckhlaWdodCkge1xuICAgICAgICAgIHJldHVybiBtaW5Qb3N0ZXJIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heFBvc3RlckhlaWdodCAmJiBoZWlnaHQgPiBtYXhQb3N0ZXJIZWlnaHQpIHtcbiAgICAgICAgICByZXR1cm4gbWF4UG9zdGVySGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICAgIH07XG5cbiAgICAgIC8vIHN0YXJ0IHdyaXRpbmdcbiAgICAgIHZpZXcucmVnaXN0ZXJXcml0ZXIoXG4gICAgICAgIGNyZWF0ZVJvdXRlKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIERJRF9MT0FEX0lURU06IGRpZExvYWRJdGVtLFxuICAgICAgICAgICAgRElEX0ZJTEVfUE9TVEVSX0NBTENVTEFURV9TSVpFOiBkaWRDYWxjdWxhdGVQcmV2aWV3U2l6ZSxcbiAgICAgICAgICAgIERJRF9VUERBVEVfSVRFTV9NRVRBREFUQTogZGlkVXBkYXRlSXRlbU1ldGFkYXRhXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbihfcmVmNSkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICAgICAgICBwcm9wcyA9IF9yZWY1LnByb3BzO1xuXG4gICAgICAgICAgICAvLyBkb24ndCBydW4gd2l0aG91dCBwb3N0ZXJcbiAgICAgICAgICAgIGlmICghcm9vdC5yZWYuZmlsZVBvc3RlcikgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBkb24ndCBkbyBhbnl0aGluZyB3aGlsZSBoaWRkZW5cbiAgICAgICAgICAgIGlmIChyb290LnJlY3QuZWxlbWVudC5oaWRkZW4pIHJldHVybjtcblxuICAgICAgICAgICAgLy8gc2hvdWxkIHdlIHJlZHJhd1xuICAgICAgICAgICAgaWYgKHJvb3QucmVmLnNob3VsZFVwZGF0ZVBhbmVsSGVpZ2h0KSB7XG4gICAgICAgICAgICAgIC8vIHRpbWUgdG8gcmVzaXplIHRoZSBwYXJlbnQgcGFuZWxcbiAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1VQREFURV9QQU5FTF9IRUlHSFQnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IHByb3BzLmlkLFxuICAgICAgICAgICAgICAgIGhlaWdodDogZ2V0UG9zdGVySGVpZ2h0KHsgcm9vdDogcm9vdCB9KVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAvLyBkb25lIVxuICAgICAgICAgICAgICByb290LnJlZi5zaG91bGRVcGRhdGVQYW5lbEhlaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIGV4cG9zZSBwbHVnaW5cbiAgICByZXR1cm4ge1xuICAgICAgb3B0aW9uczoge1xuICAgICAgICAvLyBFbmFibGUgb3IgZGlzYWJsZSBmaWxlIHBvc3RlclxuICAgICAgICBhbGxvd0ZpbGVQb3N0ZXI6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgIC8vIEZpeGVkIHByZXZpZXcgaGVpZ2h0XG4gICAgICAgIGZpbGVQb3N0ZXJIZWlnaHQ6IFtudWxsLCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gTWluIGltYWdlIGhlaWdodFxuICAgICAgICBmaWxlUG9zdGVyTWluSGVpZ2h0OiBbbnVsbCwgVHlwZS5JTlRdLFxuXG4gICAgICAgIC8vIE1heCBpbWFnZSBoZWlnaHRcbiAgICAgICAgZmlsZVBvc3Rlck1heEhlaWdodDogW251bGwsIFR5cGUuSU5UXSxcblxuICAgICAgICAvLyBmaWx0ZXJzIGZpbGUgaXRlbXMgdG8gZGV0ZXJtaW5lIHdoaWNoIGFyZSBzaG93biBhcyBwb3N0ZXJcbiAgICAgICAgZmlsZVBvc3RlckZpbHRlckl0ZW06IFtcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgVHlwZS5GVU5DVElPTlxuICAgICAgICBdLFxuXG4gICAgICAgIC8vIEVuYWJsZXMgb3IgZGlzYWJsZXMgcmVhZGluZyBhdmVyYWdlIGltYWdlIGNvbG9yXG4gICAgICAgIGZpbGVQb3N0ZXJDYWxjdWxhdGVBdmVyYWdlSW1hZ2VDb2xvcjogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgIC8vIEFsbG93cyBzZXR0aW5nIHRoZSB2YWx1ZSBvZiB0aGUgQ09SUyBhdHRyaWJ1dGUgKG51bGwgaXMgZG9uJ3Qgc2V0IGF0dHJpYnV0ZSlcbiAgICAgICAgZmlsZVBvc3RlckNyb3NzT3JpZ2luQXR0cmlidXRlVmFsdWU6IFsnQW5vbnltb3VzJywgVHlwZS5TVFJJTkddXG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBmaXJlIHBsdWdpbmxvYWRlZCBldmVudCBpZiBydW5uaW5nIGluIGJyb3dzZXIsIHRoaXMgYWxsb3dzIHJlZ2lzdGVyaW5nIHRoZSBwbHVnaW4gd2hlbiB1c2luZyBhc3luYyBzY3JpcHQgdGFnc1xuICB2YXIgaXNCcm93c2VyID1cbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbiAgaWYgKGlzQnJvd3Nlcikge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoJ0ZpbGVQb25kOnBsdWdpbmxvYWRlZCcsIHsgZGV0YWlsOiBwbHVnaW4gfSlcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHBsdWdpbjtcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnQgZnJvbSAnLi4vLi4vY29tcG9uZW50L2luZGV4LmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRMaWJzIGZyb20gJy4uLy4uL2xpYnMvaW5kZXguanN4JztcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudFBvbGwgZnJvbSAnLi4vLi4vcG9sbC9pbmRleC5qc3gnO1xuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50UmVhY3Rpb25zIGZyb20gJy4uLy4uL3JlYWN0aW9ucy9pbmRleC5qc3gnO1xuXG5pbXBvcnQgVm90ZUJ1dHRvbiBmcm9tICcuL3ZvdGUtYnV0dG9uLmpzeCc7XG5pbXBvcnQgeyBJZGVhSW1hZ2UgYXMgT3BlblN0YWRDb21wb25lbnRJZGVhSW1hZ2UgfSBmcm9tICcuLi8uLi9pbWFnZS9pbmRleC5qc3gnO1xuXG4ndXNlIHN0cmljdCc7XG5cbi8vIHRvZG86IGVlbiBlcnJvciBvcCBmZXRjaCB3b3JkdCBuaWV0IGdvZWQgYWZnZXZhbmdlblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJZGVhc0RldGFpbHMgZXh0ZW5kcyBPcGVuU3RhZENvbXBvbmVudCB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcblxuICAgIHN1cGVyKHByb3BzLCB7XG4gICAgICBzaXRlSWQ6IG51bGwsXG4gICAgICBpZGVhSWQ6IG51bGwsXG4gICAgICBpZGVhOiB7XG4gICAgICAgIHNob3dWb3RlQnV0dG9uczogdHJ1ZSxcbiAgICAgICAgc2hvd0xhYmVsczogZmFsc2UsXG4gICAgICAgIGFsbG93TXVsdGlwbGVJbWFnZXM6IGZhbHNlLFxuICAgICAgICBzaGFyZUNoYW5uZWxzU2VsZWN0aW9uOiBbXCJmYWNlYm9va1wiLFwidHdpdHRlclwiLFwibWFpbFwiLFwid2hhdHNhcHBcIl0sXG4gICAgICAgIG1ldGFEYXRhVGVtcGxhdGU6IG51bGwsXG4gICAgICB9LFxuICAgICAgYXJndW1lbnQ6IHtcbiAgICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICAgIGZvcm1JbnRybzogJ01pam4gcmVhY3RpZSBvcCBkZXplIGluemVuZGluZyBpcyAuLi4nLFxuICAgICAgICBpZ25vcmVSZWFjdGlvbnNGb3JJZGVhSWRzOiAnJyxcbiAgICAgICAgY2xvc2VSZWFjdGlvbnNGb3JJZGVhSWRzOiAnJyxcbiAgICAgIH0sXG4gICAgICBwb2xsOiB7XG4gICAgICAgIGNhbkFkZFBvbGxzOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICBsYWJlbHM6IHt9LFxuICAgICAgdHlwZXM6IG51bGwsXG4gICAgICB0eXBlRmllbGQ6ICd0eXBlSWQnLFxuICAgICAgdHlwZUxhYmVsOiAnVGhlbWEnLFxuXHRcdH0pO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlkZWE6IHRoaXMucHJvcHMuaWRlYSxcbiAgICAgIGlkZWFJZDogKCBwcm9wcy5pZGVhICYmIHByb3BzLmlkZWEuaWQgKSB8fCB0aGlzLmNvbmZpZy5pZGVhSWQsXG4gICAgICBzaG93UG9sbEZvcm06IGZhbHNlLFxuICAgIH07XG4gICAgICAgIFxuICB9XG5cblx0Y29tcG9uZW50RGlkTW91bnQocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBcblx0XHRzZWxmLnJlYWN0aW9uQWRkZWRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBzZWxmLm9uUmVhY3Rpb25TdG9yZWQoZXZlbnQuZGV0YWlsLCB0cnVlKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignb3NjLW5ldy1yZWFjdGlvbi1zdG9yZWQnLCBzZWxmLnJlYWN0aW9uQWRkZWRMaXN0ZW5lcik7XG5cblx0XHRzZWxmLnJlYWN0aW9uRWRpdGVkTGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgc2VsZi5vblJlYWN0aW9uU3RvcmVkKGV2ZW50LmRldGFpbCk7XG4gICAgfVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ29zYy1yZWFjdGlvbi1lZGl0ZWQnLCBzZWxmLnJlYWN0aW9uRWRpdGVkTGlzdGVuZXIpO1xuXG5cdFx0c2VsZi5yZWFjdGlvbkRlbGV0ZWRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBzZWxmLm9uUmVhY3Rpb25EZWxldGVkKGV2ZW50LmRldGFpbCk7XG4gICAgfVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ29zYy1yZWFjdGlvbi1kZWxldGVkJywgc2VsZi5yZWFjdGlvbkRlbGV0ZWRMaXN0ZW5lcik7XG4gICAgXG5cdFx0c2VsZi5wb2xsQ3JlYXRlZExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHNlbGYub25Qb2xsQ3JlYXRlZChldmVudC5kZXRhaWwpO1xuICAgIH1cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdvc2MtbmV3LXBvbGwtc3RvcmVkJywgc2VsZi5wb2xsQ3JlYXRlZExpc3RlbmVyKTtcbiAgICBcblx0XHRzZWxmLnBvbGxEZWxldGVkTGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgc2VsZi5vblBvbGxEZWxldGVkKGV2ZW50LmRldGFpbCk7XG4gICAgfVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ29zYy1wb2xsLWRlbGV0ZWQnLCBzZWxmLnBvbGxEZWxldGVkTGlzdGVuZXIpO1xuXG4gICAgc2VsZi5mZXRjaERhdGEoKTtcblxuXHR9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3NjLW5ldy1yZWFjdGlvbi1zdG9yZWQnLCB0aGlzLnJlYWN0aW9uQWRkZWRMaXN0ZW5lcik7XG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3NjLXJlYWN0aW9uLWVkaXRlZCcsIHRoaXMucmVhY3Rpb25FZGl0ZWRMaXN0ZW5lcik7XG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3NjLXJlYWN0aW9uLWRlbGV0ZWQnLCB0aGlzLnJlYWN0aW9uRGVsZXRlZExpc3RlbmVyKTtcblx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdvc2MtbmV3LXBvbGwtc3RvcmVkJywgdGhpcy5wb2xsQ3JlYXRlZExpc3RlbmVyKTtcblx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdvc2MtcG9sbC1kZWxldGVkJywgdGhpcy5wb2xsRGVsZXRlZExpc3RlbmVyKTtcbiAgfVxuXG4gIGRpc3BhdGNoRWRpdElkZWFCdXR0b25DbGljayhlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoIHRoaXMuY29uZmlnLmVkaXRJZGVhTGluayApIHtcbiAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSB0aGlzLmNvbmZpZy5lZGl0SWRlYUxpbms7XG4gICAgfSBlbHNlIHtcblx0XHQgIHZhciBldmVudCA9IG5ldyB3aW5kb3cuQ3VzdG9tRXZlbnQoJ29zYy1lZGl0LWlkZWEtYnV0dG9uLWNsaWNrJywgeyBkZXRhaWw6IHRoaXMuc3RhdGUuaWRlYSB9KTtcblx0XHQgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICBzaG93UG9sbEZvcm0oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93UG9sbEZvcm06IHRydWVcbiAgICB9KVxuICB9XG5cbiAgaGlkZVBvbGxGb3JtKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd1BvbGxGb3JtOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBkaXNwYXRjaEFkZFBvbGxDbGljayhlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLnNob3dQb2xsRm9ybSgpO1xuICB9XG4gIFxuICBvblJlYWN0aW9uU3RvcmVkKGRhdGEsIGlzTmV3KSB7XG4gICAgaWYgKGlzTmV3KSB0aGlzLnN0YXRlLmlkZWEuYXJnQ291bnQrKztcbiAgICB0aGlzLnNldFN0YXRlKHsgaWRlYTogdGhpcy5zdGF0ZS5pZGVhIH0pO1xuICB9XG5cbiAgb25SZWFjdGlvbkRlbGV0ZWQoZGF0YSkge1xuICAgIHRoaXMuc3RhdGUuaWRlYS5hcmdDb3VudC0tO1xuICAgIHRoaXMuc2V0U3RhdGUoeyBpZGVhOiB0aGlzLnN0YXRlLmlkZWEgfSk7XG4gIH1cblxuICBvblBvbGxDcmVhdGVkKCkge1xuICAgIHRoaXMuaGlkZVBvbGxGb3JtKCk7XG4gICAgdGhpcy5mZXRjaERhdGEoKTtcbiAgfVxuXG4gIG9uUG9sbERlbGV0ZWQoKSB7XG4gICAgdGhpcy5mZXRjaERhdGEoKTtcbiAgfVxuICBcbiAgZmV0Y2hEYXRhKCkge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgbGV0IGlkZWFJZCA9IHNlbGYuc3RhdGUuaWRlYUlkIHx8ICh0aGlzLnN0YXRlLmlkZWEgJiYgdGhpcy5zdGF0ZS5pZGVhLmlkKTtcblxuICAgIGlmICghaWRlYUlkKSByZXR1cm47XG5cbiAgICBsZXQgdXJsID0gYCR7IHNlbGYuY29uZmlnLmFwaS51cmwgfS9hcGkvc2l0ZS8keyAgc2VsZi5jb25maWcuc2l0ZUlkICB9L2lkZWEvJHsgaWRlYUlkIH0/aW5jbHVkZVZvdGVDb3VudD0xJmluY2x1ZGVBcmd1bWVudHM9MSZpbmNsdWRlQXJnc0NvdW50PTEmaW5jbHVkZVVzZXI9MSZpbmNsdWRlVXNlclZvdGU9MWA7XG4gICAgaWYgKHNlbGYuY29uZmlnLnBvbGwuY2FuQWRkUG9sbHMpIHVybCArPSAnJmluY2x1ZGVQb2xsPTEnO1xuXG4gICAgbGV0IGhlYWRlcnMgPSBPcGVuU3RhZENvbXBvbmVudExpYnMuYXBpLmdldEhlYWRlcnMoc2VsZi5jb25maWcpO1xuXHRcdFxuICAgIGZldGNoKHVybCwgeyBoZWFkZXJzIH0pXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgRXJyb3IoJ0Vycm9yIGZlY2h0aW5nIGRldGFpbCcpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCBqc29uID0+IHtcblxuICAgICAgICBsZXQgaWRlYSA9IGpzb247XG4gICAgICAgIHNlbGYuc2V0U3RhdGUoeyBpZGVhIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmKE9wZW5TdGFkQ29tcG9uZW50TGlicy5sb2NhbFN0b3JhZ2UuZ2V0KCdvc2MtcmVhY3Rpb25zLWxvZ2luLXBlbmRpbmcnKSkge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBgI3JlYWN0aW9uc2A7XG4gICAgICAgICAgICBPcGVuU3RhZENvbXBvbmVudExpYnMubG9jYWxTdG9yYWdlLnNldCgnb3NjLXJlYWN0aW9ucy1sb2dpbi1wZW5kaW5nJywgZmFsc2UpXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdOaWV0IGdvZWQnKTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuXG4gIH1cblxuICBkZWxldGVJZGVhKCkge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgaWYgKCEoIHNlbGYuY29uZmlnLnVzZXIgJiYgc2VsZi5jb25maWcudXNlci5yb2xlICYmIHNlbGYuY29uZmlnLnVzZXIucm9sZSA9PSAnYWRtaW4nICkpIHJldHVybjtcbiAgICBpZiAoISggdGhpcy5zdGF0ZS5pZGVhIHx8IHRoaXMuc3RhdGUuaWRlYS5pZCApKSByZXR1cm47XG5cbiAgICBsZXQgdXJsID0gYCR7IHNlbGYuY29uZmlnLmFwaS51cmwgfS9hcGkvc2l0ZS8keyAgc2VsZi5jb25maWcuc2l0ZUlkICB9L2lkZWEvJHsgdGhpcy5zdGF0ZS5pZGVhLmlkIH1gO1xuICAgIGxldCBoZWFkZXJzID0gT3BlblN0YWRDb21wb25lbnRMaWJzLmFwaS5nZXRIZWFkZXJzKHNlbGYuY29uZmlnKTtcblxuICAgIGxldCBpZGVhSWQgPSB0aGlzLnN0YXRlLmlkZWEuaWQ7IC8vIGJhY2t1cFxuXHRcdFxuICAgIGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnNcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IEVycm9yKCdFcnJvciBkZWxldGluZyBpZGVhJyk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oIGpzb24gPT4ge1xuICAgICAgICBpZiAoIHRoaXMuY29uZmlnLmFmdGVyRGVsZXRlSWRlYUxpbmsgKSB7XG4gICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IHRoaXMuY29uZmlnLmFmdGVyRGVsZXRlSWRlYUxpbms7XG4gICAgICAgIH0gZWxzZSB7XG5cdFx0ICAgICAgdmFyIGV2ZW50ID0gbmV3IHdpbmRvdy5DdXN0b21FdmVudCgnb3NjLWlkZWEtZGVsZXRlZCcsIHsgZGV0YWlsOiB7IGlkZWFJZCB9IH0pO1xuXHRcdCAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ05pZXQgZ29lZCcpO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG5cbiAgfVxuXG5cdHJlbmRlcigpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBsZXQgaWRlYSA9IHNlbGYuc3RhdGUuaWRlYTtcblxuICAgIGlmICghaWRlYSkgcmV0dXJuIG51bGw7XG5cbiAgICBsZXQgbGFiZWxIVE1MID0gbnVsbDtcblxuICAgIGlmIChzZWxmLmNvbmZpZy5pZGVhLnNob3dMYWJlbHMpIHtcbiAgICAgIGxldCB0eXBlSWQgPSBldmFsKGBpZGVhLiR7c2VsZi5jb25maWcudHlwZUZpZWxkfWApO1xuICAgICAgbGV0IHR5cGVEZWYgPSBzZWxmLmNvbmZpZy50eXBlcyAmJiBzZWxmLmNvbmZpZy50eXBlcy5maW5kKGRlZiA9PiBkZWYuaWQgPT0gdHlwZUlkIHx8IGRlZi52YWx1ZSA9PSB0eXBlSWQpO1xuICAgICAgaWYgKHR5cGVEZWYpIHtcbiAgICAgICAgbGV0IGxhYmVsVGV4dCA9IHR5cGVEZWYubGFiZWw7XG4gICAgICAgIGxldCBiYWNrZ3JvdW5kQ29sb3IgPSB0eXBlRGVmLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgbGV0IHRleHRDb2xvciA9IHR5cGVEZWYudGV4dENvbG9yO1xuICAgICAgICBsYWJlbEhUTUwgPSAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtaWRlYS1sYWJlbFwiIHN0eWxlPXt7IGNvbG9yOiB0ZXh0Q29sb3IsIGJhY2tncm91bmRDb2xvciB9fT57bGFiZWxUZXh0fTwvZGl2PlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBsZXQgcG9sbEhUTUwgPSBudWxsO1xuICAgIGxldCBhZGRQb2xsQnV0dG9uSFRNTCA9IG51bGw7XG4gICAgaWYgKHNlbGYuY29uZmlnLnBvbGwuY2FuQWRkUG9sbHMpIHtcbiAgICAgIGlmIChpZGVhLnBvbGwgfHwgc2VsZi5zdGF0ZS5zaG93UG9sbEZvcm0pIHtcbiAgICAgICAgcG9sbEhUTUwgPSAoXG4gICAgICAgICAgPGRpdj5cblx0XHRcdCAgICAgIDxkaXYgaWQ9XCJwb2xsXCIgY2xhc3NOYW1lPVwib3NjLXBvbGwtaGVhZGVyXCI+PGgzPntzZWxmLmNvbmZpZy5wb2xsLnRpdGxlIHx8ICdQb2xsJ308L2gzPjwvZGl2PlxuICAgICAgICAgICAgPE9wZW5TdGFkQ29tcG9uZW50UG9sbCBjb25maWc9e3sgLi4uc2VsZi5jb25maWcsIC4uLnNlbGYuY29uZmlnLnBvbGwsIGlkZWFJZDogc2VsZi5zdGF0ZS5pZGVhSWQgfX0gcG9sbD17aWRlYS5wb2xsfS8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpZGVhLmNhbiAmJiBpZGVhLmNhbi5lZGl0KSB7XG4gICAgICAgICAgYWRkUG9sbEJ1dHRvbkhUTUwgPSAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1lZGl0YnV0dG9ucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJvc2MtaWRlYS1kZXRhaWxzLWVkaXRidXR0b24gb3NjLWVkaXRcIiBvbkNsaWNrPXsoZXZlbnQpID0+IHNlbGYuZGlzcGF0Y2hBZGRQb2xsQ2xpY2soZXZlbnQpfT5Qb2xsIHRvZXZvZWdlbjwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHZvdGVCdXR0b25zSFRNTCA9IG51bGw7XG4gICAgaWYgKHNlbGYuY29uZmlnLmlkZWEuc2hvd1ZvdGVCdXR0b25zKSB7XG4gICAgICB2b3RlQnV0dG9uc0hUTUwgPSAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLWRldGFpbHMtdm90ZS1idXR0b25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxoMz5MaWtlczwvaDM+XG4gICAgICAgICAgPFZvdGVCdXR0b24gY29uZmlnPXt7IHRleHQ6ICdlZW5zJywgb3BpbmlvbjogJ3llcycsIGFwaTogdGhpcy5jb25maWcuYXBpLCB1c2VyOiB0aGlzLmNvbmZpZy51c2VyLCBzaXRlSWQ6IHRoaXMuY29uZmlnLnNpdGVJZCB9fSBpZGVhPXt0aGlzLnN0YXRlLmlkZWF9IG5hbWU9XCJsaWtlYnV0dG9uXCIgdmFsdWU9e2lkZWEueWVzfS8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgZWRpdEJ1dHRvbnNIVE1MID0gbnVsbDtcbiAgICBpZiAoIGlkZWEuY2FuICYmIGlkZWEuY2FuLmVkaXQgKSB7XG4gICAgICBlZGl0QnV0dG9uc0hUTUwgPSAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLWVkaXRidXR0b25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwib3NjLWlkZWEtZGV0YWlscy1lZGl0YnV0dG9uIG9zYy1lZGl0XCIgb25DbGljaz17KGV2ZW50KSA9PiBzZWxmLmRpc3BhdGNoRWRpdElkZWFCdXR0b25DbGljayhldmVudCl9PkJld2VyayBpZGVlPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJvc2MtaWRlYS1kZXRhaWxzLWVkaXRidXR0b24gb3NjLWRlbGV0ZVwiIG9uQ2xpY2s9eyhldmVudCkgPT4geyBpZiAoIGNvbmZpcm0oJ1dlZXQgamUgaGV0IHpla2VyJykgKSBzZWxmLmRlbGV0ZUlkZWEoZXZlbnQpIH19PlZlcndpamRlciBpZGVlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcblxuICAgIH1cblxuICAgIGxldCBtb2RCcmVha0hUTUwgPSBudWxsO1xuICAgIGlmIChpZGVhICYmIGlkZWEubW9kQnJlYWspIHtcbiAgICAgIG1vZEJyZWFrSFRNTD0gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1tb2RicmVha1wiPlxuICAgICAgICAgIHtpZGVhLm1vZEJyZWFrRGF0ZUh1bWFuaXplZH08YnIvPlxuICAgICAgICAgIDxici8+XG4gICAgICAgICAge2lkZWEubW9kQnJlYWt9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgcmVhY3Rpb25zQ291bnRIVE1MID0gbnVsbDtcbiAgICBpZiAoIHNlbGYuY29uZmlnLmFyZ3VtZW50LmlzQWN0aXZlICkge1xuICAgICAgcmVhY3Rpb25zQ291bnRIVE1MID0gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMz5SZWFjdGllczwvaDM+XG4gICAgICAgICAgPGEgaHJlZj1cIiNyZWFjdGlvbnNcIiBjbGFzc05hbWU9XCJvc2Mtbm8tb2YtcmVhY3Rpb25zXCI+e2lkZWEuYXJnQ291bnQgfHwgMH0gcmVhY3RpZXM8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgcmVhY3Rpb25zSFRNTCA9IG51bGw7XG4gICAgaWYgKCBzZWxmLmNvbmZpZy5hcmd1bWVudC5pc0FjdGl2ZSApIHtcbiAgICAgIC8vIHRvZG86IHJlZmFjdG9yIGNvbmZpZyB6b2RhdCBoaWogaW4gcmVhY3Rpb25zIG9vayBnZXdvb24gYXJndW1lbnQ6IHt9IGhlZXQsIGVuIGRhbiBkZXplIHJlZ2VscyBuYWFyIGRhYXJcbiAgICAgIGxldCBjb25maWcgPSB7Li4uc2VsZi5jb25maWd9XG4gICAgICBjb25maWcuYXJndW1lbnQuaXNBY3RpdmUgPSB0aGlzLmNvbmZpZy5hcmd1bWVudC5pc0FjdGl2ZSAmJiAhdGhpcy5jb25maWcuYXJndW1lbnQuaWdub3JlUmVhY3Rpb25zRm9ySWRlYUlkcy5tYXRjaChuZXcgUmVnRXhwKGAoPzpefFxcXFxEKSR7aWRlYS5pZH0oPzpcXFxcRHwkKWApKTtcbiAgICAgIGNvbmZpZy5hcmd1bWVudC5pc0Nsb3NlZCA9IHRoaXMuY29uZmlnLmFyZ3VtZW50LmlzQ2xvc2VkIHx8IHRoaXMuY29uZmlnLmFyZ3VtZW50LmNsb3NlUmVhY3Rpb25zRm9ySWRlYUlkcy5tYXRjaChuZXcgUmVnRXhwKGAoPzpefFxcXFxEKSR7aWRlYS5pZH0oPzpcXFxcRHwkKWApKTtcbiAgICAgIHJlYWN0aW9uc0hUTUwgPSAoXG4gICAgICAgIDxkaXY+XG5cdFx0XHQgICAgPGRpdiBpZD1cInJlYWN0aW9uc1wiIGNsYXNzTmFtZT1cIm9zYy1yZWFjdGlvbnMtaGVhZGVyXCI+PGgzPntzZWxmLmNvbmZpZy5hcmd1bWVudC50aXRsZSB8fCAnUmVhY3RpZXMnfTwvaDM+PC9kaXY+XG4gICAgICAgICAgPE9wZW5TdGFkQ29tcG9uZW50UmVhY3Rpb25zIGNvbmZpZz17eyAuLi5zZWxmLmNvbmZpZy5hcmd1bWVudCwgdGl0bGU6IHVuZGVmaW5lZCwgYXBpOiBzZWxmLmNvbmZpZy5hcGksIHVzZXI6IHNlbGYuY29uZmlnLnVzZXIsIHNpdGVJZDogc2VsZi5jb25maWcuc2l0ZUlkLCBpZGVhSWQ6IGlkZWEuaWQsIGxvZ2luVXJsOiBzZWxmLmNvbmZpZy5sb2dpblVybCwgfX0vPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IHNoYXJlQnV0dG9uc0hUTUwgPSBudWxsO1xuICAgIGlmIChzZWxmLmNvbmZpZy5pZGVhLnNoYXJlQ2hhbm5lbHNTZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICBsZXQgZmFjZWJvb2tCdXR0b25IVE1MID0gc2VsZi5jb25maWcuaWRlYS5zaGFyZUNoYW5uZWxzU2VsZWN0aW9uLmluY2x1ZGVzKCdmYWNlYm9vaycpID8gKDxsaT48YSBjbGFzc05hbWU9XCJvc2Mtc2hhcmUtZmFjZWJvb2tcIiB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPXsgJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9zaGFyZXIvc2hhcmVyLnBocD91PScgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQubG9jYXRpb24uaHJlZikgfT5GYWNlYm9vazwvYT48L2xpPikgOiBudWxsO1xuICAgICAgbGV0IHR3aXR0ZXJCdXR0b25IVE1MID0gc2VsZi5jb25maWcuaWRlYS5zaGFyZUNoYW5uZWxzU2VsZWN0aW9uLmluY2x1ZGVzKCd0d2l0dGVyJykgPyAoPGxpPjxhIGNsYXNzTmFtZT1cIm9zYy1zaGFyZS10d2l0dGVyXCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj17ICdodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD90ZXh0PScgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQubG9jYXRpb24uaHJlZikgfT5Ud2l0dGVyPC9hPjwvbGk+KSA6IG51bGw7XG4gICAgICBsZXQgbWFpbEJ1dHRvbkhUTUwgPSBzZWxmLmNvbmZpZy5pZGVhLnNoYXJlQ2hhbm5lbHNTZWxlY3Rpb24uaW5jbHVkZXMoJ21haWwnKSA/ICg8bGk+PGEgY2xhc3NOYW1lPVwib3NjLXNoYXJlLWVtYWlsXCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj17ICdtYWlsdG86P3N1YmplY3Q9JyArIGVuY29kZVVSSUNvbXBvbmVudChldmFsKGBpZGVhLiR7c2VsZi5jb25maWcudGl0bGVGaWVsZH1gKSkgKyAnJmJvZHk9JyArIGVuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5sb2NhdGlvbi5ocmVmKX0+RW1haWw8L2E+PC9saT4pIDogbnVsbDtcbiAgICAgIGxldCB3aGF0c2FwcEJ1dHRvbkhUTUwgPSBzZWxmLmNvbmZpZy5pZGVhLnNoYXJlQ2hhbm5lbHNTZWxlY3Rpb24uaW5jbHVkZXMoJ3doYXRzYXBwJykgPyAoPGxpPjxhIGNsYXNzTmFtZT1cIm9zYy1zaGFyZS13aGF0c2FwcFwiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9eyAnaHR0cHM6Ly93YS5tZS8/dGV4dD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpIH0+V2hhdHNBcHA8L2E+PC9saT4pIDogbnVsbDtcblxuICAgICAgc2hhcmVCdXR0b25zSFRNTCA9IChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLWRldGFpbHMtc2hhcmVidXR0b25zXCI+XG4gICAgICAgIDx1bD5cbiAgICAgICAgICB7ZmFjZWJvb2tCdXR0b25IVE1MfVxuICAgICAgICAgIHt0d2l0dGVyQnV0dG9uSFRNTH1cbiAgICAgICAgICB7bWFpbEJ1dHRvbkhUTUx9XG4gICAgICAgICAge3doYXRzYXBwQnV0dG9uSFRNTH1cblx0XHRcdFx0PC91bD5cbiAgICAgIDwvZGl2Pik7XG5cblxuICAgIH1cblxuICAgIGxldCBhdXRob3JIVE1MID0gaWRlYS51c2VyLm5pY2tOYW1lIHx8IGlkZWEudXNlci5mdWxsTmFtZSB8fCBpZGVhLnVzZXIuZmlyc3ROYW1lICsnICcgKyBpZGVhLnVzZXIubGFzdE5hbWU7XG4gICAgaWYgKHRoaXMuY29uZmlnLmxpbmtUb1VzZXJQYWdlVXJsKSB7XG4gICAgICBhdXRob3JIVE1MID0gPGEgaHJlZj17dGhpcy5jb25maWcubGlua1RvVXNlclBhZ2VVcmwgKyAnLycgKyBpZGVhLnVzZXIuaWR9IGNsYXNzTmFtZT1cIm9zYy1hdXRob3ItbGlua1wiPnthdXRob3JIVE1MfTwvYT5cbiAgICB9XG5cbiAgICBsZXQgbWV0YURhdGFIVE1MID0gc2VsZi5jb25maWcuaWRlYS5tZXRhRGF0YVRlbXBsYXRlO1xuICAgIGlmIChtZXRhRGF0YUhUTUwpIHtcbiAgICAgIG1ldGFEYXRhSFRNTCA9IG1ldGFEYXRhSFRNTC5yZXBsYWNlKC9cXHtjcmVhdGVEYXRlXFx9LywgaWRlYS5jcmVhdGVEYXRlSHVtYW5pemVkKTtcbiAgICAgIG1ldGFEYXRhSFRNTCA9IG1ldGFEYXRhSFRNTC5yZXBsYWNlKC9cXHt0aGVtZVxcfS8sIGlkZWEuZXh0cmFEYXRhLnRoZW1lKTtcbiAgICAgIG1ldGFEYXRhSFRNTCA9IE9wZW5TdGFkQ29tcG9uZW50TGlicy5yZWFjdFRlbXBsYXRlKHsgaHRtbDogbWV0YURhdGFIVE1MLCB1c2VybmFtZTogYXV0aG9ySFRNTCB9KVxuICAgIH1cblxuICAgIHJldHVybiAoXG5cdFx0XHQ8ZGl2IGlkPXtzZWxmLmlkfSBjbGFzc05hbWU9e3NlbGYucHJvcHMuY2xhc3NOYW1lIHx8ICdvc2MtaW5mby1ibG9jay1pZGVhLWRldGFpbHMnfSByZWY9e2VsID0+IChzZWxmLmluc3RhbmNlID0gZWwpfT5cblxuXHRcdFx0ICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1zcGFjZXJcIj48L2Rpdj5cblxuXHRcdFx0ICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1pZGVhLWRldGFpbHMtY29udGFpbmVyXCI+XG5cdFx0XHQgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtaWRlYS1kZXRhaWxzXCI+XG5cblx0XHRcdFx0ICAgIDxoMj57ZXZhbChgaWRlYS4ke3NlbGYuY29uZmlnLnRpdGxlRmllbGR9YCl9PC9oMj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtZGV0YWlscy1pbWFnZS1hbmQtc3RhdHNcIj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1pZGVhLWltYWdlLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxPcGVuU3RhZENvbXBvbmVudElkZWFJbWFnZSBjb25maWc9e3sgYWxsb3dNdWx0aXBsZUltYWdlczogc2VsZi5jb25maWcuaWRlYS5hbGxvd011bHRpcGxlSW1hZ2VzIH19IGlkZWE9e2lkZWF9Lz5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAge2xhYmVsSFRNTH1cblxuICAgICAgICAgICAgICB7c2hhcmVCdXR0b25zSFRNTH1cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1kZXRhaWxzLXN0YXRzXCI+XG4gICAgICAgICAgICAgICAge3ZvdGVCdXR0b25zSFRNTH1cbiAgICAgICAgICAgICAgICB7cmVhY3Rpb25zQ291bnRIVE1MfVxuICAgICAgICAgICAgICAgIHtlZGl0QnV0dG9uc0hUTUx9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiXCI+XG4gICAgICAgICAgICAgIHttZXRhRGF0YUhUTUx9XG4gICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgIHttb2RCcmVha0hUTUx9XG5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm9zYy1kZXRhaWxzLXN1bW1hcnlcIj57aWRlYS5zdW1tYXJ5fTwvcD5cblxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwib3NjLWRldGFpbHMtZGVzY3JpcHRpb25cIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGlkZWEuZGVzY3JpcHRpb24gfX0+PC9wPlxuXG4gICAgICAgICAgICB7YWRkUG9sbEJ1dHRvbkhUTUx9XG5cblx0XHRcdCAgICA8L2Rpdj5cblxuICAgICAgICAgIHtwb2xsSFRNTH1cblxuICAgICAgICAgIHtyZWFjdGlvbnNIVE1MfVxuXG5cdFx0XHQgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtYm90dG9tLXNwYWNlclwiPjwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuXG5cdFx0XHQ8L2Rpdj5cbiAgICApO1xuXG4gIH1cblxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnQgZnJvbSAnLi4vLi4vY29tcG9uZW50L2luZGV4LmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRMaWJzIGZyb20gJy4uLy4uL2xpYnMvaW5kZXguanN4JztcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudEZvcm1zIGZyb20gJy4uLy4uL2Zvcm1zL2luZGV4LmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5TdGFkQ29tcG9uZW50UmVhY3Rpb25Gb3JtIGV4dGVuZHMgT3BlblN0YWRDb21wb25lbnQge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cbiAgICBzdXBlcihwcm9wcywge1xuICAgICAgYXJndW1lbnRJZDogbnVsbCxcbiAgICAgIGFwaToge1xuICAgICAgICB1cmw6IG51bGwsXG4gICAgICAgIGhlYWRlcnM6IG51bGwsXG4gICAgICB9LFxuICAgICAgdXNlcjoge30sXG4gICAgICBkZXNjcmlwdGlvbk1pbkxlbmd0aDogMzAsXG4gICAgICBkZXNjcmlwdGlvbk1heExlbmd0aDogNTAwLFxuICAgICAgcmVxdWlyZWRVc2VyUm9sZTogJ21lbWJlcicsXG4gICAgICBmb3JtSW50cm86ICcnLFxuICAgICAgcGxhY2Vob2xkZXI6ICcnLFxuICAgIH0pO1xuXG4gICAgdGhpcy5jb25maWcubG9naW5VcmwgPSB0aGlzLmNvbmZpZy5sb2dpblVybCB8fCAnL29hdXRoL2xvZ2luP3JldHVyblRvPScgKyBlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQubG9jYXRpb24uaHJlZik7XG4gICAgXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmNvbmZpZy5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcbiAgICB9O1xuXG4gIH1cblxuICBoYW5kbGVPbkNoYW5nZShkYXRhKSB7XG4gICAgZGF0YSA9IGRhdGEgfHwge307XG4gICAgaWYgKGRhdGEuZGVzY3JpcHRpb24pIGRhdGEuaXNWYWxpZCA9IHRoaXMuZGVzY3JpcHRpb24uaXNWYWxpZCgpO1xuICAgIHRoaXMuc2V0U3RhdGUoZGF0YSk7XG4gIH1cblxuICBjYW5TdWJtaXQoKSB7XG4gICAgbGV0IHJlcXVpcmVkVXNlclJvbGUgPSB0aGlzLmNvbmZpZy5yZXF1aXJlZFVzZXJSb2xlO1xuICAgIGxldCB1c2VyID0gdGhpcy5wcm9wcy51c2VyIHx8IHt9O1xuICAgIHJldHVybiBPcGVuU3RhZENvbXBvbmVudExpYnMudXNlci5oYXNSb2xlKHVzZXIsIHJlcXVpcmVkVXNlclJvbGUpXG4gIH1cblxuICBzdWJtaXRGb3JtKCkge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5zZXRTdGF0ZSh7IGlzQnVzeTogdHJ1ZSB9LCAoKSA9PiB7XG5cbiAgICAgIGxldCBpc1ZhbGlkID0gc2VsZi5kZXNjcmlwdGlvbi52YWxpZGF0ZSh7IHNob3dXYXJuaW5nOiB0cnVlIH0pO1xuICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgIHNlbGYuc2V0U3RhdGUoeyBpc0J1c3k6IGZhbHNlLCBpc1ZhbGlkOiBmYWxzZSB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXNlbGYuY2FuU3VibWl0KCkpIHJldHVybiBhbGVydCgnSmUgYmVudCBuaWV0IGluZ2Vsb2dkJyk7XG5cbiAgICAgIGxldCB1cmwgPSBgJHtzZWxmLmNvbmZpZy5hcGkgJiYgc2VsZi5jb25maWcuYXBpLnVybCAgIH0vYXBpL3NpdGUvJHsgIHNlbGYuY29uZmlnLnNpdGVJZCAgfS9pZGVhLyR7ICBzZWxmLmNvbmZpZy5pZGVhSWQgIH0vYXJndW1lbnQkeyAgIHNlbGYuY29uZmlnLmFyZ3VtZW50SWQgPyBgLyR7ICBzZWxmLmNvbmZpZy5hcmd1bWVudElkfWAgOiAnJ31gO1xuICAgICAgbGV0IGhlYWRlcnMgPSBPcGVuU3RhZENvbXBvbmVudExpYnMuYXBpLmdldEhlYWRlcnMoc2VsZi5jb25maWcpO1xuICAgICAgbGV0IG1ldGhvZCA9IHNlbGYuY29uZmlnLmFyZ3VtZW50SWQgPyAnUFVUJyA6ICdQT1NUJztcblxuICAgICAgbGV0IGJvZHkgPSB7XG4gICAgICAgIHBhcmVudElkOiBzZWxmLmNvbmZpZy5wYXJlbnRJZCxcbiAgICAgICAgc2VudGltZW50OiBzZWxmLmNvbmZpZy5zZW50aW1lbnQsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBzZWxmLnN0YXRlLmRlc2NyaXB0aW9uLFxuICAgICAgfTtcblxuICAgICAgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICB9KVxuICAgICAgICAudGhlbiggZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oanNvbikge1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLmNvbmZpZy5vblN1Ym1pdCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzZWxmLmNvbmZpZy5vblN1Ym1pdCh7IGRlc2NyaXB0aW9uOiBzZWxmLnN0YXRlLmRlc2NyaXB0aW9uIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuc2V0U3RhdGUoeyBkZXNjcmlwdGlvbjogJycsIGlzQnVzeTogZmFsc2UsIGlzVmFsaWQ6IGZhbHNlIH0sICgpID0+IHtcblxuICAgICAgICAgICAgc2VsZi5kZXNjcmlwdGlvbi5oYW5kbGVPbkNoYW5nZSh7IHZhbHVlOiAnJyB9KTtcblxuICAgICAgICAgICAgaWYgKHNlbGYuY29uZmlnLmFyZ3VtZW50SWQpIHtcblx0XHQgICAgICAgICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdvc2MtcmVhY3Rpb24tZWRpdGVkJywgeyBkZXRhaWw6IGpzb24gfSk7XG5cdFx0ICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblx0XHQgICAgICAgICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdvc2MtbmV3LXJlYWN0aW9uLXN0b3JlZCcsIHsgZGV0YWlsOiBqc29uIH0pO1xuXHRcdCAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIGVycm9yLnRoZW4oZnVuY3Rpb24obWVzc2FnZXMpIHsgYWxlcnQobWVzc2FnZXMpOyByZXR1cm4gY29uc29sZS5sb2cobWVzc2FnZXMpO30gKTtcbiAgICAgICAgICBzZWxmLnNldFN0YXRlKHsgaXNCdXN5OiBmYWxzZSwgaXNWYWxpZDogZmFsc2UgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgfVxuXG4gIHJlbmRlcigpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIGxldCBjb25maWcgPSB7XG4gICAgICBkZXNjcmlwdGlvbk1pbkxlbmd0aDogc2VsZi5jb25maWcuZGVzY3JpcHRpb25NaW5MZW5ndGggfHwgMzAsXG4gICAgICBkZXNjcmlwdGlvbk1heExlbmd0aDogc2VsZi5jb25maWcuZGVzY3JpcHRpb25NYXhMZW5ndGggfHwgNTAwLFxuICAgIH07XG5cbiAgICBsZXQgZm9ybUludHJvID0gbnVsbDtcbiAgICBpZiAoc2VsZi5jb25maWcuZm9ybUludHJvKSB7XG4gICAgICBmb3JtSW50cm8gPSAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLWludHJvXCI+e3NlbGYuY29uZmlnLmZvcm1JbnRyb308L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IHN1Ym1pdEJ1dHRvbkhUTUwgPSBudWxsO1xuICAgIGlmIChzZWxmLmNhblN1Ym1pdCgpKSB7XG4gICAgICBzdWJtaXRCdXR0b25IVE1MID0gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1hbGlnbi1yaWdodC1jb250YWluZXJcIj5cblx0XHRcdCAgICA8YnV0dG9uIG9uQ2xpY2s9eyhlKSA9PiB7IGlmICghc2VsZi5zdGF0ZS5pc0J1c3kpIHNlbGYuc3VibWl0Rm9ybSgpOyB9fSBjbGFzc05hbWU9e2Bvc2MtYnV0dG9uLWJsdWUkeyAhc2VsZi5zdGF0ZS5pc1ZhbGlkIHx8IHNlbGYuc3RhdGUuaXNCdXN5ID8gJyBvc2MtZGlzYWJsZWQnIDogJycgfWB9ID5WZXJ6ZW5kZW48L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWJtaXRCdXR0b25IVE1MID0gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1hbGlnbi1yaWdodC1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgT3BlblN0YWRDb21wb25lbnRMaWJzLmxvY2FsU3RvcmFnZS5zZXQoJ29zYy1yZWFjdGlvbnMtbG9naW4tcGVuZGluZycsIHRydWUpOyBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gc2VsZi5jb25maWcubG9naW5Vcmw7IH19IGNsYXNzTmFtZT1cIm9zYy1idXR0b24tYmx1ZSBvc2Mtbm90LWxvZ2dlZC1pbi1idXR0b25cIj5JbmxvZ2dlbjwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgaWQ9e3NlbGYuZGl2SWR9IGNsYXNzTmFtZT1cIlwiIHJlZj17ZWwgPT4gKHNlbGYuaW5zdGFuY2UgPSBlbCl9ID5cbiAgICAgICAge2Zvcm1JbnRyb31cbiAgICAgICAgPE9wZW5TdGFkQ29tcG9uZW50Rm9ybXMuSW5wdXRXaXRoQ291bnRlciBkaXNhYmxlZD17dGhpcy5jYW5TdWJtaXQoKSA/IG51bGwgOiB0cnVlfSBjb25maWc9e3sgaW5wdXRUeXBlOiAndGV4dGFyZWEnLCBtaW5MZW5ndGg6IGNvbmZpZy5kZXNjcmlwdGlvbk1pbkxlbmd0aCwgbWF4TGVuZ3RoOiBjb25maWcuZGVzY3JpcHRpb25NYXhMZW5ndGgsIHBsYWNlaG9sZGVyOiBzZWxmLmNvbmZpZy5wbGFjZWhvbGRlciB9fSB2YWx1ZT17c2VsZi5zdGF0ZS5kZXNjcmlwdGlvbn0gb25DaGFuZ2U9eyBkYXRhID0+IHNlbGYuaGFuZGxlT25DaGFuZ2UoeyBkZXNjcmlwdGlvbjogZGF0YS52YWx1ZSB9KSB9IHJlZj17ZWwgPT4gKHNlbGYuZGVzY3JpcHRpb24gPSBlbCl9Lz5cbiAgICAgICAge3N1Ym1pdEJ1dHRvbkhUTUx9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuXG4gIH1cblxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnQgZnJvbSAnLi4vLi4vY29tcG9uZW50L2luZGV4LmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRMaWJzIGZyb20gJy4uLy4uL2xpYnMvaW5kZXguanN4JztcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudFJlYWN0aW9uRm9ybSBmcm9tICcuL3JlYWN0aW9uLWZvcm0uanN4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlblN0YWRDb21wb25lbnRSZWFjdGlvbiBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuXG4gICAgc3VwZXIocHJvcHMsIHtcbiAgICAgIHNpdGVJZDogbnVsbCxcbiAgICAgIGlkZWFJZDogbnVsbCxcbiAgICAgIHRpdGxlOiBudWxsLFxuICAgICAgZGVzY3JpcHRpb25NaW5MZW5ndGg6IDMwLFxuICAgICAgZGVzY3JpcHRpb25NYXhMZW5ndGg6IDUwMCxcbiAgICAgIGFwaToge1xuICAgICAgICB1cmw6IG51bGwsXG4gICAgICAgIGhlYWRlcnM6IG51bGwsXG4gICAgICB9LFxuICAgICAgcmVxdWlyZWRVc2VyUm9sZTogJ21lbWJlcicsXG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdXNlcjogcHJvcHMudXNlcixcbiAgICAgIGlzTWVudUFjdGl2ZTogZmFsc2UsXG4gICAgICBpc1JlcGx5RnJvbUFjdGl2ZTogZmFsc2UsXG4gICAgICBlZGl0TW9kZTogZmFsc2UsXG4gICAgfTtcblxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIHNlbGYubmV3UmVhY3Rpb25TdG9yZWRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBzZWxmLm9uTmV3UmVhY3Rpb25TdG9yZWQoZXZlbnQuZGV0YWlsKTtcbiAgICB9O1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ29zYy1uZXctcmVhY3Rpb24tc3RvcmVkJywgc2VsZi5uZXdSZWFjdGlvblN0b3JlZExpc3RlbmVyKVxuXG4gICAgc2VsZi5yZWFjdGlvbkVkaXRlZExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHNlbGYub25SZWFjdGlvbkVkaXRlZChldmVudC5kZXRhaWwpO1xuICAgIH07XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignb3NjLXJlYWN0aW9uLWVkaXRlZCcsIHNlbGYucmVhY3Rpb25FZGl0ZWRMaXN0ZW5lcilcblxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3NjLW5ldy1yZWFjdGlvbi1zdG9yZWQnLCB0aGlzLm5ld1JlYWN0aW9uU3RvcmVkTGlzdGVuZXIpO1xuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29zYy1yZWFjdGlvbi1lZGl0ZWQnLCB0aGlzLnJlYWN0aW9uRWRpdGVkTGlzdGVuZXIpO1xuICB9XG5cbiAgc2hvd01lbnUoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzTWVudUFjdGl2ZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIHRvZ2dsZVJlcGx5Rm9ybSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNSZXBseUZyb21BY3RpdmU6ICF0aGlzLnN0YXRlLmlzUmVwbHlGcm9tQWN0aXZlIH0pO1xuICB9XG5cbiAgdG9nZ2xlRWRpdEZvcm0od2hhdCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0TW9kZTogIXRoaXMuc3RhdGUuZWRpdE1vZGUgfSk7XG4gIH1cblxuICBjYW5FZGl0KCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRhdGEuY2FuLmVkaXQ7XG4gIH1cblxuICBjYW5EZWxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGF0YS5jYW4uZGVsZXRlO1xuICB9XG5cbiAgY2FuTGlrZSgpIHtcbiAgICBpZiAodGhpcy5jb25maWcuaXNDbG9zZWQpIHJldHVybiBmYWxzZTtcbiAgICBsZXQgcmVxdWlyZWRVc2VyUm9sZSA9IHRoaXMuY29uZmlnLnJlcXVpcmVkVXNlclJvbGU7XG4gICAgbGV0IHVzZXJSb2xlID0gdGhpcy5wcm9wcy51c2VyICYmIHRoaXMucHJvcHMudXNlci5yb2xlO1xuICAgICAgcmV0dXJuICggcmVxdWlyZWRVc2VyUm9sZSA9PSAnYW5vbnltb3VzJyAmJiB1c2VyUm9sZSApICB8fFxuICAgICAgICAoIHJlcXVpcmVkVXNlclJvbGUgPT0gJ21lbWJlcicgJiYgKCB1c2VyUm9sZSA9PSAnbWVtYmVyJyB8fCB1c2VyUm9sZSA9PSAnZWRpdG9yJyB8fCB1c2VyUm9sZSA9PSAnbW9kZXJhdG9yJyB8fCB1c2VyUm9sZSA9PSAnYWRtaW4nICkgKSAgfHxcbiAgICAgICAgKCByZXF1aXJlZFVzZXJSb2xlID09ICdlZGl0b3InICYmICggdXNlclJvbGUgPT0gJ2VkaXRvcicgfHwgdXNlclJvbGUgPT0gJ21vZGVyYXRvcicgfHwgdXNlclJvbGUgPT0gJ2FkbWluJyApICkgIHx8XG4gICAgICAgICggcmVxdWlyZWRVc2VyUm9sZSA9PSAnbW9kZXJhdG9yJyAmJiAoIHVzZXJSb2xlID09ICdtb2RlcmF0b3InIHx8IHVzZXJSb2xlID09ICdhZG1pbicgKSApICB8fFxuICAgICAgICAoIHJlcXVpcmVkVXNlclJvbGUgPT0gJ2FkbWluJyAmJiB1c2VyUm9sZSA9PSAnYWRtaW4nICk7XG4gIH1cblxuICBjYW5SZXBseSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kYXRhLmNhbi5yZXBseTtcbiAgfVxuXG4gIHN1Ym1pdERlbGV0ZSgpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIGlmICghc2VsZi5jYW5EZWxldGUoKSkgcmV0dXJuIGFsZXJ0KCdVIGt1bnQgZGV6ZSByZWFjdGllIG5pZXQgdmVyd2lqZGVyZW4nKTtcblxuICAgIGxldCB1cmwgPSBgJHtzZWxmLmNvbmZpZy5hcGkgJiYgc2VsZi5jb25maWcuYXBpLnVybCAgIH0vYXBpL3NpdGUvJHsgIHNlbGYuY29uZmlnLnNpdGVJZCAgfS9pZGVhLyR7ICBzZWxmLmNvbmZpZy5pZGVhSWQgIH0vYXJndW1lbnQvJHsgIHNlbGYucHJvcHMuZGF0YS5pZH1gO1xuICAgIGxldCBoZWFkZXJzID0gT3BlblN0YWRDb21wb25lbnRMaWJzLmFwaS5nZXRIZWFkZXJzKHNlbGYuY29uZmlnKTtcblxuICAgIGxldCBib2R5ID0ge307XG5cbiAgICBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgfSlcbiAgICAgIC50aGVuKCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihqc29uKSB7XG4gICAgICAgIHNlbGYuc2V0U3RhdGUoeyBpc0RlbGV0ZWQ6IHRydWUgfSk7XG5cblx0XHQgICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdvc2MtcmVhY3Rpb24tZGVsZXRlZCcsIHsgZGV0YWlsOiB7IGlkZWFJZDogc2VsZi5jb25maWcuaWRlYUlkIH0gfSk7XG5cdFx0ICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgZXJyb3IudGhlbihmdW5jdGlvbihtZXNzYWdlcykgeyByZXR1cm4gY29uc29sZS5sb2cobWVzc2FnZXMpO30gKTtcbiAgICAgIH0pO1xuXG4gIH1cblxuICBzdWJtaXRMaWtlKCkge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgaWYgKCFzZWxmLmNhbkxpa2UoKSkgcmV0dXJuIGFsZXJ0KCdVIGt1bnQgZGV6ZSByZWFjdGllIG5pZXQgbGlrZW4nKTtcblxuICAgIGxldCB1cmwgPSBgJHtzZWxmLmNvbmZpZy5hcGkgJiYgc2VsZi5jb25maWcuYXBpLnVybCAgIH0vYXBpL3NpdGUvJHsgIHNlbGYuY29uZmlnLnNpdGVJZCAgfS9pZGVhLyR7ICBzZWxmLmNvbmZpZy5pZGVhSWQgIH0vYXJndW1lbnQvJHsgIHNlbGYucHJvcHMuZGF0YS5pZCAgfS92b3RlYDtcbiAgICBsZXQgaGVhZGVycyA9IE9wZW5TdGFkQ29tcG9uZW50TGlicy5hcGkuZ2V0SGVhZGVycyhzZWxmLmNvbmZpZyk7XG5cbiAgICBsZXQgYm9keSA9IHt9O1xuXG4gICAgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICB9KVxuICAgICAgLnRoZW4oIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coeyB5ZXM6IGpzb24ueWVzLCBoYXNVc2VyVm90ZWQ6IGpzb24uaGFzVXNlclZvdGVkIH0pO1xuICAgICAgICBzZWxmLnNldFN0YXRlKHsgeWVzOiBqc29uLnllcywgaGFzVXNlclZvdGVkOiBqc29uLmhhc1VzZXJWb3RlZCB9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICBlcnJvci50aGVuKGZ1bmN0aW9uKG1lc3NhZ2VzKSB7IHJldHVybiBjb25zb2xlLmxvZyhtZXNzYWdlcyk7fSApO1xuICAgICAgfSk7XG5cbiAgfVxuXG4gIG9uTmV3UmVhY3Rpb25TdG9yZWQocmVhY3Rpb24pIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNNZW51QWN0aXZlOiBmYWxzZSwgaXNSZXBseUZyb21BY3RpdmU6IGZhbHNlIH0pO1xuICB9XG5cbiAgb25SZWFjdGlvbkVkaXRlZChyZWFjdGlvbikge1xuICAgIGlmIChyZWFjdGlvbi5pZCA9PSB0aGlzLnByb3BzLmRhdGEuaWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0TW9kZTogZmFsc2UsIGlzTWVudUFjdGl2ZTogZmFsc2UgfSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBkYXRhID0gc2VsZi5wcm9wcy5kYXRhIHx8IHsgY2FuOiB7fSB9O1xuXG4gICAgaWYgKGRhdGEuaXNEZWxldGVkKSByZXR1cm4gbnVsbDtcblxuICAgIGxldCBpc0FkbWluID0gT3BlblN0YWRDb21wb25lbnRMaWJzLnVzZXIuaGFzUm9sZShkYXRhLnVzZXIsICdlZGl0b3InKSA/ICdvc2MtaXMtYWRtaW4nIDogJyc7XG4gICAgbGV0IG1ldGFkYXRhSFRNTCA9IDxkaXYgY2xhc3NOYW1lPXtgb3NjLXJlYWN0aW9uLXVzZXIgJHtpc0FkbWlufWB9PntkYXRhLnVzZXIubmlja05hbWUgfHwgZGF0YS51c2VyLmZ1bGxOYW1lIHx8IGAke2RhdGEudXNlci5maXJzdE5hbWUgfSAkeyAgZGF0YS51c2VyLmxhc3ROYW1lfWB9PC9kaXY+XG5cbiAgICBsZXQgbWVudUhUTUwgPSBudWxsO1xuICAgIGlmICggc2VsZi5jYW5FZGl0KCkgJiYgc2VsZi5jYW5EZWxldGUoKSApIHtcbiAgICAgIG1lbnVIVE1MID0gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17IGBvc2MtcmVhY3Rpb24tbWVudSR7ICAgc2VsZi5zdGF0ZS5pc01lbnVBY3RpdmUgPyAnIG9zYy1yZWFjdGlvbi1oYW1idXJnZXItYWN0aXZlJyA6ICcnfWAgfSBvbkNsaWNrPXsgKCkgPT4geyBzZWxmLnNob3dNZW51KCk7IH19PlxuICAgICAgICAgIDxhIGNsYXNzTmFtZT1cIm9zYy1yZWFjdGlvbi1kZWxldGVcIiB0aXRsZT1cIkFyZ3VtZW50IHZlcndpamRlcmVuXCIgb25DbGljaz17ICgpID0+IHsgaWYgKGNvbmZpcm0oJ1dlZXQgamUgaGV0IHpla2VyPycpKSBzZWxmLnN1Ym1pdERlbGV0ZSgpOyB9IH0vPlxuICAgICAgICAgIDxhIGNsYXNzTmFtZT1cIm9zYy1yZWFjdGlvbi1lZGl0XCIgdGl0bGU9XCJBcmd1bWVudCBiZXdlcmtlblwiIG9uQ2xpY2s9eyAoKSA9PiBzZWxmLnRvZ2dsZUVkaXRGb3JtKCkgfS8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgZGVzY3JpcHRpb25IVE1MID0gKDxkaXYgY2xhc3NOYW1lPVwib3NjLXJlYWN0aW9uLWRlc2NyaXB0aW9uXCI+e2RhdGEuZGVzY3JpcHRpb259PC9kaXY+KTtcbiAgICBpZiAoc2VsZi5zdGF0ZS5lZGl0TW9kZSkge1xuICAgICAgZGVzY3JpcHRpb25IVE1MID0gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1yZWFjdGlvbi1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgIDxPcGVuU3RhZENvbXBvbmVudFJlYWN0aW9uRm9ybSBjb25maWc9e3sgLi4uc2VsZi5jb25maWcsIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLCBhcmd1bWVudElkOiBkYXRhLmlkIH19IHVzZXI9e3NlbGYuc3RhdGUudXNlcn0gcmVmPXtlbCA9PiAoc2VsZi5lZGl0Rm9ybSA9IGVsKX0vPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGxpa2VCdXR0b25IVE1MID0gbnVsbDtcbiAgICBpZiAoIWRhdGEucGFyZW50SWQpIHtcbiAgICAgIGxpa2VCdXR0b25IVE1MID0gKFxuXHRcdFx0ICA8YSBjbGFzc05hbWU9eyBgb3NjLXJlYWN0aW9uLWxpa2UtYnV0dG9uJHsgKCB0eXBlb2Ygc2VsZi5zdGF0ZS5oYXNVc2VyVm90ZWQgIT0gJ3VuZGVmaW5lZCcgPyBzZWxmLnN0YXRlLmhhc1VzZXJWb3RlZCA6IGRhdGEuaGFzVXNlclZvdGVkICkgPyAnIG9zYy1yZWFjdGlvbi1saWtlLWJ1dHRvbi1oYXN2b3RlZCcgOiAnJ31gIH0gb25DbGljaz17ICgpID0+IHNlbGYuc3VibWl0TGlrZSgpIH0+XG5cdFx0XHRcdCAgTWVlIGVlbnMgKDxzcGFuPnsoIHR5cGVvZiBzZWxmLnN0YXRlLnllcyAhPSAndW5kZWZpbmVkJyA/IHNlbGYuc3RhdGUueWVzIDogZGF0YS55ZXMgKSB8IDB9PC9zcGFuPilcbiAgICAgICAgPC9hPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgcmVwbHlCdXR0b25IVE1MID0gbnVsbDtcbiAgICBsZXQgcmVwbHlGb3JtSFRNTCA9IG51bGw7XG4gICAgaWYgKHNlbGYuY2FuUmVwbHkoKSAmJiAhc2VsZi5jb25maWcuaXNDbG9zZWQpIHtcbiAgICAgIHJlcGx5QnV0dG9uSFRNTCA9ICg8YSBvbkNsaWNrPXsgKCkgPT4gc2VsZi50b2dnbGVSZXBseUZvcm0oKSB9IGNsYXNzTmFtZT1cIm9zYy1yZXBseS1idXR0b25cIj5SZWFnZXJlbjwvYT4pO1xuICAgICAgaWYgKHNlbGYuc3RhdGUuaXNSZXBseUZyb21BY3RpdmUpIHtcbiAgICAgICAgbGV0IGNvbmZpZyA9IHsgLi4uc2VsZi5jb25maWcsIHBhcmVudElkOiBkYXRhLmlkIH07XG4gICAgICAgIGNvbmZpZy5mb3JtSW50cm8gPSAnJztcbiAgICAgICAgcmVwbHlGb3JtSFRNTCA9IChcblx0XHRcdCAgICA8ZGl2IGlkPXtgb3NjLXJlYWN0aW9uLSR7ZGF0YS5pZH1gfSBjbGFzc05hbWU9XCJvc2MtcmVwbHlcIj5cbiAgICAgICAgICAgIDxPcGVuU3RhZENvbXBvbmVudFJlYWN0aW9uRm9ybSBjb25maWc9e2NvbmZpZ30gdXNlcj17c2VsZi5zdGF0ZS51c2VyfSByZWY9e2VsID0+IChzZWxmLmVkaXRGb3JtID0gZWwpfS8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHJlcGxpZXNIVE1MID0gbnVsbDtcbiAgICBpZiAoZGF0YS5yZWFjdGlvbnMgJiYgZGF0YS5yZWFjdGlvbnMubGVuZ3RoKSB7XG4gICAgICByZXBsaWVzSFRNTCA9IChcbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm9zYy1yZWFjdGlvbnMtbGlzdFwiPlxuICAgICAgICAgIHtkYXRhLnJlYWN0aW9ucy5tYXAoKHJlYWN0aW9uKSA9PiB7XG5cbiAgICAgICAgICAgIGxldCBrZXkgPSBgb3NjLXJlYWN0aW9uLWtleS0keyAgIHJlYWN0aW9uLmlkIHx8IHBhcnNlSW50KCAxMDAwMDAwICogTWF0aC5yYW5kb20oKSApfWA7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8bGkga2V5PXtrZXl9PlxuICAgICAgICAgICAgICAgIDxPcGVuU3RhZENvbXBvbmVudFJlYWN0aW9uIGNvbmZpZz17c2VsZi5jb25maWd9IGNsYXNzTmFtZT1cIm9zYy1yZXBseVwiIHVzZXI9e3NlbGYuc3RhdGUudXNlcn0gZGF0YT17cmVhY3Rpb259Lz5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG5cblx0XHRcdCAgPGRpdiBpZD17YG9zYy1yZWFjdGlvbi0ke2RhdGEuaWR9YH0gY2xhc3NOYW1lPXsgc2VsZi5wcm9wcy5jbGFzc05hbWUgfHwgJ29zYy1yZWFjdGlvbicgfT5cblxuICAgICAgICAgIHttZW51SFRNTH1cblxuICAgICAgICAgIHttZXRhZGF0YUhUTUx9XG5cdFx0XHRcdCAgPGRpdiBjbGFzc05hbWU9XCJvc2MtcmVhY3Rpb24tZGF0ZVwiPntkYXRhLmNyZWF0ZURhdGVIdW1hbml6ZWR9PC9kaXY+XG4gICAgICAgICAge2Rlc2NyaXB0aW9uSFRNTH1cblxuICAgICAgICAgIHtsaWtlQnV0dG9uSFRNTH1cblx0XHRcdCAgICB7cmVwbHlCdXR0b25IVE1MfVxuXG5cdFx0ICAgIDwvZGl2PlxuXG5cdFx0XHQgIHtyZXBseUZvcm1IVE1MfVxuICAgICAgICB7cmVwbGllc0hUTUx9XG5cblx0XHQgIDwvZGl2PlxuXG4gICAgKTtcblxuICB9XG5cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50IGZyb20gJy4uLy4uL2NvbXBvbmVudC9pbmRleC5qc3gnO1xuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50TGlicyBmcm9tICcuLi8uLi9saWJzL2luZGV4LmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRSZWFjdGlvbkZvcm0gZnJvbSAnLi9yZWFjdGlvbi1mb3JtLmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRSZWFjdGlvbiBmcm9tICcuL3JlYWN0aW9uLmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5TdGFkQ29tcG9uZW50UmVhY3Rpb25zIGV4dGVuZHMgT3BlblN0YWRDb21wb25lbnQge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cbiAgICBzdXBlcihwcm9wcywge1xuICAgICAgc2Nyb2xsVG9OZXdSZWFjdGlvbjogdHJ1ZSxcbiAgICAgIGlzQ2xvc2VkOiBmYWxzZSxcbiAgICAgIGNsb3NlZFRleHQ6ICdEZSByZWFjdGllbW9nZWxpamtoZWlkIGlzIGdlc2xvdGVuJyxcbiAgICAgIHNlbnRpbWVudDogdW5kZWZpbmVkLFxuICAgICAgc2l0ZUlkOiBudWxsLFxuICAgICAgaWRlYUlkOiBudWxsLFxuICAgICAgdGl0bGU6IG51bGwsXG4gICAgICB1c2VyOiBudWxsLFxuICAgICAgbG9naW5Vcmw6ICcnLFxuICAgICAgYXBpOiB7XG4gICAgICAgIHVybDogbnVsbCxcbiAgICAgICAgaGVhZGVyczogbnVsbCxcbiAgICAgIH0sXG4gICAgICByZXF1aXJlZFVzZXJSb2xlOiAnbWVtYmVyJyxcbiAgICAgIHBsYWNlaG9sZGVyOiAnJyxcbiAgICAgIGZvcm1JbnRybzogJycsXG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdXNlcjogdGhpcy5jb25maWcudXNlcixcbiAgICAgIHJlYWN0aW9uczogW10sXG4gICAgfTtcblxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIC8vIHVzZXJcbiAgICBpZiAoISggc2VsZi5zdGF0ZS51c2VyICYmIHNlbGYuc3RhdGUudXNlci5yb2xlICkpIHtcbiAgICAgIE9wZW5TdGFkQ29tcG9uZW50TGlicy51c2VyLmdldFVzZXIoeyB1c2VyOiBzZWxmLmNvbmZpZy51c2VyLCBqd3Q6IHNlbGYuY29uZmlnLmp3dCwgc2l0ZUlkOiBzZWxmLmNvbmZpZy5zaXRlSWQsIGFwaTogc2VsZi5jb25maWcuYXBpIH0sIChlcnIsIHVzZXIpID0+IHtcbiAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IHVzZXIgfSwgKCkgPT4ge1xuICAgICAgICAgIHNlbGYuZmV0Y2hEYXRhKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuZmV0Y2hEYXRhKCk7XG4gICAgfVxuXG4gICAgc2VsZi5uZXdSZWFjdGlvblN0b3JlZExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHNlbGYub25OZXdSZWFjdGlvblN0b3JlZChldmVudC5kZXRhaWwpO1xuICAgIH07XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignb3NjLW5ldy1yZWFjdGlvbi1zdG9yZWQnLCBzZWxmLm5ld1JlYWN0aW9uU3RvcmVkTGlzdGVuZXIpO1xuXG4gICAgc2VsZi5yZWFjdGlvbkVkaXRlZExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHNlbGYub25SZWFjdGlvbkVkaXRlZChldmVudC5kZXRhaWwpO1xuICAgIH07XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignb3NjLXJlYWN0aW9uLWVkaXRlZCcsIHNlbGYucmVhY3Rpb25FZGl0ZWRMaXN0ZW5lcik7XG5cbiAgICBzZWxmLnJlYWN0aW9uRGVsZXRlZExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHNlbGYub25SZWFjdGlvbkRlbGV0ZWQoZXZlbnQuZGV0YWlsKTtcbiAgICB9O1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ29zYy1yZWFjdGlvbi1kZWxldGVkJywgc2VsZi5yZWFjdGlvbkRlbGV0ZWRMaXN0ZW5lcik7XG5cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29zYy1uZXctcmVhY3Rpb24tc3RvcmVkJywgdGhpcy5uZXdSZWFjdGlvblN0b3JlZExpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdvc2MtcmVhY3Rpb24tZWRpdGVkJywgdGhpcy5yZWFjdGlvbkVkaXRlZExpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdvc2MtcmVhY3Rpb24tZGVsZXRlZCcsIHRoaXMucmVhY3Rpb25EZWxldGVkTGlzdGVuZXIpO1xuICB9XG5cbiAgZmV0Y2hEYXRhKG5leHQpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIGxldCB1cmwgPSBgJHtzZWxmLmNvbmZpZy5hcGkgJiYgc2VsZi5jb25maWcuYXBpLnVybCAgIH0vYXBpL3NpdGUvJHsgIHNlbGYuY29uZmlnLnNpdGVJZCAgfS9pZGVhLyR7ICBzZWxmLmNvbmZpZy5pZGVhSWQgIH0vYXJndW1lbnQ/c2VudGltZW50PSR7ICBzZWxmLmNvbmZpZy5zZW50aW1lbnQgIH0md2l0aFVzZXI9MSZ3aXRoVXNlclZvdGU9MSZ3aXRoVm90ZUNvdW50PTEmaW5jbHVkZVJlYWN0aW9uc09uUmVhY3Rpb25zPTFgO1xuICAgIGxldCBoZWFkZXJzID0gT3BlblN0YWRDb21wb25lbnRMaWJzLmFwaS5nZXRIZWFkZXJzKHNlbGYuY29uZmlnKTtcblxuICAgIGZldGNoKHVybCwgeyBoZWFkZXJzIH0pXG4gICAgICAudGhlbiggZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyByZXNwb25zZS50ZXh0KCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oanNvbikge1xuXG4gICAgICAgIGxldCBzdGF0ZSA9IHsgLi4uc2VsZi5zdGF0ZSB9O1xuICAgICAgICBzdGF0ZS5yZWFjdGlvbnMgPSBqc29uO1xuICAgICAgICBzdGF0ZS5yZWFjdGlvbnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgIHJldHVybiBhLmNyZWF0ZWRBdCA8IGIuY3JlYXRlZEF0O1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUucmVhY3Rpb25zKTtcbiAgICAgICAgc2VsZi5zZXRTdGF0ZShzdGF0ZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKG5leHQpIHJldHVybiBuZXh0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgZXJyb3IudGhlbihmdW5jdGlvbihtZXNzYWdlcykgeyByZXR1cm4gY29uc29sZS5sb2cobWVzc2FnZXMpO30gKTtcbiAgICAgIH0pO1xuXG4gIH1cblxuICBvbk5ld1JlYWN0aW9uU3RvcmVkKHJlYWN0aW9uKSB7XG4gICAgdGhpcy5mZXRjaERhdGEoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuY29uZmlnLnNjcm9sbFRvTmV3UmVhY3Rpb24pIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgb3NjLXJlYWN0aW9uLSR7ICByZWFjdGlvbi5pZH1gKTtcbiAgICAgICAgaWYgKCBlbGVtZW50ICkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG9zYy1yZWFjdGlvbi0keyAgcmVhY3Rpb24uaWR9YCkuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uUmVhY3Rpb25FZGl0ZWQocmVhY3Rpb24pIHtcbiAgICB0aGlzLmZldGNoRGF0YSgpO1xuICB9XG5cbiAgb25SZWFjdGlvbkRlbGV0ZWQocmVhY3Rpb24pIHtcbiAgICB0aGlzLmZldGNoRGF0YSgpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgbGV0IHJlYWN0aW9ucyA9XG4gICAgICA8dWwgY2xhc3NOYW1lPVwib3NjLXJlYWN0aW9ucy1saXN0XCI+XG4gICAgICAgIHtzZWxmLnN0YXRlLnJlYWN0aW9ucy5tYXAoKHJlYWN0aW9uKSA9PiB7XG5cbiAgICAgICAgICBsZXQga2V5ID0gYG9zYy1yZWFjdGlvbi1rZXktJHsgICByZWFjdGlvbi5pZCB8fCBwYXJzZUludCggMTAwMDAwMCAqIE1hdGgucmFuZG9tKCkgKX1gO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8bGkga2V5PXtrZXl9PlxuICAgICAgICAgICAgICA8T3BlblN0YWRDb21wb25lbnRSZWFjdGlvbiBjb25maWc9e3NlbGYuY29uZmlnfSB1c2VyPXtzZWxmLnN0YXRlLnVzZXJ9IGRhdGE9e3sgLi4ucmVhY3Rpb24gfX0vPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICApO1xuXG4gICAgICAgIH0pfVxuICAgICAgPC91bD47XG5cbiAgICBsZXQgdGl0bGUgPSBzZWxmLmNvbmZpZy50aXRsZSA/IDxoMz57c2VsZi5jb25maWcudGl0bGV9PC9oMz4gOiBudWxsO1xuXG4gICAgbGV0IHJlYWN0aW9uRm9ybUhUTUwgPSA8T3BlblN0YWRDb21wb25lbnRSZWFjdGlvbkZvcm0gY29uZmlnPXtzZWxmLmNvbmZpZ30gdXNlcj17c2VsZi5zdGF0ZS51c2VyfS8+O1xuICAgIGlmIChzZWxmLmNvbmZpZy5pc0Nsb3NlZCkge1xuICAgICAgaWYgKHNlbGYuY29uZmlnLmNsb3NlZFRleHQpIHtcbiAgICAgICAgcmVhY3Rpb25Gb3JtSFRNTCA9IDxkaXYgY2xhc3NOYW1lPVwib3NjLWNsb3NlZC10ZXh0XCI+e3NlbGYuY29uZmlnLmNsb3NlZFRleHR9PC9kaXY+XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWFjdGlvbkZvcm1IVE1MID0gbnVsbFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGlkPXt0aGlzLmlkfSBjbGFzc05hbWU9e3NlbGYucHJvcHMuY2xhc3NOYW1lIHx8ICdvc2MtcmVhY3Rpb25zJ30gcmVmPXsoZWwpID0+IHsgdGhpcy5pbnN0YW5jZSA9IGVsOyB9fSA+XG5cbiAgICAgICAge3RpdGxlfVxuXG4gICAgICAgIHtyZWFjdGlvbkZvcm1IVE1MfVxuXG4gICAgICAgIHtyZWFjdGlvbnN9XG4gICAgICAgIDxici8+PGJyLz5cblxuICAgICAgPC9kaXY+XG4gICAgKTtcblxuICB9XG5cbn1cbiIsIi8vIHBvbHlmaWxsc1xuaW1wb3J0ICd3aGF0d2ctZmV0Y2gnO1xuXG4vLyByZWFjdFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG4vLyBpbXBvcnQgY3NzIHRvIG1ha2Ugc3VyZSBpdCBpcyBnZW5lcmF0ZWQgaW4gdGhlIHJlc3VsdFxuaW1wb3J0ICcuL2Nzcy9kZWZhdWx0Lmxlc3MnO1xuXG4vLyB0aGUgbW9kdWxlXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRSZWFjdGlvbnMgZnJvbSAnLi9jb21wb25lbnQvcmVhY3Rpb25zLmpzeCc7XG5cbi8vIHJlbmRlciBlbGVtZW50c1xuT3BlblN0YWRDb21wb25lbnRSZWFjdGlvbnMucmVuZGVyRWxlbWVudCA9IGZ1bmN0aW9uIHJlbmRlckVsZW1lbnQoIGVsZW0sIGNvbmZpZyApIHtcbiAgbGV0IGF0dHJpYnV0ZXMgPSBlbGVtLmF0dHJpYnV0ZXM7XG5cdFJlYWN0RE9NLnJlbmRlciggPE9wZW5TdGFkQ29tcG9uZW50UmVhY3Rpb25zIGF0dHJpYnV0ZXM9e2F0dHJpYnV0ZXN9IGNvbmZpZz17Y29uZmlnfS8+LCBlbGVtKVxufVxuXG5leHBvcnQge1xuICBPcGVuU3RhZENvbXBvbmVudFJlYWN0aW9ucyBhcyBkZWZhdWx0LFxuICBPcGVuU3RhZENvbXBvbmVudFJlYWN0aW9ucyBhcyBSZWFjdGlvbnMsXG59O1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudCBmcm9tICcuLi8uLi9jb21wb25lbnQvaW5kZXguanN4JztcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudExpYnMgZnJvbSAnLi4vLi4vbGlicy9pbmRleC5qc3gnO1xuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50Rm9ybXMgZnJvbSAnLi4vLi4vZm9ybXMvaW5kZXguanN4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlblN0YWRDb21wb25lbnRQb2xsRm9ybSBleHRlbmRzIE9wZW5TdGFkQ29tcG9uZW50IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuXG4gICAgc3VwZXIocHJvcHMsIHtcbiAgICAgIHVzZXI6IHt9LFxuICAgICAgcXVlc3Rpb25NaW5MZW5ndGg6IDMwLFxuICAgICAgcXVlc3Rpb25NYXhMZW5ndGg6IDUwMCxcbiAgICAgIHRpdGxlTWluTGVuZ3RoOiAzMCxcbiAgICAgIHRpdGxlTWF4TGVuZ3RoOiA1MDAsXG4gICAgICBkZXNjcmlwdGlvbk1pbkxlbmd0aDogMzAsXG4gICAgICBkZXNjcmlwdGlvbk1heExlbmd0aDogNTAwLFxuICAgICAgYWxsb3dDaG9pY2VUaXRsZXM6IHRydWUsXG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdXNlcjogcHJvcHMudXNlcixcbiAgICAgIHBvbGxJZDogcHJvcHMucG9sbElkLFxuICAgICAgcG9sbDogcHJvcHMucG9sbCxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG4gICAgfTtcblxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIC8vIHVzZXJcbiAgICBpZiAoISggc2VsZi5zdGF0ZS51c2VyICYmIHNlbGYuc3RhdGUudXNlci5yb2xlICkpIHtcbiAgICAgIE9wZW5TdGFkQ29tcG9uZW50TGlicy51c2VyLmdldFVzZXIoeyB1c2VyOiBzZWxmLmNvbmZpZy51c2VyLCBqd3Q6IHNlbGYuY29uZmlnLmp3dCwgc2l0ZUlkOiBzZWxmLmNvbmZpZy5zaXRlSWQsIGFwaTogc2VsZi5jb25maWcuYXBpIH0sIChlcnIsIHVzZXIpID0+IHtcbiAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IHVzZXIgfSwgKCkgPT4ge1xuICAgICAgICAgIGlmICggIXNlbGYuc3RhdGUucG9sbCApIHNlbGYuZmV0Y2hEYXRhKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICggIXNlbGYuc3RhdGUucG9sbCApIHNlbGYuZmV0Y2hEYXRhKCk7XG4gICAgfVxuXG4gIH1cblxuICBmZXRjaERhdGEobmV4dCkge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGlmICghc2VsZi5zdGF0ZS5wb2xsSWQpIHtcbiAgICAgIHJldHVybiBzZWxmLnNldFN0YXRlKHsgcG9sbDoge1xuICAgICAgICBxdWVzdGlvbjogJycsXG4gICAgICAgIGNob2ljZXM6IHsgXCIxXCI6IHt9LCBcIjJcIjoge30gfSxcbiAgICAgIH19KTtcbiAgICB9XG5cbiAgICBsZXQgdXJsID0gYCR7c2VsZi5jb25maWcuYXBpICYmIHNlbGYuY29uZmlnLmFwaS51cmwgICB9L2FwaS9zaXRlLyR7ICBzZWxmLmNvbmZpZy5zaXRlSWQgIH0vaWRlYS8keyAgc2VsZi5jb25maWcuaWRlYUlkICB9L3BvbGwvJHsgc2VsZi5jb25maWcucG9sbElkIH0/d2l0aFVzZXI9MSZ3aXRoVm90ZXM9MWA7XG4gICAgbGV0IGhlYWRlcnMgPSBPcGVuU3RhZENvbXBvbmVudExpYnMuYXBpLmdldEhlYWRlcnMoc2VsZi5jb25maWcpO1xuXG4gICAgZmV0Y2godXJsLCB7IGhlYWRlcnMgfSlcbiAgICAgIC50aGVuKCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihqc29uKSB7XG5cbiAgICAgICAgbGV0IHN0YXRlID0geyAuLi5zZWxmLnN0YXRlIH07XG4gICAgICAgIHN0YXRlLnBvbGwgPSBqc29uO1xuXG4gICAgICAgIHNlbGYuc2V0U3RhdGUoc3RhdGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChuZXh0KSByZXR1cm4gbmV4dCgpO1xuICAgICAgICB9KTtcblxuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIGVycm9yLnRoZW4oZnVuY3Rpb24obWVzc2FnZXMpIHsgcmV0dXJuIGNvbnNvbGUubG9nKG1lc3NhZ2VzKTt9ICk7XG4gICAgICB9KTtcblxuICB9XG5cbiAgdmFsaWRhdGVkUmVzdWx0KCkge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBwb2xsID0gc2VsZi5zdGF0ZS5wb2xsO1xuXG4gICAgbGV0IHF1ZXN0aW9uSW5wdXQgPSBzZWxmWydxdWVzdGlvbi1pbnB1dCddO1xuICAgIGxldCBpc1ZhbGlkID0gcXVlc3Rpb25JbnB1dC52YWxpZGF0ZSgpO1xuICAgIGxldCByZXN1bHQgPSB7IHF1ZXN0aW9uOiBxdWVzdGlvbklucHV0LnN0YXRlLnZhbHVlLCBjaG9pY2VzOiB7fSB9O1xuXG4gICAgT2JqZWN0LmtleXMocG9sbC5jaG9pY2VzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGxldCB0aXRsZUlucHV0ID0gc2VsZltgdGl0bGUtaW5wdXQtJHtrZXl9YF07XG4gICAgICBsZXQgZGVzY3JpcHRpb25JbnB1dCA9IHNlbGZbYGRlc2NyaXB0aW9uLWlucHV0LSR7a2V5fWBdO1xuICAgICAgaWYgKCEoIHRpdGxlSW5wdXQgJiYgdGl0bGVJbnB1dC5zdGF0ZS52YWx1ZSApICYmICFkZXNjcmlwdGlvbklucHV0LnN0YXRlLnZhbHVlKSByZXR1cm47XG4gICAgICByZXN1bHQuY2hvaWNlc1trZXldID0ge307XG4gICAgICBpZiAoc2VsZi5jb25maWcuYWxsb3dDaG9pY2VUaXRsZXMgJiYgdGl0bGVJbnB1dC5zdGF0ZS52YWx1ZSkge1xuICAgICAgICByZXN1bHQuY2hvaWNlc1trZXldLnRpdGxlID0gdGl0bGVJbnB1dC5zdGF0ZS52YWx1ZTtcbiAgICAgICAgaWYgKCF0aXRsZUlucHV0LnZhbGlkYXRlKCkpIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChkZXNjcmlwdGlvbklucHV0LnN0YXRlLnZhbHVlKSB7XG4gICAgICAgIHJlc3VsdC5jaG9pY2VzW2tleV0uZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbklucHV0LnN0YXRlLnZhbHVlO1xuICAgICAgICBpZiAoIWRlc2NyaXB0aW9uSW5wdXQudmFsaWRhdGUoKSkgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCFpc1ZhbGlkKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoT2JqZWN0LmtleXMocmVzdWx0LmNob2ljZXMpLmxlbmd0aCA8IDIpIHJldHVybiBudWxsO1xuICAgIHJldHVybiByZXN1bHQ7XG5cbiAgfVxuXG4gIGhhbmRsZU9uQ2hhbmdlKGRhdGEpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBsZXQgcG9sbCA9IHsgLi4uc2VsZi5zdGF0ZS5wb2xsIH07XG5cbiAgICBpZiAoZGF0YS5jaG9pY2UpIHtcbiAgICAgIHBvbGwuY2hvaWNlc1sgZGF0YS5jaG9pY2UuaWQgXSA9IHtcbiAgICAgICAgdGl0bGU6IHNlbGYuY29uZmlnLmFsbG93Q2hvaWNlVGl0bGVzICYmIGRhdGEuY2hvaWNlLnRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5jaG9pY2UuZGVzY3JpcHRpb24sXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRhdGEucXVlc3Rpb24pIHtcbiAgICAgIHBvbGwucXVlc3Rpb24gPSBkYXRhLnF1ZXN0aW9uO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBwb2xsIH0sICgpID0+IHtcbiAgICB9KTtcblxuICB9XG5cbiAgYWRkQ2hvaWNlKCkge1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBsZXQgcG9sbCA9IHsgLi4uc2VsZi5zdGF0ZS5wb2xsIH07XG4gICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhwb2xsLmNob2ljZXMpLnNvcnQoKTtcbiAgICBsZXQga2V5ID0gcGFyc2VJbnQoIGtleXNba2V5cy5sZW5ndGgtMV0gKSArIDE7XG4gICAgcG9sbC5jaG9pY2VzWyBrZXkgXSA9IHt9O1xuICAgIHNlbGYuc2V0U3RhdGUoeyBwb2xsIH0pXG4gIH1cblxuICBjYW5TdWJtaXQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUucG9sbCAmJiB0aGlzLnN0YXRlLnBvbGwuY2FuKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5wb2xsLmNhbi5lZGl0O1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcmVxdWlyZWRVc2VyUm9sZSA9IHRoaXMuY29uZmlnLnJlcXVpcmVkVXNlclJvbGU7XG4gICAgICBsZXQgdXNlclJvbGUgPSAnbW9kZXJhdG9yJyB8fCB0aGlzLnByb3BzLnVzZXIgJiYgdGhpcy5wcm9wcy51c2VyLnJvbGU7XG4gICAgICAvLyB0b2RvOiBvd25lcjsgZHVzIGRpdCBtb2V0IGFuZGVyc1xuICAgICAgcmV0dXJuICggcmVxdWlyZWRVc2VyUm9sZSA9PSAnYW5vbnltb3VzJyAmJiB1c2VyUm9sZSApICB8fFxuICAgICAgICAoIHJlcXVpcmVkVXNlclJvbGUgPT0gJ21lbWJlcicgJiYgKCB1c2VyUm9sZSA9PSAnbWVtYmVyJyB8fCB1c2VyUm9sZSA9PSAnZWRpdG9yJyB8fCB1c2VyUm9sZSA9PSAnbW9kZXJhdG9yJyB8fCB1c2VyUm9sZSA9PSAnYWRtaW4nICkgKSAgfHxcbiAgICAgICAgKCByZXF1aXJlZFVzZXJSb2xlID09ICdlZGl0b3InICYmICggdXNlclJvbGUgPT0gJ2VkaXRvcicgfHwgdXNlclJvbGUgPT0gJ21vZGVyYXRvcicgfHwgdXNlclJvbGUgPT0gJ2FkbWluJyApICkgIHx8XG4gICAgICAgICggcmVxdWlyZWRVc2VyUm9sZSA9PSAnbW9kZXJhdG9yJyAmJiAoIHVzZXJSb2xlID09ICdtb2RlcmF0b3InIHx8IHVzZXJSb2xlID09ICdhZG1pbicgKSApICB8fFxuICAgICAgICAoIHJlcXVpcmVkVXNlclJvbGUgPT0gJ2FkbWluJyAmJiB1c2VyUm9sZSA9PSAnYWRtaW4nICk7XG4gICAgfVxuICB9XG5cbiAgc3VibWl0Rm9ybSgpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuc2V0U3RhdGUoeyBpc0J1c3k6IHRydWUgfSwgKCkgPT4ge1xuXG4gICAgICBsZXQgdmFsaWRhdGVkUmVzdWx0ID0gc2VsZi52YWxpZGF0ZWRSZXN1bHQoKTtcbiAgICAgIGlmICghdmFsaWRhdGVkUmVzdWx0KSB7XG4gICAgICAgIHNlbGYuc2V0U3RhdGUoeyBpc0J1c3k6IGZhbHNlIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghc2VsZi5jYW5TdWJtaXQoKSkgcmV0dXJuIGFsZXJ0KCdKZSBiZW50IG5pZXQgaW5nZWxvZ2QnKTtcblxuICAgICAgbGV0IGlzTmV3ID0gdHJ1ZTtcbiAgICAgIGxldCB1cmwgPSBgJHsgc2VsZi5jb25maWcuYXBpICYmIHNlbGYuY29uZmlnLmFwaS51cmwgfS9hcGkvc2l0ZS8keyBzZWxmLmNvbmZpZy5zaXRlSWQgfS9pZGVhLyR7IHNlbGYuY29uZmlnLmlkZWFJZCB9L3BvbGxgO1xuICAgICAgbGV0IG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGlmIChzZWxmLnN0YXRlLnBvbGwgJiYgc2VsZi5zdGF0ZS5wb2xsLmlkKSB7XG4gICAgICAgIHVybCArPSBgLyR7IHNlbGYuc3RhdGUucG9sbC5pZCB9YDtcbiAgICAgICAgbWV0aG9kID0gJ1BVVCc7XG4gICAgICAgIGlzTmV3ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBsZXQgaGVhZGVycyA9IE9wZW5TdGFkQ29tcG9uZW50TGlicy5hcGkuZ2V0SGVhZGVycyhzZWxmLmNvbmZpZyk7XG5cbiAgICAgIGxldCBib2R5ID0gdmFsaWRhdGVkUmVzdWx0O1xuXG4gICAgICBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbihqc29uKSB7XG5cblx0XHQgICAgICBsZXQgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ29zYy1uZXctcG9sbC1zdG9yZWQnLCB7IGRldGFpbDoganNvbiB9KTtcbiAgICAgICAgICBpZiAoIWlzTmV3KSBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnb3NjLXBvbGwtZWRpdGVkJywgeyBkZXRhaWw6IGpzb24gfSk7XG5cblx0XHQgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuY29uZmlnLm9uRmluaXNoZWQgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc2VsZi5jb25maWcub25GaW5pc2hlZCh2YWxpZGF0ZWRSZXN1bHQpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgZXJyb3IudGhlbihmdW5jdGlvbihtZXNzYWdlcykgeyBhbGVydChtZXNzYWdlcyk7IHJldHVybiBjb25zb2xlLmxvZyhtZXNzYWdlcyk7fSApO1xuICAgICAgICAgIHNlbGYuc2V0U3RhdGUoeyBpc0J1c3k6IGZhbHNlIH0pO1xuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG4gIH1cblxuICByZW5kZXIoKSB7XG5cbiAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgbGV0IHBvbGwgPSBzZWxmLnN0YXRlLnBvbGwgfHwge307XG5cbiAgICBsZXQgZm9ybUludHJvID0gbnVsbDtcbiAgICBpZiAoc2VsZi5jb25maWcuZm9ybUludHJvKSB7XG4gICAgICBmb3JtSW50cm8gPSAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLWludHJvXCI+e3NlbGYuY29uZmlnLmZvcm1JbnRyb308L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIGxldCBzdWJtaXRCdXR0b25IVE1MID0gbnVsbDtcbiAgICBpZiAoc2VsZi5jYW5TdWJtaXQoKSkge1xuICAgICAgc3VibWl0QnV0dG9uSFRNTCA9IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtYWxpZ24tcmlnaHQtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJvc2MtYnV0dG9uLWJsdWVcIiBvbkNsaWNrPXsoKSA9PiB7IGlmIChzZWxmLmNvbmZpZy5vbkZpbmlzaGVkKSBzZWxmLmNvbmZpZy5vbkZpbmlzaGVkKCk7IH19PlRlcnVnPC9idXR0b24+XG5cdFx0XHQgICAgPGJ1dHRvbiBvbkNsaWNrPXsoZSkgPT4geyBpZiAoIXNlbGYuc3RhdGUuaXNCdXN5KSBzZWxmLnN1Ym1pdEZvcm0oKTsgfX0gY2xhc3NOYW1lPXtgb3NjLWJ1dHRvbi1ibHVlIG9zYy1tYXJnaW4tbGVmdCR7IHNlbGYuc3RhdGUuaXNCdXN5ID8gJyBvc2MtZGlzYWJsZWQnIDogJycgfWB9ID5WZXJ6ZW5kZW48L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWJtaXRCdXR0b25IVE1MID0gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1hbGlnbi1yaWdodC1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cIm9zYy1idXR0b24tYmx1ZVwiIG9uQ2xpY2s9eygpID0+IHsgaWYgKHNlbGYuY29uZmlnLm9uRmluaXNoZWQpIHNlbGYuY29uZmlnLm9uRmluaXNoZWQoKTsgfX0+VGVydWc8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgT3BlblN0YWRDb21wb25lbnRMaWJzLmxvY2FsU3RvcmFnZS5zZXQoJ29zYy1yZWFjdGlvbnMtbG9naW4tcGVuZGluZycsIHRydWUpOyBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gc2VsZi5jb25maWcubG9naW5Vcmw7IH19IGNsYXNzTmFtZT1cIm9zYy1idXR0b24tYmx1ZSBvc2Mtbm90LWxvZ2dlZC1pbi1idXR0b24gb3NjLW1hcmdpbi1sZWZ0XCI+SW5sb2dnZW48L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGlkPXtzZWxmLmRpdklkfSBjbGFzc05hbWU9XCJvc2MtZm9ybVwiIHJlZj17ZWwgPT4gKHNlbGYuaW5zdGFuY2UgPSBlbCl9ID5cbiAgICAgICAge2Zvcm1JbnRyb31cblxuICAgICAgICA8aDQ+VnJhYWc8L2g0PlxuICAgICAgICA8T3BlblN0YWRDb21wb25lbnRGb3Jtcy5JbnB1dFdpdGhDb3VudGVyIGNvbmZpZz17eyBpbnB1dFR5cGU6ICd0ZXh0JywgbWluTGVuZ3RoOiBzZWxmLmNvbmZpZy5xdWVzdGlvbk1pbkxlbmd0aCwgbWF4TGVuZ3RoOiBzZWxmLmNvbmZpZy5xdWVzdGlvbk1heExlbmd0aCwgcGxhY2Vob2xkZXI6ICdWcmFhZycgfX0gdmFsdWU9e3BvbGwucXVlc3Rpb259IG9uQ2hhbmdlPXsgZGF0YSA9PiBzZWxmLmhhbmRsZU9uQ2hhbmdlKHsgcXVlc3Rpb246IGRhdGEudmFsdWUgfSkgfSByZWY9e2VsID0+IChzZWxmW2BxdWVzdGlvbi1pbnB1dGBdID0gZWwpfS8+XG5cbiAgICAgICAgPGg0PktldXplbW9nZWxpamtoZWRlbjwvaDQ+XG4gICAgICAgIDxvbCBjbGFzc05hbWU9XCJvc2MtcG9sbC1mb3JtLWNob2ljZXNcIj5cbiAgICAgICAgICB7cG9sbCAmJiBwb2xsLmNob2ljZXMgJiYgT2JqZWN0LmtleXMocG9sbC5jaG9pY2VzKS5zb3J0KCkubWFwKChrZXkpID0+IHtcbiAgICAgICAgICAgIGxldCBjaG9pY2UgPSBwb2xsLmNob2ljZXNba2V5XTtcbiAgICAgICAgICAgIGxldCB0aXRsZUlucHV0SFRNTCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc2VsZi5jb25maWcuYWxsb3dDaG9pY2VUaXRsZXMpIHRpdGxlSW5wdXRIVE1MID0gPE9wZW5TdGFkQ29tcG9uZW50Rm9ybXMuSW5wdXRXaXRoQ291bnRlciBjb25maWc9e3sgaW5wdXRUeXBlOiAndGV4dCcsIG1pbkxlbmd0aDogc2VsZi5jb25maWcudGl0bGVNaW5MZW5ndGgsIG1heExlbmd0aDogc2VsZi5jb25maWcudGl0bGVNYXhMZW5ndGgsIHBsYWNlaG9sZGVyOiAnVGl0ZWwnIH19IHZhbHVlPXtjaG9pY2UudGl0bGV9IG9uQ2hhbmdlPXsgZGF0YSA9PiBzZWxmLmhhbmRsZU9uQ2hhbmdlKHsgY2hvaWNlOiB7IGlkOiBrZXksIHRpdGxlOiBkYXRhLnZhbHVlIH0gfSkgfSByZWY9e2VsID0+IChzZWxmW2B0aXRsZS1pbnB1dC0ke2tleX1gXSA9IGVsKX0vPjtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJvc2MtcG9sbC1mb3JtLWNob2ljZVwiIGtleT17YG9zYy1rZXktJHtrZXl9YH0+XG4gICAgICAgICAgICAgICAge3RpdGxlSW5wdXRIVE1MfVxuICAgICAgICAgICAgICAgIDxPcGVuU3RhZENvbXBvbmVudEZvcm1zLklucHV0V2l0aENvdW50ZXIgY29uZmlnPXt7IGlucHV0VHlwZTogJ3RleHQnLCBtaW5MZW5ndGg6IHNlbGYuY29uZmlnLmRlc2NyaXB0aW9uTWluTGVuZ3RoLCBtYXhMZW5ndGg6IHNlbGYuY29uZmlnLmRlc2NyaXB0aW9uTWF4TGVuZ3RoLCBwbGFjZWhvbGRlcjogJ0Jlc2NocmlqdmluZycgfX0gdmFsdWU9e2Nob2ljZS5kZXNjcmlwdGlvbn0gb25DaGFuZ2U9eyBkYXRhID0+IHNlbGYuaGFuZGxlT25DaGFuZ2UoeyBjaG9pY2U6IHsgaWQ6IGtleSwgZGVzY3JpcHRpb246IGRhdGEudmFsdWUgfSB9KSB9IHJlZj17ZWwgPT4gKHNlbGZbYGRlc2NyaXB0aW9uLWlucHV0LSR7a2V5fWBdID0gZWwpfS8+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L29sPlxuXG4gICAgICAgIDxhIGNsYXNzTmFtZT1cIm9zYy1hZGQtY2hvaWNlLWJ1dHRvblwiIG9uQ2xpY2s9eyBlID0+IHRoaXMuYWRkQ2hvaWNlKCkgfT5Ob2cgZWVuIGtldXplbW9nZWxpamtoZWlkIHRvZXZvZWdlbjwvYT5cbiAgICAgICAgXG4gICAgICAgIHtzdWJtaXRCdXR0b25IVE1MfVxuXG4gICAgICA8L2Rpdj5cbiAgICApO1xuXG4gIH1cblxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnQgZnJvbSAnLi4vLi4vY29tcG9uZW50L2luZGV4LmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRMaWJzIGZyb20gJy4uLy4uL2xpYnMvaW5kZXguanN4JztcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudEZvcm1zIGZyb20gJy4uLy4uL2Zvcm1zL2luZGV4LmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRQb2xsRm9ybSBmcm9tICcuL3BvbGwtZm9ybS5qc3gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuU3RhZENvbXBvbmVudFBvbGwgZXh0ZW5kcyBPcGVuU3RhZENvbXBvbmVudCB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcblxuICAgIHN1cGVyKHByb3BzLCB7XG4gICAgICBzaXRlSWQ6IG51bGwsXG4gICAgICBpZGVhSWQ6IG51bGwsXG4gICAgICB0aXRsZTogbnVsbCwgLy8gaG9vcnQgbmlldCBoaWVyXG4gICAgICB0aXRsZU1pbkxlbmd0aDogMzAsXG4gICAgICB0aXRsZU1heExlbmd0aDogNTAwLFxuICAgICAgZGVzY3JpcHRpb25NaW5MZW5ndGg6IDMwLFxuICAgICAgZGVzY3JpcHRpb25NYXhMZW5ndGg6IDUwMCxcbiAgICAgIHVzZXI6IG51bGwsXG4gICAgICBsb2dpblVybDogJycsXG4gICAgICBhcGk6IHtcbiAgICAgICAgdXJsOiBudWxsLFxuICAgICAgICBoZWFkZXJzOiBudWxsLFxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVkVXNlclJvbGU6ICdtZW1iZXInLFxuICAgICAgd2l0aFBlcmNlbnRhZ2U6IHRydWUsXG4gICAgICBhbGxvd0Nob2ljZVRpdGxlczogdHJ1ZSxcbiAgICAgIGFsbG93U2hvd1Jlc3VsdHNJZk5vdFZvdGVkOiBmYWxzZSxcbiAgICB9KTtcblxuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuY29uZmlnLmxvZ2luVXJsID0gc2VsZi5jb25maWcubG9naW5VcmwgfHwgJy9vYXV0aC9sb2dpbj9yZXR1cm5Ubz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpO1xuICAgIHNlbGYuaGlkZUVkaXRGb3JtID0gc2VsZi5oaWRlRWRpdEZvcm0uYmluZChzZWxmKTtcblxuICAgIHNlbGYuc3RhdGUgPSB7XG4gICAgICB1c2VyOiBzZWxmLmNvbmZpZy51c2VyLFxuICAgICAgcG9sbDogcHJvcHMucG9sbCxcbiAgICAgIHBvbGxJZDogKCBwcm9wcy5wb2xsICYmIHByb3BzLnBvbGwuaWQgKSB8fCBzZWxmLmNvbmZpZy5wb2xsSWQsXG4gICAgICBzZWxlY3RlZENob2ljZTogbnVsbCxcbiAgICAgIHNob3dSZXN1bHQ6IGZhbHNlLFxuICAgICAgc2hvd1F1ZXN0aW9uOiBmYWxzZSxcbiAgICAgIGVkaXRNb2RlOiBmYWxzZSxcbiAgICAgIHNob3dWb3RlU3VjY2VlZGVkOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgaWYgKHNlbGYuc3RhdGUucG9sbCkge1xuICAgICAgc2VsZi5wYXJzZVZvdGVDb3VudChzZWxmLnN0YXRlLnBvbGwpO1xuICAgICAgaWYgKHNlbGYuc3RhdGUucG9sbC51c2VyVm90ZSkge1xuICAgICAgICBzZWxmLnN0YXRlLnNlbGVjdGVkQ2hvaWNlID0gc2VsZi5zdGF0ZS5wb2xsLnVzZXJWb3RlO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIC8vIHVzZXJcbiAgICBpZiAoISggc2VsZi5zdGF0ZS51c2VyICYmIHNlbGYuc3RhdGUudXNlci5yb2xlICkpIHtcbiAgICAgIE9wZW5TdGFkQ29tcG9uZW50TGlicy51c2VyLmdldFVzZXIoeyB1c2VyOiBzZWxmLmNvbmZpZy51c2VyLCBqd3Q6IHNlbGYuY29uZmlnLmp3dCwgc2l0ZUlkOiBzZWxmLmNvbmZpZy5zaXRlSWQsIGFwaTogc2VsZi5jb25maWcuYXBpIH0sIChlcnIsIHVzZXIpID0+IHtcbiAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IHVzZXIgfSwgKCkgPT4ge1xuICAgICAgICAgIGlmICghc2VsZi5zdGF0ZS5wb2xsICYmIHNlbGYuY29uZmlnLmlkZWFJZCkgc2VsZi5mZXRjaERhdGEoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFzZWxmLnN0YXRlLnBvbGwgJiYgc2VsZi5jb25maWcuaWRlYUlkKSBzZWxmLmZldGNoRGF0YSgpO1xuICAgIH1cblxuICB9XG5cbiAgZmV0Y2hEYXRhKG5leHQpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIGlmICghc2VsZi5zdGF0ZS5wb2xsSWQpIHtcbiAgICAgIC8vIG5vIGRhdGE6IHNob3cgbmV3IHBvbGwgZm9ybVxuICAgICAgcmV0dXJuIHNlbGYuc2V0U3RhdGUoeyBlZGl0TW9kZTogdHJ1ZSB9LCAoKSA9PntcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgbGV0IHVybCA9IGAke3NlbGYuY29uZmlnLmFwaSAmJiBzZWxmLmNvbmZpZy5hcGkudXJsICAgfS9hcGkvc2l0ZS8keyAgc2VsZi5jb25maWcuc2l0ZUlkICB9L2lkZWEvJHsgIHNlbGYuY29uZmlnLmlkZWFJZCAgfS9wb2xsLyR7IHNlbGYuc3RhdGUucG9sbElkIH0/d2l0aFVzZXI9MSZ3aXRoVXNlclZvdGU9MSZ3aXRoVm90ZUNvdW50PTEmd2l0aFZvdGVzPTFgO1xuICAgIGxldCBoZWFkZXJzID0gT3BlblN0YWRDb21wb25lbnRMaWJzLmFwaS5nZXRIZWFkZXJzKHNlbGYuY29uZmlnKTtcblxuICAgIGZldGNoKHVybCwgeyBoZWFkZXJzIH0pXG4gICAgICAudGhlbiggZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyByZXNwb25zZS50ZXh0KCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oanNvbikge1xuXG4gICAgICAgIGxldCBzdGF0ZSA9IHsgLi4uc2VsZi5zdGF0ZSwgc2hvd1Jlc3VsdDogZmFsc2UsIHNob3dRdWVzdGlvbjogZmFsc2UsIH07XG4gICAgICAgIHN0YXRlLnBvbGwgPSBqc29uO1xuICAgICAgICBzdGF0ZS5wb2xsSWQgPSBqc29uLmlkO1xuXG4gICAgICAgIHNlbGYucGFyc2VWb3RlQ291bnQoc3RhdGUucG9sbCk7XG5cbiAgICAgICAgaWYgKHN0YXRlLnBvbGwudXNlclZvdGUpIHtcbiAgICAgICAgICBzdGF0ZS5zZWxlY3RlZENob2ljZSA9IHN0YXRlLnBvbGwudXNlclZvdGU7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnNldFN0YXRlKHN0YXRlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAobmV4dCkgcmV0dXJuIG5leHQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICBlcnJvci50aGVuKGZ1bmN0aW9uKG1lc3NhZ2VzKSB7IHJldHVybiBjb25zb2xlLmxvZyhtZXNzYWdlcyk7fSApO1xuICAgICAgfSk7XG5cbiAgfVxuXG4gIHBhcnNlVm90ZUNvdW50KHBvbGwpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHBvbGwudm90ZUNvdW50KSB7XG4gICAgICBPYmplY3Qua2V5cyhwb2xsLmNob2ljZXMpLnNvcnQoKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgbGV0IGNob2ljZSA9IHBvbGwuY2hvaWNlc1trZXldO1xuICAgICAgICBjaG9pY2Uudm90ZXNBYnMgPSBwb2xsLnZvdGVDb3VudFtrZXldXG4gICAgICAgIGNob2ljZS52b3Rlc1ByYyA9IHBhcnNlSW50KDEwMCAqICggcG9sbC52b3RlQ291bnRba2V5XSAvIHBvbGwudm90ZUNvdW50LnRvdGFsICkpO1xuICAgICAgICBjaG9pY2Uudm90ZXNQcmMgPSBjaG9pY2Uudm90ZXNQcmMgfHwgMDtcbiAgICAgIH0pO1xuICAgIH1cblxuICB9XG5cbiAgc2hvd0VkaXRGb3JtKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0TW9kZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIGhpZGVFZGl0Rm9ybSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGVkaXRNb2RlOiBmYWxzZSxcbiAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZmV0Y2hEYXRhKClcbiAgICB9KTtcbiAgfVxuXG4gIHNldFNob3dSZXN1bHQoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dSZXN1bHQ6IHRydWUgfSk7XG4gIH1cblxuICBzZXRTaG93UXVlc3Rpb24oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dRdWVzdGlvbjogdHJ1ZSB9KTtcbiAgfVxuXG4gIHNlbGVjdENob2ljZShkYXRhKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkQ2hvaWNlOiBkYXRhLmNob2ljZSB9KTtcbiAgfVxuXG4gIG9uUmVhY3Rpb25FZGl0ZWQocmVhY3Rpb24pIHtcbiAgICB0aGlzLmZldGNoRGF0YSgpO1xuICB9XG5cbiAgaXNWYWxpZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLnN0YXRlLnNlbGVjdGVkQ2hvaWNlO1xuICB9XG5cbiAgY2FuU3VibWl0KCkge1xuICAgIGxldCByZXF1aXJlZFVzZXJSb2xlID0gdGhpcy5jb25maWcucmVxdWlyZWRVc2VyUm9sZTtcbiAgICBsZXQgdXNlclJvbGUgPSB0aGlzLnN0YXRlLnVzZXIgJiYgdGhpcy5zdGF0ZS51c2VyLnJvbGU7XG4gICAgLy8gdG9kbzogbmlldXdlIHJvbGxlbiBzdHJ1Y3R1dXJcbiAgICByZXR1cm4gIHJlcXVpcmVkVXNlclJvbGUgPT0gJ2Fub255bW91cycgJiYgdXNlclJvbGUgIHx8XG4gICAgICAgICAgICByZXF1aXJlZFVzZXJSb2xlID09ICdtZW1iZXInICYmICggdXNlclJvbGUgPT0gJ21lbWJlcicgfHwgdXNlclJvbGUgPT0gJ2FkbWluJyApICB8fFxuICAgICAgICAgICAgcmVxdWlyZWRVc2VyUm9sZSA9PSAnYWRtaW4nICYmIHVzZXJSb2xlID09ICdhZG1pbic7XG4gIH1cblxuICBzdWJtaXRWb3RlKCkge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5zZXRTdGF0ZSh7IGlzQnVzeTogdHJ1ZSB9LCAoKSA9PiB7XG5cbiAgICAgIGlmICghc2VsZi5pc1ZhbGlkKCkpIHtcbiAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IGlzQnVzeTogZmFsc2UsIGlzVmFsaWQ6IGZhbHNlIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghc2VsZi5jYW5TdWJtaXQoKSkgcmV0dXJuIGFsZXJ0KCdKZSBiZW50IG5pZXQgaW5nZWxvZ2QnKTtcblxuICAgICAgbGV0IHVybCA9IGAkeyBzZWxmLmNvbmZpZy5hcGkgJiYgc2VsZi5jb25maWcuYXBpLnVybCB9L2FwaS9zaXRlLyR7IHNlbGYuY29uZmlnLnNpdGVJZCB9L2lkZWEvJHsgc2VsZi5jb25maWcuaWRlYUlkIH0vcG9sbC8keyBzZWxmLnN0YXRlLnBvbGwuaWQgfS92b3RlYDtcbiAgICAgIGxldCBoZWFkZXJzID0gT3BlblN0YWRDb21wb25lbnRMaWJzLmFwaS5nZXRIZWFkZXJzKHNlbGYuY29uZmlnKTtcbiAgICAgIGxldCBtZXRob2QgPSAnUE9TVCc7XG5cbiAgICAgIGxldCBib2R5ID0ge1xuICAgICAgICBjaG9pY2U6IHNlbGYuc3RhdGUuc2VsZWN0ZWRDaG9pY2UsXG4gICAgICB9O1xuXG4gICAgICBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbihqc29uKSB7XG5cbiAgICAgICAgICBzZWxmLmZldGNoRGF0YSggKCkgPT4ge1xuICAgICAgICAgICAgc2VsZi5zZXRTdGF0ZSh7IGlzQnVzeTogZmFsc2UsIHNob3dWb3RlU3VjY2VlZGVkOiB0cnVlLCB9LCAoKSA9PiB7XG5cdFx0ICAgICAgICAgIGxldCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnb3NjLXBvbGwtdm90ZWQnLCB7IGRldGFpbDoganNvbiB9KTtcblx0XHQgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZi5jb25maWcub25TdWJtaXQgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc2VsZi5jb25maWcub25TdWJtaXQoeyBkZXNjcmlwdGlvbjogc2VsZi5zdGF0ZS5kZXNjcmlwdGlvbiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgZXJyb3IudGhlbihmdW5jdGlvbihtZXNzYWdlcykgeyBhbGVydChtZXNzYWdlcyk7IHJldHVybiBjb25zb2xlLmxvZyhtZXNzYWdlcyk7fSApO1xuICAgICAgICAgIHNlbGYuc2V0U3RhdGUoeyBpc0J1c3k6IGZhbHNlLCBpc1ZhbGlkOiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuICB9XG5cbiAgZGVsZXRlUG9sbCgpIHtcblxuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuc2V0U3RhdGUoeyBpc0J1c3k6IHRydWUgfSwgKCkgPT4ge1xuXG4gICAgICBsZXQgcG9sbCA9IHNlbGYuc3RhdGUucG9sbDtcbiAgICAgIGlmICghKCBwb2xsICYmIHBvbGwuY2FuICYmIHBvbGwuY2FuLmRlbGV0ZSApKSByZXR1cm4gYWxlcnQoJ1Uga3VudCBkZXplIHBvbGwgbmlldCB2ZXJ3aWpkZXJlbicpO1xuICAgICAgaWYgKCEoIHBvbGwgJiYgcG9sbC5pZCApKSByZXR1cm4gYWxlcnQoJ1Uga3VudCBkZXplIHBvbGwgbmlldCB2ZXJ3aWpkZXJlbicpO1xuXG4gICAgICBsZXQgdXJsID0gYCR7IHNlbGYuY29uZmlnLmFwaSAmJiBzZWxmLmNvbmZpZy5hcGkudXJsIH0vYXBpL3NpdGUvJHsgc2VsZi5jb25maWcuc2l0ZUlkIH0vaWRlYS8keyBzZWxmLmNvbmZpZy5pZGVhSWQgfS9wb2xsLyR7IHNlbGYuc3RhdGUucG9sbC5pZCB9YDtcbiAgICAgIGxldCBtZXRob2QgPSAnREVMRVRFJztcbiAgICAgIGxldCBoZWFkZXJzID0gT3BlblN0YWRDb21wb25lbnRMaWJzLmFwaS5nZXRIZWFkZXJzKHNlbGYuY29uZmlnKTtcblxuICAgICAgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbihqc29uKSB7XG5cblx0XHQgICAgICBsZXQgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ29zYy1wb2xsLWRlbGV0ZWQnLCB7IGRldGFpbDoganNvbiB9KTtcblx0XHQgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgZXJyb3IudGhlbihmdW5jdGlvbihtZXNzYWdlcykgeyBhbGVydChtZXNzYWdlcyk7IHJldHVybiBjb25zb2xlLmxvZyhtZXNzYWdlcyk7fSApO1xuICAgICAgICAgIHNlbGYuc2V0U3RhdGUoeyBpc0J1c3k6IGZhbHNlIH0pO1xuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG4gIH1cblxuICByZW5kZXIoKSB7XG5cbiAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgbGV0IHBvbGwgPSBzZWxmLnN0YXRlLnBvbGwgfHwge307XG5cbiAgICBpZiAoc2VsZi5zdGF0ZS5lZGl0TW9kZSkge1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGlkPXt0aGlzLmlkfSBjbGFzc05hbWU9e3NlbGYucHJvcHMuY2xhc3NOYW1lIHx8ICdvc2MtcG9sbCd9IHJlZj17KGVsKSA9PiB7IHRoaXMuaW5zdGFuY2UgPSBlbDsgfX0gPlxuICAgICAgICAgIDxPcGVuU3RhZENvbXBvbmVudFBvbGxGb3JtIGNvbmZpZz17eyAuLi5zZWxmLmNvbmZpZywgb25GaW5pc2hlZDogc2VsZi5oaWRlRWRpdEZvcm0gfX0gcG9sbElkPXtzZWxmLnN0YXRlLnBvbGwgJiYgc2VsZi5zdGF0ZS5wb2xsLmlkfSBwb2xsPXtzZWxmLnN0YXRlLnBvbGx9IHVzZXI9e3NlbGYuc3RhdGUudXNlcn0vPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgICBcbiAgICB9IGVsc2Uge1xuXG4gICAgICBsZXQgcXVlc3Rpb25IVE1MID0gbnVsbDtcbiAgICAgIGlmICgoIHBvbGwgJiYgcG9sbC5jaG9pY2VzICYmICFwb2xsLnVzZXJWb3RlICkgfHwgc2VsZi5zdGF0ZS5zaG93UXVlc3Rpb24pIHtcbiAgICAgICAgXG4gICAgICAgIGxldCBjb25maWcgPSB7IG5hbWU6IFwicG9sbENob2ljZVwiLCBjaG9pY2VzOiBbXSB9O1xuICAgICAgICBPYmplY3Qua2V5cyhwb2xsLmNob2ljZXMpLnNvcnQoKS5tYXAoa2V5ID0+IHtcbiAgICAgICAgICBsZXQgY2hvaWNlSFRNTCA9IHNlbGYuY29uZmlnLmFsbG93Q2hvaWNlVGl0bGVzICYmIHBvbGwuY2hvaWNlc1trZXldLnRpdGxlID8gYDxoND4ke3BvbGwuY2hvaWNlc1trZXldLnRpdGxlfTwvaDQ+YCA6ICcnO1xuICAgICAgICAgIGNob2ljZUhUTUwgKz0gcG9sbC5jaG9pY2VzW2tleV0uZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgICAgY29uZmlnLmNob2ljZXMucHVzaCh7XG4gICAgICAgICAgICBkYW5nZXJvdXNEZXNjcmlwdGlvbjogY2hvaWNlSFRNTCxcbiAgICAgICAgICAgIHZhbHVlOiBrZXlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcblxuICAgICAgICBsZXQgc3VibWl0QnV0dG9uSFRNTCA9IG51bGw7XG4gICAgICAgIGlmIChzZWxmLmNhblN1Ym1pdCgpKSB7XG4gICAgICAgICAgc3VibWl0QnV0dG9uSFRNTCA9ICg8YnV0dG9uIG9uQ2xpY2s9eyhlKSA9PiB7IGlmICghc2VsZi5zdGF0ZS5pc0J1c3kpIHNlbGYuc3VibWl0Vm90ZSgpOyB9fSBjbGFzc05hbWU9e2Bvc2MtYnV0dG9uLWJsdWUkeyAhc2VsZi5pc1ZhbGlkKCkgPyAnIG9zYy1kaXNhYmxlZCcgOiAnJyB9YH0gPlN0ZW1tZW48L2J1dHRvbj4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1Ym1pdEJ1dHRvbkhUTUwgPSAoPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IE9wZW5TdGFkQ29tcG9uZW50TGlicy5sb2NhbFN0b3JhZ2Uuc2V0KCdvc2MtcG9sbC1sb2dpbi1wZW5kaW5nJywgdHJ1ZSk7IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSBzZWxmLmNvbmZpZy5sb2dpblVybDsgfX0gY2xhc3NOYW1lPVwib3NjLWJ1dHRvbi1ibHVlIG9zYy1ub3QtbG9nZ2VkLWluLWJ1dHRvblwiPklubG9nZ2VuPC9idXR0b24+KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzaG93UmVzdWx0QnV0dG9uSFRNTCA9IG51bGw7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5hbGxvd1Nob3dSZXN1bHRzSWZOb3RWb3RlZCAmJiAgIShwb2xsLnVzZXJWb3RlIHx8IHNlbGYuc3RhdGUuc2hvd1Jlc3VsdCkpIHNob3dSZXN1bHRCdXR0b25IVE1MID0gKDxhIGNsYXNzTmFtZT1cIm9zYy1zaG93LXJlc3VsdC1idXR0b25cIiBvbkNsaWNrPXsgZSA9PiB0aGlzLnNldFNob3dSZXN1bHQoKSB9PlJlc3VsdGFhdCBiZWtpamtlbjwvYT4pO1xuXG4gICAgICAgIHF1ZXN0aW9uSFRNTCA9IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1wb2xsLXF1ZXN0aW9uIG9zYy1mb3JtXCI+XG4gICAgICAgICAgICA8T3BlblN0YWRDb21wb25lbnRGb3Jtcy5SYWRpb3MgY29uZmlnPXtjb25maWd9IHZhbHVlPXtzZWxmLnN0YXRlLnNlbGVjdGVkQ2hvaWNlfSBvbkNoYW5nZT17IGRhdGEgPT4gc2VsZi5zZWxlY3RDaG9pY2UoeyBjaG9pY2U6IGRhdGEudmFsdWUgfSkgfSByZWY9e2VsID0+IChzZWxmLmRlc2NyaXB0aW9uID0gZWwpfS8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1wb2xsLXF1ZXN0aW9uLWJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAge3N1Ym1pdEJ1dHRvbkhUTUx9XG4gICAgICAgICAgICAgIHtzaG93UmVzdWx0QnV0dG9uSFRNTH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBsZXQgcmVzdWx0SFRNTCA9IG51bGw7XG4gICAgICBpZiAoIHBvbGwgJiYgKCBwb2xsLnVzZXJWb3RlIHx8IHNlbGYuc3RhdGUuc2hvd1Jlc3VsdCApICkge1xuXG4gICAgICAgIGxldCBzaG93UXVlc3Rpb25CdXR0b25IVE1MID0gbnVsbDtcbiAgICAgICAgaWYgKCFzZWxmLnN0YXRlLnNob3dRdWVzdGlvbiAmJiAhKHBvbGwgJiYgcG9sbC5jaG9pY2VzICYmICFwb2xsLnVzZXJWb3RlKSkgc2hvd1F1ZXN0aW9uQnV0dG9uSFRNTCA9ICg8YSBjbGFzc05hbWU9XCJvc2Mtc2hvdy1xdWVzdGlvbi1idXR0b25cIiBvbkNsaWNrPXsgZSA9PiB0aGlzLnNldFNob3dRdWVzdGlvbigpIH0+U3RlbSBhYW5wYXNzZW48L2E+KTtcblxuICAgICAgICBsZXQgdG90YWxWb3Rlc0hUTUwgPSBudWxsO1xuICAgICAgICBpZiAocG9sbC52b3RlQ291bnQgJiYgcG9sbC52b3RlQ291bnQudG90YWwpIHtcbiAgICAgICAgICBsZXQgeHggPSBwb2xsLnZvdGVDb3VudC50b3RhbCA9PSAxID8gJ3N0ZW0nIDogJ3N0ZW1tZW4nO1xuICAgICAgICAgIHRvdGFsVm90ZXNIVE1MID0gPGRpdj5Ub3RhYWwge3BvbGwudm90ZUNvdW50LnRvdGFsfSB7eHh9PGJyLz48YnIvPjwvZGl2PlxuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0SFRNTCA9IChcbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwib3NjLWNob2ljZXNcIj5cbiAgICAgICAgICAgIHtPYmplY3Qua2V5cyhwb2xsLmNob2ljZXMpLnNvcnQoKS5tYXAoa2V5ID0+IHtcbiAgICAgICAgICAgICAgbGV0IGNob2ljZSA9IHBvbGwuY2hvaWNlc1trZXldO1xuICAgICAgICAgICAgICBsZXQgdGl0bGVIVE1MID0gbnVsbDtcbiAgICAgICAgICAgICAgaWYgKHNlbGYuY29uZmlnLmFsbG93Q2hvaWNlVGl0bGVzICYmIGNob2ljZS50aXRsZSkgdGl0bGVIVE1MID0gKDxoND57Y2hvaWNlLnRpdGxlfTwvaDQ+KTtcbiAgICAgICAgICAgICAgbGV0IGRlc2NyaXB0aW9uSFRNTCA9IG51bGw7XG4gICAgICAgICAgICAgIGlmIChjaG9pY2UuZGVzY3JpcHRpb24pIGRlc2NyaXB0aW9uSFRNTCA9ICg8ZGl2PntjaG9pY2UuZGVzY3JpcHRpb259PC9kaXY+KTtcbiAgICAgICAgICAgICAgbGV0IHBlcmNlbnRhZ2VIVE1MID0gbnVsbDtcbiAgICAgICAgICAgICAgaWYgKHNlbGYuY29uZmlnLndpdGhQZXJjZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZUhUTUwgPSA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1wZXJjZW50YWdlXCI+e2Nob2ljZS52b3Rlc1ByY30lPC9kaXY+XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGV0IHNjb3JlSFRNTCA9IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1jaG9pY2UtZGVmYXVsdFwiPlxuICAgICAgICAgICAgICAgICAge3RpdGxlSFRNTH1cbiAgICAgICAgICAgICAgICAgIHtkZXNjcmlwdGlvbkhUTUx9XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YG9zYy1jaG9pY2UtYmFyJHtzZWxmLmNvbmZpZy53aXRoUGVyY2VudGFnZSA/ICcgb3NjLXdpdGgtcGVyY2VudGFnZScgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtY2hvaWNlLWJhci1tYXNrXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLWNob2ljZS1iYXItcHJvZ3Jlc3NcIiBzdHlsZT17eyB3aWR0aDogKCBjaG9pY2Uudm90ZXNQcmMgfHwgMCApICsgJyUnIH19PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICB7IHBlcmNlbnRhZ2VIVE1MIH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwib3NjLWNob2ljZVwiIGtleT17YG9zYy1rZXktJHtrZXl9YH0+XG4gICAgICAgICAgICAgICAgICB7c2NvcmVIVE1MfVxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIHt0b3RhbFZvdGVzSFRNTH1cbiAgICAgICAgICAgIHtzaG93UXVlc3Rpb25CdXR0b25IVE1MfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGxldCBlZGl0QnV0dG9uc0hUTUwgPSBudWxsO1xuICAgICAgaWYgKHNlbGYuc3RhdGUucG9sbCAmJiBzZWxmLnN0YXRlLnBvbGwuY2FuICYmIHNlbGYuc3RhdGUucG9sbC5jYW4uZWRpdCkge1xuICAgICAgICBlZGl0QnV0dG9uc0hUTUwgPVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3NjLWVkaXRidXR0b25zXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cIm9zYy1lZGl0YnV0dG9uIG9zYy1lZGl0XCIgb25DbGljaz17ZXZlbnQgPT4gc2VsZi5zaG93RWRpdEZvcm0oKX0+QmV3ZXJrIHBvbGw8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwib3NjLWVkaXRidXR0b24gb3NjLWRlbGV0ZVwiIG9uQ2xpY2s9e2V2ZW50ID0+IHsgaWYgKGNvbmZpcm0oJ1dlZXQgdSBoZXQgemVrZXInKSkgc2VsZi5kZWxldGVQb2xsKCkgfX0+VmVyd2lqZGVyIHBvbGw8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgIH1cblxuICAgICAgbGV0IHZvdGVTdWNjZWVkZWRIVE1MID0gbnVsbDtcbiAgICAgIGlmIChzZWxmLnN0YXRlLnNob3dWb3RlU3VjY2VlZGVkKSB7XG4gICAgICAgIHZvdGVTdWNjZWVkZWRIVE1MID0gPGRpdiBjbGFzc05hbWU9XCJvc2Mtdm90ZS1zdWNjZWVkZWRcIj5VdyBzdGVtIGlzIG9wZ2VzbGFnZW48L2Rpdj5cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBpZD17dGhpcy5pZH0gY2xhc3NOYW1lPXtzZWxmLnByb3BzLmNsYXNzTmFtZSB8fCAnb3NjLXBvbGwnfSByZWY9eyhlbCkgPT4geyB0aGlzLmluc3RhbmNlID0gZWw7IH19ID5cbiAgICAgICAgICB7ZWRpdEJ1dHRvbnNIVE1MfVxuICAgICAgICAgIHt2b3RlU3VjY2VlZGVkSFRNTH1cbiAgICAgICAgICA8aDQ+e3BvbGwucXVlc3Rpb259PC9oND5cbiAgICAgICAgICB7cXVlc3Rpb25IVE1MfVxuICAgICAgICAgIHtyZXN1bHRIVE1MfVxuICAgICAgICAgIDxici8+PGJyLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuXG4gICAgfVxuXG4gIH1cblxufVxuIiwiLy8gcG9seWZpbGxzXG5pbXBvcnQgJ3doYXR3Zy1mZXRjaCc7XG5cbi8vIHJlYWN0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbi8vIGltcG9ydCBjc3MgdG8gbWFrZSBzdXJlIGl0IGlzIGdlbmVyYXRlZCBpbiB0aGUgcmVzdWx0XG5pbXBvcnQgJy4vY3NzL2RlZmF1bHQubGVzcyc7XG5cbi8vIHRoZSBtb2R1bGVcbmltcG9ydCBPcGVuU3RhZENvbXBvbmVudFBvbGwgZnJvbSAnLi9jb21wb25lbnQvcG9sbC5qc3gnO1xuXG4vLyByZW5kZXIgZWxlbWVudHNcbk9wZW5TdGFkQ29tcG9uZW50UG9sbC5yZW5kZXJFbGVtZW50ID0gZnVuY3Rpb24gcmVuZGVyRWxlbWVudCggZWxlbSwgY29uZmlnICkge1xuICBsZXQgYXR0cmlidXRlcyA9IGVsZW0uYXR0cmlidXRlcztcblx0UmVhY3RET00ucmVuZGVyKCA8T3BlblN0YWRDb21wb25lbnRQb2xsIGF0dHJpYnV0ZXM9e2F0dHJpYnV0ZXN9IGNvbmZpZz17Y29uZmlnfS8+LCBlbGVtKVxufVxuXG5leHBvcnQge1xuICBPcGVuU3RhZENvbXBvbmVudFBvbGwgYXMgZGVmYXVsdCxcbiAgT3BlblN0YWRDb21wb25lbnRQb2xsIGFzIFBvbGwsXG59O1xuXG4iLCIvKiFcbiAqIEZpbGVQb25kIDQuMjAuMVxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cbiAqIFBsZWFzZSB2aXNpdCBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kLyBmb3IgZGV0YWlscy5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4oZnVuY3Rpb24oZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJ1xuICAgID8gZmFjdG9yeShleHBvcnRzKVxuICAgIDogdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kXG4gICAgPyBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpXG4gICAgOiAoKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmKSwgZmFjdG9yeSgoZ2xvYmFsLkZpbGVQb25kID0ge30pKSk7XG59KSh0aGlzLCBmdW5jdGlvbihleHBvcnRzKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgaXNOb2RlID0gZnVuY3Rpb24gaXNOb2RlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVN0b3JlID0gZnVuY3Rpb24gY3JlYXRlU3RvcmUoaW5pdGlhbFN0YXRlKSB7XG4gICAgdmFyIHF1ZXJpZXMgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcbiAgICB2YXIgYWN0aW9ucyA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFtdO1xuICAgIC8vIGludGVybmFsIHN0YXRlXG4gICAgdmFyIHN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbFN0YXRlKTtcblxuICAgIC8vIGNvbnRhaW5zIGFsbCBhY3Rpb25zIGZvciBuZXh0IGZyYW1lLCBpcyBjbGVhciB3aGVuIGFjdGlvbnMgYXJlIHJlcXVlc3RlZFxuICAgIHZhciBhY3Rpb25RdWV1ZSA9IFtdO1xuICAgIHZhciBkaXNwYXRjaFF1ZXVlID0gW107XG5cbiAgICAvLyByZXR1cm5zIGEgZHVwbGljYXRlIG9mIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgdmFyIGdldFN0YXRlID0gZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpO1xuICAgIH07XG5cbiAgICAvLyByZXR1cm5zIGEgZHVwbGljYXRlIG9mIHRoZSBhY3Rpb25zIGFycmF5IGFuZCBjbGVhcnMgdGhlIGFjdGlvbnMgYXJyYXlcbiAgICB2YXIgcHJvY2Vzc0FjdGlvblF1ZXVlID0gZnVuY3Rpb24gcHJvY2Vzc0FjdGlvblF1ZXVlKCkge1xuICAgICAgLy8gY3JlYXRlIGNvcHkgb2YgYWN0aW9ucyBxdWV1ZVxuICAgICAgdmFyIHF1ZXVlID0gW10uY29uY2F0KGFjdGlvblF1ZXVlKTtcblxuICAgICAgLy8gY2xlYXIgYWN0aW9ucyBxdWV1ZSAod2UgZG9uJ3Qgd2FudCBubyBkb3VibGUgYWN0aW9ucylcbiAgICAgIGFjdGlvblF1ZXVlLmxlbmd0aCA9IDA7XG5cbiAgICAgIHJldHVybiBxdWV1ZTtcbiAgICB9O1xuXG4gICAgLy8gcHJvY2Vzc2VzIGFjdGlvbnMgdGhhdCBtaWdodCBibG9jayB0aGUgbWFpbiBVSSB0aHJlYWRcbiAgICB2YXIgcHJvY2Vzc0Rpc3BhdGNoUXVldWUgPSBmdW5jdGlvbiBwcm9jZXNzRGlzcGF0Y2hRdWV1ZSgpIHtcbiAgICAgIC8vIGNyZWF0ZSBjb3B5IG9mIGFjdGlvbnMgcXVldWVcbiAgICAgIHZhciBxdWV1ZSA9IFtdLmNvbmNhdChkaXNwYXRjaFF1ZXVlKTtcblxuICAgICAgLy8gY2xlYXIgYWN0aW9ucyBxdWV1ZSAod2UgZG9uJ3Qgd2FudCBubyBkb3VibGUgYWN0aW9ucylcbiAgICAgIGRpc3BhdGNoUXVldWUubGVuZ3RoID0gMDtcblxuICAgICAgLy8gbm93IGRpc3BhdGNoIHRoZXNlIGFjdGlvbnNcbiAgICAgIHF1ZXVlLmZvckVhY2goZnVuY3Rpb24oX3JlZikge1xuICAgICAgICB2YXIgdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhO1xuICAgICAgICBkaXNwYXRjaCh0eXBlLCBkYXRhKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBhZGRzIGEgbmV3IGFjdGlvbiwgY2FsbHMgaXRzIGhhbmRsZXIgYW5kXG4gICAgdmFyIGRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2godHlwZSwgZGF0YSwgaXNCbG9ja2luZykge1xuICAgICAgLy8gaXMgYmxvY2tpbmcgYWN0aW9uIChzaG91bGQgbmV2ZXIgYmxvY2sgaWYgZG9jdW1lbnQgaXMgaGlkZGVuKVxuICAgICAgaWYgKGlzQmxvY2tpbmcgJiYgIWRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goeyB0eXBlOiB0eXBlLCBkYXRhOiBkYXRhIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHRoaXMgYWN0aW9uIGhhcyBhIGhhbmRsZXIsIGhhbmRsZSB0aGUgYWN0aW9uXG4gICAgICBpZiAoYWN0aW9uSGFuZGxlcnNbdHlwZV0pIHtcbiAgICAgICAgYWN0aW9uSGFuZGxlcnNbdHlwZV0oZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIC8vIG5vdyBhZGQgYWN0aW9uXG4gICAgICBhY3Rpb25RdWV1ZS5wdXNoKHtcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgZGF0YTogZGF0YVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBxdWVyeSA9IGZ1bmN0aW9uIHF1ZXJ5KHN0cikge1xuICAgICAgdmFyIF9xdWVyeUhhbmRsZXM7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksXG4gICAgICAgICAgX2tleSA9IDE7XG4gICAgICAgIF9rZXkgPCBfbGVuO1xuICAgICAgICBfa2V5KytcbiAgICAgICkge1xuICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBxdWVyeUhhbmRsZXNbc3RyXVxuICAgICAgICA/IChfcXVlcnlIYW5kbGVzID0gcXVlcnlIYW5kbGVzKVtzdHJdLmFwcGx5KF9xdWVyeUhhbmRsZXMsIGFyZ3MpXG4gICAgICAgIDogbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIGFwaSA9IHtcbiAgICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICAgIHByb2Nlc3NBY3Rpb25RdWV1ZTogcHJvY2Vzc0FjdGlvblF1ZXVlLFxuICAgICAgcHJvY2Vzc0Rpc3BhdGNoUXVldWU6IHByb2Nlc3NEaXNwYXRjaFF1ZXVlLFxuICAgICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgICAgcXVlcnk6IHF1ZXJ5XG4gICAgfTtcblxuICAgIHZhciBxdWVyeUhhbmRsZXMgPSB7fTtcbiAgICBxdWVyaWVzLmZvckVhY2goZnVuY3Rpb24ocXVlcnkpIHtcbiAgICAgIHF1ZXJ5SGFuZGxlcyA9IE9iamVjdC5hc3NpZ24oe30sIHF1ZXJ5KHN0YXRlKSwge30sIHF1ZXJ5SGFuZGxlcyk7XG4gICAgfSk7XG5cbiAgICB2YXIgYWN0aW9uSGFuZGxlcnMgPSB7fTtcbiAgICBhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICBhY3Rpb25IYW5kbGVycyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICBhY3Rpb24oZGlzcGF0Y2gsIHF1ZXJ5LCBzdGF0ZSksXG4gICAgICAgIHt9LFxuICAgICAgICBhY3Rpb25IYW5kbGVyc1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBhcGk7XG4gIH07XG5cbiAgdmFyIGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wZXJ0eSwgZGVmaW5pdGlvbikge1xuICAgIGlmICh0eXBlb2YgZGVmaW5pdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb2JqW3Byb3BlcnR5XSA9IGRlZmluaXRpb247XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3BlcnR5LCBPYmplY3QuYXNzaWduKHt9LCBkZWZpbml0aW9uKSk7XG4gIH07XG5cbiAgdmFyIGZvcmluID0gZnVuY3Rpb24gZm9yaW4ob2JqLCBjYikge1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNiKGtleSwgb2JqW2tleV0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24gY3JlYXRlT2JqZWN0KGRlZmluaXRpb24pIHtcbiAgICB2YXIgb2JqID0ge307XG4gICAgZm9yaW4oZGVmaW5pdGlvbiwgZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICAgIGRlZmluZVByb3BlcnR5KG9iaiwgcHJvcGVydHksIGRlZmluaXRpb25bcHJvcGVydHldKTtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIHZhciBhdHRyID0gZnVuY3Rpb24gYXR0cihub2RlLCBuYW1lKSB7XG4gICAgdmFyIHZhbHVlID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBub2RlLmdldEF0dHJpYnV0ZShuYW1lKSB8fCBub2RlLmhhc0F0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICB9O1xuXG4gIHZhciBucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gIHZhciBzdmdFbGVtZW50cyA9IFsnc3ZnJywgJ3BhdGgnXTsgLy8gb25seSBzdmcgZWxlbWVudHMgdXNlZFxuXG4gIHZhciBpc1NWR0VsZW1lbnQgPSBmdW5jdGlvbiBpc1NWR0VsZW1lbnQodGFnKSB7XG4gICAgcmV0dXJuIHN2Z0VsZW1lbnRzLmluY2x1ZGVzKHRhZyk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZywgY2xhc3NOYW1lKSB7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBpZiAodHlwZW9mIGNsYXNzTmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGF0dHJpYnV0ZXMgPSBjbGFzc05hbWU7XG4gICAgICBjbGFzc05hbWUgPSBudWxsO1xuICAgIH1cbiAgICB2YXIgZWxlbWVudCA9IGlzU1ZHRWxlbWVudCh0YWcpXG4gICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdGFnKVxuICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgaWYgKGlzU1ZHRWxlbWVudCh0YWcpKSB7XG4gICAgICAgIGF0dHIoZWxlbWVudCwgJ2NsYXNzJywgY2xhc3NOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JpbihhdHRyaWJ1dGVzLCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgYXR0cihlbGVtZW50LCBuYW1lLCB2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH07XG5cbiAgdmFyIGFwcGVuZENoaWxkID0gZnVuY3Rpb24gYXBwZW5kQ2hpbGQocGFyZW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGNoaWxkLCBpbmRleCkge1xuICAgICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ3VuZGVmaW5lZCcgJiYgcGFyZW50LmNoaWxkcmVuW2luZGV4XSkge1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBwYXJlbnQuY2hpbGRyZW5baW5kZXhdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICB2YXIgYXBwZW5kQ2hpbGRWaWV3ID0gZnVuY3Rpb24gYXBwZW5kQ2hpbGRWaWV3KHBhcmVudCwgY2hpbGRWaWV3cykge1xuICAgIHJldHVybiBmdW5jdGlvbih2aWV3LCBpbmRleCkge1xuICAgICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2hpbGRWaWV3cy5zcGxpY2UoaW5kZXgsIDAsIHZpZXcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRWaWV3cy5wdXNoKHZpZXcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmlldztcbiAgICB9O1xuICB9O1xuXG4gIHZhciByZW1vdmVDaGlsZFZpZXcgPSBmdW5jdGlvbiByZW1vdmVDaGlsZFZpZXcocGFyZW50LCBjaGlsZFZpZXdzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZpZXcpIHtcbiAgICAgIC8vIHJlbW92ZSBmcm9tIGNoaWxkIHZpZXdzXG4gICAgICBjaGlsZFZpZXdzLnNwbGljZShjaGlsZFZpZXdzLmluZGV4T2YodmlldyksIDEpO1xuXG4gICAgICAvLyByZW1vdmUgdGhlIGVsZW1lbnRcbiAgICAgIGlmICh2aWV3LmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodmlldy5lbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgSVNfQlJPV1NFUiA9IChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcbiAgICApO1xuICB9KSgpO1xuICB2YXIgaXNCcm93c2VyID0gZnVuY3Rpb24gaXNCcm93c2VyKCkge1xuICAgIHJldHVybiBJU19CUk9XU0VSO1xuICB9O1xuXG4gIHZhciB0ZXN0RWxlbWVudCA9IGlzQnJvd3NlcigpID8gY3JlYXRlRWxlbWVudCgnc3ZnJykgOiB7fTtcbiAgdmFyIGdldENoaWxkQ291bnQgPVxuICAgICdjaGlsZHJlbicgaW4gdGVzdEVsZW1lbnRcbiAgICAgID8gZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICByZXR1cm4gZWwuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICA6IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgcmV0dXJuIGVsLmNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAgICB9O1xuXG4gIHZhciBnZXRWaWV3UmVjdCA9IGZ1bmN0aW9uIGdldFZpZXdSZWN0KFxuICAgIGVsZW1lbnRSZWN0LFxuICAgIGNoaWxkVmlld3MsXG4gICAgb2Zmc2V0LFxuICAgIHNjYWxlXG4gICkge1xuICAgIHZhciBsZWZ0ID0gb2Zmc2V0WzBdIHx8IGVsZW1lbnRSZWN0LmxlZnQ7XG4gICAgdmFyIHRvcCA9IG9mZnNldFsxXSB8fCBlbGVtZW50UmVjdC50b3A7XG4gICAgdmFyIHJpZ2h0ID0gbGVmdCArIGVsZW1lbnRSZWN0LndpZHRoO1xuICAgIHZhciBib3R0b20gPSB0b3AgKyBlbGVtZW50UmVjdC5oZWlnaHQgKiAoc2NhbGVbMV0gfHwgMSk7XG5cbiAgICB2YXIgcmVjdCA9IHtcbiAgICAgIC8vIHRoZSByZWN0YW5nbGUgb2YgdGhlIGVsZW1lbnQgaXRzZWxmXG4gICAgICBlbGVtZW50OiBPYmplY3QuYXNzaWduKHt9LCBlbGVtZW50UmVjdCksXG5cbiAgICAgIC8vIHRoZSByZWN0YW5nbGUgb2YgdGhlIGVsZW1lbnQgZXhwYW5kZWQgdG8gY29udGFpbiBpdHMgY2hpbGRyZW4sIGRvZXMgbm90IGluY2x1ZGUgYW55IG1hcmdpbnNcbiAgICAgIGlubmVyOiB7XG4gICAgICAgIGxlZnQ6IGVsZW1lbnRSZWN0LmxlZnQsXG4gICAgICAgIHRvcDogZWxlbWVudFJlY3QudG9wLFxuICAgICAgICByaWdodDogZWxlbWVudFJlY3QucmlnaHQsXG4gICAgICAgIGJvdHRvbTogZWxlbWVudFJlY3QuYm90dG9tXG4gICAgICB9LFxuXG4gICAgICAvLyB0aGUgcmVjdGFuZ2xlIG9mIHRoZSBlbGVtZW50IGV4cGFuZGVkIHRvIGNvbnRhaW4gaXRzIGNoaWxkcmVuIGluY2x1ZGluZyBvd24gbWFyZ2luIGFuZCBjaGlsZCBtYXJnaW5zXG4gICAgICAvLyBtYXJnaW5zIHdpbGwgYmUgYWRkZWQgYWZ0ZXIgd2UndmUgcmVjYWxjdWxhdGVkIHRoZSBzaXplXG4gICAgICBvdXRlcjoge1xuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgcmlnaHQ6IHJpZ2h0LFxuICAgICAgICBib3R0b206IGJvdHRvbVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBleHBhbmQgcmVjdCB0byBmaXQgYWxsIGNoaWxkIHJlY3RhbmdsZXNcbiAgICBjaGlsZFZpZXdzXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uKGNoaWxkVmlldykge1xuICAgICAgICByZXR1cm4gIWNoaWxkVmlldy5pc1JlY3RJZ25vcmVkKCk7XG4gICAgICB9KVxuICAgICAgLm1hcChmdW5jdGlvbihjaGlsZFZpZXcpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkVmlldy5yZWN0O1xuICAgICAgfSlcbiAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkVmlld1JlY3QpIHtcbiAgICAgICAgZXhwYW5kUmVjdChyZWN0LmlubmVyLCBPYmplY3QuYXNzaWduKHt9LCBjaGlsZFZpZXdSZWN0LmlubmVyKSk7XG4gICAgICAgIGV4cGFuZFJlY3QocmVjdC5vdXRlciwgT2JqZWN0LmFzc2lnbih7fSwgY2hpbGRWaWV3UmVjdC5vdXRlcikpO1xuICAgICAgfSk7XG5cbiAgICAvLyBjYWxjdWxhdGUgaW5uZXIgd2lkdGggYW5kIGhlaWdodFxuICAgIGNhbGN1bGF0ZVJlY3RTaXplKHJlY3QuaW5uZXIpO1xuXG4gICAgLy8gYXBwZW5kIGFkZGl0aW9uYWwgbWFyZ2luICh0b3AgYW5kIGxlZnQgbWFyZ2lucyBhcmUgaW5jbHVkZWQgaW4gdG9wIGFuZCBsZWZ0IGF1dG9tYXRpY2FsbHkpXG4gICAgcmVjdC5vdXRlci5ib3R0b20gKz0gcmVjdC5lbGVtZW50Lm1hcmdpbkJvdHRvbTtcbiAgICByZWN0Lm91dGVyLnJpZ2h0ICs9IHJlY3QuZWxlbWVudC5tYXJnaW5SaWdodDtcblxuICAgIC8vIGNhbGN1bGF0ZSBvdXRlciB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgY2FsY3VsYXRlUmVjdFNpemUocmVjdC5vdXRlcik7XG5cbiAgICByZXR1cm4gcmVjdDtcbiAgfTtcblxuICB2YXIgZXhwYW5kUmVjdCA9IGZ1bmN0aW9uIGV4cGFuZFJlY3QocGFyZW50LCBjaGlsZCkge1xuICAgIC8vIGFkanVzdCBmb3IgcGFyZW50IG9mZnNldFxuICAgIGNoaWxkLnRvcCArPSBwYXJlbnQudG9wO1xuICAgIGNoaWxkLnJpZ2h0ICs9IHBhcmVudC5sZWZ0O1xuICAgIGNoaWxkLmJvdHRvbSArPSBwYXJlbnQudG9wO1xuICAgIGNoaWxkLmxlZnQgKz0gcGFyZW50LmxlZnQ7XG5cbiAgICBpZiAoY2hpbGQuYm90dG9tID4gcGFyZW50LmJvdHRvbSkge1xuICAgICAgcGFyZW50LmJvdHRvbSA9IGNoaWxkLmJvdHRvbTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGQucmlnaHQgPiBwYXJlbnQucmlnaHQpIHtcbiAgICAgIHBhcmVudC5yaWdodCA9IGNoaWxkLnJpZ2h0O1xuICAgIH1cbiAgfTtcblxuICB2YXIgY2FsY3VsYXRlUmVjdFNpemUgPSBmdW5jdGlvbiBjYWxjdWxhdGVSZWN0U2l6ZShyZWN0KSB7XG4gICAgcmVjdC53aWR0aCA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnQ7XG4gICAgcmVjdC5oZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wO1xuICB9O1xuXG4gIHZhciBpc051bWJlciA9IGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgcG9zaXRpb24gaXMgYXQgZGVzdGluYXRpb25cbiAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAqIEBwYXJhbSBkZXN0aW5hdGlvblxuICAgKiBAcGFyYW0gdmVsb2NpdHlcbiAgICogQHBhcmFtIGVycm9yTWFyZ2luXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgdmFyIHRoZXJlWWV0ID0gZnVuY3Rpb24gdGhlcmVZZXQocG9zaXRpb24sIGRlc3RpbmF0aW9uLCB2ZWxvY2l0eSkge1xuICAgIHZhciBlcnJvck1hcmdpbiA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDAuMDAxO1xuICAgIHJldHVybiAoXG4gICAgICBNYXRoLmFicyhwb3NpdGlvbiAtIGRlc3RpbmF0aW9uKSA8IGVycm9yTWFyZ2luICYmXG4gICAgICBNYXRoLmFicyh2ZWxvY2l0eSkgPCBlcnJvck1hcmdpblxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwcmluZyBhbmltYXRpb25cbiAgICovXG4gIHZhciBzcHJpbmcgPVxuICAgIC8vIGRlZmF1bHQgb3B0aW9uc1xuICAgIGZ1bmN0aW9uIHNwcmluZygpIC8vIG1ldGhvZCBkZWZpbml0aW9uXG4gICAge1xuICAgICAgdmFyIF9yZWYgPVxuICAgICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGFyZ3VtZW50c1swXVxuICAgICAgICAgICAgOiB7fSxcbiAgICAgICAgX3JlZiRzdGlmZm5lc3MgPSBfcmVmLnN0aWZmbmVzcyxcbiAgICAgICAgc3RpZmZuZXNzID0gX3JlZiRzdGlmZm5lc3MgPT09IHZvaWQgMCA/IDAuNSA6IF9yZWYkc3RpZmZuZXNzLFxuICAgICAgICBfcmVmJGRhbXBpbmcgPSBfcmVmLmRhbXBpbmcsXG4gICAgICAgIGRhbXBpbmcgPSBfcmVmJGRhbXBpbmcgPT09IHZvaWQgMCA/IDAuNzUgOiBfcmVmJGRhbXBpbmcsXG4gICAgICAgIF9yZWYkbWFzcyA9IF9yZWYubWFzcyxcbiAgICAgICAgbWFzcyA9IF9yZWYkbWFzcyA9PT0gdm9pZCAwID8gMTAgOiBfcmVmJG1hc3M7XG4gICAgICB2YXIgdGFyZ2V0ID0gbnVsbDtcbiAgICAgIHZhciBwb3NpdGlvbiA9IG51bGw7XG4gICAgICB2YXIgdmVsb2NpdHkgPSAwO1xuICAgICAgdmFyIHJlc3RpbmcgPSBmYWxzZTtcblxuICAgICAgLy8gdXBkYXRlcyBzcHJpbmcgc3RhdGVcbiAgICAgIHZhciBpbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uIGludGVycG9sYXRlKHRzLCBza2lwVG9FbmRTdGF0ZSkge1xuICAgICAgICAvLyBpbiByZXN0LCBkb24ndCBhbmltYXRlXG4gICAgICAgIGlmIChyZXN0aW5nKSByZXR1cm47XG5cbiAgICAgICAgLy8gbmVlZCBhdCBsZWFzdCBhIHRhcmdldCBvciBwb3NpdGlvbiB0byBkbyBzcHJpbmd5IHRoaW5nc1xuICAgICAgICBpZiAoIShpc051bWJlcih0YXJnZXQpICYmIGlzTnVtYmVyKHBvc2l0aW9uKSkpIHtcbiAgICAgICAgICByZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICB2ZWxvY2l0eSA9IDA7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHNwcmluZyBmb3JjZVxuICAgICAgICB2YXIgZiA9IC0ocG9zaXRpb24gLSB0YXJnZXQpICogc3RpZmZuZXNzO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB2ZWxvY2l0eSBieSBhZGRpbmcgZm9yY2UgYmFzZWQgb24gbWFzc1xuICAgICAgICB2ZWxvY2l0eSArPSBmIC8gbWFzcztcblxuICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24gYnkgYWRkaW5nIHZlbG9jaXR5XG4gICAgICAgIHBvc2l0aW9uICs9IHZlbG9jaXR5O1xuXG4gICAgICAgIC8vIHNsb3cgZG93biBiYXNlZCBvbiBhbW91bnQgb2YgZGFtcGluZ1xuICAgICAgICB2ZWxvY2l0eSAqPSBkYW1waW5nO1xuXG4gICAgICAgIC8vIHdlJ3ZlIGFycml2ZWQgaWYgd2UncmUgbmVhciB0YXJnZXQgYW5kIG91ciB2ZWxvY2l0eSBpcyBuZWFyIHplcm9cbiAgICAgICAgaWYgKHRoZXJlWWV0KHBvc2l0aW9uLCB0YXJnZXQsIHZlbG9jaXR5KSB8fCBza2lwVG9FbmRTdGF0ZSkge1xuICAgICAgICAgIHBvc2l0aW9uID0gdGFyZ2V0O1xuICAgICAgICAgIHZlbG9jaXR5ID0gMDtcbiAgICAgICAgICByZXN0aW5nID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIHdlIGRvbmVcbiAgICAgICAgICBhcGkub251cGRhdGUocG9zaXRpb24pO1xuICAgICAgICAgIGFwaS5vbmNvbXBsZXRlKHBvc2l0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBwcm9ncmVzcyB1cGRhdGVcbiAgICAgICAgICBhcGkub251cGRhdGUocG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIFNldCBuZXcgdGFyZ2V0IHZhbHVlXG4gICAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgICAqL1xuICAgICAgdmFyIHNldFRhcmdldCA9IGZ1bmN0aW9uIHNldFRhcmdldCh2YWx1ZSkge1xuICAgICAgICAvLyBpZiBjdXJyZW50bHkgaGFzIG5vIHBvc2l0aW9uLCBzZXQgdGFyZ2V0IGFuZCBwb3NpdGlvbiB0byB0aGlzIHZhbHVlXG4gICAgICAgIGlmIChpc051bWJlcih2YWx1ZSkgJiYgIWlzTnVtYmVyKHBvc2l0aW9uKSkge1xuICAgICAgICAgIHBvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBuZXh0IHRhcmdldCB2YWx1ZSB3aWxsIG5vdCBiZSBhbmltYXRlZCB0b1xuICAgICAgICBpZiAodGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgdGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgICAgcG9zaXRpb24gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldCBzdGFydCBtb3ZpbmcgdG8gdGFyZ2V0XG4gICAgICAgIHRhcmdldCA9IHZhbHVlO1xuXG4gICAgICAgIC8vIGFscmVhZHkgYXQgdGFyZ2V0XG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdGFyZ2V0IHx8IHR5cGVvZiB0YXJnZXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gbm93IHJlc3RpbmcgYXMgdGFyZ2V0IGlzIGN1cnJlbnQgcG9zaXRpb24sIHN0b3AgbW92aW5nXG4gICAgICAgICAgcmVzdGluZyA9IHRydWU7XG4gICAgICAgICAgdmVsb2NpdHkgPSAwO1xuXG4gICAgICAgICAgLy8gZG9uZSFcbiAgICAgICAgICBhcGkub251cGRhdGUocG9zaXRpb24pO1xuICAgICAgICAgIGFwaS5vbmNvbXBsZXRlKHBvc2l0aW9uKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgIC8vIG5lZWQgJ2FwaScgdG8gY2FsbCBvbnVwZGF0ZSBjYWxsYmFja1xuICAgICAgdmFyIGFwaSA9IGNyZWF0ZU9iamVjdCh7XG4gICAgICAgIGludGVycG9sYXRlOiBpbnRlcnBvbGF0ZSxcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgc2V0OiBzZXRUYXJnZXQsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZXN0aW5nOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdGluZztcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb251cGRhdGU6IGZ1bmN0aW9uIG9udXBkYXRlKHZhbHVlKSB7fSxcbiAgICAgICAgb25jb21wbGV0ZTogZnVuY3Rpb24gb25jb21wbGV0ZSh2YWx1ZSkge31cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYXBpO1xuICAgIH07XG5cbiAgdmFyIGVhc2VMaW5lYXIgPSBmdW5jdGlvbiBlYXNlTGluZWFyKHQpIHtcbiAgICByZXR1cm4gdDtcbiAgfTtcbiAgdmFyIGVhc2VJbk91dFF1YWQgPSBmdW5jdGlvbiBlYXNlSW5PdXRRdWFkKHQpIHtcbiAgICByZXR1cm4gdCA8IDAuNSA/IDIgKiB0ICogdCA6IC0xICsgKDQgLSAyICogdCkgKiB0O1xuICB9O1xuXG4gIHZhciB0d2VlbiA9XG4gICAgLy8gZGVmYXVsdCB2YWx1ZXNcbiAgICBmdW5jdGlvbiB0d2VlbigpIC8vIG1ldGhvZCBkZWZpbml0aW9uXG4gICAge1xuICAgICAgdmFyIF9yZWYgPVxuICAgICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGFyZ3VtZW50c1swXVxuICAgICAgICAgICAgOiB7fSxcbiAgICAgICAgX3JlZiRkdXJhdGlvbiA9IF9yZWYuZHVyYXRpb24sXG4gICAgICAgIGR1cmF0aW9uID0gX3JlZiRkdXJhdGlvbiA9PT0gdm9pZCAwID8gNTAwIDogX3JlZiRkdXJhdGlvbixcbiAgICAgICAgX3JlZiRlYXNpbmcgPSBfcmVmLmVhc2luZyxcbiAgICAgICAgZWFzaW5nID0gX3JlZiRlYXNpbmcgPT09IHZvaWQgMCA/IGVhc2VJbk91dFF1YWQgOiBfcmVmJGVhc2luZyxcbiAgICAgICAgX3JlZiRkZWxheSA9IF9yZWYuZGVsYXksXG4gICAgICAgIGRlbGF5ID0gX3JlZiRkZWxheSA9PT0gdm9pZCAwID8gMCA6IF9yZWYkZGVsYXk7XG4gICAgICB2YXIgc3RhcnQgPSBudWxsO1xuICAgICAgdmFyIHQ7XG4gICAgICB2YXIgcDtcbiAgICAgIHZhciByZXN0aW5nID0gdHJ1ZTtcbiAgICAgIHZhciByZXZlcnNlID0gZmFsc2U7XG4gICAgICB2YXIgdGFyZ2V0ID0gbnVsbDtcblxuICAgICAgdmFyIGludGVycG9sYXRlID0gZnVuY3Rpb24gaW50ZXJwb2xhdGUodHMsIHNraXBUb0VuZFN0YXRlKSB7XG4gICAgICAgIGlmIChyZXN0aW5nIHx8IHRhcmdldCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChzdGFydCA9PT0gbnVsbCkge1xuICAgICAgICAgIHN0YXJ0ID0gdHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHMgLSBzdGFydCA8IGRlbGF5KSByZXR1cm47XG5cbiAgICAgICAgdCA9IHRzIC0gc3RhcnQgLSBkZWxheTtcblxuICAgICAgICBpZiAodCA+PSBkdXJhdGlvbiB8fCBza2lwVG9FbmRTdGF0ZSkge1xuICAgICAgICAgIHQgPSAxO1xuICAgICAgICAgIHAgPSByZXZlcnNlID8gMCA6IDE7XG4gICAgICAgICAgYXBpLm9udXBkYXRlKHAgKiB0YXJnZXQpO1xuICAgICAgICAgIGFwaS5vbmNvbXBsZXRlKHAgKiB0YXJnZXQpO1xuICAgICAgICAgIHJlc3RpbmcgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHAgPSB0IC8gZHVyYXRpb247XG4gICAgICAgICAgYXBpLm9udXBkYXRlKCh0ID49IDAgPyBlYXNpbmcocmV2ZXJzZSA/IDEgLSBwIDogcCkgOiAwKSAqIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIG5lZWQgJ2FwaScgdG8gY2FsbCBvbnVwZGF0ZSBjYWxsYmFja1xuICAgICAgdmFyIGFwaSA9IGNyZWF0ZU9iamVjdCh7XG4gICAgICAgIGludGVycG9sYXRlOiBpbnRlcnBvbGF0ZSxcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmV2ZXJzZSA/IDAgOiB0YXJnZXQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgLy8gaXMgaW5pdGlhbCB2YWx1ZVxuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICB0YXJnZXQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgYXBpLm9uY29tcGxldGUodmFsdWUpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHdhbnQgdG8gdHdlZW4gdG8gYSBzbWFsbGVyIHZhbHVlIGFuZCBoYXZlIGEgY3VycmVudCB2YWx1ZVxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgdGFyZ2V0KSB7XG4gICAgICAgICAgICAgIHRhcmdldCA9IDE7XG4gICAgICAgICAgICAgIHJldmVyc2UgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gbm90IHR3ZWVuaW5nIHRvIGEgc21hbGxlciB2YWx1ZVxuICAgICAgICAgICAgICByZXZlcnNlID0gZmFsc2U7XG4gICAgICAgICAgICAgIHRhcmdldCA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBsZXQncyBnbyFcbiAgICAgICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHN0YXJ0ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzdGluZzoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3Rpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG9udXBkYXRlOiBmdW5jdGlvbiBvbnVwZGF0ZSh2YWx1ZSkge30sXG4gICAgICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uIG9uY29tcGxldGUodmFsdWUpIHt9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGFwaTtcbiAgICB9O1xuXG4gIHZhciBhbmltYXRvciA9IHtcbiAgICBzcHJpbmc6IHNwcmluZyxcbiAgICB0d2VlbjogdHdlZW5cbiAgfTtcblxuICAvKlxuICAgICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICdzcHJpbmcnLCBzdGlmZm5lc3M6IC41LCBkYW1waW5nOiAuNzUsIG1hc3M6IDEwIH07XG4gICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNsYXRpb246IHsgdHlwZTogJ3NwcmluZycsIC4uLiB9LCAuLi4gfVxuICAgICAgICAgICAgICAgICAgICAgICB7IHRyYW5zbGF0aW9uOiB7IHg6IHsgdHlwZTogJ3NwcmluZycsIC4uLiB9IH0gfVxuICAgICAgICAgICAgICAgICAgICAgICovXG4gIHZhciBjcmVhdGVBbmltYXRvciA9IGZ1bmN0aW9uIGNyZWF0ZUFuaW1hdG9yKGRlZmluaXRpb24sIGNhdGVnb3J5LCBwcm9wZXJ0eSkge1xuICAgIC8vIGRlZmF1bHQgaXMgc2luZ2xlIGRlZmluaXRpb25cbiAgICAvLyB3ZSBjaGVjayBpZiB0cmFuc2Zvcm0gaXMgc2V0LCBpZiBzbywgd2UgY2hlY2sgaWYgcHJvcGVydHkgaXMgc2V0XG4gICAgdmFyIGRlZiA9XG4gICAgICBkZWZpbml0aW9uW2NhdGVnb3J5XSAmJiB0eXBlb2YgZGVmaW5pdGlvbltjYXRlZ29yeV1bcHJvcGVydHldID09PSAnb2JqZWN0J1xuICAgICAgICA/IGRlZmluaXRpb25bY2F0ZWdvcnldW3Byb3BlcnR5XVxuICAgICAgICA6IGRlZmluaXRpb25bY2F0ZWdvcnldIHx8IGRlZmluaXRpb247XG5cbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBkZWYgPT09ICdzdHJpbmcnID8gZGVmIDogZGVmLnR5cGU7XG4gICAgdmFyIHByb3BzID0gdHlwZW9mIGRlZiA9PT0gJ29iamVjdCcgPyBPYmplY3QuYXNzaWduKHt9LCBkZWYpIDoge307XG5cbiAgICByZXR1cm4gYW5pbWF0b3JbdHlwZV0gPyBhbmltYXRvclt0eXBlXShwcm9wcykgOiBudWxsO1xuICB9O1xuXG4gIHZhciBhZGRHZXRTZXQgPSBmdW5jdGlvbiBhZGRHZXRTZXQoa2V5cywgb2JqLCBwcm9wcykge1xuICAgIHZhciBvdmVyd3JpdGUgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcbiAgICBvYmogPSBBcnJheS5pc0FycmF5KG9iaikgPyBvYmogOiBbb2JqXTtcbiAgICBvYmouZm9yRWFjaChmdW5jdGlvbihvKSB7XG4gICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHZhciBuYW1lID0ga2V5O1xuICAgICAgICB2YXIgZ2V0dGVyID0gZnVuY3Rpb24gZ2V0dGVyKCkge1xuICAgICAgICAgIHJldHVybiBwcm9wc1trZXldO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc2V0dGVyID0gZnVuY3Rpb24gc2V0dGVyKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIChwcm9wc1trZXldID0gdmFsdWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIG5hbWUgPSBrZXkua2V5O1xuICAgICAgICAgIGdldHRlciA9IGtleS5nZXR0ZXIgfHwgZ2V0dGVyO1xuICAgICAgICAgIHNldHRlciA9IGtleS5zZXR0ZXIgfHwgc2V0dGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9bbmFtZV0gJiYgIW92ZXJ3cml0ZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG9bbmFtZV0gPSB7XG4gICAgICAgICAgZ2V0OiBnZXR0ZXIsXG4gICAgICAgICAgc2V0OiBzZXR0ZXJcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIGFkZCB0byBzdGF0ZSxcbiAgLy8gYWRkIGdldHRlcnMgYW5kIHNldHRlcnMgdG8gaW50ZXJuYWwgYW5kIGV4dGVybmFsIGFwaSAoaWYgbm90IHNldClcbiAgLy8gc2V0dXAgYW5pbWF0b3JzXG5cbiAgdmFyIGFuaW1hdGlvbnMgPSBmdW5jdGlvbiBhbmltYXRpb25zKF9yZWYpIHtcbiAgICB2YXIgbWl4aW5Db25maWcgPSBfcmVmLm1peGluQ29uZmlnLFxuICAgICAgdmlld1Byb3BzID0gX3JlZi52aWV3UHJvcHMsXG4gICAgICB2aWV3SW50ZXJuYWxBUEkgPSBfcmVmLnZpZXdJbnRlcm5hbEFQSSxcbiAgICAgIHZpZXdFeHRlcm5hbEFQSSA9IF9yZWYudmlld0V4dGVybmFsQVBJO1xuICAgIC8vIGluaXRpYWwgcHJvcGVydGllc1xuICAgIHZhciBpbml0aWFsUHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCB2aWV3UHJvcHMpO1xuXG4gICAgLy8gbGlzdCBvZiBhbGwgYWN0aXZlIGFuaW1hdGlvbnNcbiAgICB2YXIgYW5pbWF0aW9ucyA9IFtdO1xuXG4gICAgLy8gc2V0dXAgYW5pbWF0b3JzXG4gICAgZm9yaW4obWl4aW5Db25maWcsIGZ1bmN0aW9uKHByb3BlcnR5LCBhbmltYXRpb24pIHtcbiAgICAgIHZhciBhbmltYXRvciA9IGNyZWF0ZUFuaW1hdG9yKGFuaW1hdGlvbik7XG4gICAgICBpZiAoIWFuaW1hdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gd2hlbiB0aGUgYW5pbWF0b3IgdXBkYXRlcywgdXBkYXRlIHRoZSB2aWV3IHN0YXRlIHZhbHVlXG4gICAgICBhbmltYXRvci5vbnVwZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZpZXdQcm9wc1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgIH07XG5cbiAgICAgIC8vIHNldCBhbmltYXRvciB0YXJnZXRcbiAgICAgIGFuaW1hdG9yLnRhcmdldCA9IGluaXRpYWxQcm9wc1twcm9wZXJ0eV07XG5cbiAgICAgIC8vIHdoZW4gdmFsdWUgaXMgc2V0LCBzZXQgdGhlIGFuaW1hdG9yIHRhcmdldCB2YWx1ZVxuICAgICAgdmFyIHByb3AgPSB7XG4gICAgICAgIGtleTogcHJvcGVydHksXG4gICAgICAgIHNldHRlcjogZnVuY3Rpb24gc2V0dGVyKHZhbHVlKSB7XG4gICAgICAgICAgLy8gaWYgYWxyZWFkeSBhdCB0YXJnZXQsIHdlIGRvbmUhXG4gICAgICAgICAgaWYgKGFuaW1hdG9yLnRhcmdldCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhbmltYXRvci50YXJnZXQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0dGVyOiBmdW5jdGlvbiBnZXR0ZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIHZpZXdQcm9wc1twcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIGFkZCBnZXR0ZXJzIGFuZCBzZXR0ZXJzXG4gICAgICBhZGRHZXRTZXQoW3Byb3BdLCBbdmlld0ludGVybmFsQVBJLCB2aWV3RXh0ZXJuYWxBUEldLCB2aWV3UHJvcHMsIHRydWUpO1xuXG4gICAgICAvLyBhZGQgaXQgdG8gdGhlIGxpc3QgZm9yIGVhc3kgdXBkYXRpbmcgZnJvbSB0aGUgX3dyaXRlIG1ldGhvZFxuICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdG9yKTtcbiAgICB9KTtcblxuICAgIC8vIGV4cG9zZSBpbnRlcm5hbCB3cml0ZSBhcGlcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKHRzKSB7XG4gICAgICAgIHZhciBza2lwVG9FbmRTdGF0ZSA9IGRvY3VtZW50LmhpZGRlbjtcbiAgICAgICAgdmFyIHJlc3RpbmcgPSB0cnVlO1xuICAgICAgICBhbmltYXRpb25zLmZvckVhY2goZnVuY3Rpb24oYW5pbWF0aW9uKSB7XG4gICAgICAgICAgaWYgKCFhbmltYXRpb24ucmVzdGluZykgcmVzdGluZyA9IGZhbHNlO1xuICAgICAgICAgIGFuaW1hdGlvbi5pbnRlcnBvbGF0ZSh0cywgc2tpcFRvRW5kU3RhdGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3Rpbmc7XG4gICAgICB9LFxuICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHt9XG4gICAgfTtcbiAgfTtcblxuICB2YXIgYWRkRXZlbnQgPSBmdW5jdGlvbiBhZGRFdmVudChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHR5cGUsIGZuKSB7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4pO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIHJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnQoZWxlbWVudCkge1xuICAgIHJldHVybiBmdW5jdGlvbih0eXBlLCBmbikge1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZuKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIG1peGluXG4gIHZhciBsaXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoX3JlZikge1xuICAgIHZhciBtaXhpbkNvbmZpZyA9IF9yZWYubWl4aW5Db25maWcsXG4gICAgICB2aWV3UHJvcHMgPSBfcmVmLnZpZXdQcm9wcyxcbiAgICAgIHZpZXdJbnRlcm5hbEFQSSA9IF9yZWYudmlld0ludGVybmFsQVBJLFxuICAgICAgdmlld0V4dGVybmFsQVBJID0gX3JlZi52aWV3RXh0ZXJuYWxBUEksXG4gICAgICB2aWV3U3RhdGUgPSBfcmVmLnZpZXdTdGF0ZSxcbiAgICAgIHZpZXcgPSBfcmVmLnZpZXc7XG4gICAgdmFyIGV2ZW50cyA9IFtdO1xuXG4gICAgdmFyIGFkZCA9IGFkZEV2ZW50KHZpZXcuZWxlbWVudCk7XG4gICAgdmFyIHJlbW92ZSA9IHJlbW92ZUV2ZW50KHZpZXcuZWxlbWVudCk7XG5cbiAgICB2aWV3RXh0ZXJuYWxBUEkub24gPSBmdW5jdGlvbih0eXBlLCBmbikge1xuICAgICAgZXZlbnRzLnB1c2goe1xuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBmbjogZm5cbiAgICAgIH0pO1xuXG4gICAgICBhZGQodHlwZSwgZm4pO1xuICAgIH07XG5cbiAgICB2aWV3RXh0ZXJuYWxBUEkub2ZmID0gZnVuY3Rpb24odHlwZSwgZm4pIHtcbiAgICAgIGV2ZW50cy5zcGxpY2UoXG4gICAgICAgIGV2ZW50cy5maW5kSW5kZXgoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gZXZlbnQudHlwZSA9PT0gdHlwZSAmJiBldmVudC5mbiA9PT0gZm47XG4gICAgICAgIH0pLFxuICAgICAgICAxXG4gICAgICApO1xuXG4gICAgICByZW1vdmUodHlwZSwgZm4pO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge1xuICAgICAgICAvLyBub3QgYnVzeVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIHJlbW92ZShldmVudC50eXBlLCBldmVudC5mbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gYWRkIHRvIGV4dGVybmFsIGFwaSBhbmQgbGluayB0byBwcm9wc1xuXG4gIHZhciBhcGlzID0gZnVuY3Rpb24gYXBpcyhfcmVmKSB7XG4gICAgdmFyIG1peGluQ29uZmlnID0gX3JlZi5taXhpbkNvbmZpZyxcbiAgICAgIHZpZXdQcm9wcyA9IF9yZWYudmlld1Byb3BzLFxuICAgICAgdmlld0V4dGVybmFsQVBJID0gX3JlZi52aWV3RXh0ZXJuYWxBUEk7XG4gICAgYWRkR2V0U2V0KG1peGluQ29uZmlnLCB2aWV3RXh0ZXJuYWxBUEksIHZpZXdQcm9wcyk7XG4gIH07XG5cbiAgdmFyIGlzRGVmaW5lZCA9IGZ1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPSBudWxsO1xuICB9O1xuXG4gIC8vIGFkZCB0byBzdGF0ZSxcbiAgLy8gYWRkIGdldHRlcnMgYW5kIHNldHRlcnMgdG8gaW50ZXJuYWwgYW5kIGV4dGVybmFsIGFwaSAoaWYgbm90IHNldClcbiAgLy8gc2V0IGluaXRpYWwgc3RhdGUgYmFzZWQgb24gcHJvcHMgaW4gdmlld1Byb3BzXG4gIC8vIGFwcGx5IGFzIHRyYW5zZm9ybXMgZWFjaCBmcmFtZVxuXG4gIHZhciBkZWZhdWx0cyA9IHtcbiAgICBvcGFjaXR5OiAxLFxuICAgIHNjYWxlWDogMSxcbiAgICBzY2FsZVk6IDEsXG4gICAgdHJhbnNsYXRlWDogMCxcbiAgICB0cmFuc2xhdGVZOiAwLFxuICAgIHJvdGF0ZVg6IDAsXG4gICAgcm90YXRlWTogMCxcbiAgICByb3RhdGVaOiAwLFxuICAgIG9yaWdpblg6IDAsXG4gICAgb3JpZ2luWTogMFxuICB9O1xuXG4gIHZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXMoX3JlZikge1xuICAgIHZhciBtaXhpbkNvbmZpZyA9IF9yZWYubWl4aW5Db25maWcsXG4gICAgICB2aWV3UHJvcHMgPSBfcmVmLnZpZXdQcm9wcyxcbiAgICAgIHZpZXdJbnRlcm5hbEFQSSA9IF9yZWYudmlld0ludGVybmFsQVBJLFxuICAgICAgdmlld0V4dGVybmFsQVBJID0gX3JlZi52aWV3RXh0ZXJuYWxBUEksXG4gICAgICB2aWV3ID0gX3JlZi52aWV3O1xuICAgIC8vIGluaXRpYWwgcHJvcHNcbiAgICB2YXIgaW5pdGlhbFByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgdmlld1Byb3BzKTtcblxuICAgIC8vIGN1cnJlbnQgcHJvcHNcbiAgICB2YXIgY3VycmVudFByb3BzID0ge307XG5cbiAgICAvLyB3ZSB3aWxsIGFkZCB0aG9zZSBwcm9wZXJ0aWVzIHRvIHRoZSBleHRlcm5hbCBBUEkgYW5kIGxpbmsgdGhlbSB0byB0aGUgdmlld1N0YXRlXG4gICAgYWRkR2V0U2V0KG1peGluQ29uZmlnLCBbdmlld0ludGVybmFsQVBJLCB2aWV3RXh0ZXJuYWxBUEldLCB2aWV3UHJvcHMpO1xuXG4gICAgLy8gb3ZlcnJpZGUgcmVjdCBvbiBpbnRlcm5hbCBhbmQgZXh0ZXJuYWwgcmVjdCBnZXR0ZXIgc28gaXQgdGFrZXMgaW4gYWNjb3VudCB0cmFuc2Zvcm1zXG4gICAgdmFyIGdldE9mZnNldCA9IGZ1bmN0aW9uIGdldE9mZnNldCgpIHtcbiAgICAgIHJldHVybiBbdmlld1Byb3BzWyd0cmFuc2xhdGVYJ10gfHwgMCwgdmlld1Byb3BzWyd0cmFuc2xhdGVZJ10gfHwgMF07XG4gICAgfTtcblxuICAgIHZhciBnZXRTY2FsZSA9IGZ1bmN0aW9uIGdldFNjYWxlKCkge1xuICAgICAgcmV0dXJuIFt2aWV3UHJvcHNbJ3NjYWxlWCddIHx8IDAsIHZpZXdQcm9wc1snc2NhbGVZJ10gfHwgMF07XG4gICAgfTtcbiAgICB2YXIgZ2V0UmVjdCA9IGZ1bmN0aW9uIGdldFJlY3QoKSB7XG4gICAgICByZXR1cm4gdmlldy5yZWN0XG4gICAgICAgID8gZ2V0Vmlld1JlY3Qodmlldy5yZWN0LCB2aWV3LmNoaWxkVmlld3MsIGdldE9mZnNldCgpLCBnZXRTY2FsZSgpKVxuICAgICAgICA6IG51bGw7XG4gICAgfTtcbiAgICB2aWV3SW50ZXJuYWxBUEkucmVjdCA9IHsgZ2V0OiBnZXRSZWN0IH07XG4gICAgdmlld0V4dGVybmFsQVBJLnJlY3QgPSB7IGdldDogZ2V0UmVjdCB9O1xuXG4gICAgLy8gYXBwbHkgdmlldyBwcm9wc1xuICAgIG1peGluQ29uZmlnLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2aWV3UHJvcHNba2V5XSA9XG4gICAgICAgIHR5cGVvZiBpbml0aWFsUHJvcHNba2V5XSA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICA/IGRlZmF1bHRzW2tleV1cbiAgICAgICAgICA6IGluaXRpYWxQcm9wc1trZXldO1xuICAgIH0pO1xuXG4gICAgLy8gZXhwb3NlIGFwaVxuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7XG4gICAgICAgIC8vIHNlZSBpZiBwcm9wcyBoYXZlIGNoYW5nZWRcbiAgICAgICAgaWYgKCFwcm9wc0hhdmVDaGFuZ2VkKGN1cnJlbnRQcm9wcywgdmlld1Byb3BzKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdmVzIGVsZW1lbnQgdG8gY29ycmVjdCBwb3NpdGlvbiBvbiBzY3JlZW5cbiAgICAgICAgYXBwbHlTdHlsZXModmlldy5lbGVtZW50LCB2aWV3UHJvcHMpO1xuXG4gICAgICAgIC8vIHN0b3JlIG5ldyB0cmFuc2Zvcm1zXG4gICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudFByb3BzLCBPYmplY3QuYXNzaWduKHt9LCB2aWV3UHJvcHMpKTtcblxuICAgICAgICAvLyBubyBsb25nZXIgYnVzeVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge31cbiAgICB9O1xuICB9O1xuXG4gIHZhciBwcm9wc0hhdmVDaGFuZ2VkID0gZnVuY3Rpb24gcHJvcHNIYXZlQ2hhbmdlZChjdXJyZW50UHJvcHMsIG5ld1Byb3BzKSB7XG4gICAgLy8gZGlmZmVyZW50IGFtb3VudCBvZiBrZXlzXG4gICAgaWYgKE9iamVjdC5rZXlzKGN1cnJlbnRQcm9wcykubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhuZXdQcm9wcykubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBsZXRzIGFuYWx5emUgdGhlIGluZGl2aWR1YWwgcHJvcHNcbiAgICBmb3IgKHZhciBwcm9wIGluIG5ld1Byb3BzKSB7XG4gICAgICBpZiAobmV3UHJvcHNbcHJvcF0gIT09IGN1cnJlbnRQcm9wc1twcm9wXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdmFyIGFwcGx5U3R5bGVzID0gZnVuY3Rpb24gYXBwbHlTdHlsZXMoZWxlbWVudCwgX3JlZjIpIHtcbiAgICB2YXIgb3BhY2l0eSA9IF9yZWYyLm9wYWNpdHksXG4gICAgICBwZXJzcGVjdGl2ZSA9IF9yZWYyLnBlcnNwZWN0aXZlLFxuICAgICAgdHJhbnNsYXRlWCA9IF9yZWYyLnRyYW5zbGF0ZVgsXG4gICAgICB0cmFuc2xhdGVZID0gX3JlZjIudHJhbnNsYXRlWSxcbiAgICAgIHNjYWxlWCA9IF9yZWYyLnNjYWxlWCxcbiAgICAgIHNjYWxlWSA9IF9yZWYyLnNjYWxlWSxcbiAgICAgIHJvdGF0ZVggPSBfcmVmMi5yb3RhdGVYLFxuICAgICAgcm90YXRlWSA9IF9yZWYyLnJvdGF0ZVksXG4gICAgICByb3RhdGVaID0gX3JlZjIucm90YXRlWixcbiAgICAgIG9yaWdpblggPSBfcmVmMi5vcmlnaW5YLFxuICAgICAgb3JpZ2luWSA9IF9yZWYyLm9yaWdpblksXG4gICAgICB3aWR0aCA9IF9yZWYyLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gX3JlZjIuaGVpZ2h0O1xuXG4gICAgdmFyIHRyYW5zZm9ybXMgPSAnJztcbiAgICB2YXIgc3R5bGVzID0gJyc7XG5cbiAgICAvLyBoYW5kbGUgdHJhbnNmb3JtIG9yaWdpblxuICAgIGlmIChpc0RlZmluZWQob3JpZ2luWCkgfHwgaXNEZWZpbmVkKG9yaWdpblkpKSB7XG4gICAgICBzdHlsZXMgKz1cbiAgICAgICAgJ3RyYW5zZm9ybS1vcmlnaW46ICcgKyAob3JpZ2luWCB8fCAwKSArICdweCAnICsgKG9yaWdpblkgfHwgMCkgKyAncHg7JztcbiAgICB9XG5cbiAgICAvLyB0cmFuc2Zvcm0gb3JkZXIgaXMgcmVsZXZhbnRcbiAgICAvLyAwLiBwZXJzcGVjdGl2ZVxuICAgIGlmIChpc0RlZmluZWQocGVyc3BlY3RpdmUpKSB7XG4gICAgICB0cmFuc2Zvcm1zICs9ICdwZXJzcGVjdGl2ZSgnICsgcGVyc3BlY3RpdmUgKyAncHgpICc7XG4gICAgfVxuXG4gICAgLy8gMS4gdHJhbnNsYXRlXG4gICAgaWYgKGlzRGVmaW5lZCh0cmFuc2xhdGVYKSB8fCBpc0RlZmluZWQodHJhbnNsYXRlWSkpIHtcbiAgICAgIHRyYW5zZm9ybXMgKz1cbiAgICAgICAgJ3RyYW5zbGF0ZTNkKCcgK1xuICAgICAgICAodHJhbnNsYXRlWCB8fCAwKSArXG4gICAgICAgICdweCwgJyArXG4gICAgICAgICh0cmFuc2xhdGVZIHx8IDApICtcbiAgICAgICAgJ3B4LCAwKSAnO1xuICAgIH1cblxuICAgIC8vIDIuIHNjYWxlXG4gICAgaWYgKGlzRGVmaW5lZChzY2FsZVgpIHx8IGlzRGVmaW5lZChzY2FsZVkpKSB7XG4gICAgICB0cmFuc2Zvcm1zICs9XG4gICAgICAgICdzY2FsZTNkKCcgK1xuICAgICAgICAoaXNEZWZpbmVkKHNjYWxlWCkgPyBzY2FsZVggOiAxKSArXG4gICAgICAgICcsICcgK1xuICAgICAgICAoaXNEZWZpbmVkKHNjYWxlWSkgPyBzY2FsZVkgOiAxKSArXG4gICAgICAgICcsIDEpICc7XG4gICAgfVxuXG4gICAgLy8gMy4gcm90YXRlXG4gICAgaWYgKGlzRGVmaW5lZChyb3RhdGVaKSkge1xuICAgICAgdHJhbnNmb3JtcyArPSAncm90YXRlWignICsgcm90YXRlWiArICdyYWQpICc7XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmaW5lZChyb3RhdGVYKSkge1xuICAgICAgdHJhbnNmb3JtcyArPSAncm90YXRlWCgnICsgcm90YXRlWCArICdyYWQpICc7XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmaW5lZChyb3RhdGVZKSkge1xuICAgICAgdHJhbnNmb3JtcyArPSAncm90YXRlWSgnICsgcm90YXRlWSArICdyYWQpICc7XG4gICAgfVxuXG4gICAgLy8gYWRkIHRyYW5zZm9ybXNcbiAgICBpZiAodHJhbnNmb3Jtcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlcyArPSAndHJhbnNmb3JtOicgKyB0cmFuc2Zvcm1zICsgJzsnO1xuICAgIH1cblxuICAgIC8vIGFkZCBvcGFjaXR5XG4gICAgaWYgKGlzRGVmaW5lZChvcGFjaXR5KSkge1xuICAgICAgc3R5bGVzICs9ICdvcGFjaXR5OicgKyBvcGFjaXR5ICsgJzsnO1xuXG4gICAgICAvLyBpZiB3ZSByZWFjaCB6ZXJvLCB3ZSBtYWtlIHRoZSBlbGVtZW50IGluYWNjZXNzaWJsZVxuICAgICAgaWYgKG9wYWNpdHkgPT09IDApIHtcbiAgICAgICAgc3R5bGVzICs9ICd2aXNpYmlsaXR5OmhpZGRlbjsnO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiB3ZSdyZSBiZWxvdyAxMDAlIG9wYWNpdHkgdGhpcyBlbGVtZW50IGNhbid0IGJlIGNsaWNrZWRcbiAgICAgIGlmIChvcGFjaXR5IDwgMSkge1xuICAgICAgICBzdHlsZXMgKz0gJ3BvaW50ZXItZXZlbnRzOm5vbmU7JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQgaGVpZ2h0XG4gICAgaWYgKGlzRGVmaW5lZChoZWlnaHQpKSB7XG4gICAgICBzdHlsZXMgKz0gJ2hlaWdodDonICsgaGVpZ2h0ICsgJ3B4Oyc7XG4gICAgfVxuXG4gICAgLy8gYWRkIHdpZHRoXG4gICAgaWYgKGlzRGVmaW5lZCh3aWR0aCkpIHtcbiAgICAgIHN0eWxlcyArPSAnd2lkdGg6JyArIHdpZHRoICsgJ3B4Oyc7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgc3R5bGVzXG4gICAgdmFyIGVsZW1lbnRDdXJyZW50U3R5bGUgPSBlbGVtZW50LmVsZW1lbnRDdXJyZW50U3R5bGUgfHwgJyc7XG5cbiAgICAvLyBpZiBuZXcgc3R5bGVzIGRvZXMgbm90IG1hdGNoIGN1cnJlbnQgc3R5bGVzLCBsZXRzIHVwZGF0ZSFcbiAgICBpZiAoXG4gICAgICBzdHlsZXMubGVuZ3RoICE9PSBlbGVtZW50Q3VycmVudFN0eWxlLmxlbmd0aCB8fFxuICAgICAgc3R5bGVzICE9PSBlbGVtZW50Q3VycmVudFN0eWxlXG4gICAgKSB7XG4gICAgICBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSBzdHlsZXM7XG4gICAgICAvLyBzdG9yZSBjdXJyZW50IHN0eWxlcyBzbyB3ZSBjYW4gY29tcGFyZSB0aGVtIHRvIG5ldyBzdHlsZXMgbGF0ZXIgb25cbiAgICAgIC8vIF9ub3RfIGdldHRpbmcgdGhlIHN0eWxlIHZhbHVlIGlzIGZhc3RlclxuICAgICAgZWxlbWVudC5lbGVtZW50Q3VycmVudFN0eWxlID0gc3R5bGVzO1xuICAgIH1cbiAgfTtcblxuICB2YXIgTWl4aW5zID0ge1xuICAgIHN0eWxlczogc3R5bGVzLFxuICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgIGFuaW1hdGlvbnM6IGFuaW1hdGlvbnMsXG4gICAgYXBpczogYXBpc1xuICB9O1xuXG4gIHZhciB1cGRhdGVSZWN0ID0gZnVuY3Rpb24gdXBkYXRlUmVjdCgpIHtcbiAgICB2YXIgcmVjdCA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHZhciBlbGVtZW50ID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIHN0eWxlID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cbiAgICBpZiAoIWVsZW1lbnQubGF5b3V0Q2FsY3VsYXRlZCkge1xuICAgICAgcmVjdC5wYWRkaW5nVG9wID0gcGFyc2VJbnQoc3R5bGUucGFkZGluZ1RvcCwgMTApIHx8IDA7XG4gICAgICByZWN0Lm1hcmdpblRvcCA9IHBhcnNlSW50KHN0eWxlLm1hcmdpblRvcCwgMTApIHx8IDA7XG4gICAgICByZWN0Lm1hcmdpblJpZ2h0ID0gcGFyc2VJbnQoc3R5bGUubWFyZ2luUmlnaHQsIDEwKSB8fCAwO1xuICAgICAgcmVjdC5tYXJnaW5Cb3R0b20gPSBwYXJzZUludChzdHlsZS5tYXJnaW5Cb3R0b20sIDEwKSB8fCAwO1xuICAgICAgcmVjdC5tYXJnaW5MZWZ0ID0gcGFyc2VJbnQoc3R5bGUubWFyZ2luTGVmdCwgMTApIHx8IDA7XG4gICAgICBlbGVtZW50LmxheW91dENhbGN1bGF0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJlY3QubGVmdCA9IGVsZW1lbnQub2Zmc2V0TGVmdCB8fCAwO1xuICAgIHJlY3QudG9wID0gZWxlbWVudC5vZmZzZXRUb3AgfHwgMDtcbiAgICByZWN0LndpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aCB8fCAwO1xuICAgIHJlY3QuaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQgfHwgMDtcblxuICAgIHJlY3QucmlnaHQgPSByZWN0LmxlZnQgKyByZWN0LndpZHRoO1xuICAgIHJlY3QuYm90dG9tID0gcmVjdC50b3AgKyByZWN0LmhlaWdodDtcblxuICAgIHJlY3Quc2Nyb2xsVG9wID0gZWxlbWVudC5zY3JvbGxUb3A7XG5cbiAgICByZWN0LmhpZGRlbiA9IGVsZW1lbnQub2Zmc2V0UGFyZW50ID09PSBudWxsO1xuXG4gICAgcmV0dXJuIHJlY3Q7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVZpZXcgPVxuICAgIC8vIGRlZmF1bHQgdmlldyBkZWZpbml0aW9uXG4gICAgZnVuY3Rpb24gY3JlYXRlVmlldygpIHtcbiAgICAgIHZhciBfcmVmID1cbiAgICAgICAgICBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBhcmd1bWVudHNbMF1cbiAgICAgICAgICAgIDoge30sXG4gICAgICAgIF9yZWYkdGFnID0gX3JlZi50YWcsXG4gICAgICAgIHRhZyA9IF9yZWYkdGFnID09PSB2b2lkIDAgPyAnZGl2JyA6IF9yZWYkdGFnLFxuICAgICAgICBfcmVmJG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICAgIG5hbWUgPSBfcmVmJG5hbWUgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmJG5hbWUsXG4gICAgICAgIF9yZWYkYXR0cmlidXRlcyA9IF9yZWYuYXR0cmlidXRlcyxcbiAgICAgICAgYXR0cmlidXRlcyA9IF9yZWYkYXR0cmlidXRlcyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGF0dHJpYnV0ZXMsXG4gICAgICAgIF9yZWYkcmVhZCA9IF9yZWYucmVhZCxcbiAgICAgICAgcmVhZCA9IF9yZWYkcmVhZCA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWYkcmVhZCxcbiAgICAgICAgX3JlZiR3cml0ZSA9IF9yZWYud3JpdGUsXG4gICAgICAgIHdyaXRlID0gX3JlZiR3cml0ZSA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWYkd3JpdGUsXG4gICAgICAgIF9yZWYkY3JlYXRlID0gX3JlZi5jcmVhdGUsXG4gICAgICAgIGNyZWF0ZSA9IF9yZWYkY3JlYXRlID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZiRjcmVhdGUsXG4gICAgICAgIF9yZWYkZGVzdHJveSA9IF9yZWYuZGVzdHJveSxcbiAgICAgICAgZGVzdHJveSA9IF9yZWYkZGVzdHJveSA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWYkZGVzdHJveSxcbiAgICAgICAgX3JlZiRmaWx0ZXJGcmFtZUFjdGlvID0gX3JlZi5maWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZCxcbiAgICAgICAgZmlsdGVyRnJhbWVBY3Rpb25zRm9yQ2hpbGQgPVxuICAgICAgICAgIF9yZWYkZmlsdGVyRnJhbWVBY3RpbyA9PT0gdm9pZCAwXG4gICAgICAgICAgICA/IGZ1bmN0aW9uKGNoaWxkLCBhY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogX3JlZiRmaWx0ZXJGcmFtZUFjdGlvLFxuICAgICAgICBfcmVmJGRpZENyZWF0ZVZpZXcgPSBfcmVmLmRpZENyZWF0ZVZpZXcsXG4gICAgICAgIGRpZENyZWF0ZVZpZXcgPVxuICAgICAgICAgIF9yZWYkZGlkQ3JlYXRlVmlldyA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWYkZGlkQ3JlYXRlVmlldyxcbiAgICAgICAgX3JlZiRkaWRXcml0ZVZpZXcgPSBfcmVmLmRpZFdyaXRlVmlldyxcbiAgICAgICAgZGlkV3JpdGVWaWV3ID1cbiAgICAgICAgICBfcmVmJGRpZFdyaXRlVmlldyA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWYkZGlkV3JpdGVWaWV3LFxuICAgICAgICBfcmVmJGlnbm9yZVJlY3QgPSBfcmVmLmlnbm9yZVJlY3QsXG4gICAgICAgIGlnbm9yZVJlY3QgPSBfcmVmJGlnbm9yZVJlY3QgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRpZ25vcmVSZWN0LFxuICAgICAgICBfcmVmJGlnbm9yZVJlY3RVcGRhdGUgPSBfcmVmLmlnbm9yZVJlY3RVcGRhdGUsXG4gICAgICAgIGlnbm9yZVJlY3RVcGRhdGUgPVxuICAgICAgICAgIF9yZWYkaWdub3JlUmVjdFVwZGF0ZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGlnbm9yZVJlY3RVcGRhdGUsXG4gICAgICAgIF9yZWYkbWl4aW5zID0gX3JlZi5taXhpbnMsXG4gICAgICAgIG1peGlucyA9IF9yZWYkbWl4aW5zID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkbWl4aW5zO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKFxuICAgICAgICAvLyBlYWNoIHZpZXcgcmVxdWlyZXMgcmVmZXJlbmNlIHRvIHN0b3JlXG4gICAgICAgIHN0b3JlXG4gICAgICApIHtcbiAgICAgICAgdmFyIHByb3BzID1cbiAgICAgICAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBhcmd1bWVudHNbMV1cbiAgICAgICAgICAgIDoge307XG4gICAgICAgIC8vIHJvb3QgZWxlbWVudCBzaG91bGQgbm90IGJlIGNoYW5nZWRcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KHRhZywgJ2ZpbGVwb25kLS0nICsgbmFtZSwgYXR0cmlidXRlcyk7XG5cbiAgICAgICAgLy8gc3R5bGUgcmVmZXJlbmNlIHNob3VsZCBhbHNvIG5vdCBiZSBjaGFuZ2VkXG4gICAgICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpO1xuXG4gICAgICAgIC8vIGVsZW1lbnQgcmVjdGFuZ2xlXG4gICAgICAgIHZhciByZWN0ID0gdXBkYXRlUmVjdCgpO1xuICAgICAgICB2YXIgZnJhbWVSZWN0ID0gbnVsbDtcblxuICAgICAgICAvLyByZXN0IHN0YXRlXG4gICAgICAgIHZhciBpc1Jlc3RpbmcgPSBmYWxzZTtcblxuICAgICAgICAvLyBwcmV0dHkgc2VsZiBleHBsYW5hdG9yeVxuICAgICAgICB2YXIgY2hpbGRWaWV3cyA9IFtdO1xuXG4gICAgICAgIC8vIGxvYWRlZCBtaXhpbnNcbiAgICAgICAgdmFyIGFjdGl2ZU1peGlucyA9IFtdO1xuXG4gICAgICAgIC8vIHJlZmVyZW5jZXMgdG8gY3JlYXRlZCBjaGlsZHJlblxuICAgICAgICB2YXIgcmVmID0ge307XG5cbiAgICAgICAgLy8gc3RhdGUgdXNlZCBmb3IgZWFjaCBpbnN0YW5jZVxuICAgICAgICB2YXIgc3RhdGUgPSB7fTtcblxuICAgICAgICAvLyBsaXN0IG9mIHdyaXRlcnMgdGhhdCB3aWxsIGJlIGNhbGxlZCB0byB1cGRhdGUgdGhpcyB2aWV3XG4gICAgICAgIHZhciB3cml0ZXJzID0gW1xuICAgICAgICAgIHdyaXRlIC8vIGRlZmF1bHQgd3JpdGVyXG4gICAgICAgIF07XG5cbiAgICAgICAgdmFyIHJlYWRlcnMgPSBbXG4gICAgICAgICAgcmVhZCAvLyBkZWZhdWx0IHJlYWRlclxuICAgICAgICBdO1xuXG4gICAgICAgIHZhciBkZXN0cm95ZXJzID0gW1xuICAgICAgICAgIGRlc3Ryb3kgLy8gZGVmYXVsdCBkZXN0cm95XG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gY29yZSB2aWV3IG1ldGhvZHNcbiAgICAgICAgdmFyIGdldEVsZW1lbnQgPSBmdW5jdGlvbiBnZXRFbGVtZW50KCkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2V0Q2hpbGRWaWV3cyA9IGZ1bmN0aW9uIGdldENoaWxkVmlld3MoKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkVmlld3MuY29uY2F0KCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBnZXRSZWZlcmVuY2UgPSBmdW5jdGlvbiBnZXRSZWZlcmVuY2UoKSB7XG4gICAgICAgICAgcmV0dXJuIHJlZjtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNyZWF0ZUNoaWxkVmlldyA9IGZ1bmN0aW9uIGNyZWF0ZUNoaWxkVmlldyhzdG9yZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbih2aWV3LCBwcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXcoc3RvcmUsIHByb3BzKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2V0UmVjdCA9IGZ1bmN0aW9uIGdldFJlY3QoKSB7XG4gICAgICAgICAgaWYgKGZyYW1lUmVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZyYW1lUmVjdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnJhbWVSZWN0ID0gZ2V0Vmlld1JlY3QocmVjdCwgY2hpbGRWaWV3cywgWzAsIDBdLCBbMSwgMV0pO1xuICAgICAgICAgIHJldHVybiBmcmFtZVJlY3Q7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBnZXRTdHlsZSA9IGZ1bmN0aW9uIGdldFN0eWxlKCkge1xuICAgICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVhZCBkYXRhIGZyb20gRE9NXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3JlYWQgPSBmdW5jdGlvbiBfcmVhZCgpIHtcbiAgICAgICAgICBmcmFtZVJlY3QgPSBudWxsO1xuXG4gICAgICAgICAgLy8gcmVhZCBjaGlsZCB2aWV3c1xuICAgICAgICAgIGNoaWxkVmlld3MuZm9yRWFjaChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkLl9yZWFkKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlID0gIShpZ25vcmVSZWN0VXBkYXRlICYmIHJlY3Qud2lkdGggJiYgcmVjdC5oZWlnaHQpO1xuICAgICAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgIHVwZGF0ZVJlY3QocmVjdCwgZWxlbWVudCwgc3R5bGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHJlYWRlcnNcbiAgICAgICAgICB2YXIgYXBpID0geyByb290OiBpbnRlcm5hbEFQSSwgcHJvcHM6IHByb3BzLCByZWN0OiByZWN0IH07XG4gICAgICAgICAgcmVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHJlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRlcihhcGkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcml0ZSBkYXRhIHRvIERPTVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF93cml0ZSA9IGZ1bmN0aW9uIF93cml0ZSh0cywgZnJhbWVBY3Rpb25zLCBzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICAgIC8vIGlmIG5vIGFjdGlvbnMsIHdlIGFzc3VtZSB0aGF0IHRoZSB2aWV3IGlzIHJlc3RpbmdcbiAgICAgICAgICB2YXIgcmVzdGluZyA9IGZyYW1lQWN0aW9ucy5sZW5ndGggPT09IDA7XG5cbiAgICAgICAgICAvLyB3cml0ZXJzXG4gICAgICAgICAgd3JpdGVycy5mb3JFYWNoKGZ1bmN0aW9uKHdyaXRlcikge1xuICAgICAgICAgICAgdmFyIHdyaXRlclJlc3RpbmcgPSB3cml0ZXIoe1xuICAgICAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgICAgIHJvb3Q6IGludGVybmFsQVBJLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBmcmFtZUFjdGlvbnMsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogdHMsXG4gICAgICAgICAgICAgIHNob3VsZE9wdGltaXplOiBzaG91bGRPcHRpbWl6ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICh3cml0ZXJSZXN0aW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBydW4gbWl4aW5zXG4gICAgICAgICAgYWN0aXZlTWl4aW5zLmZvckVhY2goZnVuY3Rpb24obWl4aW4pIHtcbiAgICAgICAgICAgIC8vIGlmIG9uZSBvZiB0aGUgbWl4aW5zIGlzIHN0aWxsIGJ1c3kgYWZ0ZXIgd3JpdGUgb3BlcmF0aW9uLCB3ZSBhcmUgbm90IHJlc3RpbmdcbiAgICAgICAgICAgIHZhciBtaXhpblJlc3RpbmcgPSBtaXhpbi53cml0ZSh0cyk7XG4gICAgICAgICAgICBpZiAobWl4aW5SZXN0aW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyB1cGRhdGVzIGNoaWxkIHZpZXdzIHRoYXQgYXJlIGN1cnJlbnRseSBhdHRhY2hlZCB0byB0aGUgRE9NXG4gICAgICAgICAgY2hpbGRWaWV3c1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgICByZXR1cm4gISFjaGlsZC5lbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgLy8gaWYgYSBjaGlsZCB2aWV3IGlzIG5vdCByZXN0aW5nLCB3ZSBhcmUgbm90IHJlc3RpbmdcbiAgICAgICAgICAgICAgdmFyIGNoaWxkUmVzdGluZyA9IGNoaWxkLl93cml0ZShcbiAgICAgICAgICAgICAgICB0cyxcbiAgICAgICAgICAgICAgICBmaWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZChjaGlsZCwgZnJhbWVBY3Rpb25zKSxcbiAgICAgICAgICAgICAgICBzaG91bGRPcHRpbWl6ZVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIGlmICghY2hpbGRSZXN0aW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIGFwcGVuZCBuZXcgZWxlbWVudHMgdG8gRE9NIGFuZCB1cGRhdGUgdGhvc2VcbiAgICAgICAgICBjaGlsZFZpZXdzXG4gICAgICAgICAgICAvLy5maWx0ZXIoY2hpbGQgPT4gIWNoaWxkLmVsZW1lbnQucGFyZW50Tm9kZSlcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkLCBpbmRleCkge1xuICAgICAgICAgICAgICAvLyBza2lwXG4gICAgICAgICAgICAgIGlmIChjaGlsZC5lbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBhcHBlbmQgdG8gRE9NXG4gICAgICAgICAgICAgIGludGVybmFsQVBJLmFwcGVuZENoaWxkKGNoaWxkLmVsZW1lbnQsIGluZGV4KTtcblxuICAgICAgICAgICAgICAvLyBjYWxsIHJlYWQgKG5lZWQgdG8ga25vdyB0aGUgc2l6ZSBvZiB0aGVzZSBlbGVtZW50cylcbiAgICAgICAgICAgICAgY2hpbGQuX3JlYWQoKTtcblxuICAgICAgICAgICAgICAvLyByZS1jYWxsIHdyaXRlXG4gICAgICAgICAgICAgIGNoaWxkLl93cml0ZShcbiAgICAgICAgICAgICAgICB0cyxcbiAgICAgICAgICAgICAgICBmaWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZChjaGlsZCwgZnJhbWVBY3Rpb25zKSxcbiAgICAgICAgICAgICAgICBzaG91bGRPcHRpbWl6ZVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIC8vIHdlIGp1c3QgYWRkZWQgc29tdGhpbmcgdG8gdGhlIGRvbSwgbm8gcmVzdFxuICAgICAgICAgICAgICByZXN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIHVwZGF0ZSByZXN0aW5nIHN0YXRlXG4gICAgICAgICAgaXNSZXN0aW5nID0gcmVzdGluZztcblxuICAgICAgICAgIGRpZFdyaXRlVmlldyh7XG4gICAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgICByb290OiBpbnRlcm5hbEFQSSxcbiAgICAgICAgICAgIGFjdGlvbnM6IGZyYW1lQWN0aW9ucyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdHNcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIGxldCBwYXJlbnQga25vdyBpZiB3ZSBhcmUgcmVzdGluZ1xuICAgICAgICAgIHJldHVybiByZXN0aW5nO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBfZGVzdHJveSA9IGZ1bmN0aW9uIF9kZXN0cm95KCkge1xuICAgICAgICAgIGFjdGl2ZU1peGlucy5mb3JFYWNoKGZ1bmN0aW9uKG1peGluKSB7XG4gICAgICAgICAgICByZXR1cm4gbWl4aW4uZGVzdHJveSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRlc3Ryb3llcnMuZm9yRWFjaChmdW5jdGlvbihkZXN0cm95ZXIpIHtcbiAgICAgICAgICAgIGRlc3Ryb3llcih7IHJvb3Q6IGludGVybmFsQVBJLCBwcm9wczogcHJvcHMgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY2hpbGRWaWV3cy5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQuX2Rlc3Ryb3koKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzaGFyZWRBUElcbiAgICAgICAgdmFyIHNoYXJlZEFQSURlZmluaXRpb24gPSB7XG4gICAgICAgICAgZWxlbWVudDoge1xuICAgICAgICAgICAgZ2V0OiBnZXRFbGVtZW50XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBnZXQ6IGdldFN0eWxlXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGNoaWxkVmlld3M6IHtcbiAgICAgICAgICAgIGdldDogZ2V0Q2hpbGRWaWV3c1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBwcml2YXRlIEFQSSBkZWZpbml0aW9uXG4gICAgICAgIHZhciBpbnRlcm5hbEFQSURlZmluaXRpb24gPSBPYmplY3QuYXNzaWduKHt9LCBzaGFyZWRBUElEZWZpbml0aW9uLCB7XG4gICAgICAgICAgcmVjdDoge1xuICAgICAgICAgICAgZ2V0OiBnZXRSZWN0XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIC8vIGFjY2VzcyB0byBjdXN0b20gY2hpbGRyZW4gcmVmZXJlbmNlc1xuICAgICAgICAgIHJlZjoge1xuICAgICAgICAgICAgZ2V0OiBnZXRSZWZlcmVuY2VcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgLy8gZG9tIG1vZGlmaWVyc1xuICAgICAgICAgIGlzOiBmdW5jdGlvbiBpcyhuZWVkbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuYW1lID09PSBuZWVkbGU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcHBlbmRDaGlsZDogYXBwZW5kQ2hpbGQoZWxlbWVudCksXG4gICAgICAgICAgY3JlYXRlQ2hpbGRWaWV3OiBjcmVhdGVDaGlsZFZpZXcoc3RvcmUpLFxuICAgICAgICAgIGxpbmtWaWV3OiBmdW5jdGlvbiBsaW5rVmlldyh2aWV3KSB7XG4gICAgICAgICAgICBjaGlsZFZpZXdzLnB1c2godmlldyk7XG4gICAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgICB9LFxuICAgICAgICAgIHVubGlua1ZpZXc6IGZ1bmN0aW9uIHVubGlua1ZpZXcodmlldykge1xuICAgICAgICAgICAgY2hpbGRWaWV3cy5zcGxpY2UoY2hpbGRWaWV3cy5pbmRleE9mKHZpZXcpLCAxKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFwcGVuZENoaWxkVmlldzogYXBwZW5kQ2hpbGRWaWV3KGVsZW1lbnQsIGNoaWxkVmlld3MpLFxuICAgICAgICAgIHJlbW92ZUNoaWxkVmlldzogcmVtb3ZlQ2hpbGRWaWV3KGVsZW1lbnQsIGNoaWxkVmlld3MpLFxuICAgICAgICAgIHJlZ2lzdGVyV3JpdGVyOiBmdW5jdGlvbiByZWdpc3RlcldyaXRlcih3cml0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB3cml0ZXJzLnB1c2god3JpdGVyKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlZ2lzdGVyUmVhZGVyOiBmdW5jdGlvbiByZWdpc3RlclJlYWRlcihyZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkZXJzLnB1c2gocmVhZGVyKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlZ2lzdGVyRGVzdHJveWVyOiBmdW5jdGlvbiByZWdpc3RlckRlc3Ryb3llcihkZXN0cm95ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBkZXN0cm95ZXJzLnB1c2goZGVzdHJveWVyKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGludmFsaWRhdGVMYXlvdXQ6IGZ1bmN0aW9uIGludmFsaWRhdGVMYXlvdXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKGVsZW1lbnQubGF5b3V0Q2FsY3VsYXRlZCA9IGZhbHNlKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgLy8gYWNjZXNzIHRvIGRhdGEgc3RvcmVcbiAgICAgICAgICBkaXNwYXRjaDogc3RvcmUuZGlzcGF0Y2gsXG4gICAgICAgICAgcXVlcnk6IHN0b3JlLnF1ZXJ5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHB1YmxpYyB2aWV3IEFQSSBtZXRob2RzXG4gICAgICAgIHZhciBleHRlcm5hbEFQSURlZmluaXRpb24gPSB7XG4gICAgICAgICAgZWxlbWVudDoge1xuICAgICAgICAgICAgZ2V0OiBnZXRFbGVtZW50XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGNoaWxkVmlld3M6IHtcbiAgICAgICAgICAgIGdldDogZ2V0Q2hpbGRWaWV3c1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICByZWN0OiB7XG4gICAgICAgICAgICBnZXQ6IGdldFJlY3RcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgcmVzdGluZzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBpc1Jlc3Rpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGlzUmVjdElnbm9yZWQ6IGZ1bmN0aW9uIGlzUmVjdElnbm9yZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gaWdub3JlUmVjdDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9yZWFkOiBfcmVhZCxcbiAgICAgICAgICBfd3JpdGU6IF93cml0ZSxcbiAgICAgICAgICBfZGVzdHJveTogX2Rlc3Ryb3lcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBtaXhpbiBBUEkgbWV0aG9kc1xuICAgICAgICB2YXIgbWl4aW5BUElEZWZpbml0aW9uID0gT2JqZWN0LmFzc2lnbih7fSwgc2hhcmVkQVBJRGVmaW5pdGlvbiwge1xuICAgICAgICAgIHJlY3Q6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGFkZCBtaXhpbiBmdW5jdGlvbmFsaXR5XG4gICAgICAgIE9iamVjdC5rZXlzKG1peGlucylcbiAgICAgICAgICAuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAvLyBtb3ZlIHN0eWxlcyB0byB0aGUgYmFjayBvZiB0aGUgbWl4aW4gbGlzdCAoc28gYWRqdXN0bWVudHMgb2Ygb3RoZXIgbWl4aW5zIGFyZSBhcHBsaWVkIHRvIHRoZSBwcm9wcyBjb3JyZWN0bHkpXG4gICAgICAgICAgICBpZiAoYSA9PT0gJ3N0eWxlcycpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09ICdzdHlsZXMnKSB7XG4gICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICB2YXIgbWl4aW5BUEkgPSBNaXhpbnNba2V5XSh7XG4gICAgICAgICAgICAgIG1peGluQ29uZmlnOiBtaXhpbnNba2V5XSxcbiAgICAgICAgICAgICAgdmlld1Byb3BzOiBwcm9wcyxcbiAgICAgICAgICAgICAgdmlld1N0YXRlOiBzdGF0ZSxcbiAgICAgICAgICAgICAgdmlld0ludGVybmFsQVBJOiBpbnRlcm5hbEFQSURlZmluaXRpb24sXG4gICAgICAgICAgICAgIHZpZXdFeHRlcm5hbEFQSTogZXh0ZXJuYWxBUElEZWZpbml0aW9uLFxuICAgICAgICAgICAgICB2aWV3OiBjcmVhdGVPYmplY3QobWl4aW5BUElEZWZpbml0aW9uKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChtaXhpbkFQSSkge1xuICAgICAgICAgICAgICBhY3RpdmVNaXhpbnMucHVzaChtaXhpbkFQSSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gY29uc3RydWN0IHByaXZhdGUgYXBpXG4gICAgICAgIHZhciBpbnRlcm5hbEFQSSA9IGNyZWF0ZU9iamVjdChpbnRlcm5hbEFQSURlZmluaXRpb24pO1xuXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgdmlld1xuICAgICAgICBjcmVhdGUoe1xuICAgICAgICAgIHJvb3Q6IGludGVybmFsQVBJLFxuICAgICAgICAgIHByb3BzOiBwcm9wc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhcHBlbmQgY3JlYXRlZCBjaGlsZCB2aWV3cyB0byByb290IG5vZGVcbiAgICAgICAgdmFyIGNoaWxkQ291bnQgPSBnZXRDaGlsZENvdW50KGVsZW1lbnQpOyAvLyBuZWVkIHRvIGtub3cgdGhlIGN1cnJlbnQgY2hpbGQgY291bnQgc28gYXBwZW5kaW5nIGhhcHBlbnMgaW4gY29ycmVjdCBvcmRlclxuICAgICAgICBjaGlsZFZpZXdzLmZvckVhY2goZnVuY3Rpb24oY2hpbGQsIGluZGV4KSB7XG4gICAgICAgICAgaW50ZXJuYWxBUEkuYXBwZW5kQ2hpbGQoY2hpbGQuZWxlbWVudCwgY2hpbGRDb3VudCArIGluZGV4KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gY2FsbCBkaWQgY3JlYXRlXG4gICAgICAgIGRpZENyZWF0ZVZpZXcoaW50ZXJuYWxBUEkpO1xuXG4gICAgICAgIC8vIGV4cG9zZSBwdWJsaWMgYXBpXG4gICAgICAgIHJldHVybiBjcmVhdGVPYmplY3QoZXh0ZXJuYWxBUElEZWZpbml0aW9uKTtcbiAgICAgIH07XG4gICAgfTtcblxuICB2YXIgY3JlYXRlUGFpbnRlciA9IGZ1bmN0aW9uIGNyZWF0ZVBhaW50ZXIocmVhZCwgd3JpdGUpIHtcbiAgICB2YXIgZnBzID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogNjA7XG5cbiAgICB2YXIgbmFtZSA9ICdfX2ZyYW1lUGFpbnRlcic7XG5cbiAgICAvLyBzZXQgZ2xvYmFsIHBhaW50ZXJcbiAgICBpZiAod2luZG93W25hbWVdKSB7XG4gICAgICB3aW5kb3dbbmFtZV0ucmVhZGVycy5wdXNoKHJlYWQpO1xuICAgICAgd2luZG93W25hbWVdLndyaXRlcnMucHVzaCh3cml0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2luZG93W25hbWVdID0ge1xuICAgICAgcmVhZGVyczogW3JlYWRdLFxuICAgICAgd3JpdGVyczogW3dyaXRlXVxuICAgIH07XG5cbiAgICB2YXIgcGFpbnRlciA9IHdpbmRvd1tuYW1lXTtcblxuICAgIHZhciBpbnRlcnZhbCA9IDEwMDAgLyBmcHM7XG4gICAgdmFyIGxhc3QgPSBudWxsO1xuICAgIHZhciBpZCA9IG51bGw7XG4gICAgdmFyIHJlcXVlc3RUaWNrID0gbnVsbDtcbiAgICB2YXIgY2FuY2VsVGljayA9IG51bGw7XG5cbiAgICB2YXIgc2V0VGltZXJUeXBlID0gZnVuY3Rpb24gc2V0VGltZXJUeXBlKCkge1xuICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICByZXF1ZXN0VGljayA9IGZ1bmN0aW9uIHJlcXVlc3RUaWNrKCkge1xuICAgICAgICAgIHJldHVybiB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aWNrKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgICB9LCBpbnRlcnZhbCk7XG4gICAgICAgIH07XG4gICAgICAgIGNhbmNlbFRpY2sgPSBmdW5jdGlvbiBjYW5jZWxUaWNrKCkge1xuICAgICAgICAgIHJldHVybiB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3RUaWNrID0gZnVuY3Rpb24gcmVxdWVzdFRpY2soKSB7XG4gICAgICAgICAgcmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG4gICAgICAgIH07XG4gICAgICAgIGNhbmNlbFRpY2sgPSBmdW5jdGlvbiBjYW5jZWxUaWNrKCkge1xuICAgICAgICAgIHJldHVybiB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoY2FuY2VsVGljaykgY2FuY2VsVGljaygpO1xuICAgICAgc2V0VGltZXJUeXBlKCk7XG4gICAgICB0aWNrKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICB9KTtcblxuICAgIHZhciB0aWNrID0gZnVuY3Rpb24gdGljayh0cykge1xuICAgICAgLy8gcXVldWUgbmV4dCB0aWNrXG4gICAgICBpZCA9IHJlcXVlc3RUaWNrKHRpY2spO1xuXG4gICAgICAvLyBsaW1pdCBmcHNcbiAgICAgIGlmICghbGFzdCkge1xuICAgICAgICBsYXN0ID0gdHM7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWx0YSA9IHRzIC0gbGFzdDtcblxuICAgICAgaWYgKGRlbHRhIDw9IGludGVydmFsKSB7XG4gICAgICAgIC8vIHNraXAgZnJhbWVcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBhbGlnbiBuZXh0IGZyYW1lXG4gICAgICBsYXN0ID0gdHMgLSAoZGVsdGEgJSBpbnRlcnZhbCk7XG5cbiAgICAgIC8vIHVwZGF0ZSB2aWV3XG4gICAgICBwYWludGVyLnJlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihyZWFkKSB7XG4gICAgICAgIHJldHVybiByZWFkKCk7XG4gICAgICB9KTtcbiAgICAgIHBhaW50ZXIud3JpdGVycy5mb3JFYWNoKGZ1bmN0aW9uKHdyaXRlKSB7XG4gICAgICAgIHJldHVybiB3cml0ZSh0cyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgc2V0VGltZXJUeXBlKCk7XG4gICAgdGljayhwZXJmb3JtYW5jZS5ub3coKSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgICBjYW5jZWxUaWNrKGlkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIHZhciBjcmVhdGVSb3V0ZSA9IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlKHJvdXRlcywgZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oX3JlZikge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgIHByb3BzID0gX3JlZi5wcm9wcyxcbiAgICAgICAgX3JlZiRhY3Rpb25zID0gX3JlZi5hY3Rpb25zLFxuICAgICAgICBhY3Rpb25zID0gX3JlZiRhY3Rpb25zID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkYWN0aW9ucyxcbiAgICAgICAgdGltZXN0YW1wID0gX3JlZi50aW1lc3RhbXAsXG4gICAgICAgIHNob3VsZE9wdGltaXplID0gX3JlZi5zaG91bGRPcHRpbWl6ZTtcbiAgICAgIGFjdGlvbnNcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gcm91dGVzW2FjdGlvbi50eXBlXTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHJvdXRlc1thY3Rpb24udHlwZV0oe1xuICAgICAgICAgICAgcm9vdDogcm9vdCxcbiAgICAgICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLmRhdGEsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgIHNob3VsZE9wdGltaXplOiBzaG91bGRPcHRpbWl6ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIGZuKHtcbiAgICAgICAgICByb290OiByb290LFxuICAgICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgICBhY3Rpb25zOiBhY3Rpb25zLFxuICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICAgIHNob3VsZE9wdGltaXplOiBzaG91bGRPcHRpbWl6ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIHZhciBpbnNlcnRCZWZvcmUgPSBmdW5jdGlvbiBpbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuICAgIHJldHVybiByZWZlcmVuY2VOb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIHJlZmVyZW5jZU5vZGUpO1xuICB9O1xuXG4gIHZhciBpbnNlcnRBZnRlciA9IGZ1bmN0aW9uIGluc2VydEFmdGVyKG5ld05vZGUsIHJlZmVyZW5jZU5vZGUpIHtcbiAgICByZXR1cm4gcmVmZXJlbmNlTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShcbiAgICAgIG5ld05vZGUsXG4gICAgICByZWZlcmVuY2VOb2RlLm5leHRTaWJsaW5nXG4gICAgKTtcbiAgfTtcblxuICB2YXIgaXNBcnJheSA9IGZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gIH07XG5cbiAgdmFyIGlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09IG51bGw7XG4gIH07XG5cbiAgdmFyIHRyaW0gPSBmdW5jdGlvbiB0cmltKHN0cikge1xuICAgIHJldHVybiBzdHIudHJpbSgpO1xuICB9O1xuXG4gIHZhciB0b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuICcnICsgdmFsdWU7XG4gIH07XG5cbiAgdmFyIHRvQXJyYXkgPSBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gICAgdmFyIHNwbGl0dGVyID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJywnO1xuICAgIGlmIChpc0VtcHR5KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKVxuICAgICAgLnNwbGl0KHNwbGl0dGVyKVxuICAgICAgLm1hcCh0cmltKVxuICAgICAgLmZpbHRlcihmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5sZW5ndGg7XG4gICAgICB9KTtcbiAgfTtcblxuICB2YXIgaXNCb29sZWFuID0gZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xuICB9O1xuXG4gIHZhciB0b0Jvb2xlYW4gPSBmdW5jdGlvbiB0b0Jvb2xlYW4odmFsdWUpIHtcbiAgICByZXR1cm4gaXNCb29sZWFuKHZhbHVlKSA/IHZhbHVlIDogdmFsdWUgPT09ICd0cnVlJztcbiAgfTtcblxuICB2YXIgaXNTdHJpbmcgPSBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO1xuICB9O1xuXG4gIHZhciB0b051bWJlciA9IGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKVxuICAgICAgPyB2YWx1ZVxuICAgICAgOiBpc1N0cmluZyh2YWx1ZSlcbiAgICAgID8gdG9TdHJpbmcodmFsdWUpLnJlcGxhY2UoL1thLXpdKy9naSwgJycpXG4gICAgICA6IDA7XG4gIH07XG5cbiAgdmFyIHRvSW50ID0gZnVuY3Rpb24gdG9JbnQodmFsdWUpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodG9OdW1iZXIodmFsdWUpLCAxMCk7XG4gIH07XG5cbiAgdmFyIHRvRmxvYXQgPSBmdW5jdGlvbiB0b0Zsb2F0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodG9OdW1iZXIodmFsdWUpKTtcbiAgfTtcblxuICB2YXIgaXNJbnQgPSBmdW5jdGlvbiBpc0ludCh2YWx1ZSkge1xuICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbiAgfTtcblxuICB2YXIgdG9CeXRlcyA9IGZ1bmN0aW9uIHRvQnl0ZXModmFsdWUpIHtcbiAgICAvLyBpcyBpbiBieXRlc1xuICAgIGlmIChpc0ludCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBpcyBuYXR1cmFsIGZpbGUgc2l6ZVxuICAgIHZhciBuYXR1cmFsRmlsZVNpemUgPSB0b1N0cmluZyh2YWx1ZSkudHJpbSgpO1xuXG4gICAgLy8gaWYgaXMgdmFsdWUgaW4gbWVnYWJ5dGVzXG4gICAgaWYgKC9NQiQvaS50ZXN0KG5hdHVyYWxGaWxlU2l6ZSkpIHtcbiAgICAgIG5hdHVyYWxGaWxlU2l6ZSA9IG5hdHVyYWxGaWxlU2l6ZS5yZXBsYWNlKC9NQiRpLywgJycpLnRyaW0oKTtcbiAgICAgIHJldHVybiB0b0ludChuYXR1cmFsRmlsZVNpemUpICogMTAwMCAqIDEwMDA7XG4gICAgfVxuXG4gICAgLy8gaWYgaXMgdmFsdWUgaW4ga2lsb2J5dGVzXG4gICAgaWYgKC9LQi9pLnRlc3QobmF0dXJhbEZpbGVTaXplKSkge1xuICAgICAgbmF0dXJhbEZpbGVTaXplID0gbmF0dXJhbEZpbGVTaXplLnJlcGxhY2UoL0tCJGkvLCAnJykudHJpbSgpO1xuICAgICAgcmV0dXJuIHRvSW50KG5hdHVyYWxGaWxlU2l6ZSkgKiAxMDAwO1xuICAgIH1cblxuICAgIHJldHVybiB0b0ludChuYXR1cmFsRmlsZVNpemUpO1xuICB9O1xuXG4gIHZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG4gIH07XG5cbiAgdmFyIHRvRnVuY3Rpb25SZWZlcmVuY2UgPSBmdW5jdGlvbiB0b0Z1bmN0aW9uUmVmZXJlbmNlKHN0cmluZykge1xuICAgIHZhciByZWYgPSBzZWxmO1xuICAgIHZhciBsZXZlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcbiAgICB2YXIgbGV2ZWwgPSBudWxsO1xuICAgIHdoaWxlICgobGV2ZWwgPSBsZXZlbHMuc2hpZnQoKSkpIHtcbiAgICAgIHJlZiA9IHJlZltsZXZlbF07XG4gICAgICBpZiAoIXJlZikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlZjtcbiAgfTtcblxuICB2YXIgbWV0aG9kcyA9IHtcbiAgICBwcm9jZXNzOiAnUE9TVCcsXG4gICAgcGF0Y2g6ICdQQVRDSCcsXG4gICAgcmV2ZXJ0OiAnREVMRVRFJyxcbiAgICBmZXRjaDogJ0dFVCcsXG4gICAgcmVzdG9yZTogJ0dFVCcsXG4gICAgbG9hZDogJ0dFVCdcbiAgfTtcblxuICB2YXIgY3JlYXRlU2VydmVyQVBJID0gZnVuY3Rpb24gY3JlYXRlU2VydmVyQVBJKG91dGxpbmUpIHtcbiAgICB2YXIgYXBpID0ge307XG5cbiAgICBhcGkudXJsID0gaXNTdHJpbmcob3V0bGluZSkgPyBvdXRsaW5lIDogb3V0bGluZS51cmwgfHwgJyc7XG4gICAgYXBpLnRpbWVvdXQgPSBvdXRsaW5lLnRpbWVvdXQgPyBwYXJzZUludChvdXRsaW5lLnRpbWVvdXQsIDEwKSA6IDA7XG4gICAgYXBpLmhlYWRlcnMgPSBvdXRsaW5lLmhlYWRlcnMgPyBvdXRsaW5lLmhlYWRlcnMgOiB7fTtcblxuICAgIGZvcmluKG1ldGhvZHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgYXBpW2tleV0gPSBjcmVhdGVBY3Rpb24oXG4gICAgICAgIGtleSxcbiAgICAgICAgb3V0bGluZVtrZXldLFxuICAgICAgICBtZXRob2RzW2tleV0sXG4gICAgICAgIGFwaS50aW1lb3V0LFxuICAgICAgICBhcGkuaGVhZGVyc1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIHNwZWNpYWwgdHJlYXRtZW50IGZvciByZW1vdmVcbiAgICBhcGkucmVtb3ZlID0gb3V0bGluZS5yZW1vdmUgfHwgbnVsbDtcblxuICAgIC8vIHJlbW92ZSBnZW5lcmljIGhlYWRlcnMgZnJvbSBhcGkgb2JqZWN0XG4gICAgZGVsZXRlIGFwaS5oZWFkZXJzO1xuXG4gICAgcmV0dXJuIGFwaTtcbiAgfTtcblxuICB2YXIgY3JlYXRlQWN0aW9uID0gZnVuY3Rpb24gY3JlYXRlQWN0aW9uKFxuICAgIG5hbWUsXG4gICAgb3V0bGluZSxcbiAgICBtZXRob2QsXG4gICAgdGltZW91dCxcbiAgICBoZWFkZXJzXG4gICkge1xuICAgIC8vIGlzIGV4cGxpY2l0ZWx5IHNldCB0byBudWxsIHNvIGRpc2FibGVcbiAgICBpZiAob3V0bGluZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gaWYgaXMgY3VzdG9tIGZ1bmN0aW9uLCBkb25lISBEZXYgaGFuZGxlcyBldmVyeXRoaW5nLlxuICAgIGlmICh0eXBlb2Ygb3V0bGluZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG91dGxpbmU7XG4gICAgfVxuXG4gICAgLy8gYnVpbGQgYWN0aW9uIG9iamVjdFxuICAgIHZhciBhY3Rpb24gPSB7XG4gICAgICB1cmw6IG1ldGhvZCA9PT0gJ0dFVCcgfHwgbWV0aG9kID09PSAnUEFUQ0gnID8gJz8nICsgbmFtZSArICc9JyA6ICcnLFxuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICAgIHRpbWVvdXQ6IHRpbWVvdXQsXG4gICAgICBvbmxvYWQ6IG51bGwsXG4gICAgICBvbmRhdGE6IG51bGwsXG4gICAgICBvbmVycm9yOiBudWxsXG4gICAgfTtcblxuICAgIC8vIGlzIGEgc2luZ2xlIHVybFxuICAgIGlmIChpc1N0cmluZyhvdXRsaW5lKSkge1xuICAgICAgYWN0aW9uLnVybCA9IG91dGxpbmU7XG4gICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH1cblxuICAgIC8vIG92ZXJ3cml0ZVxuICAgIE9iamVjdC5hc3NpZ24oYWN0aW9uLCBvdXRsaW5lKTtcblxuICAgIC8vIHNlZSBpZiBzaG91bGQgcmVmb3JtYXQgaGVhZGVycztcbiAgICBpZiAoaXNTdHJpbmcoYWN0aW9uLmhlYWRlcnMpKSB7XG4gICAgICB2YXIgcGFydHMgPSBhY3Rpb24uaGVhZGVycy5zcGxpdCgvOiguKykvKTtcbiAgICAgIGFjdGlvbi5oZWFkZXJzID0ge1xuICAgICAgICBoZWFkZXI6IHBhcnRzWzBdLFxuICAgICAgICB2YWx1ZTogcGFydHNbMV1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gaWYgaXMgYm9vbCB3aXRoQ3JlZGVudGlhbHNcbiAgICBhY3Rpb24ud2l0aENyZWRlbnRpYWxzID0gdG9Cb29sZWFuKGFjdGlvbi53aXRoQ3JlZGVudGlhbHMpO1xuXG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfTtcblxuICB2YXIgdG9TZXJ2ZXJBUEkgPSBmdW5jdGlvbiB0b1NlcnZlckFQSSh2YWx1ZSkge1xuICAgIHJldHVybiBjcmVhdGVTZXJ2ZXJBUEkodmFsdWUpO1xuICB9O1xuXG4gIHZhciBpc051bGwgPSBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gIH07XG5cbiAgdmFyIGlzT2JqZWN0ID0gZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbDtcbiAgfTtcblxuICB2YXIgaXNBUEkgPSBmdW5jdGlvbiBpc0FQSSh2YWx1ZSkge1xuICAgIHJldHVybiAoXG4gICAgICBpc09iamVjdCh2YWx1ZSkgJiZcbiAgICAgIGlzU3RyaW5nKHZhbHVlLnVybCkgJiZcbiAgICAgIGlzT2JqZWN0KHZhbHVlLnByb2Nlc3MpICYmXG4gICAgICBpc09iamVjdCh2YWx1ZS5yZXZlcnQpICYmXG4gICAgICBpc09iamVjdCh2YWx1ZS5yZXN0b3JlKSAmJlxuICAgICAgaXNPYmplY3QodmFsdWUuZmV0Y2gpXG4gICAgKTtcbiAgfTtcblxuICB2YXIgZ2V0VHlwZSA9IGZ1bmN0aW9uIGdldFR5cGUodmFsdWUpIHtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH1cblxuICAgIGlmIChpc051bGwodmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ251bGwnO1xuICAgIH1cblxuICAgIGlmIChpc0ludCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiAnaW50JztcbiAgICB9XG5cbiAgICBpZiAoL15bMC05XSsgPyg/OkdCfE1CfEtCKSQvZ2kudGVzdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiAnYnl0ZXMnO1xuICAgIH1cblxuICAgIGlmIChpc0FQSSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiAnYXBpJztcbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlO1xuICB9O1xuXG4gIHZhciByZXBsYWNlU2luZ2xlUXVvdGVzID0gZnVuY3Rpb24gcmVwbGFjZVNpbmdsZVF1b3RlcyhzdHIpIHtcbiAgICByZXR1cm4gc3RyXG4gICAgICAucmVwbGFjZSgve1xccyonL2csICd7XCInKVxuICAgICAgLnJlcGxhY2UoLydcXHMqfS9nLCAnXCJ9JylcbiAgICAgIC5yZXBsYWNlKC8nXFxzKjovZywgJ1wiOicpXG4gICAgICAucmVwbGFjZSgvOlxccyonL2csICc6XCInKVxuICAgICAgLnJlcGxhY2UoLyxcXHMqJy9nLCAnLFwiJylcbiAgICAgIC5yZXBsYWNlKC8nXFxzKiwvZywgJ1wiLCcpO1xuICB9O1xuXG4gIHZhciBjb252ZXJzaW9uVGFibGUgPSB7XG4gICAgYXJyYXk6IHRvQXJyYXksXG4gICAgYm9vbGVhbjogdG9Cb29sZWFuLFxuICAgIGludDogZnVuY3Rpb24gaW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gZ2V0VHlwZSh2YWx1ZSkgPT09ICdieXRlcycgPyB0b0J5dGVzKHZhbHVlKSA6IHRvSW50KHZhbHVlKTtcbiAgICB9LFxuICAgIG51bWJlcjogdG9GbG9hdCxcbiAgICBmbG9hdDogdG9GbG9hdCxcbiAgICBieXRlczogdG9CeXRlcyxcbiAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUgOiB0b1N0cmluZyh2YWx1ZSk7XG4gICAgfSxcbiAgICBmdW5jdGlvbjogZnVuY3Rpb24gX2Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9GdW5jdGlvblJlZmVyZW5jZSh2YWx1ZSk7XG4gICAgfSxcbiAgICBzZXJ2ZXJhcGk6IHRvU2VydmVyQVBJLFxuICAgIG9iamVjdDogZnVuY3Rpb24gb2JqZWN0KHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyZXBsYWNlU2luZ2xlUXVvdGVzKHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgY29udmVydFRvID0gZnVuY3Rpb24gY29udmVydFRvKHZhbHVlLCB0eXBlKSB7XG4gICAgcmV0dXJuIGNvbnZlcnNpb25UYWJsZVt0eXBlXSh2YWx1ZSk7XG4gIH07XG5cbiAgdmFyIGdldFZhbHVlQnlUeXBlID0gZnVuY3Rpb24gZ2V0VmFsdWVCeVR5cGUoXG4gICAgbmV3VmFsdWUsXG4gICAgZGVmYXVsdFZhbHVlLFxuICAgIHZhbHVlVHlwZVxuICApIHtcbiAgICAvLyBjYW4gYWx3YXlzIGFzc2lnbiBkZWZhdWx0IHZhbHVlXG4gICAgaWYgKG5ld1ZhbHVlID09PSBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICB9XG5cbiAgICAvLyBnZXQgdGhlIHR5cGUgb2YgdGhlIG5ldyB2YWx1ZVxuICAgIHZhciBuZXdWYWx1ZVR5cGUgPSBnZXRUeXBlKG5ld1ZhbHVlKTtcblxuICAgIC8vIGlzIHZhbGlkIHR5cGU/XG4gICAgaWYgKG5ld1ZhbHVlVHlwZSAhPT0gdmFsdWVUeXBlKSB7XG4gICAgICAvLyBpcyBzdHJpbmcgaW5wdXQsIGxldCdzIGF0dGVtcHQgdG8gY29udmVydFxuICAgICAgdmFyIGNvbnZlcnRlZFZhbHVlID0gY29udmVydFRvKG5ld1ZhbHVlLCB2YWx1ZVR5cGUpO1xuXG4gICAgICAvLyB3aGF0IGlzIHRoZSB0eXBlIG5vd1xuICAgICAgbmV3VmFsdWVUeXBlID0gZ2V0VHlwZShjb252ZXJ0ZWRWYWx1ZSk7XG5cbiAgICAgIC8vIG5vIHZhbGlkIGNvbnZlcnNpb25zIGZvdW5kXG4gICAgICBpZiAoY29udmVydGVkVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgJ1RyeWluZyB0byBhc3NpZ24gdmFsdWUgd2l0aCBpbmNvcnJlY3QgdHlwZSB0byBcIicgK1xuICAgICAgICAgIG9wdGlvbiArXG4gICAgICAgICAgJ1wiLCBhbGxvd2VkIHR5cGU6IFwiJyArXG4gICAgICAgICAgdmFsdWVUeXBlICtcbiAgICAgICAgICAnXCInO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3VmFsdWUgPSBjb252ZXJ0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhc3NpZ24gbmV3IHZhbHVlXG4gICAgcmV0dXJuIG5ld1ZhbHVlO1xuICB9O1xuXG4gIHZhciBjcmVhdGVPcHRpb24gPSBmdW5jdGlvbiBjcmVhdGVPcHRpb24oZGVmYXVsdFZhbHVlLCB2YWx1ZVR5cGUpIHtcbiAgICB2YXIgY3VycmVudFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgIHJldHVybiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3VmFsdWUpIHtcbiAgICAgICAgY3VycmVudFZhbHVlID0gZ2V0VmFsdWVCeVR5cGUobmV3VmFsdWUsIGRlZmF1bHRWYWx1ZSwgdmFsdWVUeXBlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIHZhciBjcmVhdGVPcHRpb25zID0gZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIGZvcmluKG9wdGlvbnMsIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgIHZhciBvcHRpb25EZWZpbml0aW9uID0gb3B0aW9uc1twcm9wXTtcbiAgICAgIG9ialtwcm9wXSA9IGNyZWF0ZU9wdGlvbihvcHRpb25EZWZpbml0aW9uWzBdLCBvcHRpb25EZWZpbml0aW9uWzFdKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY3JlYXRlT2JqZWN0KG9iaik7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUluaXRpYWxTdGF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZUluaXRpYWxTdGF0ZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIG1vZGVsXG4gICAgICBpdGVtczogW10sXG5cbiAgICAgIC8vIHRpbWVvdXQgdXNlZCBmb3IgY2FsbGluZyB1cGRhdGUgaXRlbXNcbiAgICAgIGxpc3RVcGRhdGVUaW1lb3V0OiBudWxsLFxuXG4gICAgICAvLyB0aW1lb3V0IHVzZWQgZm9yIHN0YWNraW5nIG1ldGFkYXRhIHVwZGF0ZXNcbiAgICAgIGl0ZW1VcGRhdGVUaW1lb3V0OiBudWxsLFxuXG4gICAgICAvLyBxdWV1ZSBvZiBpdGVtcyB3YWl0aW5nIHRvIGJlIHByb2Nlc3NlZFxuICAgICAgcHJvY2Vzc2luZ1F1ZXVlOiBbXSxcblxuICAgICAgLy8gb3B0aW9uc1xuICAgICAgb3B0aW9uczogY3JlYXRlT3B0aW9ucyhvcHRpb25zKVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGZyb21DYW1lbHMgPSBmdW5jdGlvbiBmcm9tQ2FtZWxzKHN0cmluZykge1xuICAgIHZhciBzZXBhcmF0b3IgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnLSc7XG4gICAgcmV0dXJuIHN0cmluZ1xuICAgICAgLnNwbGl0KC8oPz1bQS1aXSkvKVxuICAgICAgLm1hcChmdW5jdGlvbihwYXJ0KSB7XG4gICAgICAgIHJldHVybiBwYXJ0LnRvTG93ZXJDYXNlKCk7XG4gICAgICB9KVxuICAgICAgLmpvaW4oc2VwYXJhdG9yKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlT3B0aW9uQVBJID0gZnVuY3Rpb24gY3JlYXRlT3B0aW9uQVBJKHN0b3JlLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIGZvcmluKG9wdGlvbnMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgb2JqW2tleV0gPSB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBzdG9yZS5nZXRTdGF0ZSgpLm9wdGlvbnNba2V5XTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnU0VUXycgKyBmcm9tQ2FtZWxzKGtleSwgJ18nKS50b1VwcGVyQ2FzZSgpLCB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIHZhciBjcmVhdGVPcHRpb25BY3Rpb25zID0gZnVuY3Rpb24gY3JlYXRlT3B0aW9uQWN0aW9ucyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGRpc3BhdGNoLCBxdWVyeSwgc3RhdGUpIHtcbiAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgIGZvcmluKG9wdGlvbnMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICB2YXIgbmFtZSA9IGZyb21DYW1lbHMoa2V5LCAnXycpLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgb2JqWydTRVRfJyArIG5hbWVdID0gZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0YXRlLm9wdGlvbnNba2V5XSA9IGFjdGlvbi52YWx1ZTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7fSAvLyBub3BlLCBmYWlsZWRcblxuICAgICAgICAgIC8vIHdlIHN1Y2Nlc3NmdWxseSBzZXQgdGhlIHZhbHVlIG9mIHRoaXMgb3B0aW9uXG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9TRVRfJyArIG5hbWUsIHsgdmFsdWU6IHN0YXRlLm9wdGlvbnNba2V5XSB9KTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjcmVhdGVPcHRpb25RdWVyaWVzID0gZnVuY3Rpb24gY3JlYXRlT3B0aW9uUXVlcmllcyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICB2YXIgb2JqID0ge307XG4gICAgICBmb3JpbihvcHRpb25zLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgb2JqWydHRVRfJyArIGZyb21DYW1lbHMoa2V5LCAnXycpLnRvVXBwZXJDYXNlKCldID0gZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlLm9wdGlvbnNba2V5XTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBJbnRlcmFjdGlvbk1ldGhvZCA9IHtcbiAgICBBUEk6IDEsXG4gICAgRFJPUDogMixcbiAgICBCUk9XU0U6IDMsXG4gICAgUEFTVEU6IDQsXG4gICAgTk9ORTogNVxuICB9O1xuXG4gIHZhciBnZXRVbmlxdWVJZCA9IGZ1bmN0aW9uIGdldFVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpXG4gICAgICAudG9TdHJpbmcoMzYpXG4gICAgICAuc3Vic3RyKDIsIDkpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIF90eXBlb2YgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBfdHlwZW9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiZcbiAgICAgICAgICB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiZcbiAgICAgICAgICBvYmogIT09IFN5bWJvbC5wcm90b3R5cGVcbiAgICAgICAgICA/ICdzeW1ib2wnXG4gICAgICAgICAgOiB0eXBlb2Ygb2JqO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3R5cGVvZihvYmopO1xuICB9XG5cbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRTtcblxuICBmdW5jdGlvbiBfanN4KHR5cGUsIHByb3BzLCBrZXksIGNoaWxkcmVuKSB7XG4gICAgaWYgKCFSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9XG4gICAgICAgICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgU3ltYm9sWydmb3InXSAmJlxuICAgICAgICAgIFN5bWJvbFsnZm9yJ10oJ3JlYWN0LmVsZW1lbnQnKSkgfHxcbiAgICAgICAgMHhlYWM3O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzO1xuICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAzO1xuXG4gICAgaWYgKCFwcm9wcyAmJiBjaGlsZHJlbkxlbmd0aCAhPT0gMCkge1xuICAgICAgcHJvcHMgPSB7XG4gICAgICAgIGNoaWxkcmVuOiB2b2lkIDBcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHByb3BzICYmIGRlZmF1bHRQcm9wcykge1xuICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHZvaWQgMCkge1xuICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFwcm9wcykge1xuICAgICAgcHJvcHMgPSBkZWZhdWx0UHJvcHMgfHwge307XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgICB2YXIgY2hpbGRBcnJheSA9IG5ldyBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAzXTtcbiAgICAgIH1cblxuICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGtleToga2V5ID09PSB1bmRlZmluZWQgPyBudWxsIDogJycgKyBrZXksXG4gICAgICByZWY6IG51bGwsXG4gICAgICBwcm9wczogcHJvcHMsXG4gICAgICBfb3duZXI6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gX2FzeW5jSXRlcmF0b3IoaXRlcmFibGUpIHtcbiAgICB2YXIgbWV0aG9kO1xuXG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHtcbiAgICAgICAgbWV0aG9kID0gaXRlcmFibGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdO1xuICAgICAgICBpZiAobWV0aG9kICE9IG51bGwpIHJldHVybiBtZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgbWV0aG9kID0gaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXTtcbiAgICAgICAgaWYgKG1ldGhvZCAhPSBudWxsKSByZXR1cm4gbWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdCBpcyBub3QgYXN5bmMgaXRlcmFibGUnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9Bd2FpdFZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy53cmFwcGVkID0gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBfQXN5bmNHZW5lcmF0b3IoZ2VuKSB7XG4gICAgdmFyIGZyb250LCBiYWNrO1xuXG4gICAgZnVuY3Rpb24gc2VuZChrZXksIGFyZykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgcmVxdWVzdCA9IHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBhcmc6IGFyZyxcbiAgICAgICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgICAgIHJlamVjdDogcmVqZWN0LFxuICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYmFjaykge1xuICAgICAgICAgIGJhY2sgPSBiYWNrLm5leHQgPSByZXF1ZXN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZyb250ID0gYmFjayA9IHJlcXVlc3Q7XG4gICAgICAgICAgcmVzdW1lKGtleSwgYXJnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzdW1lKGtleSwgYXJnKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZ2VuW2tleV0oYXJnKTtcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICB2YXIgd3JhcHBlZEF3YWl0ID0gdmFsdWUgaW5zdGFuY2VvZiBfQXdhaXRWYWx1ZTtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHdyYXBwZWRBd2FpdCA/IHZhbHVlLndyYXBwZWQgOiB2YWx1ZSkudGhlbihcbiAgICAgICAgICBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAgIGlmICh3cmFwcGVkQXdhaXQpIHtcbiAgICAgICAgICAgICAgcmVzdW1lKCduZXh0JywgYXJnKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXR0bGUocmVzdWx0LmRvbmUgPyAncmV0dXJuJyA6ICdub3JtYWwnLCBhcmcpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICByZXN1bWUoJ3Rocm93JywgZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc2V0dGxlKCd0aHJvdycsIGVycik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dGxlKHR5cGUsIHZhbHVlKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAncmV0dXJuJzpcbiAgICAgICAgICBmcm9udC5yZXNvbHZlKHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd0aHJvdyc6XG4gICAgICAgICAgZnJvbnQucmVqZWN0KHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGZyb250LnJlc29sdmUoe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgZG9uZTogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgZnJvbnQgPSBmcm9udC5uZXh0O1xuXG4gICAgICBpZiAoZnJvbnQpIHtcbiAgICAgICAgcmVzdW1lKGZyb250LmtleSwgZnJvbnQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhY2sgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2ludm9rZSA9IHNlbmQ7XG5cbiAgICBpZiAodHlwZW9mIGdlbi5yZXR1cm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMucmV0dXJuID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5hc3luY0l0ZXJhdG9yKSB7XG4gICAgX0FzeW5jR2VuZXJhdG9yLnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gIH1cblxuICBfQXN5bmNHZW5lcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5faW52b2tlKCduZXh0JywgYXJnKTtcbiAgfTtcblxuICBfQXN5bmNHZW5lcmF0b3IucHJvdG90eXBlLnRocm93ID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludm9rZSgndGhyb3cnLCBhcmcpO1xuICB9O1xuXG4gIF9Bc3luY0dlbmVyYXRvci5wcm90b3R5cGUucmV0dXJuID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludm9rZSgncmV0dXJuJywgYXJnKTtcbiAgfTtcblxuICBmdW5jdGlvbiBfd3JhcEFzeW5jR2VuZXJhdG9yKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBfQXN5bmNHZW5lcmF0b3IoZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hd2FpdEFzeW5jR2VuZXJhdG9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBfQXdhaXRWYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXN5bmNHZW5lcmF0b3JEZWxlZ2F0ZShpbm5lciwgYXdhaXRXcmFwKSB7XG4gICAgdmFyIGl0ZXIgPSB7fSxcbiAgICAgIHdhaXRpbmcgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIHB1bXAoa2V5LCB2YWx1ZSkge1xuICAgICAgd2FpdGluZyA9IHRydWU7XG4gICAgICB2YWx1ZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgcmVzb2x2ZShpbm5lcltrZXldKHZhbHVlKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogYXdhaXRXcmFwKHZhbHVlKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICh3YWl0aW5nKSB7XG4gICAgICAgIHdhaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHVtcCgnbmV4dCcsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBpbm5lci50aHJvdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaXRlci50aHJvdyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh3YWl0aW5nKSB7XG4gICAgICAgICAgd2FpdGluZyA9IGZhbHNlO1xuICAgICAgICAgIHRocm93IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHB1bXAoJ3Rocm93JywgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGlubmVyLnJldHVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaXRlci5yZXR1cm4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gcHVtcCgncmV0dXJuJywgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpO1xuICAgICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cbiAgICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoXG4gICAgICAgICAgICBnZW4sXG4gICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgX25leHQsXG4gICAgICAgICAgICBfdGhyb3csXG4gICAgICAgICAgICAnbmV4dCcsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAndGhyb3cnLCBlcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgX25leHQodW5kZWZpbmVkKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lRW51bWVyYWJsZVByb3BlcnRpZXMob2JqLCBkZXNjcykge1xuICAgIGZvciAodmFyIGtleSBpbiBkZXNjcykge1xuICAgICAgdmFyIGRlc2MgPSBkZXNjc1trZXldO1xuICAgICAgZGVzYy5jb25maWd1cmFibGUgPSBkZXNjLmVudW1lcmFibGUgPSB0cnVlO1xuICAgICAgaWYgKCd2YWx1ZScgaW4gZGVzYykgZGVzYy53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIGRlc2MpO1xuICAgIH1cblxuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICB2YXIgb2JqZWN0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZGVzY3MpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdFN5bWJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHN5bSA9IG9iamVjdFN5bWJvbHNbaV07XG4gICAgICAgIHZhciBkZXNjID0gZGVzY3Nbc3ltXTtcbiAgICAgICAgZGVzYy5jb25maWd1cmFibGUgPSBkZXNjLmVudW1lcmFibGUgPSB0cnVlO1xuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSBkZXNjLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgc3ltLCBkZXNjKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpO1xuXG4gICAgICBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICAgIF9leHRlbmRzID1cbiAgICAgIE9iamVjdC5hc3NpZ24gfHxcbiAgICAgIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9O1xuXG4gICAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICAgIHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblxuICAgICAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG93bktleXMgPSBvd25LZXlzLmNvbmNhdChcbiAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uKHN5bSkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG4gICAgICBpZiAoZW51bWVyYWJsZU9ubHkpXG4gICAgICAgIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbihzeW0pIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcbiAgICAgICAgfSk7XG4gICAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGtleXM7XG4gIH1cblxuICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkMih0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG5cbiAgICAgIGlmIChpICUgMikge1xuICAgICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFxuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcbiAgICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2ZcbiAgICAgID8gT2JqZWN0LmdldFByb3RvdHlwZU9mXG4gICAgICA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgICAgICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgICAgICAgfTtcbiAgICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBfc2V0UHJvdG90eXBlT2YgPVxuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgICAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgICAgIHJldHVybiBvO1xuICAgICAgfTtcblxuICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAndW5kZWZpbmVkJyB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2YgUHJveHkgPT09ICdmdW5jdGlvbicpIHJldHVybiB0cnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uKCkge30pKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgICBpZiAoaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHtcbiAgICAgIF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDtcbiAgICB9IGVsc2Uge1xuICAgICAgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICAgICAgICB2YXIgYSA9IFtudWxsXTtcbiAgICAgICAgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpO1xuICAgICAgICB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgICAgICBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHtcbiAgICByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZignW25hdGl2ZSBjb2RlXScpICE9PSAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgICB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gJ2Z1bmN0aW9uJyA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcblxuICAgIF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzO1xuXG4gICAgICBpZiAodHlwZW9mIENsYXNzICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG5cbiAgICAgICAgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIFdyYXBwZXIoKSB7XG4gICAgICAgIHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7XG4gICAgICB9XG5cbiAgICAgIFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICB2YWx1ZTogV3JhcHBlcixcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIENsYXNzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luc3RhbmNlb2YobGVmdCwgcmlnaHQpIHtcbiAgICBpZiAoXG4gICAgICByaWdodCAhPSBudWxsICYmXG4gICAgICB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgcmlnaHRbU3ltYm9sLmhhc0luc3RhbmNlXVxuICAgICkge1xuICAgICAgcmV0dXJuICEhcmlnaHRbU3ltYm9sLmhhc0luc3RhbmNlXShsZWZ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGxlZnQgaW5zdGFuY2VvZiByaWdodDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGVcbiAgICAgID8gb2JqXG4gICAgICA6IHtcbiAgICAgICAgICBkZWZhdWx0OiBvYmpcbiAgICAgICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikge1xuICAgIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBuZXdPYmogPSB7fTtcblxuICAgICAgaWYgKG9iaiAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgdmFyIGRlc2MgPVxuICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvclxuICAgICAgICAgICAgICAgID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSlcbiAgICAgICAgICAgICAgICA6IHt9O1xuXG4gICAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHtcbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld09ialtrZXldID0gb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG5ld09iai5kZWZhdWx0ID0gb2JqO1xuICAgICAgcmV0dXJuIG5ld09iajtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfbmV3QXJyb3dDaGVjayhpbm5lclRoaXMsIGJvdW5kVGhpcykge1xuICAgIGlmIChpbm5lclRoaXMgIT09IGJvdW5kVGhpcykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGluc3RhbnRpYXRlIGFuIGFycm93IGZ1bmN0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdERlc3RydWN0dXJpbmdFbXB0eShvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBkZXN0cnVjdHVyZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgICB2YXIgdGFyZ2V0ID0ge307XG4gICAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgIHZhciBrZXksIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICAgIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuXG4gICAgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpO1xuXG4gICAgdmFyIGtleSwgaTtcblxuICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTtcbiAgICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gICAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFxuICAgICAgICBcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9XG5cbiAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgIGlmIChjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGNhbGwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICByZXR1cm4gY2FsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdXBlclByb3BCYXNlKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgICAgb2JqZWN0ID0gX2dldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gICAgICBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgUmVmbGVjdC5nZXQpIHtcbiAgICAgIF9nZXQgPSBSZWZsZWN0LmdldDtcbiAgICB9IGVsc2Uge1xuICAgICAgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTtcblxuICAgICAgICBpZiAoIWJhc2UpIHJldHVybjtcbiAgICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTtcblxuICAgICAgICBpZiAoZGVzYy5nZXQpIHtcbiAgICAgICAgICByZXR1cm4gZGVzYy5nZXQuY2FsbChyZWNlaXZlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVzYy52YWx1ZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgIT09ICd1bmRlZmluZWQnICYmIFJlZmxlY3Quc2V0KSB7XG4gICAgICBzZXQgPSBSZWZsZWN0LnNldDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0ID0gZnVuY3Rpb24gc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICB2YXIgYmFzZSA9IF9zdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpO1xuXG4gICAgICAgIHZhciBkZXNjO1xuXG4gICAgICAgIGlmIChiYXNlKSB7XG4gICAgICAgICAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpO1xuXG4gICAgICAgICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICAgICAgICBkZXNjLnNldC5jYWxsKHJlY2VpdmVyLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFkZXNjLndyaXRhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocmVjZWl2ZXIsIHByb3BlcnR5KTtcblxuICAgICAgICBpZiAoZGVzYykge1xuICAgICAgICAgIGlmICghZGVzYy53cml0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlc2MudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIHByb3BlcnR5LCBkZXNjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIsIGlzU3RyaWN0KSB7XG4gICAgdmFyIHMgPSBzZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyIHx8IHRhcmdldCk7XG5cbiAgICBpZiAoIXMgJiYgaXNTdHJpY3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIHNldCBwcm9wZXJ0eScpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoc3RyaW5ncywgcmF3KSB7XG4gICAgaWYgKCFyYXcpIHtcbiAgICAgIHJhdyA9IHN0cmluZ3Muc2xpY2UoMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzdHJpbmdzLCB7XG4gICAgICAgIHJhdzoge1xuICAgICAgICAgIHZhbHVlOiBPYmplY3QuZnJlZXplKHJhdylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKHN0cmluZ3MsIHJhdykge1xuICAgIGlmICghcmF3KSB7XG4gICAgICByYXcgPSBzdHJpbmdzLnNsaWNlKDApO1xuICAgIH1cblxuICAgIHN0cmluZ3MucmF3ID0gcmF3O1xuICAgIHJldHVybiBzdHJpbmdzO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RlbXBvcmFsUmVmKHZhbCwgbmFtZSkge1xuICAgIGlmICh2YWwgPT09IF90ZW1wb3JhbFVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKG5hbWUgKyAnIGlzIG5vdCBkZWZpbmVkIC0gdGVtcG9yYWwgZGVhZCB6b25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX3JlYWRPbmx5RXJyb3IobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignXCInICsgbmFtZSArICdcIiBpcyByZWFkLW9ubHknKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc05hbWVURFpFcnJvcihuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0NsYXNzIFwiJyArIG5hbWUgKyAnXCIgY2Fubm90IGJlIHJlZmVyZW5jZWQgaW4gY29tcHV0ZWQgcHJvcGVydHkga2V5cy4nXG4gICAgKTtcbiAgfVxuXG4gIHZhciBfdGVtcG9yYWxVbmRlZmluZWQgPSB7fTtcblxuICBmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgX2FycmF5V2l0aEhvbGVzKGFycikgfHxcbiAgICAgIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8XG4gICAgICBfbm9uSXRlcmFibGVSZXN0KClcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXlMb29zZShhcnIsIGkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgX2FycmF5V2l0aEhvbGVzKGFycikgfHxcbiAgICAgIF9pdGVyYWJsZVRvQXJyYXlMaW1pdExvb3NlKGFyciwgaSkgfHxcbiAgICAgIF9ub25JdGVyYWJsZVJlc3QoKVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBfdG9BcnJheShhcnIpIHtcbiAgICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKylcbiAgICAgICAgYXJyMltpXSA9IGFycltpXTtcblxuICAgICAgcmV0dXJuIGFycjI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG4gIH1cblxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgICBpZiAoXG4gICAgICBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8XG4gICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICdbb2JqZWN0IEFyZ3VtZW50c10nXG4gICAgKVxuICAgICAgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG4gIH1cblxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gICAgdmFyIF9hcnIgPSBbXTtcbiAgICB2YXIgX24gPSB0cnVlO1xuICAgIHZhciBfZCA9IGZhbHNlO1xuICAgIHZhciBfZSA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfcztcbiAgICAgICAgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7XG4gICAgICAgIF9uID0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSB0cnVlO1xuICAgICAgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgX2lbJ3JldHVybiddICE9IG51bGwpIF9pWydyZXR1cm4nXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdExvb3NlKGFyciwgaSkge1xuICAgIHZhciBfYXJyID0gW107XG5cbiAgICBmb3IgKFxuICAgICAgdmFyIF9pdGVyYXRvciA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwO1xuICAgICAgIShfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmU7XG5cbiAgICApIHtcbiAgICAgIF9hcnIucHVzaChfc3RlcC52YWx1ZSk7XG5cbiAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfc2tpcEZpcnN0R2VuZXJhdG9yTmV4dChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpdCA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBpdC5uZXh0KCk7XG4gICAgICByZXR1cm4gaXQ7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdvYmplY3QnIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7XG4gICAgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdO1xuXG4gICAgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCAnZGVmYXVsdCcpO1xuICAgICAgaWYgKHR5cGVvZiByZXMgIT09ICdvYmplY3QnKSByZXR1cm4gcmVzO1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKGhpbnQgPT09ICdzdHJpbmcnID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7XG4gIH1cblxuICBmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHtcbiAgICB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgJ3N0cmluZycpO1xuXG4gICAgcmV0dXJuIHR5cGVvZiBrZXkgPT09ICdzeW1ib2wnID8ga2V5IDogU3RyaW5nKGtleSk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnRGVjb3JhdGluZyBjbGFzcyBwcm9wZXJ0eSBmYWlsZWQuIFBsZWFzZSBlbnN1cmUgdGhhdCAnICtcbiAgICAgICAgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICtcbiAgICAgICAgJ1RvIHVzZSBwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGluIHNwZWMgbW9kZSB3aXRoIGRlY29yYXRvcnMsIHdhaXQgZm9yICcgK1xuICAgICAgICAndGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBkZWNvcmF0b3JzIGluIHN0YWdlIDIuJ1xuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKCFkZXNjcmlwdG9yKSByZXR1cm47XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHtcbiAgICAgIGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsXG4gICAgICB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSxcbiAgICAgIHZhbHVlOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyXG4gICAgICAgID8gZGVzY3JpcHRvci5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpXG4gICAgICAgIDogdm9pZCAwXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKFxuICAgIHRhcmdldCxcbiAgICBwcm9wZXJ0eSxcbiAgICBkZWNvcmF0b3JzLFxuICAgIGRlc2NyaXB0b3IsXG4gICAgY29udGV4dFxuICApIHtcbiAgICB2YXIgZGVzYyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGRlc2NyaXB0b3IpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07XG4gICAgfSk7XG4gICAgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7XG4gICAgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlO1xuXG4gICAgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7XG4gICAgICBkZXNjLndyaXRhYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBkZXNjID0gZGVjb3JhdG9yc1xuICAgICAgLnNsaWNlKClcbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5yZWR1Y2UoZnVuY3Rpb24oZGVzYywgZGVjb3JhdG9yKSB7XG4gICAgICAgIHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYztcbiAgICAgIH0sIGRlc2MpO1xuXG4gICAgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKSB7XG4gICAgICBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDtcbiAgICAgIGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpO1xuICAgICAgZGVzYyA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc2M7XG4gIH1cblxuICB2YXIgaWQgPSAwO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KG5hbWUpIHtcbiAgICByZXR1cm4gJ19fcHJpdmF0ZV8nICsgaWQrKyArICdfJyArIG5hbWU7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZWNlaXZlciwgcHJpdmF0ZUtleSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byB1c2UgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVjZWl2ZXI7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcblxuICAgIGlmICghZGVzY3JpcHRvcikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZScpO1xuICAgIH1cblxuICAgIGlmIChkZXNjcmlwdG9yLmdldCkge1xuICAgICAgcmV0dXJuIGRlc2NyaXB0b3IuZ2V0LmNhbGwocmVjZWl2ZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBkZXNjcmlwdG9yLnZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xuXG4gICAgaWYgKCFkZXNjcmlwdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlJyk7XG4gICAgfVxuXG4gICAgaWYgKGRlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICBkZXNjcmlwdG9yLnNldC5jYWxsKHJlY2VpdmVyLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghZGVzY3JpcHRvci53cml0YWJsZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhdHRlbXB0ZWQgdG8gc2V0IHJlYWQgb25seSBwcml2YXRlIGZpZWxkJyk7XG4gICAgICB9XG5cbiAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGREZXN0cnVjdHVyZVNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlJyk7XG4gICAgfVxuXG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XG5cbiAgICBpZiAoZGVzY3JpcHRvci5zZXQpIHtcbiAgICAgIGlmICghKCdfX2Rlc3RyT2JqJyBpbiBkZXNjcmlwdG9yKSkge1xuICAgICAgICBkZXNjcmlwdG9yLl9fZGVzdHJPYmogPSB7XG4gICAgICAgICAgc2V0IHZhbHVlKHYpIHtcbiAgICAgICAgICAgIGRlc2NyaXB0b3Iuc2V0LmNhbGwocmVjZWl2ZXIsIHYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlc2NyaXB0b3IuX19kZXN0ck9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFkZXNjcmlwdG9yLndyaXRhYmxlKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcmVhZCBvbmx5IHByaXZhdGUgZmllbGQnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzU3RhdGljUHJpdmF0ZUZpZWxkU3BlY0dldChcbiAgICByZWNlaXZlcixcbiAgICBjbGFzc0NvbnN0cnVjdG9yLFxuICAgIGRlc2NyaXB0b3JcbiAgKSB7XG4gICAgaWYgKHJlY2VpdmVyICE9PSBjbGFzc0NvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIHN0YXRpYyBhY2Nlc3Mgb2Ygd3JvbmcgcHJvdmVuYW5jZScpO1xuICAgIH1cblxuICAgIHJldHVybiBkZXNjcmlwdG9yLnZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzU3RhdGljUHJpdmF0ZUZpZWxkU3BlY1NldChcbiAgICByZWNlaXZlcixcbiAgICBjbGFzc0NvbnN0cnVjdG9yLFxuICAgIGRlc2NyaXB0b3IsXG4gICAgdmFsdWVcbiAgKSB7XG4gICAgaWYgKHJlY2VpdmVyICE9PSBjbGFzc0NvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcml2YXRlIHN0YXRpYyBhY2Nlc3Mgb2Ygd3JvbmcgcHJvdmVuYW5jZScpO1xuICAgIH1cblxuICAgIGlmICghZGVzY3JpcHRvci53cml0YWJsZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgcHJpdmF0ZSBmaWVsZCcpO1xuICAgIH1cblxuICAgIGRlc2NyaXB0b3IudmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NTdGF0aWNQcml2YXRlTWV0aG9kR2V0KHJlY2VpdmVyLCBjbGFzc0NvbnN0cnVjdG9yLCBtZXRob2QpIHtcbiAgICBpZiAocmVjZWl2ZXIgIT09IGNsYXNzQ29uc3RydWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ByaXZhdGUgc3RhdGljIGFjY2VzcyBvZiB3cm9uZyBwcm92ZW5hbmNlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1ldGhvZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1N0YXRpY1ByaXZhdGVNZXRob2RTZXQoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgc3RhdGljIHByaXZhdGUgZmllbGQnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWNvcmF0ZShkZWNvcmF0b3JzLCBmYWN0b3J5LCBzdXBlckNsYXNzLCBtaXhpbnMpIHtcbiAgICB2YXIgYXBpID0gX2dldERlY29yYXRvcnNBcGkoKTtcblxuICAgIGlmIChtaXhpbnMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFwaSA9IG1peGluc1tpXShhcGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByID0gZmFjdG9yeShmdW5jdGlvbiBpbml0aWFsaXplKE8pIHtcbiAgICAgIGFwaS5pbml0aWFsaXplSW5zdGFuY2VFbGVtZW50cyhPLCBkZWNvcmF0ZWQuZWxlbWVudHMpO1xuICAgIH0sIHN1cGVyQ2xhc3MpO1xuICAgIHZhciBkZWNvcmF0ZWQgPSBhcGkuZGVjb3JhdGVDbGFzcyhcbiAgICAgIF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoci5kLm1hcChfY3JlYXRlRWxlbWVudERlc2NyaXB0b3IpKSxcbiAgICAgIGRlY29yYXRvcnNcbiAgICApO1xuICAgIGFwaS5pbml0aWFsaXplQ2xhc3NFbGVtZW50cyhyLkYsIGRlY29yYXRlZC5lbGVtZW50cyk7XG4gICAgcmV0dXJuIGFwaS5ydW5DbGFzc0ZpbmlzaGVycyhyLkYsIGRlY29yYXRlZC5maW5pc2hlcnMpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldERlY29yYXRvcnNBcGkoKSB7XG4gICAgX2dldERlY29yYXRvcnNBcGkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBhcGk7XG4gICAgfTtcblxuICAgIHZhciBhcGkgPSB7XG4gICAgICBlbGVtZW50c0RlZmluaXRpb25PcmRlcjogW1snbWV0aG9kJ10sIFsnZmllbGQnXV0sXG4gICAgICBpbml0aWFsaXplSW5zdGFuY2VFbGVtZW50czogZnVuY3Rpb24oTywgZWxlbWVudHMpIHtcbiAgICAgICAgWydtZXRob2QnLCAnZmllbGQnXS5mb3JFYWNoKGZ1bmN0aW9uKGtpbmQpIHtcbiAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmtpbmQgPT09IGtpbmQgJiYgZWxlbWVudC5wbGFjZW1lbnQgPT09ICdvd24nKSB7XG4gICAgICAgICAgICAgIHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KE8sIGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgIH0sXG4gICAgICBpbml0aWFsaXplQ2xhc3NFbGVtZW50czogZnVuY3Rpb24oRiwgZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIHByb3RvID0gRi5wcm90b3R5cGU7XG4gICAgICAgIFsnbWV0aG9kJywgJ2ZpZWxkJ10uZm9yRWFjaChmdW5jdGlvbihraW5kKSB7XG4gICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgcGxhY2VtZW50ID0gZWxlbWVudC5wbGFjZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgZWxlbWVudC5raW5kID09PSBraW5kICYmXG4gICAgICAgICAgICAgIChwbGFjZW1lbnQgPT09ICdzdGF0aWMnIHx8IHBsYWNlbWVudCA9PT0gJ3Byb3RvdHlwZScpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFyIHJlY2VpdmVyID0gcGxhY2VtZW50ID09PSAnc3RhdGljJyA/IEYgOiBwcm90bztcbiAgICAgICAgICAgICAgdGhpcy5kZWZpbmVDbGFzc0VsZW1lbnQocmVjZWl2ZXIsIGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgIH0sXG4gICAgICBkZWZpbmVDbGFzc0VsZW1lbnQ6IGZ1bmN0aW9uKHJlY2VpdmVyLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yO1xuXG4gICAgICAgIGlmIChlbGVtZW50LmtpbmQgPT09ICdmaWVsZCcpIHtcbiAgICAgICAgICB2YXIgaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyO1xuICAgICAgICAgIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsXG4gICAgICAgICAgICB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsXG4gICAgICAgICAgICB2YWx1ZTogaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWxpemVyLmNhbGwocmVjZWl2ZXIpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWNlaXZlciwgZWxlbWVudC5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgfSxcbiAgICAgIGRlY29yYXRlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnRzLCBkZWNvcmF0b3JzKSB7XG4gICAgICAgIHZhciBuZXdFbGVtZW50cyA9IFtdO1xuICAgICAgICB2YXIgZmluaXNoZXJzID0gW107XG4gICAgICAgIHZhciBwbGFjZW1lbnRzID0ge1xuICAgICAgICAgIHN0YXRpYzogW10sXG4gICAgICAgICAgcHJvdG90eXBlOiBbXSxcbiAgICAgICAgICBvd246IFtdXG4gICAgICAgIH07XG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChlbGVtZW50LCBwbGFjZW1lbnRzKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIGlmICghX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHJldHVybiBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgIHZhciBlbGVtZW50RmluaXNoZXJzRXh0cmFzID0gdGhpcy5kZWNvcmF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgcGxhY2VtZW50c1xuICAgICAgICAgICk7XG4gICAgICAgICAgbmV3RWxlbWVudHMucHVzaChlbGVtZW50RmluaXNoZXJzRXh0cmFzLmVsZW1lbnQpO1xuICAgICAgICAgIG5ld0VsZW1lbnRzLnB1c2guYXBwbHkobmV3RWxlbWVudHMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZXh0cmFzKTtcbiAgICAgICAgICBmaW5pc2hlcnMucHVzaC5hcHBseShmaW5pc2hlcnMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZmluaXNoZXJzKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKCFkZWNvcmF0b3JzKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVsZW1lbnRzOiBuZXdFbGVtZW50cyxcbiAgICAgICAgICAgIGZpbmlzaGVyczogZmluaXNoZXJzXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29yYXRlQ29uc3RydWN0b3IobmV3RWxlbWVudHMsIGRlY29yYXRvcnMpO1xuICAgICAgICBmaW5pc2hlcnMucHVzaC5hcHBseShmaW5pc2hlcnMsIHJlc3VsdC5maW5pc2hlcnMpO1xuICAgICAgICByZXN1bHQuZmluaXNoZXJzID0gZmluaXNoZXJzO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIGFkZEVsZW1lbnRQbGFjZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHBsYWNlbWVudHMsIHNpbGVudCkge1xuICAgICAgICB2YXIga2V5cyA9IHBsYWNlbWVudHNbZWxlbWVudC5wbGFjZW1lbnRdO1xuXG4gICAgICAgIGlmICghc2lsZW50ICYmIGtleXMuaW5kZXhPZihlbGVtZW50LmtleSkgIT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRHVwbGljYXRlZCBlbGVtZW50ICgnICsgZWxlbWVudC5rZXkgKyAnKScpO1xuICAgICAgICB9XG5cbiAgICAgICAga2V5cy5wdXNoKGVsZW1lbnQua2V5KTtcbiAgICAgIH0sXG4gICAgICBkZWNvcmF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHBsYWNlbWVudHMpIHtcbiAgICAgICAgdmFyIGV4dHJhcyA9IFtdO1xuICAgICAgICB2YXIgZmluaXNoZXJzID0gW107XG5cbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgZGVjb3JhdG9ycyA9IGVsZW1lbnQuZGVjb3JhdG9ycywgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICBpID49IDA7XG4gICAgICAgICAgaS0tXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBrZXlzID0gcGxhY2VtZW50c1tlbGVtZW50LnBsYWNlbWVudF07XG4gICAgICAgICAga2V5cy5zcGxpY2Uoa2V5cy5pbmRleE9mKGVsZW1lbnQua2V5KSwgMSk7XG4gICAgICAgICAgdmFyIGVsZW1lbnRPYmplY3QgPSB0aGlzLmZyb21FbGVtZW50RGVzY3JpcHRvcihlbGVtZW50KTtcbiAgICAgICAgICB2YXIgZWxlbWVudEZpbmlzaGVyRXh0cmFzID0gdGhpcy50b0VsZW1lbnRGaW5pc2hlckV4dHJhcyhcbiAgICAgICAgICAgICgwLCBkZWNvcmF0b3JzW2ldKShlbGVtZW50T2JqZWN0KSB8fCBlbGVtZW50T2JqZWN0XG4gICAgICAgICAgKTtcbiAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudEZpbmlzaGVyRXh0cmFzLmVsZW1lbnQ7XG4gICAgICAgICAgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpO1xuXG4gICAgICAgICAgaWYgKGVsZW1lbnRGaW5pc2hlckV4dHJhcy5maW5pc2hlcikge1xuICAgICAgICAgICAgZmluaXNoZXJzLnB1c2goZWxlbWVudEZpbmlzaGVyRXh0cmFzLmZpbmlzaGVyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbmV3RXh0cmFzID0gZWxlbWVudEZpbmlzaGVyRXh0cmFzLmV4dHJhcztcblxuICAgICAgICAgIGlmIChuZXdFeHRyYXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3RXh0cmFzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWRkRWxlbWVudFBsYWNlbWVudChuZXdFeHRyYXNbal0sIHBsYWNlbWVudHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBleHRyYXMucHVzaC5hcHBseShleHRyYXMsIG5ld0V4dHJhcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgIGZpbmlzaGVyczogZmluaXNoZXJzLFxuICAgICAgICAgIGV4dHJhczogZXh0cmFzXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgZGVjb3JhdGVDb25zdHJ1Y3RvcjogZnVuY3Rpb24oZWxlbWVudHMsIGRlY29yYXRvcnMpIHtcbiAgICAgICAgdmFyIGZpbmlzaGVycyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdmFyIG9iaiA9IHRoaXMuZnJvbUNsYXNzRGVzY3JpcHRvcihlbGVtZW50cyk7XG4gICAgICAgICAgdmFyIGVsZW1lbnRzQW5kRmluaXNoZXIgPSB0aGlzLnRvQ2xhc3NEZXNjcmlwdG9yKFxuICAgICAgICAgICAgKDAsIGRlY29yYXRvcnNbaV0pKG9iaikgfHwgb2JqXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZpbmlzaGVycy5wdXNoKGVsZW1lbnRzQW5kRmluaXNoZXIuZmluaXNoZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmVsZW1lbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVsZW1lbnRzID0gZWxlbWVudHNBbmRGaW5pc2hlci5lbGVtZW50cztcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlbGVtZW50cy5sZW5ndGggLSAxOyBqKyspIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgayA9IGogKyAxOyBrIDwgZWxlbWVudHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBlbGVtZW50c1tqXS5rZXkgPT09IGVsZW1lbnRzW2tdLmtleSAmJlxuICAgICAgICAgICAgICAgICAgZWxlbWVudHNbal0ucGxhY2VtZW50ID09PSBlbGVtZW50c1trXS5wbGFjZW1lbnRcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdEdXBsaWNhdGVkIGVsZW1lbnQgKCcgKyBlbGVtZW50c1tqXS5rZXkgKyAnKSdcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICAgICAgZmluaXNoZXJzOiBmaW5pc2hlcnNcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBmcm9tRWxlbWVudERlc2NyaXB0b3I6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG9iaiA9IHtcbiAgICAgICAgICBraW5kOiBlbGVtZW50LmtpbmQsXG4gICAgICAgICAga2V5OiBlbGVtZW50LmtleSxcbiAgICAgICAgICBwbGFjZW1lbnQ6IGVsZW1lbnQucGxhY2VtZW50LFxuICAgICAgICAgIGRlc2NyaXB0b3I6IGVsZW1lbnQuZGVzY3JpcHRvclxuICAgICAgICB9O1xuICAgICAgICB2YXIgZGVzYyA9IHtcbiAgICAgICAgICB2YWx1ZTogJ0Rlc2NyaXB0b3InLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBTeW1ib2wudG9TdHJpbmdUYWcsIGRlc2MpO1xuICAgICAgICBpZiAoZWxlbWVudC5raW5kID09PSAnZmllbGQnKSBvYmouaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfSxcbiAgICAgIHRvRWxlbWVudERlc2NyaXB0b3JzOiBmdW5jdGlvbihlbGVtZW50T2JqZWN0cykge1xuICAgICAgICBpZiAoZWxlbWVudE9iamVjdHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICByZXR1cm4gX3RvQXJyYXkoZWxlbWVudE9iamVjdHMpLm1hcChmdW5jdGlvbihlbGVtZW50T2JqZWN0KSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7XG4gICAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KFxuICAgICAgICAgICAgZWxlbWVudE9iamVjdCxcbiAgICAgICAgICAgICdmaW5pc2hlcicsXG4gICAgICAgICAgICAnQW4gZWxlbWVudCBkZXNjcmlwdG9yJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KFxuICAgICAgICAgICAgZWxlbWVudE9iamVjdCxcbiAgICAgICAgICAgICdleHRyYXMnLFxuICAgICAgICAgICAgJ0FuIGVsZW1lbnQgZGVzY3JpcHRvcidcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgIH0sXG4gICAgICB0b0VsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbihlbGVtZW50T2JqZWN0KSB7XG4gICAgICAgIHZhciBraW5kID0gU3RyaW5nKGVsZW1lbnRPYmplY3Qua2luZCk7XG5cbiAgICAgICAgaWYgKGtpbmQgIT09ICdtZXRob2QnICYmIGtpbmQgIT09ICdmaWVsZCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgJ0FuIGVsZW1lbnQgZGVzY3JpcHRvclxcJ3MgLmtpbmQgcHJvcGVydHkgbXVzdCBiZSBlaXRoZXIgXCJtZXRob2RcIiBvcicgK1xuICAgICAgICAgICAgICAnIFwiZmllbGRcIiwgYnV0IGEgZGVjb3JhdG9yIGNyZWF0ZWQgYW4gZWxlbWVudCBkZXNjcmlwdG9yIHdpdGgnICtcbiAgICAgICAgICAgICAgJyAua2luZCBcIicgK1xuICAgICAgICAgICAgICBraW5kICtcbiAgICAgICAgICAgICAgJ1wiJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZWxlbWVudE9iamVjdC5rZXkpO1xuXG4gICAgICAgIHZhciBwbGFjZW1lbnQgPSBTdHJpbmcoZWxlbWVudE9iamVjdC5wbGFjZW1lbnQpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwbGFjZW1lbnQgIT09ICdzdGF0aWMnICYmXG4gICAgICAgICAgcGxhY2VtZW50ICE9PSAncHJvdG90eXBlJyAmJlxuICAgICAgICAgIHBsYWNlbWVudCAhPT0gJ293bidcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5wbGFjZW1lbnQgcHJvcGVydHkgbXVzdCBiZSBvbmUgb2YgXCJzdGF0aWNcIiwnICtcbiAgICAgICAgICAgICAgJyBcInByb3RvdHlwZVwiIG9yIFwib3duXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvcicgK1xuICAgICAgICAgICAgICAnIHdpdGggLnBsYWNlbWVudCBcIicgK1xuICAgICAgICAgICAgICBwbGFjZW1lbnQgK1xuICAgICAgICAgICAgICAnXCInXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gZWxlbWVudE9iamVjdC5kZXNjcmlwdG9yO1xuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgZWxlbWVudE9iamVjdCxcbiAgICAgICAgICAnZWxlbWVudHMnLFxuICAgICAgICAgICdBbiBlbGVtZW50IGRlc2NyaXB0b3InXG4gICAgICAgICk7XG4gICAgICAgIHZhciBlbGVtZW50ID0ge1xuICAgICAgICAgIGtpbmQ6IGtpbmQsXG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICAgICAgZGVzY3JpcHRvcjogT2JqZWN0LmFzc2lnbih7fSwgZGVzY3JpcHRvcilcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoa2luZCAhPT0gJ2ZpZWxkJykge1xuICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShcbiAgICAgICAgICAgIGVsZW1lbnRPYmplY3QsXG4gICAgICAgICAgICAnaW5pdGlhbGl6ZXInLFxuICAgICAgICAgICAgJ0EgbWV0aG9kIGRlc2NyaXB0b3InXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgJ2dldCcsXG4gICAgICAgICAgICAnVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KFxuICAgICAgICAgICAgZGVzY3JpcHRvcixcbiAgICAgICAgICAgICdzZXQnLFxuICAgICAgICAgICAgJ1RoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvcidcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShcbiAgICAgICAgICAgIGRlc2NyaXB0b3IsXG4gICAgICAgICAgICAndmFsdWUnLFxuICAgICAgICAgICAgJ1RoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIG9mIGEgZmllbGQgZGVzY3JpcHRvcidcbiAgICAgICAgICApO1xuICAgICAgICAgIGVsZW1lbnQuaW5pdGlhbGl6ZXIgPSBlbGVtZW50T2JqZWN0LmluaXRpYWxpemVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9LFxuICAgICAgdG9FbGVtZW50RmluaXNoZXJFeHRyYXM6IGZ1bmN0aW9uKGVsZW1lbnRPYmplY3QpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7XG5cbiAgICAgICAgdmFyIGZpbmlzaGVyID0gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCAnZmluaXNoZXInKTtcblxuICAgICAgICB2YXIgZXh0cmFzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhlbGVtZW50T2JqZWN0LmV4dHJhcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICBmaW5pc2hlcjogZmluaXNoZXIsXG4gICAgICAgICAgZXh0cmFzOiBleHRyYXNcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBmcm9tQ2xhc3NEZXNjcmlwdG9yOiBmdW5jdGlvbihlbGVtZW50cykge1xuICAgICAgICB2YXIgb2JqID0ge1xuICAgICAgICAgIGtpbmQ6ICdjbGFzcycsXG4gICAgICAgICAgZWxlbWVudHM6IGVsZW1lbnRzLm1hcCh0aGlzLmZyb21FbGVtZW50RGVzY3JpcHRvciwgdGhpcylcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlc2MgPSB7XG4gICAgICAgICAgdmFsdWU6ICdEZXNjcmlwdG9yJyxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgU3ltYm9sLnRvU3RyaW5nVGFnLCBkZXNjKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sXG4gICAgICB0b0NsYXNzRGVzY3JpcHRvcjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHZhciBraW5kID0gU3RyaW5nKG9iai5raW5kKTtcblxuICAgICAgICBpZiAoa2luZCAhPT0gJ2NsYXNzJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAnQSBjbGFzcyBkZXNjcmlwdG9yXFwncyAua2luZCBwcm9wZXJ0eSBtdXN0IGJlIFwiY2xhc3NcIiwgYnV0IGEgZGVjb3JhdG9yJyArXG4gICAgICAgICAgICAgICcgY3JlYXRlZCBhIGNsYXNzIGRlc2NyaXB0b3Igd2l0aCAua2luZCBcIicgK1xuICAgICAgICAgICAgICBraW5kICtcbiAgICAgICAgICAgICAgJ1wiJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAna2V5JywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAncGxhY2VtZW50JywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAnZGVzY3JpcHRvcicsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcbiAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgJ2luaXRpYWxpemVyJywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAnZXh0cmFzJywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuXG4gICAgICAgIHZhciBmaW5pc2hlciA9IF9vcHRpb25hbENhbGxhYmxlUHJvcGVydHkob2JqLCAnZmluaXNoZXInKTtcblxuICAgICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3JzKG9iai5lbGVtZW50cyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZWxlbWVudHM6IGVsZW1lbnRzLFxuICAgICAgICAgIGZpbmlzaGVyOiBmaW5pc2hlclxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHJ1bkNsYXNzRmluaXNoZXJzOiBmdW5jdGlvbihjb25zdHJ1Y3RvciwgZmluaXNoZXJzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmluaXNoZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIG5ld0NvbnN0cnVjdG9yID0gKDAsIGZpbmlzaGVyc1tpXSkoY29uc3RydWN0b3IpO1xuXG4gICAgICAgICAgaWYgKG5ld0NvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3Q29uc3RydWN0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmluaXNoZXJzIG11c3QgcmV0dXJuIGEgY29uc3RydWN0b3IuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gbmV3Q29uc3RydWN0b3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xuICAgICAgfSxcbiAgICAgIGRpc2FsbG93UHJvcGVydHk6IGZ1bmN0aW9uKG9iaiwgbmFtZSwgb2JqZWN0VHlwZSkge1xuICAgICAgICBpZiAob2JqW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgb2JqZWN0VHlwZSArIFwiIGNhbid0IGhhdmUgYSAuXCIgKyBuYW1lICsgJyBwcm9wZXJ0eS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGFwaTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50RGVzY3JpcHRvcihkZWYpIHtcbiAgICB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZGVmLmtleSk7XG5cbiAgICB2YXIgZGVzY3JpcHRvcjtcblxuICAgIGlmIChkZWYua2luZCA9PT0gJ21ldGhvZCcpIHtcbiAgICAgIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgIHZhbHVlOiBkZWYudmFsdWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09ICdnZXQnKSB7XG4gICAgICBkZXNjcmlwdG9yID0ge1xuICAgICAgICBnZXQ6IGRlZi52YWx1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGRlZi5raW5kID09PSAnc2V0Jykge1xuICAgICAgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgc2V0OiBkZWYudmFsdWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChkZWYua2luZCA9PT0gJ2ZpZWxkJykge1xuICAgICAgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudCA9IHtcbiAgICAgIGtpbmQ6IGRlZi5raW5kID09PSAnZmllbGQnID8gJ2ZpZWxkJyA6ICdtZXRob2QnLFxuICAgICAga2V5OiBrZXksXG4gICAgICBwbGFjZW1lbnQ6IGRlZi5zdGF0aWNcbiAgICAgICAgPyAnc3RhdGljJ1xuICAgICAgICA6IGRlZi5raW5kID09PSAnZmllbGQnXG4gICAgICAgID8gJ293bidcbiAgICAgICAgOiAncHJvdG90eXBlJyxcbiAgICAgIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3JcbiAgICB9O1xuICAgIGlmIChkZWYuZGVjb3JhdG9ycykgZWxlbWVudC5kZWNvcmF0b3JzID0gZGVmLmRlY29yYXRvcnM7XG4gICAgaWYgKGRlZi5raW5kID09PSAnZmllbGQnKSBlbGVtZW50LmluaXRpYWxpemVyID0gZGVmLnZhbHVlO1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gX2NvYWxlc2NlR2V0dGVyU2V0dGVyKGVsZW1lbnQsIG90aGVyKSB7XG4gICAgaWYgKGVsZW1lbnQuZGVzY3JpcHRvci5nZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgb3RoZXIuZGVzY3JpcHRvci5nZXQgPSBlbGVtZW50LmRlc2NyaXB0b3IuZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICBvdGhlci5kZXNjcmlwdG9yLnNldCA9IGVsZW1lbnQuZGVzY3JpcHRvci5zZXQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NvYWxlc2NlQ2xhc3NFbGVtZW50cyhlbGVtZW50cykge1xuICAgIHZhciBuZXdFbGVtZW50cyA9IFtdO1xuXG4gICAgdmFyIGlzU2FtZUVsZW1lbnQgPSBmdW5jdGlvbihvdGhlcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgb3RoZXIua2luZCA9PT0gJ21ldGhvZCcgJiZcbiAgICAgICAgb3RoZXIua2V5ID09PSBlbGVtZW50LmtleSAmJlxuICAgICAgICBvdGhlci5wbGFjZW1lbnQgPT09IGVsZW1lbnQucGxhY2VtZW50XG4gICAgICApO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgdmFyIG90aGVyO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGVsZW1lbnQua2luZCA9PT0gJ21ldGhvZCcgJiZcbiAgICAgICAgKG90aGVyID0gbmV3RWxlbWVudHMuZmluZChpc1NhbWVFbGVtZW50KSlcbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgX2lzRGF0YURlc2NyaXB0b3IoZWxlbWVudC5kZXNjcmlwdG9yKSB8fFxuICAgICAgICAgIF9pc0RhdGFEZXNjcmlwdG9yKG90aGVyLmRlc2NyaXB0b3IpXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB8fCBfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcbiAgICAgICAgICAgICAgJ0R1cGxpY2F0ZWQgbWV0aG9kcyAoJyArIGVsZW1lbnQua2V5ICsgXCIpIGNhbid0IGJlIGRlY29yYXRlZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvdGhlci5kZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSkge1xuICAgICAgICAgICAgaWYgKF9oYXNEZWNvcmF0b3JzKG90aGVyKSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJEZWNvcmF0b3JzIGNhbid0IGJlIHBsYWNlZCBvbiBkaWZmZXJlbnQgYWNjZXNzb3JzIHdpdGggZm9yIFwiICtcbiAgICAgICAgICAgICAgICAgICd0aGUgc2FtZSBwcm9wZXJ0eSAoJyArXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LmtleSArXG4gICAgICAgICAgICAgICAgICAnKS4nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG90aGVyLmRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2NvYWxlc2NlR2V0dGVyU2V0dGVyKGVsZW1lbnQsIG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3RWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3RWxlbWVudHM7XG4gIH1cblxuICBmdW5jdGlvbiBfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuZGVjb3JhdG9ycyAmJiBlbGVtZW50LmRlY29yYXRvcnMubGVuZ3RoO1xuICB9XG5cbiAgZnVuY3Rpb24gX2lzRGF0YURlc2NyaXB0b3IoZGVzYykge1xuICAgIHJldHVybiAoXG4gICAgICBkZXNjICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICEoZGVzYy52YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGRlc2Mud3JpdGFibGUgPT09IHVuZGVmaW5lZClcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShvYmosIG5hbWUpIHtcbiAgICB2YXIgdmFsdWUgPSBvYmpbbmFtZV07XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCAnXCIgKyBuYW1lICsgXCInIHRvIGJlIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZU1ldGhvZEdldChyZWNlaXZlciwgcHJpdmF0ZVNldCwgZm4pIHtcbiAgICBpZiAoIXByaXZhdGVTZXQuaGFzKHJlY2VpdmVyKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZScpO1xuICAgIH1cblxuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVNZXRob2RTZXQoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHJlYXNzaWduIHByaXZhdGUgbWV0aG9kJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfd3JhcFJlZ0V4cChyZSwgZ3JvdXBzKSB7XG4gICAgX3dyYXBSZWdFeHAgPSBmdW5jdGlvbihyZSwgZ3JvdXBzKSB7XG4gICAgICByZXR1cm4gbmV3IEJhYmVsUmVnRXhwKHJlLCBncm91cHMpO1xuICAgIH07XG5cbiAgICB2YXIgX1JlZ0V4cCA9IF93cmFwTmF0aXZlU3VwZXIoUmVnRXhwKTtcblxuICAgIHZhciBfc3VwZXIgPSBSZWdFeHAucHJvdG90eXBlO1xuXG4gICAgdmFyIF9ncm91cHMgPSBuZXcgV2Vha01hcCgpO1xuXG4gICAgZnVuY3Rpb24gQmFiZWxSZWdFeHAocmUsIGdyb3Vwcykge1xuICAgICAgdmFyIF90aGlzID0gX1JlZ0V4cC5jYWxsKHRoaXMsIHJlKTtcblxuICAgICAgX2dyb3Vwcy5zZXQoX3RoaXMsIGdyb3Vwcyk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfaW5oZXJpdHMoQmFiZWxSZWdFeHAsIF9SZWdFeHApO1xuXG4gICAgQmFiZWxSZWdFeHAucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBfc3VwZXIuZXhlYy5jYWxsKHRoaXMsIHN0cik7XG5cbiAgICAgIGlmIChyZXN1bHQpIHJlc3VsdC5ncm91cHMgPSBidWlsZEdyb3VwcyhyZXN1bHQsIHRoaXMpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgQmFiZWxSZWdFeHAucHJvdG90eXBlW1N5bWJvbC5yZXBsYWNlXSA9IGZ1bmN0aW9uKHN0ciwgc3Vic3RpdHV0aW9uKSB7XG4gICAgICBpZiAodHlwZW9mIHN1YnN0aXR1dGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIGdyb3VwcyA9IF9ncm91cHMuZ2V0KHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBfc3VwZXJbU3ltYm9sLnJlcGxhY2VdLmNhbGwoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBzdHIsXG4gICAgICAgICAgc3Vic3RpdHV0aW9uLnJlcGxhY2UoL1xcJDwoW14+XSspPi9nLCBmdW5jdGlvbihfLCBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyQnICsgZ3JvdXBzW25hbWVdO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdWJzdGl0dXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICByZXR1cm4gX3N1cGVyW1N5bWJvbC5yZXBsYWNlXS5jYWxsKHRoaXMsIHN0ciwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICBhcmdzLnB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgYXJncy5wdXNoKGJ1aWxkR3JvdXBzKGFyZ3MsIF90aGlzKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHN1YnN0aXR1dGlvbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gX3N1cGVyW1N5bWJvbC5yZXBsYWNlXS5jYWxsKHRoaXMsIHN0ciwgc3Vic3RpdHV0aW9uKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYnVpbGRHcm91cHMocmVzdWx0LCByZSkge1xuICAgICAgdmFyIGcgPSBfZ3JvdXBzLmdldChyZSk7XG5cbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhnKS5yZWR1Y2UoZnVuY3Rpb24oZ3JvdXBzLCBuYW1lKSB7XG4gICAgICAgIGdyb3Vwc1tuYW1lXSA9IHJlc3VsdFtnW25hbWVdXTtcbiAgICAgICAgcmV0dXJuIGdyb3VwcztcbiAgICAgIH0sIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgIH1cblxuICAgIHJldHVybiBfd3JhcFJlZ0V4cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgdmFyIGFycmF5UmVtb3ZlID0gZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyLCBpbmRleCkge1xuICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgfTtcblxuICB2YXIgcnVuID0gZnVuY3Rpb24gcnVuKGNiLCBzeW5jKSB7XG4gICAgaWYgKHN5bmMpIHtcbiAgICAgIGNiKCk7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgIFByb21pc2UucmVzb2x2ZSgxKS50aGVuKGNiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dChjYiwgMCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbiA9IGZ1bmN0aW9uIG9uKCkge1xuICAgIHZhciBsaXN0ZW5lcnMgPSBbXTtcbiAgICB2YXIgb2ZmID0gZnVuY3Rpb24gb2ZmKGV2ZW50LCBjYikge1xuICAgICAgYXJyYXlSZW1vdmUoXG4gICAgICAgIGxpc3RlbmVycyxcbiAgICAgICAgbGlzdGVuZXJzLmZpbmRJbmRleChmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgIHJldHVybiBsaXN0ZW5lci5ldmVudCA9PT0gZXZlbnQgJiYgKGxpc3RlbmVyLmNiID09PSBjYiB8fCAhY2IpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9O1xuICAgIHZhciBfZmlyZSA9IGZ1bmN0aW9uIGZpcmUoZXZlbnQsIGFyZ3MsIHN5bmMpIHtcbiAgICAgIGxpc3RlbmVyc1xuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gICAgICAgICAgcmV0dXJuIGxpc3RlbmVyLmV2ZW50ID09PSBldmVudDtcbiAgICAgICAgfSlcbiAgICAgICAgLm1hcChmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgIHJldHVybiBsaXN0ZW5lci5jYjtcbiAgICAgICAgfSlcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oY2IpIHtcbiAgICAgICAgICByZXR1cm4gcnVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNiLmFwcGx5KHZvaWQgMCwgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKTtcbiAgICAgICAgICB9LCBzeW5jKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgZmlyZVN5bmM6IGZ1bmN0aW9uIGZpcmVTeW5jKGV2ZW50KSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksXG4gICAgICAgICAgICBfa2V5ID0gMTtcbiAgICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgICBfa2V5KytcbiAgICAgICAgKSB7XG4gICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cbiAgICAgICAgX2ZpcmUoZXZlbnQsIGFyZ3MsIHRydWUpO1xuICAgICAgfSxcbiAgICAgIGZpcmU6IGZ1bmN0aW9uIGZpcmUoZXZlbnQpIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSxcbiAgICAgICAgICAgIF9rZXkyID0gMTtcbiAgICAgICAgICBfa2V5MiA8IF9sZW4yO1xuICAgICAgICAgIF9rZXkyKytcbiAgICAgICAgKSB7XG4gICAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgfVxuICAgICAgICBfZmlyZShldmVudCwgYXJncywgZmFsc2UpO1xuICAgICAgfSxcbiAgICAgIG9uOiBmdW5jdGlvbiBvbihldmVudCwgY2IpIHtcbiAgICAgICAgbGlzdGVuZXJzLnB1c2goeyBldmVudDogZXZlbnQsIGNiOiBjYiB9KTtcbiAgICAgIH0sXG4gICAgICBvbk9uY2U6IGZ1bmN0aW9uIG9uT25jZShldmVudCwgX2NiKSB7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgY2I6IGZ1bmN0aW9uIGNiKCkge1xuICAgICAgICAgICAgb2ZmKGV2ZW50LCBfY2IpO1xuICAgICAgICAgICAgX2NiLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG9mZjogb2ZmXG4gICAgfTtcbiAgfTtcblxuICB2YXIgY29weU9iamVjdFByb3BlcnRpZXNUb09iamVjdCA9IGZ1bmN0aW9uIGNvcHlPYmplY3RQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgc3JjLFxuICAgIHRhcmdldCxcbiAgICBleGNsdWRlZFxuICApIHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzcmMpXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICAgIHJldHVybiAhZXhjbHVkZWQuaW5jbHVkZXMocHJvcGVydHkpO1xuICAgICAgfSlcbiAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzcmMsIGtleSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIHZhciBQUklWQVRFID0gW1xuICAgICdmaXJlJyxcbiAgICAncHJvY2VzcycsXG4gICAgJ3JldmVydCcsXG4gICAgJ2xvYWQnLFxuICAgICdvbicsXG4gICAgJ29mZicsXG4gICAgJ29uT25jZScsXG4gICAgJ3JldHJ5TG9hZCcsXG4gICAgJ2V4dGVuZCcsXG4gICAgJ2FyY2hpdmUnLFxuICAgICdhcmNoaXZlZCcsXG4gICAgJ3JlbGVhc2UnLFxuICAgICdyZWxlYXNlZCcsXG4gICAgJ3JlcXVlc3RQcm9jZXNzaW5nJyxcbiAgICAnZnJlZXplJ1xuICBdO1xuXG4gIHZhciBjcmVhdGVJdGVtQVBJID0gZnVuY3Rpb24gY3JlYXRlSXRlbUFQSShpdGVtKSB7XG4gICAgdmFyIGFwaSA9IHt9O1xuICAgIGNvcHlPYmplY3RQcm9wZXJ0aWVzVG9PYmplY3QoaXRlbSwgYXBpLCBQUklWQVRFKTtcbiAgICByZXR1cm4gYXBpO1xuICB9O1xuXG4gIHZhciByZW1vdmVSZWxlYXNlZEl0ZW1zID0gZnVuY3Rpb24gcmVtb3ZlUmVsZWFzZWRJdGVtcyhpdGVtcykge1xuICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICAgIGlmIChpdGVtLnJlbGVhc2VkKSB7XG4gICAgICAgIGFycmF5UmVtb3ZlKGl0ZW1zLCBpbmRleCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIEl0ZW1TdGF0dXMgPSB7XG4gICAgSU5JVDogMSxcbiAgICBJRExFOiAyLFxuICAgIFBST0NFU1NJTkdfUVVFVUVEOiA5LFxuICAgIFBST0NFU1NJTkc6IDMsXG4gICAgUFJPQ0VTU0lOR19DT01QTEVURTogNSxcbiAgICBQUk9DRVNTSU5HX0VSUk9SOiA2LFxuICAgIFBST0NFU1NJTkdfUkVWRVJUX0VSUk9SOiAxMCxcbiAgICBMT0FESU5HOiA3LFxuICAgIExPQURfRVJST1I6IDhcbiAgfTtcblxuICB2YXIgRmlsZU9yaWdpbiA9IHtcbiAgICBJTlBVVDogMSxcbiAgICBMSU1CTzogMixcbiAgICBMT0NBTDogM1xuICB9O1xuXG4gIHZhciBnZXROb25OdW1lcmljID0gZnVuY3Rpb24gZ2V0Tm9uTnVtZXJpYyhzdHIpIHtcbiAgICByZXR1cm4gL1teMC05XSsvLmV4ZWMoc3RyKTtcbiAgfTtcblxuICB2YXIgZ2V0RGVjaW1hbFNlcGFyYXRvciA9IGZ1bmN0aW9uIGdldERlY2ltYWxTZXBhcmF0b3IoKSB7XG4gICAgcmV0dXJuIGdldE5vbk51bWVyaWMoKDEuMSkudG9Mb2NhbGVTdHJpbmcoKSlbMF07XG4gIH07XG5cbiAgdmFyIGdldFRob3VzYW5kc1NlcGFyYXRvciA9IGZ1bmN0aW9uIGdldFRob3VzYW5kc1NlcGFyYXRvcigpIHtcbiAgICAvLyBBZGRlZCBmb3IgYnJvd3NlcnMgdGhhdCBkbyBub3QgcmV0dXJuIHRoZSB0aG91c2FuZHMgc2VwYXJhdG9yIChoYXBwZW5kIG9uIG5hdGl2ZSBicm93c2VyIEFuZHJvaWQgNC40LjQpXG4gICAgLy8gV2UgY2hlY2sgYWdhaW5zdCB0aGUgbm9ybWFsIHRvU3RyaW5nIG91dHB1dCBhbmQgaWYgdGhleSdyZSB0aGUgc2FtZSByZXR1cm4gYSBjb21tYSB3aGVuIGRlY2ltYWwgc2VwYXJhdG9yIGlzIGEgZG90XG4gICAgdmFyIGRlY2ltYWxTZXBhcmF0b3IgPSBnZXREZWNpbWFsU2VwYXJhdG9yKCk7XG4gICAgdmFyIHRob3VzYW5kc1N0cmluZ1dpdGhTZXBhcmF0b3IgPSAoMTAwMC4wKS50b0xvY2FsZVN0cmluZygpO1xuICAgIHZhciB0aG91c2FuZHNTdHJpbmdXaXRob3V0U2VwYXJhdG9yID0gKDEwMDAuMCkudG9TdHJpbmcoKTtcbiAgICBpZiAodGhvdXNhbmRzU3RyaW5nV2l0aFNlcGFyYXRvciAhPT0gdGhvdXNhbmRzU3RyaW5nV2l0aG91dFNlcGFyYXRvcikge1xuICAgICAgcmV0dXJuIGdldE5vbk51bWVyaWModGhvdXNhbmRzU3RyaW5nV2l0aFNlcGFyYXRvcilbMF07XG4gICAgfVxuICAgIHJldHVybiBkZWNpbWFsU2VwYXJhdG9yID09PSAnLicgPyAnLCcgOiAnLic7XG4gIH07XG5cbiAgdmFyIFR5cGUgPSB7XG4gICAgQk9PTEVBTjogJ2Jvb2xlYW4nLFxuICAgIElOVDogJ2ludCcsXG4gICAgTlVNQkVSOiAnbnVtYmVyJyxcbiAgICBTVFJJTkc6ICdzdHJpbmcnLFxuICAgIEFSUkFZOiAnYXJyYXknLFxuICAgIE9CSkVDVDogJ29iamVjdCcsXG4gICAgRlVOQ1RJT046ICdmdW5jdGlvbicsXG4gICAgQUNUSU9OOiAnYWN0aW9uJyxcbiAgICBTRVJWRVJfQVBJOiAnc2VydmVyYXBpJyxcbiAgICBSRUdFWDogJ3JlZ2V4J1xuICB9O1xuXG4gIC8vIGFsbCByZWdpc3RlcmVkIGZpbHRlcnNcbiAgdmFyIGZpbHRlcnMgPSBbXTtcblxuICAvLyBsb29wcyBvdmVyIG1hdGNoaW5nIGZpbHRlcnMgYW5kIHBhc3NlcyBvcHRpb25zIHRvIGVhY2ggZmlsdGVyLCByZXR1cm5pbmcgdGhlIG1hcHBlZCByZXN1bHRzXG4gIHZhciBhcHBseUZpbHRlckNoYWluID0gZnVuY3Rpb24gYXBwbHlGaWx0ZXJDaGFpbihrZXksIHZhbHVlLCB1dGlscykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIC8vIGZpbmQgbWF0Y2hpbmcgZmlsdGVycyBmb3IgdGhpcyBrZXlcbiAgICAgIHZhciBtYXRjaGluZ0ZpbHRlcnMgPSBmaWx0ZXJzXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oZikge1xuICAgICAgICAgIHJldHVybiBmLmtleSA9PT0ga2V5O1xuICAgICAgICB9KVxuICAgICAgICAubWFwKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICByZXR1cm4gZi5jYjtcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIHJlc29sdmUgbm93XG4gICAgICBpZiAobWF0Y2hpbmdGaWx0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBmaXJzdCBmaWx0ZXIgdG8ga2ljayB0aGluZ3Mgb2ZcbiAgICAgIHZhciBpbml0aWFsRmlsdGVyID0gbWF0Y2hpbmdGaWx0ZXJzLnNoaWZ0KCk7XG5cbiAgICAgIC8vIGNoYWluIGZpbHRlcnNcbiAgICAgIG1hdGNoaW5nRmlsdGVyc1xuICAgICAgICAucmVkdWNlKFxuICAgICAgICAgIC8vIGxvb3Agb3ZlciBwcm9taXNlcyBwYXNzaW5nIHZhbHVlIHRvIG5leHQgcHJvbWlzZVxuICAgICAgICAgIGZ1bmN0aW9uKGN1cnJlbnQsIG5leHQpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50LnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQodmFsdWUsIHV0aWxzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvLyBjYWxsIGluaXRpYWwgZmlsdGVyLCB3aWxsIHJldHVybiBhIHByb21pc2VcbiAgICAgICAgICBpbml0aWFsRmlsdGVyKHZhbHVlLCB1dGlscylcblxuICAgICAgICAgIC8vIGFsbCBleGVjdXRlZFxuICAgICAgICApXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGFwcGx5RmlsdGVycyA9IGZ1bmN0aW9uIGFwcGx5RmlsdGVycyhrZXksIHZhbHVlLCB1dGlscykge1xuICAgIHJldHVybiBmaWx0ZXJzXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgcmV0dXJuIGYua2V5ID09PSBrZXk7XG4gICAgICB9KVxuICAgICAgLm1hcChmdW5jdGlvbihmKSB7XG4gICAgICAgIHJldHVybiBmLmNiKHZhbHVlLCB1dGlscyk7XG4gICAgICB9KTtcbiAgfTtcblxuICAvLyBhZGRzIGEgbmV3IGZpbHRlciB0byB0aGUgbGlzdFxuICB2YXIgYWRkRmlsdGVyID0gZnVuY3Rpb24gYWRkRmlsdGVyKGtleSwgY2IpIHtcbiAgICByZXR1cm4gZmlsdGVycy5wdXNoKHsga2V5OiBrZXksIGNiOiBjYiB9KTtcbiAgfTtcblxuICB2YXIgZXh0ZW5kRGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbiBleHRlbmREZWZhdWx0T3B0aW9ucyhhZGRpdGlvbmFsT3B0aW9ucykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCBhZGRpdGlvbmFsT3B0aW9ucyk7XG4gIH07XG5cbiAgdmFyIGdldE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyk7XG4gIH07XG5cbiAgdmFyIHNldE9wdGlvbnMgPSBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdHMpIHtcbiAgICBmb3JpbihvcHRzLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAvLyBrZXkgZG9lcyBub3QgZXhpc3QsIHNvIHRoaXMgb3B0aW9uIGNhbm5vdCBiZSBzZXRcbiAgICAgIGlmICghZGVmYXVsdE9wdGlvbnNba2V5XSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWZhdWx0T3B0aW9uc1trZXldWzBdID0gZ2V0VmFsdWVCeVR5cGUoXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBkZWZhdWx0T3B0aW9uc1trZXldWzBdLFxuICAgICAgICBkZWZhdWx0T3B0aW9uc1trZXldWzFdXG4gICAgICApO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIGRlZmF1bHQgb3B0aW9ucyBvbiBhcHBcbiAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgIC8vIHRoZSBpZCB0byBhZGQgdG8gdGhlIHJvb3QgZWxlbWVudFxuICAgIGlkOiBbbnVsbCwgVHlwZS5TVFJJTkddLFxuXG4gICAgLy8gaW5wdXQgZmllbGQgbmFtZSB0byB1c2VcbiAgICBuYW1lOiBbJ2ZpbGVwb25kJywgVHlwZS5TVFJJTkddLFxuXG4gICAgLy8gZGlzYWJsZSB0aGUgZmllbGRcbiAgICBkaXNhYmxlZDogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgLy8gY2xhc3NuYW1lIHRvIHB1dCBvbiB3cmFwcGVyXG4gICAgY2xhc3NOYW1lOiBbbnVsbCwgVHlwZS5TVFJJTkddLFxuXG4gICAgLy8gaXMgdGhlIGZpZWxkIHJlcXVpcmVkXG4gICAgcmVxdWlyZWQ6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSxcblxuICAgIC8vIEFsbG93IG1lZGlhIGNhcHR1cmUgd2hlbiB2YWx1ZSBpcyBzZXRcbiAgICBjYXB0dXJlTWV0aG9kOiBbbnVsbCwgVHlwZS5TVFJJTkddLFxuICAgIC8vIC0gXCJjYW1lcmFcIiwgXCJtaWNyb3Bob25lXCIgb3IgXCJjYW1jb3JkZXJcIixcbiAgICAvLyAtIERvZXMgbm90IHdvcmsgd2l0aCBtdWx0aXBsZSBvbiBhcHBsZSBkZXZpY2VzXG4gICAgLy8gLSBJZiBzZXQsIGFjY2VwdGVkRmlsZVR5cGVzIG11c3QgYmUgbWFkZSB0byBtYXRjaCB3aXRoIG1lZGlhIHdpbGRjYXJkIFwiaW1hZ2UvKlwiLCBcImF1ZGlvLypcIiBvciBcInZpZGVvLypcIlxuXG4gICAgLy8gc3luYyBgYWNjZXB0ZWRGaWxlVHlwZXNgIHByb3BlcnR5IHdpdGggYGFjY2VwdGAgYXR0cmlidXRlXG4gICAgYWxsb3dTeW5jQWNjZXB0QXR0cmlidXRlOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSxcblxuICAgIC8vIEZlYXR1cmUgdG9nZ2xlc1xuICAgIGFsbG93RHJvcDogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IGRyb3BwaW5nIG9mIGZpbGVzXG4gICAgYWxsb3dCcm93c2U6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyBicm93c2luZyB0aGUgZmlsZSBzeXN0ZW1cbiAgICBhbGxvd1Bhc3RlOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgcGFzdGluZyBmaWxlc1xuICAgIGFsbG93TXVsdGlwbGU6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgbXVsdGlwbGUgZmlsZXMgKGRpc2FibGVkIGJ5IGRlZmF1bHQsIGFzIG11bHRpcGxlIGF0dHJpYnV0ZSBpcyBhbHNvIHJlcXVpcmVkIG9uIGlucHV0IHRvIGFsbG93IG11bHRpcGxlKVxuICAgIGFsbG93UmVwbGFjZTogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IGRyb3BwaW5nIGEgZmlsZSBvbiBvdGhlciBmaWxlIHRvIHJlcGxhY2UgaXQgKG9ubHkgd29ya3Mgd2hlbiBtdWx0aXBsZSBpcyBzZXQgdG8gZmFsc2UpXG4gICAgYWxsb3dSZXZlcnQ6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvd3MgdXNlciB0byByZXZlcnQgZmlsZSB1cGxvYWRcbiAgICBhbGxvd1JlbW92ZTogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IHVzZXIgdG8gcmVtb3ZlIGEgZmlsZVxuICAgIGFsbG93UHJvY2VzczogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93cyB1c2VyIHRvIHByb2Nlc3MgYSBmaWxlLCB3aGVuIHNldCB0byBmYWxzZSwgdGhpcyByZW1vdmVzIHRoZSBmaWxlIHVwbG9hZCBidXR0b25cbiAgICBhbGxvd1Jlb3JkZXI6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgcmVvcmRlcmluZyBvZiBmaWxlc1xuICAgIGFsbG93RGlyZWN0b3JpZXNPbmx5OiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IG9ubHkgc2VsZWN0aW5nIGRpcmVjdG9yaWVzIHdpdGggYnJvd3NlIChubyBzdXBwb3J0IGZvciBmaWx0ZXJpbmcgZG5kIGF0IHRoaXMgcG9pbnQpXG5cbiAgICAvLyBSZXZlcnQgbW9kZVxuICAgIGZvcmNlUmV2ZXJ0OiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIFNldCB0byAnZm9yY2UnIHRvIHJlcXVpcmUgdGhlIGZpbGUgdG8gYmUgcmV2ZXJ0ZWQgYmVmb3JlIHJlbW92YWxcblxuICAgIC8vIElucHV0IHJlcXVpcmVtZW50c1xuICAgIG1heEZpbGVzOiBbbnVsbCwgVHlwZS5JTlRdLCAvLyBNYXggbnVtYmVyIG9mIGZpbGVzXG4gICAgY2hlY2tWYWxpZGl0eTogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBFbmFibGVzIGN1c3RvbSB2YWxpZGl0eSBtZXNzYWdlc1xuXG4gICAgLy8gV2hlcmUgdG8gcHV0IGZpbGVcbiAgICBpdGVtSW5zZXJ0TG9jYXRpb25GcmVlZG9tOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gU2V0IHRvIGZhbHNlIHRvIGFsd2F5cyBhZGQgaXRlbXMgdG8gYmVnaW4gb3IgZW5kIG9mIGxpc3RcbiAgICBpdGVtSW5zZXJ0TG9jYXRpb246IFsnYmVmb3JlJywgVHlwZS5TVFJJTkddLCAvLyBEZWZhdWx0IGluZGV4IGluIGxpc3QgdG8gYWRkIGl0ZW1zIHRoYXQgaGF2ZSBiZWVuIGRyb3BwZWQgYXQgdGhlIHRvcCBvZiB0aGUgbGlzdFxuICAgIGl0ZW1JbnNlcnRJbnRlcnZhbDogWzc1LCBUeXBlLklOVF0sXG5cbiAgICAvLyBEcmFnICduIERyb3AgcmVsYXRlZFxuICAgIGRyb3BPblBhZ2U6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgZHJvcHBpbmcgb2YgZmlsZXMgYW55d2hlcmUgb24gcGFnZSAocHJldmVudHMgYnJvd3NlciBmcm9tIG9wZW5pbmcgZmlsZSBpZiBkcm9wcGVkIG91dHNpZGUgb2YgVXApXG4gICAgZHJvcE9uRWxlbWVudDogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIERyb3AgbmVlZHMgdG8gaGFwcGVuIG9uIGVsZW1lbnQgKHNldCB0byBmYWxzZSB0byBhbHNvIGxvYWQgZHJvcHMgb3V0c2lkZSBvZiBVcClcbiAgICBkcm9wVmFsaWRhdGlvbjogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBFbmFibGUgb3IgZGlzYWJsZSB2YWxpZGF0aW5nIGZpbGVzIG9uIGRyb3BcbiAgICBpZ25vcmVkRmlsZXM6IFtbJy5kc19zdG9yZScsICd0aHVtYnMuZGInLCAnZGVza3RvcC5pbmknXSwgVHlwZS5BUlJBWV0sXG5cbiAgICAvLyBVcGxvYWQgcmVsYXRlZFxuICAgIGluc3RhbnRVcGxvYWQ6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBTaG91bGQgdXBsb2FkIGZpbGVzIGltbWlkaWF0ZWx5IG9uIGRyb3BcbiAgICBtYXhQYXJhbGxlbFVwbG9hZHM6IFsyLCBUeXBlLklOVF0sIC8vIE1heGltdW0gZmlsZXMgdG8gdXBsb2FkIGluIHBhcmFsbGVsXG5cbiAgICAvLyBDaHVua3NcbiAgICBjaHVua1VwbG9hZHM6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gRW5hYmxlIGNodW5rZWQgdXBsb2Fkc1xuICAgIGNodW5rRm9yY2U6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gRm9yY2UgdXNlIG9mIGNodW5rIHVwbG9hZHMgZXZlbiBmb3IgZmlsZXMgc21hbGxlciB0aGFuIGNodW5rIHNpemVcbiAgICBjaHVua1NpemU6IFs1MDAwMDAwLCBUeXBlLklOVF0sIC8vIFNpemUgb2YgY2h1bmtzICg1TUIgZGVmYXVsdClcbiAgICBjaHVua1JldHJ5RGVsYXlzOiBbWzUwMCwgMTAwMCwgMzAwMF0sIFR5cGUuQXJyYXldLCAvLyBBbW91bnQgb2YgdGltZXMgdG8gcmV0cnkgdXBsb2FkIG9mIGEgY2h1bmsgd2hlbiBpdCBmYWlsc1xuXG4gICAgLy8gVGhlIHNlcnZlciBhcGkgZW5kIHBvaW50cyB0byB1c2UgZm9yIHVwbG9hZGluZyAoc2VlIGRvY3MpXG4gICAgc2VydmVyOiBbbnVsbCwgVHlwZS5TRVJWRVJfQVBJXSxcblxuICAgIC8vIExhYmVscyBhbmQgc3RhdHVzIG1lc3NhZ2VzXG4gICAgbGFiZWxEZWNpbWFsU2VwYXJhdG9yOiBbZ2V0RGVjaW1hbFNlcGFyYXRvcigpLCBUeXBlLlNUUklOR10sIC8vIERlZmF1bHQgaXMgbG9jYWxlIHNlcGFyYXRvclxuICAgIGxhYmVsVGhvdXNhbmRzU2VwYXJhdG9yOiBbZ2V0VGhvdXNhbmRzU2VwYXJhdG9yKCksIFR5cGUuU1RSSU5HXSwgLy8gRGVmYXVsdCBpcyBsb2NhbGUgc2VwYXJhdG9yXG5cbiAgICBsYWJlbElkbGU6IFtcbiAgICAgICdEcmFnICYgRHJvcCB5b3VyIGZpbGVzIG9yIDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPkJyb3dzZTwvc3Bhbj4nLFxuICAgICAgVHlwZS5TVFJJTkdcbiAgICBdLFxuICAgIGxhYmVsSW52YWxpZEZpZWxkOiBbJ0ZpZWxkIGNvbnRhaW5zIGludmFsaWQgZmlsZXMnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6IFsnV2FpdGluZyBmb3Igc2l6ZScsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlOiBbJ1NpemUgbm90IGF2YWlsYWJsZScsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVDb3VudFNpbmd1bGFyOiBbJ2ZpbGUgaW4gbGlzdCcsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVDb3VudFBsdXJhbDogWydmaWxlcyBpbiBsaXN0JywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZUxvYWRpbmc6IFsnTG9hZGluZycsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVBZGRlZDogWydBZGRlZCcsIFR5cGUuU1RSSU5HXSwgLy8gYXNzaXN0aXZlIG9ubHlcbiAgICBsYWJlbEZpbGVMb2FkRXJyb3I6IFsnRXJyb3IgZHVyaW5nIGxvYWQnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlUmVtb3ZlZDogWydSZW1vdmVkJywgVHlwZS5TVFJJTkddLCAvLyBhc3Npc3RpdmUgb25seVxuICAgIGxhYmVsRmlsZVJlbW92ZUVycm9yOiBbJ0Vycm9yIGR1cmluZyByZW1vdmUnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogWydVcGxvYWRpbmcnLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxGaWxlUHJvY2Vzc2luZ0NvbXBsZXRlOiBbJ1VwbG9hZCBjb21wbGV0ZScsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEZpbGVQcm9jZXNzaW5nQWJvcnRlZDogWydVcGxvYWQgY2FuY2VsbGVkJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogWydFcnJvciBkdXJpbmcgdXBsb2FkJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcjogWydFcnJvciBkdXJpbmcgcmV2ZXJ0JywgVHlwZS5TVFJJTkddLFxuXG4gICAgbGFiZWxUYXBUb0NhbmNlbDogWyd0YXAgdG8gY2FuY2VsJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsVGFwVG9SZXRyeTogWyd0YXAgdG8gcmV0cnknLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxUYXBUb1VuZG86IFsndGFwIHRvIHVuZG8nLCBUeXBlLlNUUklOR10sXG5cbiAgICBsYWJlbEJ1dHRvblJlbW92ZUl0ZW06IFsnUmVtb3ZlJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogWydBYm9ydCcsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbUxvYWQ6IFsnUmV0cnknLCBUeXBlLlNUUklOR10sXG4gICAgbGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiBbJ0NhbmNlbCcsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogWydVbmRvJywgVHlwZS5TVFJJTkddLFxuICAgIGxhYmVsQnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogWydSZXRyeScsIFR5cGUuU1RSSU5HXSxcbiAgICBsYWJlbEJ1dHRvblByb2Nlc3NJdGVtOiBbJ1VwbG9hZCcsIFR5cGUuU1RSSU5HXSxcblxuICAgIC8vIG1ha2Ugc3VyZSB3aWR0aCBhbmQgaGVpZ2h0IHBsdXMgdmlld3BveCBhcmUgZXZlbiBudW1iZXJzIHNvIGljb25zIGFyZSBuaWNlbHkgY2VudGVyZWRcbiAgICBpY29uUmVtb3ZlOiBbXG4gICAgICAnPHN2ZyB3aWR0aD1cIjI2XCIgaGVpZ2h0PVwiMjZcIiB2aWV3Qm94PVwiMCAwIDI2IDI2XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTEuNTg2IDEzbC0yLjI5MyAyLjI5M2ExIDEgMCAwIDAgMS40MTQgMS40MTRMMTMgMTQuNDE0bDIuMjkzIDIuMjkzYTEgMSAwIDAgMCAxLjQxNC0xLjQxNEwxNC40MTQgMTNsMi4yOTMtMi4yOTNhMSAxIDAgMCAwLTEuNDE0LTEuNDE0TDEzIDExLjU4NmwtMi4yOTMtMi4yOTNhMSAxIDAgMCAwLTEuNDE0IDEuNDE0TDExLjU4NiAxM3pcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nLFxuICAgICAgVHlwZS5TVFJJTkdcbiAgICBdLFxuXG4gICAgaWNvblByb2Nlc3M6IFtcbiAgICAgICc8c3ZnIHdpZHRoPVwiMjZcIiBoZWlnaHQ9XCIyNlwiIHZpZXdCb3g9XCIwIDAgMjYgMjZcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xNCAxMC40MTR2My41ODVhMSAxIDAgMCAxLTIgMHYtMy41ODVsLTEuMjkzIDEuMjkzYTEgMSAwIDAgMS0xLjQxNC0xLjQxNWwzLTNhMSAxIDAgMCAxIDEuNDE0IDBsMyAzYTEgMSAwIDAgMS0xLjQxNCAxLjQxNUwxNCAxMC40MTR6TTkgMThhMSAxIDAgMCAxIDAtMmg4YTEgMSAwIDAgMSAwIDJIOXpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nLFxuICAgICAgVHlwZS5TVFJJTkdcbiAgICBdLFxuXG4gICAgaWNvblJldHJ5OiBbXG4gICAgICAnPHN2ZyB3aWR0aD1cIjI2XCIgaGVpZ2h0PVwiMjZcIiB2aWV3Qm94PVwiMCAwIDI2IDI2XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTAuODEgOS4xODVsLS4wMzguMDJBNC45OTcgNC45OTcgMCAwIDAgOCAxMy42ODNhNSA1IDAgMCAwIDUgNSA1IDUgMCAwIDAgNS01IDEgMSAwIDAgMSAyIDBBNyA3IDAgMSAxIDkuNzIyIDcuNDk2bC0uODQyLS4yMWEuOTk5Ljk5OSAwIDEgMSAuNDg0LTEuOTRsMy4yMy44MDZjLjUzNS4xMzMuODYuNjc1LjczIDEuMjFsLS44MDQgMy4yMzNhLjk5Ny45OTcgMCAwIDEtMS4yMS43My45OTcuOTk3IDAgMCAxLS43My0xLjIxbC4yMy0uOTI4di0uMDAyelwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIvPjwvc3ZnPicsXG4gICAgICBUeXBlLlNUUklOR1xuICAgIF0sXG5cbiAgICBpY29uVW5kbzogW1xuICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTkuMTg1IDEwLjgxbC4wMi0uMDM4QTQuOTk3IDQuOTk3IDAgMCAxIDEzLjY4MyA4YTUgNSAwIDAgMSA1IDUgNSA1IDAgMCAxLTUgNSAxIDEgMCAwIDAgMCAyQTcgNyAwIDEgMCA3LjQ5NiA5LjcyMmwtLjIxLS44NDJhLjk5OS45OTkgMCAxIDAtMS45NC40ODRsLjgwNiAzLjIzYy4xMzMuNTM1LjY3NS44NiAxLjIxLjczbDMuMjMzLS44MDNhLjk5Ny45OTcgMCAwIDAgLjczLTEuMjEuOTk3Ljk5NyAwIDAgMC0xLjIxLS43M2wtLjkyOC4yMy0uMDAyLS4wMDF6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+JyxcbiAgICAgIFR5cGUuU1RSSU5HXG4gICAgXSxcblxuICAgIGljb25Eb25lOiBbXG4gICAgICAnPHN2ZyB3aWR0aD1cIjI2XCIgaGVpZ2h0PVwiMjZcIiB2aWV3Qm94PVwiMCAwIDI2IDI2XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTguMjkzIDkuMjkzYTEgMSAwIDAgMSAxLjQxNCAxLjQxNGwtNy4wMDIgN2ExIDEgMCAwIDEtMS40MTQgMGwtMy45OTgtNGExIDEgMCAxIDEgMS40MTQtMS40MTRMMTIgMTUuNTg2bDYuMjk0LTYuMjkzelwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIvPjwvc3ZnPicsXG4gICAgICBUeXBlLlNUUklOR1xuICAgIF0sXG5cbiAgICAvLyBldmVudCBoYW5kbGVyc1xuICAgIG9uaW5pdDogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ud2FybmluZzogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9uZXJyb3I6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbmFjdGl2YXRlZmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9uaW5pdGZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbmFkZGZpbGVzdGFydDogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9uYWRkZmlsZXByb2dyZXNzOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25hZGRmaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25wcm9jZXNzZmlsZXN0YXJ0OiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25wcm9jZXNzZmlsZXByb2dyZXNzOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25wcm9jZXNzZmlsZWFib3J0OiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25wcm9jZXNzZmlsZXJldmVydDogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucHJvY2Vzc2ZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbnByb2Nlc3NmaWxlczogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucmVtb3ZlZmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgIG9ucHJlcGFyZWZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBvbnVwZGF0ZWZpbGVzOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgb25yZW9yZGVyZmlsZXM6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcblxuICAgIC8vIGhvb2tzXG4gICAgYmVmb3JlRHJvcEZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICBiZWZvcmVBZGRGaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgYmVmb3JlUmVtb3ZlRmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuXG4gICAgLy8gc3R5bGVzXG4gICAgc3R5bGVQYW5lbExheW91dDogW251bGwsIFR5cGUuU1RSSU5HXSwgLy8gbnVsbCAnaW50ZWdyYXRlZCcsICdjb21wYWN0JywgJ2NpcmNsZSdcbiAgICBzdHlsZVBhbmVsQXNwZWN0UmF0aW86IFtudWxsLCBUeXBlLlNUUklOR10sIC8vIG51bGwgb3IgJzM6Micgb3IgMVxuICAgIHN0eWxlSXRlbVBhbmVsQXNwZWN0UmF0aW86IFtudWxsLCBUeXBlLlNUUklOR10sXG4gICAgc3R5bGVCdXR0b25SZW1vdmVJdGVtUG9zaXRpb246IFsnbGVmdCcsIFR5cGUuU1RSSU5HXSxcbiAgICBzdHlsZUJ1dHRvblByb2Nlc3NJdGVtUG9zaXRpb246IFsncmlnaHQnLCBUeXBlLlNUUklOR10sXG4gICAgc3R5bGVMb2FkSW5kaWNhdG9yUG9zaXRpb246IFsncmlnaHQnLCBUeXBlLlNUUklOR10sXG4gICAgc3R5bGVQcm9ncmVzc0luZGljYXRvclBvc2l0aW9uOiBbJ3JpZ2h0JywgVHlwZS5TVFJJTkddLFxuICAgIHN0eWxlQnV0dG9uUmVtb3ZlSXRlbUFsaWduOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAvLyBjdXN0b20gaW5pdGlhbCBmaWxlcyBhcnJheVxuICAgIGZpbGVzOiBbW10sIFR5cGUuQVJSQVldXG4gIH07XG5cbiAgdmFyIGdldEl0ZW1CeVF1ZXJ5ID0gZnVuY3Rpb24gZ2V0SXRlbUJ5UXVlcnkoaXRlbXMsIHF1ZXJ5KSB7XG4gICAgLy8ganVzdCByZXR1cm4gZmlyc3QgaW5kZXhcbiAgICBpZiAoaXNFbXB0eShxdWVyeSkpIHtcbiAgICAgIHJldHVybiBpdGVtc1swXSB8fCBudWxsO1xuICAgIH1cblxuICAgIC8vIHF1ZXJ5IGlzIGluZGV4XG4gICAgaWYgKGlzSW50KHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIGl0ZW1zW3F1ZXJ5XSB8fCBudWxsO1xuICAgIH1cblxuICAgIC8vIGlmIHF1ZXJ5IGlzIGl0ZW0sIGdldCB0aGUgaWRcbiAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0Jykge1xuICAgICAgcXVlcnkgPSBxdWVyeS5pZDtcbiAgICB9XG5cbiAgICAvLyBhc3N1bWUgcXVlcnkgaXMgYSBzdHJpbmcgYW5kIHJldHVybiBpdGVtIGJ5IGlkXG4gICAgcmV0dXJuIChcbiAgICAgIGl0ZW1zLmZpbmQoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gcXVlcnk7XG4gICAgICB9KSB8fCBudWxsXG4gICAgKTtcbiAgfTtcblxuICB2YXIgZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyA9IGZ1bmN0aW9uIGdldE51bWVyaWNBc3BlY3RSYXRpb0Zyb21TdHJpbmcoXG4gICAgYXNwZWN0UmF0aW9cbiAgKSB7XG4gICAgaWYgKGlzRW1wdHkoYXNwZWN0UmF0aW8pKSB7XG4gICAgICByZXR1cm4gYXNwZWN0UmF0aW87XG4gICAgfVxuICAgIGlmICgvOi8udGVzdChhc3BlY3RSYXRpbykpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGFzcGVjdFJhdGlvLnNwbGl0KCc6Jyk7XG4gICAgICByZXR1cm4gcGFydHNbMV0gLyBwYXJ0c1swXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoYXNwZWN0UmF0aW8pO1xuICB9O1xuXG4gIHZhciBnZXRBY3RpdmVJdGVtcyA9IGZ1bmN0aW9uIGdldEFjdGl2ZUl0ZW1zKGl0ZW1zKSB7XG4gICAgcmV0dXJuIGl0ZW1zLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICByZXR1cm4gIWl0ZW0uYXJjaGl2ZWQ7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIFN0YXR1cyA9IHtcbiAgICBFTVBUWTogMCxcbiAgICBJRExFOiAxLCAvLyB3YWl0aW5nXG4gICAgRVJST1I6IDIsIC8vIGEgZmlsZSBpcyBpbiBlcnJvciBzdGF0ZVxuICAgIEJVU1k6IDMsIC8vIGJ1c3kgcHJvY2Vzc2luZyBvciBsb2FkaW5nXG4gICAgUkVBRFk6IDQgLy8gYWxsIGZpbGVzIHVwbG9hZGVkXG4gIH07XG5cbiAgdmFyIElURU1fRVJST1IgPSBbXG4gICAgSXRlbVN0YXR1cy5MT0FEX0VSUk9SLFxuICAgIEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19FUlJPUixcbiAgICBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUkVWRVJUX0VSUk9SXG4gIF07XG4gIHZhciBJVEVNX0JVU1kgPSBbXG4gICAgSXRlbVN0YXR1cy5MT0FESU5HLFxuICAgIEl0ZW1TdGF0dXMuUFJPQ0VTU0lORyxcbiAgICBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUVVFVUVELFxuICAgIEl0ZW1TdGF0dXMuSU5JVFxuICBdO1xuICB2YXIgSVRFTV9SRUFEWSA9IFtJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEVdO1xuXG4gIHZhciBpc0l0ZW1JbkVycm9yU3RhdGUgPSBmdW5jdGlvbiBpc0l0ZW1JbkVycm9yU3RhdGUoaXRlbSkge1xuICAgIHJldHVybiBJVEVNX0VSUk9SLmluY2x1ZGVzKGl0ZW0uc3RhdHVzKTtcbiAgfTtcbiAgdmFyIGlzSXRlbUluQnVzeVN0YXRlID0gZnVuY3Rpb24gaXNJdGVtSW5CdXN5U3RhdGUoaXRlbSkge1xuICAgIHJldHVybiBJVEVNX0JVU1kuaW5jbHVkZXMoaXRlbS5zdGF0dXMpO1xuICB9O1xuICB2YXIgaXNJdGVtSW5SZWFkeVN0YXRlID0gZnVuY3Rpb24gaXNJdGVtSW5SZWFkeVN0YXRlKGl0ZW0pIHtcbiAgICByZXR1cm4gSVRFTV9SRUFEWS5pbmNsdWRlcyhpdGVtLnN0YXR1cyk7XG4gIH07XG5cbiAgdmFyIHF1ZXJpZXMgPSBmdW5jdGlvbiBxdWVyaWVzKHN0YXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIEdFVF9TVEFUVVM6IGZ1bmN0aW9uIEdFVF9TVEFUVVMoKSB7XG4gICAgICAgIHZhciBpdGVtcyA9IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKTtcbiAgICAgICAgdmFyIEVNUFRZID0gU3RhdHVzLkVNUFRZLFxuICAgICAgICAgIEVSUk9SID0gU3RhdHVzLkVSUk9SLFxuICAgICAgICAgIEJVU1kgPSBTdGF0dXMuQlVTWSxcbiAgICAgICAgICBJRExFID0gU3RhdHVzLklETEUsXG4gICAgICAgICAgUkVBRFkgPSBTdGF0dXMuUkVBRFk7XG5cbiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkgcmV0dXJuIEVNUFRZO1xuXG4gICAgICAgIGlmIChpdGVtcy5zb21lKGlzSXRlbUluRXJyb3JTdGF0ZSkpIHJldHVybiBFUlJPUjtcblxuICAgICAgICBpZiAoaXRlbXMuc29tZShpc0l0ZW1JbkJ1c3lTdGF0ZSkpIHJldHVybiBCVVNZO1xuXG4gICAgICAgIGlmIChpdGVtcy5zb21lKGlzSXRlbUluUmVhZHlTdGF0ZSkpIHJldHVybiBSRUFEWTtcblxuICAgICAgICByZXR1cm4gSURMRTtcbiAgICAgIH0sXG5cbiAgICAgIEdFVF9JVEVNOiBmdW5jdGlvbiBHRVRfSVRFTShxdWVyeSkge1xuICAgICAgICByZXR1cm4gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KTtcbiAgICAgIH0sXG5cbiAgICAgIEdFVF9BQ1RJVkVfSVRFTTogZnVuY3Rpb24gR0VUX0FDVElWRV9JVEVNKHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBnZXRJdGVtQnlRdWVyeShnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcyksIHF1ZXJ5KTtcbiAgICAgIH0sXG5cbiAgICAgIEdFVF9BQ1RJVkVfSVRFTVM6IGZ1bmN0aW9uIEdFVF9BQ1RJVkVfSVRFTVMoKSB7XG4gICAgICAgIHJldHVybiBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcyk7XG4gICAgICB9LFxuXG4gICAgICBHRVRfSVRFTVM6IGZ1bmN0aW9uIEdFVF9JVEVNUygpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLml0ZW1zO1xuICAgICAgfSxcblxuICAgICAgR0VUX0lURU1fTkFNRTogZnVuY3Rpb24gR0VUX0lURU1fTkFNRShxdWVyeSkge1xuICAgICAgICB2YXIgaXRlbSA9IGdldEl0ZW1CeVF1ZXJ5KHN0YXRlLml0ZW1zLCBxdWVyeSk7XG4gICAgICAgIHJldHVybiBpdGVtID8gaXRlbS5maWxlbmFtZSA6IG51bGw7XG4gICAgICB9LFxuXG4gICAgICBHRVRfSVRFTV9TSVpFOiBmdW5jdGlvbiBHRVRfSVRFTV9TSVpFKHF1ZXJ5KSB7XG4gICAgICAgIHZhciBpdGVtID0gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KTtcbiAgICAgICAgcmV0dXJuIGl0ZW0gPyBpdGVtLmZpbGVTaXplIDogbnVsbDtcbiAgICAgIH0sXG5cbiAgICAgIEdFVF9TVFlMRVM6IGZ1bmN0aW9uIEdFVF9TVFlMRVMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhzdGF0ZS5vcHRpb25zKVxuICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gL15zdHlsZS8udGVzdChrZXkpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm1hcChmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIG5hbWU6IG9wdGlvbixcbiAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlLm9wdGlvbnNbb3B0aW9uXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIEdFVF9QQU5FTF9BU1BFQ1RfUkFUSU86IGZ1bmN0aW9uIEdFVF9QQU5FTF9BU1BFQ1RfUkFUSU8oKSB7XG4gICAgICAgIHZhciBpc1NoYXBlQ2lyY2xlID0gL2NpcmNsZS8udGVzdChzdGF0ZS5vcHRpb25zLnN0eWxlUGFuZWxMYXlvdXQpO1xuICAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSBpc1NoYXBlQ2lyY2xlXG4gICAgICAgICAgPyAxXG4gICAgICAgICAgOiBnZXROdW1lcmljQXNwZWN0UmF0aW9Gcm9tU3RyaW5nKFxuICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnN0eWxlUGFuZWxBc3BlY3RSYXRpb1xuICAgICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGFzcGVjdFJhdGlvO1xuICAgICAgfSxcblxuICAgICAgR0VUX0lURU1fUEFORUxfQVNQRUNUX1JBVElPOiBmdW5jdGlvbiBHRVRfSVRFTV9QQU5FTF9BU1BFQ1RfUkFUSU8oKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5vcHRpb25zLnN0eWxlSXRlbVBhbmVsQXNwZWN0UmF0aW87XG4gICAgICB9LFxuXG4gICAgICBHRVRfSVRFTVNfQllfU1RBVFVTOiBmdW5jdGlvbiBHRVRfSVRFTVNfQllfU1RBVFVTKHN0YXR1cykge1xuICAgICAgICByZXR1cm4gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0uc3RhdHVzID09PSBzdGF0dXM7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgR0VUX1RPVEFMX0lURU1TOiBmdW5jdGlvbiBHRVRfVE9UQUxfSVRFTVMoKSB7XG4gICAgICAgIHJldHVybiBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcykubGVuZ3RoO1xuICAgICAgfSxcblxuICAgICAgSVNfQVNZTkM6IGZ1bmN0aW9uIElTX0FTWU5DKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGlzT2JqZWN0KHN0YXRlLm9wdGlvbnMuc2VydmVyKSAmJlxuICAgICAgICAgIChpc09iamVjdChzdGF0ZS5vcHRpb25zLnNlcnZlci5wcm9jZXNzKSB8fFxuICAgICAgICAgICAgaXNGdW5jdGlvbihzdGF0ZS5vcHRpb25zLnNlcnZlci5wcm9jZXNzKSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIHZhciBoYXNSb29tRm9ySXRlbSA9IGZ1bmN0aW9uIGhhc1Jvb21Gb3JJdGVtKHN0YXRlKSB7XG4gICAgdmFyIGNvdW50ID0gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpLmxlbmd0aDtcblxuICAgIC8vIGlmIGNhbm5vdCBoYXZlIG11bHRpcGxlIGl0ZW1zLCB0byBhZGQgb25lIGl0ZW0gaXQgc2hvdWxkIGN1cnJlbnRseSBub3QgY29udGFpbiBpdGVtc1xuICAgIGlmICghc3RhdGUub3B0aW9ucy5hbGxvd011bHRpcGxlKSB7XG4gICAgICByZXR1cm4gY291bnQgPT09IDA7XG4gICAgfVxuXG4gICAgLy8gaWYgYWxsb3dzIG11bHRpcGxlIGl0ZW1zLCB3ZSBjaGVjayBpZiBhIG1heCBpdGVtIGNvdW50IGhhcyBiZWVuIHNldCwgaWYgbm90LCB0aGVyZSdzIG5vIGxpbWl0XG4gICAgdmFyIG1heEZpbGVDb3VudCA9IHN0YXRlLm9wdGlvbnMubWF4RmlsZXM7XG4gICAgaWYgKG1heEZpbGVDb3VudCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gd2UgY2hlY2sgaWYgdGhlIGN1cnJlbnQgY291bnQgaXMgc21hbGxlciB0aGFuIHRoZSBtYXggY291bnQsIGlmIHNvLCBhbm90aGVyIGZpbGUgY2FuIHN0aWxsIGJlIGFkZGVkXG4gICAgaWYgKGNvdW50IDwgbWF4RmlsZUNvdW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBubyBtb3JlIHJvb20gZm9yIGFub3RoZXIgZmlsZVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB2YXIgbGltaXQgPSBmdW5jdGlvbiBsaW1pdCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4obWF4LCB2YWx1ZSksIG1pbik7XG4gIH07XG5cbiAgdmFyIGFycmF5SW5zZXJ0ID0gZnVuY3Rpb24gYXJyYXlJbnNlcnQoYXJyLCBpbmRleCwgaXRlbSkge1xuICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAwLCBpdGVtKTtcbiAgfTtcblxuICB2YXIgaW5zZXJ0SXRlbSA9IGZ1bmN0aW9uIGluc2VydEl0ZW0oaXRlbXMsIGl0ZW0sIGluZGV4KSB7XG4gICAgaWYgKGlzRW1wdHkoaXRlbSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIGlmIGluZGV4IGlzIHVuZGVmaW5lZCwgYXBwZW5kXG4gICAgaWYgKHR5cGVvZiBpbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG5cbiAgICAvLyBsaW1pdCB0aGUgaW5kZXggdG8gdGhlIHNpemUgb2YgdGhlIGl0ZW1zIGFycmF5XG4gICAgaW5kZXggPSBsaW1pdChpbmRleCwgMCwgaXRlbXMubGVuZ3RoKTtcblxuICAgIC8vIGFkZCBpdGVtIHRvIGFycmF5XG4gICAgYXJyYXlJbnNlcnQoaXRlbXMsIGluZGV4LCBpdGVtKTtcblxuICAgIC8vIGV4cG9zZVxuICAgIHJldHVybiBpdGVtO1xuICB9O1xuXG4gIHZhciBpc0Jhc2U2NERhdGFVUkkgPSBmdW5jdGlvbiBpc0Jhc2U2NERhdGFVUkkoc3RyKSB7XG4gICAgcmV0dXJuIC9eXFxzKmRhdGE6KFthLXpdK1xcL1thLXowLTktKy5dKyg7W2Etei1dKz1bYS16MC05LV0rKT8pPyg7YmFzZTY0KT8sKFthLXowLTkhJCYnLCgpKis7PVxcLS5ffjpAXFwvPyVcXHNdKilcXHMqJC9pLnRlc3QoXG4gICAgICBzdHJcbiAgICApO1xuICB9O1xuXG4gIHZhciBnZXRGaWxlbmFtZUZyb21VUkwgPSBmdW5jdGlvbiBnZXRGaWxlbmFtZUZyb21VUkwodXJsKSB7XG4gICAgcmV0dXJuIHVybFxuICAgICAgLnNwbGl0KCcvJylcbiAgICAgIC5wb3AoKVxuICAgICAgLnNwbGl0KCc/JylcbiAgICAgIC5zaGlmdCgpO1xuICB9O1xuXG4gIHZhciBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUgPSBmdW5jdGlvbiBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUobmFtZSkge1xuICAgIHJldHVybiBuYW1lLnNwbGl0KCcuJykucG9wKCk7XG4gIH07XG5cbiAgdmFyIGd1ZXNzdGltYXRlRXh0ZW5zaW9uID0gZnVuY3Rpb24gZ3Vlc3N0aW1hdGVFeHRlbnNpb24odHlwZSkge1xuICAgIC8vIGlmIG5vIGV4dGVuc2lvbiBzdXBwbGllZCwgZXhpdCBoZXJlXG4gICAgaWYgKHR5cGVvZiB0eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8vIGdldCBzdWJ0eXBlXG4gICAgdmFyIHN1YnR5cGUgPSB0eXBlLnNwbGl0KCcvJykucG9wKCk7XG5cbiAgICAvLyBpcyBzdmcgc3VidHlwZVxuICAgIGlmICgvc3ZnLy50ZXN0KHN1YnR5cGUpKSB7XG4gICAgICByZXR1cm4gJ3N2Zyc7XG4gICAgfVxuXG4gICAgaWYgKC96aXB8Y29tcHJlc3NlZC8udGVzdChzdWJ0eXBlKSkge1xuICAgICAgcmV0dXJuICd6aXAnO1xuICAgIH1cblxuICAgIGlmICgvcGxhaW4vLnRlc3Qoc3VidHlwZSkpIHtcbiAgICAgIHJldHVybiAndHh0JztcbiAgICB9XG5cbiAgICBpZiAoL21zd29yZC8udGVzdChzdWJ0eXBlKSkge1xuICAgICAgcmV0dXJuICdkb2MnO1xuICAgIH1cblxuICAgIC8vIGlmIGlzIHZhbGlkIHN1YnR5cGVcbiAgICBpZiAoL1thLXpdKy8udGVzdChzdWJ0eXBlKSkge1xuICAgICAgLy8gYWx3YXlzIHVzZSBqcGcgZXh0ZW5zaW9uXG4gICAgICBpZiAoc3VidHlwZSA9PT0gJ2pwZWcnKSB7XG4gICAgICAgIHJldHVybiAnanBnJztcbiAgICAgIH1cblxuICAgICAgLy8gcmV0dXJuIHN1YnR5cGVcbiAgICAgIHJldHVybiBzdWJ0eXBlO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfTtcblxuICB2YXIgbGVmdFBhZCA9IGZ1bmN0aW9uIGxlZnRQYWQodmFsdWUpIHtcbiAgICB2YXIgcGFkZGluZyA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuICAgIHJldHVybiAocGFkZGluZyArIHZhbHVlKS5zbGljZSgtcGFkZGluZy5sZW5ndGgpO1xuICB9O1xuXG4gIHZhciBnZXREYXRlU3RyaW5nID0gZnVuY3Rpb24gZ2V0RGF0ZVN0cmluZygpIHtcbiAgICB2YXIgZGF0ZSA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IGFyZ3VtZW50c1swXVxuICAgICAgICA6IG5ldyBEYXRlKCk7XG4gICAgcmV0dXJuIChcbiAgICAgIGRhdGUuZ2V0RnVsbFllYXIoKSArXG4gICAgICAnLScgK1xuICAgICAgbGVmdFBhZChkYXRlLmdldE1vbnRoKCkgKyAxLCAnMDAnKSArXG4gICAgICAnLScgK1xuICAgICAgbGVmdFBhZChkYXRlLmdldERhdGUoKSwgJzAwJykgK1xuICAgICAgJ18nICtcbiAgICAgIGxlZnRQYWQoZGF0ZS5nZXRIb3VycygpLCAnMDAnKSArXG4gICAgICAnLScgK1xuICAgICAgbGVmdFBhZChkYXRlLmdldE1pbnV0ZXMoKSwgJzAwJykgK1xuICAgICAgJy0nICtcbiAgICAgIGxlZnRQYWQoZGF0ZS5nZXRTZWNvbmRzKCksICcwMCcpXG4gICAgKTtcbiAgfTtcblxuICB2YXIgZ2V0RmlsZUZyb21CbG9iID0gZnVuY3Rpb24gZ2V0RmlsZUZyb21CbG9iKGJsb2IsIGZpbGVuYW1lKSB7XG4gICAgdmFyIHR5cGUgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuICAgIHZhciBleHRlbnNpb24gPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBudWxsO1xuICAgIHZhciBmaWxlID1cbiAgICAgIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGJsb2Iuc2xpY2UoMCwgYmxvYi5zaXplLCB0eXBlKVxuICAgICAgICA6IGJsb2Iuc2xpY2UoMCwgYmxvYi5zaXplLCBibG9iLnR5cGUpO1xuICAgIGZpbGUubGFzdE1vZGlmaWVkRGF0ZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAvLyBjb3B5IHJlbGF0aXZlIHBhdGhcbiAgICBpZiAoYmxvYi5fcmVsYXRpdmVQYXRoKSBmaWxlLl9yZWxhdGl2ZVBhdGggPSBibG9iLl9yZWxhdGl2ZVBhdGg7XG5cbiAgICAvLyBpZiBibG9iIGhhcyBuYW1lIHByb3BlcnR5LCB1c2UgYXMgZmlsZW5hbWUgaWYgbm8gZmlsZW5hbWUgc3VwcGxpZWRcbiAgICBpZiAoIWlzU3RyaW5nKGZpbGVuYW1lKSkge1xuICAgICAgZmlsZW5hbWUgPSBnZXREYXRlU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gaWYgZmlsZW5hbWUgc3VwcGxpZWQgYnV0IG5vIGV4dGVuc2lvbiBhbmQgZmlsZW5hbWUgaGFzIGV4dGVuc2lvblxuICAgIGlmIChmaWxlbmFtZSAmJiBleHRlbnNpb24gPT09IG51bGwgJiYgZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lKGZpbGVuYW1lKSkge1xuICAgICAgZmlsZS5uYW1lID0gZmlsZW5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dGVuc2lvbiB8fCBndWVzc3RpbWF0ZUV4dGVuc2lvbihmaWxlLnR5cGUpO1xuICAgICAgZmlsZS5uYW1lID0gZmlsZW5hbWUgKyAoZXh0ZW5zaW9uID8gJy4nICsgZXh0ZW5zaW9uIDogJycpO1xuICAgIH1cblxuICAgIHJldHVybiBmaWxlO1xuICB9O1xuXG4gIHZhciBnZXRCbG9iQnVpbGRlciA9IGZ1bmN0aW9uIGdldEJsb2JCdWlsZGVyKCkge1xuICAgIHJldHVybiAod2luZG93LkJsb2JCdWlsZGVyID1cbiAgICAgIHdpbmRvdy5CbG9iQnVpbGRlciB8fFxuICAgICAgd2luZG93LldlYktpdEJsb2JCdWlsZGVyIHx8XG4gICAgICB3aW5kb3cuTW96QmxvYkJ1aWxkZXIgfHxcbiAgICAgIHdpbmRvdy5NU0Jsb2JCdWlsZGVyKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlQmxvYiA9IGZ1bmN0aW9uIGNyZWF0ZUJsb2IoYXJyYXlCdWZmZXIsIG1pbWVUeXBlKSB7XG4gICAgdmFyIEJCID0gZ2V0QmxvYkJ1aWxkZXIoKTtcblxuICAgIGlmIChCQikge1xuICAgICAgdmFyIGJiID0gbmV3IEJCKCk7XG4gICAgICBiYi5hcHBlbmQoYXJyYXlCdWZmZXIpO1xuICAgICAgcmV0dXJuIGJiLmdldEJsb2IobWltZVR5cGUpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQmxvYihbYXJyYXlCdWZmZXJdLCB7XG4gICAgICB0eXBlOiBtaW1lVHlwZVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnZXRCbG9iRnJvbUJ5dGVTdHJpbmdXaXRoTWltZVR5cGUgPSBmdW5jdGlvbiBnZXRCbG9iRnJvbUJ5dGVTdHJpbmdXaXRoTWltZVR5cGUoXG4gICAgYnl0ZVN0cmluZyxcbiAgICBtaW1lVHlwZVxuICApIHtcbiAgICB2YXIgYWIgPSBuZXcgQXJyYXlCdWZmZXIoYnl0ZVN0cmluZy5sZW5ndGgpO1xuICAgIHZhciBpYSA9IG5ldyBVaW50OEFycmF5KGFiKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZVN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgaWFbaV0gPSBieXRlU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUJsb2IoYWIsIG1pbWVUeXBlKTtcbiAgfTtcblxuICB2YXIgZ2V0TWltZVR5cGVGcm9tQmFzZTY0RGF0YVVSSSA9IGZ1bmN0aW9uIGdldE1pbWVUeXBlRnJvbUJhc2U2NERhdGFVUkkoXG4gICAgZGF0YVVSSVxuICApIHtcbiAgICByZXR1cm4gKC9eZGF0YTooLispOy8uZXhlYyhkYXRhVVJJKSB8fCBbXSlbMV0gfHwgbnVsbDtcbiAgfTtcblxuICB2YXIgZ2V0QmFzZTY0RGF0YUZyb21CYXNlNjREYXRhVVJJID0gZnVuY3Rpb24gZ2V0QmFzZTY0RGF0YUZyb21CYXNlNjREYXRhVVJJKFxuICAgIGRhdGFVUklcbiAgKSB7XG4gICAgLy8gZ2V0IGRhdGEgcGFydCBvZiBzdHJpbmcgKHJlbW92ZSBkYXRhOmltYWdlL2pwZWcuLi4sKVxuICAgIHZhciBkYXRhID0gZGF0YVVSSS5zcGxpdCgnLCcpWzFdO1xuXG4gICAgLy8gcmVtb3ZlIGFueSB3aGl0ZXNwYWNlIGFzIHRoYXQgY2F1c2VzIEludmFsaWRDaGFyYWN0ZXJFcnJvciBpbiBJRVxuICAgIHJldHVybiBkYXRhLnJlcGxhY2UoL1xccy9nLCAnJyk7XG4gIH07XG5cbiAgdmFyIGdldEJ5dGVTdHJpbmdGcm9tQmFzZTY0RGF0YVVSSSA9IGZ1bmN0aW9uIGdldEJ5dGVTdHJpbmdGcm9tQmFzZTY0RGF0YVVSSShcbiAgICBkYXRhVVJJXG4gICkge1xuICAgIHJldHVybiBhdG9iKGdldEJhc2U2NERhdGFGcm9tQmFzZTY0RGF0YVVSSShkYXRhVVJJKSk7XG4gIH07XG5cbiAgdmFyIGdldEJsb2JGcm9tQmFzZTY0RGF0YVVSSSA9IGZ1bmN0aW9uIGdldEJsb2JGcm9tQmFzZTY0RGF0YVVSSShkYXRhVVJJKSB7XG4gICAgdmFyIG1pbWVUeXBlID0gZ2V0TWltZVR5cGVGcm9tQmFzZTY0RGF0YVVSSShkYXRhVVJJKTtcbiAgICB2YXIgYnl0ZVN0cmluZyA9IGdldEJ5dGVTdHJpbmdGcm9tQmFzZTY0RGF0YVVSSShkYXRhVVJJKTtcblxuICAgIHJldHVybiBnZXRCbG9iRnJvbUJ5dGVTdHJpbmdXaXRoTWltZVR5cGUoYnl0ZVN0cmluZywgbWltZVR5cGUpO1xuICB9O1xuXG4gIHZhciBnZXRGaWxlRnJvbUJhc2U2NERhdGFVUkkgPSBmdW5jdGlvbiBnZXRGaWxlRnJvbUJhc2U2NERhdGFVUkkoXG4gICAgZGF0YVVSSSxcbiAgICBmaWxlbmFtZSxcbiAgICBleHRlbnNpb25cbiAgKSB7XG4gICAgcmV0dXJuIGdldEZpbGVGcm9tQmxvYihcbiAgICAgIGdldEJsb2JGcm9tQmFzZTY0RGF0YVVSSShkYXRhVVJJKSxcbiAgICAgIGZpbGVuYW1lLFxuICAgICAgbnVsbCxcbiAgICAgIGV4dGVuc2lvblxuICAgICk7XG4gIH07XG5cbiAgdmFyIGdldEZpbGVOYW1lRnJvbUhlYWRlciA9IGZ1bmN0aW9uIGdldEZpbGVOYW1lRnJvbUhlYWRlcihoZWFkZXIpIHtcbiAgICAvLyB0ZXN0IGlmIGlzIGNvbnRlbnQgZGlzcG9zaXRpb24gaGVhZGVyLCBpZiBub3QgZXhpdFxuICAgIGlmICghL15jb250ZW50LWRpc3Bvc2l0aW9uOi9pLnRlc3QoaGVhZGVyKSkgcmV0dXJuIG51bGw7XG5cbiAgICAvLyBnZXQgZmlsZW5hbWUgcGFydHNcbiAgICB2YXIgbWF0Y2hlcyA9IGhlYWRlclxuICAgICAgLnNwbGl0KC9maWxlbmFtZT18ZmlsZW5hbWVcXCo9LisnJy8pXG4gICAgICAuc3BsaWNlKDEpXG4gICAgICAubWFwKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5hbWUudHJpbSgpLnJlcGxhY2UoL15bXCInXXxbO1wiJ117MCwyfSQvZywgJycpO1xuICAgICAgfSlcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24obmFtZSkge1xuICAgICAgICByZXR1cm4gbmFtZS5sZW5ndGg7XG4gICAgICB9KTtcblxuICAgIHJldHVybiBtYXRjaGVzLmxlbmd0aCA/IGRlY29kZVVSSShtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0pIDogbnVsbDtcbiAgfTtcblxuICB2YXIgZ2V0RmlsZVNpemVGcm9tSGVhZGVyID0gZnVuY3Rpb24gZ2V0RmlsZVNpemVGcm9tSGVhZGVyKGhlYWRlcikge1xuICAgIGlmICgvY29udGVudC1sZW5ndGg6L2kudGVzdChoZWFkZXIpKSB7XG4gICAgICB2YXIgc2l6ZSA9IGhlYWRlci5tYXRjaCgvWzAtOV0rLylbMF07XG4gICAgICByZXR1cm4gc2l6ZSA/IHBhcnNlSW50KHNpemUsIDEwKSA6IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBnZXRUcmFuZnNlcklkRnJvbUhlYWRlciA9IGZ1bmN0aW9uIGdldFRyYW5mc2VySWRGcm9tSGVhZGVyKGhlYWRlcikge1xuICAgIGlmICgveC1jb250ZW50LXRyYW5zZmVyLWlkOi9pLnRlc3QoaGVhZGVyKSkge1xuICAgICAgdmFyIGlkID0gKGhlYWRlci5zcGxpdCgnOicpWzFdIHx8ICcnKS50cmltKCk7XG4gICAgICByZXR1cm4gaWQgfHwgbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGdldEZpbGVJbmZvRnJvbUhlYWRlcnMgPSBmdW5jdGlvbiBnZXRGaWxlSW5mb0Zyb21IZWFkZXJzKGhlYWRlcnMpIHtcbiAgICB2YXIgaW5mbyA9IHtcbiAgICAgIHNvdXJjZTogbnVsbCxcbiAgICAgIG5hbWU6IG51bGwsXG4gICAgICBzaXplOiBudWxsXG4gICAgfTtcblxuICAgIHZhciByb3dzID0gaGVhZGVycy5zcGxpdCgnXFxuJyk7XG4gICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcbiAgICB0cnkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIF9pdGVyYXRvciA9IHJvd3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDtcbiAgICAgICAgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7XG4gICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlXG4gICAgICApIHtcbiAgICAgICAgdmFyIGhlYWRlciA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgIHZhciBuYW1lID0gZ2V0RmlsZU5hbWVGcm9tSGVhZGVyKGhlYWRlcik7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgaW5mby5uYW1lID0gbmFtZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaXplID0gZ2V0RmlsZVNpemVGcm9tSGVhZGVyKGhlYWRlcik7XG4gICAgICAgIGlmIChzaXplKSB7XG4gICAgICAgICAgaW5mby5zaXplID0gc2l6ZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzb3VyY2UgPSBnZXRUcmFuZnNlcklkRnJvbUhlYWRlcihoZWFkZXIpO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgaW5mby5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbmZvO1xuICB9O1xuXG4gIHZhciBjcmVhdGVGaWxlTG9hZGVyID0gZnVuY3Rpb24gY3JlYXRlRmlsZUxvYWRlcihmZXRjaEZuKSB7XG4gICAgdmFyIHN0YXRlID0ge1xuICAgICAgc291cmNlOiBudWxsLFxuICAgICAgY29tcGxldGU6IGZhbHNlLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICBzaXplOiBudWxsLFxuICAgICAgdGltZXN0YW1wOiBudWxsLFxuICAgICAgZHVyYXRpb246IDAsXG4gICAgICByZXF1ZXN0OiBudWxsXG4gICAgfTtcblxuICAgIHZhciBnZXRQcm9ncmVzcyA9IGZ1bmN0aW9uIGdldFByb2dyZXNzKCkge1xuICAgICAgcmV0dXJuIHN0YXRlLnByb2dyZXNzO1xuICAgIH07XG4gICAgdmFyIGFib3J0ID0gZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICBpZiAoc3RhdGUucmVxdWVzdCAmJiBzdGF0ZS5yZXF1ZXN0LmFib3J0KSB7XG4gICAgICAgIHN0YXRlLnJlcXVlc3QuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gbG9hZCBzb3VyY2VcbiAgICB2YXIgbG9hZCA9IGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgICAvLyBnZXQgcXVpY2sgcmVmZXJlbmNlXG4gICAgICB2YXIgc291cmNlID0gc3RhdGUuc291cmNlO1xuXG4gICAgICBhcGkuZmlyZSgnaW5pdCcsIHNvdXJjZSk7XG5cbiAgICAgIC8vIExvYWQgRmlsZXNcbiAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBGaWxlKSB7XG4gICAgICAgIGFwaS5maXJlKCdsb2FkJywgc291cmNlKTtcbiAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAvLyBMb2FkIGJsb2JzLCBzZXQgZGVmYXVsdCBuYW1lIHRvIGN1cnJlbnQgZGF0ZVxuICAgICAgICBhcGkuZmlyZSgnbG9hZCcsIGdldEZpbGVGcm9tQmxvYihzb3VyY2UsIHNvdXJjZS5uYW1lKSk7XG4gICAgICB9IGVsc2UgaWYgKGlzQmFzZTY0RGF0YVVSSShzb3VyY2UpKSB7XG4gICAgICAgIC8vIExvYWQgYmFzZSA2NCwgc2V0IGRlZmF1bHQgbmFtZSB0byBjdXJyZW50IGRhdGVcbiAgICAgICAgYXBpLmZpcmUoJ2xvYWQnLCBnZXRGaWxlRnJvbUJhc2U2NERhdGFVUkkoc291cmNlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBEZWFsIGFzIGlmIGlzIGV4dGVybmFsIFVSTCwgbGV0J3MgbG9hZCBpdCFcbiAgICAgICAgbG9hZFVSTChzb3VyY2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBsb2FkcyBhIHVybFxuICAgIHZhciBsb2FkVVJMID0gZnVuY3Rpb24gbG9hZFVSTCh1cmwpIHtcbiAgICAgIC8vIGlzIHJlbW90ZSB1cmwgYW5kIG5vIGZldGNoIG1ldGhvZCBzdXBwbGllZFxuICAgICAgaWYgKCFmZXRjaEZuKSB7XG4gICAgICAgIGFwaS5maXJlKCdlcnJvcicsIHtcbiAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgIGJvZHk6IFwiQ2FuJ3QgbG9hZCBVUkxcIixcbiAgICAgICAgICBjb2RlOiA0MDBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgcmVxdWVzdCBzdGFydFxuICAgICAgc3RhdGUudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcblxuICAgICAgLy8gbG9hZCBmaWxlXG4gICAgICBzdGF0ZS5yZXF1ZXN0ID0gZmV0Y2hGbihcbiAgICAgICAgdXJsLFxuICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIC8vIHVwZGF0ZSBkdXJhdGlvblxuICAgICAgICAgIHN0YXRlLmR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXRlLnRpbWVzdGFtcDtcblxuICAgICAgICAgIC8vIGRvbmUhXG4gICAgICAgICAgc3RhdGUuY29tcGxldGUgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gdHVybiBibG9iIHJlc3BvbnNlIGludG8gYSBmaWxlXG4gICAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSBnZXRGaWxlRnJvbUJsb2IoXG4gICAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgICByZXNwb25zZS5uYW1lIHx8IGdldEZpbGVuYW1lRnJvbVVSTCh1cmwpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFwaS5maXJlKFxuICAgICAgICAgICAgJ2xvYWQnLFxuICAgICAgICAgICAgLy8gaWYgaGFzIHJlY2VpdmVkIGJsb2IsIHdlIGdvIHdpdGggYmxvYiwgaWYgbm8gcmVzcG9uc2UsIHdlIHJldHVybiBudWxsXG4gICAgICAgICAgICByZXNwb25zZSBpbnN0YW5jZW9mIEJsb2JcbiAgICAgICAgICAgICAgPyByZXNwb25zZVxuICAgICAgICAgICAgICA6IHJlc3BvbnNlXG4gICAgICAgICAgICAgID8gcmVzcG9uc2UuYm9keVxuICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIGFwaS5maXJlKFxuICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgIHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgY29kZTogMCxcbiAgICAgICAgICAgICAgICAgIGJvZHk6IGVycm9yXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IGVycm9yXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oY29tcHV0YWJsZSwgY3VycmVudCwgdG90YWwpIHtcbiAgICAgICAgICAvLyBjb2xsZWN0ZWQgc29tZSBtZXRhIGRhdGEgYWxyZWFkeVxuICAgICAgICAgIGlmICh0b3RhbCkge1xuICAgICAgICAgICAgc3RhdGUuc2l6ZSA9IHRvdGFsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHVwZGF0ZSBkdXJhdGlvblxuICAgICAgICAgIHN0YXRlLmR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXRlLnRpbWVzdGFtcDtcblxuICAgICAgICAgIC8vIGlmIHdlIGNhbid0IGNvbXB1dGUgcHJvZ3Jlc3MsIHdlJ3JlIG5vdCBnb2luZyB0byBmaXJlIHByb2dyZXNzIGV2ZW50c1xuICAgICAgICAgIGlmICghY29tcHV0YWJsZSkge1xuICAgICAgICAgICAgc3RhdGUucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHVwZGF0ZSBwcm9ncmVzcyBwZXJjZW50YWdlXG4gICAgICAgICAgc3RhdGUucHJvZ3Jlc3MgPSBjdXJyZW50IC8gdG90YWw7XG5cbiAgICAgICAgICAvLyBleHBvc2VcbiAgICAgICAgICBhcGkuZmlyZSgncHJvZ3Jlc3MnLCBzdGF0ZS5wcm9ncmVzcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGFwaS5maXJlKCdhYm9ydCcpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIHZhciBmaWxlaW5mbyA9IGdldEZpbGVJbmZvRnJvbUhlYWRlcnMoXG4gICAgICAgICAgICB0eXBlb2YgcmVzcG9uc2UgPT09ICdzdHJpbmcnID8gcmVzcG9uc2UgOiByZXNwb25zZS5oZWFkZXJzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhcGkuZmlyZSgnbWV0YScsIHtcbiAgICAgICAgICAgIHNpemU6IHN0YXRlLnNpemUgfHwgZmlsZWluZm8uc2l6ZSxcbiAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlaW5mby5uYW1lLFxuICAgICAgICAgICAgc291cmNlOiBmaWxlaW5mby5zb3VyY2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIGFwaSA9IE9iamVjdC5hc3NpZ24oe30sIG9uKCksIHtcbiAgICAgIHNldFNvdXJjZTogZnVuY3Rpb24gc2V0U291cmNlKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gKHN0YXRlLnNvdXJjZSA9IHNvdXJjZSk7XG4gICAgICB9LFxuICAgICAgZ2V0UHJvZ3Jlc3M6IGdldFByb2dyZXNzLCAvLyBmaWxlIGxvYWQgcHJvZ3Jlc3NcbiAgICAgIGFib3J0OiBhYm9ydCwgLy8gYWJvcnQgZmlsZSBsb2FkXG4gICAgICBsb2FkOiBsb2FkIC8vIHN0YXJ0IGxvYWRcbiAgICB9KTtcblxuICAgIHJldHVybiBhcGk7XG4gIH07XG5cbiAgdmFyIGlzR2V0ID0gZnVuY3Rpb24gaXNHZXQobWV0aG9kKSB7XG4gICAgcmV0dXJuIC9HRVR8SEVBRC8udGVzdChtZXRob2QpO1xuICB9O1xuXG4gIHZhciBzZW5kUmVxdWVzdCA9IGZ1bmN0aW9uIHNlbmRSZXF1ZXN0KGRhdGEsIHVybCwgb3B0aW9ucykge1xuICAgIHZhciBhcGkgPSB7XG4gICAgICBvbmhlYWRlcnM6IGZ1bmN0aW9uIG9uaGVhZGVycygpIHt9LFxuICAgICAgb25wcm9ncmVzczogZnVuY3Rpb24gb25wcm9ncmVzcygpIHt9LFxuICAgICAgb25sb2FkOiBmdW5jdGlvbiBvbmxvYWQoKSB7fSxcbiAgICAgIG9udGltZW91dDogZnVuY3Rpb24gb250aW1lb3V0KCkge30sXG4gICAgICBvbmVycm9yOiBmdW5jdGlvbiBvbmVycm9yKCkge30sXG4gICAgICBvbmFib3J0OiBmdW5jdGlvbiBvbmFib3J0KCkge30sXG4gICAgICBhYm9ydDogZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICAgIGFib3J0ZWQgPSB0cnVlO1xuICAgICAgICB4aHIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gdGltZW91dCBpZGVudGlmaWVyLCBvbmx5IHVzZWQgd2hlbiB0aW1lb3V0IGlzIGRlZmluZWRcbiAgICB2YXIgYWJvcnRlZCA9IGZhbHNlO1xuICAgIHZhciBoZWFkZXJzUmVjZWl2ZWQgPSBmYWxzZTtcblxuICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgb3B0aW9uc1xuICAgICk7XG5cbiAgICAvLyBlbmNvZGUgdXJsXG4gICAgdXJsID0gZW5jb2RlVVJJKHVybCk7XG5cbiAgICAvLyBpZiBtZXRob2QgaXMgR0VULCBhZGQgYW55IHJlY2VpdmVkIGRhdGEgdG8gdXJsXG5cbiAgICBpZiAoaXNHZXQob3B0aW9ucy5tZXRob2QpICYmIGRhdGEpIHtcbiAgICAgIHVybCA9XG4gICAgICAgICcnICtcbiAgICAgICAgdXJsICtcbiAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICAgIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/IGRhdGEgOiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSByZXF1ZXN0XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgLy8gcHJvZ3Jlc3Mgb2YgbG9hZFxuICAgIHZhciBwcm9jZXNzID0gaXNHZXQob3B0aW9ucy5tZXRob2QpID8geGhyIDogeGhyLnVwbG9hZDtcbiAgICBwcm9jZXNzLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbihlKSB7XG4gICAgICAvLyBubyBwcm9ncmVzcyBldmVudCB3aGVuIGFib3J0ZWQgKCBvbnByb2dyZXNzIGlzIGNhbGxlZCBvbmNlIGFmdGVyIGFib3J0KCkgKVxuICAgICAgaWYgKGFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkub25wcm9ncmVzcyhlLmxlbmd0aENvbXB1dGFibGUsIGUubG9hZGVkLCBlLnRvdGFsKTtcbiAgICB9O1xuXG4gICAgLy8gdHJpZXMgdG8gZ2V0IGhlYWRlciBpbmZvIHRvIHRoZSBhcHAgYXMgZmFzdCBhcyBwb3NzaWJsZVxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIC8vIG5vdCBpbnRlcmVzdGluZyBpbiB0aGVzZSBzdGF0ZXMgKCd1bnNlbnQnIGFuZCAnb3BlbmVuZCcgYXMgdGhleSBkb24ndCBnaXZlIHVzIGFueSBhZGRpdGlvbmFsIGluZm8pXG4gICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPCAyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gbm8gc2VydmVyIHJlc3BvbnNlXG4gICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQgJiYgeGhyLnN0YXR1cyA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChoZWFkZXJzUmVjZWl2ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBoZWFkZXJzUmVjZWl2ZWQgPSB0cnVlO1xuXG4gICAgICAvLyB3ZSd2ZSBwcm9iYWJseSByZWNlaXZlZCBzb21lIHVzZWZ1bCBkYXRhIGluIHJlc3BvbnNlIGhlYWRlcnNcbiAgICAgIGFwaS5vbmhlYWRlcnMoeGhyKTtcbiAgICB9O1xuXG4gICAgLy8gbG9hZCBzdWNjZXNzZnVsXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gaXMgY2xhc3NpZmllZCBhcyB2YWxpZCByZXNwb25zZVxuICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgYXBpLm9ubG9hZCh4aHIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpLm9uZXJyb3IoeGhyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gZXJyb3IgZHVyaW5nIGxvYWRcbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGFwaS5vbmVycm9yKHhocik7XG4gICAgfTtcblxuICAgIC8vIHJlcXVlc3QgYWJvcnRlZFxuICAgIHhoci5vbmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgIGFwaS5vbmFib3J0KCk7XG4gICAgfTtcblxuICAgIC8vIHJlcXVlc3QgdGltZW91dFxuICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBhcGkub250aW1lb3V0KHhocik7XG4gICAgfTtcblxuICAgIC8vIG9wZW4gdXAgb3BlbiB1cCFcbiAgICB4aHIub3BlbihvcHRpb25zLm1ldGhvZCwgdXJsLCB0cnVlKTtcblxuICAgIC8vIHNldCB0aW1lb3V0IGlmIGRlZmluZWQgKGRvIGl0IGFmdGVyIG9wZW4gc28gSUUxMSBwbGF5cyBiYWxsKVxuICAgIGlmIChpc0ludChvcHRpb25zLnRpbWVvdXQpKSB7XG4gICAgICB4aHIudGltZW91dCA9IG9wdGlvbnMudGltZW91dDtcbiAgICB9XG5cbiAgICAvLyBhZGQgaGVhZGVyc1xuICAgIE9iamVjdC5rZXlzKG9wdGlvbnMuaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChvcHRpb25zLmhlYWRlcnNba2V5XSkpO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdHlwZSBvZiByZXNwb25zZVxuICAgIGlmIChvcHRpb25zLnJlc3BvbnNlVHlwZSkge1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IG9wdGlvbnMucmVzcG9uc2VUeXBlO1xuICAgIH1cblxuICAgIC8vIHNldCBjcmVkZW50aWFsc1xuICAgIGlmIChvcHRpb25zLndpdGhDcmVkZW50aWFscykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gbGV0J3Mgc2VuZCBvdXIgZGF0YVxuICAgIHhoci5zZW5kKGRhdGEpO1xuXG4gICAgcmV0dXJuIGFwaTtcbiAgfTtcblxuICB2YXIgY3JlYXRlUmVzcG9uc2UgPSBmdW5jdGlvbiBjcmVhdGVSZXNwb25zZSh0eXBlLCBjb2RlLCBib2R5LCBoZWFkZXJzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBjb2RlOiBjb2RlLFxuICAgICAgYm9keTogYm9keSxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjcmVhdGVUaW1lb3V0UmVzcG9uc2UgPSBmdW5jdGlvbiBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoY2IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oeGhyKSB7XG4gICAgICBjYihjcmVhdGVSZXNwb25zZSgnZXJyb3InLCAwLCAnVGltZW91dCcsIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGhhc1FTID0gZnVuY3Rpb24gaGFzUVMoc3RyKSB7XG4gICAgcmV0dXJuIC9cXD8vLnRlc3Qoc3RyKTtcbiAgfTtcbiAgdmFyIGJ1aWxkVVJMID0gZnVuY3Rpb24gYnVpbGRVUkwoKSB7XG4gICAgdmFyIHVybCA9ICcnO1xuICAgIGZvciAoXG4gICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBhcnRzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDtcbiAgICAgIF9rZXkgPCBfbGVuO1xuICAgICAgX2tleSsrXG4gICAgKSB7XG4gICAgICBwYXJ0c1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgcGFydHMuZm9yRWFjaChmdW5jdGlvbihwYXJ0KSB7XG4gICAgICB1cmwgKz0gaGFzUVModXJsKSAmJiBoYXNRUyhwYXJ0KSA/IHBhcnQucmVwbGFjZSgvXFw/LywgJyYnKSA6IHBhcnQ7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVybDtcbiAgfTtcblxuICB2YXIgY3JlYXRlRmV0Y2hGdW5jdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZUZldGNoRnVuY3Rpb24oKSB7XG4gICAgdmFyIGFwaVVybCA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICAvLyBjdXN0b20gaGFuZGxlciAoc2hvdWxkIGFsc28gaGFuZGxlIGZpbGUsIGxvYWQsIGVycm9yLCBwcm9ncmVzcyBhbmQgYWJvcnQpXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBhY3Rpb247XG4gICAgfVxuXG4gICAgLy8gbm8gYWN0aW9uIHN1cHBsaWVkXG4gICAgaWYgKCFhY3Rpb24gfHwgIWlzU3RyaW5nKGFjdGlvbi51cmwpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBzZXQgb25sb2FkIGhhbmxkZXJcbiAgICB2YXIgb25sb2FkID1cbiAgICAgIGFjdGlvbi5vbmxvYWQgfHxcbiAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfTtcbiAgICB2YXIgb25lcnJvciA9XG4gICAgICBhY3Rpb24ub25lcnJvciB8fFxuICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfTtcblxuICAgIC8vIGludGVybmFsIGhhbmRsZXJcbiAgICByZXR1cm4gZnVuY3Rpb24odXJsLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0LCBoZWFkZXJzKSB7XG4gICAgICAvLyBkbyBsb2NhbCBvciByZW1vdGUgcmVxdWVzdCBiYXNlZCBvbiBpZiB0aGUgdXJsIGlzIGV4dGVybmFsXG4gICAgICB2YXIgcmVxdWVzdCA9IHNlbmRSZXF1ZXN0KFxuICAgICAgICB1cmwsXG4gICAgICAgIGJ1aWxkVVJMKGFwaVVybCwgYWN0aW9uLnVybCksXG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbiwge1xuICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAvLyBnZXQgaGVhZGVyc1xuICAgICAgICB2YXIgaGVhZGVycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTtcblxuICAgICAgICAvLyBnZXQgZmlsZW5hbWVcbiAgICAgICAgdmFyIGZpbGVuYW1lID1cbiAgICAgICAgICBnZXRGaWxlSW5mb0Zyb21IZWFkZXJzKGhlYWRlcnMpLm5hbWUgfHwgZ2V0RmlsZW5hbWVGcm9tVVJMKHVybCk7XG5cbiAgICAgICAgLy8gY3JlYXRlIHJlc3BvbnNlXG4gICAgICAgIGxvYWQoXG4gICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAnbG9hZCcsXG4gICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgYWN0aW9uLm1ldGhvZCA9PT0gJ0hFQUQnXG4gICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICA6IGdldEZpbGVGcm9tQmxvYihvbmxvYWQoeGhyLnJlc3BvbnNlKSwgZmlsZW5hbWUpLFxuICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICBlcnJvcihcbiAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgcmVxdWVzdC5vbmhlYWRlcnMgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgaGVhZGVycyhcbiAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICdoZWFkZXJzJyxcbiAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpO1xuICAgICAgcmVxdWVzdC5vbnByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICByZXF1ZXN0Lm9uYWJvcnQgPSBhYm9ydDtcblxuICAgICAgLy8gc2hvdWxkIHJldHVybiByZXF1ZXN0XG4gICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBDaHVua1N0YXR1cyA9IHtcbiAgICBRVUVVRUQ6IDAsXG4gICAgQ09NUExFVEU6IDEsXG4gICAgUFJPQ0VTU0lORzogMixcbiAgICBFUlJPUjogMyxcbiAgICBXQUlUSU5HOiA0XG4gIH07XG5cbiAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaWduYXR1cmU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZmlsZSwgbWV0YWRhdGEsIGxvYWQsIGVycm9yLCBwcm9ncmVzcywgYWJvcnQsIHRyYW5zZmVyLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0OigpID0+IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG5cbiAgLy8gYXBpVXJsLCBhY3Rpb24sIG5hbWUsIGZpbGUsIG1ldGFkYXRhLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0LCB0cmFuc2Zlciwgb3B0aW9uc1xuICB2YXIgcHJvY2Vzc0ZpbGVDaHVua2VkID0gZnVuY3Rpb24gcHJvY2Vzc0ZpbGVDaHVua2VkKFxuICAgIGFwaVVybCxcbiAgICBhY3Rpb24sXG4gICAgbmFtZSxcbiAgICBmaWxlLFxuICAgIG1ldGFkYXRhLFxuICAgIGxvYWQsXG4gICAgZXJyb3IsXG4gICAgcHJvZ3Jlc3MsXG4gICAgYWJvcnQsXG4gICAgdHJhbnNmZXIsXG4gICAgb3B0aW9uc1xuICApIHtcbiAgICAvLyBhbGwgY2h1bmtzXG4gICAgdmFyIGNodW5rcyA9IFtdO1xuICAgIHZhciBjaHVua1RyYW5zZmVySWQgPSBvcHRpb25zLmNodW5rVHJhbnNmZXJJZCxcbiAgICAgIGNodW5rU2VydmVyID0gb3B0aW9ucy5jaHVua1NlcnZlcixcbiAgICAgIGNodW5rU2l6ZSA9IG9wdGlvbnMuY2h1bmtTaXplLFxuICAgICAgY2h1bmtSZXRyeURlbGF5cyA9IG9wdGlvbnMuY2h1bmtSZXRyeURlbGF5cztcblxuICAgIC8vIGRlZmF1bHQgc3RhdGVcbiAgICB2YXIgc3RhdGUgPSB7XG4gICAgICBzZXJ2ZXJJZDogY2h1bmtUcmFuc2ZlcklkLFxuICAgICAgYWJvcnRlZDogZmFsc2VcbiAgICB9O1xuXG4gICAgLy8gc2V0IG9ubG9hZCBoYW5kbGVyc1xuICAgIHZhciBvbmRhdGEgPVxuICAgICAgYWN0aW9uLm9uZGF0YSB8fFxuICAgICAgZnVuY3Rpb24oZmQpIHtcbiAgICAgICAgcmV0dXJuIGZkO1xuICAgICAgfTtcbiAgICB2YXIgb25sb2FkID1cbiAgICAgIGFjdGlvbi5vbmxvYWQgfHxcbiAgICAgIGZ1bmN0aW9uKHhociwgbWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBtZXRob2QgPT09ICdIRUFEJ1xuICAgICAgICAgID8geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdVcGxvYWQtT2Zmc2V0JylcbiAgICAgICAgICA6IHhoci5yZXNwb25zZTtcbiAgICAgIH07XG4gICAgdmFyIG9uZXJyb3IgPVxuICAgICAgYWN0aW9uLm9uZXJyb3IgfHxcbiAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH07XG5cbiAgICAvLyBjcmVhdGUgc2VydmVyIGhvb2tcbiAgICB2YXIgcmVxdWVzdFRyYW5zZmVySWQgPSBmdW5jdGlvbiByZXF1ZXN0VHJhbnNmZXJJZChjYikge1xuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgIC8vIGFkZCBtZXRhZGF0YSB1bmRlciBzYW1lIG5hbWVcbiAgICAgIGlmIChpc09iamVjdChtZXRhZGF0YSkpIGZvcm1EYXRhLmFwcGVuZChuYW1lLCBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSkpO1xuXG4gICAgICB2YXIgaGVhZGVycyA9XG4gICAgICAgIHR5cGVvZiBhY3Rpb24uaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgID8gYWN0aW9uLmhlYWRlcnMoZmlsZSwgbWV0YWRhdGEpXG4gICAgICAgICAgOiBPYmplY3QuYXNzaWduKHt9LCBhY3Rpb24uaGVhZGVycywge1xuICAgICAgICAgICAgICAnVXBsb2FkLUxlbmd0aCc6IGZpbGUuc2l6ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgIHZhciByZXF1ZXN0UGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uLCB7XG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgIH0pO1xuXG4gICAgICAvLyBzZW5kIHJlcXVlc3Qgb2JqZWN0XG4gICAgICB2YXIgcmVxdWVzdCA9IHNlbmRSZXF1ZXN0KFxuICAgICAgICBvbmRhdGEoZm9ybURhdGEpLFxuICAgICAgICBidWlsZFVSTChhcGlVcmwsIGFjdGlvbi51cmwpLFxuICAgICAgICByZXF1ZXN0UGFyYW1zXG4gICAgICApO1xuXG4gICAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICByZXR1cm4gY2Iob25sb2FkKHhociwgcmVxdWVzdFBhcmFtcy5tZXRob2QpKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKTtcbiAgICB9O1xuXG4gICAgdmFyIHJlcXVlc3RUcmFuc2Zlck9mZnNldCA9IGZ1bmN0aW9uIHJlcXVlc3RUcmFuc2Zlck9mZnNldChjYikge1xuICAgICAgdmFyIHJlcXVlc3RVcmwgPSBidWlsZFVSTChhcGlVcmwsIGNodW5rU2VydmVyLnVybCwgc3RhdGUuc2VydmVySWQpO1xuXG4gICAgICB2YXIgaGVhZGVycyA9XG4gICAgICAgIHR5cGVvZiBhY3Rpb24uaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgID8gYWN0aW9uLmhlYWRlcnMoc3RhdGUuc2VydmVySWQpXG4gICAgICAgICAgOiBPYmplY3QuYXNzaWduKHt9LCBhY3Rpb24uaGVhZGVycyk7XG5cbiAgICAgIHZhciByZXF1ZXN0UGFyYW1zID0ge1xuICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICBtZXRob2Q6ICdIRUFEJ1xuICAgICAgfTtcblxuICAgICAgdmFyIHJlcXVlc3QgPSBzZW5kUmVxdWVzdChudWxsLCByZXF1ZXN0VXJsLCByZXF1ZXN0UGFyYW1zKTtcblxuICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgcmV0dXJuIGNiKG9ubG9hZCh4aHIsIHJlcXVlc3RQYXJhbXMubWV0aG9kKSk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgIGNyZWF0ZVJlc3BvbnNlKFxuICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICBvbmVycm9yKHhoci5yZXNwb25zZSkgfHwgeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9udGltZW91dCA9IGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcik7XG4gICAgfTtcblxuICAgIC8vIGNyZWF0ZSBjaHVua3NcbiAgICB2YXIgbGFzdENodW5rSW5kZXggPSBNYXRoLmZsb29yKGZpbGUuc2l6ZSAvIGNodW5rU2l6ZSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbGFzdENodW5rSW5kZXg7IGkrKykge1xuICAgICAgdmFyIG9mZnNldCA9IGkgKiBjaHVua1NpemU7XG4gICAgICB2YXIgZGF0YSA9IGZpbGUuc2xpY2UoXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgb2Zmc2V0ICsgY2h1bmtTaXplLFxuICAgICAgICAnYXBwbGljYXRpb24vb2Zmc2V0K29jdGV0LXN0cmVhbSdcbiAgICAgICk7XG4gICAgICBjaHVua3NbaV0gPSB7XG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICBzaXplOiBkYXRhLnNpemUsXG4gICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBmaWxlOiBmaWxlLFxuICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgcmV0cmllczogX3RvQ29uc3VtYWJsZUFycmF5KGNodW5rUmV0cnlEZWxheXMpLFxuICAgICAgICBzdGF0dXM6IENodW5rU3RhdHVzLlFVRVVFRCxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIHJlcXVlc3Q6IG51bGwsXG4gICAgICAgIHRpbWVvdXQ6IG51bGxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGNvbXBsZXRlUHJvY2Vzc2luZ0NodW5rcyA9IGZ1bmN0aW9uIGNvbXBsZXRlUHJvY2Vzc2luZ0NodW5rcygpIHtcbiAgICAgIHJldHVybiBsb2FkKHN0YXRlLnNlcnZlcklkKTtcbiAgICB9O1xuXG4gICAgdmFyIGNhblByb2Nlc3NDaHVuayA9IGZ1bmN0aW9uIGNhblByb2Nlc3NDaHVuayhjaHVuaykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2h1bmsuc3RhdHVzID09PSBDaHVua1N0YXR1cy5RVUVVRUQgfHxcbiAgICAgICAgY2h1bmsuc3RhdHVzID09PSBDaHVua1N0YXR1cy5FUlJPUlxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIHByb2Nlc3NDaHVuayA9IGZ1bmN0aW9uIHByb2Nlc3NDaHVuayhjaHVuaykge1xuICAgICAgLy8gcHJvY2Vzc2luZyBpcyBwYXVzZWQsIHdhaXQgaGVyZVxuICAgICAgaWYgKHN0YXRlLmFib3J0ZWQpIHJldHVybjtcblxuICAgICAgLy8gZ2V0IG5leHQgY2h1bmsgdG8gcHJvY2Vzc1xuICAgICAgY2h1bmsgPSBjaHVuayB8fCBjaHVua3MuZmluZChjYW5Qcm9jZXNzQ2h1bmspO1xuXG4gICAgICAvLyBubyBtb3JlIGNodW5rcyB0byBwcm9jZXNzXG4gICAgICBpZiAoIWNodW5rKSB7XG4gICAgICAgIC8vIGFsbCBkb25lP1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY2h1bmtzLmV2ZXJ5KGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICAgICAgICByZXR1cm4gY2h1bmsuc3RhdHVzID09PSBDaHVua1N0YXR1cy5DT01QTEVURTtcbiAgICAgICAgICB9KVxuICAgICAgICApIHtcbiAgICAgICAgICBjb21wbGV0ZVByb2Nlc3NpbmdDaHVua3MoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIGNodW5rIHRvIGhhbmRsZVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIG5vdyBwcm9jZXNzaW5nIHRoaXMgY2h1bmtcbiAgICAgIGNodW5rLnN0YXR1cyA9IENodW5rU3RhdHVzLlBST0NFU1NJTkc7XG4gICAgICBjaHVuay5wcm9ncmVzcyA9IG51bGw7XG5cbiAgICAgIC8vIGFsbG93IHBhcnNpbmcgb2YgZm9ybWRhdGFcbiAgICAgIHZhciBvbmRhdGEgPVxuICAgICAgICBjaHVua1NlcnZlci5vbmRhdGEgfHxcbiAgICAgICAgZnVuY3Rpb24oZmQpIHtcbiAgICAgICAgICByZXR1cm4gZmQ7XG4gICAgICAgIH07XG4gICAgICB2YXIgb25lcnJvciA9XG4gICAgICAgIGNodW5rU2VydmVyLm9uZXJyb3IgfHxcbiAgICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgIC8vIHNlbmQgcmVxdWVzdCBvYmplY3RcbiAgICAgIHZhciByZXF1ZXN0VXJsID0gYnVpbGRVUkwoYXBpVXJsLCBjaHVua1NlcnZlci51cmwsIHN0YXRlLnNlcnZlcklkKTtcblxuICAgICAgdmFyIGhlYWRlcnMgPVxuICAgICAgICB0eXBlb2YgY2h1bmtTZXJ2ZXIuaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgID8gY2h1bmtTZXJ2ZXIuaGVhZGVycyhjaHVuaylcbiAgICAgICAgICA6IE9iamVjdC5hc3NpZ24oe30sIGNodW5rU2VydmVyLmhlYWRlcnMsIHtcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9vZmZzZXQrb2N0ZXQtc3RyZWFtJyxcbiAgICAgICAgICAgICAgJ1VwbG9hZC1PZmZzZXQnOiBjaHVuay5vZmZzZXQsXG4gICAgICAgICAgICAgICdVcGxvYWQtTGVuZ3RoJzogZmlsZS5zaXplLFxuICAgICAgICAgICAgICAnVXBsb2FkLU5hbWUnOiBmaWxlLm5hbWVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICB2YXIgcmVxdWVzdCA9IChjaHVuay5yZXF1ZXN0ID0gc2VuZFJlcXVlc3QoXG4gICAgICAgIG9uZGF0YShjaHVuay5kYXRhKSxcbiAgICAgICAgcmVxdWVzdFVybCxcbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgY2h1bmtTZXJ2ZXIsIHtcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzXG4gICAgICAgIH0pXG4gICAgICApKTtcblxuICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gZG9uZSFcbiAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuQ09NUExFVEU7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHJlcXVlc3QgcmVmZXJlbmNlXG4gICAgICAgIGNodW5rLnJlcXVlc3QgPSBudWxsO1xuXG4gICAgICAgIC8vIHN0YXJ0IHByb2Nlc3NpbmcgbW9yZSBjaHVua3NcbiAgICAgICAgcHJvY2Vzc0NodW5rcygpO1xuICAgICAgfTtcblxuICAgICAgcmVxdWVzdC5vbnByb2dyZXNzID0gZnVuY3Rpb24obGVuZ3RoQ29tcHV0YWJsZSwgbG9hZGVkLCB0b3RhbCkge1xuICAgICAgICBjaHVuay5wcm9ncmVzcyA9IGxlbmd0aENvbXB1dGFibGUgPyBsb2FkZWQgOiBudWxsO1xuICAgICAgICB1cGRhdGVUb3RhbFByb2dyZXNzKCk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgY2h1bmsuc3RhdHVzID0gQ2h1bmtTdGF0dXMuRVJST1I7XG4gICAgICAgIGNodW5rLnJlcXVlc3QgPSBudWxsO1xuICAgICAgICBjaHVuay5lcnJvciA9IG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dDtcbiAgICAgICAgaWYgKCFyZXRyeVByb2Nlc3NDaHVuayhjaHVuaykpIHtcbiAgICAgICAgICBlcnJvcihcbiAgICAgICAgICAgIGNyZWF0ZVJlc3BvbnNlKFxuICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgICBvbmVycm9yKHhoci5yZXNwb25zZSkgfHwgeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgIGNodW5rLnN0YXR1cyA9IENodW5rU3RhdHVzLkVSUk9SO1xuICAgICAgICBjaHVuay5yZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFyZXRyeVByb2Nlc3NDaHVuayhjaHVuaykpIHtcbiAgICAgICAgICBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpKHhocik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5RVUVVRUQ7XG4gICAgICAgIGNodW5rLnJlcXVlc3QgPSBudWxsO1xuICAgICAgICBhYm9ydCgpO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIHJldHJ5UHJvY2Vzc0NodW5rID0gZnVuY3Rpb24gcmV0cnlQcm9jZXNzQ2h1bmsoY2h1bmspIHtcbiAgICAgIC8vIG5vIG1vcmUgcmV0cmllcyBsZWZ0XG4gICAgICBpZiAoY2h1bmsucmV0cmllcy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcblxuICAgICAgLy8gbmV3IHJldHJ5XG4gICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5XQUlUSU5HO1xuICAgICAgY2xlYXJUaW1lb3V0KGNodW5rLnRpbWVvdXQpO1xuICAgICAgY2h1bmsudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb2Nlc3NDaHVuayhjaHVuayk7XG4gICAgICB9LCBjaHVuay5yZXRyaWVzLnNoaWZ0KCkpO1xuXG4gICAgICAvLyB3ZSdyZSBnb2luZyB0byByZXRyeVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHZhciB1cGRhdGVUb3RhbFByb2dyZXNzID0gZnVuY3Rpb24gdXBkYXRlVG90YWxQcm9ncmVzcygpIHtcbiAgICAgIC8vIGNhbGN1bGF0ZSB0b3RhbCBwcm9ncmVzcyBmcmFjdGlvblxuICAgICAgdmFyIHRvdGFsQnl0ZXNUcmFuc2ZlcmVkID0gY2h1bmtzLnJlZHVjZShmdW5jdGlvbihwLCBjaHVuaykge1xuICAgICAgICBpZiAocCA9PT0gbnVsbCB8fCBjaHVuay5wcm9ncmVzcyA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBwICsgY2h1bmsucHJvZ3Jlc3M7XG4gICAgICB9LCAwKTtcblxuICAgICAgLy8gY2FuJ3QgY29tcHV0ZSBwcm9ncmVzc1xuICAgICAgaWYgKHRvdGFsQnl0ZXNUcmFuc2ZlcmVkID09PSBudWxsKSByZXR1cm4gcHJvZ3Jlc3MoZmFsc2UsIDAsIDApO1xuXG4gICAgICAvLyBjYWxjdWxhdGUgcHJvZ3Jlc3MgdmFsdWVzXG4gICAgICB2YXIgdG90YWxTaXplID0gY2h1bmtzLnJlZHVjZShmdW5jdGlvbih0b3RhbCwgY2h1bmspIHtcbiAgICAgICAgcmV0dXJuIHRvdGFsICsgY2h1bmsuc2l6ZTtcbiAgICAgIH0sIDApO1xuXG4gICAgICAvLyBjYW4gdXBkYXRlIHByb2dyZXNzIGluZGljYXRvclxuICAgICAgcHJvZ3Jlc3ModHJ1ZSwgdG90YWxCeXRlc1RyYW5zZmVyZWQsIHRvdGFsU2l6ZSk7XG4gICAgfTtcblxuICAgIC8vIHByb2Nlc3MgbmV3IGNodW5rc1xuICAgIHZhciBwcm9jZXNzQ2h1bmtzID0gZnVuY3Rpb24gcHJvY2Vzc0NodW5rcygpIHtcbiAgICAgIHZhciB0b3RhbFByb2Nlc3NpbmcgPSBjaHVua3MuZmlsdGVyKGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICAgIHJldHVybiBjaHVuay5zdGF0dXMgPT09IENodW5rU3RhdHVzLlBST0NFU1NJTkc7XG4gICAgICB9KS5sZW5ndGg7XG4gICAgICBpZiAodG90YWxQcm9jZXNzaW5nID49IDEpIHJldHVybjtcbiAgICAgIHByb2Nlc3NDaHVuaygpO1xuICAgIH07XG5cbiAgICB2YXIgYWJvcnRDaHVua3MgPSBmdW5jdGlvbiBhYm9ydENodW5rcygpIHtcbiAgICAgIGNodW5rcy5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChjaHVuay50aW1lb3V0KTtcbiAgICAgICAgaWYgKGNodW5rLnJlcXVlc3QpIHtcbiAgICAgICAgICBjaHVuay5yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBsZXQncyBnbyFcbiAgICBpZiAoIXN0YXRlLnNlcnZlcklkKSB7XG4gICAgICByZXF1ZXN0VHJhbnNmZXJJZChmdW5jdGlvbihzZXJ2ZXJJZCkge1xuICAgICAgICAvLyBzdG9wIGhlcmUgaWYgYWJvcnRlZCwgbWlnaHQgaGF2ZSBoYXBwZW5lZCBpbiBiZXR3ZWVuIHJlcXVlc3QgYW5kIGNhbGxiYWNrXG4gICAgICAgIGlmIChzdGF0ZS5hYm9ydGVkKSByZXR1cm47XG5cbiAgICAgICAgLy8gcGFzcyBiYWNrIHRvIGl0ZW0gc28gd2UgY2FuIHVzZSBpdCBpZiBzb21ldGhpbmcgZ29lcyB3cm9uZ1xuICAgICAgICB0cmFuc2ZlcihzZXJ2ZXJJZCk7XG5cbiAgICAgICAgLy8gc3RvcmUgaW50ZXJuYWxseVxuICAgICAgICBzdGF0ZS5zZXJ2ZXJJZCA9IHNlcnZlcklkO1xuICAgICAgICBwcm9jZXNzQ2h1bmtzKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdFRyYW5zZmVyT2Zmc2V0KGZ1bmN0aW9uKG9mZnNldCkge1xuICAgICAgICAvLyBzdG9wIGhlcmUgaWYgYWJvcnRlZCwgbWlnaHQgaGF2ZSBoYXBwZW5lZCBpbiBiZXR3ZWVuIHJlcXVlc3QgYW5kIGNhbGxiYWNrXG4gICAgICAgIGlmIChzdGF0ZS5hYm9ydGVkKSByZXR1cm47XG5cbiAgICAgICAgLy8gbWFyayBjaHVua3Mgd2l0aCBsb3dlciBvZmZzZXQgYXMgY29tcGxldGVcbiAgICAgICAgY2h1bmtzXG4gICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihjaHVuaykge1xuICAgICAgICAgICAgcmV0dXJuIGNodW5rLm9mZnNldCA8IG9mZnNldDtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICAgICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5DT01QTEVURTtcbiAgICAgICAgICAgIGNodW5rLnByb2dyZXNzID0gY2h1bmsuc2l6ZTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBjb250aW51ZSBwcm9jZXNzaW5nXG4gICAgICAgIHByb2Nlc3NDaHVua3MoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBhYm9ydDogZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICAgIHN0YXRlLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICBhYm9ydENodW5rcygpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNpZ25hdHVyZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZpbGUsIG1ldGFkYXRhLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYm9ydDooKSA9PiB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICB2YXIgY3JlYXRlRmlsZVByb2Nlc3NvckZ1bmN0aW9uID0gZnVuY3Rpb24gY3JlYXRlRmlsZVByb2Nlc3NvckZ1bmN0aW9uKFxuICAgIGFwaVVybCxcbiAgICBhY3Rpb24sXG4gICAgbmFtZSxcbiAgICBvcHRpb25zXG4gICkge1xuICAgIHJldHVybiBmdW5jdGlvbihmaWxlLCBtZXRhZGF0YSwgbG9hZCwgZXJyb3IsIHByb2dyZXNzLCBhYm9ydCwgdHJhbnNmZXIpIHtcbiAgICAgIC8vIG5vIGZpbGUgcmVjZWl2ZWRcbiAgICAgIGlmICghZmlsZSkgcmV0dXJuO1xuXG4gICAgICAvLyBpZiB3YXMgcGFzc2VkIGEgZmlsZSwgYW5kIHdlIGNhbiBjaHVuayBpdCwgZXhpdCBoZXJlXG4gICAgICB2YXIgY2FuQ2h1bmtVcGxvYWQgPSBvcHRpb25zLmNodW5rVXBsb2FkcztcbiAgICAgIHZhciBzaG91bGRDaHVua1VwbG9hZCA9IGNhbkNodW5rVXBsb2FkICYmIGZpbGUuc2l6ZSA+IG9wdGlvbnMuY2h1bmtTaXplO1xuICAgICAgdmFyIHdpbGxDaHVua1VwbG9hZCA9XG4gICAgICAgIGNhbkNodW5rVXBsb2FkICYmIChzaG91bGRDaHVua1VwbG9hZCB8fCBvcHRpb25zLmNodW5rRm9yY2UpO1xuICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBCbG9iICYmIHdpbGxDaHVua1VwbG9hZClcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NGaWxlQ2h1bmtlZChcbiAgICAgICAgICBhcGlVcmwsXG4gICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgZmlsZSxcbiAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICBsb2FkLFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICAgIHByb2dyZXNzLFxuICAgICAgICAgIGFib3J0LFxuICAgICAgICAgIHRyYW5zZmVyLFxuICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgKTtcblxuICAgICAgLy8gc2V0IGhhbmRsZXJzXG4gICAgICB2YXIgb25kYXRhID1cbiAgICAgICAgYWN0aW9uLm9uZGF0YSB8fFxuICAgICAgICBmdW5jdGlvbihmZCkge1xuICAgICAgICAgIHJldHVybiBmZDtcbiAgICAgICAgfTtcbiAgICAgIHZhciBvbmxvYWQgPVxuICAgICAgICBhY3Rpb24ub25sb2FkIHx8XG4gICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH07XG4gICAgICB2YXIgb25lcnJvciA9XG4gICAgICAgIGFjdGlvbi5vbmVycm9yIHx8XG4gICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAvLyBjcmVhdGUgZm9ybWRhdGEgb2JqZWN0XG4gICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcblxuICAgICAgLy8gYWRkIG1ldGFkYXRhIHVuZGVyIHNhbWUgbmFtZVxuICAgICAgaWYgKGlzT2JqZWN0KG1ldGFkYXRhKSkge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQobmFtZSwgSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpKTtcbiAgICAgIH1cblxuICAgICAgLy8gVHVybiBpbnRvIGFuIGFycmF5IG9mIG9iamVjdHMgc28gbm8gbWF0dGVyIHdoYXQgdGhlIGlucHV0LCB3ZSBjYW4gaGFuZGxlIGl0IHRoZSBzYW1lIHdheVxuICAgICAgKGZpbGUgaW5zdGFuY2VvZiBCbG9iID8gW3sgbmFtZTogbnVsbCwgZmlsZTogZmlsZSB9XSA6IGZpbGUpLmZvckVhY2goXG4gICAgICAgIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgaXRlbS5maWxlLFxuICAgICAgICAgICAgaXRlbS5uYW1lID09PSBudWxsXG4gICAgICAgICAgICAgID8gaXRlbS5maWxlLm5hbWVcbiAgICAgICAgICAgICAgOiAnJyArIGl0ZW0ubmFtZSArIGl0ZW0uZmlsZS5uYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgLy8gc2VuZCByZXF1ZXN0IG9iamVjdFxuICAgICAgdmFyIHJlcXVlc3QgPSBzZW5kUmVxdWVzdChcbiAgICAgICAgb25kYXRhKGZvcm1EYXRhKSxcbiAgICAgICAgYnVpbGRVUkwoYXBpVXJsLCBhY3Rpb24udXJsKSxcbiAgICAgICAgYWN0aW9uXG4gICAgICApO1xuICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgbG9hZChcbiAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICdsb2FkJyxcbiAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICBvbmxvYWQoeGhyLnJlc3BvbnNlKSxcbiAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICBlcnJvcihcbiAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpO1xuICAgICAgcmVxdWVzdC5vbnByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICByZXF1ZXN0Lm9uYWJvcnQgPSBhYm9ydDtcblxuICAgICAgLy8gc2hvdWxkIHJldHVybiByZXF1ZXN0XG4gICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjcmVhdGVQcm9jZXNzb3JGdW5jdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZVByb2Nlc3NvckZ1bmN0aW9uKCkge1xuICAgIHZhciBhcGlVcmwgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIG5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkO1xuXG4gICAgLy8gY3VzdG9tIGhhbmRsZXIgKHNob3VsZCBhbHNvIGhhbmRsZSBmaWxlLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MgYW5kIGFib3J0KVxuICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnZnVuY3Rpb24nKVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcGFyYW1zID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDtcbiAgICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgICBfa2V5KytcbiAgICAgICAgKSB7XG4gICAgICAgICAgcGFyYW1zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY3Rpb24uYXBwbHkodm9pZCAwLCBbbmFtZV0uY29uY2F0KHBhcmFtcywgW29wdGlvbnNdKSk7XG4gICAgICB9O1xuXG4gICAgLy8gbm8gYWN0aW9uIHN1cHBsaWVkXG4gICAgaWYgKCFhY3Rpb24gfHwgIWlzU3RyaW5nKGFjdGlvbi51cmwpKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIGludGVybmFsIGhhbmRsZXJcbiAgICByZXR1cm4gY3JlYXRlRmlsZVByb2Nlc3NvckZ1bmN0aW9uKGFwaVVybCwgYWN0aW9uLCBuYW1lLCBvcHRpb25zKTtcbiAgfTtcblxuICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2lnbmF0dXJlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHVuaXF1ZUZpbGVJZCwgbG9hZCwgZXJyb3IpID0+IHsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgdmFyIGNyZWF0ZVJldmVydEZ1bmN0aW9uID0gZnVuY3Rpb24gY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oKSB7XG4gICAgdmFyIGFwaVVybCA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICAvLyBpcyBjdXN0b20gaW1wbGVtZW50YXRpb25cbiAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9XG5cbiAgICAvLyBubyBhY3Rpb24gc3VwcGxpZWQsIHJldHVybiBzdHViIGZ1bmN0aW9uLCBpbnRlcmZhY2Ugd2lsbCB3b3JrLCBidXQgZmlsZSB3b24ndCBiZSByZW1vdmVkXG4gICAgaWYgKCFhY3Rpb24gfHwgIWlzU3RyaW5nKGFjdGlvbi51cmwpKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odW5pcXVlRmlsZUlkLCBsb2FkKSB7XG4gICAgICAgIHJldHVybiBsb2FkKCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHNldCBvbmxvYWQgaGFubGRlclxuICAgIHZhciBvbmxvYWQgPVxuICAgICAgYWN0aW9uLm9ubG9hZCB8fFxuICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9O1xuICAgIHZhciBvbmVycm9yID1cbiAgICAgIGFjdGlvbi5vbmVycm9yIHx8XG4gICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9O1xuXG4gICAgLy8gaW50ZXJuYWwgaW1wbGVtZW50YXRpb25cbiAgICByZXR1cm4gZnVuY3Rpb24odW5pcXVlRmlsZUlkLCBsb2FkLCBlcnJvcikge1xuICAgICAgdmFyIHJlcXVlc3QgPSBzZW5kUmVxdWVzdChcbiAgICAgICAgdW5pcXVlRmlsZUlkLFxuICAgICAgICBhcGlVcmwgKyBhY3Rpb24udXJsLFxuICAgICAgICBhY3Rpb24gLy8gY29udGFpbnMgbWV0aG9kLCBoZWFkZXJzIGFuZCB3aXRoQ3JlZGVudGlhbHMgcHJvcGVydGllc1xuICAgICAgKTtcbiAgICAgIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgIGxvYWQoXG4gICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAnbG9hZCcsXG4gICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgb25sb2FkKHhoci5yZXNwb25zZSksXG4gICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgZXJyb3IoXG4gICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKTtcblxuICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgZ2V0UmFuZG9tTnVtYmVyID0gZnVuY3Rpb24gZ2V0UmFuZG9tTnVtYmVyKCkge1xuICAgIHZhciBtaW4gPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIHZhciBtYXggPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxO1xuICAgIHJldHVybiBtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbik7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlciA9IGZ1bmN0aW9uIGNyZWF0ZVBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlcihcbiAgICBjYlxuICApIHtcbiAgICB2YXIgZHVyYXRpb24gPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMDAwO1xuICAgIHZhciBvZmZzZXQgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgIHZhciB0aWNrTWluID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMjU7XG4gICAgdmFyIHRpY2tNYXggPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAyNTA7XG4gICAgdmFyIHRpbWVvdXQgPSBudWxsO1xuICAgIHZhciBzdGFydCA9IERhdGUubm93KCk7XG5cbiAgICB2YXIgdGljayA9IGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgICB2YXIgcnVudGltZSA9IERhdGUubm93KCkgLSBzdGFydDtcbiAgICAgIHZhciBkZWxheSA9IGdldFJhbmRvbU51bWJlcih0aWNrTWluLCB0aWNrTWF4KTtcblxuICAgICAgaWYgKHJ1bnRpbWUgKyBkZWxheSA+IGR1cmF0aW9uKSB7XG4gICAgICAgIGRlbGF5ID0gcnVudGltZSArIGRlbGF5IC0gZHVyYXRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9ncmVzcyA9IHJ1bnRpbWUgLyBkdXJhdGlvbjtcbiAgICAgIGlmIChwcm9ncmVzcyA+PSAxIHx8IGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICBjYigxKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjYihwcm9ncmVzcyk7XG5cbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KHRpY2ssIGRlbGF5KTtcbiAgICB9O1xuXG4gICAgdGljaygpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUZpbGVQcm9jZXNzb3IgPSBmdW5jdGlvbiBjcmVhdGVGaWxlUHJvY2Vzc29yKHByb2Nlc3NGbikge1xuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZSxcbiAgICAgIHBlcmNlaXZlZFByb2dyZXNzOiAwLFxuICAgICAgcGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyOiBudWxsLFxuICAgICAgcHJvZ3Jlc3M6IG51bGwsXG4gICAgICB0aW1lc3RhbXA6IG51bGwsXG4gICAgICBwZXJjZWl2ZWREdXJhdGlvbjogMCxcbiAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgcmVxdWVzdDogbnVsbCxcbiAgICAgIHJlc3BvbnNlOiBudWxsXG4gICAgfTtcblxuICAgIHZhciBwcm9jZXNzID0gZnVuY3Rpb24gcHJvY2VzcyhmaWxlLCBtZXRhZGF0YSkge1xuICAgICAgdmFyIHByb2dyZXNzRm4gPSBmdW5jdGlvbiBwcm9ncmVzc0ZuKCkge1xuICAgICAgICAvLyB3ZSd2ZSBub3QgeWV0IHN0YXJ0ZWQgdGhlIHJlYWwgZG93bmxvYWQsIHN0b3AgaGVyZVxuICAgICAgICAvLyB0aGUgcmVxdWVzdCBtaWdodCBub3QgZ28gdGhyb3VnaCwgZm9yIGluc3RhbmNlLCB0aGVyZSBtaWdodCBiZSBzb21lIHNlcnZlciB0cm91YmxlXG4gICAgICAgIC8vIGlmIHN0YXRlLnByb2dyZXNzIGlzIG51bGwsIHRoZSBzZXJ2ZXIgZG9lcyBub3QgYWxsb3cgY29tcHV0aW5nIHByb2dyZXNzIGFuZCB3ZSBzaG93IHRoZSBzcGlubmVyIGluc3RlYWRcbiAgICAgICAgaWYgKHN0YXRlLmR1cmF0aW9uID09PSAwIHx8IHN0YXRlLnByb2dyZXNzID09PSBudWxsKSByZXR1cm47XG5cbiAgICAgICAgLy8gYXMgd2UncmUgbm93IHByb2Nlc3NpbmcsIGZpcmUgdGhlIHByb2dyZXNzIGV2ZW50XG4gICAgICAgIGFwaS5maXJlKCdwcm9ncmVzcycsIGFwaS5nZXRQcm9ncmVzcygpKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBjb21wbGV0ZUZuID0gZnVuY3Rpb24gY29tcGxldGVGbigpIHtcbiAgICAgICAgc3RhdGUuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICBhcGkuZmlyZSgnbG9hZC1wZXJjZWl2ZWQnLCBzdGF0ZS5yZXNwb25zZS5ib2R5KTtcbiAgICAgIH07XG5cbiAgICAgIC8vIGxldCdzIHN0YXJ0IHByb2Nlc3NpbmdcbiAgICAgIGFwaS5maXJlKCdzdGFydCcpO1xuXG4gICAgICAvLyBzZXQgcmVxdWVzdCBzdGFydFxuICAgICAgc3RhdGUudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcblxuICAgICAgLy8gY3JlYXRlIHBlcmNlaXZlZCBwZXJmb3JtYW5jZSBwcm9ncmVzcyBpbmRpY2F0b3JcbiAgICAgIHN0YXRlLnBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlciA9IGNyZWF0ZVBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlcihcbiAgICAgICAgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWRQcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICAgIHN0YXRlLnBlcmNlaXZlZER1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXRlLnRpbWVzdGFtcDtcblxuICAgICAgICAgIHByb2dyZXNzRm4oKTtcblxuICAgICAgICAgIC8vIGlmIGZha2UgcHJvZ3Jlc3MgaXMgZG9uZSwgYW5kIGEgcmVzcG9uc2UgaGFzIGJlZW4gcmVjZWl2ZWQsXG4gICAgICAgICAgLy8gYW5kIHdlJ3ZlIG5vdCB5ZXQgY2FsbGVkIHRoZSBjb21wbGV0ZSBtZXRob2RcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBzdGF0ZS5yZXNwb25zZSAmJlxuICAgICAgICAgICAgc3RhdGUucGVyY2VpdmVkUHJvZ3Jlc3MgPT09IDEgJiZcbiAgICAgICAgICAgICFzdGF0ZS5jb21wbGV0ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gd2UgZG9uZSFcbiAgICAgICAgICAgIGNvbXBsZXRlRm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8vIHJhbmRvbSBkZWxheSBhcyBpbiBhIGxpc3Qgb2YgZmlsZXMgeW91IHN0YXJ0IG5vdGljaW5nXG4gICAgICAgIC8vIGZpbGVzIHVwbG9hZGluZyBhdCB0aGUgZXhhY3Qgc2FtZSBzcGVlZFxuICAgICAgICBnZXRSYW5kb21OdW1iZXIoNzUwLCAxNTAwKVxuICAgICAgKTtcblxuICAgICAgLy8gcmVtZW1iZXIgcmVxdWVzdCBzbyB3ZSBjYW4gYWJvcnQgaXQgbGF0ZXJcbiAgICAgIHN0YXRlLnJlcXVlc3QgPSBwcm9jZXNzRm4oXG4gICAgICAgIC8vIHRoZSBmaWxlIHRvIHByb2Nlc3NcbiAgICAgICAgZmlsZSxcblxuICAgICAgICAvLyB0aGUgbWV0YWRhdGEgdG8gc2VuZCBhbG9uZ1xuICAgICAgICBtZXRhZGF0YSxcblxuICAgICAgICAvLyBjYWxsYmFja3MgKGxvYWQsIGVycm9yLCBwcm9ncmVzcywgYWJvcnQsIHRyYW5zZmVyKVxuICAgICAgICAvLyBsb2FkIGV4cGVjdHMgdGhlIGJvZHkgdG8gYmUgYSBzZXJ2ZXIgaWQgaWZcbiAgICAgICAgLy8geW91IHdhbnQgdG8gbWFrZSB1c2Ugb2YgcmV2ZXJ0XG4gICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgLy8gd2UgcHV0IHRoZSByZXNwb25zZSBpbiBzdGF0ZSBzbyB3ZSBjYW4gYWNjZXNzXG4gICAgICAgICAgLy8gaXQgb3V0c2lkZSBvZiB0aGlzIG1ldGhvZFxuICAgICAgICAgIHN0YXRlLnJlc3BvbnNlID0gaXNPYmplY3QocmVzcG9uc2UpXG4gICAgICAgICAgICA/IHJlc3BvbnNlXG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbG9hZCcsXG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgIGJvZHk6ICcnICsgcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge31cbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIHVwZGF0ZSBkdXJhdGlvblxuICAgICAgICAgIHN0YXRlLmR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXRlLnRpbWVzdGFtcDtcblxuICAgICAgICAgIC8vIGZvcmNlIHByb2dyZXNzIHRvIDEgYXMgd2UncmUgbm93IGRvbmVcbiAgICAgICAgICBzdGF0ZS5wcm9ncmVzcyA9IDE7XG5cbiAgICAgICAgICAvLyBhY3R1YWwgbG9hZCBpcyBkb25lIGxldCdzIHNoYXJlIHJlc3VsdHNcbiAgICAgICAgICBhcGkuZmlyZSgnbG9hZCcsIHN0YXRlLnJlc3BvbnNlLmJvZHkpO1xuXG4gICAgICAgICAgLy8gd2UgYXJlIHJlYWxseSBkb25lXG4gICAgICAgICAgLy8gaWYgcGVyY2VpdmVkIHByb2dyZXNzIGlzIDEgKCB3YWl0IGZvciBwZXJjZWl2ZWQgcHJvZ3Jlc3MgdG8gY29tcGxldGUgKVxuICAgICAgICAgIC8vIG9yIGlmIHNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IHByb2dyZXNzICggbnVsbCApXG4gICAgICAgICAgaWYgKHN0YXRlLnBlcmNlaXZlZFByb2dyZXNzID09PSAxKSB7XG4gICAgICAgICAgICBjb21wbGV0ZUZuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIGVycm9yIGlzIGV4cGVjdGVkIHRvIGJlIGFuIG9iamVjdCB3aXRoIHR5cGUsIGNvZGUsIGJvZHlcbiAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBjYW5jZWwgdXBkYXRlclxuICAgICAgICAgIHN0YXRlLnBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlci5jbGVhcigpO1xuXG4gICAgICAgICAgLy8gdXBkYXRlIG90aGVycyBhYm91dCB0aGlzIGVycm9yXG4gICAgICAgICAgYXBpLmZpcmUoXG4gICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgaXNPYmplY3QoZXJyb3IpXG4gICAgICAgICAgICAgID8gZXJyb3JcbiAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgY29kZTogMCxcbiAgICAgICAgICAgICAgICAgIGJvZHk6ICcnICsgZXJyb3JcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBhY3R1YWwgcHJvY2Vzc2luZyBwcm9ncmVzc1xuICAgICAgICBmdW5jdGlvbihjb21wdXRhYmxlLCBjdXJyZW50LCB0b3RhbCkge1xuICAgICAgICAgIC8vIHVwZGF0ZSBhY3R1YWwgZHVyYXRpb25cbiAgICAgICAgICBzdGF0ZS5kdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXA7XG5cbiAgICAgICAgICAvLyB1cGRhdGUgYWN0dWFsIHByb2dyZXNzXG4gICAgICAgICAgc3RhdGUucHJvZ3Jlc3MgPSBjb21wdXRhYmxlID8gY3VycmVudCAvIHRvdGFsIDogbnVsbDtcblxuICAgICAgICAgIHByb2dyZXNzRm4oKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBhYm9ydCBkb2VzIG5vdCBleHBlY3QgYSB2YWx1ZVxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBzdG9wIHVwZGF0ZXJcbiAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIuY2xlYXIoKTtcblxuICAgICAgICAgIC8vIGZpcmUgdGhlIGFib3J0IGV2ZW50IHNvIHdlIGNhbiBzd2l0Y2ggdmlzdWFsc1xuICAgICAgICAgIGFwaS5maXJlKCdhYm9ydCcsIHN0YXRlLnJlc3BvbnNlID8gc3RhdGUucmVzcG9uc2UuYm9keSA6IG51bGwpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBpZCBmb3IgdGhpcyB0cmFuc2ZlclxuICAgICAgICBmdW5jdGlvbih0cmFuc2ZlcklkKSB7XG4gICAgICAgICAgYXBpLmZpcmUoJ3RyYW5zZmVyJywgdHJhbnNmZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIHZhciBhYm9ydCA9IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgLy8gbm8gcmVxdWVzdCBydW5uaW5nLCBjYW4ndCBhYm9ydFxuICAgICAgaWYgKCFzdGF0ZS5yZXF1ZXN0KSByZXR1cm47XG5cbiAgICAgIC8vIHN0b3AgdXBkYXRlclxuICAgICAgc3RhdGUucGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyLmNsZWFyKCk7XG5cbiAgICAgIC8vIGFib3J0IGFjdHVhbCByZXF1ZXN0XG4gICAgICBpZiAoc3RhdGUucmVxdWVzdC5hYm9ydCkgc3RhdGUucmVxdWVzdC5hYm9ydCgpO1xuXG4gICAgICAvLyBpZiBoYXMgcmVzcG9uc2Ugb2JqZWN0LCB3ZSd2ZSBjb21wbGV0ZWQgdGhlIHJlcXVlc3RcbiAgICAgIHN0YXRlLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdmFyIHJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICBhYm9ydCgpO1xuICAgICAgc3RhdGUuY29tcGxldGUgPSBmYWxzZTtcbiAgICAgIHN0YXRlLnBlcmNlaXZlZFByb2dyZXNzID0gMDtcbiAgICAgIHN0YXRlLnByb2dyZXNzID0gMDtcbiAgICAgIHN0YXRlLnRpbWVzdGFtcCA9IG51bGw7XG4gICAgICBzdGF0ZS5wZXJjZWl2ZWREdXJhdGlvbiA9IDA7XG4gICAgICBzdGF0ZS5kdXJhdGlvbiA9IDA7XG4gICAgICBzdGF0ZS5yZXF1ZXN0ID0gbnVsbDtcbiAgICAgIHN0YXRlLnJlc3BvbnNlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIGdldFByb2dyZXNzID0gZnVuY3Rpb24gZ2V0UHJvZ3Jlc3MoKSB7XG4gICAgICByZXR1cm4gc3RhdGUucHJvZ3Jlc3NcbiAgICAgICAgPyBNYXRoLm1pbihzdGF0ZS5wcm9ncmVzcywgc3RhdGUucGVyY2VpdmVkUHJvZ3Jlc3MpXG4gICAgICAgIDogbnVsbDtcbiAgICB9O1xuICAgIHZhciBnZXREdXJhdGlvbiA9IGZ1bmN0aW9uIGdldER1cmF0aW9uKCkge1xuICAgICAgcmV0dXJuIE1hdGgubWluKHN0YXRlLmR1cmF0aW9uLCBzdGF0ZS5wZXJjZWl2ZWREdXJhdGlvbik7XG4gICAgfTtcblxuICAgIHZhciBhcGkgPSBPYmplY3QuYXNzaWduKHt9LCBvbigpLCB7XG4gICAgICBwcm9jZXNzOiBwcm9jZXNzLCAvLyBzdGFydCBwcm9jZXNzaW5nIGZpbGVcbiAgICAgIGFib3J0OiBhYm9ydCwgLy8gYWJvcnQgYWN0aXZlIHByb2Nlc3MgcmVxdWVzdFxuICAgICAgZ2V0UHJvZ3Jlc3M6IGdldFByb2dyZXNzLFxuICAgICAgZ2V0RHVyYXRpb246IGdldER1cmF0aW9uLFxuICAgICAgcmVzZXQ6IHJlc2V0XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYXBpO1xuICB9O1xuXG4gIHZhciBnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb24gPSBmdW5jdGlvbiBnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb24obmFtZSkge1xuICAgIHJldHVybiBuYW1lLnN1YnN0cigwLCBuYW1lLmxhc3RJbmRleE9mKCcuJykpIHx8IG5hbWU7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUZpbGVTdHViID0gZnVuY3Rpb24gY3JlYXRlRmlsZVN0dWIoc291cmNlKSB7XG4gICAgdmFyIGRhdGEgPSBbc291cmNlLm5hbWUsIHNvdXJjZS5zaXplLCBzb3VyY2UudHlwZV07XG5cbiAgICAvLyBpcyBibG9iIG9yIGJhc2U2NCwgdGhlbiB3ZSBuZWVkIHRvIHNldCB0aGUgbmFtZVxuICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBCbG9iIHx8IGlzQmFzZTY0RGF0YVVSSShzb3VyY2UpKSB7XG4gICAgICBkYXRhWzBdID0gc291cmNlLm5hbWUgfHwgZ2V0RGF0ZVN0cmluZygpO1xuICAgIH0gZWxzZSBpZiAoaXNCYXNlNjREYXRhVVJJKHNvdXJjZSkpIHtcbiAgICAgIC8vIGlmIGlzIGJhc2U2NCBkYXRhIHVyaSB3ZSBuZWVkIHRvIGRldGVybWluZSB0aGUgYXZlcmFnZSBzaXplIGFuZCB0eXBlXG4gICAgICBkYXRhWzFdID0gc291cmNlLmxlbmd0aDtcbiAgICAgIGRhdGFbMl0gPSBnZXRNaW1lVHlwZUZyb21CYXNlNjREYXRhVVJJKHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmIChpc1N0cmluZyhzb3VyY2UpKSB7XG4gICAgICAvLyB1cmxcbiAgICAgIGRhdGFbMF0gPSBnZXRGaWxlbmFtZUZyb21VUkwoc291cmNlKTtcbiAgICAgIGRhdGFbMV0gPSAwO1xuICAgICAgZGF0YVsyXSA9ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBkYXRhWzBdLFxuICAgICAgc2l6ZTogZGF0YVsxXSxcbiAgICAgIHR5cGU6IGRhdGFbMl1cbiAgICB9O1xuICB9O1xuXG4gIHZhciBpc0ZpbGUgPSBmdW5jdGlvbiBpc0ZpbGUodmFsdWUpIHtcbiAgICByZXR1cm4gISEodmFsdWUgaW5zdGFuY2VvZiBGaWxlIHx8ICh2YWx1ZSBpbnN0YW5jZW9mIEJsb2IgJiYgdmFsdWUubmFtZSkpO1xuICB9O1xuXG4gIHZhciBkZWVwQ2xvbmVPYmplY3QgPSBmdW5jdGlvbiBkZWVwQ2xvbmVPYmplY3Qoc3JjKSB7XG4gICAgaWYgKCFpc09iamVjdChzcmMpKSByZXR1cm4gc3JjO1xuICAgIHZhciB0YXJnZXQgPSBpc0FycmF5KHNyYykgPyBbXSA6IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBzcmMpIHtcbiAgICAgIGlmICghc3JjLmhhc093blByb3BlcnR5KGtleSkpIGNvbnRpbnVlO1xuICAgICAgdmFyIHYgPSBzcmNba2V5XTtcbiAgICAgIHRhcmdldFtrZXldID0gdiAmJiBpc09iamVjdCh2KSA/IGRlZXBDbG9uZU9iamVjdCh2KSA6IHY7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUl0ZW0gPSBmdW5jdGlvbiBjcmVhdGVJdGVtKCkge1xuICAgIHZhciBvcmlnaW4gPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuICAgIHZhciBzZXJ2ZXJGaWxlUmVmZXJlbmNlID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbnVsbDtcbiAgICB2YXIgZmlsZSA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG4gICAgLy8gdW5pcXVlIGlkIGZvciB0aGlzIGl0ZW0sIGlzIHVzZWQgdG8gaWRlbnRpZnkgdGhlIGl0ZW0gYWNyb3NzIHZpZXdzXG4gICAgdmFyIGlkID0gZ2V0VW5pcXVlSWQoKTtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGl0ZW0gc3RhdGVcbiAgICAgKi9cbiAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAvLyBpcyBhcmNoaXZlZFxuICAgICAgYXJjaGl2ZWQ6IGZhbHNlLFxuXG4gICAgICAvLyBpZiBpcyBmcm96ZW4sIG5vIGxvbmdlciBmaXJlcyBldmVudHNcbiAgICAgIGZyb3plbjogZmFsc2UsXG5cbiAgICAgIC8vIHJlbW92ZWQgZnJvbSB2aWV3XG4gICAgICByZWxlYXNlZDogZmFsc2UsXG5cbiAgICAgIC8vIG9yaWdpbmFsIHNvdXJjZVxuICAgICAgc291cmNlOiBudWxsLFxuXG4gICAgICAvLyBmaWxlIG1vZGVsIHJlZmVyZW5jZVxuICAgICAgZmlsZTogZmlsZSxcblxuICAgICAgLy8gaWQgb2YgZmlsZSBvbiBzZXJ2ZXJcbiAgICAgIHNlcnZlckZpbGVSZWZlcmVuY2U6IHNlcnZlckZpbGVSZWZlcmVuY2UsXG5cbiAgICAgIC8vIGlkIG9mIGZpbGUgdHJhbnNmZXIgb24gc2VydmVyXG4gICAgICB0cmFuc2ZlcklkOiBudWxsLFxuXG4gICAgICAvLyBpcyBhYm9ydGVkXG4gICAgICBwcm9jZXNzaW5nQWJvcnRlZDogZmFsc2UsXG5cbiAgICAgIC8vIGN1cnJlbnQgaXRlbSBzdGF0dXNcbiAgICAgIHN0YXR1czogc2VydmVyRmlsZVJlZmVyZW5jZVxuICAgICAgICA/IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURVxuICAgICAgICA6IEl0ZW1TdGF0dXMuSU5JVCxcblxuICAgICAgLy8gYWN0aXZlIHByb2Nlc3Nlc1xuICAgICAgYWN0aXZlTG9hZGVyOiBudWxsLFxuICAgICAgYWN0aXZlUHJvY2Vzc29yOiBudWxsXG4gICAgfTtcblxuICAgIC8vIGNhbGxiYWNrIHVzZWQgd2hlbiBhYm9ydCBwcm9jZXNzaW5nIGlzIGNhbGxlZCB0byBsaW5rIGJhY2sgdG8gdGhlIHJlc29sdmUgbWV0aG9kXG4gICAgdmFyIGFib3J0UHJvY2Vzc2luZ1JlcXVlc3RDb21wbGV0ZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBFeHRlcm5hbGx5IGFkZGVkIGl0ZW0gbWV0YWRhdGFcbiAgICAgKi9cbiAgICB2YXIgbWV0YWRhdGEgPSB7fTtcblxuICAgIC8vIGl0ZW0gZGF0YVxuICAgIHZhciBzZXRTdGF0dXMgPSBmdW5jdGlvbiBzZXRTdGF0dXMoc3RhdHVzKSB7XG4gICAgICByZXR1cm4gKHN0YXRlLnN0YXR1cyA9IHN0YXR1cyk7XG4gICAgfTtcblxuICAgIC8vIGZpcmUgZXZlbnQgdW5sZXNzIHRoZSBpdGVtIGhhcyBiZWVuIGFyY2hpdmVkXG4gICAgdmFyIGZpcmUgPSBmdW5jdGlvbiBmaXJlKGV2ZW50KSB7XG4gICAgICBpZiAoc3RhdGUucmVsZWFzZWQgfHwgc3RhdGUuZnJvemVuKSByZXR1cm47XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgcGFyYW1zID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSxcbiAgICAgICAgICBfa2V5ID0gMTtcbiAgICAgICAgX2tleSA8IF9sZW47XG4gICAgICAgIF9rZXkrK1xuICAgICAgKSB7XG4gICAgICAgIHBhcmFtc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICBhcGkuZmlyZS5hcHBseShhcGksIFtldmVudF0uY29uY2F0KHBhcmFtcykpO1xuICAgIH07XG5cbiAgICAvLyBmaWxlIGRhdGFcbiAgICB2YXIgZ2V0RmlsZUV4dGVuc2lvbiA9IGZ1bmN0aW9uIGdldEZpbGVFeHRlbnNpb24oKSB7XG4gICAgICByZXR1cm4gZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lKHN0YXRlLmZpbGUubmFtZSk7XG4gICAgfTtcbiAgICB2YXIgZ2V0RmlsZVR5cGUgPSBmdW5jdGlvbiBnZXRGaWxlVHlwZSgpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5maWxlLnR5cGU7XG4gICAgfTtcbiAgICB2YXIgZ2V0RmlsZVNpemUgPSBmdW5jdGlvbiBnZXRGaWxlU2l6ZSgpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5maWxlLnNpemU7XG4gICAgfTtcbiAgICB2YXIgZ2V0RmlsZSA9IGZ1bmN0aW9uIGdldEZpbGUoKSB7XG4gICAgICByZXR1cm4gc3RhdGUuZmlsZTtcbiAgICB9O1xuXG4gICAgLy9cbiAgICAvLyBsb2dpYyB0byBsb2FkIGEgZmlsZVxuICAgIC8vXG4gICAgdmFyIGxvYWQgPSBmdW5jdGlvbiBsb2FkKHNvdXJjZSwgbG9hZGVyLCBvbmxvYWQpIHtcbiAgICAgIC8vIHJlbWVtYmVyIHRoZSBvcmlnaW5hbCBpdGVtIHNvdXJjZVxuICAgICAgc3RhdGUuc291cmNlID0gc291cmNlO1xuXG4gICAgICAvLyBzb3VyY2UgaXMga25vd25cbiAgICAgIGFwaS5maXJlU3luYygnaW5pdCcpO1xuXG4gICAgICAvLyBmaWxlIHN0dWIgaXMgYWxyZWFkeSB0aGVyZVxuICAgICAgaWYgKHN0YXRlLmZpbGUpIHtcbiAgICAgICAgYXBpLmZpcmVTeW5jKCdsb2FkLXNraXAnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgYSBzdHViIGZpbGUgb2JqZWN0IHdoaWxlIGxvYWRpbmcgdGhlIGFjdHVhbCBkYXRhXG4gICAgICBzdGF0ZS5maWxlID0gY3JlYXRlRmlsZVN0dWIoc291cmNlKTtcblxuICAgICAgLy8gc3RhcnRzIGxvYWRpbmdcbiAgICAgIGxvYWRlci5vbignaW5pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBmaXJlKCdsb2FkLWluaXQnKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyB3ZSdldmUgcmVjZWl2ZWQgYSBzaXplIGluZGljYXRpb24sIGxldCdzIHVwZGF0ZSB0aGUgc3R1YlxuICAgICAgbG9hZGVyLm9uKCdtZXRhJywgZnVuY3Rpb24obWV0YSkge1xuICAgICAgICAvLyBzZXQgc2l6ZSBvZiBmaWxlIHN0dWJcbiAgICAgICAgc3RhdGUuZmlsZS5zaXplID0gbWV0YS5zaXplO1xuXG4gICAgICAgIC8vIHNldCBuYW1lIG9mIGZpbGUgc3R1YlxuICAgICAgICBzdGF0ZS5maWxlLmZpbGVuYW1lID0gbWV0YS5maWxlbmFtZTtcblxuICAgICAgICAvLyBpZiBoYXMgcmVjZWl2ZWQgc291cmNlLCB3ZSBkb25lXG4gICAgICAgIGlmIChtZXRhLnNvdXJjZSkge1xuICAgICAgICAgIG9yaWdpbiA9IEZpbGVPcmlnaW4uTElNQk87XG4gICAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSA9IG1ldGEuc291cmNlO1xuICAgICAgICAgIHN0YXRlLnN0YXR1cyA9IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpemUgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgICBmaXJlKCdsb2FkLW1ldGEnKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyB0aGUgZmlsZSBpcyBub3cgbG9hZGluZyB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgcHJvZ3Jlc3MgaW5kaWNhdG9yc1xuICAgICAgbG9hZGVyLm9uKCdwcm9ncmVzcycsIGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLkxPQURJTkcpO1xuXG4gICAgICAgIGZpcmUoJ2xvYWQtcHJvZ3Jlc3MnLCBwcm9ncmVzcyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gYW4gZXJyb3Igd2FzIHRocm93biB3aGlsZSBsb2FkaW5nIHRoZSBmaWxlLCB3ZSBuZWVkIHRvIHN3aXRjaCB0byBlcnJvciBzdGF0ZVxuICAgICAgbG9hZGVyLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLkxPQURfRVJST1IpO1xuXG4gICAgICAgIGZpcmUoJ2xvYWQtcmVxdWVzdC1lcnJvcicsIGVycm9yKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyB1c2VyIG9yIGFub3RoZXIgcHJvY2VzcyBhYm9ydGVkIHRoZSBmaWxlIGxvYWQgKGNhbm5vdCByZXRyeSlcbiAgICAgIGxvYWRlci5vbignYWJvcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuSU5JVCk7XG4gICAgICAgIGZpcmUoJ2xvYWQtYWJvcnQnKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBkb25lIGxvYWRpbmdcbiAgICAgIGxvYWRlci5vbignbG9hZCcsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgLy8gYXMgd2UndmUgbm93IGxvYWRlZCB0aGUgZmlsZSB0aGUgbG9hZGVyIGlzIG5vIGxvbmdlciByZXF1aXJlZFxuICAgICAgICBzdGF0ZS5hY3RpdmVMb2FkZXIgPSBudWxsO1xuXG4gICAgICAgIC8vIGNhbGxlZCB3aGVuIGZpbGUgaGFzIGxvYWRlZCBzdWNjZXNmdWxseVxuICAgICAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzdWx0KSB7XG4gICAgICAgICAgLy8gc2V0IChwb3NzaWJseSkgdHJhbnNmb3JtZWQgZmlsZVxuICAgICAgICAgIHN0YXRlLmZpbGUgPSBpc0ZpbGUocmVzdWx0KSA/IHJlc3VsdCA6IHN0YXRlLmZpbGU7XG5cbiAgICAgICAgICAvLyBmaWxlIHJlY2VpdmVkXG4gICAgICAgICAgaWYgKG9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MSU1CTyAmJiBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuSURMRSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZmlyZSgnbG9hZCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBlcnJvciA9IGZ1bmN0aW9uIGVycm9yKHJlc3VsdCkge1xuICAgICAgICAgIC8vIHNldCBvcmlnaW5hbCBmaWxlXG4gICAgICAgICAgc3RhdGUuZmlsZSA9IGZpbGU7XG4gICAgICAgICAgZmlyZSgnbG9hZC1tZXRhJyk7XG5cbiAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5MT0FEX0VSUk9SKTtcbiAgICAgICAgICBmaXJlKCdsb2FkLWZpbGUtZXJyb3InLCByZXN1bHQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGlmIHdlIGFscmVhZHkgaGF2ZSBhIHNlcnZlciBmaWxlIHJlZmVyZW5jZSwgd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHRoZSBvbmxvYWQgbWV0aG9kXG4gICAgICAgIGlmIChzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlKSB7XG4gICAgICAgICAgc3VjY2VzcyhmaWxlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBzZXJ2ZXIgaWQsIGxldCdzIGdpdmUgdGhpcyBmaWxlIHRoZSBmdWxsIHRyZWF0bWVudFxuICAgICAgICBvbmxvYWQoZmlsZSwgc3VjY2VzcywgZXJyb3IpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHNldCBsb2FkZXIgc291cmNlIGRhdGFcbiAgICAgIGxvYWRlci5zZXRTb3VyY2Uoc291cmNlKTtcblxuICAgICAgLy8gc2V0IGFzIGFjdGl2ZSBsb2FkZXJcbiAgICAgIHN0YXRlLmFjdGl2ZUxvYWRlciA9IGxvYWRlcjtcblxuICAgICAgLy8gbG9hZCB0aGUgc291cmNlIGRhdGFcbiAgICAgIGxvYWRlci5sb2FkKCk7XG4gICAgfTtcblxuICAgIHZhciByZXRyeUxvYWQgPSBmdW5jdGlvbiByZXRyeUxvYWQoKSB7XG4gICAgICBpZiAoIXN0YXRlLmFjdGl2ZUxvYWRlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzdGF0ZS5hY3RpdmVMb2FkZXIubG9hZCgpO1xuICAgIH07XG5cbiAgICB2YXIgYWJvcnRMb2FkID0gZnVuY3Rpb24gYWJvcnRMb2FkKCkge1xuICAgICAgaWYgKHN0YXRlLmFjdGl2ZUxvYWRlcikge1xuICAgICAgICBzdGF0ZS5hY3RpdmVMb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuSU5JVCk7XG4gICAgICBmaXJlKCdsb2FkLWFib3J0Jyk7XG4gICAgfTtcblxuICAgIC8vXG4gICAgLy8gbG9naWMgdG8gcHJvY2VzcyBhIGZpbGVcbiAgICAvL1xuICAgIHZhciBwcm9jZXNzID0gZnVuY3Rpb24gcHJvY2Vzcyhwcm9jZXNzb3IsIG9ucHJvY2Vzcykge1xuICAgICAgLy8gcHJvY2Vzc2luZyB3YXMgYWJvcnRlZFxuICAgICAgaWYgKHN0YXRlLnByb2Nlc3NpbmdBYm9ydGVkKSB7XG4gICAgICAgIHN0YXRlLnByb2Nlc3NpbmdBYm9ydGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gbm93IHByb2Nlc3NpbmdcbiAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLlBST0NFU1NJTkcpO1xuXG4gICAgICAvLyByZXNldCBhYm9ydCBjYWxsYmFja1xuICAgICAgYWJvcnRQcm9jZXNzaW5nUmVxdWVzdENvbXBsZXRlID0gbnVsbDtcblxuICAgICAgLy8gaWYgbm8gZmlsZSBsb2FkZWQgd2UnbGwgd2FpdCBmb3IgdGhlIGxvYWQgZXZlbnRcbiAgICAgIGlmICghKHN0YXRlLmZpbGUgaW5zdGFuY2VvZiBCbG9iKSkge1xuICAgICAgICBhcGkub24oJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBwcm9jZXNzKHByb2Nlc3Nvciwgb25wcm9jZXNzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0dXAgcHJvY2Vzc29yXG4gICAgICBwcm9jZXNzb3Iub24oJ2xvYWQnLCBmdW5jdGlvbihzZXJ2ZXJGaWxlUmVmZXJlbmNlKSB7XG4gICAgICAgIC8vIG5lZWQgdGhpcyBpZCB0byBiZSBhYmxlIHRvIHJldmVydCB0aGUgdXBsb2FkXG4gICAgICAgIHN0YXRlLnRyYW5zZmVySWQgPSBudWxsO1xuICAgICAgICBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlID0gc2VydmVyRmlsZVJlZmVyZW5jZTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyByZWdpc3RlciB0cmFuc2ZlciBpZFxuICAgICAgcHJvY2Vzc29yLm9uKCd0cmFuc2ZlcicsIGZ1bmN0aW9uKHRyYW5zZmVySWQpIHtcbiAgICAgICAgLy8gbmVlZCB0aGlzIGlkIHRvIGJlIGFibGUgdG8gcmV2ZXJ0IHRoZSB1cGxvYWRcbiAgICAgICAgc3RhdGUudHJhbnNmZXJJZCA9IHRyYW5zZmVySWQ7XG4gICAgICB9KTtcblxuICAgICAgcHJvY2Vzc29yLm9uKCdsb2FkLXBlcmNlaXZlZCcsIGZ1bmN0aW9uKHNlcnZlckZpbGVSZWZlcmVuY2UpIHtcbiAgICAgICAgLy8gbm8gbG9uZ2VyIHJlcXVpcmVkXG4gICAgICAgIHN0YXRlLmFjdGl2ZVByb2Nlc3NvciA9IG51bGw7XG5cbiAgICAgICAgLy8gbmVlZCB0aGlzIGlkIHRvIGJlIGFibGUgdG8gcmV2ZXIgdGhlIHVwbG9hZFxuICAgICAgICBzdGF0ZS50cmFuc2ZlcklkID0gbnVsbDtcbiAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSA9IHNlcnZlckZpbGVSZWZlcmVuY2U7XG5cbiAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURSk7XG4gICAgICAgIGZpcmUoJ3Byb2Nlc3MtY29tcGxldGUnLCBzZXJ2ZXJGaWxlUmVmZXJlbmNlKTtcbiAgICAgIH0pO1xuXG4gICAgICBwcm9jZXNzb3Iub24oJ3N0YXJ0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGZpcmUoJ3Byb2Nlc3Mtc3RhcnQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBwcm9jZXNzb3Iub24oJ2Vycm9yJywgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgc3RhdGUuYWN0aXZlUHJvY2Vzc29yID0gbnVsbDtcbiAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19FUlJPUik7XG4gICAgICAgIGZpcmUoJ3Byb2Nlc3MtZXJyb3InLCBlcnJvcik7XG4gICAgICB9KTtcblxuICAgICAgcHJvY2Vzc29yLm9uKCdhYm9ydCcsIGZ1bmN0aW9uKHNlcnZlckZpbGVSZWZlcmVuY2UpIHtcbiAgICAgICAgc3RhdGUuYWN0aXZlUHJvY2Vzc29yID0gbnVsbDtcblxuICAgICAgICAvLyBpZiBmaWxlIHdhcyB1cGxvYWRlZCBidXQgcHJvY2Vzc2luZyB3YXMgY2FuY2VsbGVkIGR1cmluZyBwZXJjZWl2ZWQgcHJvY2Vzc29yIHRpbWUgc3RvcmUgZmlsZSByZWZlcmVuY2VcbiAgICAgICAgc3RhdGUudHJhbnNmZXJJZCA9IG51bGw7XG4gICAgICAgIHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgPSBzZXJ2ZXJGaWxlUmVmZXJlbmNlO1xuXG4gICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklETEUpO1xuICAgICAgICBmaXJlKCdwcm9jZXNzLWFib3J0Jyk7XG5cbiAgICAgICAgLy8gaGFzIHRpbWVvdXQgc28gZG9lc24ndCBpbnRlcmZlcmUgd2l0aCByZW1vdmUgYWN0aW9uXG4gICAgICAgIGlmIChhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUpIHtcbiAgICAgICAgICBhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHByb2Nlc3Nvci5vbigncHJvZ3Jlc3MnLCBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICBmaXJlKCdwcm9jZXNzLXByb2dyZXNzJywgcHJvZ3Jlc3MpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHdoZW4gc3VjY2Vzc2Z1bGx5IHRyYW5zZm9ybWVkXG4gICAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIHN1Y2Nlc3MoZmlsZSkge1xuICAgICAgICAvLyBpZiB3YXMgYXJjaGl2ZWQgaW4gdGhlIG1lYW4gdGltZSwgZG9uJ3QgcHJvY2Vzc1xuICAgICAgICBpZiAoc3RhdGUuYXJjaGl2ZWQpIHJldHVybjtcblxuICAgICAgICAvLyBwcm9jZXNzIGZpbGUhXG4gICAgICAgIHByb2Nlc3Nvci5wcm9jZXNzKGZpbGUsIE9iamVjdC5hc3NpZ24oe30sIG1ldGFkYXRhKSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgdHJhbnNmb3JtIHBoYXNlXG4gICAgICB2YXIgZXJyb3IgPSBjb25zb2xlLmVycm9yO1xuXG4gICAgICAvLyBzdGFydCBwcm9jZXNzaW5nIHRoZSBmaWxlXG4gICAgICBvbnByb2Nlc3Moc3RhdGUuZmlsZSwgc3VjY2VzcywgZXJyb3IpO1xuXG4gICAgICAvLyBzZXQgYXMgYWN0aXZlIHByb2Nlc3NvclxuICAgICAgc3RhdGUuYWN0aXZlUHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgIH07XG5cbiAgICB2YXIgcmVxdWVzdFByb2Nlc3NpbmcgPSBmdW5jdGlvbiByZXF1ZXN0UHJvY2Vzc2luZygpIHtcbiAgICAgIHN0YXRlLnByb2Nlc3NpbmdBYm9ydGVkID0gZmFsc2U7XG4gICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HX1FVRVVFRCk7XG4gICAgfTtcblxuICAgIHZhciBhYm9ydFByb2Nlc3NpbmcgPSBmdW5jdGlvbiBhYm9ydFByb2Nlc3NpbmcoKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICBpZiAoIXN0YXRlLmFjdGl2ZVByb2Nlc3Nvcikge1xuICAgICAgICAgIHN0YXRlLnByb2Nlc3NpbmdBYm9ydGVkID0gdHJ1ZTtcblxuICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklETEUpO1xuICAgICAgICAgIGZpcmUoJ3Byb2Nlc3MtYWJvcnQnKTtcblxuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUgPSBmdW5jdGlvbiBhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUoKSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHN0YXRlLmFjdGl2ZVByb2Nlc3Nvci5hYm9ydCgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vXG4gICAgLy8gbG9naWMgdG8gcmV2ZXJ0IGEgcHJvY2Vzc2VkIGZpbGVcbiAgICAvL1xuICAgIHZhciByZXZlcnQgPSBmdW5jdGlvbiByZXZlcnQocmV2ZXJ0RmlsZVVwbG9hZCwgZm9yY2VSZXZlcnQpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgLy8gY2Fubm90IHJldmVydCB3aXRob3V0IGEgc2VydmVyIGlkIGZvciB0aGlzIHByb2Nlc3NcbiAgICAgICAgaWYgKHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmV2ZXJ0IHRoZSB1cGxvYWQgKGZpcmUgYW5kIGZvcmdldClcbiAgICAgICAgcmV2ZXJ0RmlsZVVwbG9hZChcbiAgICAgICAgICBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlLFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gcmVzZXQgZmlsZSBzZXJ2ZXIgaWQgYXMgbm93IGl0J3Mgbm8gYXZhaWxhYmxlIG9uIHRoZSBzZXJ2ZXJcbiAgICAgICAgICAgIHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgPSBudWxsO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIGRvbid0IHNldCBlcnJvciBzdGF0ZSB3aGVuIHJldmVydGluZyBpcyBvcHRpb25hbCwgaXQgd2lsbCBhbHdheXMgcmVzb2x2ZVxuICAgICAgICAgICAgaWYgKCFmb3JjZVJldmVydCkge1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb2ggbm8gZXJyb3JzXG4gICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUik7XG4gICAgICAgICAgICBmaXJlKCdwcm9jZXNzLXJldmVydC1lcnJvcicpO1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gZmlyZSBldmVudFxuICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5JRExFKTtcbiAgICAgICAgZmlyZSgncHJvY2Vzcy1yZXZlcnQnKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBleHBvc2VkIG1ldGhvZHNcbiAgICB2YXIgX3NldE1ldGFkYXRhID0gZnVuY3Rpb24gc2V0TWV0YWRhdGEoa2V5LCB2YWx1ZSwgc2lsZW50KSB7XG4gICAgICB2YXIga2V5cyA9IGtleS5zcGxpdCgnLicpO1xuICAgICAgdmFyIHJvb3QgPSBrZXlzWzBdO1xuICAgICAgdmFyIGxhc3QgPSBrZXlzLnBvcCgpO1xuICAgICAgdmFyIGRhdGEgPSBtZXRhZGF0YTtcbiAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIChkYXRhID0gZGF0YVtrZXldKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBjb21wYXJlIG9sZCB2YWx1ZSBhZ2FpbnN0IG5ldyB2YWx1ZSwgaWYgdGhleSdyZSB0aGUgc2FtZSwgd2UncmUgbm90IHVwZGF0aW5nXG4gICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoZGF0YVtsYXN0XSkgPT09IEpTT04uc3RyaW5naWZ5KHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgICAvLyB1cGRhdGUgdmFsdWVcbiAgICAgIGRhdGFbbGFzdF0gPSB2YWx1ZTtcblxuICAgICAgLy8gZG9uJ3QgZmlyZSB1cGRhdGVcbiAgICAgIGlmIChzaWxlbnQpIHJldHVybjtcblxuICAgICAgLy8gZmlyZSB1cGRhdGVcbiAgICAgIGZpcmUoJ21ldGFkYXRhLXVwZGF0ZScsIHtcbiAgICAgICAga2V5OiByb290LFxuICAgICAgICB2YWx1ZTogbWV0YWRhdGFbcm9vdF1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0TWV0YWRhdGEgPSBmdW5jdGlvbiBnZXRNZXRhZGF0YShrZXkpIHtcbiAgICAgIHJldHVybiBkZWVwQ2xvbmVPYmplY3Qoa2V5ID8gbWV0YWRhdGFba2V5XSA6IG1ldGFkYXRhKTtcbiAgICB9O1xuXG4gICAgdmFyIGFwaSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7XG4gICAgICAgIGlkOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvcmlnaW46IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW47XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXJ2ZXJJZDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2U7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0cmFuc2ZlcklkOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUudHJhbnNmZXJJZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0YXR1czoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnN0YXR1cztcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZpbGVuYW1lOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuZmlsZS5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RmlsZW5hbWVXaXRob3V0RXh0ZW5zaW9uKHN0YXRlLmZpbGUubmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmaWxlRXh0ZW5zaW9uOiB7IGdldDogZ2V0RmlsZUV4dGVuc2lvbiB9LFxuICAgICAgICBmaWxlVHlwZTogeyBnZXQ6IGdldEZpbGVUeXBlIH0sXG4gICAgICAgIGZpbGVTaXplOiB7IGdldDogZ2V0RmlsZVNpemUgfSxcbiAgICAgICAgZmlsZTogeyBnZXQ6IGdldEZpbGUgfSxcbiAgICAgICAgcmVsYXRpdmVQYXRoOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuZmlsZS5fcmVsYXRpdmVQYXRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5zb3VyY2U7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGdldE1ldGFkYXRhOiBnZXRNZXRhZGF0YSxcbiAgICAgICAgc2V0TWV0YWRhdGE6IGZ1bmN0aW9uIHNldE1ldGFkYXRhKGtleSwgdmFsdWUsIHNpbGVudCkge1xuICAgICAgICAgIGlmIChpc09iamVjdChrZXkpKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGtleTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgIF9zZXRNZXRhZGF0YShrZXksIGRhdGFba2V5XSwgdmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBfc2V0TWV0YWRhdGEoa2V5LCB2YWx1ZSwgc2lsZW50KTtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZXh0ZW5kOiBmdW5jdGlvbiBleHRlbmQobmFtZSwgaGFuZGxlcikge1xuICAgICAgICAgIHJldHVybiAoaXRlbUFQSVtuYW1lXSA9IGhhbmRsZXIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFib3J0TG9hZDogYWJvcnRMb2FkLFxuICAgICAgICByZXRyeUxvYWQ6IHJldHJ5TG9hZCxcbiAgICAgICAgcmVxdWVzdFByb2Nlc3Npbmc6IHJlcXVlc3RQcm9jZXNzaW5nLFxuICAgICAgICBhYm9ydFByb2Nlc3Npbmc6IGFib3J0UHJvY2Vzc2luZyxcblxuICAgICAgICBsb2FkOiBsb2FkLFxuICAgICAgICBwcm9jZXNzOiBwcm9jZXNzLFxuICAgICAgICByZXZlcnQ6IHJldmVydFxuICAgICAgfSxcblxuICAgICAgb24oKSxcbiAgICAgIHtcbiAgICAgICAgZnJlZXplOiBmdW5jdGlvbiBmcmVlemUoKSB7XG4gICAgICAgICAgcmV0dXJuIChzdGF0ZS5mcm96ZW4gPSB0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZWxlYXNlOiBmdW5jdGlvbiByZWxlYXNlKCkge1xuICAgICAgICAgIHJldHVybiAoc3RhdGUucmVsZWFzZWQgPSB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVsZWFzZWQ6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5yZWxlYXNlZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgYXJjaGl2ZTogZnVuY3Rpb24gYXJjaGl2ZSgpIHtcbiAgICAgICAgICByZXR1cm4gKHN0YXRlLmFyY2hpdmVkID0gdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFyY2hpdmVkOiB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuYXJjaGl2ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcblxuICAgIC8vIGNyZWF0ZSBpdCBoZXJlIGluc3RlYWQgb2YgcmV0dXJuaW5nIGl0IGluc3RhbnRseSBzbyB3ZSBjYW4gZXh0ZW5kIGl0IGxhdGVyXG4gICAgdmFyIGl0ZW1BUEkgPSBjcmVhdGVPYmplY3QoYXBpKTtcblxuICAgIHJldHVybiBpdGVtQVBJO1xuICB9O1xuXG4gIHZhciBnZXRJdGVtSW5kZXhCeVF1ZXJ5ID0gZnVuY3Rpb24gZ2V0SXRlbUluZGV4QnlRdWVyeShpdGVtcywgcXVlcnkpIHtcbiAgICAvLyBqdXN0IHJldHVybiBmaXJzdCBpbmRleFxuICAgIGlmIChpc0VtcHR5KHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLy8gaW52YWxpZCBxdWVyaWVzXG4gICAgaWYgKCFpc1N0cmluZyhxdWVyeSkpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvLyByZXR1cm4gaXRlbSBieSBpZCAob3IgLTEgaWYgbm90IGZvdW5kKVxuICAgIHJldHVybiBpdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IHF1ZXJ5O1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnZXRJdGVtQnlJZCA9IGZ1bmN0aW9uIGdldEl0ZW1CeUlkKGl0ZW1zLCBpdGVtSWQpIHtcbiAgICB2YXIgaW5kZXggPSBnZXRJdGVtSW5kZXhCeVF1ZXJ5KGl0ZW1zLCBpdGVtSWQpO1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW1zW2luZGV4XSB8fCBudWxsO1xuICB9O1xuXG4gIHZhciBmZXRjaEJsb2IgPSBmdW5jdGlvbiBmZXRjaEJsb2IoXG4gICAgdXJsLFxuICAgIGxvYWQsXG4gICAgZXJyb3IsXG4gICAgcHJvZ3Jlc3MsXG4gICAgYWJvcnQsXG4gICAgaGVhZGVyc1xuICApIHtcbiAgICB2YXIgcmVxdWVzdCA9IHNlbmRSZXF1ZXN0KG51bGwsIHVybCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InXG4gICAgfSk7XG5cbiAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgLy8gZ2V0IGhlYWRlcnNcbiAgICAgIHZhciBoZWFkZXJzID0geGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpO1xuXG4gICAgICAvLyBnZXQgZmlsZW5hbWVcbiAgICAgIHZhciBmaWxlbmFtZSA9XG4gICAgICAgIGdldEZpbGVJbmZvRnJvbUhlYWRlcnMoaGVhZGVycykubmFtZSB8fCBnZXRGaWxlbmFtZUZyb21VUkwodXJsKTtcblxuICAgICAgLy8gY3JlYXRlIHJlc3BvbnNlXG4gICAgICBsb2FkKFxuICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAnbG9hZCcsXG4gICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICBnZXRGaWxlRnJvbUJsb2IoeGhyLnJlc3BvbnNlLCBmaWxlbmFtZSksXG4gICAgICAgICAgaGVhZGVyc1xuICAgICAgICApXG4gICAgICApO1xuICAgIH07XG5cbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgIGVycm9yKFxuICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfTtcblxuICAgIHJlcXVlc3Qub25oZWFkZXJzID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICBoZWFkZXJzKFxuICAgICAgICBjcmVhdGVSZXNwb25zZSgnaGVhZGVycycsIHhoci5zdGF0dXMsIG51bGwsIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKTtcbiAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBhYm9ydDtcblxuICAgIC8vIHNob3VsZCByZXR1cm4gcmVxdWVzdFxuICAgIHJldHVybiByZXF1ZXN0O1xuICB9O1xuXG4gIHZhciBnZXREb21haW5Gcm9tVVJMID0gZnVuY3Rpb24gZ2V0RG9tYWluRnJvbVVSTCh1cmwpIHtcbiAgICBpZiAodXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgIHVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgdXJsO1xuICAgIH1cbiAgICByZXR1cm4gdXJsXG4gICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgLnJlcGxhY2UoJ2Jsb2I6JywgJycpXG4gICAgICAucmVwbGFjZSgvKFthLXpdKT86XFwvXFwvLywgJyQxJylcbiAgICAgIC5zcGxpdCgnLycpWzBdO1xuICB9O1xuXG4gIHZhciBpc0V4dGVybmFsVVJMID0gZnVuY3Rpb24gaXNFeHRlcm5hbFVSTCh1cmwpIHtcbiAgICByZXR1cm4gKFxuICAgICAgKHVybC5pbmRleE9mKCc6JykgPiAtMSB8fCB1cmwuaW5kZXhPZignLy8nKSA+IC0xKSAmJlxuICAgICAgZ2V0RG9tYWluRnJvbVVSTChsb2NhdGlvbi5ocmVmKSAhPT0gZ2V0RG9tYWluRnJvbVVSTCh1cmwpXG4gICAgKTtcbiAgfTtcblxuICB2YXIgZHluYW1pY0xhYmVsID0gZnVuY3Rpb24gZHluYW1pY0xhYmVsKGxhYmVsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGlzRnVuY3Rpb24obGFiZWwpID8gbGFiZWwuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpIDogbGFiZWw7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgaXNNb2NrSXRlbSA9IGZ1bmN0aW9uIGlzTW9ja0l0ZW0oaXRlbSkge1xuICAgIHJldHVybiAhaXNGaWxlKGl0ZW0uZmlsZSk7XG4gIH07XG5cbiAgdmFyIGxpc3RVcGRhdGVkID0gZnVuY3Rpb24gbGlzdFVwZGF0ZWQoZGlzcGF0Y2gsIHN0YXRlKSB7XG4gICAgY2xlYXJUaW1lb3V0KHN0YXRlLmxpc3RVcGRhdGVUaW1lb3V0KTtcbiAgICBzdGF0ZS5saXN0VXBkYXRlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBkaXNwYXRjaCgnRElEX1VQREFURV9JVEVNUycsIHsgaXRlbXM6IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKSB9KTtcbiAgICB9LCAwKTtcbiAgfTtcblxuICB2YXIgb3B0aW9uYWxQcm9taXNlID0gZnVuY3Rpb24gb3B0aW9uYWxQcm9taXNlKGZuKSB7XG4gICAgZm9yIChcbiAgICAgIHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgcGFyYW1zID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSxcbiAgICAgICAgX2tleSA9IDE7XG4gICAgICBfa2V5IDwgX2xlbjtcbiAgICAgIF9rZXkrK1xuICAgICkge1xuICAgICAgcGFyYW1zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgIGlmICghZm4pIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXN1bHQgPSBmbi5hcHBseSh2b2lkIDAsIHBhcmFtcyk7XG5cbiAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJlc3VsdC50aGVuKHJlc29sdmUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBzb3J0SXRlbXMgPSBmdW5jdGlvbiBzb3J0SXRlbXMoc3RhdGUsIGNvbXBhcmUpIHtcbiAgICBzdGF0ZS5pdGVtcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBjb21wYXJlKGNyZWF0ZUl0ZW1BUEkoYSksIGNyZWF0ZUl0ZW1BUEkoYikpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIHJldHVybnMgaXRlbSBiYXNlZCBvbiBzdGF0ZVxuICB2YXIgZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUgPSBmdW5jdGlvbiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShcbiAgICBzdGF0ZSxcbiAgICBpdGVtSGFuZGxlclxuICApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgX3JlZiA9XG4gICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICB2YXIgcXVlcnkgPSBfcmVmLnF1ZXJ5LFxuICAgICAgICBfcmVmJHN1Y2Nlc3MgPSBfcmVmLnN1Y2Nlc3MsXG4gICAgICAgIHN1Y2Nlc3MgPSBfcmVmJHN1Y2Nlc3MgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmJHN1Y2Nlc3MsXG4gICAgICAgIF9yZWYkZmFpbHVyZSA9IF9yZWYuZmFpbHVyZSxcbiAgICAgICAgZmFpbHVyZSA9IF9yZWYkZmFpbHVyZSA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWYkZmFpbHVyZSxcbiAgICAgICAgb3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXG4gICAgICAgICAgJ3F1ZXJ5JyxcbiAgICAgICAgICAnc3VjY2VzcycsXG4gICAgICAgICAgJ2ZhaWx1cmUnXG4gICAgICAgIF0pO1xuICAgICAgdmFyIGl0ZW0gPSBnZXRJdGVtQnlRdWVyeShzdGF0ZS5pdGVtcywgcXVlcnkpO1xuICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgIGZhaWx1cmUoe1xuICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnZXJyb3InLCAwLCAnSXRlbSBub3QgZm91bmQnKSxcblxuICAgICAgICAgIGZpbGU6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlbUhhbmRsZXIoaXRlbSwgc3VjY2VzcywgZmFpbHVyZSwgb3B0aW9ucyB8fCB7fSk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgYWN0aW9ucyA9IGZ1bmN0aW9uIGFjdGlvbnMoZGlzcGF0Y2gsIHF1ZXJ5LCBzdGF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIEFib3J0cyBhbGwgb25nb2luZyBwcm9jZXNzZXNcbiAgICAgICAqL1xuICAgICAgQUJPUlRfQUxMOiBmdW5jdGlvbiBBQk9SVF9BTEwoKSB7XG4gICAgICAgIGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICBpdGVtLmZyZWV6ZSgpO1xuICAgICAgICAgIGl0ZW0uYWJvcnRMb2FkKCk7XG4gICAgICAgICAgaXRlbS5hYm9ydFByb2Nlc3NpbmcoKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFNldHMgaW5pdGlhbCBmaWxlc1xuICAgICAgICovXG4gICAgICBESURfU0VUX0ZJTEVTOiBmdW5jdGlvbiBESURfU0VUX0ZJTEVTKF9yZWYyKSB7XG4gICAgICAgIHZhciBfcmVmMiR2YWx1ZSA9IF9yZWYyLnZhbHVlLFxuICAgICAgICAgIHZhbHVlID0gX3JlZjIkdmFsdWUgPT09IHZvaWQgMCA/IFtdIDogX3JlZjIkdmFsdWU7XG5cbiAgICAgICAgLy8gbWFwIHZhbHVlcyB0byBmaWxlIG9iamVjdHNcbiAgICAgICAgdmFyIGZpbGVzID0gdmFsdWUubWFwKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc291cmNlOiBmaWxlLnNvdXJjZSA/IGZpbGUuc291cmNlIDogZmlsZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IGZpbGUub3B0aW9uc1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGxvb3Agb3ZlciBmaWxlcywgaWYgZmlsZSBpcyBpbiBsaXN0LCBsZWF2ZSBpdCBiZSwgaWYgbm90LCByZW1vdmVcbiAgICAgICAgLy8gdGVzdCBpZiBpdGVtcyBzaG91bGQgYmUgbW92ZWRcbiAgICAgICAgdmFyIGFjdGl2ZUl0ZW1zID0gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpO1xuXG4gICAgICAgIGFjdGl2ZUl0ZW1zLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIC8vIGlmIGl0ZW0gbm90IGlzIGluIG5ldyB2YWx1ZSwgcmVtb3ZlXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWZpbGVzLmZpbmQoZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmlsZS5zb3VyY2UgPT09IGl0ZW0uc291cmNlIHx8IGZpbGUuc291cmNlID09PSBpdGVtLmZpbGU7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogaXRlbSwgcmVtb3ZlOiBmYWxzZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGFkZCBuZXcgZmlsZXNcbiAgICAgICAgYWN0aXZlSXRlbXMgPSBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcyk7XG4gICAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24oZmlsZSwgaW5kZXgpIHtcbiAgICAgICAgICAvLyBpZiBmaWxlIGlzIGFscmVhZHkgaW4gbGlzdFxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGFjdGl2ZUl0ZW1zLmZpbmQoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICByZXR1cm4gaXRlbS5zb3VyY2UgPT09IGZpbGUuc291cmNlIHx8IGl0ZW0uZmlsZSA9PT0gZmlsZS5zb3VyY2U7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgIC8vIG5vdCBpbiBsaXN0LCBhZGRcbiAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICdBRERfSVRFTScsXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBmaWxlLCB7XG4gICAgICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBJbnRlcmFjdGlvbk1ldGhvZC5OT05FLFxuICAgICAgICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBESURfVVBEQVRFX0lURU1fTUVUQURBVEE6IGZ1bmN0aW9uIERJRF9VUERBVEVfSVRFTV9NRVRBREFUQShfcmVmMykge1xuICAgICAgICB2YXIgaWQgPSBfcmVmMy5pZDtcblxuICAgICAgICAvLyBpZiBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgaW4gY2xvc2Ugc3VjY2Vzc2lvbiB3ZSBjb21iaW5lZCBhbGwgY2FsbHMgdG9nZXRoZXIgdG8gc2F2ZSByZXNvdXJjZXNcbiAgICAgICAgY2xlYXJUaW1lb3V0KHN0YXRlLml0ZW1VcGRhdGVUaW1lb3V0KTtcbiAgICAgICAgc3RhdGUuaXRlbVVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBpdGVtID0gZ2V0SXRlbUJ5SWQoc3RhdGUuaXRlbXMsIGlkKTtcblxuICAgICAgICAgIC8vIG9ubHkgcmV2ZXJ0IGFuZCBhdHRlbXB0IHRvIHVwbG9hZCB3aGVuIHdlJ3JlIHVwbG9hZGluZyB0byBhIHNlcnZlclxuICAgICAgICAgIGlmICghcXVlcnkoJ0lTX0FTWU5DJykpIHtcbiAgICAgICAgICAgIC8vIHNob3VsZCB3ZSB1cGRhdGUgdGhlIG91dHB1dCBkYXRhXG4gICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdTSE9VTERfUFJFUEFSRV9PVVRQVVQnLCBmYWxzZSwge1xuICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICBxdWVyeTogcXVlcnlcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oc2hvdWxkUHJlcGFyZU91dHB1dCkge1xuICAgICAgICAgICAgICBpZiAoIXNob3VsZFByZXBhcmVPdXRwdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgJ1JFUVVFU1RfUFJFUEFSRV9PVVRQVVQnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBpZCxcbiAgICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9QUkVQQVJFX09VVFBVVCcsIHsgaWQ6IGlkLCBmaWxlOiBmaWxlIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBmb3IgYXN5bmMgc2NlbmFyaW9zXG4gICAgICAgICAgdmFyIHVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCgpIHtcbiAgICAgICAgICAgIC8vIHdlIHB1c2ggdGhpcyBmb3J3YXJkIGEgYml0IHNvIHRoZSBpbnRlcmZhY2UgaXMgdXBkYXRlZCBjb3JyZWN0bHlcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGRpc3BhdGNoKCdSRVFVRVNUX0lURU1fUFJPQ0VTU0lORycsIHsgcXVlcnk6IGlkIH0pO1xuICAgICAgICAgICAgfSwgMzIpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgcmV2ZXJ0ID0gZnVuY3Rpb24gcmV2ZXJ0KGRvVXBsb2FkKSB7XG4gICAgICAgICAgICBpdGVtXG4gICAgICAgICAgICAgIC5yZXZlcnQoXG4gICAgICAgICAgICAgICAgY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci51cmwsXG4gICAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZXZlcnRcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRk9SQ0VfUkVWRVJUJylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAudGhlbihkb1VwbG9hZCA/IHVwbG9hZCA6IGZ1bmN0aW9uKCkge30pXG4gICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbigpIHt9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGFib3J0ID0gZnVuY3Rpb24gYWJvcnQoZG9VcGxvYWQpIHtcbiAgICAgICAgICAgIGl0ZW0uYWJvcnRQcm9jZXNzaW5nKCkudGhlbihkb1VwbG9hZCA/IHVwbG9hZCA6IGZ1bmN0aW9uKCkge30pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgcmUtdXBsb2FkIHRoZSBmaWxlIGltbWlkaWF0ZWx5XG4gICAgICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXZlcnQoc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBpZiBjdXJyZW50bHkgdXBsb2FkaW5nLCBjYW5jZWwgdXBsb2FkXG4gICAgICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkcpIHtcbiAgICAgICAgICAgIHJldHVybiBhYm9ydChzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQpIHtcbiAgICAgICAgICAgIHVwbG9hZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgICB9LFxuXG4gICAgICBNT1ZFX0lURU06IGZ1bmN0aW9uIE1PVkVfSVRFTShfcmVmNCkge1xuICAgICAgICB2YXIgcXVlcnkgPSBfcmVmNC5xdWVyeSxcbiAgICAgICAgICBpbmRleCA9IF9yZWY0LmluZGV4O1xuICAgICAgICB2YXIgaXRlbSA9IGdldEl0ZW1CeVF1ZXJ5KHN0YXRlLml0ZW1zLCBxdWVyeSk7XG4gICAgICAgIGlmICghaXRlbSkgcmV0dXJuO1xuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gc3RhdGUuaXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgaW5kZXggPSBsaW1pdChpbmRleCwgMCwgc3RhdGUuaXRlbXMubGVuZ3RoIC0gMSk7XG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IGluZGV4KSByZXR1cm47XG4gICAgICAgIHN0YXRlLml0ZW1zLnNwbGljZShpbmRleCwgMCwgc3RhdGUuaXRlbXMuc3BsaWNlKGN1cnJlbnRJbmRleCwgMSlbMF0pO1xuICAgICAgfSxcblxuICAgICAgU09SVDogZnVuY3Rpb24gU09SVChfcmVmNSkge1xuICAgICAgICB2YXIgY29tcGFyZSA9IF9yZWY1LmNvbXBhcmU7XG4gICAgICAgIHNvcnRJdGVtcyhzdGF0ZSwgY29tcGFyZSk7XG4gICAgICAgIGRpc3BhdGNoKCdESURfU09SVF9JVEVNUycsIHtcbiAgICAgICAgICBpdGVtczogcXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKVxuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIEFERF9JVEVNUzogZnVuY3Rpb24gQUREX0lURU1TKF9yZWY2KSB7XG4gICAgICAgIHZhciBpdGVtcyA9IF9yZWY2Lml0ZW1zLFxuICAgICAgICAgIGluZGV4ID0gX3JlZjYuaW5kZXgsXG4gICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2QgPSBfcmVmNi5pbnRlcmFjdGlvbk1ldGhvZCxcbiAgICAgICAgICBfcmVmNiRzdWNjZXNzID0gX3JlZjYuc3VjY2VzcyxcbiAgICAgICAgICBzdWNjZXNzID0gX3JlZjYkc3VjY2VzcyA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWY2JHN1Y2Nlc3MsXG4gICAgICAgICAgX3JlZjYkZmFpbHVyZSA9IF9yZWY2LmZhaWx1cmUsXG4gICAgICAgICAgZmFpbHVyZSA9IF9yZWY2JGZhaWx1cmUgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmNiRmYWlsdXJlO1xuXG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSBpbmRleDtcblxuICAgICAgICBpZiAoaW5kZXggPT09IC0xIHx8IHR5cGVvZiBpbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB2YXIgaW5zZXJ0TG9jYXRpb24gPSBxdWVyeSgnR0VUX0lURU1fSU5TRVJUX0xPQ0FUSU9OJyk7XG4gICAgICAgICAgdmFyIHRvdGFsSXRlbXMgPSBxdWVyeSgnR0VUX1RPVEFMX0lURU1TJyk7XG4gICAgICAgICAgY3VycmVudEluZGV4ID0gaW5zZXJ0TG9jYXRpb24gPT09ICdiZWZvcmUnID8gMCA6IHRvdGFsSXRlbXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaWdub3JlZEZpbGVzID0gcXVlcnkoJ0dFVF9JR05PUkVEX0ZJTEVTJyk7XG4gICAgICAgIHZhciBpc1ZhbGlkRmlsZSA9IGZ1bmN0aW9uIGlzVmFsaWRGaWxlKHNvdXJjZSkge1xuICAgICAgICAgIHJldHVybiBpc0ZpbGUoc291cmNlKVxuICAgICAgICAgICAgPyAhaWdub3JlZEZpbGVzLmluY2x1ZGVzKHNvdXJjZS5uYW1lLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICA6ICFpc0VtcHR5KHNvdXJjZSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciB2YWxpZEl0ZW1zID0gaXRlbXMuZmlsdGVyKGlzVmFsaWRGaWxlKTtcblxuICAgICAgICB2YXIgcHJvbWlzZXMgPSB2YWxpZEl0ZW1zLm1hcChmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnQUREX0lURU0nLCB7XG4gICAgICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBpbnRlcmFjdGlvbk1ldGhvZCxcbiAgICAgICAgICAgICAgc291cmNlOiBzb3VyY2Uuc291cmNlIHx8IHNvdXJjZSxcbiAgICAgICAgICAgICAgc3VjY2VzczogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgZmFpbHVyZTogcmVqZWN0LFxuICAgICAgICAgICAgICBpbmRleDogY3VycmVudEluZGV4KyssXG4gICAgICAgICAgICAgIG9wdGlvbnM6IHNvdXJjZS5vcHRpb25zIHx8IHt9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICAgICAgLnRoZW4oc3VjY2VzcylcbiAgICAgICAgICAuY2F0Y2goZmFpbHVyZSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSBzb3VyY2VcbiAgICAgICAqIEBwYXJhbSBpbmRleFxuICAgICAgICogQHBhcmFtIGludGVyYWN0aW9uTWV0aG9kXG4gICAgICAgKi9cbiAgICAgIEFERF9JVEVNOiBmdW5jdGlvbiBBRERfSVRFTShfcmVmNykge1xuICAgICAgICB2YXIgc291cmNlID0gX3JlZjcuc291cmNlLFxuICAgICAgICAgIF9yZWY3JGluZGV4ID0gX3JlZjcuaW5kZXgsXG4gICAgICAgICAgaW5kZXggPSBfcmVmNyRpbmRleCA9PT0gdm9pZCAwID8gLTEgOiBfcmVmNyRpbmRleCxcbiAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZCA9IF9yZWY3LmludGVyYWN0aW9uTWV0aG9kLFxuICAgICAgICAgIF9yZWY3JHN1Y2Nlc3MgPSBfcmVmNy5zdWNjZXNzLFxuICAgICAgICAgIHN1Y2Nlc3MgPSBfcmVmNyRzdWNjZXNzID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZjckc3VjY2VzcyxcbiAgICAgICAgICBfcmVmNyRmYWlsdXJlID0gX3JlZjcuZmFpbHVyZSxcbiAgICAgICAgICBmYWlsdXJlID0gX3JlZjckZmFpbHVyZSA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWY3JGZhaWx1cmUsXG4gICAgICAgICAgX3JlZjckb3B0aW9ucyA9IF9yZWY3Lm9wdGlvbnMsXG4gICAgICAgICAgb3B0aW9ucyA9IF9yZWY3JG9wdGlvbnMgPT09IHZvaWQgMCA/IHt9IDogX3JlZjckb3B0aW9ucztcblxuICAgICAgICAvLyBpZiBubyBzb3VyY2Ugc3VwcGxpZWRcbiAgICAgICAgaWYgKGlzRW1wdHkoc291cmNlKSkge1xuICAgICAgICAgIGZhaWx1cmUoe1xuICAgICAgICAgICAgZXJyb3I6IGNyZWF0ZVJlc3BvbnNlKCdlcnJvcicsIDAsICdObyBzb3VyY2UnKSxcblxuICAgICAgICAgICAgZmlsZTogbnVsbFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlsdGVyIG91dCBpbnZhbGlkIGZpbGUgaXRlbXMsIHVzZWQgdG8gZmlsdGVyIGRyb3BwZWQgZGlyZWN0b3J5IGNvbnRlbnRzXG4gICAgICAgIGlmIChcbiAgICAgICAgICBpc0ZpbGUoc291cmNlKSAmJlxuICAgICAgICAgIHN0YXRlLm9wdGlvbnMuaWdub3JlZEZpbGVzLmluY2x1ZGVzKHNvdXJjZS5uYW1lLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIGZhaWwgc2lsZW50bHlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0ZXN0IGlmIHRoZXJlJ3Mgc3RpbGwgcm9vbSBpbiB0aGUgbGlzdCBvZiBmaWxlc1xuICAgICAgICBpZiAoIWhhc1Jvb21Gb3JJdGVtKHN0YXRlKSkge1xuICAgICAgICAgIC8vIGlmIG11bHRpcGxlIGFsbG93ZWQsIHdlIGNhbid0IHJlcGxhY2VcbiAgICAgICAgICAvLyBvciBpZiBvbmx5IGEgc2luZ2xlIGl0ZW0gaXMgYWxsb3dlZCBidXQgd2UncmUgbm90IGFsbG93ZWQgdG8gcmVwbGFjZSBpdCB3ZSBleGl0XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5hbGxvd011bHRpcGxlIHx8XG4gICAgICAgICAgICAoIXN0YXRlLm9wdGlvbnMuYWxsb3dNdWx0aXBsZSAmJiAhc3RhdGUub3B0aW9ucy5hbGxvd1JlcGxhY2UpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBjcmVhdGVSZXNwb25zZSgnd2FybmluZycsIDAsICdNYXggZmlsZXMnKTtcblxuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19NQVhfRklMRVMnLCB7XG4gICAgICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgICAgICBlcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmYWlsdXJlKHsgZXJyb3I6IGVycm9yLCBmaWxlOiBudWxsIH0pO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gbGV0J3MgcmVwbGFjZSB0aGUgaXRlbVxuICAgICAgICAgIC8vIGlkIG9mIGZpcnN0IGl0ZW0gd2UncmUgYWJvdXQgdG8gcmVtb3ZlXG4gICAgICAgICAgdmFyIF9pdGVtID0gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpWzBdO1xuXG4gICAgICAgICAgLy8gaWYgaGFzIGJlZW4gcHJvY2Vzc2VkIHJlbW92ZSBpdCBmcm9tIHRoZSBzZXJ2ZXIgYXMgd2VsbFxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIF9pdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFIHx8XG4gICAgICAgICAgICBfaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19SRVZFUlRfRVJST1JcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciBmb3JjZVJldmVydCA9IHF1ZXJ5KCdHRVRfRk9SQ0VfUkVWRVJUJyk7XG4gICAgICAgICAgICBfaXRlbVxuICAgICAgICAgICAgICAucmV2ZXJ0KFxuICAgICAgICAgICAgICAgIGNyZWF0ZVJldmVydEZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIudXJsLFxuICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIucmV2ZXJ0XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBmb3JjZVJldmVydFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghZm9yY2VSZXZlcnQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIHRyeSB0byBhZGQgbm93XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0FERF9JVEVNJywge1xuICAgICAgICAgICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogaW50ZXJhY3Rpb25NZXRob2QsXG4gICAgICAgICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgZmFpbHVyZTogZmFpbHVyZSxcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKCkge30pOyAvLyBubyBuZWVkIHRvIGhhbmRsZSB0aGlzIGNhdGNoIHN0YXRlIGZvciBub3dcblxuICAgICAgICAgICAgaWYgKGZvcmNlUmV2ZXJ0KSByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmVtb3ZlIGZpcnN0IGl0ZW0gYXMgaXQgd2lsbCBiZSByZXBsYWNlZCBieSB0aGlzIGl0ZW1cbiAgICAgICAgICBkaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCB7IHF1ZXJ5OiBfaXRlbS5pZCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoZXJlIGRpZCB0aGUgZmlsZSBvcmlnaW5hdGVcbiAgICAgICAgdmFyIG9yaWdpbiA9XG4gICAgICAgICAgb3B0aW9ucy50eXBlID09PSAnbG9jYWwnXG4gICAgICAgICAgICA/IEZpbGVPcmlnaW4uTE9DQUxcbiAgICAgICAgICAgIDogb3B0aW9ucy50eXBlID09PSAnbGltYm8nXG4gICAgICAgICAgICA/IEZpbGVPcmlnaW4uTElNQk9cbiAgICAgICAgICAgIDogRmlsZU9yaWdpbi5JTlBVVDtcblxuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgYmxhbmsgaXRlbVxuICAgICAgICB2YXIgaXRlbSA9IGNyZWF0ZUl0ZW0oXG4gICAgICAgICAgLy8gd2hlcmUgZGlkIHRoaXMgZmlsZSBjb21lIGZyb21cbiAgICAgICAgICBvcmlnaW4sXG5cbiAgICAgICAgICAvLyBhbiBpbnB1dCBmaWxlIG5ldmVyIGhhcyBhIHNlcnZlciBmaWxlIHJlZmVyZW5jZVxuICAgICAgICAgIG9yaWdpbiA9PT0gRmlsZU9yaWdpbi5JTlBVVCA/IG51bGwgOiBzb3VyY2UsXG5cbiAgICAgICAgICAvLyBmaWxlIG1vY2sgZGF0YSwgaWYgZGVmaW5lZFxuICAgICAgICAgIG9wdGlvbnMuZmlsZVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHNldCBpbml0aWFsIG1ldGEgZGF0YVxuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zLm1ldGFkYXRhIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIGl0ZW0uc2V0TWV0YWRhdGEoa2V5LCBvcHRpb25zLm1ldGFkYXRhW2tleV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjcmVhdGVkIHRoZSBpdGVtLCBsZXQgcGx1Z2lucyBhZGQgbWV0aG9kc1xuICAgICAgICBhcHBseUZpbHRlcnMoJ0RJRF9DUkVBVEVfSVRFTScsIGl0ZW0sIHtcbiAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgZGlzcGF0Y2g6IGRpc3BhdGNoXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHdoZXJlIHRvIGluc2VydCBuZXcgaXRlbXNcbiAgICAgICAgdmFyIGl0ZW1JbnNlcnRMb2NhdGlvbiA9IHF1ZXJ5KCdHRVRfSVRFTV9JTlNFUlRfTE9DQVRJT04nKTtcblxuICAgICAgICAvLyBhZGp1c3QgaW5kZXggaWYgaXMgbm90IGFsbG93ZWQgdG8gcGljayBsb2NhdGlvblxuICAgICAgICBpZiAoIXN0YXRlLm9wdGlvbnMuaXRlbUluc2VydExvY2F0aW9uRnJlZWRvbSkge1xuICAgICAgICAgIGluZGV4ID0gaXRlbUluc2VydExvY2F0aW9uID09PSAnYmVmb3JlJyA/IC0xIDogc3RhdGUuaXRlbXMubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGl0ZW0gdG8gbGlzdFxuICAgICAgICBpbnNlcnRJdGVtKHN0YXRlLml0ZW1zLCBpdGVtLCBpbmRleCk7XG5cbiAgICAgICAgLy8gc29ydCBpdGVtcyBpbiBsaXN0XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGl0ZW1JbnNlcnRMb2NhdGlvbikgJiYgc291cmNlKSB7XG4gICAgICAgICAgc29ydEl0ZW1zKHN0YXRlLCBpdGVtSW5zZXJ0TG9jYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGEgcXVpY2sgcmVmZXJlbmNlIHRvIHRoZSBpdGVtIGlkXG4gICAgICAgIHZhciBpZCA9IGl0ZW0uaWQ7XG5cbiAgICAgICAgLy8gb2JzZXJ2ZSBpdGVtIGV2ZW50c1xuICAgICAgICBpdGVtLm9uKCdpbml0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9JTklUX0lURU0nLCB7IGlkOiBpZCB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbignbG9hZC1pbml0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9TVEFSVF9JVEVNX0xPQUQnLCB7IGlkOiBpZCB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbignbG9hZC1tZXRhJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9VUERBVEVfSVRFTV9NRVRBJywgeyBpZDogaWQgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ2xvYWQtcHJvZ3Jlc3MnLCBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfVVBEQVRFX0lURU1fTE9BRF9QUk9HUkVTUycsIHtcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIHByb2dyZXNzOiBwcm9ncmVzc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdsb2FkLXJlcXVlc3QtZXJyb3InLCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIHZhciBtYWluU3RhdHVzID0gZHluYW1pY0xhYmVsKHN0YXRlLm9wdGlvbnMubGFiZWxGaWxlTG9hZEVycm9yKShcbiAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIGlzIGNsaWVudCBlcnJvciwgbm8gd2F5IHRvIHJlY292ZXJcbiAgICAgICAgICBpZiAoZXJyb3IuY29kZSA+PSA0MDAgJiYgZXJyb3IuY29kZSA8IDUwMCkge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX0lOVkFMSUQnLCB7XG4gICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICBtYWluOiBtYWluU3RhdHVzLFxuICAgICAgICAgICAgICAgIHN1YjogZXJyb3IuY29kZSArICcgKCcgKyBlcnJvci5ib2R5ICsgJyknXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyByZWplY3QgdGhlIGZpbGUgc28gY2FuIGJlIGRlYWx0IHdpdGggdGhyb3VnaCBBUElcbiAgICAgICAgICAgIGZhaWx1cmUoeyBlcnJvcjogZXJyb3IsIGZpbGU6IGNyZWF0ZUl0ZW1BUEkoaXRlbSkgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gaXMgcG9zc2libGUgc2VydmVyIGVycm9yLCBzbyBtaWdodCBiZSBwb3NzaWJsZSB0byByZXRyeVxuICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfSVRFTV9MT0FEX0VSUk9SJywge1xuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgIG1haW46IG1haW5TdGF0dXMsXG4gICAgICAgICAgICAgIHN1Yjogc3RhdGUub3B0aW9ucy5sYWJlbFRhcFRvUmV0cnlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbignbG9hZC1maWxlLWVycm9yJywgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX0lURU1fSU5WQUxJRCcsIHtcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci5zdGF0dXMsXG4gICAgICAgICAgICBzdGF0dXM6IGVycm9yLnN0YXR1c1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZmFpbHVyZSh7IGVycm9yOiBlcnJvci5zdGF0dXMsIGZpbGU6IGNyZWF0ZUl0ZW1BUEkoaXRlbSkgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ2xvYWQtYWJvcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCB7IHF1ZXJ5OiBpZCB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbignbG9hZC1za2lwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ0NPTVBMRVRFX0xPQURfSVRFTScsIHtcbiAgICAgICAgICAgIHF1ZXJ5OiBpZCxcbiAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgaGFuZGxlQWRkID0gZnVuY3Rpb24gaGFuZGxlQWRkKHNob3VsZEFkZCkge1xuICAgICAgICAgICAgLy8gbm8gc2hvdWxkIG5vdCBhZGQgdGhpcyBmaWxlXG4gICAgICAgICAgICBpZiAoIXNob3VsZEFkZCkge1xuICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCB7XG4gICAgICAgICAgICAgICAgcXVlcnk6IGlkXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbm93IGludGVyZXN0ZWQgaW4gbWV0YWRhdGEgdXBkYXRlc1xuICAgICAgICAgICAgaXRlbS5vbignbWV0YWRhdGEtdXBkYXRlJywgZnVuY3Rpb24oY2hhbmdlKSB7XG4gICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVVBEQVRFX0lURU1fTUVUQURBVEEnLCB7IGlkOiBpZCwgY2hhbmdlOiBjaGFuZ2UgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gbGV0IHBsdWdpbnMgZGVjaWRlIGlmIHRoZSBvdXRwdXQgZGF0YSBzaG91bGQgYmUgcHJlcGFyZWQgYXQgdGhpcyBwb2ludFxuICAgICAgICAgICAgLy8gbWVhbnMgd2UnbGwgZG8gdGhpcyBhbmQgd2FpdCBmb3IgaWRsZSBzdGF0ZVxuICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignU0hPVUxEX1BSRVBBUkVfT1VUUFVUJywgZmFsc2UsIHtcbiAgICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHNob3VsZFByZXBhcmVPdXRwdXQpIHtcbiAgICAgICAgICAgICAgdmFyIGxvYWRDb21wbGV0ZSA9IGZ1bmN0aW9uIGxvYWRDb21wbGV0ZSgpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnQ09NUExFVEVfTE9BRF9JVEVNJywge1xuICAgICAgICAgICAgICAgICAgcXVlcnk6IGlkLFxuICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3NcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGxpc3RVcGRhdGVkKGRpc3BhdGNoLCBzdGF0ZSk7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgLy8gZXhpdFxuICAgICAgICAgICAgICBpZiAoc2hvdWxkUHJlcGFyZU91dHB1dCkge1xuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIGlkbGUgc3RhdGUgYW5kIHRoZW4gcnVuIFBSRVBBUkVfT1VUUFVUXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICAnUkVRVUVTVF9QUkVQQVJFX09VVFBVVCcsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBpZCxcbiAgICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9QUkVQQVJFX09VVFBVVCcsIHsgaWQ6IGlkLCBmaWxlOiBmaWxlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGxvYWRDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBsb2FkQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBpdGVtIGxvYWRlZCwgYWxsb3cgcGx1Z2lucyB0b1xuICAgICAgICAgIC8vIC0gcmVhZCBkYXRhIChxdWlja2x5KVxuICAgICAgICAgIC8vIC0gYWRkIG1ldGFkYXRhXG4gICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignRElEX0xPQURfSVRFTScsIGl0ZW0sIHtcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICAgIGRpc3BhdGNoOiBkaXNwYXRjaFxuICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgb3B0aW9uYWxQcm9taXNlKFxuICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfQkVGT1JFX0FERF9GSUxFJyksXG4gICAgICAgICAgICAgICAgY3JlYXRlSXRlbUFQSShpdGVtKVxuICAgICAgICAgICAgICApLnRoZW4oaGFuZGxlQWRkKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGhhbmRsZUFkZChmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbigncHJvY2Vzcy1zdGFydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfU1RBUlRfSVRFTV9QUk9DRVNTSU5HJywgeyBpZDogaWQgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtcHJvZ3Jlc3MnLCBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUycsIHtcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIHByb2dyZXNzOiBwcm9ncmVzc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLWVycm9yJywgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUicsIHtcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICBtYWluOiBkeW5hbWljTGFiZWwoc3RhdGUub3B0aW9ucy5sYWJlbEZpbGVQcm9jZXNzaW5nRXJyb3IpKGVycm9yKSxcbiAgICAgICAgICAgICAgc3ViOiBzdGF0ZS5vcHRpb25zLmxhYmVsVGFwVG9SZXRyeVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLXJldmVydC1lcnJvcicsIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfUkVWRVJUX0VSUk9SJywge1xuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgIG1haW46IGR5bmFtaWNMYWJlbChzdGF0ZS5vcHRpb25zLmxhYmVsRmlsZVByb2Nlc3NpbmdSZXZlcnRFcnJvcikoXG4gICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgc3ViOiBzdGF0ZS5vcHRpb25zLmxhYmVsVGFwVG9SZXRyeVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLWNvbXBsZXRlJywgZnVuY3Rpb24oc2VydmVyRmlsZVJlZmVyZW5jZSkge1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HJywge1xuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICBzZXJ2ZXJGaWxlUmVmZXJlbmNlOiBzZXJ2ZXJGaWxlUmVmZXJlbmNlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBkaXNwYXRjaCgnRElEX0RFRklORV9WQUxVRScsIHsgaWQ6IGlkLCB2YWx1ZTogc2VydmVyRmlsZVJlZmVyZW5jZSB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5vbigncHJvY2Vzcy1hYm9ydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfQUJPUlRfSVRFTV9QUk9DRVNTSU5HJywgeyBpZDogaWQgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtcmV2ZXJ0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HJywgeyBpZDogaWQgfSk7XG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9ERUZJTkVfVkFMVUUnLCB7IGlkOiBpZCwgdmFsdWU6IG51bGwgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGxldCB2aWV3IGtub3cgdGhlIGl0ZW0gaGFzIGJlZW4gaW5zZXJ0ZWRcbiAgICAgICAgZGlzcGF0Y2goJ0RJRF9BRERfSVRFTScsIHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBpbnRlcmFjdGlvbk1ldGhvZFxuICAgICAgICB9KTtcblxuICAgICAgICBsaXN0VXBkYXRlZChkaXNwYXRjaCwgc3RhdGUpO1xuXG4gICAgICAgIC8vIHN0YXJ0IGxvYWRpbmcgdGhlIHNvdXJjZVxuICAgICAgICB2YXIgX3JlZjggPSBzdGF0ZS5vcHRpb25zLnNlcnZlciB8fCB7fSxcbiAgICAgICAgICB1cmwgPSBfcmVmOC51cmwsXG4gICAgICAgICAgbG9hZCA9IF9yZWY4LmxvYWQsXG4gICAgICAgICAgcmVzdG9yZSA9IF9yZWY4LnJlc3RvcmUsXG4gICAgICAgICAgZmV0Y2ggPSBfcmVmOC5mZXRjaDtcblxuICAgICAgICBpdGVtLmxvYWQoXG4gICAgICAgICAgc291cmNlLFxuXG4gICAgICAgICAgLy8gdGhpcyBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBsb2FkcyB0aGUgZmlsZSBiYXNlZCBvbiB0aGUgdHlwZSBvZiBmaWxlIChzdHJpbmcsIGJhc2U2NCwgYmxvYiwgZmlsZSkgYW5kIGxvY2F0aW9uIG9mIGZpbGUgKGxvY2FsLCByZW1vdGUsIGxpbWJvKVxuICAgICAgICAgIGNyZWF0ZUZpbGVMb2FkZXIoXG4gICAgICAgICAgICBvcmlnaW4gPT09IEZpbGVPcmlnaW4uSU5QVVRcbiAgICAgICAgICAgICAgPyAvLyBpbnB1dCwgaWYgaXMgcmVtb3RlLCBzZWUgaWYgc2hvdWxkIHVzZSBjdXN0b20gZmV0Y2gsIGVsc2UgdXNlIGRlZmF1bHQgZmV0Y2hCbG9iXG4gICAgICAgICAgICAgICAgaXNTdHJpbmcoc291cmNlKSAmJiBpc0V4dGVybmFsVVJMKHNvdXJjZSlcbiAgICAgICAgICAgICAgICA/IGZldGNoXG4gICAgICAgICAgICAgICAgICA/IGNyZWF0ZUZldGNoRnVuY3Rpb24odXJsLCBmZXRjaClcbiAgICAgICAgICAgICAgICAgIDogZmV0Y2hCbG9iIC8vIHJlbW90ZSB1cmxcbiAgICAgICAgICAgICAgICA6IGZldGNoQmxvYiAvLyB0cnkgdG8gZmV0Y2ggdXJsXG4gICAgICAgICAgICAgIDogLy8gbGltYm8gb3IgbG9jYWxcbiAgICAgICAgICAgICAgb3JpZ2luID09PSBGaWxlT3JpZ2luLkxJTUJPXG4gICAgICAgICAgICAgID8gY3JlYXRlRmV0Y2hGdW5jdGlvbih1cmwsIHJlc3RvcmUpIC8vIGxpbWJvXG4gICAgICAgICAgICAgIDogY3JlYXRlRmV0Y2hGdW5jdGlvbih1cmwsIGxvYWQpIC8vIGxvY2FsXG4gICAgICAgICAgKSxcblxuICAgICAgICAgIC8vIGNhbGxlZCB3aGVuIHRoZSBmaWxlIGlzIGxvYWRlZCBzbyBpdCBjYW4gYmUgcGlwZWQgdGhyb3VnaCB0aGUgZmlsdGVyc1xuICAgICAgICAgIGZ1bmN0aW9uKGZpbGUsIHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgICAgICAgICAvLyBsZXQncyBwcm9jZXNzIHRoZSBmaWxlXG4gICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdMT0FEX0ZJTEUnLCBmaWxlLCB7IHF1ZXJ5OiBxdWVyeSB9KVxuICAgICAgICAgICAgICAudGhlbihzdWNjZXNzKVxuICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0sXG5cbiAgICAgIFJFUVVFU1RfUFJFUEFSRV9PVVRQVVQ6IGZ1bmN0aW9uIFJFUVVFU1RfUFJFUEFSRV9PVVRQVVQoX3JlZjkpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBfcmVmOS5pdGVtLFxuICAgICAgICAgIHN1Y2Nlc3MgPSBfcmVmOS5zdWNjZXNzLFxuICAgICAgICAgIF9yZWY5JGZhaWx1cmUgPSBfcmVmOS5mYWlsdXJlLFxuICAgICAgICAgIGZhaWx1cmUgPSBfcmVmOSRmYWlsdXJlID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZjkkZmFpbHVyZTtcblxuICAgICAgICAvLyBlcnJvciByZXNwb25zZSBpZiBpdGVtIGFyY2hpdmVkXG4gICAgICAgIHZhciBlcnIgPSB7XG4gICAgICAgICAgZXJyb3I6IGNyZWF0ZVJlc3BvbnNlKCdlcnJvcicsIDAsICdJdGVtIG5vdCBmb3VuZCcpLFxuXG4gICAgICAgICAgZmlsZTogbnVsbFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGRvbid0IGhhbmRsZSBhcmNoaXZlZCBpdGVtcywgYW4gaXRlbSBjb3VsZCBoYXZlIGJlZW4gYXJjaGl2ZWQgKGxvYWQgYWJvcnRlZCkgd2hpbGUgd2FpdGluZyB0byBiZSBwcmVwYXJlZFxuICAgICAgICBpZiAoaXRlbS5hcmNoaXZlZCkgcmV0dXJuIGZhaWx1cmUoZXJyKTtcblxuICAgICAgICAvLyBhbGxvdyBwbHVnaW5zIHRvIGFsdGVyIHRoZSBmaWxlIGRhdGFcbiAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignUFJFUEFSRV9PVVRQVVQnLCBpdGVtLmZpbGUsIHtcbiAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgaXRlbTogaXRlbVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ0NPTVBMRVRFX1BSRVBBUkVfT1VUUFVUJywgcmVzdWx0LCB7XG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgICBpdGVtOiBpdGVtXG4gICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGhhbmRsZSBhcmNoaXZlZCBpdGVtcywgYW4gaXRlbSBjb3VsZCBoYXZlIGJlZW4gYXJjaGl2ZWQgKGxvYWQgYWJvcnRlZCkgd2hpbGUgYmVpbmcgcHJlcGFyZWRcbiAgICAgICAgICAgIGlmIChpdGVtLmFyY2hpdmVkKSByZXR1cm4gZmFpbHVyZShlcnIpO1xuXG4gICAgICAgICAgICAvLyB3ZSBkb25lIVxuICAgICAgICAgICAgc3VjY2VzcyhyZXN1bHQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIENPTVBMRVRFX0xPQURfSVRFTTogZnVuY3Rpb24gQ09NUExFVEVfTE9BRF9JVEVNKF9yZWYxMCkge1xuICAgICAgICB2YXIgaXRlbSA9IF9yZWYxMC5pdGVtLFxuICAgICAgICAgIGRhdGEgPSBfcmVmMTAuZGF0YTtcbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBkYXRhLnN1Y2Nlc3MsXG4gICAgICAgICAgc291cmNlID0gZGF0YS5zb3VyY2U7XG5cbiAgICAgICAgLy8gc29ydCBpdGVtcyBpbiBsaXN0XG4gICAgICAgIHZhciBpdGVtSW5zZXJ0TG9jYXRpb24gPSBxdWVyeSgnR0VUX0lURU1fSU5TRVJUX0xPQ0FUSU9OJyk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGl0ZW1JbnNlcnRMb2NhdGlvbikgJiYgc291cmNlKSB7XG4gICAgICAgICAgc29ydEl0ZW1zKHN0YXRlLCBpdGVtSW5zZXJ0TG9jYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0IGludGVyZmFjZSBrbm93IHRoZSBpdGVtIGhhcyBsb2FkZWRcbiAgICAgICAgZGlzcGF0Y2goJ0RJRF9MT0FEX0lURU0nLCB7XG4gICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgc2VydmVyRmlsZVJlZmVyZW5jZTogaXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uSU5QVVQgPyBudWxsIDogc291cmNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGl0ZW0gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGxvYWRlZCBhbmQgYWRkZWQgdG8gdGhlXG4gICAgICAgIC8vIGxpc3Qgb2YgaXRlbXMgc28gY2FuIG5vdyBiZSBzYWZlbHkgcmV0dXJuZWQgZm9yIHVzZVxuICAgICAgICBzdWNjZXNzKGNyZWF0ZUl0ZW1BUEkoaXRlbSkpO1xuXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYSBsb2NhbCBzZXJ2ZXIgZmlsZSB3ZSBuZWVkIHRvIHNob3cgYSBkaWZmZXJlbnQgc3RhdGVcbiAgICAgICAgaWYgKGl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLkxPQ0FMKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9MT0FEX0xPQ0FMX0lURU0nLCB7IGlkOiBpdGVtLmlkIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGlzIGEgdGVtcCBzZXJ2ZXIgZmlsZSB3ZSBwcmV2ZW50IGFzeW5jIHVwbG9hZCBjYWxsIGhlcmUgKGFzIHRoZSBmaWxlIGlzIGFscmVhZHkgb24gdGhlIHNlcnZlcilcbiAgICAgICAgaWYgKGl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLkxJTUJPKSB7XG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkcnLCB7XG4gICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgc2VydmVyRmlsZVJlZmVyZW5jZTogc291cmNlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBkaXNwYXRjaCgnRElEX0RFRklORV9WQUxVRScsIHtcbiAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgdmFsdWU6IHNvdXJjZVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWQgd2UgYXJlIGFsbG93ZWQgdG8gdXBsb2FkIHRoZSBmaWxlIGltbWlkaWF0ZWx5LCBsZXRzIGRvIGl0XG4gICAgICAgIGlmIChxdWVyeSgnSVNfQVNZTkMnKSAmJiBzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQpIHtcbiAgICAgICAgICBkaXNwYXRjaCgnUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLCB7IHF1ZXJ5OiBpdGVtLmlkIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBSRVRSWV9JVEVNX0xPQUQ6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIC8vIHRyeSBsb2FkaW5nIHRoZSBzb3VyY2Ugb25lIG1vcmUgdGltZVxuICAgICAgICBpdGVtLnJldHJ5TG9hZCgpO1xuICAgICAgfSksXG5cbiAgICAgIFJFUVVFU1RfSVRFTV9QUkVQQVJFOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgZnVuY3Rpb24oXG4gICAgICAgIGl0ZW0sXG4gICAgICAgIF9zdWNjZXNzLFxuICAgICAgICBmYWlsdXJlXG4gICAgICApIHtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgJ1JFUVVFU1RfUFJFUEFSRV9PVVRQVVQnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXJ5OiBpdGVtLmlkLFxuICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZmlsZSkge1xuICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1BSRVBBUkVfT1VUUFVUJywgeyBpZDogaXRlbS5pZCwgZmlsZTogZmlsZSB9KTtcbiAgICAgICAgICAgICAgX3N1Y2Nlc3Moe1xuICAgICAgICAgICAgICAgIGZpbGU6IGl0ZW0sXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBmaWxlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZhaWx1cmU6IGZhaWx1cmVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgIH0pLFxuXG4gICAgICBSRVFVRVNUX0lURU1fUFJPQ0VTU0lORzogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKFxuICAgICAgICBpdGVtLFxuICAgICAgICBzdWNjZXNzLFxuICAgICAgICBmYWlsdXJlXG4gICAgICApIHtcbiAgICAgICAgLy8gY2Fubm90IGJlIHF1ZXVlZCAob3IgaXMgYWxyZWFkeSBxdWV1ZWQpXG4gICAgICAgIHZhciBpdGVtQ2FuQmVRdWV1ZWRGb3JQcm9jZXNzaW5nID1cbiAgICAgICAgICAvLyB3YWl0aW5nIGZvciBzb21ldGhpbmdcbiAgICAgICAgICBpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5JRExFIHx8XG4gICAgICAgICAgLy8gcHJvY2Vzc2luZyB3ZW50IHdyb25nIGVhcmxpZXJcbiAgICAgICAgICBpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0VSUk9SO1xuXG4gICAgICAgIC8vIG5vdCByZWFkeSB0byBiZSBwcm9jZXNzZWRcbiAgICAgICAgaWYgKCFpdGVtQ2FuQmVRdWV1ZWRGb3JQcm9jZXNzaW5nKSB7XG4gICAgICAgICAgdmFyIHByb2Nlc3NOb3cgPSBmdW5jdGlvbiBwcm9jZXNzTm93KCkge1xuICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdSRVFVRVNUX0lURU1fUFJPQ0VTU0lORycsIHtcbiAgICAgICAgICAgICAgcXVlcnk6IGl0ZW0sXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXG4gICAgICAgICAgICAgIGZhaWx1cmU6IGZhaWx1cmVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgcHJvY2VzcyA9IGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuaGlkZGVuID8gcHJvY2Vzc05vdygpIDogc2V0VGltZW91dChwcm9jZXNzTm93LCAzMik7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIGlmIGFscmVhZHkgZG9uZSBwcm9jZXNzaW5nIG9yIHRyaWVkIHRvIHJldmVydCBidXQgZGlkbid0IHdvcmssIHRyeSBhZ2FpblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEUgfHxcbiAgICAgICAgICAgIGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUkVWRVJUX0VSUk9SXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpdGVtXG4gICAgICAgICAgICAgIC5yZXZlcnQoXG4gICAgICAgICAgICAgICAgY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci51cmwsXG4gICAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZXZlcnRcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRk9SQ0VfUkVWRVJUJylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAudGhlbihwcm9jZXNzKVxuICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7fSk7IC8vIGRvbid0IGNvbnRpbnVlIHdpdGggcHJvY2Vzc2luZyBpZiBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lORykge1xuICAgICAgICAgICAgaXRlbS5hYm9ydFByb2Nlc3NpbmcoKS50aGVuKHByb2Nlc3MpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFscmVhZHkgcXVldWVkIGZvciBwcm9jZXNzaW5nXG4gICAgICAgIGlmIChpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX1FVRVVFRCkgcmV0dXJuO1xuXG4gICAgICAgIGl0ZW0ucmVxdWVzdFByb2Nlc3NpbmcoKTtcblxuICAgICAgICBkaXNwYXRjaCgnRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJywgeyBpZDogaXRlbS5pZCB9KTtcblxuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAnUFJPQ0VTU19JVEVNJyxcbiAgICAgICAgICB7IHF1ZXJ5OiBpdGVtLCBzdWNjZXNzOiBzdWNjZXNzLCBmYWlsdXJlOiBmYWlsdXJlIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgICAgfSksXG5cbiAgICAgIFBST0NFU1NfSVRFTTogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKFxuICAgICAgICBpdGVtLFxuICAgICAgICBzdWNjZXNzLFxuICAgICAgICBmYWlsdXJlXG4gICAgICApIHtcbiAgICAgICAgdmFyIG1heFBhcmFsbGVsVXBsb2FkcyA9IHF1ZXJ5KCdHRVRfTUFYX1BBUkFMTEVMX1VQTE9BRFMnKTtcbiAgICAgICAgdmFyIHRvdGFsQ3VycmVudFVwbG9hZHMgPSBxdWVyeShcbiAgICAgICAgICAnR0VUX0lURU1TX0JZX1NUQVRVUycsXG4gICAgICAgICAgSXRlbVN0YXR1cy5QUk9DRVNTSU5HXG4gICAgICAgICkubGVuZ3RoO1xuXG4gICAgICAgIC8vIHF1ZXVlIGFuZCB3YWl0IHRpbGwgcXVldWUgaXMgZnJlZWQgdXBcbiAgICAgICAgaWYgKHRvdGFsQ3VycmVudFVwbG9hZHMgPT09IG1heFBhcmFsbGVsVXBsb2Fkcykge1xuICAgICAgICAgIC8vIHF1ZXVlIGZvciBsYXRlciBwcm9jZXNzaW5nXG4gICAgICAgICAgc3RhdGUucHJvY2Vzc2luZ1F1ZXVlLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxuICAgICAgICAgICAgZmFpbHVyZTogZmFpbHVyZVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gc3RvcCBpdCFcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3YXMgbm90IHF1ZXVlZCBvciBpcyBhbHJlYWR5IHByb2Nlc3NpbmcgZXhpdCBoZXJlXG4gICAgICAgIGlmIChpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHByb2Nlc3NOZXh0ID0gZnVuY3Rpb24gcHJvY2Vzc05leHQoKSB7XG4gICAgICAgICAgLy8gcHJvY2VzcyBxdWV1ZXVkIGl0ZW1zXG4gICAgICAgICAgdmFyIHF1ZXVlRW50cnkgPSBzdGF0ZS5wcm9jZXNzaW5nUXVldWUuc2hpZnQoKTtcblxuICAgICAgICAgIC8vIG5vIGl0ZW1zIGxlZnRcbiAgICAgICAgICBpZiAoIXF1ZXVlRW50cnkpIHJldHVybjtcblxuICAgICAgICAgIC8vIGdldCBpdGVtIHJlZmVyZW5jZVxuICAgICAgICAgIHZhciBpZCA9IHF1ZXVlRW50cnkuaWQsXG4gICAgICAgICAgICBzdWNjZXNzID0gcXVldWVFbnRyeS5zdWNjZXNzLFxuICAgICAgICAgICAgZmFpbHVyZSA9IHF1ZXVlRW50cnkuZmFpbHVyZTtcbiAgICAgICAgICB2YXIgaXRlbVJlZmVyZW5jZSA9IGdldEl0ZW1CeVF1ZXJ5KHN0YXRlLml0ZW1zLCBpZCk7XG5cbiAgICAgICAgICAvLyBpZiBpdGVtIHdhcyBhcmNoaXZlZCB3aGlsZSBpbiBxdWV1ZSwganVtcCB0byBuZXh0XG4gICAgICAgICAgaWYgKCFpdGVtUmVmZXJlbmNlIHx8IGl0ZW1SZWZlcmVuY2UuYXJjaGl2ZWQpIHtcbiAgICAgICAgICAgIHByb2Nlc3NOZXh0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcHJvY2VzcyBxdWV1ZWQgaXRlbVxuICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgJ1BST0NFU1NfSVRFTScsXG4gICAgICAgICAgICB7IHF1ZXJ5OiBpZCwgc3VjY2Vzczogc3VjY2VzcywgZmFpbHVyZTogZmFpbHVyZSB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gd2UgZG9uZSBmdW5jdGlvblxuICAgICAgICBpdGVtLm9uT25jZSgncHJvY2Vzcy1jb21wbGV0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHN1Y2Nlc3MoY3JlYXRlSXRlbUFQSShpdGVtKSk7XG4gICAgICAgICAgcHJvY2Vzc05leHQoKTtcblxuICAgICAgICAgIC8vIEFsbCBpdGVtcyBwcm9jZXNzZWQ/IE5vIGVycm9ycz9cbiAgICAgICAgICB2YXIgYWxsSXRlbXNQcm9jZXNzZWQgPVxuICAgICAgICAgICAgcXVlcnkoJ0dFVF9JVEVNU19CWV9TVEFUVVMnLCBJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEUpXG4gICAgICAgICAgICAgIC5sZW5ndGggPT09IHN0YXRlLml0ZW1zLmxlbmd0aDtcbiAgICAgICAgICBpZiAoYWxsSXRlbXNQcm9jZXNzZWQpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HX0FMTCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gd2UgZXJyb3IgZnVuY3Rpb25cbiAgICAgICAgaXRlbS5vbk9uY2UoJ3Byb2Nlc3MtZXJyb3InLCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIGZhaWx1cmUoeyBlcnJvcjogZXJyb3IsIGZpbGU6IGNyZWF0ZUl0ZW1BUEkoaXRlbSkgfSk7XG4gICAgICAgICAgcHJvY2Vzc05leHQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc3RhcnQgZmlsZSBwcm9jZXNzaW5nXG4gICAgICAgIHZhciBvcHRpb25zID0gc3RhdGUub3B0aW9ucztcbiAgICAgICAgaXRlbS5wcm9jZXNzKFxuICAgICAgICAgIGNyZWF0ZUZpbGVQcm9jZXNzb3IoXG4gICAgICAgICAgICBjcmVhdGVQcm9jZXNzb3JGdW5jdGlvbihcbiAgICAgICAgICAgICAgb3B0aW9ucy5zZXJ2ZXIudXJsLFxuICAgICAgICAgICAgICBvcHRpb25zLnNlcnZlci5wcm9jZXNzLFxuICAgICAgICAgICAgICBvcHRpb25zLm5hbWUsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaHVua1RyYW5zZmVySWQ6IGl0ZW0udHJhbnNmZXJJZCxcbiAgICAgICAgICAgICAgICBjaHVua1NlcnZlcjogb3B0aW9ucy5zZXJ2ZXIucGF0Y2gsXG4gICAgICAgICAgICAgICAgY2h1bmtVcGxvYWRzOiBvcHRpb25zLmNodW5rVXBsb2FkcyxcbiAgICAgICAgICAgICAgICBjaHVua0ZvcmNlOiBvcHRpb25zLmNodW5rRm9yY2UsXG4gICAgICAgICAgICAgICAgY2h1bmtTaXplOiBvcHRpb25zLmNodW5rU2l6ZSxcbiAgICAgICAgICAgICAgICBjaHVua1JldHJ5RGVsYXlzOiBvcHRpb25zLmNodW5rUmV0cnlEZWxheXNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG5cbiAgICAgICAgICAvLyBjYWxsZWQgd2hlbiB0aGUgZmlsZSBpcyBhYm91dCB0byBiZSBwcm9jZXNzZWQgc28gaXQgY2FuIGJlIHBpcGVkIHRocm91Z2ggdGhlIHRyYW5zZm9ybSBmaWx0ZXJzXG4gICAgICAgICAgZnVuY3Rpb24oZmlsZSwgc3VjY2VzcywgZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIGFsbG93IHBsdWdpbnMgdG8gYWx0ZXIgdGhlIGZpbGUgZGF0YVxuICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignUFJFUEFSRV9PVVRQVVQnLCBmaWxlLCB7XG4gICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICAgICAgaXRlbTogaXRlbVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfUFJFUEFSRV9PVVRQVVQnLCB7IGlkOiBpdGVtLmlkLCBmaWxlOiBmaWxlIH0pO1xuXG4gICAgICAgICAgICAgICAgc3VjY2VzcyhmaWxlKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmNhdGNoKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9KSxcblxuICAgICAgUkVUUllfSVRFTV9QUk9DRVNTSU5HOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBkaXNwYXRjaCgnUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLCB7IHF1ZXJ5OiBpdGVtIH0pO1xuICAgICAgfSksXG5cbiAgICAgIFJFUVVFU1RfUkVNT1ZFX0lURU06IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIG9wdGlvbmFsUHJvbWlzZShcbiAgICAgICAgICBxdWVyeSgnR0VUX0JFRk9SRV9SRU1PVkVfRklMRScpLFxuICAgICAgICAgIGNyZWF0ZUl0ZW1BUEkoaXRlbSlcbiAgICAgICAgKS50aGVuKGZ1bmN0aW9uKHNob3VsZFJlbW92ZSkge1xuICAgICAgICAgIGlmICghc2hvdWxkUmVtb3ZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHsgcXVlcnk6IGl0ZW0gfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSksXG5cbiAgICAgIFJFTEVBU0VfSVRFTTogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaXRlbS5yZWxlYXNlKCk7XG4gICAgICB9KSxcblxuICAgICAgUkVNT1ZFX0lURU06IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihcbiAgICAgICAgaXRlbSxcbiAgICAgICAgc3VjY2VzcyxcbiAgICAgICAgZmFpbHVyZSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKSB7XG4gICAgICAgIHZhciByZW1vdmVGcm9tVmlldyA9IGZ1bmN0aW9uIHJlbW92ZUZyb21WaWV3KCkge1xuICAgICAgICAgIC8vIGdldCBpZCByZWZlcmVuY2VcbiAgICAgICAgICB2YXIgaWQgPSBpdGVtLmlkO1xuXG4gICAgICAgICAgLy8gYXJjaGl2ZSB0aGUgaXRlbSwgdGhpcyBkb2VzIG5vdCByZW1vdmUgaXQgZnJvbSB0aGUgbGlzdFxuICAgICAgICAgIGdldEl0ZW1CeUlkKHN0YXRlLml0ZW1zLCBpZCkuYXJjaGl2ZSgpO1xuXG4gICAgICAgICAgLy8gdGVsbCB0aGUgdmlldyB0aGUgaXRlbSBoYXMgYmVlbiByZW1vdmVkXG4gICAgICAgICAgZGlzcGF0Y2goJ0RJRF9SRU1PVkVfSVRFTScsIHsgZXJyb3I6IG51bGwsIGlkOiBpZCwgaXRlbTogaXRlbSB9KTtcblxuICAgICAgICAgIC8vIG5vdyB0aGUgbGlzdCBoYXMgYmVlbiBtb2RpZmllZFxuICAgICAgICAgIGxpc3RVcGRhdGVkKGRpc3BhdGNoLCBzdGF0ZSk7XG5cbiAgICAgICAgICAvLyBjb3JyZWN0bHkgcmVtb3ZlZFxuICAgICAgICAgIHN1Y2Nlc3MoY3JlYXRlSXRlbUFQSShpdGVtKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGxvY2FsIGZpbGUgYW5kIHRoZSBzZXJ2ZXIucmVtb3ZlIGZ1bmN0aW9uIGhhcyBiZWVuIGNvbmZpZ3VyZWQsIHNlbmQgc291cmNlIHRoZXJlIHNvIGRldiBjYW4gcmVtb3ZlIGZpbGUgZnJvbSBzZXJ2ZXJcbiAgICAgICAgdmFyIHNlcnZlciA9IHN0YXRlLm9wdGlvbnMuc2VydmVyO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uTE9DQUwgJiZcbiAgICAgICAgICBzZXJ2ZXIgJiZcbiAgICAgICAgICBpc0Z1bmN0aW9uKHNlcnZlci5yZW1vdmUpICYmXG4gICAgICAgICAgb3B0aW9ucy5yZW1vdmUgIT09IGZhbHNlXG4gICAgICAgICkge1xuICAgICAgICAgIGRpc3BhdGNoKCdESURfU1RBUlRfSVRFTV9SRU1PVkUnLCB7IGlkOiBpdGVtLmlkIH0pO1xuXG4gICAgICAgICAgc2VydmVyLnJlbW92ZShcbiAgICAgICAgICAgIGl0ZW0uc291cmNlLFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZW1vdmVGcm9tVmlldygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHN0YXR1cykge1xuICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX0lURU1fUkVNT1ZFX0VSUk9SJywge1xuICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnZXJyb3InLCAwLCBzdGF0dXMsIG51bGwpLFxuICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgbWFpbjogZHluYW1pY0xhYmVsKHN0YXRlLm9wdGlvbnMubGFiZWxGaWxlUmVtb3ZlRXJyb3IpKFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBzdWI6IHN0YXRlLm9wdGlvbnMubGFiZWxUYXBUb1JldHJ5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGlmIGlzIHJlcXVlc3RpbmcgcmV2ZXJ0IGFuZCBjYW4gcmV2ZXJ0IG5lZWQgdG8gY2FsbCByZXZlcnQgaGFuZGxlciAobm90IGNhbGxpbmcgcmVxdWVzdF8gYmVjYXVzZSB0aGF0IHdvdWxkIGFsc28gdHJpZ2dlciBiZWZvcmVSZW1vdmVIb29rKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG9wdGlvbnMucmV2ZXJ0ICYmXG4gICAgICAgICAgICBpdGVtLm9yaWdpbiAhPT0gRmlsZU9yaWdpbi5MT0NBTCAmJlxuICAgICAgICAgICAgaXRlbS5zZXJ2ZXJJZCAhPT0gbnVsbFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaXRlbS5yZXZlcnQoXG4gICAgICAgICAgICAgIGNyZWF0ZVJldmVydEZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuc2VydmVyLnVybCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZXZlcnRcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgcXVlcnkoJ0dFVF9GT1JDRV9SRVZFUlQnKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBjYW4gbm93IHNhZmVseSByZW1vdmUgZnJvbSB2aWV3XG4gICAgICAgICAgcmVtb3ZlRnJvbVZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgfSksXG5cbiAgICAgIEFCT1JUX0lURU1fTE9BRDogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaXRlbS5hYm9ydExvYWQoKTtcbiAgICAgIH0pLFxuXG4gICAgICBBQk9SVF9JVEVNX1BST0NFU1NJTkc6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIC8vIHRlc3QgaWYgaXMgYWxyZWFkeSBwcm9jZXNzZWRcbiAgICAgICAgaWYgKGl0ZW0uc2VydmVySWQpIHtcbiAgICAgICAgICBkaXNwYXRjaCgnUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsIHsgaWQ6IGl0ZW0uaWQgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWJvcnRcbiAgICAgICAgaXRlbS5hYm9ydFByb2Nlc3NpbmcoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBzaG91bGRSZW1vdmUgPSBzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQ7XG4gICAgICAgICAgaWYgKHNob3VsZFJlbW92ZSkge1xuICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogaXRlbS5pZCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSksXG5cbiAgICAgIFJFUVVFU1RfUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKFxuICAgICAgICBpdGVtXG4gICAgICApIHtcbiAgICAgICAgLy8gbm90IGluc3RhbnQgdXBsb2FkaW5nLCByZXZlcnQgaW1taWRpYXRlbHlcbiAgICAgICAgaWYgKCFzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQpIHtcbiAgICAgICAgICBkaXNwYXRjaCgnUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsIHsgcXVlcnk6IGl0ZW0gfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgd2UncmUgaW5zdGFudCB1cGxvYWRpbmcgdGhlIGZpbGUgd2lsbCBhbHNvIGJlIHJlbW92ZWQgaWYgd2UgcmV2ZXJ0LFxuICAgICAgICAvLyBzbyBpZiBhIGJlZm9yZSByZW1vdmUgZmlsZSBob29rIGlzIGRlZmluZWQgd2UgbmVlZCB0byBydW4gaXQgbm93XG4gICAgICAgIHZhciBoYW5kbGVSZXZlcnQgPSBmdW5jdGlvbiBoYW5kbGVSZXZlcnQoc2hvdWxkUmV2ZXJ0KSB7XG4gICAgICAgICAgaWYgKCFzaG91bGRSZXZlcnQpIHJldHVybjtcbiAgICAgICAgICBkaXNwYXRjaCgnUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsIHsgcXVlcnk6IGl0ZW0gfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGZuID0gcXVlcnkoJ0dFVF9CRUZPUkVfUkVNT1ZFX0ZJTEUnKTtcbiAgICAgICAgaWYgKCFmbikge1xuICAgICAgICAgIHJldHVybiBoYW5kbGVSZXZlcnQodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVxdWVzdFJlbW92ZVJlc3VsdCA9IGZuKGNyZWF0ZUl0ZW1BUEkoaXRlbSkpO1xuICAgICAgICBpZiAocmVxdWVzdFJlbW92ZVJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgLy8gdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgICAgICByZXR1cm4gaGFuZGxlUmV2ZXJ0KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0UmVtb3ZlUmVzdWx0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICByZXR1cm4gaGFuZGxlUmV2ZXJ0KHJlcXVlc3RSZW1vdmVSZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0UmVtb3ZlUmVzdWx0LnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXF1ZXN0UmVtb3ZlUmVzdWx0LnRoZW4oaGFuZGxlUmV2ZXJ0KTtcbiAgICAgICAgfVxuICAgICAgfSksXG5cbiAgICAgIFJFVkVSVF9JVEVNX1BST0NFU1NJTkc6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW1cbiAgICAgICAgICAucmV2ZXJ0KFxuICAgICAgICAgICAgY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oXG4gICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuc2VydmVyLnVybCxcbiAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIucmV2ZXJ0XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgcXVlcnkoJ0dFVF9GT1JDRV9SRVZFUlQnKVxuICAgICAgICAgIClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzaG91bGRSZW1vdmUgPSBzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQgfHwgaXNNb2NrSXRlbShpdGVtKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRSZW1vdmUpIHtcbiAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogaXRlbS5pZCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbigpIHt9KTtcbiAgICAgIH0pLFxuXG4gICAgICBTRVRfT1BUSU9OUzogZnVuY3Rpb24gU0VUX09QVElPTlMoX3JlZjExKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gX3JlZjExLm9wdGlvbnM7XG4gICAgICAgIGZvcmluKG9wdGlvbnMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICBkaXNwYXRjaCgnU0VUXycgKyBmcm9tQ2FtZWxzKGtleSwgJ18nKS50b1VwcGVyQ2FzZSgpLCB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICB2YXIgZm9ybWF0RmlsZW5hbWUgPSBmdW5jdGlvbiBmb3JtYXRGaWxlbmFtZShuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUVsZW1lbnQkMSA9IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnTmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICB9O1xuXG4gIHZhciB0ZXh0ID0gZnVuY3Rpb24gdGV4dChub2RlLCB2YWx1ZSkge1xuICAgIHZhciB0ZXh0Tm9kZSA9IG5vZGUuY2hpbGROb2Rlc1swXTtcbiAgICBpZiAoIXRleHROb2RlKSB7XG4gICAgICB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlKTtcbiAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHRleHROb2RlLm5vZGVWYWx1ZSkge1xuICAgICAgdGV4dE5vZGUubm9kZVZhbHVlID0gdmFsdWU7XG4gICAgfVxuICB9O1xuXG4gIHZhciBwb2xhclRvQ2FydGVzaWFuID0gZnVuY3Rpb24gcG9sYXJUb0NhcnRlc2lhbihcbiAgICBjZW50ZXJYLFxuICAgIGNlbnRlclksXG4gICAgcmFkaXVzLFxuICAgIGFuZ2xlSW5EZWdyZWVzXG4gICkge1xuICAgIHZhciBhbmdsZUluUmFkaWFucyA9ICgoKGFuZ2xlSW5EZWdyZWVzICUgMzYwKSAtIDkwKSAqIE1hdGguUEkpIC8gMTgwLjA7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGNlbnRlclggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyksXG4gICAgICB5OiBjZW50ZXJZICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpXG4gICAgfTtcbiAgfTtcblxuICB2YXIgZGVzY3JpYmVBcmMgPSBmdW5jdGlvbiBkZXNjcmliZUFyYyhcbiAgICB4LFxuICAgIHksXG4gICAgcmFkaXVzLFxuICAgIHN0YXJ0QW5nbGUsXG4gICAgZW5kQW5nbGUsXG4gICAgYXJjU3dlZXBcbiAgKSB7XG4gICAgdmFyIHN0YXJ0ID0gcG9sYXJUb0NhcnRlc2lhbih4LCB5LCByYWRpdXMsIGVuZEFuZ2xlKTtcbiAgICB2YXIgZW5kID0gcG9sYXJUb0NhcnRlc2lhbih4LCB5LCByYWRpdXMsIHN0YXJ0QW5nbGUpO1xuICAgIHJldHVybiBbXG4gICAgICAnTScsXG4gICAgICBzdGFydC54LFxuICAgICAgc3RhcnQueSxcbiAgICAgICdBJyxcbiAgICAgIHJhZGl1cyxcbiAgICAgIHJhZGl1cyxcbiAgICAgIDAsXG4gICAgICBhcmNTd2VlcCxcbiAgICAgIDAsXG4gICAgICBlbmQueCxcbiAgICAgIGVuZC55XG4gICAgXS5qb2luKCcgJyk7XG4gIH07XG5cbiAgdmFyIHBlcmNlbnRhZ2VBcmMgPSBmdW5jdGlvbiBwZXJjZW50YWdlQXJjKHgsIHksIHJhZGl1cywgZnJvbSwgdG8pIHtcbiAgICB2YXIgYXJjU3dlZXAgPSAxO1xuICAgIGlmICh0byA+IGZyb20gJiYgdG8gLSBmcm9tIDw9IDAuNSkge1xuICAgICAgYXJjU3dlZXAgPSAwO1xuICAgIH1cbiAgICBpZiAoZnJvbSA+IHRvICYmIGZyb20gLSB0byA+PSAwLjUpIHtcbiAgICAgIGFyY1N3ZWVwID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGRlc2NyaWJlQXJjKFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICByYWRpdXMsXG4gICAgICBNYXRoLm1pbigwLjk5OTksIGZyb20pICogMzYwLFxuICAgICAgTWF0aC5taW4oMC45OTk5LCB0bykgKiAzNjAsXG4gICAgICBhcmNTd2VlcFxuICAgICk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG4gICAgLy8gc3RhcnQgYXQgMFxuICAgIHByb3BzLnNwaW4gPSBmYWxzZTtcbiAgICBwcm9wcy5wcm9ncmVzcyA9IDA7XG4gICAgcHJvcHMub3BhY2l0eSA9IDA7XG5cbiAgICAvLyBzdmdcbiAgICB2YXIgc3ZnID0gY3JlYXRlRWxlbWVudCgnc3ZnJyk7XG4gICAgcm9vdC5yZWYucGF0aCA9IGNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7XG4gICAgICAnc3Ryb2tlLXdpZHRoJzogMixcbiAgICAgICdzdHJva2UtbGluZWNhcCc6ICdyb3VuZCdcbiAgICB9KTtcblxuICAgIHN2Zy5hcHBlbmRDaGlsZChyb290LnJlZi5wYXRoKTtcblxuICAgIHJvb3QucmVmLnN2ZyA9IHN2ZztcblxuICAgIHJvb3QuYXBwZW5kQ2hpbGQoc3ZnKTtcbiAgfTtcblxuICB2YXIgd3JpdGUgPSBmdW5jdGlvbiB3cml0ZShfcmVmMikge1xuICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZjIucHJvcHM7XG5cbiAgICBpZiAocHJvcHMub3BhY2l0eSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5hbGlnbikge1xuICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuYWxpZ24gPSBwcm9wcy5hbGlnbjtcbiAgICB9XG5cbiAgICAvLyBnZXQgd2lkdGggb2Ygc3Ryb2tlXG4gICAgdmFyIHJpbmdTdHJva2VXaWR0aCA9IHBhcnNlSW50KGF0dHIocm9vdC5yZWYucGF0aCwgJ3N0cm9rZS13aWR0aCcpLCAxMCk7XG5cbiAgICAvLyBjYWxjdWxhdGUgc2l6ZSBvZiByaW5nXG4gICAgdmFyIHNpemUgPSByb290LnJlY3QuZWxlbWVudC53aWR0aCAqIDAuNTtcblxuICAgIC8vIHJpbmcgc3RhdGVcbiAgICB2YXIgcmluZ0Zyb20gPSAwO1xuICAgIHZhciByaW5nVG8gPSAwO1xuXG4gICAgLy8gbm93IGluIGJ1c3kgbW9kZVxuICAgIGlmIChwcm9wcy5zcGluKSB7XG4gICAgICByaW5nRnJvbSA9IDA7XG4gICAgICByaW5nVG8gPSAwLjU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJpbmdGcm9tID0gMDtcbiAgICAgIHJpbmdUbyA9IHByb3BzLnByb2dyZXNzO1xuICAgIH1cblxuICAgIC8vIGdldCBhcmMgcGF0aFxuICAgIHZhciBjb29yZGluYXRlcyA9IHBlcmNlbnRhZ2VBcmMoXG4gICAgICBzaXplLFxuICAgICAgc2l6ZSxcbiAgICAgIHNpemUgLSByaW5nU3Ryb2tlV2lkdGgsXG4gICAgICByaW5nRnJvbSxcbiAgICAgIHJpbmdUb1xuICAgICk7XG5cbiAgICAvLyB1cGRhdGUgcHJvZ3Jlc3MgYmFyXG4gICAgYXR0cihyb290LnJlZi5wYXRoLCAnZCcsIGNvb3JkaW5hdGVzKTtcblxuICAgIC8vIGhpZGUgd2hpbGUgY29udGFpbnMgMCB2YWx1ZVxuICAgIGF0dHIoXG4gICAgICByb290LnJlZi5wYXRoLFxuICAgICAgJ3N0cm9rZS1vcGFjaXR5JyxcbiAgICAgIHByb3BzLnNwaW4gfHwgcHJvcHMucHJvZ3Jlc3MgPiAwID8gMSA6IDBcbiAgICApO1xuICB9O1xuXG4gIHZhciBwcm9ncmVzc0luZGljYXRvciA9IGNyZWF0ZVZpZXcoe1xuICAgIHRhZzogJ2RpdicsXG4gICAgbmFtZTogJ3Byb2dyZXNzLWluZGljYXRvcicsXG4gICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGNyZWF0ZTogY3JlYXRlLFxuICAgIHdyaXRlOiB3cml0ZSxcbiAgICBtaXhpbnM6IHtcbiAgICAgIGFwaXM6IFsncHJvZ3Jlc3MnLCAnc3BpbicsICdhbGlnbiddLFxuICAgICAgc3R5bGVzOiBbJ29wYWNpdHknXSxcbiAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogNTAwIH0sXG4gICAgICAgIHByb2dyZXNzOiB7XG4gICAgICAgICAgdHlwZTogJ3NwcmluZycsXG4gICAgICAgICAgc3RpZmZuZXNzOiAwLjk1LFxuICAgICAgICAgIGRhbXBpbmc6IDAuNjUsXG4gICAgICAgICAgbWFzczogMTBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGNyZWF0ZSQxID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICByb290LmVsZW1lbnQuaW5uZXJIVE1MID1cbiAgICAgIChwcm9wcy5pY29uIHx8ICcnKSArICgnPHNwYW4+JyArIHByb3BzLmxhYmVsICsgJzwvc3Bhbj4nKTtcblxuICAgIHByb3BzLmlzRGlzYWJsZWQgPSBmYWxzZTtcbiAgfTtcblxuICB2YXIgd3JpdGUkMSA9IGZ1bmN0aW9uIHdyaXRlKF9yZWYyKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcztcbiAgICB2YXIgaXNEaXNhYmxlZCA9IHByb3BzLmlzRGlzYWJsZWQ7XG4gICAgdmFyIHNob3VsZERpc2FibGUgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKSB8fCBwcm9wcy5vcGFjaXR5ID09PSAwO1xuXG4gICAgaWYgKHNob3VsZERpc2FibGUgJiYgIWlzRGlzYWJsZWQpIHtcbiAgICAgIHByb3BzLmlzRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgYXR0cihyb290LmVsZW1lbnQsICdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgIH0gZWxzZSBpZiAoIXNob3VsZERpc2FibGUgJiYgaXNEaXNhYmxlZCkge1xuICAgICAgcHJvcHMuaXNEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGZpbGVBY3Rpb25CdXR0b24gPSBjcmVhdGVWaWV3KHtcbiAgICB0YWc6ICdidXR0b24nLFxuICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgIHR5cGU6ICdidXR0b24nXG4gICAgfSxcblxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICBuYW1lOiAnZmlsZS1hY3Rpb24tYnV0dG9uJyxcbiAgICBtaXhpbnM6IHtcbiAgICAgIGFwaXM6IFsnbGFiZWwnXSxcbiAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAnc2NhbGVYJywgJ3NjYWxlWScsICdvcGFjaXR5J10sXG4gICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgIHNjYWxlWDogJ3NwcmluZycsXG4gICAgICAgIHNjYWxlWTogJ3NwcmluZycsXG4gICAgICAgIHRyYW5zbGF0ZVg6ICdzcHJpbmcnLFxuICAgICAgICB0cmFuc2xhdGVZOiAnc3ByaW5nJyxcbiAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogMjUwIH1cbiAgICAgIH0sXG5cbiAgICAgIGxpc3RlbmVyczogdHJ1ZVxuICAgIH0sXG5cbiAgICBjcmVhdGU6IGNyZWF0ZSQxLFxuICAgIHdyaXRlOiB3cml0ZSQxXG4gIH0pO1xuXG4gIHZhciB0b05hdHVyYWxGaWxlU2l6ZSA9IGZ1bmN0aW9uIHRvTmF0dXJhbEZpbGVTaXplKGJ5dGVzKSB7XG4gICAgdmFyIGRlY2ltYWxTZXBhcmF0b3IgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnLic7XG4gICAgLy8gbm9wZSwgbm8gbmVnYXRpdmUgYnl0ZSBzaXplc1xuICAgIGJ5dGVzID0gTWF0aC5yb3VuZChNYXRoLmFicyhieXRlcykpO1xuXG4gICAgLy8ganVzdCBieXRlc1xuICAgIGlmIChieXRlcyA8IDEwMDApIHtcbiAgICAgIHJldHVybiBieXRlcyArICcgYnl0ZXMnO1xuICAgIH1cblxuICAgIC8vIGtpbG9ieXRlc1xuICAgIGlmIChieXRlcyA8IE1CKSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihieXRlcyAvIEtCKSArICcgS0InO1xuICAgIH1cblxuICAgIC8vIG1lZ2FieXRlc1xuICAgIGlmIChieXRlcyA8IEdCKSB7XG4gICAgICByZXR1cm4gcmVtb3ZlRGVjaW1hbHNXaGVuWmVybyhieXRlcyAvIE1CLCAxLCBkZWNpbWFsU2VwYXJhdG9yKSArICcgTUInO1xuICAgIH1cblxuICAgIC8vIGdpZ2FieXRlc1xuICAgIHJldHVybiByZW1vdmVEZWNpbWFsc1doZW5aZXJvKGJ5dGVzIC8gR0IsIDIsIGRlY2ltYWxTZXBhcmF0b3IpICsgJyBHQic7XG4gIH07XG5cbiAgdmFyIEtCID0gMTAwMDtcbiAgdmFyIE1CID0gMTAwMDAwMDtcbiAgdmFyIEdCID0gMTAwMDAwMDAwMDtcblxuICB2YXIgcmVtb3ZlRGVjaW1hbHNXaGVuWmVybyA9IGZ1bmN0aW9uIHJlbW92ZURlY2ltYWxzV2hlblplcm8oXG4gICAgdmFsdWUsXG4gICAgZGVjaW1hbENvdW50LFxuICAgIHNlcGFyYXRvclxuICApIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgICAgIC50b0ZpeGVkKGRlY2ltYWxDb3VudClcbiAgICAgIC5zcGxpdCgnLicpXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uKHBhcnQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnQgIT09ICcwJztcbiAgICAgIH0pXG4gICAgICAuam9pbihzZXBhcmF0b3IpO1xuICB9O1xuXG4gIHZhciBjcmVhdGUkMiA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG4gICAgLy8gZmlsZW5hbWVcbiAgICB2YXIgZmlsZU5hbWUgPSBjcmVhdGVFbGVtZW50JDEoJ3NwYW4nKTtcbiAgICBmaWxlTmFtZS5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLWZpbGUtaW5mby1tYWluJztcbiAgICAvLyBoaWRlIGZvciBzY3JlZW5yZWFkZXJzXG4gICAgLy8gdGhlIGZpbGUgaXMgY29udGFpbmVkIGluIGEgZmllbGRzZXQgd2l0aCBsZWdlbmQgdGhhdCBjb250YWlucyB0aGUgZmlsZW5hbWVcbiAgICAvLyBubyBuZWVkIHRvIHJlYWQgaXQgdHdpY2VcbiAgICBhdHRyKGZpbGVOYW1lLCAnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIHJvb3QuYXBwZW5kQ2hpbGQoZmlsZU5hbWUpO1xuICAgIHJvb3QucmVmLmZpbGVOYW1lID0gZmlsZU5hbWU7XG5cbiAgICAvLyBmaWxlc2l6ZVxuICAgIHZhciBmaWxlU2l6ZSA9IGNyZWF0ZUVsZW1lbnQkMSgnc3BhbicpO1xuICAgIGZpbGVTaXplLmNsYXNzTmFtZSA9ICdmaWxlcG9uZC0tZmlsZS1pbmZvLXN1Yic7XG4gICAgcm9vdC5hcHBlbmRDaGlsZChmaWxlU2l6ZSk7XG4gICAgcm9vdC5yZWYuZmlsZVNpemUgPSBmaWxlU2l6ZTtcblxuICAgIC8vIHNldCBpbml0aWFsIHZhbHVlc1xuICAgIHRleHQoZmlsZVNpemUsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1dBSVRJTkdfRk9SX1NJWkUnKSk7XG4gICAgdGV4dChmaWxlTmFtZSwgZm9ybWF0RmlsZW5hbWUocm9vdC5xdWVyeSgnR0VUX0lURU1fTkFNRScsIHByb3BzLmlkKSkpO1xuICB9O1xuXG4gIHZhciB1cGRhdGVGaWxlID0gZnVuY3Rpb24gdXBkYXRlRmlsZShfcmVmMikge1xuICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZjIucHJvcHM7XG4gICAgdGV4dChcbiAgICAgIHJvb3QucmVmLmZpbGVTaXplLFxuICAgICAgdG9OYXR1cmFsRmlsZVNpemUocm9vdC5xdWVyeSgnR0VUX0lURU1fU0laRScsIHByb3BzLmlkKSlcbiAgICApO1xuXG4gICAgdGV4dChcbiAgICAgIHJvb3QucmVmLmZpbGVOYW1lLFxuICAgICAgZm9ybWF0RmlsZW5hbWUocm9vdC5xdWVyeSgnR0VUX0lURU1fTkFNRScsIHByb3BzLmlkKSlcbiAgICApO1xuICB9O1xuXG4gIHZhciB1cGRhdGVGaWxlU2l6ZU9uRXJyb3IgPSBmdW5jdGlvbiB1cGRhdGVGaWxlU2l6ZU9uRXJyb3IoX3JlZjMpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYzLnByb3BzO1xuICAgIC8vIGlmIHNpemUgaXMgYXZhaWxhYmxlIGRvbid0IGZhbGxiYWNrIHRvIHVua25vd24gc2l6ZSBtZXNzYWdlXG4gICAgaWYgKGlzSW50KHJvb3QucXVlcnkoJ0dFVF9JVEVNX1NJWkUnLCBwcm9wcy5pZCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGV4dChyb290LnJlZi5maWxlU2l6ZSwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfU0laRV9OT1RfQVZBSUxBQkxFJykpO1xuICB9O1xuXG4gIHZhciBmaWxlSW5mbyA9IGNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdmaWxlLWluZm8nLFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICB3cml0ZTogY3JlYXRlUm91dGUoe1xuICAgICAgRElEX0xPQURfSVRFTTogdXBkYXRlRmlsZSxcbiAgICAgIERJRF9VUERBVEVfSVRFTV9NRVRBOiB1cGRhdGVGaWxlLFxuICAgICAgRElEX1RIUk9XX0lURU1fTE9BRF9FUlJPUjogdXBkYXRlRmlsZVNpemVPbkVycm9yLFxuICAgICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDogdXBkYXRlRmlsZVNpemVPbkVycm9yXG4gICAgfSksXG5cbiAgICBkaWRDcmVhdGVWaWV3OiBmdW5jdGlvbiBkaWRDcmVhdGVWaWV3KHJvb3QpIHtcbiAgICAgIGFwcGx5RmlsdGVycygnQ1JFQVRFX1ZJRVcnLCBPYmplY3QuYXNzaWduKHt9LCByb290LCB7IHZpZXc6IHJvb3QgfSkpO1xuICAgIH0sXG4gICAgY3JlYXRlOiBjcmVhdGUkMixcbiAgICBtaXhpbnM6IHtcbiAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknXSxcbiAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgdHJhbnNsYXRlWDogJ3NwcmluZycsXG4gICAgICAgIHRyYW5zbGF0ZVk6ICdzcHJpbmcnXG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2YXIgdG9QZXJjZW50YWdlID0gZnVuY3Rpb24gdG9QZXJjZW50YWdlKHZhbHVlKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiAxMDApO1xuICB9O1xuXG4gIHZhciBjcmVhdGUkMyA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmLnJvb3Q7XG5cbiAgICAvLyBtYWluIHN0YXR1c1xuICAgIHZhciBtYWluID0gY3JlYXRlRWxlbWVudCQxKCdzcGFuJyk7XG4gICAgbWFpbi5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLWZpbGUtc3RhdHVzLW1haW4nO1xuICAgIHJvb3QuYXBwZW5kQ2hpbGQobWFpbik7XG4gICAgcm9vdC5yZWYubWFpbiA9IG1haW47XG5cbiAgICAvLyBzdWIgc3RhdHVzXG4gICAgdmFyIHN1YiA9IGNyZWF0ZUVsZW1lbnQkMSgnc3BhbicpO1xuICAgIHN1Yi5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLWZpbGUtc3RhdHVzLXN1Yic7XG4gICAgcm9vdC5hcHBlbmRDaGlsZChzdWIpO1xuICAgIHJvb3QucmVmLnN1YiA9IHN1YjtcblxuICAgIGRpZFNldEl0ZW1Mb2FkUHJvZ3Jlc3MoeyByb290OiByb290LCBhY3Rpb246IHsgcHJvZ3Jlc3M6IG51bGwgfSB9KTtcbiAgfTtcblxuICB2YXIgZGlkU2V0SXRlbUxvYWRQcm9ncmVzcyA9IGZ1bmN0aW9uIGRpZFNldEl0ZW1Mb2FkUHJvZ3Jlc3MoX3JlZjIpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmMi5hY3Rpb247XG4gICAgdmFyIHRpdGxlID1cbiAgICAgIGFjdGlvbi5wcm9ncmVzcyA9PT0gbnVsbFxuICAgICAgICA/IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX0xPQURJTkcnKVxuICAgICAgICA6IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX0xPQURJTkcnKSArXG4gICAgICAgICAgJyAnICtcbiAgICAgICAgICB0b1BlcmNlbnRhZ2UoYWN0aW9uLnByb2dyZXNzKSArXG4gICAgICAgICAgJyUnO1xuXG4gICAgdGV4dChyb290LnJlZi5tYWluLCB0aXRsZSk7XG4gICAgdGV4dChyb290LnJlZi5zdWIsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9UQVBfVE9fQ0FOQ0VMJykpO1xuICB9O1xuXG4gIHZhciBkaWRTZXRJdGVtUHJvY2Vzc1Byb2dyZXNzID0gZnVuY3Rpb24gZGlkU2V0SXRlbVByb2Nlc3NQcm9ncmVzcyhfcmVmMykge1xuICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWYzLmFjdGlvbjtcbiAgICB2YXIgdGl0bGUgPVxuICAgICAgYWN0aW9uLnByb2dyZXNzID09PSBudWxsXG4gICAgICAgID8gcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lORycpXG4gICAgICAgIDogcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lORycpICtcbiAgICAgICAgICAnICcgK1xuICAgICAgICAgIHRvUGVyY2VudGFnZShhY3Rpb24ucHJvZ3Jlc3MpICtcbiAgICAgICAgICAnJSc7XG5cbiAgICB0ZXh0KHJvb3QucmVmLm1haW4sIHRpdGxlKTtcbiAgICB0ZXh0KHJvb3QucmVmLnN1Yiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX1RBUF9UT19DQU5DRUwnKSk7XG4gIH07XG5cbiAgdmFyIGRpZFJlcXVlc3RJdGVtUHJvY2Vzc2luZyA9IGZ1bmN0aW9uIGRpZFJlcXVlc3RJdGVtUHJvY2Vzc2luZyhfcmVmNCkge1xuICAgIHZhciByb290ID0gX3JlZjQucm9vdDtcbiAgICB0ZXh0KHJvb3QucmVmLm1haW4sIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkcnKSk7XG4gICAgdGV4dChyb290LnJlZi5zdWIsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9UQVBfVE9fQ0FOQ0VMJykpO1xuICB9O1xuXG4gIHZhciBkaWRBYm9ydEl0ZW1Qcm9jZXNzaW5nID0gZnVuY3Rpb24gZGlkQWJvcnRJdGVtUHJvY2Vzc2luZyhfcmVmNSkge1xuICAgIHZhciByb290ID0gX3JlZjUucm9vdDtcbiAgICB0ZXh0KHJvb3QucmVmLm1haW4sIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkdfQUJPUlRFRCcpKTtcbiAgICB0ZXh0KHJvb3QucmVmLnN1Yiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX1RBUF9UT19SRVRSWScpKTtcbiAgfTtcblxuICB2YXIgZGlkQ29tcGxldGVJdGVtUHJvY2Vzc2luZyA9IGZ1bmN0aW9uIGRpZENvbXBsZXRlSXRlbVByb2Nlc3NpbmcoX3JlZjYpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY2LnJvb3Q7XG4gICAgdGV4dChyb290LnJlZi5tYWluLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9QUk9DRVNTSU5HX0NPTVBMRVRFJykpO1xuICAgIHRleHQocm9vdC5yZWYuc3ViLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfVEFQX1RPX1VORE8nKSk7XG4gIH07XG5cbiAgdmFyIGNsZWFyID0gZnVuY3Rpb24gY2xlYXIoX3JlZjcpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY3LnJvb3Q7XG4gICAgdGV4dChyb290LnJlZi5tYWluLCAnJyk7XG4gICAgdGV4dChyb290LnJlZi5zdWIsICcnKTtcbiAgfTtcblxuICB2YXIgZXJyb3IgPSBmdW5jdGlvbiBlcnJvcihfcmVmOCkge1xuICAgIHZhciByb290ID0gX3JlZjgucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWY4LmFjdGlvbjtcbiAgICB0ZXh0KHJvb3QucmVmLm1haW4sIGFjdGlvbi5zdGF0dXMubWFpbik7XG4gICAgdGV4dChyb290LnJlZi5zdWIsIGFjdGlvbi5zdGF0dXMuc3ViKTtcbiAgfTtcblxuICB2YXIgZmlsZVN0YXR1cyA9IGNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdmaWxlLXN0YXR1cycsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBpZ25vcmVSZWN0VXBkYXRlOiB0cnVlLFxuICAgIHdyaXRlOiBjcmVhdGVSb3V0ZSh7XG4gICAgICBESURfTE9BRF9JVEVNOiBjbGVhcixcbiAgICAgIERJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiBjbGVhcixcbiAgICAgIERJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORzogZGlkUmVxdWVzdEl0ZW1Qcm9jZXNzaW5nLFxuICAgICAgRElEX0FCT1JUX0lURU1fUFJPQ0VTU0lORzogZGlkQWJvcnRJdGVtUHJvY2Vzc2luZyxcbiAgICAgIERJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkc6IGRpZENvbXBsZXRlSXRlbVByb2Nlc3NpbmcsXG4gICAgICBESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUzogZGlkU2V0SXRlbVByb2Nlc3NQcm9ncmVzcyxcbiAgICAgIERJRF9VUERBVEVfSVRFTV9MT0FEX1BST0dSRVNTOiBkaWRTZXRJdGVtTG9hZFByb2dyZXNzLFxuICAgICAgRElEX1RIUk9XX0lURU1fTE9BRF9FUlJPUjogZXJyb3IsXG4gICAgICBESURfVEhST1dfSVRFTV9JTlZBTElEOiBlcnJvcixcbiAgICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1I6IGVycm9yLFxuICAgICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19SRVZFUlRfRVJST1I6IGVycm9yLFxuICAgICAgRElEX1RIUk9XX0lURU1fUkVNT1ZFX0VSUk9SOiBlcnJvclxuICAgIH0pLFxuXG4gICAgZGlkQ3JlYXRlVmlldzogZnVuY3Rpb24gZGlkQ3JlYXRlVmlldyhyb290KSB7XG4gICAgICBhcHBseUZpbHRlcnMoJ0NSRUFURV9WSUVXJywgT2JqZWN0LmFzc2lnbih7fSwgcm9vdCwgeyB2aWV3OiByb290IH0pKTtcbiAgICB9LFxuICAgIGNyZWF0ZTogY3JlYXRlJDMsXG4gICAgbWl4aW5zOiB7XG4gICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgJ29wYWNpdHknXSxcbiAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogMjUwIH0sXG4gICAgICAgIHRyYW5zbGF0ZVg6ICdzcHJpbmcnLFxuICAgICAgICB0cmFuc2xhdGVZOiAnc3ByaW5nJ1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIEJ1dHRvbiBkZWZpbml0aW9ucyBmb3IgdGhlIGZpbGUgdmlld1xuICAgKi9cblxuICB2YXIgQnV0dG9ucyA9IHtcbiAgICBBYm9ydEl0ZW1Mb2FkOiB7XG4gICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9MT0FEJyxcbiAgICAgIGFjdGlvbjogJ0FCT1JUX0lURU1fTE9BRCcsXG4gICAgICBjbGFzc05hbWU6ICdmaWxlcG9uZC0tYWN0aW9uLWFib3J0LWl0ZW0tbG9hZCcsXG4gICAgICBhbGlnbjogJ0xPQURfSU5ESUNBVE9SX1BPU0lUSU9OJyAvLyByaWdodFxuICAgIH0sXG4gICAgUmV0cnlJdGVtTG9hZDoge1xuICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX1JFVFJZX0lURU1fTE9BRCcsXG4gICAgICBhY3Rpb246ICdSRVRSWV9JVEVNX0xPQUQnLFxuICAgICAgaWNvbjogJ0dFVF9JQ09OX1JFVFJZJyxcbiAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tcmV0cnktaXRlbS1sb2FkJyxcbiAgICAgIGFsaWduOiAnQlVUVE9OX1BST0NFU1NfSVRFTV9QT1NJVElPTicgLy8gcmlnaHRcbiAgICB9LFxuICAgIFJlbW92ZUl0ZW06IHtcbiAgICAgIGxhYmVsOiAnR0VUX0xBQkVMX0JVVFRPTl9SRU1PVkVfSVRFTScsXG4gICAgICBhY3Rpb246ICdSRVFVRVNUX1JFTU9WRV9JVEVNJyxcbiAgICAgIGljb246ICdHRVRfSUNPTl9SRU1PVkUnLFxuICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1yZW1vdmUtaXRlbScsXG4gICAgICBhbGlnbjogJ0JVVFRPTl9SRU1PVkVfSVRFTV9QT1NJVElPTicgLy8gbGVmdFxuICAgIH0sXG4gICAgUHJvY2Vzc0l0ZW06IHtcbiAgICAgIGxhYmVsOiAnR0VUX0xBQkVMX0JVVFRPTl9QUk9DRVNTX0lURU0nLFxuICAgICAgYWN0aW9uOiAnUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgaWNvbjogJ0dFVF9JQ09OX1BST0NFU1MnLFxuICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1wcm9jZXNzLWl0ZW0nLFxuICAgICAgYWxpZ246ICdCVVRUT05fUFJPQ0VTU19JVEVNX1BPU0lUSU9OJyAvLyByaWdodFxuICAgIH0sXG4gICAgQWJvcnRJdGVtUHJvY2Vzc2luZzoge1xuICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICBhY3Rpb246ICdBQk9SVF9JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1hYm9ydC1pdGVtLXByb2Nlc3NpbmcnLFxuICAgICAgYWxpZ246ICdCVVRUT05fUFJPQ0VTU19JVEVNX1BPU0lUSU9OJyAvLyByaWdodFxuICAgIH0sXG4gICAgUmV0cnlJdGVtUHJvY2Vzc2luZzoge1xuICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX1JFVFJZX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICBhY3Rpb246ICdSRVRSWV9JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgaWNvbjogJ0dFVF9JQ09OX1JFVFJZJyxcbiAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tcmV0cnktaXRlbS1wcm9jZXNzaW5nJyxcbiAgICAgIGFsaWduOiAnQlVUVE9OX1BST0NFU1NfSVRFTV9QT1NJVElPTicgLy8gcmlnaHRcbiAgICB9LFxuICAgIFJldmVydEl0ZW1Qcm9jZXNzaW5nOiB7XG4gICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fVU5ET19JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgYWN0aW9uOiAnUkVRVUVTVF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgIGljb246ICdHRVRfSUNPTl9VTkRPJyxcbiAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tcmV2ZXJ0LWl0ZW0tcHJvY2Vzc2luZycsXG4gICAgICBhbGlnbjogJ0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nIC8vIHJpZ2h0XG4gICAgfVxuICB9O1xuXG4gIC8vIG1ha2UgYSBsaXN0IG9mIGJ1dHRvbnMsIHdlIGNhbiB0aGVuIHJlbW92ZSBidXR0b25zIGZyb20gdGhpcyBsaXN0IGlmIHRoZXkncmUgZGlzYWJsZWRcbiAgdmFyIEJ1dHRvbktleXMgPSBbXTtcbiAgZm9yaW4oQnV0dG9ucywgZnVuY3Rpb24oa2V5KSB7XG4gICAgQnV0dG9uS2V5cy5wdXNoKGtleSk7XG4gIH0pO1xuXG4gIHZhciBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0KHJvb3QpIHtcbiAgICB2YXIgYnV0dG9uUmVjdCA9IHJvb3QucmVmLmJ1dHRvblJlbW92ZUl0ZW0ucmVjdC5lbGVtZW50O1xuICAgIHJldHVybiBidXR0b25SZWN0LmhpZGRlbiA/IG51bGwgOiBidXR0b25SZWN0LndpZHRoICsgYnV0dG9uUmVjdC5sZWZ0O1xuICB9O1xuXG4gIHZhciBjYWxjdWxhdGVCdXR0b25XaWR0aCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUJ1dHRvbldpZHRoKHJvb3QpIHtcbiAgICB2YXIgYnV0dG9uUmVjdCA9IHJvb3QucmVmLmJ1dHRvbkFib3J0SXRlbUxvYWQucmVjdC5lbGVtZW50O1xuICAgIHJldHVybiBidXR0b25SZWN0LndpZHRoO1xuICB9O1xuXG4gIC8vIEZvcmNlIG9uIGZ1bGwgcGl4ZWxzIHNvIHRleHQgc3RheXMgY3JpcHNcbiAgdmFyIGNhbGN1bGF0ZUZpbGVWZXJ0aWNhbENlbnRlck9mZnNldCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZpbGVWZXJ0aWNhbENlbnRlck9mZnNldChcbiAgICByb290XG4gICkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKHJvb3QucmVmLmJ1dHRvblJlbW92ZUl0ZW0ucmVjdC5lbGVtZW50LmhlaWdodCAvIDQpO1xuICB9O1xuICB2YXIgY2FsY3VsYXRlRmlsZUhvcml6b250YWxDZW50ZXJPZmZzZXQgPSBmdW5jdGlvbiBjYWxjdWxhdGVGaWxlSG9yaXpvbnRhbENlbnRlck9mZnNldChcbiAgICByb290XG4gICkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKHJvb3QucmVmLmJ1dHRvblJlbW92ZUl0ZW0ucmVjdC5lbGVtZW50LmxlZnQgLyAyKTtcbiAgfTtcblxuICB2YXIgZ2V0TG9hZEluZGljYXRvckFsaWdubWVudCA9IGZ1bmN0aW9uIGdldExvYWRJbmRpY2F0b3JBbGlnbm1lbnQocm9vdCkge1xuICAgIHJldHVybiByb290LnF1ZXJ5KCdHRVRfU1RZTEVfTE9BRF9JTkRJQ0FUT1JfUE9TSVRJT04nKTtcbiAgfTtcbiAgdmFyIGdldFByb2Nlc3NJbmRpY2F0b3JBbGlnbm1lbnQgPSBmdW5jdGlvbiBnZXRQcm9jZXNzSW5kaWNhdG9yQWxpZ25tZW50KFxuICAgIHJvb3RcbiAgKSB7XG4gICAgcmV0dXJuIHJvb3QucXVlcnkoJ0dFVF9TVFlMRV9QUk9HUkVTU19JTkRJQ0FUT1JfUE9TSVRJT04nKTtcbiAgfTtcbiAgdmFyIGdldFJlbW92ZUluZGljYXRvckFsaWdtZW50ID0gZnVuY3Rpb24gZ2V0UmVtb3ZlSW5kaWNhdG9yQWxpZ21lbnQocm9vdCkge1xuICAgIHJldHVybiByb290LnF1ZXJ5KCdHRVRfU1RZTEVfQlVUVE9OX1JFTU9WRV9JVEVNX1BPU0lUSU9OJyk7XG4gIH07XG5cbiAgdmFyIERlZmF1bHRTdHlsZSA9IHtcbiAgICBidXR0b25BYm9ydEl0ZW1Mb2FkOiB7IG9wYWNpdHk6IDAgfSxcbiAgICBidXR0b25SZXRyeUl0ZW1Mb2FkOiB7IG9wYWNpdHk6IDAgfSxcbiAgICBidXR0b25SZW1vdmVJdGVtOiB7IG9wYWNpdHk6IDAgfSxcbiAgICBidXR0b25Qcm9jZXNzSXRlbTogeyBvcGFjaXR5OiAwIH0sXG4gICAgYnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAwIH0sXG4gICAgYnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAwIH0sXG4gICAgYnV0dG9uUmV2ZXJ0SXRlbVByb2Nlc3Npbmc6IHsgb3BhY2l0eTogMCB9LFxuICAgIGxvYWRQcm9ncmVzc0luZGljYXRvcjogeyBvcGFjaXR5OiAwLCBhbGlnbjogZ2V0TG9hZEluZGljYXRvckFsaWdubWVudCB9LFxuICAgIHByb2Nlc3NQcm9ncmVzc0luZGljYXRvcjoge1xuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIGFsaWduOiBnZXRQcm9jZXNzSW5kaWNhdG9yQWxpZ25tZW50XG4gICAgfSxcbiAgICBwcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3I6IHsgb3BhY2l0eTogMCwgc2NhbGVYOiAwLjc1LCBzY2FsZVk6IDAuNzUgfSxcbiAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IDAsIHRyYW5zbGF0ZVk6IDAsIG9wYWNpdHk6IDAgfSxcbiAgICBzdGF0dXM6IHsgdHJhbnNsYXRlWDogMCwgdHJhbnNsYXRlWTogMCwgb3BhY2l0eTogMCB9XG4gIH07XG5cbiAgdmFyIElkbGVTdHlsZSA9IHtcbiAgICBidXR0b25SZW1vdmVJdGVtOiB7IG9wYWNpdHk6IDEgfSxcbiAgICBidXR0b25Qcm9jZXNzSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgIHN0YXR1czogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9XG4gIH07XG5cbiAgdmFyIFByb2Nlc3NpbmdTdHlsZSA9IHtcbiAgICBidXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDEgfSxcbiAgICBwcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3I6IHsgb3BhY2l0eTogMSB9LFxuICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH1cbiAgfTtcblxuICB2YXIgU3R5bGVNYXAgPSB7XG4gICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDoge1xuICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICBzdGF0dXM6IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQsIG9wYWNpdHk6IDEgfVxuICAgIH0sXG5cbiAgICBESURfU1RBUlRfSVRFTV9MT0FEOiB7XG4gICAgICBidXR0b25BYm9ydEl0ZW1Mb2FkOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgIGxvYWRQcm9ncmVzc0luZGljYXRvcjogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9XG4gICAgfSxcblxuICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IHtcbiAgICAgIGJ1dHRvblJldHJ5SXRlbUxvYWQ6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9XG4gICAgfSxcblxuICAgIERJRF9TVEFSVF9JVEVNX1JFTU9WRToge1xuICAgICAgcHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yOiB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIGFsaWduOiBnZXRSZW1vdmVJbmRpY2F0b3JBbGlnbWVudFxuICAgICAgfSxcbiAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAwIH1cbiAgICB9LFxuXG4gICAgRElEX1RIUk9XX0lURU1fUkVNT1ZFX0VSUk9SOiB7XG4gICAgICBwcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3I6IHtcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgYWxpZ246IGdldFJlbW92ZUluZGljYXRvckFsaWdtZW50XG4gICAgICB9LFxuICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSwgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfVxuICAgIH0sXG5cbiAgICBESURfTE9BRF9JVEVNOiBJZGxlU3R5bGUsXG4gICAgRElEX0xPQURfTE9DQUxfSVRFTToge1xuICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICBzdGF0dXM6IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfVxuICAgIH0sXG5cbiAgICBESURfU1RBUlRfSVRFTV9QUk9DRVNTSU5HOiBQcm9jZXNzaW5nU3R5bGUsXG4gICAgRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HOiBQcm9jZXNzaW5nU3R5bGUsXG4gICAgRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1M6IFByb2Nlc3NpbmdTdHlsZSxcbiAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiB7XG4gICAgICBidXR0b25SZXZlcnRJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBpbmZvOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH1cbiAgICB9LFxuXG4gICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUjoge1xuICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBidXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH1cbiAgICB9LFxuXG4gICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19SRVZFUlRfRVJST1I6IHtcbiAgICAgIGJ1dHRvblJldmVydEl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH0sXG4gICAgICBpbmZvOiB7IG9wYWNpdHk6IDEgfVxuICAgIH0sXG5cbiAgICBESURfQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiB7XG4gICAgICBidXR0b25SZW1vdmVJdGVtOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgIGJ1dHRvblByb2Nlc3NJdGVtOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH1cbiAgICB9LFxuXG4gICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IElkbGVTdHlsZVxuICB9O1xuXG4gIC8vIGNvbXBsZXRlIGluZGljYXRvciB2aWV3XG4gIHZhciBwcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3JWaWV3ID0gY3JlYXRlVmlldyh7XG4gICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3Q7XG4gICAgICByb290LmVsZW1lbnQuaW5uZXJIVE1MID0gcm9vdC5xdWVyeSgnR0VUX0lDT05fRE9ORScpO1xuICAgIH0sXG4gICAgbmFtZTogJ3Byb2Nlc3NpbmctY29tcGxldGUtaW5kaWNhdG9yJyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIG1peGluczoge1xuICAgICAgc3R5bGVzOiBbJ3NjYWxlWCcsICdzY2FsZVknLCAnb3BhY2l0eSddLFxuICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICBzY2FsZVg6ICdzcHJpbmcnLFxuICAgICAgICBzY2FsZVk6ICdzcHJpbmcnLFxuICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiAyNTAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIGZpbGUgdmlld1xuICAgKi9cbiAgdmFyIGNyZWF0ZSQ0ID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYyKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcztcbiAgICB2YXIgaWQgPSBwcm9wcy5pZDtcblxuICAgIC8vIGFsbG93IHJldmVydGluZyB1cGxvYWRcbiAgICB2YXIgYWxsb3dSZXZlcnQgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfUkVWRVJUJyk7XG5cbiAgICAvLyBhbGxvdyByZW1vdmUgZmlsZVxuICAgIHZhciBhbGxvd1JlbW92ZSA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19SRU1PVkUnKTtcblxuICAgIC8vIGFsbG93IHByb2Nlc3NpbmcgdXBsb2FkXG4gICAgdmFyIGFsbG93UHJvY2VzcyA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19QUk9DRVNTJyk7XG5cbiAgICAvLyBpcyBpbnN0YW50IHVwbG9hZGluZywgbmVlZCB0aGlzIHRvIGRldGVybWluZSB0aGUgaWNvbiBvZiB0aGUgdW5kbyBidXR0b25cbiAgICB2YXIgaW5zdGFudFVwbG9hZCA9IHJvb3QucXVlcnkoJ0dFVF9JTlNUQU5UX1VQTE9BRCcpO1xuXG4gICAgLy8gaXMgYXN5bmMgc2V0IHVwXG4gICAgdmFyIGlzQXN5bmMgPSByb290LnF1ZXJ5KCdJU19BU1lOQycpO1xuXG4gICAgLy8gc2hvdWxkIGFsaWduIHJlbW92ZSBpdGVtIGJ1dHRvbnNcbiAgICB2YXIgYWxpZ25SZW1vdmVJdGVtQnV0dG9uID0gcm9vdC5xdWVyeShcbiAgICAgICdHRVRfU1RZTEVfQlVUVE9OX1JFTU9WRV9JVEVNX0FMSUdOJ1xuICAgICk7XG5cbiAgICAvLyBlbmFibGVkIGJ1dHRvbnMgYXJyYXlcbiAgICB2YXIgYnV0dG9uRmlsdGVyO1xuICAgIGlmIChpc0FzeW5jKSB7XG4gICAgICBpZiAoYWxsb3dQcm9jZXNzICYmICFhbGxvd1JldmVydCkge1xuICAgICAgICAvLyBvbmx5IHJlbW92ZSByZXZlcnQgYnV0dG9uXG4gICAgICAgIGJ1dHRvbkZpbHRlciA9IGZ1bmN0aW9uIGJ1dHRvbkZpbHRlcihrZXkpIHtcbiAgICAgICAgICByZXR1cm4gIS9SZXZlcnRJdGVtUHJvY2Vzc2luZy8udGVzdChrZXkpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmICghYWxsb3dQcm9jZXNzICYmIGFsbG93UmV2ZXJ0KSB7XG4gICAgICAgIC8vIG9ubHkgcmVtb3ZlIHByb2Nlc3MgYnV0dG9uXG4gICAgICAgIGJ1dHRvbkZpbHRlciA9IGZ1bmN0aW9uIGJ1dHRvbkZpbHRlcihrZXkpIHtcbiAgICAgICAgICByZXR1cm4gIS9Qcm9jZXNzSXRlbXxSZXRyeUl0ZW1Qcm9jZXNzaW5nfEFib3J0SXRlbVByb2Nlc3NpbmcvLnRlc3QoXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmICghYWxsb3dQcm9jZXNzICYmICFhbGxvd1JldmVydCkge1xuICAgICAgICAvLyByZW1vdmUgYWxsIHByb2Nlc3MgYnV0dG9uc1xuICAgICAgICBidXR0b25GaWx0ZXIgPSBmdW5jdGlvbiBidXR0b25GaWx0ZXIoa2V5KSB7XG4gICAgICAgICAgcmV0dXJuICEvUHJvY2Vzcy8udGVzdChrZXkpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBubyBwcm9jZXNzIGNvbnRyb2xzIGF2YWlsYWJsZVxuICAgICAgYnV0dG9uRmlsdGVyID0gZnVuY3Rpb24gYnV0dG9uRmlsdGVyKGtleSkge1xuICAgICAgICByZXR1cm4gIS9Qcm9jZXNzLy50ZXN0KGtleSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBlbmFibGVkQnV0dG9ucyA9IGJ1dHRvbkZpbHRlclxuICAgICAgPyBCdXR0b25LZXlzLmZpbHRlcihidXR0b25GaWx0ZXIpXG4gICAgICA6IEJ1dHRvbktleXMuY29uY2F0KCk7XG5cbiAgICAvLyB1cGRhdGUgaWNvbiBhbmQgbGFiZWwgZm9yIHJldmVydCBidXR0b24gd2hlbiBpbnN0YW50IHVwbG9hZGluZ1xuICAgIGlmIChpbnN0YW50VXBsb2FkICYmIGFsbG93UmV2ZXJ0KSB7XG4gICAgICBCdXR0b25zWydSZXZlcnRJdGVtUHJvY2Vzc2luZyddLmxhYmVsID0gJ0dFVF9MQUJFTF9CVVRUT05fUkVNT1ZFX0lURU0nO1xuICAgICAgQnV0dG9uc1snUmV2ZXJ0SXRlbVByb2Nlc3NpbmcnXS5pY29uID0gJ0dFVF9JQ09OX1JFTU9WRSc7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGxhc3QgYnV0dG9uIChyZXZlcnQpIGlmIG5vdCBhbGxvd2VkXG4gICAgaWYgKGlzQXN5bmMgJiYgIWFsbG93UmV2ZXJ0KSB7XG4gICAgICB2YXIgbWFwID0gU3R5bGVNYXBbJ0RJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkcnXTtcbiAgICAgIG1hcC5pbmZvLnRyYW5zbGF0ZVggPSBjYWxjdWxhdGVGaWxlSG9yaXpvbnRhbENlbnRlck9mZnNldDtcbiAgICAgIG1hcC5pbmZvLnRyYW5zbGF0ZVkgPSBjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQ7XG4gICAgICBtYXAuc3RhdHVzLnRyYW5zbGF0ZVkgPSBjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQ7XG4gICAgICBtYXAucHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yID0geyBvcGFjaXR5OiAxLCBzY2FsZVg6IDEsIHNjYWxlWTogMSB9O1xuICAgIH1cblxuICAgIC8vIHNob3VsZCBhbGlnbiBjZW50ZXJcbiAgICBpZiAoaXNBc3luYyAmJiAhYWxsb3dQcm9jZXNzKSB7XG4gICAgICBbXG4gICAgICAgICdESURfU1RBUlRfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgJ0RJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgICdESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUycsXG4gICAgICAgICdESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SJ1xuICAgICAgXS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBTdHlsZU1hcFtrZXldLnN0YXR1cy50cmFuc2xhdGVZID0gY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0O1xuICAgICAgfSk7XG4gICAgICBTdHlsZU1hcFtcbiAgICAgICAgJ0RJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1InXG4gICAgICBdLnN0YXR1cy50cmFuc2xhdGVYID0gY2FsY3VsYXRlQnV0dG9uV2lkdGg7XG4gICAgfVxuXG4gICAgLy8gbW92ZSByZW1vdmUgYnV0dG9uIHRvIHJpZ2h0XG4gICAgaWYgKGFsaWduUmVtb3ZlSXRlbUJ1dHRvbiAmJiBhbGxvd1JldmVydCkge1xuICAgICAgQnV0dG9uc1snUmV2ZXJ0SXRlbVByb2Nlc3NpbmcnXS5hbGlnbiA9ICdCVVRUT05fUkVNT1ZFX0lURU1fUE9TSVRJT04nO1xuICAgICAgdmFyIF9tYXAgPSBTdHlsZU1hcFsnRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORyddO1xuICAgICAgX21hcC5pbmZvLnRyYW5zbGF0ZVggPSBjYWxjdWxhdGVGaWxlSW5mb09mZnNldDtcbiAgICAgIF9tYXAuc3RhdHVzLnRyYW5zbGF0ZVkgPSBjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQ7XG4gICAgICBfbWFwLnByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvciA9IHsgb3BhY2l0eTogMSwgc2NhbGVYOiAxLCBzY2FsZVk6IDEgfTtcbiAgICB9XG5cbiAgICBpZiAoIWFsbG93UmVtb3ZlKSB7XG4gICAgICBCdXR0b25zWydSZW1vdmVJdGVtJ10uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSB0aGUgYnV0dG9uIHZpZXdzXG4gICAgZm9yaW4oQnV0dG9ucywgZnVuY3Rpb24oa2V5LCBkZWZpbml0aW9uKSB7XG4gICAgICAvLyBjcmVhdGUgYnV0dG9uXG4gICAgICB2YXIgYnV0dG9uVmlldyA9IHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGZpbGVBY3Rpb25CdXR0b24sIHtcbiAgICAgICAgbGFiZWw6IHJvb3QucXVlcnkoZGVmaW5pdGlvbi5sYWJlbCksXG4gICAgICAgIGljb246IHJvb3QucXVlcnkoZGVmaW5pdGlvbi5pY29uKSxcbiAgICAgICAgb3BhY2l0eTogMFxuICAgICAgfSk7XG5cbiAgICAgIC8vIHNob3VsZCBiZSBhcHBlbmRlZD9cbiAgICAgIGlmIChlbmFibGVkQnV0dG9ucy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIHJvb3QuYXBwZW5kQ2hpbGRWaWV3KGJ1dHRvblZpZXcpO1xuICAgICAgfVxuXG4gICAgICAvLyB0b2dnbGVcbiAgICAgIGlmIChkZWZpbml0aW9uLmRpc2FibGVkKSB7XG4gICAgICAgIGJ1dHRvblZpZXcuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgIGJ1dHRvblZpZXcuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICdoaWRkZW4nKTtcbiAgICAgIH1cblxuICAgICAgLy8gYWRkIHBvc2l0aW9uIGF0dHJpYnV0ZVxuICAgICAgYnV0dG9uVmlldy5lbGVtZW50LmRhdGFzZXQuYWxpZ24gPSByb290LnF1ZXJ5KFxuICAgICAgICAnR0VUX1NUWUxFXycgKyBkZWZpbml0aW9uLmFsaWduXG4gICAgICApO1xuXG4gICAgICAvLyBhZGQgY2xhc3NcbiAgICAgIGJ1dHRvblZpZXcuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGRlZmluaXRpb24uY2xhc3NOYW1lKTtcblxuICAgICAgLy8gaGFuZGxlIGludGVyYWN0aW9uc1xuICAgICAgYnV0dG9uVmlldy5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChkZWZpbml0aW9uLmRpc2FibGVkKSByZXR1cm47XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goZGVmaW5pdGlvbi5hY3Rpb24sIHsgcXVlcnk6IGlkIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHNldCByZWZlcmVuY2VcbiAgICAgIHJvb3QucmVmWydidXR0b24nICsga2V5XSA9IGJ1dHRvblZpZXc7XG4gICAgfSk7XG5cbiAgICAvLyBjaGVja21hcmtcbiAgICByb290LnJlZi5wcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3IgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvclZpZXcpXG4gICAgKTtcbiAgICByb290LnJlZi5wcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3IuZWxlbWVudC5kYXRhc2V0LmFsaWduID0gcm9vdC5xdWVyeShcbiAgICAgICdHRVRfU1RZTEVfQlVUVE9OX1BST0NFU1NfSVRFTV9QT1NJVElPTidcbiAgICApO1xuXG4gICAgLy8gY3JlYXRlIGZpbGUgaW5mbyB2aWV3XG4gICAgcm9vdC5yZWYuaW5mbyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoZmlsZUluZm8sIHsgaWQ6IGlkIH0pXG4gICAgKTtcblxuICAgIC8vIGNyZWF0ZSBmaWxlIHN0YXR1cyB2aWV3XG4gICAgcm9vdC5yZWYuc3RhdHVzID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhmaWxlU3RhdHVzLCB7IGlkOiBpZCB9KVxuICAgICk7XG5cbiAgICAvLyBhZGQgcHJvZ3Jlc3MgaW5kaWNhdG9yc1xuICAgIHZhciBsb2FkSW5kaWNhdG9yVmlldyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcocHJvZ3Jlc3NJbmRpY2F0b3IsIHtcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgYWxpZ246IHJvb3QucXVlcnkoJ0dFVF9TVFlMRV9MT0FEX0lORElDQVRPUl9QT1NJVElPTicpXG4gICAgICB9KVxuICAgICk7XG5cbiAgICBsb2FkSW5kaWNhdG9yVmlldy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZpbGVwb25kLS1sb2FkLWluZGljYXRvcicpO1xuICAgIHJvb3QucmVmLmxvYWRQcm9ncmVzc0luZGljYXRvciA9IGxvYWRJbmRpY2F0b3JWaWV3O1xuXG4gICAgdmFyIHByb2dyZXNzSW5kaWNhdG9yVmlldyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcocHJvZ3Jlc3NJbmRpY2F0b3IsIHtcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgYWxpZ246IHJvb3QucXVlcnkoJ0dFVF9TVFlMRV9QUk9HUkVTU19JTkRJQ0FUT1JfUE9TSVRJT04nKVxuICAgICAgfSlcbiAgICApO1xuXG4gICAgcHJvZ3Jlc3NJbmRpY2F0b3JWaWV3LmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmlsZXBvbmQtLXByb2Nlc3MtaW5kaWNhdG9yJyk7XG4gICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yID0gcHJvZ3Jlc3NJbmRpY2F0b3JWaWV3O1xuXG4gICAgLy8gY3VycmVudCBhY3RpdmUgc3R5bGVzXG4gICAgcm9vdC5yZWYuYWN0aXZlU3R5bGVzID0gW107XG4gIH07XG5cbiAgdmFyIHdyaXRlJDIgPSBmdW5jdGlvbiB3cml0ZShfcmVmMykge1xuICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgIGFjdGlvbnMgPSBfcmVmMy5hY3Rpb25zLFxuICAgICAgcHJvcHMgPSBfcmVmMy5wcm9wcztcblxuICAgIC8vIHJvdXRlIGFjdGlvbnNcbiAgICByb3V0ZSh7IHJvb3Q6IHJvb3QsIGFjdGlvbnM6IGFjdGlvbnMsIHByb3BzOiBwcm9wcyB9KTtcblxuICAgIC8vIHNlbGVjdCBsYXN0IHN0YXRlIGNoYW5nZSBhY3Rpb25cbiAgICB2YXIgYWN0aW9uID0gYWN0aW9uc1xuICAgICAgLmNvbmNhdCgpXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICByZXR1cm4gL15ESURfLy50ZXN0KGFjdGlvbi50eXBlKTtcbiAgICAgIH0pXG4gICAgICAucmV2ZXJzZSgpXG4gICAgICAuZmluZChmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIFN0eWxlTWFwW2FjdGlvbi50eXBlXTtcbiAgICAgIH0pO1xuXG4gICAgLy8gYSBuZXcgYWN0aW9uIGhhcHBlbmVkLCBsZXQncyBnZXQgdGhlIG1hdGNoaW5nIHN0eWxlc1xuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIC8vIGRlZmluZSBuZXcgYWN0aXZlIHN0eWxlc1xuICAgICAgcm9vdC5yZWYuYWN0aXZlU3R5bGVzID0gW107XG5cbiAgICAgIHZhciBzdHlsZXNUb0FwcGx5ID0gU3R5bGVNYXBbYWN0aW9uLnR5cGVdO1xuICAgICAgZm9yaW4oRGVmYXVsdFN0eWxlLCBmdW5jdGlvbihuYW1lLCBkZWZhdWx0U3R5bGVzKSB7XG4gICAgICAgIC8vIGdldCByZWZlcmVuY2UgdG8gY29udHJvbFxuICAgICAgICB2YXIgY29udHJvbCA9IHJvb3QucmVmW25hbWVdO1xuXG4gICAgICAgIC8vIGxvb3Agb3ZlciBhbGwgc3R5bGVzIGZvciB0aGlzIGNvbnRyb2xcbiAgICAgICAgZm9yaW4oZGVmYXVsdFN0eWxlcywgZnVuY3Rpb24oa2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPVxuICAgICAgICAgICAgc3R5bGVzVG9BcHBseVtuYW1lXSAmJlxuICAgICAgICAgICAgdHlwZW9mIHN0eWxlc1RvQXBwbHlbbmFtZV1ba2V5XSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgPyBzdHlsZXNUb0FwcGx5W25hbWVdW2tleV1cbiAgICAgICAgICAgICAgOiBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgcm9vdC5yZWYuYWN0aXZlU3R5bGVzLnB1c2goe1xuICAgICAgICAgICAgY29udHJvbDogY29udHJvbCxcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgYWN0aXZlIHN0eWxlcyB0byBlbGVtZW50XG4gICAgcm9vdC5yZWYuYWN0aXZlU3R5bGVzLmZvckVhY2goZnVuY3Rpb24oX3JlZjQpIHtcbiAgICAgIHZhciBjb250cm9sID0gX3JlZjQuY29udHJvbCxcbiAgICAgICAga2V5ID0gX3JlZjQua2V5LFxuICAgICAgICB2YWx1ZSA9IF9yZWY0LnZhbHVlO1xuICAgICAgY29udHJvbFtrZXldID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUocm9vdCkgOiB2YWx1ZTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcm91dGUgPSBjcmVhdGVSb3V0ZSh7XG4gICAgRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiBmdW5jdGlvbiBESURfU0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX1BST0NFU1NJTkcoXG4gICAgICBfcmVmNVxuICAgICkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICBhY3Rpb24gPSBfcmVmNS5hY3Rpb247XG4gICAgICByb290LnJlZi5idXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nLmxhYmVsID0gYWN0aW9uLnZhbHVlO1xuICAgIH0sXG4gICAgRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9MT0FEOiBmdW5jdGlvbiBESURfU0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX0xPQUQoXG4gICAgICBfcmVmNlxuICAgICkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmNi5yb290LFxuICAgICAgICBhY3Rpb24gPSBfcmVmNi5hY3Rpb247XG4gICAgICByb290LnJlZi5idXR0b25BYm9ydEl0ZW1Mb2FkLmxhYmVsID0gYWN0aW9uLnZhbHVlO1xuICAgIH0sXG4gICAgRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9SRU1PVkFMOiBmdW5jdGlvbiBESURfU0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX1JFTU9WQUwoXG4gICAgICBfcmVmN1xuICAgICkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmNy5yb290LFxuICAgICAgICBhY3Rpb24gPSBfcmVmNy5hY3Rpb247XG4gICAgICByb290LnJlZi5idXR0b25BYm9ydEl0ZW1SZW1vdmFsLmxhYmVsID0gYWN0aW9uLnZhbHVlO1xuICAgIH0sXG4gICAgRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HOiBmdW5jdGlvbiBESURfUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcoX3JlZjgpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjgucm9vdDtcbiAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5zcGluID0gdHJ1ZTtcbiAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5wcm9ncmVzcyA9IDA7XG4gICAgfSxcbiAgICBESURfU1RBUlRfSVRFTV9MT0FEOiBmdW5jdGlvbiBESURfU1RBUlRfSVRFTV9MT0FEKF9yZWY5KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY5LnJvb3Q7XG4gICAgICByb290LnJlZi5sb2FkUHJvZ3Jlc3NJbmRpY2F0b3Iuc3BpbiA9IHRydWU7XG4gICAgICByb290LnJlZi5sb2FkUHJvZ3Jlc3NJbmRpY2F0b3IucHJvZ3Jlc3MgPSAwO1xuICAgIH0sXG4gICAgRElEX1NUQVJUX0lURU1fUkVNT1ZFOiBmdW5jdGlvbiBESURfU1RBUlRfSVRFTV9SRU1PVkUoX3JlZjEwKSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWYxMC5yb290O1xuICAgICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yLnNwaW4gPSB0cnVlO1xuICAgICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yLnByb2dyZXNzID0gMDtcbiAgICB9LFxuICAgIERJRF9VUERBVEVfSVRFTV9MT0FEX1BST0dSRVNTOiBmdW5jdGlvbiBESURfVVBEQVRFX0lURU1fTE9BRF9QUk9HUkVTUyhcbiAgICAgIF9yZWYxMVxuICAgICkge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmMTEucm9vdCxcbiAgICAgICAgYWN0aW9uID0gX3JlZjExLmFjdGlvbjtcbiAgICAgIHJvb3QucmVmLmxvYWRQcm9ncmVzc0luZGljYXRvci5zcGluID0gZmFsc2U7XG4gICAgICByb290LnJlZi5sb2FkUHJvZ3Jlc3NJbmRpY2F0b3IucHJvZ3Jlc3MgPSBhY3Rpb24ucHJvZ3Jlc3M7XG4gICAgfSxcbiAgICBESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUzogZnVuY3Rpb24gRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1MoXG4gICAgICBfcmVmMTJcbiAgICApIHtcbiAgICAgIHZhciByb290ID0gX3JlZjEyLnJvb3QsXG4gICAgICAgIGFjdGlvbiA9IF9yZWYxMi5hY3Rpb247XG4gICAgICByb290LnJlZi5wcm9jZXNzUHJvZ3Jlc3NJbmRpY2F0b3Iuc3BpbiA9IGZhbHNlO1xuICAgICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yLnByb2dyZXNzID0gYWN0aW9uLnByb2dyZXNzO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGZpbGUgPSBjcmVhdGVWaWV3KHtcbiAgICBjcmVhdGU6IGNyZWF0ZSQ0LFxuICAgIHdyaXRlOiB3cml0ZSQyLFxuICAgIGRpZENyZWF0ZVZpZXc6IGZ1bmN0aW9uIGRpZENyZWF0ZVZpZXcocm9vdCkge1xuICAgICAgYXBwbHlGaWx0ZXJzKCdDUkVBVEVfVklFVycsIE9iamVjdC5hc3NpZ24oe30sIHJvb3QsIHsgdmlldzogcm9vdCB9KSk7XG4gICAgfSxcbiAgICBuYW1lOiAnZmlsZSdcbiAgfSk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIGZpbGUgdmlld1xuICAgKi9cbiAgdmFyIGNyZWF0ZSQ1ID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcblxuICAgIC8vIGZpbGVuYW1lXG4gICAgcm9vdC5yZWYuZmlsZU5hbWUgPSBjcmVhdGVFbGVtZW50JDEoJ2xlZ2VuZCcpO1xuICAgIHJvb3QuYXBwZW5kQ2hpbGQocm9vdC5yZWYuZmlsZU5hbWUpO1xuXG4gICAgLy8gZmlsZSBhcHBlbmRlZFxuICAgIHJvb3QucmVmLmZpbGUgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGZpbGUsIHsgaWQ6IHByb3BzLmlkIH0pXG4gICAgKTtcblxuICAgIC8vIGRhdGEgaGFzIG1vdmVkIHRvIGRhdGEuanNcbiAgICByb290LnJlZi5kYXRhID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIERhdGEgc3RvcmFnZVxuICAgKi9cbiAgdmFyIGRpZExvYWRJdGVtID0gZnVuY3Rpb24gZGlkTG9hZEl0ZW0oX3JlZjIpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYyLnByb3BzO1xuICAgIC8vIHVwZGF0ZXMgdGhlIGxlZ2VuZCBvZiB0aGUgZmllbGRzZXQgc28gc2NyZWVucmVhZGVycyBjYW4gYmV0dGVyIGdyb3VwIGJ1dHRvbnNcbiAgICB0ZXh0KFxuICAgICAgcm9vdC5yZWYuZmlsZU5hbWUsXG4gICAgICBmb3JtYXRGaWxlbmFtZShyb290LnF1ZXJ5KCdHRVRfSVRFTV9OQU1FJywgcHJvcHMuaWQpKVxuICAgICk7XG4gIH07XG5cbiAgdmFyIGZpbGVXcmFwcGVyID0gY3JlYXRlVmlldyh7XG4gICAgY3JlYXRlOiBjcmVhdGUkNSxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIHdyaXRlOiBjcmVhdGVSb3V0ZSh7XG4gICAgICBESURfTE9BRF9JVEVNOiBkaWRMb2FkSXRlbVxuICAgIH0pLFxuXG4gICAgZGlkQ3JlYXRlVmlldzogZnVuY3Rpb24gZGlkQ3JlYXRlVmlldyhyb290KSB7XG4gICAgICBhcHBseUZpbHRlcnMoJ0NSRUFURV9WSUVXJywgT2JqZWN0LmFzc2lnbih7fSwgcm9vdCwgeyB2aWV3OiByb290IH0pKTtcbiAgICB9LFxuICAgIHRhZzogJ2ZpZWxkc2V0JyxcbiAgICBuYW1lOiAnZmlsZS13cmFwcGVyJ1xuICB9KTtcblxuICB2YXIgUEFORUxfU1BSSU5HX1BST1BTID0geyB0eXBlOiAnc3ByaW5nJywgZGFtcGluZzogMC42LCBtYXNzOiA3IH07XG5cbiAgdmFyIGNyZWF0ZSQ2ID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICd0b3AnXG4gICAgICB9LFxuXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdjZW50ZXInLFxuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIHRyYW5zbGF0ZVk6IG51bGwsXG4gICAgICAgICAgc2NhbGVZOiBudWxsXG4gICAgICAgIH0sXG5cbiAgICAgICAgbWl4aW5zOiB7XG4gICAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgc2NhbGVZOiBQQU5FTF9TUFJJTkdfUFJPUFNcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVknLCAnc2NhbGVZJ11cbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAge1xuICAgICAgICBuYW1lOiAnYm90dG9tJyxcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICB0cmFuc2xhdGVZOiBudWxsXG4gICAgICAgIH0sXG5cbiAgICAgICAgbWl4aW5zOiB7XG4gICAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgdHJhbnNsYXRlWTogUEFORUxfU1BSSU5HX1BST1BTXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVZJ11cbiAgICAgICAgfVxuICAgICAgfVxuICAgIF0uZm9yRWFjaChmdW5jdGlvbihzZWN0aW9uKSB7XG4gICAgICBjcmVhdGVTZWN0aW9uKHJvb3QsIHNlY3Rpb24sIHByb3BzLm5hbWUpO1xuICAgIH0pO1xuXG4gICAgcm9vdC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZpbGVwb25kLS0nICsgcHJvcHMubmFtZSk7XG5cbiAgICByb290LnJlZi5zY2FsYWJsZSA9IG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZVNlY3Rpb24gPSBmdW5jdGlvbiBjcmVhdGVTZWN0aW9uKHJvb3QsIHNlY3Rpb24sIGNsYXNzTmFtZSkge1xuICAgIHZhciB2aWV3Q29uc3RydWN0b3IgPSBjcmVhdGVWaWV3KHtcbiAgICAgIG5hbWU6ICdwYW5lbC0nICsgc2VjdGlvbi5uYW1lICsgJyBmaWxlcG9uZC0tJyArIGNsYXNzTmFtZSxcbiAgICAgIG1peGluczogc2VjdGlvbi5taXhpbnMsXG4gICAgICBpZ25vcmVSZWN0VXBkYXRlOiB0cnVlXG4gICAgfSk7XG5cbiAgICB2YXIgdmlldyA9IHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHZpZXdDb25zdHJ1Y3Rvciwgc2VjdGlvbi5wcm9wcyk7XG5cbiAgICByb290LnJlZltzZWN0aW9uLm5hbWVdID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcodmlldyk7XG4gIH07XG5cbiAgdmFyIHdyaXRlJDMgPSBmdW5jdGlvbiB3cml0ZShfcmVmMikge1xuICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZjIucHJvcHM7XG5cbiAgICAvLyB1cGRhdGUgc2NhbGFibGUgc3RhdGVcbiAgICBpZiAocm9vdC5yZWYuc2NhbGFibGUgPT09IG51bGwgfHwgcHJvcHMuc2NhbGFibGUgIT09IHJvb3QucmVmLnNjYWxhYmxlKSB7XG4gICAgICByb290LnJlZi5zY2FsYWJsZSA9IGlzQm9vbGVhbihwcm9wcy5zY2FsYWJsZSkgPyBwcm9wcy5zY2FsYWJsZSA6IHRydWU7XG4gICAgICByb290LmVsZW1lbnQuZGF0YXNldC5zY2FsYWJsZSA9IHJvb3QucmVmLnNjYWxhYmxlO1xuICAgIH1cblxuICAgIC8vIG5vIGhlaWdodCwgY2FuJ3Qgc2V0XG4gICAgaWYgKCFwcm9wcy5oZWlnaHQpIHJldHVybjtcblxuICAgIC8vIGdldCBjaGlsZCByZWN0c1xuICAgIHZhciB0b3BSZWN0ID0gcm9vdC5yZWYudG9wLnJlY3QuZWxlbWVudDtcbiAgICB2YXIgYm90dG9tUmVjdCA9IHJvb3QucmVmLmJvdHRvbS5yZWN0LmVsZW1lbnQ7XG5cbiAgICAvLyBtYWtlIHN1cmUgaGVpZ2h0IG5ldmVyIGlzIHNtYWxsZXIgdGhhbiBib3R0b20gYW5kIHRvcCBzZWNpdG9uIGhlaWdodHMgY29tYmluZWQgKHdpbGwgcHJvYmFibHkgbmV2ZXIgaGFwcGVuLCBidXQgd2hvIGtub3dzKVxuICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heCh0b3BSZWN0LmhlaWdodCArIGJvdHRvbVJlY3QuaGVpZ2h0LCBwcm9wcy5oZWlnaHQpO1xuXG4gICAgLy8gb2Zmc2V0IGNlbnRlciBwYXJ0XG4gICAgcm9vdC5yZWYuY2VudGVyLnRyYW5zbGF0ZVkgPSB0b3BSZWN0LmhlaWdodDtcblxuICAgIC8vIHNjYWxlIGNlbnRlciBwYXJ0XG4gICAgLy8gdXNlIG1hdGggY2VpbCB0byBwcmV2ZW50IHRyYW5zcGFyZW50IGxpbmVzIGJlY2F1c2Ugb2Ygcm91bmRpbmcgZXJyb3JzXG4gICAgcm9vdC5yZWYuY2VudGVyLnNjYWxlWSA9XG4gICAgICAoaGVpZ2h0IC0gdG9wUmVjdC5oZWlnaHQgLSBib3R0b21SZWN0LmhlaWdodCkgLyAxMDA7XG5cbiAgICAvLyBvZmZzZXQgYm90dG9tIHBhcnRcbiAgICByb290LnJlZi5ib3R0b20udHJhbnNsYXRlWSA9IGhlaWdodCAtIGJvdHRvbVJlY3QuaGVpZ2h0O1xuICB9O1xuXG4gIHZhciBwYW5lbCA9IGNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdwYW5lbCcsXG4gICAgd3JpdGU6IHdyaXRlJDMsXG4gICAgY3JlYXRlOiBjcmVhdGUkNixcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIG1peGluczoge1xuICAgICAgYXBpczogWydoZWlnaHQnLCAnc2NhbGFibGUnXVxuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGNyZWF0ZURyYWdIZWxwZXIgPSBmdW5jdGlvbiBjcmVhdGVEcmFnSGVscGVyKGl0ZW1zKSB7XG4gICAgdmFyIGl0ZW1JZHMgPSBpdGVtcy5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uaWQ7XG4gICAgfSk7XG4gICAgdmFyIHByZXZJbmRleCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4ge1xuICAgICAgc2V0SW5kZXg6IGZ1bmN0aW9uIHNldEluZGV4KGluZGV4KSB7XG4gICAgICAgIHByZXZJbmRleCA9IGluZGV4O1xuICAgICAgfSxcbiAgICAgIGdldEluZGV4OiBmdW5jdGlvbiBnZXRJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHByZXZJbmRleDtcbiAgICAgIH0sXG4gICAgICBnZXRJdGVtSW5kZXg6IGZ1bmN0aW9uIGdldEl0ZW1JbmRleChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtSWRzLmluZGV4T2YoaXRlbS5pZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICB2YXIgSVRFTV9UUkFOU0xBVEVfU1BSSU5HID0ge1xuICAgIHR5cGU6ICdzcHJpbmcnLFxuICAgIHN0aWZmbmVzczogMC43NSxcbiAgICBkYW1waW5nOiAwLjQ1LFxuICAgIG1hc3M6IDEwXG4gIH07XG5cbiAgdmFyIElURU1fU0NBTEVfU1BSSU5HID0gJ3NwcmluZyc7XG5cbiAgdmFyIFN0YXRlTWFwID0ge1xuICAgIERJRF9TVEFSVF9JVEVNX0xPQUQ6ICdidXN5JyxcbiAgICBESURfVVBEQVRFX0lURU1fTE9BRF9QUk9HUkVTUzogJ2xvYWRpbmcnLFxuICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6ICdsb2FkLWludmFsaWQnLFxuICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6ICdsb2FkLWVycm9yJyxcbiAgICBESURfTE9BRF9JVEVNOiAnaWRsZScsXG4gICAgRElEX1RIUk9XX0lURU1fUkVNT1ZFX0VSUk9SOiAncmVtb3ZlLWVycm9yJyxcbiAgICBESURfU1RBUlRfSVRFTV9SRU1PVkU6ICdidXN5JyxcbiAgICBESURfU1RBUlRfSVRFTV9QUk9DRVNTSU5HOiAnYnVzeSBwcm9jZXNzaW5nJyxcbiAgICBESURfUkVRVUVTVF9JVEVNX1BST0NFU1NJTkc6ICdidXN5IHByb2Nlc3NpbmcnLFxuICAgIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTOiAncHJvY2Vzc2luZycsXG4gICAgRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORzogJ3Byb2Nlc3NpbmctY29tcGxldGUnLFxuICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1I6ICdwcm9jZXNzaW5nLWVycm9yJyxcbiAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUjogJ3Byb2Nlc3NpbmctcmV2ZXJ0LWVycm9yJyxcbiAgICBESURfQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiAnY2FuY2VsbGVkJyxcbiAgICBESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogJ2lkbGUnXG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIGZpbGUgdmlld1xuICAgKi9cbiAgdmFyIGNyZWF0ZSQ3ID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcblxuICAgIC8vIHNlbGVjdFxuICAgIHJvb3QucmVmLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24oZSkge1xuICAgICAgcmV0dXJuIHJvb3QuZGlzcGF0Y2goJ0RJRF9BQ1RJVkFURV9JVEVNJywgeyBpZDogcHJvcHMuaWQgfSk7XG4gICAgfTtcblxuICAgIC8vIHNldCBpZFxuICAgIHJvb3QuZWxlbWVudC5pZCA9ICdmaWxlcG9uZC0taXRlbS0nICsgcHJvcHMuaWQ7XG4gICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcm9vdC5yZWYuaGFuZGxlQ2xpY2spO1xuXG4gICAgLy8gZmlsZSB2aWV3XG4gICAgcm9vdC5yZWYuY29udGFpbmVyID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhmaWxlV3JhcHBlciwgeyBpZDogcHJvcHMuaWQgfSlcbiAgICApO1xuXG4gICAgLy8gZmlsZSBwYW5lbFxuICAgIHJvb3QucmVmLnBhbmVsID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhwYW5lbCwgeyBuYW1lOiAnaXRlbS1wYW5lbCcgfSlcbiAgICApO1xuXG4gICAgLy8gZGVmYXVsdCBzdGFydCBoZWlnaHRcbiAgICByb290LnJlZi5wYW5lbC5oZWlnaHQgPSBudWxsO1xuXG4gICAgLy8gYnkgZGVmYXVsdCBub3QgbWFya2VkIGZvciByZW1vdmFsXG4gICAgcHJvcHMubWFya2VkRm9yUmVtb3ZhbCA9IGZhbHNlO1xuXG4gICAgLy8gaWYgbm90IGFsbG93ZWQgdG8gcmVvcmRlciBmaWxlIGl0ZW1zLCBleGl0IGhlcmVcbiAgICBpZiAoIXJvb3QucXVlcnkoJ0dFVF9BTExPV19SRU9SREVSJykpIHJldHVybjtcblxuICAgIC8vIHNldCB0byBpZGxlIHNvIHNob3dzIGdyYWIgY3Vyc29yXG4gICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuZHJhZ1N0YXRlID0gJ2lkbGUnO1xuXG4gICAgdmFyIGdyYWIgPSBmdW5jdGlvbiBncmFiKGUpIHtcbiAgICAgIGlmICghZS5pc1ByaW1hcnkpIHJldHVybjtcblxuICAgICAgdmFyIHJlbW92ZWRBY3RpdmF0ZUxpc3RlbmVyID0gZmFsc2U7XG5cbiAgICAgIHZhciBvcmlnaW4gPSB7XG4gICAgICAgIHg6IGUucGFnZVgsXG4gICAgICAgIHk6IGUucGFnZVlcbiAgICAgIH07XG5cbiAgICAgIHByb3BzLmRyYWdPcmlnaW4gPSB7XG4gICAgICAgIHg6IHJvb3QudHJhbnNsYXRlWCxcbiAgICAgICAgeTogcm9vdC50cmFuc2xhdGVZXG4gICAgICB9O1xuXG4gICAgICBwcm9wcy5kcmFnQ2VudGVyID0ge1xuICAgICAgICB4OiBlLm9mZnNldFgsXG4gICAgICAgIHk6IGUub2Zmc2V0WVxuICAgICAgfTtcblxuICAgICAgdmFyIGRyYWdTdGF0ZSA9IGNyZWF0ZURyYWdIZWxwZXIocm9vdC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpKTtcblxuICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0dSQUJfSVRFTScsIHsgaWQ6IHByb3BzLmlkLCBkcmFnU3RhdGU6IGRyYWdTdGF0ZSB9KTtcblxuICAgICAgdmFyIGRyYWcgPSBmdW5jdGlvbiBkcmFnKGUpIHtcbiAgICAgICAgaWYgKCFlLmlzUHJpbWFyeSkgcmV0dXJuO1xuXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBwcm9wcy5kcmFnT2Zmc2V0ID0ge1xuICAgICAgICAgIHg6IGUucGFnZVggLSBvcmlnaW4ueCxcbiAgICAgICAgICB5OiBlLnBhZ2VZIC0gb3JpZ2luLnlcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBpZiBkcmFnZ2VkIHN0b3AgbGlzdGVuaW5nIHRvIGNsaWNrcywgd2lsbCByZS1hZGQgd2hlbiBkb25lIGRyYWdnaW5nXG4gICAgICAgIHZhciBkaXN0ID1cbiAgICAgICAgICBwcm9wcy5kcmFnT2Zmc2V0LnggKiBwcm9wcy5kcmFnT2Zmc2V0LnggK1xuICAgICAgICAgIHByb3BzLmRyYWdPZmZzZXQueSAqIHByb3BzLmRyYWdPZmZzZXQueTtcbiAgICAgICAgaWYgKGRpc3QgPiAxNiAmJiAhcmVtb3ZlZEFjdGl2YXRlTGlzdGVuZXIpIHtcbiAgICAgICAgICByZW1vdmVkQWN0aXZhdGVMaXN0ZW5lciA9IHRydWU7XG4gICAgICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcm9vdC5yZWYuaGFuZGxlQ2xpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0RSQUdfSVRFTScsIHsgaWQ6IHByb3BzLmlkLCBkcmFnU3RhdGU6IGRyYWdTdGF0ZSB9KTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkcm9wID0gZnVuY3Rpb24gZHJvcChlKSB7XG4gICAgICAgIGlmICghZS5pc1ByaW1hcnkpIHJldHVybjtcblxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGRyYWcpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBkcm9wKTtcblxuICAgICAgICBwcm9wcy5kcmFnT2Zmc2V0ID0ge1xuICAgICAgICAgIHg6IGUucGFnZVggLSBvcmlnaW4ueCxcbiAgICAgICAgICB5OiBlLnBhZ2VZIC0gb3JpZ2luLnlcbiAgICAgICAgfTtcblxuICAgICAgICByb290LmRpc3BhdGNoKCdESURfRFJPUF9JVEVNJywgeyBpZDogcHJvcHMuaWQsIGRyYWdTdGF0ZTogZHJhZ1N0YXRlIH0pO1xuXG4gICAgICAgIC8vIHN0YXJ0IGxpc3RlbmluZyB0byBjbGlja3MgYWdhaW5cbiAgICAgICAgaWYgKHJlbW92ZWRBY3RpdmF0ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiByb290LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVDbGljayk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgZHJhZyk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBkcm9wKTtcbiAgICB9O1xuXG4gICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgZ3JhYik7XG4gIH07XG5cbiAgdmFyIHJvdXRlJDEgPSBjcmVhdGVSb3V0ZSh7XG4gICAgRElEX1VQREFURV9QQU5FTF9IRUlHSFQ6IGZ1bmN0aW9uIERJRF9VUERBVEVfUEFORUxfSEVJR0hUKF9yZWYyKSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgIGFjdGlvbiA9IF9yZWYyLmFjdGlvbjtcbiAgICAgIHJvb3QuaGVpZ2h0ID0gYWN0aW9uLmhlaWdodDtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciB3cml0ZSQ0ID0gY3JlYXRlUm91dGUoXG4gICAge1xuICAgICAgRElEX0dSQUJfSVRFTTogZnVuY3Rpb24gRElEX0dSQUJfSVRFTShfcmVmMykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmMy5wcm9wcztcbiAgICAgICAgcHJvcHMuZHJhZ09yaWdpbiA9IHtcbiAgICAgICAgICB4OiByb290LnRyYW5zbGF0ZVgsXG4gICAgICAgICAgeTogcm9vdC50cmFuc2xhdGVZXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgRElEX0RSQUdfSVRFTTogZnVuY3Rpb24gRElEX0RSQUdfSVRFTShfcmVmNCkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY0LnJvb3Q7XG4gICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRyYWdTdGF0ZSA9ICdkcmFnJztcbiAgICAgIH0sXG4gICAgICBESURfRFJPUF9JVEVNOiBmdW5jdGlvbiBESURfRFJPUF9JVEVNKF9yZWY1KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgICAgICBwcm9wcyA9IF9yZWY1LnByb3BzO1xuICAgICAgICBwcm9wcy5kcmFnT2Zmc2V0ID0gbnVsbDtcbiAgICAgICAgcHJvcHMuZHJhZ09yaWdpbiA9IG51bGw7XG4gICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRyYWdTdGF0ZSA9ICdkcm9wJztcbiAgICAgIH1cbiAgICB9LFxuICAgIGZ1bmN0aW9uKF9yZWY2KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY2LnJvb3QsXG4gICAgICAgIGFjdGlvbnMgPSBfcmVmNi5hY3Rpb25zLFxuICAgICAgICBwcm9wcyA9IF9yZWY2LnByb3BzLFxuICAgICAgICBzaG91bGRPcHRpbWl6ZSA9IF9yZWY2LnNob3VsZE9wdGltaXplO1xuXG4gICAgICBpZiAocm9vdC5lbGVtZW50LmRhdGFzZXQuZHJhZ1N0YXRlID09PSAnZHJvcCcpIHtcbiAgICAgICAgaWYgKHJvb3Quc2NhbGVYIDw9IDEpIHtcbiAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5kcmFnU3RhdGUgPSAnaWRsZSc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gc2VsZWN0IGxhc3Qgc3RhdGUgY2hhbmdlIGFjdGlvblxuICAgICAgdmFyIGFjdGlvbiA9IGFjdGlvbnNcbiAgICAgICAgLmNvbmNhdCgpXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIC9eRElEXy8udGVzdChhY3Rpb24udHlwZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgLmZpbmQoZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIFN0YXRlTWFwW2FjdGlvbi50eXBlXTtcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIG5vIG5lZWQgdG8gc2V0IHNhbWUgc3RhdGUgdHdpY2VcbiAgICAgIGlmIChhY3Rpb24gJiYgYWN0aW9uLnR5cGUgIT09IHByb3BzLmN1cnJlbnRTdGF0ZSkge1xuICAgICAgICAvLyBzZXQgY3VycmVudCBzdGF0ZVxuICAgICAgICBwcm9wcy5jdXJyZW50U3RhdGUgPSBhY3Rpb24udHlwZTtcblxuICAgICAgICAvLyBzZXQgc3RhdGVcbiAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuZmlsZXBvbmRJdGVtU3RhdGUgPVxuICAgICAgICAgIFN0YXRlTWFwW3Byb3BzLmN1cnJlbnRTdGF0ZV0gfHwgJyc7XG4gICAgICB9XG5cbiAgICAgIC8vIHJvdXRlIGFjdGlvbnNcbiAgICAgIHZhciBhc3BlY3RSYXRpbyA9XG4gICAgICAgIHJvb3QucXVlcnkoJ0dFVF9JVEVNX1BBTkVMX0FTUEVDVF9SQVRJTycpIHx8XG4gICAgICAgIHJvb3QucXVlcnkoJ0dFVF9QQU5FTF9BU1BFQ1RfUkFUSU8nKTtcbiAgICAgIGlmICghYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgcm91dGUkMSh7IHJvb3Q6IHJvb3QsIGFjdGlvbnM6IGFjdGlvbnMsIHByb3BzOiBwcm9wcyB9KTtcbiAgICAgICAgaWYgKCFyb290LmhlaWdodCAmJiByb290LnJlZi5jb250YWluZXIucmVjdC5lbGVtZW50LmhlaWdodCA+IDApIHtcbiAgICAgICAgICByb290LmhlaWdodCA9IHJvb3QucmVmLmNvbnRhaW5lci5yZWN0LmVsZW1lbnQuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICByb290LmhlaWdodCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoICogYXNwZWN0UmF0aW87XG4gICAgICB9XG5cbiAgICAgIC8vIHN5bmMgcGFuZWwgaGVpZ2h0IHdpdGggaXRlbSBoZWlnaHRcbiAgICAgIGlmIChzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICByb290LnJlZi5wYW5lbC5oZWlnaHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByb290LnJlZi5wYW5lbC5oZWlnaHQgPSByb290LmhlaWdodDtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGl0ZW0gPSBjcmVhdGVWaWV3KHtcbiAgICBjcmVhdGU6IGNyZWF0ZSQ3LFxuICAgIHdyaXRlOiB3cml0ZSQ0LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koX3JlZjcpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjcucm9vdCxcbiAgICAgICAgcHJvcHMgPSBfcmVmNy5wcm9wcztcbiAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJvb3QucmVmLmhhbmRsZUNsaWNrKTtcbiAgICAgIHJvb3QuZGlzcGF0Y2goJ1JFTEVBU0VfSVRFTScsIHsgcXVlcnk6IHByb3BzLmlkIH0pO1xuICAgIH0sXG4gICAgdGFnOiAnbGknLFxuICAgIG5hbWU6ICdpdGVtJyxcbiAgICBtaXhpbnM6IHtcbiAgICAgIGFwaXM6IFtcbiAgICAgICAgJ2lkJyxcbiAgICAgICAgJ2ludGVyYWN0aW9uTWV0aG9kJyxcbiAgICAgICAgJ21hcmtlZEZvclJlbW92YWwnLFxuICAgICAgICAnc3Bhd25EYXRlJyxcbiAgICAgICAgJ2RyYWdDZW50ZXInLFxuICAgICAgICAnZHJhZ09yaWdpbicsXG4gICAgICAgICdkcmFnT2Zmc2V0J1xuICAgICAgXSxcbiAgICAgIHN0eWxlczogW1xuICAgICAgICAndHJhbnNsYXRlWCcsXG4gICAgICAgICd0cmFuc2xhdGVZJyxcbiAgICAgICAgJ3NjYWxlWCcsXG4gICAgICAgICdzY2FsZVknLFxuICAgICAgICAnb3BhY2l0eScsXG4gICAgICAgICdoZWlnaHQnXG4gICAgICBdLFxuXG4gICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgIHNjYWxlWDogSVRFTV9TQ0FMRV9TUFJJTkcsXG4gICAgICAgIHNjYWxlWTogSVRFTV9TQ0FMRV9TUFJJTkcsXG4gICAgICAgIHRyYW5zbGF0ZVg6IElURU1fVFJBTlNMQVRFX1NQUklORyxcbiAgICAgICAgdHJhbnNsYXRlWTogSVRFTV9UUkFOU0xBVEVfU1BSSU5HLFxuICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiAxNTAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGdldEl0ZW1JbmRleEJ5UG9zaXRpb24gPSBmdW5jdGlvbiBnZXRJdGVtSW5kZXhCeVBvc2l0aW9uKFxuICAgIHZpZXcsXG4gICAgY2hpbGRyZW4sXG4gICAgcG9zaXRpb25JblZpZXdcbiAgKSB7XG4gICAgaWYgKCFwb3NpdGlvbkluVmlldykgcmV0dXJuO1xuXG4gICAgdmFyIGhvcml6b250YWxTcGFjZSA9IHZpZXcucmVjdC5lbGVtZW50LndpZHRoO1xuICAgIC8vIGNvbnN0IGNoaWxkcmVuID0gdmlldy5jaGlsZFZpZXdzO1xuICAgIHZhciBsID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIHZhciBsYXN0ID0gbnVsbDtcblxuICAgIC8vIC0xLCBkb24ndCBtb3ZlIGl0ZW1zIHRvIGFjY29tb2RhdGUgKGVpdGhlciBhZGQgdG8gdG9wIG9yIGJvdHRvbSlcbiAgICBpZiAobCA9PT0gMCB8fCBwb3NpdGlvbkluVmlldy50b3AgPCBjaGlsZHJlblswXS5yZWN0LmVsZW1lbnQudG9wKSByZXR1cm4gLTE7XG5cbiAgICAvLyBsZXQncyBnZXQgdGhlIGl0ZW0gd2lkdGhcbiAgICB2YXIgaXRlbSA9IGNoaWxkcmVuWzBdO1xuICAgIHZhciBpdGVtUmVjdCA9IGl0ZW0ucmVjdC5lbGVtZW50O1xuICAgIHZhciBpdGVtSG9yaXpvbnRhbE1hcmdpbiA9IGl0ZW1SZWN0Lm1hcmdpbkxlZnQgKyBpdGVtUmVjdC5tYXJnaW5SaWdodDtcbiAgICB2YXIgaXRlbVdpZHRoID0gaXRlbVJlY3Qud2lkdGggKyBpdGVtSG9yaXpvbnRhbE1hcmdpbjtcbiAgICB2YXIgaXRlbXNQZXJSb3cgPSBNYXRoLnJvdW5kKGhvcml6b250YWxTcGFjZSAvIGl0ZW1XaWR0aCk7XG5cbiAgICAvLyBzdGFja1xuICAgIGlmIChpdGVtc1BlclJvdyA9PT0gMSkge1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGw7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICB2YXIgY2hpbGRNaWQgPSBjaGlsZC5yZWN0Lm91dGVyLnRvcCArIGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQgKiAwLjU7XG4gICAgICAgIGlmIChwb3NpdGlvbkluVmlldy50b3AgPCBjaGlsZE1pZCkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGw7XG4gICAgfVxuXG4gICAgLy8gZ3JpZFxuICAgIHZhciBpdGVtVmVydGljYWxNYXJnaW4gPSBpdGVtUmVjdC5tYXJnaW5Ub3AgKyBpdGVtUmVjdC5tYXJnaW5Cb3R0b207XG4gICAgdmFyIGl0ZW1IZWlnaHQgPSBpdGVtUmVjdC5oZWlnaHQgKyBpdGVtVmVydGljYWxNYXJnaW47XG4gICAgZm9yICh2YXIgX2luZGV4ID0gMDsgX2luZGV4IDwgbDsgX2luZGV4KyspIHtcbiAgICAgIHZhciBpbmRleFggPSBfaW5kZXggJSBpdGVtc1BlclJvdztcbiAgICAgIHZhciBpbmRleFkgPSBNYXRoLmZsb29yKF9pbmRleCAvIGl0ZW1zUGVyUm93KTtcblxuICAgICAgdmFyIG9mZnNldFggPSBpbmRleFggKiBpdGVtV2lkdGg7XG4gICAgICB2YXIgb2Zmc2V0WSA9IGluZGV4WSAqIGl0ZW1IZWlnaHQ7XG5cbiAgICAgIHZhciBpdGVtVG9wID0gb2Zmc2V0WSAtIGl0ZW1SZWN0Lm1hcmdpblRvcDtcbiAgICAgIHZhciBpdGVtUmlnaHQgPSBvZmZzZXRYICsgaXRlbVdpZHRoO1xuICAgICAgdmFyIGl0ZW1Cb3R0b20gPSBvZmZzZXRZICsgaXRlbUhlaWdodCArIGl0ZW1SZWN0Lm1hcmdpbkJvdHRvbTtcblxuICAgICAgaWYgKHBvc2l0aW9uSW5WaWV3LnRvcCA8IGl0ZW1Cb3R0b20gJiYgcG9zaXRpb25JblZpZXcudG9wID4gaXRlbVRvcCkge1xuICAgICAgICBpZiAocG9zaXRpb25JblZpZXcubGVmdCA8IGl0ZW1SaWdodCkge1xuICAgICAgICAgIHJldHVybiBfaW5kZXg7XG4gICAgICAgIH0gZWxzZSBpZiAoX2luZGV4ICE9PSBsIC0gMSkge1xuICAgICAgICAgIGxhc3QgPSBfaW5kZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFzdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobGFzdCAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGxhc3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIGw7XG4gIH07XG5cbiAgdmFyIGRyb3BBcmVhRGltZW5zaW9ucyA9IHtcbiAgICBoZWlnaHQ6IDAsXG4gICAgd2lkdGg6IDAsXG4gICAgZ2V0IGdldEhlaWdodCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgICB9LFxuICAgIHNldCBzZXRIZWlnaHQodmFsKSB7XG4gICAgICBpZiAodGhpcy5oZWlnaHQgPT09IDAgfHwgdmFsID09PSAwKSB0aGlzLmhlaWdodCA9IHZhbDtcbiAgICB9LFxuICAgIGdldCBnZXRXaWR0aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLndpZHRoO1xuICAgIH0sXG4gICAgc2V0IHNldFdpZHRoKHZhbCkge1xuICAgICAgaWYgKHRoaXMud2lkdGggPT09IDAgfHwgdmFsID09PSAwKSB0aGlzLndpZHRoID0gdmFsO1xuICAgIH0sXG4gICAgc2V0RGltZW5zaW9uczogZnVuY3Rpb24gc2V0RGltZW5zaW9ucyhoZWlnaHQsIHdpZHRoKSB7XG4gICAgICBpZiAodGhpcy5oZWlnaHQgPT09IDAgfHwgaGVpZ2h0ID09PSAwKSB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIGlmICh0aGlzLndpZHRoID09PSAwIHx8IHdpZHRoID09PSAwKSB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjcmVhdGUkOCA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmLnJvb3Q7XG4gICAgLy8gbmVlZCB0byBzZXQgcm9sZSB0byBsaXN0IGFzIG90aGVyd2lzZSBpdCB3b24ndCBiZSByZWFkIGFzIGEgbGlzdCBieSBWb2ljZU92ZXJcbiAgICBhdHRyKHJvb3QuZWxlbWVudCwgJ3JvbGUnLCAnbGlzdCcpO1xuXG4gICAgcm9vdC5yZWYubGFzdEl0ZW1TcGFud0RhdGUgPSBEYXRlLm5vdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnNlcnRzIGEgbmV3IGl0ZW1cbiAgICogQHBhcmFtIHJvb3RcbiAgICogQHBhcmFtIGFjdGlvblxuICAgKi9cbiAgdmFyIGFkZEl0ZW1WaWV3ID0gZnVuY3Rpb24gYWRkSXRlbVZpZXcoX3JlZjIpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmMi5hY3Rpb247XG4gICAgdmFyIGlkID0gYWN0aW9uLmlkLFxuICAgICAgaW5kZXggPSBhY3Rpb24uaW5kZXgsXG4gICAgICBpbnRlcmFjdGlvbk1ldGhvZCA9IGFjdGlvbi5pbnRlcmFjdGlvbk1ldGhvZDtcblxuICAgIHJvb3QucmVmLmFkZEluZGV4ID0gaW5kZXg7XG5cbiAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICB2YXIgc3Bhd25EYXRlID0gbm93O1xuICAgIHZhciBvcGFjaXR5ID0gMTtcblxuICAgIGlmIChpbnRlcmFjdGlvbk1ldGhvZCAhPT0gSW50ZXJhY3Rpb25NZXRob2QuTk9ORSkge1xuICAgICAgb3BhY2l0eSA9IDA7XG4gICAgICB2YXIgY29vbGRvd24gPSByb290LnF1ZXJ5KCdHRVRfSVRFTV9JTlNFUlRfSU5URVJWQUwnKTtcbiAgICAgIHZhciBkaXN0ID0gbm93IC0gcm9vdC5yZWYubGFzdEl0ZW1TcGFud0RhdGU7XG4gICAgICBzcGF3bkRhdGUgPSBkaXN0IDwgY29vbGRvd24gPyBub3cgKyAoY29vbGRvd24gLSBkaXN0KSA6IG5vdztcbiAgICB9XG5cbiAgICByb290LnJlZi5sYXN0SXRlbVNwYW53RGF0ZSA9IHNwYXduRGF0ZTtcblxuICAgIHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoXG4gICAgICAgIC8vIHZpZXcgdHlwZVxuICAgICAgICBpdGVtLFxuXG4gICAgICAgIC8vIHByb3BzXG4gICAgICAgIHtcbiAgICAgICAgICBzcGF3bkRhdGU6IHNwYXduRGF0ZSxcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgb3BhY2l0eTogb3BhY2l0eSxcbiAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogaW50ZXJhY3Rpb25NZXRob2RcbiAgICAgICAgfVxuICAgICAgKSxcblxuICAgICAgaW5kZXhcbiAgICApO1xuICB9O1xuXG4gIHZhciBtb3ZlSXRlbSA9IGZ1bmN0aW9uIG1vdmVJdGVtKGl0ZW0sIHgsIHkpIHtcbiAgICB2YXIgdnggPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwO1xuICAgIHZhciB2eSA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDE7XG5cbiAgICAvLyBzZXQgdG8gbnVsbCB0byByZW1vdmUgYW5pbWF0aW9uIHdoaWxlIGRyYWdnaW5nXG4gICAgaWYgKGl0ZW0uZHJhZ09mZnNldCkge1xuICAgICAgaXRlbS50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IG51bGw7XG4gICAgICBpdGVtLnRyYW5zbGF0ZVggPSBpdGVtLmRyYWdPcmlnaW4ueCArIGl0ZW0uZHJhZ09mZnNldC54O1xuICAgICAgaXRlbS50cmFuc2xhdGVZID0gaXRlbS5kcmFnT3JpZ2luLnkgKyBpdGVtLmRyYWdPZmZzZXQueTtcbiAgICAgIGl0ZW0uc2NhbGVYID0gMS4wMjU7XG4gICAgICBpdGVtLnNjYWxlWSA9IDEuMDI1O1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtLnRyYW5zbGF0ZVggPSB4O1xuICAgICAgaXRlbS50cmFuc2xhdGVZID0geTtcblxuICAgICAgaWYgKERhdGUubm93KCkgPiBpdGVtLnNwYXduRGF0ZSkge1xuICAgICAgICAvLyByZXZlYWwgZWxlbWVudFxuICAgICAgICBpZiAoaXRlbS5vcGFjaXR5ID09PSAwKSB7XG4gICAgICAgICAgaW50cm9JdGVtVmlldyhpdGVtLCB4LCB5LCB2eCwgdnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIGlzIGRlZmF1bHQgc2NhbGUgZXZlcnkgZnJhbWVcbiAgICAgICAgaXRlbS5zY2FsZVggPSAxO1xuICAgICAgICBpdGVtLnNjYWxlWSA9IDE7XG4gICAgICAgIGl0ZW0ub3BhY2l0eSA9IDE7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBpbnRyb0l0ZW1WaWV3ID0gZnVuY3Rpb24gaW50cm9JdGVtVmlldyhpdGVtLCB4LCB5LCB2eCwgdnkpIHtcbiAgICBpZiAoaXRlbS5pbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuTk9ORSkge1xuICAgICAgaXRlbS50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IHg7XG4gICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgaXRlbS50cmFuc2xhdGVZID0geTtcbiAgICB9IGVsc2UgaWYgKGl0ZW0uaW50ZXJhY3Rpb25NZXRob2QgPT09IEludGVyYWN0aW9uTWV0aG9kLkRST1ApIHtcbiAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IG51bGw7XG4gICAgICBpdGVtLnRyYW5zbGF0ZVggPSB4IC0gdnggKiAyMDtcblxuICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IHkgLSB2eSAqIDEwO1xuXG4gICAgICBpdGVtLnNjYWxlWCA9IDAuODtcbiAgICAgIGl0ZW0uc2NhbGVZID0gMC44O1xuICAgIH0gZWxzZSBpZiAoaXRlbS5pbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuQlJPV1NFKSB7XG4gICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgaXRlbS50cmFuc2xhdGVZID0geSAtIDMwO1xuICAgIH0gZWxzZSBpZiAoaXRlbS5pbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuQVBJKSB7XG4gICAgICBpdGVtLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgaXRlbS50cmFuc2xhdGVYID0geCAtIDMwO1xuICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW4gZXhpc3RpbmcgaXRlbVxuICAgKiBAcGFyYW0gcm9vdFxuICAgKiBAcGFyYW0gYWN0aW9uXG4gICAqL1xuICB2YXIgcmVtb3ZlSXRlbVZpZXcgPSBmdW5jdGlvbiByZW1vdmVJdGVtVmlldyhfcmVmMykge1xuICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWYzLmFjdGlvbjtcbiAgICB2YXIgaWQgPSBhY3Rpb24uaWQ7XG5cbiAgICAvLyBnZXQgdGhlIHZpZXcgbWF0Y2hpbmcgdGhlIGdpdmVuIGlkXG4gICAgdmFyIHZpZXcgPSByb290LmNoaWxkVmlld3MuZmluZChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgcmV0dXJuIGNoaWxkLmlkID09PSBpZDtcbiAgICB9KTtcblxuICAgIC8vIGlmIG5vIHZpZXcgZm91bmQsIGV4aXRcbiAgICBpZiAoIXZpZXcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhbmltYXRlIHZpZXcgb3V0IG9mIHZpZXdcbiAgICB2aWV3LnNjYWxlWCA9IDAuOTtcbiAgICB2aWV3LnNjYWxlWSA9IDAuOTtcbiAgICB2aWV3Lm9wYWNpdHkgPSAwO1xuXG4gICAgLy8gbWFyayBmb3IgcmVtb3ZhbFxuICAgIHZpZXcubWFya2VkRm9yUmVtb3ZhbCA9IHRydWU7XG4gIH07XG5cbiAgdmFyIGdldEl0ZW1IZWlnaHQgPSBmdW5jdGlvbiBnZXRJdGVtSGVpZ2h0KGNoaWxkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQgK1xuICAgICAgY2hpbGQucmVjdC5lbGVtZW50Lm1hcmdpbkJvdHRvbSAqIDAuNSArXG4gICAgICBjaGlsZC5yZWN0LmVsZW1lbnQubWFyZ2luVG9wICogMC41XG4gICAgKTtcbiAgfTtcbiAgdmFyIGdldEl0ZW1XaWR0aCA9IGZ1bmN0aW9uIGdldEl0ZW1XaWR0aChjaGlsZCkge1xuICAgIHJldHVybiAoXG4gICAgICBjaGlsZC5yZWN0LmVsZW1lbnQud2lkdGggK1xuICAgICAgY2hpbGQucmVjdC5lbGVtZW50Lm1hcmdpbkxlZnQgKiAwLjUgK1xuICAgICAgY2hpbGQucmVjdC5lbGVtZW50Lm1hcmdpblJpZ2h0ICogMC41XG4gICAgKTtcbiAgfTtcblxuICB2YXIgZHJhZ0l0ZW0gPSBmdW5jdGlvbiBkcmFnSXRlbShfcmVmNCkge1xuICAgIHZhciByb290ID0gX3JlZjQucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWY0LmFjdGlvbjtcbiAgICB2YXIgaWQgPSBhY3Rpb24uaWQsXG4gICAgICBkcmFnU3RhdGUgPSBhY3Rpb24uZHJhZ1N0YXRlO1xuXG4gICAgLy8gcmVmZXJlbmNlIHRvIGl0ZW1cbiAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZDogaWQgfSk7XG5cbiAgICAvLyBnZXQgdGhlIHZpZXcgbWF0Y2hpbmcgdGhlIGdpdmVuIGlkXG4gICAgdmFyIHZpZXcgPSByb290LmNoaWxkVmlld3MuZmluZChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgcmV0dXJuIGNoaWxkLmlkID09PSBpZDtcbiAgICB9KTtcblxuICAgIHZhciBudW1JdGVtcyA9IHJvb3QuY2hpbGRWaWV3cy5sZW5ndGg7XG4gICAgdmFyIG9sZEluZGV4ID0gZHJhZ1N0YXRlLmdldEl0ZW1JbmRleChpdGVtKTtcblxuICAgIC8vIGlmIG5vIHZpZXcgZm91bmQsIGV4aXRcbiAgICBpZiAoIXZpZXcpIHJldHVybjtcblxuICAgIHZhciBkcmFnUG9zaXRpb24gPSB7XG4gICAgICB4OiB2aWV3LmRyYWdPcmlnaW4ueCArIHZpZXcuZHJhZ09mZnNldC54ICsgdmlldy5kcmFnQ2VudGVyLngsXG4gICAgICB5OiB2aWV3LmRyYWdPcmlnaW4ueSArIHZpZXcuZHJhZ09mZnNldC55ICsgdmlldy5kcmFnQ2VudGVyLnlcblxuICAgICAgLy8gZ2V0IGRyYWcgYXJlYSBkaW1lbnNpb25zXG4gICAgfTtcbiAgICB2YXIgZHJhZ0hlaWdodCA9IGdldEl0ZW1IZWlnaHQodmlldyk7XG4gICAgdmFyIGRyYWdXaWR0aCA9IGdldEl0ZW1XaWR0aCh2aWV3KTtcblxuICAgIC8vIGdldCByb3dzIGFuZCBjb2x1bW5zIChUaGVyZSB3aWxsIGFsd2F5cyBiZSBhdCBsZWFzdCBvbmUgcm93IGFuZCBvbmUgY29sdW1uIGlmIGEgZmlsZSBpcyBwcmVzZW50KVxuICAgIHZhciBjb2xzID0gTWF0aC5mbG9vcihyb290LnJlY3Qub3V0ZXIud2lkdGggLyBkcmFnV2lkdGgpO1xuICAgIGlmIChjb2xzID4gbnVtSXRlbXMpIGNvbHMgPSBudW1JdGVtcztcblxuICAgIC8vIHJvd3MgYXJlIHVzZWQgdG8gZmluZCB3aGVuIHdlIGhhdmUgbGVmdCB0aGUgcHJldmlldyBhcmVhIGJvdW5kaW5nIGJveFxuICAgIHZhciByb3dzID0gTWF0aC5mbG9vcihudW1JdGVtcyAvIGNvbHMgKyAxKTtcblxuICAgIGRyb3BBcmVhRGltZW5zaW9ucy5zZXRIZWlnaHQgPSBkcmFnSGVpZ2h0ICogcm93cztcbiAgICBkcm9wQXJlYURpbWVuc2lvbnMuc2V0V2lkdGggPSBkcmFnV2lkdGggKiBjb2xzO1xuXG4gICAgLy8gZ2V0IG5ldyBpbmRleCBvZiBkcmFnZ2VkIGl0ZW1cbiAgICB2YXIgbG9jYXRpb24gPSB7XG4gICAgICB5OiBNYXRoLmZsb29yKGRyYWdQb3NpdGlvbi55IC8gZHJhZ0hlaWdodCksXG4gICAgICB4OiBNYXRoLmZsb29yKGRyYWdQb3NpdGlvbi54IC8gZHJhZ1dpZHRoKSxcbiAgICAgIGdldEdyaWRJbmRleDogZnVuY3Rpb24gZ2V0R3JpZEluZGV4KCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZHJhZ1Bvc2l0aW9uLnkgPiBkcm9wQXJlYURpbWVuc2lvbnMuZ2V0SGVpZ2h0IHx8XG4gICAgICAgICAgZHJhZ1Bvc2l0aW9uLnkgPCAwIHx8XG4gICAgICAgICAgZHJhZ1Bvc2l0aW9uLnggPiBkcm9wQXJlYURpbWVuc2lvbnMuZ2V0V2lkdGggfHxcbiAgICAgICAgICBkcmFnUG9zaXRpb24ueCA8IDBcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBvbGRJbmRleDtcbiAgICAgICAgcmV0dXJuIHRoaXMueSAqIGNvbHMgKyB0aGlzLng7XG4gICAgICB9LFxuICAgICAgZ2V0Q29sSW5kZXg6IGZ1bmN0aW9uIGdldENvbEluZGV4KCkge1xuICAgICAgICB2YXIgaXRlbXMgPSByb290LnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJyk7XG4gICAgICAgIHZhciB2aXNpYmxlQ2hpbGRyZW4gPSByb290LmNoaWxkVmlld3MuZmlsdGVyKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQ7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBpdGVtcy5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiB2aXNpYmxlQ2hpbGRyZW4uZmluZChmdW5jdGlvbihjaGlsZFZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZFZpZXcuaWQgPT09IGl0ZW0uaWQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gY2hpbGRyZW4uZmluZEluZGV4KGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkID09PSB2aWV3O1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGRyYWdIZWlnaHQgPSBnZXRJdGVtSGVpZ2h0KHZpZXcpO1xuICAgICAgICB2YXIgbCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgdmFyIGlkeCA9IGw7XG4gICAgICAgIHZhciBjaGlsZEhlaWdodCA9IDA7XG4gICAgICAgIHZhciBjaGlsZEJvdHRvbSA9IDA7XG4gICAgICAgIHZhciBjaGlsZFRvcCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgY2hpbGRIZWlnaHQgPSBnZXRJdGVtSGVpZ2h0KGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICBjaGlsZFRvcCA9IGNoaWxkQm90dG9tO1xuICAgICAgICAgIGNoaWxkQm90dG9tID0gY2hpbGRUb3AgKyBjaGlsZEhlaWdodDtcbiAgICAgICAgICBpZiAoZHJhZ1Bvc2l0aW9uLnkgPCBjaGlsZEJvdHRvbSkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA+IGkpIHtcbiAgICAgICAgICAgICAgaWYgKGRyYWdQb3NpdGlvbi55IDwgY2hpbGRUb3AgKyBkcmFnSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkeDtcbiAgICAgIH1cblxuICAgICAgLy8gZ2V0IG5ldyBpbmRleFxuICAgIH07XG4gICAgdmFyIGluZGV4ID0gY29scyA+IDEgPyBsb2NhdGlvbi5nZXRHcmlkSW5kZXgoKSA6IGxvY2F0aW9uLmdldENvbEluZGV4KCk7XG4gICAgcm9vdC5kaXNwYXRjaCgnTU9WRV9JVEVNJywgeyBxdWVyeTogdmlldywgaW5kZXg6IGluZGV4IH0pO1xuXG4gICAgLy8gaWYgdGhlIGluZGV4IG9mIHRoZSBpdGVtIGNoYW5nZWQsIGRpc3BhdGNoIHJlb3JkZXIgYWN0aW9uXG4gICAgdmFyIGN1cnJlbnRJbmRleCA9IGRyYWdTdGF0ZS5nZXRJbmRleCgpO1xuXG4gICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gdW5kZWZpbmVkIHx8IGN1cnJlbnRJbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIGRyYWdTdGF0ZS5zZXRJbmRleChpbmRleCk7XG5cbiAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICByb290LmRpc3BhdGNoKCdESURfUkVPUkRFUl9JVEVNUycsIHtcbiAgICAgICAgaXRlbXM6IHJvb3QucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKSxcbiAgICAgICAgb3JpZ2luOiBvbGRJbmRleCxcbiAgICAgICAgdGFyZ2V0OiBpbmRleFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXR1cCBhY3Rpb24gcm91dGVzXG4gICAqL1xuICB2YXIgcm91dGUkMiA9IGNyZWF0ZVJvdXRlKHtcbiAgICBESURfQUREX0lURU06IGFkZEl0ZW1WaWV3LFxuICAgIERJRF9SRU1PVkVfSVRFTTogcmVtb3ZlSXRlbVZpZXcsXG4gICAgRElEX0RSQUdfSVRFTTogZHJhZ0l0ZW1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFdyaXRlIHRvIHZpZXdcbiAgICogQHBhcmFtIHJvb3RcbiAgICogQHBhcmFtIGFjdGlvbnNcbiAgICogQHBhcmFtIHByb3BzXG4gICAqL1xuICB2YXIgd3JpdGUkNSA9IGZ1bmN0aW9uIHdyaXRlKF9yZWY1KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgcHJvcHMgPSBfcmVmNS5wcm9wcyxcbiAgICAgIGFjdGlvbnMgPSBfcmVmNS5hY3Rpb25zLFxuICAgICAgc2hvdWxkT3B0aW1pemUgPSBfcmVmNS5zaG91bGRPcHRpbWl6ZTtcblxuICAgIC8vIHJvdXRlIGFjdGlvbnNcbiAgICByb3V0ZSQyKHsgcm9vdDogcm9vdCwgcHJvcHM6IHByb3BzLCBhY3Rpb25zOiBhY3Rpb25zIH0pO1xuICAgIHZhciBkcmFnQ29vcmRpbmF0ZXMgPSBwcm9wcy5kcmFnQ29vcmRpbmF0ZXM7XG5cbiAgICAvLyBhdmFpbGFibGUgc3BhY2Ugb24gaG9yaXpvbnRhbCBheGlzXG4gICAgdmFyIGhvcml6b250YWxTcGFjZSA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoO1xuXG4gICAgLy8gb25seSBkcmF3IGNoaWxkcmVuIHRoYXQgaGF2ZSBkaW1lbnNpb25zXG4gICAgdmFyIHZpc2libGVDaGlsZHJlbiA9IHJvb3QuY2hpbGRWaWV3cy5maWx0ZXIoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIHJldHVybiBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0O1xuICAgIH0pO1xuXG4gICAgLy8gc29ydCBiYXNlZCBvbiBjdXJyZW50IGFjdGl2ZSBpdGVtc1xuICAgIHZhciBjaGlsZHJlbiA9IHJvb3RcbiAgICAgIC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpXG4gICAgICAubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHZpc2libGVDaGlsZHJlbi5maW5kKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkLmlkID09PSBpdGVtLmlkO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcblxuICAgIC8vIGdldCBpbmRleFxuICAgIHZhciBkcmFnSW5kZXggPSBkcmFnQ29vcmRpbmF0ZXNcbiAgICAgID8gZ2V0SXRlbUluZGV4QnlQb3NpdGlvbihyb290LCBjaGlsZHJlbiwgZHJhZ0Nvb3JkaW5hdGVzKVxuICAgICAgOiBudWxsO1xuXG4gICAgLy8gYWRkIGluZGV4IGlzIHVzZWQgdG8gcmVzZXJ2ZSB0aGUgZHJvcHBlZC9hZGRlZCBpdGVtIGluZGV4IHRpbGwgdGhlIGFjdHVhbCBpdGVtIGlzIHJlbmRlcmVkXG4gICAgdmFyIGFkZEluZGV4ID0gcm9vdC5yZWYuYWRkSW5kZXggfHwgbnVsbDtcblxuICAgIC8vIGFkZCBpbmRleCBubyBsb25nZXIgbmVlZGVkIHRpbGwgcG9zc2libHkgbmV4dCBkcmF3XG4gICAgcm9vdC5yZWYuYWRkSW5kZXggPSBudWxsO1xuXG4gICAgdmFyIGRyYWdJbmRleE9mZnNldCA9IDA7XG4gICAgdmFyIHJlbW92ZUluZGV4T2Zmc2V0ID0gMDtcbiAgICB2YXIgYWRkSW5kZXhPZmZzZXQgPSAwO1xuXG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgdmFyIGNoaWxkUmVjdCA9IGNoaWxkcmVuWzBdLnJlY3QuZWxlbWVudDtcbiAgICB2YXIgaXRlbVZlcnRpY2FsTWFyZ2luID0gY2hpbGRSZWN0Lm1hcmdpblRvcCArIGNoaWxkUmVjdC5tYXJnaW5Cb3R0b207XG4gICAgdmFyIGl0ZW1Ib3Jpem9udGFsTWFyZ2luID0gY2hpbGRSZWN0Lm1hcmdpbkxlZnQgKyBjaGlsZFJlY3QubWFyZ2luUmlnaHQ7XG4gICAgdmFyIGl0ZW1XaWR0aCA9IGNoaWxkUmVjdC53aWR0aCArIGl0ZW1Ib3Jpem9udGFsTWFyZ2luO1xuICAgIHZhciBpdGVtSGVpZ2h0ID0gY2hpbGRSZWN0LmhlaWdodCArIGl0ZW1WZXJ0aWNhbE1hcmdpbjtcbiAgICB2YXIgaXRlbXNQZXJSb3cgPSBNYXRoLnJvdW5kKGhvcml6b250YWxTcGFjZSAvIGl0ZW1XaWR0aCk7XG5cbiAgICAvLyBzdGFja1xuICAgIGlmIChpdGVtc1BlclJvdyA9PT0gMSkge1xuICAgICAgdmFyIG9mZnNldFkgPSAwO1xuICAgICAgdmFyIGRyYWdPZmZzZXQgPSAwO1xuXG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoZHJhZ0luZGV4KSB7XG4gICAgICAgICAgdmFyIGRpc3QgPSBpbmRleCAtIGRyYWdJbmRleDtcbiAgICAgICAgICBpZiAoZGlzdCA9PT0gLTIpIHtcbiAgICAgICAgICAgIGRyYWdPZmZzZXQgPSAtaXRlbVZlcnRpY2FsTWFyZ2luICogMC4yNTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGRpc3QgPT09IC0xKSB7XG4gICAgICAgICAgICBkcmFnT2Zmc2V0ID0gLWl0ZW1WZXJ0aWNhbE1hcmdpbiAqIDAuNzU7XG4gICAgICAgICAgfSBlbHNlIGlmIChkaXN0ID09PSAwKSB7XG4gICAgICAgICAgICBkcmFnT2Zmc2V0ID0gaXRlbVZlcnRpY2FsTWFyZ2luICogMC43NTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGRpc3QgPT09IDEpIHtcbiAgICAgICAgICAgIGRyYWdPZmZzZXQgPSBpdGVtVmVydGljYWxNYXJnaW4gKiAwLjI1O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkcmFnT2Zmc2V0ID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hvdWxkT3B0aW1pemUpIHtcbiAgICAgICAgICBjaGlsZC50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgICAgICBjaGlsZC50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY2hpbGQubWFya2VkRm9yUmVtb3ZhbCkge1xuICAgICAgICAgIG1vdmVJdGVtKGNoaWxkLCAwLCBvZmZzZXRZICsgZHJhZ09mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlbUhlaWdodCA9IGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQgKyBpdGVtVmVydGljYWxNYXJnaW47XG5cbiAgICAgICAgdmFyIHZpc3VhbEhlaWdodCA9XG4gICAgICAgICAgaXRlbUhlaWdodCAqIChjaGlsZC5tYXJrZWRGb3JSZW1vdmFsID8gY2hpbGQub3BhY2l0eSA6IDEpO1xuXG4gICAgICAgIG9mZnNldFkgKz0gdmlzdWFsSGVpZ2h0O1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGdyaWRcbiAgICBlbHNlIHtcbiAgICAgIHZhciBwcmV2WCA9IDA7XG4gICAgICB2YXIgcHJldlkgPSAwO1xuXG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPT09IGRyYWdJbmRleCkge1xuICAgICAgICAgIGRyYWdJbmRleE9mZnNldCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggPT09IGFkZEluZGV4KSB7XG4gICAgICAgICAgYWRkSW5kZXhPZmZzZXQgKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZC5tYXJrZWRGb3JSZW1vdmFsICYmIGNoaWxkLm9wYWNpdHkgPCAwLjUpIHtcbiAgICAgICAgICByZW1vdmVJbmRleE9mZnNldCAtPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZpc3VhbEluZGV4ID1cbiAgICAgICAgICBpbmRleCArIGFkZEluZGV4T2Zmc2V0ICsgZHJhZ0luZGV4T2Zmc2V0ICsgcmVtb3ZlSW5kZXhPZmZzZXQ7XG5cbiAgICAgICAgdmFyIGluZGV4WCA9IHZpc3VhbEluZGV4ICUgaXRlbXNQZXJSb3c7XG4gICAgICAgIHZhciBpbmRleFkgPSBNYXRoLmZsb29yKHZpc3VhbEluZGV4IC8gaXRlbXNQZXJSb3cpO1xuXG4gICAgICAgIHZhciBvZmZzZXRYID0gaW5kZXhYICogaXRlbVdpZHRoO1xuICAgICAgICB2YXIgb2Zmc2V0WSA9IGluZGV4WSAqIGl0ZW1IZWlnaHQ7XG5cbiAgICAgICAgdmFyIHZlY3RvclggPSBNYXRoLnNpZ24ob2Zmc2V0WCAtIHByZXZYKTtcbiAgICAgICAgdmFyIHZlY3RvclkgPSBNYXRoLnNpZ24ob2Zmc2V0WSAtIHByZXZZKTtcblxuICAgICAgICBwcmV2WCA9IG9mZnNldFg7XG4gICAgICAgIHByZXZZID0gb2Zmc2V0WTtcblxuICAgICAgICBpZiAoY2hpbGQubWFya2VkRm9yUmVtb3ZhbCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICAgIGNoaWxkLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICAgIGNoaWxkLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbW92ZUl0ZW0oY2hpbGQsIG9mZnNldFgsIG9mZnNldFksIHZlY3RvclgsIHZlY3RvclkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBGaWx0ZXJzIGFjdGlvbnMgdGhhdCBhcmUgbWVhbnQgc3BlY2lmaWNhbGx5IGZvciBhIGNlcnRhaW4gY2hpbGQgb2YgdGhlIGxpc3RcbiAgICogQHBhcmFtIGNoaWxkXG4gICAqIEBwYXJhbSBhY3Rpb25zXG4gICAqL1xuICB2YXIgZmlsdGVyU2V0SXRlbUFjdGlvbnMgPSBmdW5jdGlvbiBmaWx0ZXJTZXRJdGVtQWN0aW9ucyhjaGlsZCwgYWN0aW9ucykge1xuICAgIHJldHVybiBhY3Rpb25zLmZpbHRlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgIC8vIGlmIGFjdGlvbiBoYXMgYW4gaWQsIGZpbHRlciBvdXQgYWN0aW9ucyB0aGF0IGRvbid0IGhhdmUgdGhpcyBjaGlsZCBpZFxuICAgICAgaWYgKGFjdGlvbi5kYXRhICYmIGFjdGlvbi5kYXRhLmlkKSB7XG4gICAgICAgIHJldHVybiBjaGlsZC5pZCA9PT0gYWN0aW9uLmRhdGEuaWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIGFsbG93IGFsbCBvdGhlciBhY3Rpb25zXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgbGlzdCA9IGNyZWF0ZVZpZXcoe1xuICAgIGNyZWF0ZTogY3JlYXRlJDgsXG4gICAgd3JpdGU6IHdyaXRlJDUsXG4gICAgdGFnOiAndWwnLFxuICAgIG5hbWU6ICdsaXN0JyxcbiAgICBkaWRXcml0ZVZpZXc6IGZ1bmN0aW9uIGRpZFdyaXRlVmlldyhfcmVmNikge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmNi5yb290O1xuICAgICAgcm9vdC5jaGlsZFZpZXdzXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24odmlldykge1xuICAgICAgICAgIHJldHVybiB2aWV3Lm1hcmtlZEZvclJlbW92YWwgJiYgdmlldy5vcGFjaXR5ID09PSAwICYmIHZpZXcucmVzdGluZztcbiAgICAgICAgfSlcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24odmlldykge1xuICAgICAgICAgIHZpZXcuX2Rlc3Ryb3koKTtcbiAgICAgICAgICByb290LnJlbW92ZUNoaWxkVmlldyh2aWV3KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBmaWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZDogZmlsdGVyU2V0SXRlbUFjdGlvbnMsXG4gICAgbWl4aW5zOiB7XG4gICAgICBhcGlzOiBbJ2RyYWdDb29yZGluYXRlcyddXG4gICAgfVxuICB9KTtcblxuICB2YXIgY3JlYXRlJDkgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgIHJvb3QucmVmLmxpc3QgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhsaXN0KSk7XG4gICAgcHJvcHMuZHJhZ0Nvb3JkaW5hdGVzID0gbnVsbDtcbiAgICBwcm9wcy5vdmVyZmxvd2luZyA9IGZhbHNlO1xuICB9O1xuXG4gIHZhciBzdG9yZURyYWdDb29yZGluYXRlcyA9IGZ1bmN0aW9uIHN0b3JlRHJhZ0Nvb3JkaW5hdGVzKF9yZWYyKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcyxcbiAgICAgIGFjdGlvbiA9IF9yZWYyLmFjdGlvbjtcbiAgICBpZiAoIXJvb3QucXVlcnkoJ0dFVF9JVEVNX0lOU0VSVF9MT0NBVElPTl9GUkVFRE9NJykpIHJldHVybjtcbiAgICBwcm9wcy5kcmFnQ29vcmRpbmF0ZXMgPSB7XG4gICAgICBsZWZ0OiBhY3Rpb24ucG9zaXRpb24uc2NvcGVMZWZ0IC0gcm9vdC5yZWYubGlzdC5yZWN0LmVsZW1lbnQubGVmdCxcbiAgICAgIHRvcDpcbiAgICAgICAgYWN0aW9uLnBvc2l0aW9uLnNjb3BlVG9wIC1cbiAgICAgICAgKHJvb3QucmVjdC5vdXRlci50b3AgK1xuICAgICAgICAgIHJvb3QucmVjdC5lbGVtZW50Lm1hcmdpblRvcCArXG4gICAgICAgICAgcm9vdC5yZWN0LmVsZW1lbnQuc2Nyb2xsVG9wKVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGNsZWFyRHJhZ0Nvb3JkaW5hdGVzID0gZnVuY3Rpb24gY2xlYXJEcmFnQ29vcmRpbmF0ZXMoX3JlZjMpIHtcbiAgICB2YXIgcHJvcHMgPSBfcmVmMy5wcm9wcztcbiAgICBwcm9wcy5kcmFnQ29vcmRpbmF0ZXMgPSBudWxsO1xuICB9O1xuXG4gIHZhciByb3V0ZSQzID0gY3JlYXRlUm91dGUoe1xuICAgIERJRF9EUkFHOiBzdG9yZURyYWdDb29yZGluYXRlcyxcbiAgICBESURfRU5EX0RSQUc6IGNsZWFyRHJhZ0Nvb3JkaW5hdGVzXG4gIH0pO1xuXG4gIHZhciB3cml0ZSQ2ID0gZnVuY3Rpb24gd3JpdGUoX3JlZjQpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY0LnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWY0LnByb3BzLFxuICAgICAgYWN0aW9ucyA9IF9yZWY0LmFjdGlvbnM7XG5cbiAgICAvLyByb3V0ZSBhY3Rpb25zXG4gICAgcm91dGUkMyh7IHJvb3Q6IHJvb3QsIHByb3BzOiBwcm9wcywgYWN0aW9uczogYWN0aW9ucyB9KTtcblxuICAgIC8vIGN1cnJlbnQgZHJhZyBwb3NpdGlvblxuICAgIHJvb3QucmVmLmxpc3QuZHJhZ0Nvb3JkaW5hdGVzID0gcHJvcHMuZHJhZ0Nvb3JkaW5hdGVzO1xuXG4gICAgLy8gaWYgY3VycmVudGx5IG92ZXJmbG93aW5nIGJ1dCBubyBsb25nZXIgcmVjZWl2ZWQgb3ZlcmZsb3dcbiAgICBpZiAocHJvcHMub3ZlcmZsb3dpbmcgJiYgIXByb3BzLm92ZXJmbG93KSB7XG4gICAgICBwcm9wcy5vdmVyZmxvd2luZyA9IGZhbHNlO1xuXG4gICAgICAvLyByZXNldCBvdmVyZmxvdyBzdGF0ZVxuICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuc3RhdGUgPSAnJztcbiAgICAgIHJvb3QuaGVpZ2h0ID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBpZiBpcyBub3Qgb3ZlcmZsb3dpbmcgY3VycmVudGx5IGJ1dCBkb2VzIHJlY2VpdmUgb3ZlcmZsb3cgdmFsdWVcbiAgICBpZiAocHJvcHMub3ZlcmZsb3cpIHtcbiAgICAgIHZhciBuZXdIZWlnaHQgPSBNYXRoLnJvdW5kKHByb3BzLm92ZXJmbG93KTtcbiAgICAgIGlmIChuZXdIZWlnaHQgIT09IHJvb3QuaGVpZ2h0KSB7XG4gICAgICAgIHByb3BzLm92ZXJmbG93aW5nID0gdHJ1ZTtcbiAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuc3RhdGUgPSAnb3ZlcmZsb3cnO1xuICAgICAgICByb290LmhlaWdodCA9IG5ld0hlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGxpc3RTY3JvbGxlciA9IGNyZWF0ZVZpZXcoe1xuICAgIGNyZWF0ZTogY3JlYXRlJDksXG4gICAgd3JpdGU6IHdyaXRlJDYsXG4gICAgbmFtZTogJ2xpc3Qtc2Nyb2xsZXInLFxuICAgIG1peGluczoge1xuICAgICAgYXBpczogWydvdmVyZmxvdycsICdkcmFnQ29vcmRpbmF0ZXMnXSxcbiAgICAgIHN0eWxlczogWydoZWlnaHQnLCAndHJhbnNsYXRlWSddLFxuICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICB0cmFuc2xhdGVZOiAnc3ByaW5nJ1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGF0dHJUb2dnbGUgPSBmdW5jdGlvbiBhdHRyVG9nZ2xlKGVsZW1lbnQsIG5hbWUsIHN0YXRlKSB7XG4gICAgdmFyIGVuYWJsZWRWYWx1ZSA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICcnO1xuICAgIGlmIChzdGF0ZSkge1xuICAgICAgYXR0cihlbGVtZW50LCBuYW1lLCBlbmFibGVkVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHJlc2V0RmlsZUlucHV0ID0gZnVuY3Rpb24gcmVzZXRGaWxlSW5wdXQoaW5wdXQpIHtcbiAgICAvLyBubyB2YWx1ZSwgbm8gbmVlZCB0byByZXNldFxuICAgIGlmICghaW5wdXQgfHwgaW5wdXQudmFsdWUgPT09ICcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIGZvciBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgIGlucHV0LnZhbHVlID0gJyc7XG4gICAgfSBjYXRjaCAoZXJyKSB7fVxuXG4gICAgLy8gZm9yIElFMTBcbiAgICBpZiAoaW5wdXQudmFsdWUpIHtcbiAgICAgIC8vIHF1aWNrbHkgYXBwZW5kIGlucHV0IHRvIHRlbXAgZm9ybSBhbmQgcmVzZXQgZm9ybVxuICAgICAgdmFyIGZvcm0gPSBjcmVhdGVFbGVtZW50JDEoJ2Zvcm0nKTtcbiAgICAgIHZhciBwYXJlbnROb2RlID0gaW5wdXQucGFyZW50Tm9kZTtcbiAgICAgIHZhciByZWYgPSBpbnB1dC5uZXh0U2libGluZztcbiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgZm9ybS5yZXNldCgpO1xuXG4gICAgICAvLyByZS1pbmplY3QgaW5wdXQgd2hlcmUgaXQgb3JpZ2luYWxseSB3YXNcbiAgICAgIGlmIChyZWYpIHtcbiAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaW5wdXQsIHJlZik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnROb2RlLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGNyZWF0ZSRhID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcblxuICAgIC8vIHNldCBpZCBzbyBjYW4gYmUgcmVmZXJlbmNlZCBmcm9tIG91dHNpZGUgbGFiZWxzXG4gICAgcm9vdC5lbGVtZW50LmlkID0gJ2ZpbGVwb25kLS1icm93c2VyLScgKyBwcm9wcy5pZDtcblxuICAgIC8vIHNldCBuYW1lIG9mIGVsZW1lbnQgKGlzIHJlbW92ZWQgd2hlbiBhIHZhbHVlIGlzIHNldClcbiAgICBhdHRyKHJvb3QuZWxlbWVudCwgJ25hbWUnLCByb290LnF1ZXJ5KCdHRVRfTkFNRScpKTtcblxuICAgIC8vIHdlIGhhdmUgdG8gbGluayB0aGlzIGVsZW1lbnQgdG8gdGhlIHN0YXR1cyBlbGVtZW50XG4gICAgYXR0cihyb290LmVsZW1lbnQsICdhcmlhLWNvbnRyb2xzJywgJ2ZpbGVwb25kLS1hc3Npc3RhbnQtJyArIHByb3BzLmlkKTtcblxuICAgIC8vIHNldCBsYWJlbCwgd2UgdXNlIGxhYmVsbGVkIGJ5IGFzIG90aGVyd2lzZSB0aGUgc2NyZWVucmVhZGVyIGRvZXMgbm90IHJlYWQgdGhlIFwiYnJvd3NlXCIgdGV4dCBpbiB0aGUgbGFiZWwgKGFzIGl0IGhhcyB0YWJpbmRleDogMClcbiAgICBhdHRyKHJvb3QuZWxlbWVudCwgJ2FyaWEtbGFiZWxsZWRieScsICdmaWxlcG9uZC0tZHJvcC1sYWJlbC0nICsgcHJvcHMuaWQpO1xuXG4gICAgLy8gc2V0IGNvbmZpZ3VyYWJsZSBwcm9wc1xuICAgIHNldEFjY2VwdGVkRmlsZVR5cGVzKHtcbiAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICBhY3Rpb246IHsgdmFsdWU6IHJvb3QucXVlcnkoJ0dFVF9BQ0NFUFRFRF9GSUxFX1RZUEVTJykgfVxuICAgIH0pO1xuICAgIHRvZ2dsZUFsbG93TXVsdGlwbGUoe1xuICAgICAgcm9vdDogcm9vdCxcbiAgICAgIGFjdGlvbjogeyB2YWx1ZTogcm9vdC5xdWVyeSgnR0VUX0FMTE9XX01VTFRJUExFJykgfVxuICAgIH0pO1xuICAgIHRvZ2dsZURpcmVjdG9yeUZpbHRlcih7XG4gICAgICByb290OiByb290LFxuICAgICAgYWN0aW9uOiB7IHZhbHVlOiByb290LnF1ZXJ5KCdHRVRfQUxMT1dfRElSRUNUT1JJRVNfT05MWScpIH1cbiAgICB9KTtcbiAgICB0b2dnbGVEaXNhYmxlZCh7IHJvb3Q6IHJvb3QgfSk7XG4gICAgdG9nZ2xlUmVxdWlyZWQoe1xuICAgICAgcm9vdDogcm9vdCxcbiAgICAgIGFjdGlvbjogeyB2YWx1ZTogcm9vdC5xdWVyeSgnR0VUX1JFUVVJUkVEJykgfVxuICAgIH0pO1xuICAgIHNldENhcHR1cmVNZXRob2Qoe1xuICAgICAgcm9vdDogcm9vdCxcbiAgICAgIGFjdGlvbjogeyB2YWx1ZTogcm9vdC5xdWVyeSgnR0VUX0NBUFRVUkVfTUVUSE9EJykgfVxuICAgIH0pO1xuXG4gICAgLy8gaGFuZGxlIGNoYW5nZXMgdG8gdGhlIGlucHV0IGZpZWxkXG4gICAgcm9vdC5yZWYuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCFyb290LmVsZW1lbnQudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBleHRyYWN0IGZpbGVzIGFuZCBtb3ZlIHZhbHVlIG9mIHdlYmtpdFJlbGF0aXZlUGF0aCBwYXRoIHRvIF9yZWxhdGl2ZVBhdGhcbiAgICAgIHZhciBmaWxlcyA9IEFycmF5LmZyb20ocm9vdC5lbGVtZW50LmZpbGVzKS5tYXAoZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICBmaWxlLl9yZWxhdGl2ZVBhdGggPSBmaWxlLndlYmtpdFJlbGF0aXZlUGF0aDtcbiAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgICB9KTtcblxuICAgICAgLy8gd2UgYWRkIGEgbGl0dGxlIGRlbGF5IHNvIHRoZSBPUyBmaWxlIHNlbGVjdCB3aW5kb3cgY2FuIG1vdmUgb3V0IG9mIHRoZSB3YXkgYmVmb3JlIHdlIGFkZCBvdXIgZmlsZVxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gbG9hZCBmaWxlc1xuICAgICAgICBwcm9wcy5vbmxvYWQoZmlsZXMpO1xuXG4gICAgICAgIC8vIHJlc2V0IGlucHV0LCBpdCdzIGp1c3QgZm9yIGV4cG9zaW5nIGEgbWV0aG9kIHRvIGRyb3AgZmlsZXMsIHNob3VsZCBub3QgcmV0YWluIGFueSBzdGF0ZVxuICAgICAgICByZXNldEZpbGVJbnB1dChyb290LmVsZW1lbnQpO1xuICAgICAgfSwgMjUwKTtcbiAgICB9O1xuXG4gICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHJvb3QucmVmLmhhbmRsZUNoYW5nZSk7XG4gIH07XG5cbiAgdmFyIHNldEFjY2VwdGVkRmlsZVR5cGVzID0gZnVuY3Rpb24gc2V0QWNjZXB0ZWRGaWxlVHlwZXMoX3JlZjIpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmMi5hY3Rpb247XG4gICAgaWYgKCFyb290LnF1ZXJ5KCdHRVRfQUxMT1dfU1lOQ19BQ0NFUFRfQVRUUklCVVRFJykpIHJldHVybjtcbiAgICBhdHRyVG9nZ2xlKFxuICAgICAgcm9vdC5lbGVtZW50LFxuICAgICAgJ2FjY2VwdCcsXG4gICAgICAhIWFjdGlvbi52YWx1ZSxcbiAgICAgIGFjdGlvbi52YWx1ZSA/IGFjdGlvbi52YWx1ZS5qb2luKCcsJykgOiAnJ1xuICAgICk7XG4gIH07XG5cbiAgdmFyIHRvZ2dsZUFsbG93TXVsdGlwbGUgPSBmdW5jdGlvbiB0b2dnbGVBbGxvd011bHRpcGxlKF9yZWYzKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgYWN0aW9uID0gX3JlZjMuYWN0aW9uO1xuICAgIGF0dHJUb2dnbGUocm9vdC5lbGVtZW50LCAnbXVsdGlwbGUnLCBhY3Rpb24udmFsdWUpO1xuICB9O1xuXG4gIHZhciB0b2dnbGVEaXJlY3RvcnlGaWx0ZXIgPSBmdW5jdGlvbiB0b2dnbGVEaXJlY3RvcnlGaWx0ZXIoX3JlZjQpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY0LnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmNC5hY3Rpb247XG4gICAgYXR0clRvZ2dsZShyb290LmVsZW1lbnQsICd3ZWJraXRkaXJlY3RvcnknLCBhY3Rpb24udmFsdWUpO1xuICB9O1xuXG4gIHZhciB0b2dnbGVEaXNhYmxlZCA9IGZ1bmN0aW9uIHRvZ2dsZURpc2FibGVkKF9yZWY1KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmNS5yb290O1xuICAgIHZhciBpc0Rpc2FibGVkID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJyk7XG4gICAgdmFyIGRvZXNBbGxvd0Jyb3dzZSA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19CUk9XU0UnKTtcbiAgICB2YXIgZGlzYWJsZUZpZWxkID0gaXNEaXNhYmxlZCB8fCAhZG9lc0FsbG93QnJvd3NlO1xuICAgIGF0dHJUb2dnbGUocm9vdC5lbGVtZW50LCAnZGlzYWJsZWQnLCBkaXNhYmxlRmllbGQpO1xuICB9O1xuXG4gIHZhciB0b2dnbGVSZXF1aXJlZCA9IGZ1bmN0aW9uIHRvZ2dsZVJlcXVpcmVkKF9yZWY2KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmNi5yb290LFxuICAgICAgYWN0aW9uID0gX3JlZjYuYWN0aW9uO1xuICAgIC8vIHdhbnQgdG8gcmVtb3ZlIHJlcXVpcmVkLCBhbHdheXMgcG9zc2libGVcbiAgICBpZiAoIWFjdGlvbi52YWx1ZSkge1xuICAgICAgYXR0clRvZ2dsZShyb290LmVsZW1lbnQsICdyZXF1aXJlZCcsIGZhbHNlKTtcbiAgICB9XG4gICAgLy8gaWYgd2FudCB0byBtYWtlIHJlcXVpcmVkLCBvbmx5IHBvc3NpYmxlIHdoZW4gemVybyBpdGVtc1xuICAgIGVsc2UgaWYgKHJvb3QucXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpID09PSAwKSB7XG4gICAgICBhdHRyVG9nZ2xlKHJvb3QuZWxlbWVudCwgJ3JlcXVpcmVkJywgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBzZXRDYXB0dXJlTWV0aG9kID0gZnVuY3Rpb24gc2V0Q2FwdHVyZU1ldGhvZChfcmVmNykge1xuICAgIHZhciByb290ID0gX3JlZjcucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWY3LmFjdGlvbjtcbiAgICBhdHRyVG9nZ2xlKFxuICAgICAgcm9vdC5lbGVtZW50LFxuICAgICAgJ2NhcHR1cmUnLFxuICAgICAgISFhY3Rpb24udmFsdWUsXG4gICAgICBhY3Rpb24udmFsdWUgPT09IHRydWUgPyAnJyA6IGFjdGlvbi52YWx1ZVxuICAgICk7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZVJlcXVpcmVkU3RhdHVzID0gZnVuY3Rpb24gdXBkYXRlUmVxdWlyZWRTdGF0dXMoX3JlZjgpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY4LnJvb3Q7XG4gICAgdmFyIGVsZW1lbnQgPSByb290LmVsZW1lbnQ7XG4gICAgLy8gYWx3YXlzIHJlbW92ZSB0aGUgcmVxdWlyZWQgYXR0cmlidXRlIHdoZW4gbW9yZSB0aGFuIHplcm8gaXRlbXNcbiAgICBpZiAocm9vdC5xdWVyeSgnR0VUX1RPVEFMX0lURU1TJykgPiAwKSB7XG4gICAgICBhdHRyVG9nZ2xlKGVsZW1lbnQsICdyZXF1aXJlZCcsIGZhbHNlKTtcbiAgICAgIGF0dHJUb2dnbGUoZWxlbWVudCwgJ25hbWUnLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGFkZCBuYW1lIGF0dHJpYnV0ZVxuICAgICAgYXR0clRvZ2dsZShlbGVtZW50LCAnbmFtZScsIHRydWUsIHJvb3QucXVlcnkoJ0dFVF9OQU1FJykpO1xuXG4gICAgICAvLyByZW1vdmUgYW55IHZhbGlkYXRpb24gbWVzc2FnZXNcbiAgICAgIHZhciBzaG91bGRDaGVja1ZhbGlkaXR5ID0gcm9vdC5xdWVyeSgnR0VUX0NIRUNLX1ZBTElESVRZJyk7XG4gICAgICBpZiAoc2hvdWxkQ2hlY2tWYWxpZGl0eSkge1xuICAgICAgICBlbGVtZW50LnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcbiAgICAgIH1cblxuICAgICAgLy8gd2Ugb25seSBhZGQgcmVxdWlyZWQgaWYgdGhlIGZpZWxkIGhhcyBiZWVuIGRlZW1lZCByZXF1aXJlZFxuICAgICAgaWYgKHJvb3QucXVlcnkoJ0dFVF9SRVFVSVJFRCcpKSB7XG4gICAgICAgIGF0dHJUb2dnbGUoZWxlbWVudCwgJ3JlcXVpcmVkJywgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciB1cGRhdGVGaWVsZFZhbGlkaXR5U3RhdHVzID0gZnVuY3Rpb24gdXBkYXRlRmllbGRWYWxpZGl0eVN0YXR1cyhfcmVmOSkge1xuICAgIHZhciByb290ID0gX3JlZjkucm9vdDtcbiAgICB2YXIgc2hvdWxkQ2hlY2tWYWxpZGl0eSA9IHJvb3QucXVlcnkoJ0dFVF9DSEVDS19WQUxJRElUWScpO1xuICAgIGlmICghc2hvdWxkQ2hlY2tWYWxpZGl0eSkgcmV0dXJuO1xuICAgIHJvb3QuZWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eShyb290LnF1ZXJ5KCdHRVRfTEFCRUxfSU5WQUxJRF9GSUVMRCcpKTtcbiAgfTtcblxuICB2YXIgYnJvd3NlciA9IGNyZWF0ZVZpZXcoe1xuICAgIHRhZzogJ2lucHV0JyxcbiAgICBuYW1lOiAnYnJvd3NlcicsXG4gICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICBpZ25vcmVSZWN0VXBkYXRlOiB0cnVlLFxuICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgIHR5cGU6ICdmaWxlJ1xuICAgIH0sXG5cbiAgICBjcmVhdGU6IGNyZWF0ZSRhLFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koX3JlZjEwKSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWYxMC5yb290O1xuICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHJvb3QucmVmLmhhbmRsZUNoYW5nZSk7XG4gICAgfSxcbiAgICB3cml0ZTogY3JlYXRlUm91dGUoe1xuICAgICAgRElEX0xPQURfSVRFTTogdXBkYXRlUmVxdWlyZWRTdGF0dXMsXG4gICAgICBESURfUkVNT1ZFX0lURU06IHVwZGF0ZVJlcXVpcmVkU3RhdHVzLFxuICAgICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDogdXBkYXRlRmllbGRWYWxpZGl0eVN0YXR1cyxcblxuICAgICAgRElEX1NFVF9ESVNBQkxFRDogdG9nZ2xlRGlzYWJsZWQsXG4gICAgICBESURfU0VUX0FMTE9XX0JST1dTRTogdG9nZ2xlRGlzYWJsZWQsXG4gICAgICBESURfU0VUX0FMTE9XX0RJUkVDVE9SSUVTX09OTFk6IHRvZ2dsZURpcmVjdG9yeUZpbHRlcixcbiAgICAgIERJRF9TRVRfQUxMT1dfTVVMVElQTEU6IHRvZ2dsZUFsbG93TXVsdGlwbGUsXG4gICAgICBESURfU0VUX0FDQ0VQVEVEX0ZJTEVfVFlQRVM6IHNldEFjY2VwdGVkRmlsZVR5cGVzLFxuICAgICAgRElEX1NFVF9DQVBUVVJFX01FVEhPRDogc2V0Q2FwdHVyZU1ldGhvZCxcbiAgICAgIERJRF9TRVRfUkVRVUlSRUQ6IHRvZ2dsZVJlcXVpcmVkXG4gICAgfSlcbiAgfSk7XG5cbiAgdmFyIEtleSA9IHtcbiAgICBFTlRFUjogMTMsXG4gICAgU1BBQ0U6IDMyXG4gIH07XG5cbiAgdmFyIGNyZWF0ZSRiID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcblxuICAgIC8vIGNyZWF0ZSB0aGUgbGFiZWwgYW5kIGxpbmsgaXQgdG8gdGhlIGZpbGUgYnJvd3NlclxuICAgIHZhciBsYWJlbCA9IGNyZWF0ZUVsZW1lbnQkMSgnbGFiZWwnKTtcbiAgICBhdHRyKGxhYmVsLCAnZm9yJywgJ2ZpbGVwb25kLS1icm93c2VyLScgKyBwcm9wcy5pZCk7XG5cbiAgICAvLyB1c2UgZm9yIGxhYmVsaW5nIGZpbGUgaW5wdXQgKGFyaWEtbGFiZWxsZWRieSBvbiBmaWxlIGlucHV0KVxuICAgIGF0dHIobGFiZWwsICdpZCcsICdmaWxlcG9uZC0tZHJvcC1sYWJlbC0nICsgcHJvcHMuaWQpO1xuXG4gICAgLy8gaGlkZSB0aGUgbGFiZWwgZm9yIHNjcmVlbnJlYWRlcnMsIHRoZSBpbnB1dCBlbGVtZW50IHdpbGwgcmVhZCB0aGUgY29udGVudHMgb2YgdGhlIGxhYmVsIHdoZW4gaXQncyBmb2N1c3NlZC4gSWYgd2UgZG9uJ3Qgc2V0IGFyaWEtaGlkZGVuIHRoZSBzY3JlZW5yZWFkZXIgd2lsbCBhbHNvIG5hdmlnYXRlIHRoZSBjb250ZW50cyBvZiB0aGUgbGFiZWwgc2VwYXJhdGVseSBmcm9tIHRoZSBpbnB1dC5cbiAgICBhdHRyKGxhYmVsLCAnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXG4gICAgLy8gaGFuZGxlIGtleXNcbiAgICByb290LnJlZi5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIGlzQWN0aXZhdGlvbktleSA9IGUua2V5Q29kZSA9PT0gS2V5LkVOVEVSIHx8IGUua2V5Q29kZSA9PT0gS2V5LlNQQUNFO1xuICAgICAgaWYgKCFpc0FjdGl2YXRpb25LZXkpIHJldHVybjtcbiAgICAgIC8vIHN0b3BzIGZyb20gdHJpZ2dlcmluZyB0aGUgZWxlbWVudCBhIHNlY29uZCB0aW1lXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIC8vIGNsaWNrIGxpbmsgKHdpbGwgdGhlbiBpbiB0dXJuIGFjdGl2YXRlIGZpbGUgaW5wdXQpXG4gICAgICByb290LnJlZi5sYWJlbC5jbGljaygpO1xuICAgIH07XG5cbiAgICByb290LnJlZi5oYW5kbGVDbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBpc0xhYmVsQ2xpY2sgPSBlLnRhcmdldCA9PT0gbGFiZWwgfHwgbGFiZWwuY29udGFpbnMoZS50YXJnZXQpO1xuXG4gICAgICAvLyBkb24ndCB3YW50IHRvIGNsaWNrIHR3aWNlXG4gICAgICBpZiAoaXNMYWJlbENsaWNrKSByZXR1cm47XG5cbiAgICAgIC8vIGNsaWNrIGxpbmsgKHdpbGwgdGhlbiBpbiB0dXJuIGFjdGl2YXRlIGZpbGUgaW5wdXQpXG4gICAgICByb290LnJlZi5sYWJlbC5jbGljaygpO1xuICAgIH07XG5cbiAgICAvLyBhdHRhY2ggZXZlbnRzXG4gICAgbGFiZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHJvb3QucmVmLmhhbmRsZUtleURvd24pO1xuICAgIHJvb3QuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJvb3QucmVmLmhhbmRsZUNsaWNrKTtcblxuICAgIC8vIHVwZGF0ZVxuICAgIHVwZGF0ZUxhYmVsVmFsdWUobGFiZWwsIHByb3BzLmNhcHRpb24pO1xuXG4gICAgLy8gYWRkIVxuICAgIHJvb3QuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgIHJvb3QucmVmLmxhYmVsID0gbGFiZWw7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZUxhYmVsVmFsdWUgPSBmdW5jdGlvbiB1cGRhdGVMYWJlbFZhbHVlKGxhYmVsLCB2YWx1ZSkge1xuICAgIGxhYmVsLmlubmVySFRNTCA9IHZhbHVlO1xuICAgIHZhciBjbGlja2FibGUgPSBsYWJlbC5xdWVyeVNlbGVjdG9yKCcuZmlsZXBvbmQtLWxhYmVsLWFjdGlvbicpO1xuICAgIGlmIChjbGlja2FibGUpIHtcbiAgICAgIGF0dHIoY2xpY2thYmxlLCAndGFiaW5kZXgnLCAnMCcpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgdmFyIGRyb3BMYWJlbCA9IGNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdkcm9wLWxhYmVsJyxcbiAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgIGNyZWF0ZTogY3JlYXRlJGIsXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShfcmVmMikge1xuICAgICAgdmFyIHJvb3QgPSBfcmVmMi5yb290O1xuICAgICAgcm9vdC5yZWYubGFiZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHJvb3QucmVmLmhhbmRsZUtleURvd24pO1xuICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcm9vdC5yZWYuaGFuZGxlQ2xpY2spO1xuICAgIH0sXG4gICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgIERJRF9TRVRfTEFCRUxfSURMRTogZnVuY3Rpb24gRElEX1NFVF9MQUJFTF9JRExFKF9yZWYzKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgICAgICBhY3Rpb24gPSBfcmVmMy5hY3Rpb247XG4gICAgICAgIHVwZGF0ZUxhYmVsVmFsdWUocm9vdC5yZWYubGFiZWwsIGFjdGlvbi52YWx1ZSk7XG4gICAgICB9XG4gICAgfSksXG5cbiAgICBtaXhpbnM6IHtcbiAgICAgIHN0eWxlczogWydvcGFjaXR5JywgJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWSddLFxuICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiAxNTAgfSxcbiAgICAgICAgdHJhbnNsYXRlWDogJ3NwcmluZycsXG4gICAgICAgIHRyYW5zbGF0ZVk6ICdzcHJpbmcnXG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2YXIgYmxvYiA9IGNyZWF0ZVZpZXcoe1xuICAgIG5hbWU6ICdkcmlwLWJsb2InLFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgbWl4aW5zOiB7XG4gICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnb3BhY2l0eSddLFxuICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICBzY2FsZVg6ICdzcHJpbmcnLFxuICAgICAgICBzY2FsZVk6ICdzcHJpbmcnLFxuICAgICAgICB0cmFuc2xhdGVYOiAnc3ByaW5nJyxcbiAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZycsXG4gICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDI1MCB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2YXIgYWRkQmxvYiA9IGZ1bmN0aW9uIGFkZEJsb2IoX3JlZikge1xuICAgIHZhciByb290ID0gX3JlZi5yb290O1xuICAgIHZhciBjZW50ZXJYID0gcm9vdC5yZWN0LmVsZW1lbnQud2lkdGggKiAwLjU7XG4gICAgdmFyIGNlbnRlclkgPSByb290LnJlY3QuZWxlbWVudC5oZWlnaHQgKiAwLjU7XG5cbiAgICByb290LnJlZi5ibG9iID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhibG9iLCB7XG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIHNjYWxlWDogMi41LFxuICAgICAgICBzY2FsZVk6IDIuNSxcbiAgICAgICAgdHJhbnNsYXRlWDogY2VudGVyWCxcbiAgICAgICAgdHJhbnNsYXRlWTogY2VudGVyWVxuICAgICAgfSlcbiAgICApO1xuICB9O1xuXG4gIHZhciBtb3ZlQmxvYiA9IGZ1bmN0aW9uIG1vdmVCbG9iKF9yZWYyKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgYWN0aW9uID0gX3JlZjIuYWN0aW9uO1xuICAgIGlmICghcm9vdC5yZWYuYmxvYikge1xuICAgICAgYWRkQmxvYih7IHJvb3Q6IHJvb3QgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcm9vdC5yZWYuYmxvYi50cmFuc2xhdGVYID0gYWN0aW9uLnBvc2l0aW9uLnNjb3BlTGVmdDtcbiAgICByb290LnJlZi5ibG9iLnRyYW5zbGF0ZVkgPSBhY3Rpb24ucG9zaXRpb24uc2NvcGVUb3A7XG4gICAgcm9vdC5yZWYuYmxvYi5zY2FsZVggPSAxO1xuICAgIHJvb3QucmVmLmJsb2Iuc2NhbGVZID0gMTtcbiAgICByb290LnJlZi5ibG9iLm9wYWNpdHkgPSAxO1xuICB9O1xuXG4gIHZhciBoaWRlQmxvYiA9IGZ1bmN0aW9uIGhpZGVCbG9iKF9yZWYzKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMy5yb290O1xuICAgIGlmICghcm9vdC5yZWYuYmxvYikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByb290LnJlZi5ibG9iLm9wYWNpdHkgPSAwO1xuICB9O1xuXG4gIHZhciBleHBsb2RlQmxvYiA9IGZ1bmN0aW9uIGV4cGxvZGVCbG9iKF9yZWY0KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmNC5yb290O1xuICAgIGlmICghcm9vdC5yZWYuYmxvYikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByb290LnJlZi5ibG9iLnNjYWxlWCA9IDIuNTtcbiAgICByb290LnJlZi5ibG9iLnNjYWxlWSA9IDIuNTtcbiAgICByb290LnJlZi5ibG9iLm9wYWNpdHkgPSAwO1xuICB9O1xuXG4gIHZhciB3cml0ZSQ3ID0gZnVuY3Rpb24gd3JpdGUoX3JlZjUpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY1LnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWY1LnByb3BzLFxuICAgICAgYWN0aW9ucyA9IF9yZWY1LmFjdGlvbnM7XG4gICAgcm91dGUkNCh7IHJvb3Q6IHJvb3QsIHByb3BzOiBwcm9wcywgYWN0aW9uczogYWN0aW9ucyB9KTtcbiAgICB2YXIgYmxvYiA9IHJvb3QucmVmLmJsb2I7XG5cbiAgICBpZiAoYWN0aW9ucy5sZW5ndGggPT09IDAgJiYgYmxvYiAmJiBibG9iLm9wYWNpdHkgPT09IDApIHtcbiAgICAgIHJvb3QucmVtb3ZlQ2hpbGRWaWV3KGJsb2IpO1xuICAgICAgcm9vdC5yZWYuYmxvYiA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIHZhciByb3V0ZSQ0ID0gY3JlYXRlUm91dGUoe1xuICAgIERJRF9EUkFHOiBtb3ZlQmxvYixcbiAgICBESURfRFJPUDogZXhwbG9kZUJsb2IsXG4gICAgRElEX0VORF9EUkFHOiBoaWRlQmxvYlxuICB9KTtcblxuICB2YXIgZHJpcCA9IGNyZWF0ZVZpZXcoe1xuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICBuYW1lOiAnZHJpcCcsXG4gICAgd3JpdGU6IHdyaXRlJDdcbiAgfSk7XG5cbiAgdmFyIGNyZWF0ZSRjID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdDtcbiAgICByZXR1cm4gKHJvb3QucmVmLmZpZWxkcyA9IHt9KTtcbiAgfTtcblxuICB2YXIgZ2V0RmllbGQgPSBmdW5jdGlvbiBnZXRGaWVsZChyb290LCBpZCkge1xuICAgIHJldHVybiByb290LnJlZi5maWVsZHNbaWRdO1xuICB9O1xuXG4gIHZhciBzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMgPSBmdW5jdGlvbiBzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMocm9vdCkge1xuICAgIHJvb3QucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmICghcm9vdC5yZWYuZmllbGRzW2l0ZW0uaWRdKSByZXR1cm47XG4gICAgICByb290LmVsZW1lbnQuYXBwZW5kQ2hpbGQocm9vdC5yZWYuZmllbGRzW2l0ZW0uaWRdKTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZGlkUmVvcmRlckl0ZW1zID0gZnVuY3Rpb24gZGlkUmVvcmRlckl0ZW1zKF9yZWYyKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMi5yb290O1xuICAgIHJldHVybiBzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMocm9vdCk7XG4gIH07XG5cbiAgdmFyIGRpZEFkZEl0ZW0gPSBmdW5jdGlvbiBkaWRBZGRJdGVtKF9yZWYzKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgYWN0aW9uID0gX3JlZjMuYWN0aW9uO1xuICAgIHZhciBkYXRhQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCQxKCdpbnB1dCcpO1xuICAgIGRhdGFDb250YWluZXIudHlwZSA9ICdoaWRkZW4nO1xuICAgIGRhdGFDb250YWluZXIubmFtZSA9IHJvb3QucXVlcnkoJ0dFVF9OQU1FJyk7XG4gICAgZGF0YUNvbnRhaW5lci5kaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgIHJvb3QucmVmLmZpZWxkc1thY3Rpb24uaWRdID0gZGF0YUNvbnRhaW5lcjtcbiAgICBzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMocm9vdCk7XG4gIH07XG5cbiAgdmFyIGRpZExvYWRJdGVtJDEgPSBmdW5jdGlvbiBkaWRMb2FkSXRlbShfcmVmNCkge1xuICAgIHZhciByb290ID0gX3JlZjQucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWY0LmFjdGlvbjtcbiAgICB2YXIgZmllbGQgPSBnZXRGaWVsZChyb290LCBhY3Rpb24uaWQpO1xuICAgIGlmICghZmllbGQgfHwgYWN0aW9uLnNlcnZlckZpbGVSZWZlcmVuY2UgPT09IG51bGwpIHJldHVybjtcbiAgICBmaWVsZC52YWx1ZSA9IGFjdGlvbi5zZXJ2ZXJGaWxlUmVmZXJlbmNlO1xuICB9O1xuXG4gIHZhciBkaWRTZXREaXNhYmxlZCA9IGZ1bmN0aW9uIGRpZFNldERpc2FibGVkKF9yZWY1KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmNS5yb290O1xuICAgIHJvb3QuZWxlbWVudC5kaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICB9O1xuXG4gIHZhciBkaWRSZW1vdmVJdGVtID0gZnVuY3Rpb24gZGlkUmVtb3ZlSXRlbShfcmVmNikge1xuICAgIHZhciByb290ID0gX3JlZjYucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWY2LmFjdGlvbjtcbiAgICB2YXIgZmllbGQgPSBnZXRGaWVsZChyb290LCBhY3Rpb24uaWQpO1xuICAgIGlmICghZmllbGQpIHJldHVybjtcbiAgICBmaWVsZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGZpZWxkKTtcbiAgICBkZWxldGUgcm9vdC5yZWYuZmllbGRzW2FjdGlvbi5pZF07XG4gIH07XG5cbiAgdmFyIGRpZERlZmluZVZhbHVlID0gZnVuY3Rpb24gZGlkRGVmaW5lVmFsdWUoX3JlZjcpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWY3LnJvb3QsXG4gICAgICBhY3Rpb24gPSBfcmVmNy5hY3Rpb247XG4gICAgdmFyIGZpZWxkID0gZ2V0RmllbGQocm9vdCwgYWN0aW9uLmlkKTtcbiAgICBpZiAoIWZpZWxkKSByZXR1cm47XG4gICAgaWYgKGFjdGlvbi52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgZmllbGQucmVtb3ZlQXR0cmlidXRlKCd2YWx1ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaWVsZC52YWx1ZSA9IGFjdGlvbi52YWx1ZTtcbiAgICB9XG4gICAgc3luY0ZpZWxkUG9zaXRpb25zV2l0aEl0ZW1zKHJvb3QpO1xuICB9O1xuXG4gIHZhciB3cml0ZSQ4ID0gY3JlYXRlUm91dGUoe1xuICAgIERJRF9TRVRfRElTQUJMRUQ6IGRpZFNldERpc2FibGVkLFxuICAgIERJRF9BRERfSVRFTTogZGlkQWRkSXRlbSxcbiAgICBESURfTE9BRF9JVEVNOiBkaWRMb2FkSXRlbSQxLFxuICAgIERJRF9SRU1PVkVfSVRFTTogZGlkUmVtb3ZlSXRlbSxcbiAgICBESURfREVGSU5FX1ZBTFVFOiBkaWREZWZpbmVWYWx1ZSxcbiAgICBESURfUkVPUkRFUl9JVEVNUzogZGlkUmVvcmRlckl0ZW1zLFxuICAgIERJRF9TT1JUX0lURU1TOiBkaWRSZW9yZGVySXRlbXNcbiAgfSk7XG5cbiAgdmFyIGRhdGEgPSBjcmVhdGVWaWV3KHtcbiAgICB0YWc6ICdmaWVsZHNldCcsXG4gICAgbmFtZTogJ2RhdGEnLFxuICAgIGNyZWF0ZTogY3JlYXRlJGMsXG4gICAgd3JpdGU6IHdyaXRlJDgsXG4gICAgaWdub3JlUmVjdDogdHJ1ZVxuICB9KTtcblxuICB2YXIgZ2V0Um9vdE5vZGUgPSBmdW5jdGlvbiBnZXRSb290Tm9kZShlbGVtZW50KSB7XG4gICAgcmV0dXJuICdnZXRSb290Tm9kZScgaW4gZWxlbWVudCA/IGVsZW1lbnQuZ2V0Um9vdE5vZGUoKSA6IGRvY3VtZW50O1xuICB9O1xuXG4gIHZhciBpbWFnZXMgPSBbJ2pwZycsICdqcGVnJywgJ3BuZycsICdnaWYnLCAnYm1wJywgJ3dlYnAnLCAnc3ZnJywgJ3RpZmYnXTtcbiAgdmFyIHRleHQkMSA9IFsnY3NzJywgJ2NzdicsICdodG1sJywgJ3R4dCddO1xuICB2YXIgbWFwID0ge1xuICAgIHppcDogJ3ppcHxjb21wcmVzc2VkJyxcbiAgICBlcHViOiAnYXBwbGljYXRpb24vZXB1Yit6aXAnXG4gIH07XG5cbiAgdmFyIGd1ZXNzdGltYXRlTWltZVR5cGUgPSBmdW5jdGlvbiBndWVzc3RpbWF0ZU1pbWVUeXBlKCkge1xuICAgIHZhciBleHRlbnNpb24gPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICBleHRlbnNpb24gPSBleHRlbnNpb24udG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoaW1hZ2VzLmluY2x1ZGVzKGV4dGVuc2lvbikpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICdpbWFnZS8nICtcbiAgICAgICAgKGV4dGVuc2lvbiA9PT0gJ2pwZydcbiAgICAgICAgICA/ICdqcGVnJ1xuICAgICAgICAgIDogZXh0ZW5zaW9uID09PSAnc3ZnJ1xuICAgICAgICAgID8gJ3N2Zyt4bWwnXG4gICAgICAgICAgOiBleHRlbnNpb24pXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGV4dCQxLmluY2x1ZGVzKGV4dGVuc2lvbikpIHtcbiAgICAgIHJldHVybiAndGV4dC8nICsgZXh0ZW5zaW9uO1xuICAgIH1cblxuICAgIHJldHVybiBtYXBbZXh0ZW5zaW9uXSB8fCAnJztcbiAgfTtcblxuICB2YXIgcmVxdWVzdERhdGFUcmFuc2Zlckl0ZW1zID0gZnVuY3Rpb24gcmVxdWVzdERhdGFUcmFuc2Zlckl0ZW1zKFxuICAgIGRhdGFUcmFuc2ZlclxuICApIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAvLyB0cnkgdG8gZ2V0IGxpbmtzIGZyb20gdHJhbnNmZXIsIGlmIGZvdW5kIHdlJ2xsIGV4aXQgaW1taWRpYXRlbHkgKHVubGVzcyBhIGZpbGUgaXMgaW4gdGhlIGRhdGFUcmFuc2ZlciBhcyB3ZWxsLCB0aGlzIGlzIGJlY2F1c2UgRmlyZWZveCBjb3VsZCByZXByZXNlbnQgdGhlIGZpbGUgYXMgYSBVUkwgYW5kIGEgZmlsZSBvYmplY3QgYXQgdGhlIHNhbWUgdGltZSlcbiAgICAgIHZhciBsaW5rcyA9IGdldExpbmtzKGRhdGFUcmFuc2Zlcik7XG4gICAgICBpZiAobGlua3MubGVuZ3RoICYmICFoYXNGaWxlcyhkYXRhVHJhbnNmZXIpKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKGxpbmtzKTtcbiAgICAgIH1cbiAgICAgIC8vIHRyeSB0byBnZXQgZmlsZXMgZnJvbSB0aGUgdHJhbnNmZXJcbiAgICAgIGdldEZpbGVzKGRhdGFUcmFuc2ZlcikudGhlbihyZXNvbHZlKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVGVzdCBpZiBkYXRhdHJhbnNmZXIgaGFzIGZpbGVzXG4gICAqL1xuICB2YXIgaGFzRmlsZXMgPSBmdW5jdGlvbiBoYXNGaWxlcyhkYXRhVHJhbnNmZXIpIHtcbiAgICBpZiAoZGF0YVRyYW5zZmVyLmZpbGVzKSByZXR1cm4gZGF0YVRyYW5zZmVyLmZpbGVzLmxlbmd0aCA+IDA7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFeHRyYWN0cyBmaWxlcyBmcm9tIGEgRGF0YVRyYW5zZmVyIG9iamVjdFxuICAgKi9cbiAgdmFyIGdldEZpbGVzID0gZnVuY3Rpb24gZ2V0RmlsZXMoZGF0YVRyYW5zZmVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgLy8gZ2V0IHRoZSB0cmFuc2ZlciBpdGVtcyBhcyBwcm9taXNlc1xuICAgICAgdmFyIHByb21pc2VkRmlsZXMgPSAoZGF0YVRyYW5zZmVyLml0ZW1zXG4gICAgICAgID8gQXJyYXkuZnJvbShkYXRhVHJhbnNmZXIuaXRlbXMpXG4gICAgICAgIDogW11cbiAgICAgIClcbiAgICAgICAgLy8gb25seSBrZWVwIGZpbGUgc3lzdGVtIGl0ZW1zIChmaWxlcyBhbmQgZGlyZWN0b3JpZXMpXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpc0ZpbGVTeXN0ZW1JdGVtKGl0ZW0pO1xuICAgICAgICB9KVxuXG4gICAgICAgIC8vIG1hcCBlYWNoIGl0ZW0gdG8gcHJvbWlzZVxuICAgICAgICAubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gZ2V0RmlsZXNGcm9tSXRlbShpdGVtKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIGlmIGlzIGVtcHR5LCBzZWUgaWYgd2UgY2FuIGV4dHJhY3Qgc29tZSBpbmZvIGZyb20gdGhlIGZpbGVzIHByb3BlcnR5IGFzIGEgZmFsbGJhY2tcbiAgICAgIGlmICghcHJvbWlzZWRGaWxlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gVE9ETzogdGVzdCBmb3IgZGlyZWN0b3JpZXMgKHNob3VsZCBub3QgYmUgYWxsb3dlZClcbiAgICAgICAgLy8gVXNlIEZpbGVSZWFkZXIsIHByb2JsZW0gaXMgdGhhdCB0aGUgZmlsZXMgcHJvcGVydHkgZ2V0cyBsb3N0IGluIHRoZSBwcm9jZXNzXG4gICAgICAgIHJlc29sdmUoZGF0YVRyYW5zZmVyLmZpbGVzID8gQXJyYXkuZnJvbShkYXRhVHJhbnNmZXIuZmlsZXMpIDogW10pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGRvbmUhXG4gICAgICBQcm9taXNlLmFsbChwcm9taXNlZEZpbGVzKVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXR1cm5lZEZpbGVHcm91cHMpIHtcbiAgICAgICAgICAvLyBmbGF0dGVuIGdyb3Vwc1xuICAgICAgICAgIHZhciBmaWxlcyA9IFtdO1xuICAgICAgICAgIHJldHVybmVkRmlsZUdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgICAgICBmaWxlcy5wdXNoLmFwcGx5KGZpbGVzLCBncm91cCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBkb25lIChmaWx0ZXIgb3V0IGVtcHR5IGZpbGVzKSFcbiAgICAgICAgICByZXNvbHZlKFxuICAgICAgICAgICAgZmlsZXNcbiAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgIGlmICghZmlsZS5fcmVsYXRpdmVQYXRoKVxuICAgICAgICAgICAgICAgICAgZmlsZS5fcmVsYXRpdmVQYXRoID0gZmlsZS53ZWJraXRSZWxhdGl2ZVBhdGg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBpc0ZpbGVTeXN0ZW1JdGVtID0gZnVuY3Rpb24gaXNGaWxlU3lzdGVtSXRlbShpdGVtKSB7XG4gICAgaWYgKGlzRW50cnkoaXRlbSkpIHtcbiAgICAgIHZhciBlbnRyeSA9IGdldEFzRW50cnkoaXRlbSk7XG4gICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LmlzRmlsZSB8fCBlbnRyeS5pc0RpcmVjdG9yeTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZW0ua2luZCA9PT0gJ2ZpbGUnO1xuICB9O1xuXG4gIHZhciBnZXRGaWxlc0Zyb21JdGVtID0gZnVuY3Rpb24gZ2V0RmlsZXNGcm9tSXRlbShpdGVtKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgaWYgKGlzRGlyZWN0b3J5RW50cnkoaXRlbSkpIHtcbiAgICAgICAgZ2V0RmlsZXNJbkRpcmVjdG9yeShnZXRBc0VudHJ5KGl0ZW0pKVxuICAgICAgICAgIC50aGVuKHJlc29sdmUpXG4gICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVzb2x2ZShbaXRlbS5nZXRBc0ZpbGUoKV0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnZXRGaWxlc0luRGlyZWN0b3J5ID0gZnVuY3Rpb24gZ2V0RmlsZXNJbkRpcmVjdG9yeShlbnRyeSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBmaWxlcyA9IFtdO1xuXG4gICAgICAvLyB0aGUgdG90YWwgZW50cmllcyB0byByZWFkXG4gICAgICB2YXIgZGlyQ291bnRlciA9IDA7XG4gICAgICB2YXIgZmlsZUNvdW50ZXIgPSAwO1xuXG4gICAgICB2YXIgcmVzb2x2ZUlmRG9uZSA9IGZ1bmN0aW9uIHJlc29sdmVJZkRvbmUoKSB7XG4gICAgICAgIGlmIChmaWxlQ291bnRlciA9PT0gMCAmJiBkaXJDb3VudGVyID09PSAwKSB7XG4gICAgICAgICAgcmVzb2x2ZShmaWxlcyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIHRoZSByZWN1cnNpdmUgZnVuY3Rpb25cbiAgICAgIHZhciByZWFkRW50cmllcyA9IGZ1bmN0aW9uIHJlYWRFbnRyaWVzKGRpckVudHJ5KSB7XG4gICAgICAgIGRpckNvdW50ZXIrKztcblxuICAgICAgICB2YXIgZGlyZWN0b3J5UmVhZGVyID0gZGlyRW50cnkuY3JlYXRlUmVhZGVyKCk7XG5cbiAgICAgICAgLy8gZGlyZWN0b3JpZXMgYXJlIHJldHVybmVkIGluIGJhdGNoZXMsIHdlIG5lZWQgdG8gcHJvY2VzcyBhbGwgYmF0Y2hlcyBiZWZvcmUgd2UncmUgZG9uZVxuICAgICAgICB2YXIgcmVhZEJhdGNoID0gZnVuY3Rpb24gcmVhZEJhdGNoKCkge1xuICAgICAgICAgIGRpcmVjdG9yeVJlYWRlci5yZWFkRW50cmllcyhmdW5jdGlvbihlbnRyaWVzKSB7XG4gICAgICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgZGlyQ291bnRlci0tO1xuICAgICAgICAgICAgICByZXNvbHZlSWZEb25lKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IHJlYWQgbW9yZSBkaXJlY3Rvcmllc1xuICAgICAgICAgICAgICBpZiAoZW50cnkuaXNEaXJlY3RvcnkpIHtcbiAgICAgICAgICAgICAgICByZWFkRW50cmllcyhlbnRyeSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmVhZCBhcyBmaWxlXG4gICAgICAgICAgICAgICAgZmlsZUNvdW50ZXIrKztcblxuICAgICAgICAgICAgICAgIGVudHJ5LmZpbGUoZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgICAgdmFyIGNvcnJlY3RlZEZpbGUgPSBjb3JyZWN0TWlzc2luZ0ZpbGVUeXBlKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LmZ1bGxQYXRoKVxuICAgICAgICAgICAgICAgICAgICBjb3JyZWN0ZWRGaWxlLl9yZWxhdGl2ZVBhdGggPSBlbnRyeS5mdWxsUGF0aDtcbiAgICAgICAgICAgICAgICAgIGZpbGVzLnB1c2goY29ycmVjdGVkRmlsZSk7XG4gICAgICAgICAgICAgICAgICBmaWxlQ291bnRlci0tO1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZUlmRG9uZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gdHJ5IHRvIGdldCBuZXh0IGJhdGNoIG9mIGZpbGVzXG4gICAgICAgICAgICByZWFkQmF0Y2goKTtcbiAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHJlYWQgZmlyc3QgYmF0Y2ggb2YgZmlsZXNcbiAgICAgICAgcmVhZEJhdGNoKCk7XG4gICAgICB9O1xuXG4gICAgICAvLyBnbyFcbiAgICAgIHJlYWRFbnRyaWVzKGVudHJ5KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY29ycmVjdE1pc3NpbmdGaWxlVHlwZSA9IGZ1bmN0aW9uIGNvcnJlY3RNaXNzaW5nRmlsZVR5cGUoZmlsZSkge1xuICAgIGlmIChmaWxlLnR5cGUubGVuZ3RoKSByZXR1cm4gZmlsZTtcbiAgICB2YXIgZGF0ZSA9IGZpbGUubGFzdE1vZGlmaWVkRGF0ZTtcbiAgICB2YXIgbmFtZSA9IGZpbGUubmFtZTtcbiAgICBmaWxlID0gZmlsZS5zbGljZShcbiAgICAgIDAsXG4gICAgICBmaWxlLnNpemUsXG4gICAgICBndWVzc3RpbWF0ZU1pbWVUeXBlKGdldEV4dGVuc2lvbkZyb21GaWxlbmFtZShmaWxlLm5hbWUpKVxuICAgICk7XG4gICAgZmlsZS5uYW1lID0gbmFtZTtcbiAgICBmaWxlLmxhc3RNb2RpZmllZERhdGUgPSBkYXRlO1xuICAgIHJldHVybiBmaWxlO1xuICB9O1xuXG4gIHZhciBpc0RpcmVjdG9yeUVudHJ5ID0gZnVuY3Rpb24gaXNEaXJlY3RvcnlFbnRyeShpdGVtKSB7XG4gICAgcmV0dXJuIGlzRW50cnkoaXRlbSkgJiYgKGdldEFzRW50cnkoaXRlbSkgfHwge30pLmlzRGlyZWN0b3J5O1xuICB9O1xuXG4gIHZhciBpc0VudHJ5ID0gZnVuY3Rpb24gaXNFbnRyeShpdGVtKSB7XG4gICAgcmV0dXJuICd3ZWJraXRHZXRBc0VudHJ5JyBpbiBpdGVtO1xuICB9O1xuXG4gIHZhciBnZXRBc0VudHJ5ID0gZnVuY3Rpb24gZ2V0QXNFbnRyeShpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0ud2Via2l0R2V0QXNFbnRyeSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFeHRyYWN0cyBsaW5rcyBmcm9tIGEgRGF0YVRyYW5zZmVyIG9iamVjdFxuICAgKi9cbiAgdmFyIGdldExpbmtzID0gZnVuY3Rpb24gZ2V0TGlua3MoZGF0YVRyYW5zZmVyKSB7XG4gICAgdmFyIGxpbmtzID0gW107XG4gICAgdHJ5IHtcbiAgICAgIC8vIGxvb2sgaW4gbWV0YSBkYXRhIHByb3BlcnR5XG4gICAgICBsaW5rcyA9IGdldExpbmtzRnJvbVRyYW5zZmVyTWV0YURhdGEoZGF0YVRyYW5zZmVyKTtcbiAgICAgIGlmIChsaW5rcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGxpbmtzO1xuICAgICAgfVxuICAgICAgbGlua3MgPSBnZXRMaW5rc0Zyb21UcmFuc2ZlclVSTERhdGEoZGF0YVRyYW5zZmVyKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBub3BlIG5vcGUgbm9wZSAocHJvYmFibHkgSUUgdHJvdWJsZSlcbiAgICB9XG4gICAgcmV0dXJuIGxpbmtzO1xuICB9O1xuXG4gIHZhciBnZXRMaW5rc0Zyb21UcmFuc2ZlclVSTERhdGEgPSBmdW5jdGlvbiBnZXRMaW5rc0Zyb21UcmFuc2ZlclVSTERhdGEoXG4gICAgZGF0YVRyYW5zZmVyXG4gICkge1xuICAgIHZhciBkYXRhID0gZGF0YVRyYW5zZmVyLmdldERhdGEoJ3VybCcpO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgJiYgZGF0YS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBbZGF0YV07XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfTtcblxuICB2YXIgZ2V0TGlua3NGcm9tVHJhbnNmZXJNZXRhRGF0YSA9IGZ1bmN0aW9uIGdldExpbmtzRnJvbVRyYW5zZmVyTWV0YURhdGEoXG4gICAgZGF0YVRyYW5zZmVyXG4gICkge1xuICAgIHZhciBkYXRhID0gZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvaHRtbCcpO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgJiYgZGF0YS5sZW5ndGgpIHtcbiAgICAgIHZhciBtYXRjaGVzID0gZGF0YS5tYXRjaCgvc3JjXFxzKj1cXHMqXCIoLis/KVwiLyk7XG4gICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICByZXR1cm4gW21hdGNoZXNbMV1dO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH07XG5cbiAgdmFyIGRyYWdORHJvcE9ic2VydmVycyA9IFtdO1xuXG4gIHZhciBldmVudFBvc2l0aW9uID0gZnVuY3Rpb24gZXZlbnRQb3NpdGlvbihlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhZ2VMZWZ0OiBlLnBhZ2VYLFxuICAgICAgcGFnZVRvcDogZS5wYWdlWSxcbiAgICAgIHNjb3BlTGVmdDogZS5vZmZzZXRYIHx8IGUubGF5ZXJYLFxuICAgICAgc2NvcGVUb3A6IGUub2Zmc2V0WSB8fCBlLmxheWVyWVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGNyZWF0ZURyYWdORHJvcENsaWVudCA9IGZ1bmN0aW9uIGNyZWF0ZURyYWdORHJvcENsaWVudChcbiAgICBlbGVtZW50LFxuICAgIHNjb3BlVG9PYnNlcnZlLFxuICAgIGZpbHRlckVsZW1lbnRcbiAgKSB7XG4gICAgdmFyIG9ic2VydmVyID0gZ2V0RHJhZ05Ecm9wT2JzZXJ2ZXIoc2NvcGVUb09ic2VydmUpO1xuXG4gICAgdmFyIGNsaWVudCA9IHtcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICBmaWx0ZXJFbGVtZW50OiBmaWx0ZXJFbGVtZW50LFxuICAgICAgc3RhdGU6IG51bGwsXG4gICAgICBvbmRyb3A6IGZ1bmN0aW9uIG9uZHJvcCgpIHt9LFxuICAgICAgb25lbnRlcjogZnVuY3Rpb24gb25lbnRlcigpIHt9LFxuICAgICAgb25kcmFnOiBmdW5jdGlvbiBvbmRyYWcoKSB7fSxcbiAgICAgIG9uZXhpdDogZnVuY3Rpb24gb25leGl0KCkge30sXG4gICAgICBvbmxvYWQ6IGZ1bmN0aW9uIG9ubG9hZCgpIHt9LFxuICAgICAgYWxsb3dkcm9wOiBmdW5jdGlvbiBhbGxvd2Ryb3AoKSB7fVxuICAgIH07XG5cbiAgICBjbGllbnQuZGVzdHJveSA9IG9ic2VydmVyLmFkZExpc3RlbmVyKGNsaWVudCk7XG5cbiAgICByZXR1cm4gY2xpZW50O1xuICB9O1xuXG4gIHZhciBnZXREcmFnTkRyb3BPYnNlcnZlciA9IGZ1bmN0aW9uIGdldERyYWdORHJvcE9ic2VydmVyKGVsZW1lbnQpIHtcbiAgICAvLyBzZWUgaWYgYWxyZWFkeSBleGlzdHMsIGlmIHNvLCByZXR1cm5cbiAgICB2YXIgb2JzZXJ2ZXIgPSBkcmFnTkRyb3BPYnNlcnZlcnMuZmluZChmdW5jdGlvbihpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5lbGVtZW50ID09PSBlbGVtZW50O1xuICAgIH0pO1xuICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBuZXcgb2JzZXJ2ZXIsIGRvZXMgbm90IHlldCBleGlzdCBmb3IgdGhpcyBlbGVtZW50XG4gICAgdmFyIG5ld09ic2VydmVyID0gY3JlYXRlRHJhZ05Ecm9wT2JzZXJ2ZXIoZWxlbWVudCk7XG4gICAgZHJhZ05Ecm9wT2JzZXJ2ZXJzLnB1c2gobmV3T2JzZXJ2ZXIpO1xuICAgIHJldHVybiBuZXdPYnNlcnZlcjtcbiAgfTtcblxuICB2YXIgY3JlYXRlRHJhZ05Ecm9wT2JzZXJ2ZXIgPSBmdW5jdGlvbiBjcmVhdGVEcmFnTkRyb3BPYnNlcnZlcihlbGVtZW50KSB7XG4gICAgdmFyIGNsaWVudHMgPSBbXTtcblxuICAgIHZhciByb3V0ZXMgPSB7XG4gICAgICBkcmFnZW50ZXI6IGRyYWdlbnRlcixcbiAgICAgIGRyYWdvdmVyOiBkcmFnb3ZlcixcbiAgICAgIGRyYWdsZWF2ZTogZHJhZ2xlYXZlLFxuICAgICAgZHJvcDogZHJvcFxuICAgIH07XG5cbiAgICB2YXIgaGFuZGxlcnMgPSB7fTtcblxuICAgIGZvcmluKHJvdXRlcywgZnVuY3Rpb24oZXZlbnQsIGNyZWF0ZUhhbmRsZXIpIHtcbiAgICAgIGhhbmRsZXJzW2V2ZW50XSA9IGNyZWF0ZUhhbmRsZXIoZWxlbWVudCwgY2xpZW50cyk7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXJzW2V2ZW50XSwgZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgdmFyIG9ic2VydmVyID0ge1xuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIGFkZExpc3RlbmVyOiBmdW5jdGlvbiBhZGRMaXN0ZW5lcihjbGllbnQpIHtcbiAgICAgICAgLy8gYWRkIGFzIGNsaWVudFxuICAgICAgICBjbGllbnRzLnB1c2goY2xpZW50KTtcblxuICAgICAgICAvLyByZXR1cm4gcmVtb3ZlTGlzdGVuZXIgZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vIHJlbW92ZSBjbGllbnRcbiAgICAgICAgICBjbGllbnRzLnNwbGljZShjbGllbnRzLmluZGV4T2YoY2xpZW50KSwgMSk7XG5cbiAgICAgICAgICAvLyBpZiBubyBtb3JlIGNsaWVudHMsIGNsZWFuIHVwIG9ic2VydmVyXG4gICAgICAgICAgaWYgKGNsaWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkcmFnTkRyb3BPYnNlcnZlcnMuc3BsaWNlKGRyYWdORHJvcE9ic2VydmVycy5pbmRleE9mKG9ic2VydmVyKSwgMSk7XG5cbiAgICAgICAgICAgIGZvcmluKHJvdXRlcywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyc1tldmVudF0sIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIG9ic2VydmVyO1xuICB9O1xuXG4gIHZhciBlbGVtZW50RnJvbVBvaW50ID0gZnVuY3Rpb24gZWxlbWVudEZyb21Qb2ludChyb290LCBwb2ludCkge1xuICAgIGlmICghKCdlbGVtZW50RnJvbVBvaW50JyBpbiByb290KSkge1xuICAgICAgcm9vdCA9IGRvY3VtZW50O1xuICAgIH1cbiAgICByZXR1cm4gcm9vdC5lbGVtZW50RnJvbVBvaW50KHBvaW50LngsIHBvaW50LnkpO1xuICB9O1xuXG4gIHZhciBpc0V2ZW50VGFyZ2V0ID0gZnVuY3Rpb24gaXNFdmVudFRhcmdldChlLCB0YXJnZXQpIHtcbiAgICAvLyBnZXQgcm9vdFxuICAgIHZhciByb290ID0gZ2V0Um9vdE5vZGUodGFyZ2V0KTtcblxuICAgIC8vIGdldCBlbGVtZW50IGF0IHBvc2l0aW9uXG4gICAgLy8gaWYgcm9vdCBpcyBub3QgYWN0dWFsIHNoYWRvdyBET00gYW5kIGRvZXMgbm90IGhhdmUgZWxlbWVudEZyb21Qb2ludCBtZXRob2QsIHVzZSB0aGUgb25lIG9uIGRvY3VtZW50XG4gICAgdmFyIGVsZW1lbnRBdFBvc2l0aW9uID0gZWxlbWVudEZyb21Qb2ludChyb290LCB7XG4gICAgICB4OiBlLnBhZ2VYIC0gd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgICAgeTogZS5wYWdlWSAtIHdpbmRvdy5wYWdlWU9mZnNldFxuICAgIH0pO1xuXG4gICAgLy8gdGVzdCBpZiB0YXJnZXQgaXMgdGhlIGVsZW1lbnQgb3IgaWYgb25lIG9mIGl0cyBjaGlsZHJlbiBpc1xuICAgIHJldHVybiBlbGVtZW50QXRQb3NpdGlvbiA9PT0gdGFyZ2V0IHx8IHRhcmdldC5jb250YWlucyhlbGVtZW50QXRQb3NpdGlvbik7XG4gIH07XG5cbiAgdmFyIGluaXRpYWxUYXJnZXQgPSBudWxsO1xuXG4gIHZhciBzZXREcm9wRWZmZWN0ID0gZnVuY3Rpb24gc2V0RHJvcEVmZmVjdChkYXRhVHJhbnNmZXIsIGVmZmVjdCkge1xuICAgIC8vIGlzIGluIHRyeSBjYXRjaCBhcyBJRTExIHdpbGwgdGhyb3cgZXJyb3IgaWYgbm90XG4gICAgdHJ5IHtcbiAgICAgIGRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gZWZmZWN0O1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH07XG5cbiAgdmFyIGRyYWdlbnRlciA9IGZ1bmN0aW9uIGRyYWdlbnRlcihyb290LCBjbGllbnRzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaW5pdGlhbFRhcmdldCA9IGUudGFyZ2V0O1xuXG4gICAgICBjbGllbnRzLmZvckVhY2goZnVuY3Rpb24oY2xpZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gY2xpZW50LmVsZW1lbnQsXG4gICAgICAgICAgb25lbnRlciA9IGNsaWVudC5vbmVudGVyO1xuXG4gICAgICAgIGlmIChpc0V2ZW50VGFyZ2V0KGUsIGVsZW1lbnQpKSB7XG4gICAgICAgICAgY2xpZW50LnN0YXRlID0gJ2VudGVyJztcblxuICAgICAgICAgIC8vIGZpcmUgZW50ZXIgZXZlbnRcbiAgICAgICAgICBvbmVudGVyKGV2ZW50UG9zaXRpb24oZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBkcmFnb3ZlciA9IGZ1bmN0aW9uIGRyYWdvdmVyKHJvb3QsIGNsaWVudHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICB2YXIgZGF0YVRyYW5zZmVyID0gZS5kYXRhVHJhbnNmZXI7XG5cbiAgICAgIHJlcXVlc3REYXRhVHJhbnNmZXJJdGVtcyhkYXRhVHJhbnNmZXIpLnRoZW4oZnVuY3Rpb24oaXRlbXMpIHtcbiAgICAgICAgdmFyIG92ZXJEcm9wVGFyZ2V0ID0gZmFsc2U7XG5cbiAgICAgICAgY2xpZW50cy5zb21lKGZ1bmN0aW9uKGNsaWVudCkge1xuICAgICAgICAgIHZhciBmaWx0ZXJFbGVtZW50ID0gY2xpZW50LmZpbHRlckVsZW1lbnQsXG4gICAgICAgICAgICBlbGVtZW50ID0gY2xpZW50LmVsZW1lbnQsXG4gICAgICAgICAgICBvbmVudGVyID0gY2xpZW50Lm9uZW50ZXIsXG4gICAgICAgICAgICBvbmV4aXQgPSBjbGllbnQub25leGl0LFxuICAgICAgICAgICAgb25kcmFnID0gY2xpZW50Lm9uZHJhZyxcbiAgICAgICAgICAgIGFsbG93ZHJvcCA9IGNsaWVudC5hbGxvd2Ryb3A7XG5cbiAgICAgICAgICAvLyBieSBkZWZhdWx0IHdlIGNhbiBkcm9wXG4gICAgICAgICAgc2V0RHJvcEVmZmVjdChkYXRhVHJhbnNmZXIsICdjb3B5Jyk7XG5cbiAgICAgICAgICAvLyBhbGxvdyB0cmFuc2ZlciBvZiB0aGVzZSBpdGVtc1xuICAgICAgICAgIHZhciBhbGxvd3NUcmFuc2ZlciA9IGFsbG93ZHJvcChpdGVtcyk7XG5cbiAgICAgICAgICAvLyBvbmx5IHVzZWQgd2hlbiBjYW4gYmUgZHJvcHBlZCBvbiBwYWdlXG4gICAgICAgICAgaWYgKCFhbGxvd3NUcmFuc2Zlcikge1xuICAgICAgICAgICAgc2V0RHJvcEVmZmVjdChkYXRhVHJhbnNmZXIsICdub25lJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gdGFyZ2V0dGluZyB0aGlzIGNsaWVudFxuICAgICAgICAgIGlmIChpc0V2ZW50VGFyZ2V0KGUsIGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBvdmVyRHJvcFRhcmdldCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIGhhZCBubyBwcmV2aW91cyBzdGF0ZSwgbWVhbnMgd2UgYXJlIGVudGVyaW5nIHRoaXMgY2xpZW50XG4gICAgICAgICAgICBpZiAoY2xpZW50LnN0YXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIGNsaWVudC5zdGF0ZSA9ICdlbnRlcic7XG4gICAgICAgICAgICAgIG9uZW50ZXIoZXZlbnRQb3NpdGlvbihlKSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbm93IG92ZXIgZWxlbWVudCAobm8gbWF0dGVyIGlmIGl0IGFsbG93cyB0aGUgZHJvcCBvciBub3QpXG4gICAgICAgICAgICBjbGllbnQuc3RhdGUgPSAnb3Zlcic7XG5cbiAgICAgICAgICAgIC8vIG5lZWRzIHRvIGFsbG93IHRyYW5zZmVyXG4gICAgICAgICAgICBpZiAoZmlsdGVyRWxlbWVudCAmJiAhYWxsb3dzVHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgc2V0RHJvcEVmZmVjdChkYXRhVHJhbnNmZXIsICdub25lJyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZHJhZ2dpbmdcbiAgICAgICAgICAgIG9uZHJhZyhldmVudFBvc2l0aW9uKGUpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIG92ZXIgYW4gZWxlbWVudCB0byBkcm9wXG4gICAgICAgICAgICBpZiAoZmlsdGVyRWxlbWVudCAmJiAhb3ZlckRyb3BUYXJnZXQpIHtcbiAgICAgICAgICAgICAgc2V0RHJvcEVmZmVjdChkYXRhVHJhbnNmZXIsICdub25lJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1pZ2h0IGhhdmUganVzdCBsZWZ0IHRoaXMgY2xpZW50P1xuICAgICAgICAgICAgaWYgKGNsaWVudC5zdGF0ZSkge1xuICAgICAgICAgICAgICBjbGllbnQuc3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgICBvbmV4aXQoZXZlbnRQb3NpdGlvbihlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGRyb3AgPSBmdW5jdGlvbiBkcm9wKHJvb3QsIGNsaWVudHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICB2YXIgZGF0YVRyYW5zZmVyID0gZS5kYXRhVHJhbnNmZXI7XG5cbiAgICAgIHJlcXVlc3REYXRhVHJhbnNmZXJJdGVtcyhkYXRhVHJhbnNmZXIpLnRoZW4oZnVuY3Rpb24oaXRlbXMpIHtcbiAgICAgICAgY2xpZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGNsaWVudCkge1xuICAgICAgICAgIHZhciBmaWx0ZXJFbGVtZW50ID0gY2xpZW50LmZpbHRlckVsZW1lbnQsXG4gICAgICAgICAgICBlbGVtZW50ID0gY2xpZW50LmVsZW1lbnQsXG4gICAgICAgICAgICBvbmRyb3AgPSBjbGllbnQub25kcm9wLFxuICAgICAgICAgICAgb25leGl0ID0gY2xpZW50Lm9uZXhpdCxcbiAgICAgICAgICAgIGFsbG93ZHJvcCA9IGNsaWVudC5hbGxvd2Ryb3A7XG5cbiAgICAgICAgICBjbGllbnQuc3RhdGUgPSBudWxsO1xuXG4gICAgICAgICAgLy8gaWYgd2UncmUgZmlsdGVyaW5nIG9uIGVsZW1lbnQgd2UgbmVlZCB0byBiZSBvdmVyIHRoZSBlbGVtZW50IHRvIGRyb3BcbiAgICAgICAgICBpZiAoZmlsdGVyRWxlbWVudCAmJiAhaXNFdmVudFRhcmdldChlLCBlbGVtZW50KSkgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gbm8gdHJhbnNmZXIgZm9yIHRoaXMgY2xpZW50XG4gICAgICAgICAgaWYgKCFhbGxvd2Ryb3AoaXRlbXMpKSByZXR1cm4gb25leGl0KGV2ZW50UG9zaXRpb24oZSkpO1xuXG4gICAgICAgICAgLy8gd2UgY2FuIGRyb3AgdGhlc2UgaXRlbXMgb24gdGhpcyBjbGllbnRcbiAgICAgICAgICBvbmRyb3AoZXZlbnRQb3NpdGlvbihlKSwgaXRlbXMpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGRyYWdsZWF2ZSA9IGZ1bmN0aW9uIGRyYWdsZWF2ZShyb290LCBjbGllbnRzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChpbml0aWFsVGFyZ2V0ICE9PSBlLnRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNsaWVudHMuZm9yRWFjaChmdW5jdGlvbihjbGllbnQpIHtcbiAgICAgICAgdmFyIG9uZXhpdCA9IGNsaWVudC5vbmV4aXQ7XG5cbiAgICAgICAgY2xpZW50LnN0YXRlID0gbnVsbDtcblxuICAgICAgICBvbmV4aXQoZXZlbnRQb3NpdGlvbihlKSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjcmVhdGVIb3BwZXIgPSBmdW5jdGlvbiBjcmVhdGVIb3BwZXIoc2NvcGUsIHZhbGlkYXRlSXRlbXMsIG9wdGlvbnMpIHtcbiAgICAvLyBpcyBub3cgaG9wcGVyIHNjb3BlXG4gICAgc2NvcGUuY2xhc3NMaXN0LmFkZCgnZmlsZXBvbmQtLWhvcHBlcicpO1xuXG4gICAgLy8gc2hvcnRjdXRzXG4gICAgdmFyIGNhdGNoZXNEcm9wc09uUGFnZSA9IG9wdGlvbnMuY2F0Y2hlc0Ryb3BzT25QYWdlLFxuICAgICAgcmVxdWlyZXNEcm9wT25FbGVtZW50ID0gb3B0aW9ucy5yZXF1aXJlc0Ryb3BPbkVsZW1lbnQsXG4gICAgICBfb3B0aW9ucyRmaWx0ZXJJdGVtcyA9IG9wdGlvbnMuZmlsdGVySXRlbXMsXG4gICAgICBmaWx0ZXJJdGVtcyA9XG4gICAgICAgIF9vcHRpb25zJGZpbHRlckl0ZW1zID09PSB2b2lkIDBcbiAgICAgICAgICA/IGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IF9vcHRpb25zJGZpbHRlckl0ZW1zO1xuXG4gICAgLy8gY3JlYXRlIGEgZG5kIGNsaWVudFxuICAgIHZhciBjbGllbnQgPSBjcmVhdGVEcmFnTkRyb3BDbGllbnQoXG4gICAgICBzY29wZSxcbiAgICAgIGNhdGNoZXNEcm9wc09uUGFnZSA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IHNjb3BlLFxuICAgICAgcmVxdWlyZXNEcm9wT25FbGVtZW50XG4gICAgKTtcblxuICAgIC8vIGN1cnJlbnQgY2xpZW50IHN0YXRlXG4gICAgdmFyIGxhc3RTdGF0ZSA9ICcnO1xuICAgIHZhciBjdXJyZW50U3RhdGUgPSAnJztcblxuICAgIC8vIGRldGVybWluZXMgaWYgYSBmaWxlIG1heSBiZSBkcm9wcGVkXG4gICAgY2xpZW50LmFsbG93ZHJvcCA9IGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAvLyBUT0RPOiBpZiB3ZSBjYW4sIHRocm93IGVycm9yIHRvIGluZGljYXRlIHRoZSBpdGVtcyBjYW5ub3QgYnkgZHJvcHBlZFxuXG4gICAgICByZXR1cm4gdmFsaWRhdGVJdGVtcyhmaWx0ZXJJdGVtcyhpdGVtcykpO1xuICAgIH07XG5cbiAgICBjbGllbnQub25kcm9wID0gZnVuY3Rpb24ocG9zaXRpb24sIGl0ZW1zKSB7XG4gICAgICB2YXIgZmlsdGVyZWRJdGVtcyA9IGZpbHRlckl0ZW1zKGl0ZW1zKTtcblxuICAgICAgaWYgKCF2YWxpZGF0ZUl0ZW1zKGZpbHRlcmVkSXRlbXMpKSB7XG4gICAgICAgIGFwaS5vbmRyYWdlbmQocG9zaXRpb24pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnRTdGF0ZSA9ICdkcmFnLWRyb3AnO1xuXG4gICAgICBhcGkub25sb2FkKGZpbHRlcmVkSXRlbXMsIHBvc2l0aW9uKTtcbiAgICB9O1xuXG4gICAgY2xpZW50Lm9uZHJhZyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICBhcGkub25kcmFnKHBvc2l0aW9uKTtcbiAgICB9O1xuXG4gICAgY2xpZW50Lm9uZW50ZXIgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgY3VycmVudFN0YXRlID0gJ2RyYWctb3Zlcic7XG5cbiAgICAgIGFwaS5vbmRyYWdzdGFydChwb3NpdGlvbik7XG4gICAgfTtcblxuICAgIGNsaWVudC5vbmV4aXQgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgY3VycmVudFN0YXRlID0gJ2RyYWctZXhpdCc7XG5cbiAgICAgIGFwaS5vbmRyYWdlbmQocG9zaXRpb24pO1xuICAgIH07XG5cbiAgICB2YXIgYXBpID0ge1xuICAgICAgdXBkYXRlSG9wcGVyU3RhdGU6IGZ1bmN0aW9uIHVwZGF0ZUhvcHBlclN0YXRlKCkge1xuICAgICAgICBpZiAobGFzdFN0YXRlICE9PSBjdXJyZW50U3RhdGUpIHtcbiAgICAgICAgICBzY29wZS5kYXRhc2V0LmhvcHBlclN0YXRlID0gY3VycmVudFN0YXRlO1xuICAgICAgICAgIGxhc3RTdGF0ZSA9IGN1cnJlbnRTdGF0ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9ubG9hZDogZnVuY3Rpb24gb25sb2FkKCkge30sXG4gICAgICBvbmRyYWdzdGFydDogZnVuY3Rpb24gb25kcmFnc3RhcnQoKSB7fSxcbiAgICAgIG9uZHJhZzogZnVuY3Rpb24gb25kcmFnKCkge30sXG4gICAgICBvbmRyYWdlbmQ6IGZ1bmN0aW9uIG9uZHJhZ2VuZCgpIHt9LFxuICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgLy8gZGVzdHJveSBjbGllbnRcbiAgICAgICAgY2xpZW50LmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGFwaTtcbiAgfTtcblxuICB2YXIgbGlzdGVuaW5nID0gZmFsc2U7XG4gIHZhciBsaXN0ZW5lcnMkMSA9IFtdO1xuXG4gIHZhciBoYW5kbGVQYXN0ZSA9IGZ1bmN0aW9uIGhhbmRsZVBhc3RlKGUpIHtcbiAgICAvLyBpZiBpcyBwYXN0aW5nIGluIGlucHV0IG9yIHRleHRhcmVhIGFuZCB0aGUgdGFyZ2V0IGlzIG91dHNpZGUgb2YgYSBmaWxlcG9uZCBzY29wZSwgaWdub3JlXG4gICAgdmFyIGFjdGl2ZUVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICBpZiAoYWN0aXZlRWwgJiYgL3RleHRhcmVhfGlucHV0L2kudGVzdChhY3RpdmVFbC5ub2RlTmFtZSkpIHtcbiAgICAgIC8vIHRlc3QgdGV4dGFyZWEgb3IgaW5wdXQgaXMgY29udGFpbmVkIGluIGZpbGVwb25kIHJvb3RcbiAgICAgIHZhciBpblNjb3BlID0gZmFsc2U7XG4gICAgICB2YXIgZWxlbWVudCA9IGFjdGl2ZUVsO1xuICAgICAgd2hpbGUgKGVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdmaWxlcG9uZC0tcm9vdCcpKSB7XG4gICAgICAgICAgaW5TY29wZSA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpblNjb3BlKSByZXR1cm47XG4gICAgfVxuXG4gICAgcmVxdWVzdERhdGFUcmFuc2Zlckl0ZW1zKGUuY2xpcGJvYXJkRGF0YSkudGhlbihmdW5jdGlvbihmaWxlcykge1xuICAgICAgLy8gbm8gZmlsZXMgcmVjZWl2ZWRcbiAgICAgIGlmICghZmlsZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gbm90aWZ5IGxpc3RlbmVycyBvZiByZWNlaXZlZCBmaWxlc1xuICAgICAgbGlzdGVuZXJzJDEuZm9yRWFjaChmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gbGlzdGVuZXIoZmlsZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGxpc3RlbiA9IGZ1bmN0aW9uIGxpc3RlbihjYikge1xuICAgIC8vIGNhbid0IGFkZCB0d2ljZVxuICAgIGlmIChsaXN0ZW5lcnMkMS5pbmNsdWRlcyhjYikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhZGQgaW5pdGlhbCBsaXN0ZW5lclxuICAgIGxpc3RlbmVycyQxLnB1c2goY2IpO1xuXG4gICAgLy8gc2V0dXAgcGFzdGUgbGlzdGVuZXIgZm9yIGVudGlyZSBwYWdlXG4gICAgaWYgKGxpc3RlbmluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxpc3RlbmluZyA9IHRydWU7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCBoYW5kbGVQYXN0ZSk7XG4gIH07XG5cbiAgdmFyIHVubGlzdGVuID0gZnVuY3Rpb24gdW5saXN0ZW4obGlzdGVuZXIpIHtcbiAgICBhcnJheVJlbW92ZShsaXN0ZW5lcnMkMSwgbGlzdGVuZXJzJDEuaW5kZXhPZihsaXN0ZW5lcikpO1xuXG4gICAgLy8gY2xlYW4gdXBcbiAgICBpZiAobGlzdGVuZXJzJDEubGVuZ3RoID09PSAwKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwYXN0ZScsIGhhbmRsZVBhc3RlKTtcbiAgICAgIGxpc3RlbmluZyA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY3JlYXRlUGFzdGVyID0gZnVuY3Rpb24gY3JlYXRlUGFzdGVyKCkge1xuICAgIHZhciBjYiA9IGZ1bmN0aW9uIGNiKGZpbGVzKSB7XG4gICAgICBhcGkub25sb2FkKGZpbGVzKTtcbiAgICB9O1xuXG4gICAgdmFyIGFwaSA9IHtcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHVubGlzdGVuKGNiKTtcbiAgICAgIH0sXG4gICAgICBvbmxvYWQ6IGZ1bmN0aW9uIG9ubG9hZCgpIHt9XG4gICAgfTtcblxuICAgIGxpc3RlbihjYik7XG5cbiAgICByZXR1cm4gYXBpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBmaWxlIHZpZXdcbiAgICovXG4gIHZhciBjcmVhdGUkZCA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG4gICAgcm9vdC5lbGVtZW50LmlkID0gJ2ZpbGVwb25kLS1hc3Npc3RhbnQtJyArIHByb3BzLmlkO1xuICAgIGF0dHIocm9vdC5lbGVtZW50LCAncm9sZScsICdzdGF0dXMnKTtcbiAgICBhdHRyKHJvb3QuZWxlbWVudCwgJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICBhdHRyKHJvb3QuZWxlbWVudCwgJ2FyaWEtcmVsZXZhbnQnLCAnYWRkaXRpb25zJyk7XG4gIH07XG5cbiAgdmFyIGFkZEZpbGVzTm90aWZpY2F0aW9uVGltZW91dCA9IG51bGw7XG4gIHZhciBub3RpZmljYXRpb25DbGVhclRpbWVvdXQgPSBudWxsO1xuXG4gIHZhciBmaWxlbmFtZXMgPSBbXTtcblxuICB2YXIgYXNzaXN0ID0gZnVuY3Rpb24gYXNzaXN0KHJvb3QsIG1lc3NhZ2UpIHtcbiAgICByb290LmVsZW1lbnQudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICB9O1xuXG4gIHZhciBjbGVhciQxID0gZnVuY3Rpb24gY2xlYXIocm9vdCkge1xuICAgIHJvb3QuZWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICB9O1xuXG4gIHZhciBsaXN0TW9kaWZpZWQgPSBmdW5jdGlvbiBsaXN0TW9kaWZpZWQocm9vdCwgZmlsZW5hbWUsIGxhYmVsKSB7XG4gICAgdmFyIHRvdGFsID0gcm9vdC5xdWVyeSgnR0VUX1RPVEFMX0lURU1TJyk7XG4gICAgYXNzaXN0KFxuICAgICAgcm9vdCxcbiAgICAgIGxhYmVsICtcbiAgICAgICAgJyAnICtcbiAgICAgICAgZmlsZW5hbWUgK1xuICAgICAgICAnLCAnICtcbiAgICAgICAgdG90YWwgK1xuICAgICAgICAnICcgK1xuICAgICAgICAodG90YWwgPT09IDFcbiAgICAgICAgICA/IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX0NPVU5UX1NJTkdVTEFSJylcbiAgICAgICAgICA6IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX0NPVU5UX1BMVVJBTCcpKVxuICAgICk7XG5cbiAgICAvLyBjbGVhciBncm91cCBhZnRlciBzZXQgYW1vdW50IG9mIHRpbWUgc28gdGhlIHN0YXR1cyBpcyBub3QgcmVhZCB0d2ljZVxuICAgIGNsZWFyVGltZW91dChub3RpZmljYXRpb25DbGVhclRpbWVvdXQpO1xuICAgIG5vdGlmaWNhdGlvbkNsZWFyVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBjbGVhciQxKHJvb3QpO1xuICAgIH0sIDE1MDApO1xuICB9O1xuXG4gIHZhciBpc1VzaW5nRmlsZVBvbmQgPSBmdW5jdGlvbiBpc1VzaW5nRmlsZVBvbmQocm9vdCkge1xuICAgIHJldHVybiByb290LmVsZW1lbnQucGFyZW50Tm9kZS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbiAgfTtcblxuICB2YXIgaXRlbUFkZGVkID0gZnVuY3Rpb24gaXRlbUFkZGVkKF9yZWYyKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgYWN0aW9uID0gX3JlZjIuYWN0aW9uO1xuICAgIGlmICghaXNVc2luZ0ZpbGVQb25kKHJvb3QpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcm9vdC5lbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGFjdGlvbi5pZCk7XG4gICAgZmlsZW5hbWVzLnB1c2goaXRlbS5maWxlbmFtZSk7XG5cbiAgICBjbGVhclRpbWVvdXQoYWRkRmlsZXNOb3RpZmljYXRpb25UaW1lb3V0KTtcbiAgICBhZGRGaWxlc05vdGlmaWNhdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgbGlzdE1vZGlmaWVkKFxuICAgICAgICByb290LFxuICAgICAgICBmaWxlbmFtZXMuam9pbignLCAnKSxcbiAgICAgICAgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfQURERUQnKVxuICAgICAgKTtcblxuICAgICAgZmlsZW5hbWVzLmxlbmd0aCA9IDA7XG4gICAgfSwgNzUwKTtcbiAgfTtcblxuICB2YXIgaXRlbVJlbW92ZWQgPSBmdW5jdGlvbiBpdGVtUmVtb3ZlZChfcmVmMykge1xuICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWYzLmFjdGlvbjtcbiAgICBpZiAoIWlzVXNpbmdGaWxlUG9uZChyb290KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpdGVtID0gYWN0aW9uLml0ZW07XG4gICAgbGlzdE1vZGlmaWVkKHJvb3QsIGl0ZW0uZmlsZW5hbWUsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1JFTU9WRUQnKSk7XG4gIH07XG5cbiAgdmFyIGl0ZW1Qcm9jZXNzZWQgPSBmdW5jdGlvbiBpdGVtUHJvY2Vzc2VkKF9yZWY0KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmNC5yb290LFxuICAgICAgYWN0aW9uID0gX3JlZjQuYWN0aW9uO1xuICAgIC8vIHdpbGwgYWxzbyBub3RpZnkgdGhlIHVzZXIgd2hlbiBGaWxlUG9uZCBpcyBub3QgYmVpbmcgdXNlZCwgYXMgdGhlIHVzZXIgbWlnaHQgYmUgb2NjdXBpZWQgd2l0aCBvdGhlciBhY3Rpdml0aWVzIHdoaWxlIHVwbG9hZGluZyBhIGZpbGVcblxuICAgIHZhciBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBhY3Rpb24uaWQpO1xuICAgIHZhciBmaWxlbmFtZSA9IGl0ZW0uZmlsZW5hbWU7XG4gICAgdmFyIGxhYmVsID0gcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lOR19DT01QTEVURScpO1xuXG4gICAgYXNzaXN0KHJvb3QsIGZpbGVuYW1lICsgJyAnICsgbGFiZWwpO1xuICB9O1xuXG4gIHZhciBpdGVtUHJvY2Vzc2VkVW5kbyA9IGZ1bmN0aW9uIGl0ZW1Qcm9jZXNzZWRVbmRvKF9yZWY1KSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgYWN0aW9uID0gX3JlZjUuYWN0aW9uO1xuICAgIHZhciBpdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBhY3Rpb24uaWQpO1xuICAgIHZhciBmaWxlbmFtZSA9IGl0ZW0uZmlsZW5hbWU7XG4gICAgdmFyIGxhYmVsID0gcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lOR19BQk9SVEVEJyk7XG5cbiAgICBhc3Npc3Qocm9vdCwgZmlsZW5hbWUgKyAnICcgKyBsYWJlbCk7XG4gIH07XG5cbiAgdmFyIGl0ZW1FcnJvciA9IGZ1bmN0aW9uIGl0ZW1FcnJvcihfcmVmNikge1xuICAgIHZhciByb290ID0gX3JlZjYucm9vdCxcbiAgICAgIGFjdGlvbiA9IF9yZWY2LmFjdGlvbjtcbiAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgYWN0aW9uLmlkKTtcbiAgICB2YXIgZmlsZW5hbWUgPSBpdGVtLmZpbGVuYW1lO1xuXG4gICAgLy8gd2lsbCBhbHNvIG5vdGlmeSB0aGUgdXNlciB3aGVuIEZpbGVQb25kIGlzIG5vdCBiZWluZyB1c2VkLCBhcyB0aGUgdXNlciBtaWdodCBiZSBvY2N1cGllZCB3aXRoIG90aGVyIGFjdGl2aXRpZXMgd2hpbGUgdXBsb2FkaW5nIGEgZmlsZVxuXG4gICAgYXNzaXN0KHJvb3QsIGFjdGlvbi5zdGF0dXMubWFpbiArICcgJyArIGZpbGVuYW1lICsgJyAnICsgYWN0aW9uLnN0YXR1cy5zdWIpO1xuICB9O1xuXG4gIHZhciBhc3Npc3RhbnQgPSBjcmVhdGVWaWV3KHtcbiAgICBjcmVhdGU6IGNyZWF0ZSRkLFxuICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICB3cml0ZTogY3JlYXRlUm91dGUoe1xuICAgICAgRElEX0xPQURfSVRFTTogaXRlbUFkZGVkLFxuICAgICAgRElEX1JFTU9WRV9JVEVNOiBpdGVtUmVtb3ZlZCxcbiAgICAgIERJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkc6IGl0ZW1Qcm9jZXNzZWQsXG5cbiAgICAgIERJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkc6IGl0ZW1Qcm9jZXNzZWRVbmRvLFxuICAgICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IGl0ZW1Qcm9jZXNzZWRVbmRvLFxuXG4gICAgICBESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1I6IGl0ZW1FcnJvcixcbiAgICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IGl0ZW1FcnJvcixcbiAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IGl0ZW1FcnJvcixcbiAgICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1I6IGl0ZW1FcnJvclxuICAgIH0pLFxuXG4gICAgdGFnOiAnc3BhbicsXG4gICAgbmFtZTogJ2Fzc2lzdGFudCdcbiAgfSk7XG5cbiAgdmFyIHRvQ2FtZWxzID0gZnVuY3Rpb24gdG9DYW1lbHMoc3RyaW5nKSB7XG4gICAgdmFyIHNlcGFyYXRvciA9XG4gICAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICctJztcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UobmV3IFJlZ0V4cChzZXBhcmF0b3IgKyAnLicsICdnJyksIGZ1bmN0aW9uKHN1Yikge1xuICAgICAgcmV0dXJuIHN1Yi5jaGFyQXQoMSkudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZGVib3VuY2UgPSBmdW5jdGlvbiBkZWJvdW5jZShmdW5jKSB7XG4gICAgdmFyIGludGVydmFsID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTY7XG4gICAgdmFyIGltbWlkaWF0ZU9ubHkgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB0cnVlO1xuICAgIHZhciBsYXN0ID0gRGF0ZS5ub3coKTtcbiAgICB2YXIgdGltZW91dCA9IG51bGw7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwO1xuICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgX2tleSsrXG4gICAgICApIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblxuICAgICAgdmFyIGRpc3QgPSBEYXRlLm5vdygpIC0gbGFzdDtcblxuICAgICAgdmFyIGZuID0gZnVuY3Rpb24gZm4oKSB7XG4gICAgICAgIGxhc3QgPSBEYXRlLm5vdygpO1xuICAgICAgICBmdW5jLmFwcGx5KHZvaWQgMCwgYXJncyk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoZGlzdCA8IGludGVydmFsKSB7XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gZGVsYXkgYnkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBpbnRlcnZhbCBhbmQgZGlzdFxuICAgICAgICAvLyBmb3IgZXhhbXBsZTogaWYgZGlzdGFuY2UgaXMgMTAgbXMgYW5kIGludGVydmFsIGlzIDE2IG1zLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHdhaXQgYW4gYWRkaXRpb25hbCA2bXMgYmVmb3JlIGNhbGxpbmcgdGhlIGZ1bmN0aW9uKVxuICAgICAgICBpZiAoIWltbWlkaWF0ZU9ubHkpIHtcbiAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmbiwgaW50ZXJ2YWwgLSBkaXN0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZ28hXG4gICAgICAgIGZuKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICB2YXIgTUFYX0ZJTEVTX0xJTUlUID0gMTAwMDAwMDtcblxuICB2YXIgcHJldmVudCA9IGZ1bmN0aW9uIHByZXZlbnQoZSkge1xuICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZSRlID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcblxuICAgIC8vIEFkZCBpZFxuICAgIHZhciBpZCA9IHJvb3QucXVlcnkoJ0dFVF9JRCcpO1xuICAgIGlmIChpZCkge1xuICAgICAgcm9vdC5lbGVtZW50LmlkID0gaWQ7XG4gICAgfVxuXG4gICAgLy8gQWRkIGNsYXNzTmFtZVxuICAgIHZhciBjbGFzc05hbWUgPSByb290LnF1ZXJ5KCdHRVRfQ0xBU1NfTkFNRScpO1xuICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgIGNsYXNzTmFtZVxuICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gbmFtZS5sZW5ndGg7XG4gICAgICAgIH0pXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICByb290LmVsZW1lbnQuY2xhc3NMaXN0LmFkZChuYW1lKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRmllbGQgbGFiZWxcbiAgICByb290LnJlZi5sYWJlbCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoXG4gICAgICAgIGRyb3BMYWJlbCxcbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB0cmFuc2xhdGVZOiBudWxsLFxuICAgICAgICAgIGNhcHRpb246IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9JRExFJylcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICApO1xuXG4gICAgLy8gTGlzdCBvZiBpdGVtc1xuICAgIHJvb3QucmVmLmxpc3QgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGxpc3RTY3JvbGxlciwgeyB0cmFuc2xhdGVZOiBudWxsIH0pXG4gICAgKTtcblxuICAgIC8vIEJhY2tncm91bmQgcGFuZWxcbiAgICByb290LnJlZi5wYW5lbCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcocGFuZWwsIHsgbmFtZTogJ3BhbmVsLXJvb3QnIH0pXG4gICAgKTtcblxuICAgIC8vIEFzc2lzdGFudCBub3RpZmllcyBhc3Npc3RpdmUgdGVjaCB3aGVuIGNvbnRlbnQgY2hhbmdlc1xuICAgIHJvb3QucmVmLmFzc2lzdGFudCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoYXNzaXN0YW50LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpXG4gICAgKTtcblxuICAgIC8vIERhdGFcbiAgICByb290LnJlZi5kYXRhID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhkYXRhLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpXG4gICAgKTtcblxuICAgIC8vIE1lYXN1cmUgKHRlc3RzIGlmIGZpeGVkIGhlaWdodCB3YXMgc2V0KVxuICAgIC8vIERPQ1RZUEUgbmVlZHMgdG8gYmUgc2V0IGZvciB0aGlzIHRvIHdvcmtcbiAgICByb290LnJlZi5tZWFzdXJlID0gY3JlYXRlRWxlbWVudCQxKCdkaXYnKTtcbiAgICByb290LnJlZi5tZWFzdXJlLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICByb290LmVsZW1lbnQuYXBwZW5kQ2hpbGQocm9vdC5yZWYubWVhc3VyZSk7XG5cbiAgICAvLyBpbmZvcm1hdGlvbiBvbiB0aGUgcm9vdCBoZWlnaHQgb3IgZml4ZWQgaGVpZ2h0IHN0YXR1c1xuICAgIHJvb3QucmVmLmJvdW5kcyA9IG51bGw7XG5cbiAgICAvLyBhcHBseSBpbml0aWFsIHN0eWxlIHByb3BlcnRpZXNcbiAgICByb290XG4gICAgICAucXVlcnkoJ0dFVF9TVFlMRVMnKVxuICAgICAgLmZpbHRlcihmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICByZXR1cm4gIWlzRW1wdHkoc3R5bGUudmFsdWUpO1xuICAgICAgfSlcbiAgICAgIC5tYXAoZnVuY3Rpb24oX3JlZjIpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBfcmVmMi5uYW1lLFxuICAgICAgICAgIHZhbHVlID0gX3JlZjIudmFsdWU7XG4gICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0W25hbWVdID0gdmFsdWU7XG4gICAgICB9KTtcblxuICAgIC8vIGRldGVybWluZSBpZiB3aWR0aCBjaGFuZ2VkXG4gICAgcm9vdC5yZWYud2lkdGhQcmV2aW91cyA9IG51bGw7XG4gICAgcm9vdC5yZWYud2lkdGhVcGRhdGVkID0gZGVib3VuY2UoZnVuY3Rpb24oKSB7XG4gICAgICByb290LnJlZi51cGRhdGVIaXN0b3J5ID0gW107XG4gICAgICByb290LmRpc3BhdGNoKCdESURfUkVTSVpFX1JPT1QnKTtcbiAgICB9LCAyNTApO1xuXG4gICAgLy8gaGlzdG9yeSBvZiB1cGRhdGVzXG4gICAgcm9vdC5yZWYucHJldmlvdXNBc3BlY3RSYXRpbyA9IG51bGw7XG4gICAgcm9vdC5yZWYudXBkYXRlSGlzdG9yeSA9IFtdO1xuXG4gICAgLy8gcHJldmVudCBzY3JvbGxpbmcgYW5kIHpvb21pbmcgb24gaU9TIChvbmx5IGlmIHN1cHBvcnRzIHBvaW50ZXIgZXZlbnRzLCBmb3IgdGhlbiB3ZSBjYW4gZW5hYmxlIHJlb3JkZXIpXG4gICAgdmFyIGNhbkhvdmVyID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwb2ludGVyOiBmaW5lKSBhbmQgKGhvdmVyOiBob3ZlciknKVxuICAgICAgLm1hdGNoZXM7XG4gICAgdmFyIGhhc1BvaW50ZXJFdmVudHMgPSAnUG9pbnRlckV2ZW50JyBpbiB3aW5kb3c7XG4gICAgaWYgKHJvb3QucXVlcnkoJ0dFVF9BTExPV19SRU9SREVSJykgJiYgaGFzUG9pbnRlckV2ZW50cyAmJiAhY2FuSG92ZXIpIHtcbiAgICAgIHJvb3QuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBwcmV2ZW50LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVzdGFydCcsIHByZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgd3JpdGUkOSA9IGZ1bmN0aW9uIHdyaXRlKF9yZWYzKSB7XG4gICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgcHJvcHMgPSBfcmVmMy5wcm9wcyxcbiAgICAgIGFjdGlvbnMgPSBfcmVmMy5hY3Rpb25zO1xuXG4gICAgLy8gcm91dGUgYWN0aW9uc1xuICAgIHJvdXRlJDUoeyByb290OiByb290LCBwcm9wczogcHJvcHMsIGFjdGlvbnM6IGFjdGlvbnMgfSk7XG5cbiAgICAvLyBhcHBseSBzdHlsZSBwcm9wZXJ0aWVzXG4gICAgYWN0aW9uc1xuICAgICAgLmZpbHRlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIC9eRElEX1NFVF9TVFlMRV8vLnRlc3QoYWN0aW9uLnR5cGUpO1xuICAgICAgfSlcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiAhaXNFbXB0eShhY3Rpb24uZGF0YS52YWx1ZSk7XG4gICAgICB9KVxuICAgICAgLm1hcChmdW5jdGlvbihfcmVmNCkge1xuICAgICAgICB2YXIgdHlwZSA9IF9yZWY0LnR5cGUsXG4gICAgICAgICAgZGF0YSA9IF9yZWY0LmRhdGE7XG4gICAgICAgIHZhciBuYW1lID0gdG9DYW1lbHModHlwZS5zdWJzdHIoOCkudG9Mb3dlckNhc2UoKSwgJ18nKTtcbiAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXRbbmFtZV0gPSBkYXRhLnZhbHVlO1xuICAgICAgICByb290LmludmFsaWRhdGVMYXlvdXQoKTtcbiAgICAgIH0pO1xuXG4gICAgaWYgKHJvb3QucmVjdC5lbGVtZW50LmhpZGRlbikgcmV0dXJuO1xuXG4gICAgaWYgKHJvb3QucmVjdC5lbGVtZW50LndpZHRoICE9PSByb290LnJlZi53aWR0aFByZXZpb3VzKSB7XG4gICAgICByb290LnJlZi53aWR0aFByZXZpb3VzID0gcm9vdC5yZWN0LmVsZW1lbnQud2lkdGg7XG4gICAgICByb290LnJlZi53aWR0aFVwZGF0ZWQoKTtcbiAgICB9XG5cbiAgICAvLyBnZXQgYm94IGJvdW5kcywgd2UgZG8gdGhpcyBvbmx5IG9uY2VcbiAgICB2YXIgYm91bmRzID0gcm9vdC5yZWYuYm91bmRzO1xuICAgIGlmICghYm91bmRzKSB7XG4gICAgICBib3VuZHMgPSByb290LnJlZi5ib3VuZHMgPSBjYWxjdWxhdGVSb290Qm91bmRpbmdCb3hIZWlnaHQocm9vdCk7XG5cbiAgICAgIC8vIGRlc3Ryb3kgbWVhc3VyZSBlbGVtZW50XG4gICAgICByb290LmVsZW1lbnQucmVtb3ZlQ2hpbGQocm9vdC5yZWYubWVhc3VyZSk7XG4gICAgICByb290LnJlZi5tZWFzdXJlID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBnZXQgcXVpY2sgcmVmZXJlbmNlcyB0byB2YXJpb3VzIGhpZ2ggbGV2ZWwgcGFydHMgb2YgdGhlIHVwbG9hZCB0b29sXG4gICAgdmFyIF9yb290JHJlZiA9IHJvb3QucmVmLFxuICAgICAgaG9wcGVyID0gX3Jvb3QkcmVmLmhvcHBlcixcbiAgICAgIGxhYmVsID0gX3Jvb3QkcmVmLmxhYmVsLFxuICAgICAgbGlzdCA9IF9yb290JHJlZi5saXN0LFxuICAgICAgcGFuZWwgPSBfcm9vdCRyZWYucGFuZWw7XG5cbiAgICAvLyBzZXRzIGNvcnJlY3Qgc3RhdGUgdG8gaG9wcGVyIHNjb3BlXG4gICAgaWYgKGhvcHBlcikge1xuICAgICAgaG9wcGVyLnVwZGF0ZUhvcHBlclN0YXRlKCk7XG4gICAgfVxuXG4gICAgLy8gYm9vbCB0byBpbmRpY2F0ZSBpZiB3ZSdyZSBmdWxsIG9yIG5vdFxuICAgIHZhciBhc3BlY3RSYXRpbyA9IHJvb3QucXVlcnkoJ0dFVF9QQU5FTF9BU1BFQ1RfUkFUSU8nKTtcbiAgICB2YXIgaXNNdWx0aUl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfTVVMVElQTEUnKTtcbiAgICB2YXIgdG90YWxJdGVtcyA9IHJvb3QucXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpO1xuICAgIHZhciBtYXhJdGVtcyA9IGlzTXVsdGlJdGVtXG4gICAgICA/IHJvb3QucXVlcnkoJ0dFVF9NQVhfRklMRVMnKSB8fCBNQVhfRklMRVNfTElNSVRcbiAgICAgIDogMTtcbiAgICB2YXIgYXRNYXhDYXBhY2l0eSA9IHRvdGFsSXRlbXMgPT09IG1heEl0ZW1zO1xuXG4gICAgLy8gYWN0aW9uIHVzZWQgdG8gYWRkIGl0ZW1cbiAgICB2YXIgYWRkQWN0aW9uID0gYWN0aW9ucy5maW5kKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgcmV0dXJuIGFjdGlvbi50eXBlID09PSAnRElEX0FERF9JVEVNJztcbiAgICB9KTtcblxuICAgIC8vIGlmIHJlYWNoZWQgbWF4IGNhcGFjaXR5IGFuZCB3ZSd2ZSBqdXN0IHJlYWNoZWQgaXRcbiAgICBpZiAoYXRNYXhDYXBhY2l0eSAmJiBhZGRBY3Rpb24pIHtcbiAgICAgIC8vIGdldCBpbnRlcmFjdGlvbiB0eXBlXG4gICAgICB2YXIgaW50ZXJhY3Rpb25NZXRob2QgPSBhZGRBY3Rpb24uZGF0YS5pbnRlcmFjdGlvbk1ldGhvZDtcblxuICAgICAgLy8gaGlkZSBsYWJlbFxuICAgICAgbGFiZWwub3BhY2l0eSA9IDA7XG5cbiAgICAgIGlmIChpc011bHRpSXRlbSkge1xuICAgICAgICBsYWJlbC50cmFuc2xhdGVZID0gLTQwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGludGVyYWN0aW9uTWV0aG9kID09PSBJbnRlcmFjdGlvbk1ldGhvZC5BUEkpIHtcbiAgICAgICAgICBsYWJlbC50cmFuc2xhdGVYID0gNDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaW50ZXJhY3Rpb25NZXRob2QgPT09IEludGVyYWN0aW9uTWV0aG9kLkJST1dTRSkge1xuICAgICAgICAgIGxhYmVsLnRyYW5zbGF0ZVkgPSA0MDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYWJlbC50cmFuc2xhdGVZID0gMzA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFhdE1heENhcGFjaXR5KSB7XG4gICAgICBsYWJlbC5vcGFjaXR5ID0gMTtcbiAgICAgIGxhYmVsLnRyYW5zbGF0ZVggPSAwO1xuICAgICAgbGFiZWwudHJhbnNsYXRlWSA9IDA7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RJdGVtTWFyZ2luID0gY2FsY3VsYXRlTGlzdEl0ZW1NYXJnaW4ocm9vdCk7XG5cbiAgICB2YXIgbGlzdEhlaWdodCA9IGNhbGN1bGF0ZUxpc3RIZWlnaHQocm9vdCk7XG5cbiAgICB2YXIgbGFiZWxIZWlnaHQgPSBsYWJlbC5yZWN0LmVsZW1lbnQuaGVpZ2h0O1xuICAgIHZhciBjdXJyZW50TGFiZWxIZWlnaHQgPSAhaXNNdWx0aUl0ZW0gfHwgYXRNYXhDYXBhY2l0eSA/IDAgOiBsYWJlbEhlaWdodDtcblxuICAgIHZhciBsaXN0TWFyZ2luVG9wID0gYXRNYXhDYXBhY2l0eSA/IGxpc3QucmVjdC5lbGVtZW50Lm1hcmdpblRvcCA6IDA7XG4gICAgdmFyIGxpc3RNYXJnaW5Cb3R0b20gPVxuICAgICAgdG90YWxJdGVtcyA9PT0gMCA/IDAgOiBsaXN0LnJlY3QuZWxlbWVudC5tYXJnaW5Cb3R0b207XG5cbiAgICB2YXIgdmlzdWFsSGVpZ2h0ID1cbiAgICAgIGN1cnJlbnRMYWJlbEhlaWdodCArIGxpc3RNYXJnaW5Ub3AgKyBsaXN0SGVpZ2h0LnZpc3VhbCArIGxpc3RNYXJnaW5Cb3R0b207XG4gICAgdmFyIGJvdW5kc0hlaWdodCA9XG4gICAgICBjdXJyZW50TGFiZWxIZWlnaHQgKyBsaXN0TWFyZ2luVG9wICsgbGlzdEhlaWdodC5ib3VuZHMgKyBsaXN0TWFyZ2luQm90dG9tO1xuXG4gICAgLy8gbGluayBsaXN0IHRvIGxhYmVsIGJvdHRvbSBwb3NpdGlvblxuICAgIGxpc3QudHJhbnNsYXRlWSA9XG4gICAgICBNYXRoLm1heCgwLCBjdXJyZW50TGFiZWxIZWlnaHQgLSBsaXN0LnJlY3QuZWxlbWVudC5tYXJnaW5Ub3ApIC1cbiAgICAgIGxpc3RJdGVtTWFyZ2luLnRvcDtcblxuICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgLy8gZml4ZWQgYXNwZWN0IHJhdGlvXG5cbiAgICAgIC8vIGNhbGN1bGF0ZSBoZWlnaHQgYmFzZWQgb24gd2lkdGhcbiAgICAgIHZhciB3aWR0aCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoO1xuICAgICAgdmFyIGhlaWdodCA9IHdpZHRoICogYXNwZWN0UmF0aW87XG5cbiAgICAgIC8vIGNsZWFyIGhpc3RvcnkgaWYgYXNwZWN0IHJhdGlvIGhhcyBjaGFuZ2VkXG4gICAgICBpZiAoYXNwZWN0UmF0aW8gIT09IHJvb3QucmVmLnByZXZpb3VzQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgcm9vdC5yZWYucHJldmlvdXNBc3BlY3RSYXRpbyA9IGFzcGVjdFJhdGlvO1xuICAgICAgICByb290LnJlZi51cGRhdGVIaXN0b3J5ID0gW107XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbWVtYmVyIHRoaXMgd2lkdGhcbiAgICAgIHZhciBoaXN0b3J5ID0gcm9vdC5yZWYudXBkYXRlSGlzdG9yeTtcbiAgICAgIGhpc3RvcnkucHVzaCh3aWR0aCk7XG5cbiAgICAgIHZhciBNQVhfQk9VTkNFUyA9IDI7XG4gICAgICBpZiAoaGlzdG9yeS5sZW5ndGggPiBNQVhfQk9VTkNFUyAqIDIpIHtcbiAgICAgICAgdmFyIGwgPSBoaXN0b3J5Lmxlbmd0aDtcbiAgICAgICAgdmFyIGJvdHRvbSA9IGwgLSAxMDtcbiAgICAgICAgdmFyIGJvdW5jZXMgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gbDsgaSA+PSBib3R0b207IGktLSkge1xuICAgICAgICAgIGlmIChoaXN0b3J5W2ldID09PSBoaXN0b3J5W2kgLSAyXSkge1xuICAgICAgICAgICAgYm91bmNlcysrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChib3VuY2VzID49IE1BWF9CT1VOQ0VTKSB7XG4gICAgICAgICAgICAvLyBkb250IGFkanVzdCBoZWlnaHRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gZml4IGhlaWdodCBvZiBwYW5lbCBzbyBpdCBhZGhlcmVzIHRvIGFzcGVjdCByYXRpb1xuICAgICAgcGFuZWwuc2NhbGFibGUgPSBmYWxzZTtcbiAgICAgIHBhbmVsLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgLy8gYXZhaWxhYmxlIGhlaWdodCBmb3IgbGlzdFxuICAgICAgdmFyIGxpc3RBdmFpbGFibGVIZWlnaHQgPVxuICAgICAgICAvLyB0aGUgaGVpZ2h0IG9mIHRoZSBwYW5lbCBtaW51cyB0aGUgbGFiZWwgaGVpZ2h0XG4gICAgICAgIGhlaWdodCAtXG4gICAgICAgIGN1cnJlbnRMYWJlbEhlaWdodCAtXG4gICAgICAgIC8vIHRoZSByb29tIHdlIGxlYXZlIG9wZW4gYmV0d2VlbiB0aGUgZW5kIG9mIHRoZSBsaXN0IGFuZCB0aGUgcGFuZWwgYm90dG9tXG4gICAgICAgIChsaXN0TWFyZ2luQm90dG9tIC0gbGlzdEl0ZW1NYXJnaW4uYm90dG9tKSAtXG4gICAgICAgIC8vIGlmIHdlJ3JlIGZ1bGwgd2UgbmVlZCB0byBsZWF2ZSBzb21lIHJvb20gYmV0d2VlbiB0aGUgdG9wIG9mIHRoZSBwYW5lbCBhbmQgdGhlIGxpc3RcbiAgICAgICAgKGF0TWF4Q2FwYWNpdHkgPyBsaXN0TWFyZ2luVG9wIDogMCk7XG5cbiAgICAgIGlmIChsaXN0SGVpZ2h0LnZpc3VhbCA+IGxpc3RBdmFpbGFibGVIZWlnaHQpIHtcbiAgICAgICAgbGlzdC5vdmVyZmxvdyA9IGxpc3RBdmFpbGFibGVIZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaXN0Lm92ZXJmbG93ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0IGNvbnRhaW5lciBib3VuZHMgKHNvIHB1c2hlcyBzaWJsaW5ncyBkb3dud2FyZHMpXG4gICAgICByb290LmhlaWdodCA9IGhlaWdodDtcbiAgICB9IGVsc2UgaWYgKGJvdW5kcy5maXhlZEhlaWdodCkge1xuICAgICAgLy8gZml4ZWQgaGVpZ2h0XG5cbiAgICAgIC8vIGZpeCBoZWlnaHQgb2YgcGFuZWxcbiAgICAgIHBhbmVsLnNjYWxhYmxlID0gZmFsc2U7XG5cbiAgICAgIC8vIGF2YWlsYWJsZSBoZWlnaHQgZm9yIGxpc3RcbiAgICAgIHZhciBfbGlzdEF2YWlsYWJsZUhlaWdodCA9XG4gICAgICAgIC8vIHRoZSBoZWlnaHQgb2YgdGhlIHBhbmVsIG1pbnVzIHRoZSBsYWJlbCBoZWlnaHRcbiAgICAgICAgYm91bmRzLmZpeGVkSGVpZ2h0IC1cbiAgICAgICAgY3VycmVudExhYmVsSGVpZ2h0IC1cbiAgICAgICAgLy8gdGhlIHJvb20gd2UgbGVhdmUgb3BlbiBiZXR3ZWVuIHRoZSBlbmQgb2YgdGhlIGxpc3QgYW5kIHRoZSBwYW5lbCBib3R0b21cbiAgICAgICAgKGxpc3RNYXJnaW5Cb3R0b20gLSBsaXN0SXRlbU1hcmdpbi5ib3R0b20pIC1cbiAgICAgICAgLy8gaWYgd2UncmUgZnVsbCB3ZSBuZWVkIHRvIGxlYXZlIHNvbWUgcm9vbSBiZXR3ZWVuIHRoZSB0b3Agb2YgdGhlIHBhbmVsIGFuZCB0aGUgbGlzdFxuICAgICAgICAoYXRNYXhDYXBhY2l0eSA/IGxpc3RNYXJnaW5Ub3AgOiAwKTtcblxuICAgICAgLy8gc2V0IGxpc3QgaGVpZ2h0XG4gICAgICBpZiAobGlzdEhlaWdodC52aXN1YWwgPiBfbGlzdEF2YWlsYWJsZUhlaWdodCkge1xuICAgICAgICBsaXN0Lm92ZXJmbG93ID0gX2xpc3RBdmFpbGFibGVIZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaXN0Lm92ZXJmbG93ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gbm8gbmVlZCB0byBzZXQgY29udGFpbmVyIGJvdW5kcyBhcyB0aGVzZSBhcmUgaGFuZGxlcyBieSBDU1MgZml4ZWQgaGVpZ2h0XG4gICAgfSBlbHNlIGlmIChib3VuZHMuY2FwcGVkSGVpZ2h0KSB7XG4gICAgICAvLyBtYXgtaGVpZ2h0XG5cbiAgICAgIC8vIG5vdCBhIGZpeGVkIGhlaWdodCBwYW5lbFxuICAgICAgdmFyIGlzQ2FwcGVkSGVpZ2h0ID0gdmlzdWFsSGVpZ2h0ID49IGJvdW5kcy5jYXBwZWRIZWlnaHQ7XG4gICAgICB2YXIgcGFuZWxIZWlnaHQgPSBNYXRoLm1pbihib3VuZHMuY2FwcGVkSGVpZ2h0LCB2aXN1YWxIZWlnaHQpO1xuICAgICAgcGFuZWwuc2NhbGFibGUgPSB0cnVlO1xuICAgICAgcGFuZWwuaGVpZ2h0ID0gaXNDYXBwZWRIZWlnaHRcbiAgICAgICAgPyBwYW5lbEhlaWdodFxuICAgICAgICA6IHBhbmVsSGVpZ2h0IC0gbGlzdEl0ZW1NYXJnaW4udG9wIC0gbGlzdEl0ZW1NYXJnaW4uYm90dG9tO1xuXG4gICAgICAvLyBhdmFpbGFibGUgaGVpZ2h0IGZvciBsaXN0XG4gICAgICB2YXIgX2xpc3RBdmFpbGFibGVIZWlnaHQyID1cbiAgICAgICAgLy8gdGhlIGhlaWdodCBvZiB0aGUgcGFuZWwgbWludXMgdGhlIGxhYmVsIGhlaWdodFxuICAgICAgICBwYW5lbEhlaWdodCAtXG4gICAgICAgIGN1cnJlbnRMYWJlbEhlaWdodCAtXG4gICAgICAgIC8vIHRoZSByb29tIHdlIGxlYXZlIG9wZW4gYmV0d2VlbiB0aGUgZW5kIG9mIHRoZSBsaXN0IGFuZCB0aGUgcGFuZWwgYm90dG9tXG4gICAgICAgIChsaXN0TWFyZ2luQm90dG9tIC0gbGlzdEl0ZW1NYXJnaW4uYm90dG9tKSAtXG4gICAgICAgIC8vIGlmIHdlJ3JlIGZ1bGwgd2UgbmVlZCB0byBsZWF2ZSBzb21lIHJvb20gYmV0d2VlbiB0aGUgdG9wIG9mIHRoZSBwYW5lbCBhbmQgdGhlIGxpc3RcbiAgICAgICAgKGF0TWF4Q2FwYWNpdHkgPyBsaXN0TWFyZ2luVG9wIDogMCk7XG5cbiAgICAgIC8vIHNldCBsaXN0IGhlaWdodCAoaWYgaXMgb3ZlcmZsb3dpbmcpXG4gICAgICBpZiAoXG4gICAgICAgIHZpc3VhbEhlaWdodCA+IGJvdW5kcy5jYXBwZWRIZWlnaHQgJiZcbiAgICAgICAgbGlzdEhlaWdodC52aXN1YWwgPiBfbGlzdEF2YWlsYWJsZUhlaWdodDJcbiAgICAgICkge1xuICAgICAgICBsaXN0Lm92ZXJmbG93ID0gX2xpc3RBdmFpbGFibGVIZWlnaHQyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC5vdmVyZmxvdyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBjb250YWluZXIgYm91bmRzIChzbyBwdXNoZXMgc2libGluZ3MgZG93bndhcmRzKVxuICAgICAgcm9vdC5oZWlnaHQgPSBNYXRoLm1pbihcbiAgICAgICAgYm91bmRzLmNhcHBlZEhlaWdodCxcbiAgICAgICAgYm91bmRzSGVpZ2h0IC0gbGlzdEl0ZW1NYXJnaW4udG9wIC0gbGlzdEl0ZW1NYXJnaW4uYm90dG9tXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBmbGV4aWJsZSBoZWlnaHRcblxuICAgICAgLy8gbm90IGEgZml4ZWQgaGVpZ2h0IHBhbmVsXG4gICAgICB2YXIgaXRlbU1hcmdpbiA9XG4gICAgICAgIHRvdGFsSXRlbXMgPiAwID8gbGlzdEl0ZW1NYXJnaW4udG9wICsgbGlzdEl0ZW1NYXJnaW4uYm90dG9tIDogMDtcbiAgICAgIHBhbmVsLnNjYWxhYmxlID0gdHJ1ZTtcbiAgICAgIHBhbmVsLmhlaWdodCA9IE1hdGgubWF4KGxhYmVsSGVpZ2h0LCB2aXN1YWxIZWlnaHQgLSBpdGVtTWFyZ2luKTtcblxuICAgICAgLy8gc2V0IGNvbnRhaW5lciBib3VuZHMgKHNvIHB1c2hlcyBzaWJsaW5ncyBkb3dud2FyZHMpXG4gICAgICByb290LmhlaWdodCA9IE1hdGgubWF4KGxhYmVsSGVpZ2h0LCBib3VuZHNIZWlnaHQgLSBpdGVtTWFyZ2luKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNhbGN1bGF0ZUxpc3RJdGVtTWFyZ2luID0gZnVuY3Rpb24gY2FsY3VsYXRlTGlzdEl0ZW1NYXJnaW4ocm9vdCkge1xuICAgIHZhciBpdGVtID0gcm9vdC5yZWYubGlzdC5jaGlsZFZpZXdzWzBdLmNoaWxkVmlld3NbMF07XG4gICAgcmV0dXJuIGl0ZW1cbiAgICAgID8ge1xuICAgICAgICAgIHRvcDogaXRlbS5yZWN0LmVsZW1lbnQubWFyZ2luVG9wLFxuICAgICAgICAgIGJvdHRvbTogaXRlbS5yZWN0LmVsZW1lbnQubWFyZ2luQm90dG9tXG4gICAgICAgIH1cbiAgICAgIDoge1xuICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICBib3R0b206IDBcbiAgICAgICAgfTtcbiAgfTtcblxuICB2YXIgY2FsY3VsYXRlTGlzdEhlaWdodCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUxpc3RIZWlnaHQocm9vdCkge1xuICAgIHZhciB2aXN1YWwgPSAwO1xuICAgIHZhciBib3VuZHMgPSAwO1xuXG4gICAgLy8gZ2V0IGZpbGUgbGlzdCByZWZlcmVuY2VcbiAgICB2YXIgc2Nyb2xsTGlzdCA9IHJvb3QucmVmLmxpc3Q7XG4gICAgdmFyIGl0ZW1MaXN0ID0gc2Nyb2xsTGlzdC5jaGlsZFZpZXdzWzBdO1xuICAgIHZhciB2aXNpYmxlQ2hpbGRyZW4gPSBpdGVtTGlzdC5jaGlsZFZpZXdzLmZpbHRlcihmdW5jdGlvbihjaGlsZCkge1xuICAgICAgcmV0dXJuIGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQ7XG4gICAgfSk7XG4gICAgdmFyIGNoaWxkcmVuID0gcm9vdFxuICAgICAgLnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJylcbiAgICAgIC5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gdmlzaWJsZUNoaWxkcmVuLmZpbmQoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQuaWQgPT09IGl0ZW0uaWQ7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pO1xuXG4gICAgLy8gbm8gY2hpbGRyZW4sIGRvbmUhXG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHsgdmlzdWFsOiB2aXN1YWwsIGJvdW5kczogYm91bmRzIH07XG5cbiAgICB2YXIgaG9yaXpvbnRhbFNwYWNlID0gaXRlbUxpc3QucmVjdC5lbGVtZW50LndpZHRoO1xuICAgIHZhciBkcmFnSW5kZXggPSBnZXRJdGVtSW5kZXhCeVBvc2l0aW9uKFxuICAgICAgaXRlbUxpc3QsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIHNjcm9sbExpc3QuZHJhZ0Nvb3JkaW5hdGVzXG4gICAgKTtcblxuICAgIHZhciBjaGlsZFJlY3QgPSBjaGlsZHJlblswXS5yZWN0LmVsZW1lbnQ7XG5cbiAgICB2YXIgaXRlbVZlcnRpY2FsTWFyZ2luID0gY2hpbGRSZWN0Lm1hcmdpblRvcCArIGNoaWxkUmVjdC5tYXJnaW5Cb3R0b207XG4gICAgdmFyIGl0ZW1Ib3Jpem9udGFsTWFyZ2luID0gY2hpbGRSZWN0Lm1hcmdpbkxlZnQgKyBjaGlsZFJlY3QubWFyZ2luUmlnaHQ7XG5cbiAgICB2YXIgaXRlbVdpZHRoID0gY2hpbGRSZWN0LndpZHRoICsgaXRlbUhvcml6b250YWxNYXJnaW47XG4gICAgdmFyIGl0ZW1IZWlnaHQgPSBjaGlsZFJlY3QuaGVpZ2h0ICsgaXRlbVZlcnRpY2FsTWFyZ2luO1xuXG4gICAgdmFyIG5ld0l0ZW0gPSB0eXBlb2YgZHJhZ0luZGV4ICE9PSAndW5kZWZpbmVkJyAmJiBkcmFnSW5kZXggPj0gMCA/IDEgOiAwO1xuICAgIHZhciByZW1vdmVkSXRlbSA9IGNoaWxkcmVuLmZpbmQoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIHJldHVybiBjaGlsZC5tYXJrZWRGb3JSZW1vdmFsICYmIGNoaWxkLm9wYWNpdHkgPCAwLjQ1O1xuICAgIH0pXG4gICAgICA/IC0xXG4gICAgICA6IDA7XG4gICAgdmFyIHZlcnRpY2FsSXRlbUNvdW50ID0gY2hpbGRyZW4ubGVuZ3RoICsgbmV3SXRlbSArIHJlbW92ZWRJdGVtO1xuICAgIHZhciBpdGVtc1BlclJvdyA9IE1hdGgucm91bmQoaG9yaXpvbnRhbFNwYWNlIC8gaXRlbVdpZHRoKTtcblxuICAgIC8vIHN0YWNrXG4gICAgaWYgKGl0ZW1zUGVyUm93ID09PSAxKSB7XG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IGl0ZW0ucmVjdC5lbGVtZW50LmhlaWdodCArIGl0ZW1WZXJ0aWNhbE1hcmdpbjtcbiAgICAgICAgYm91bmRzICs9IGhlaWdodDtcbiAgICAgICAgdmlzdWFsICs9IGhlaWdodCAqIGl0ZW0ub3BhY2l0eTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBncmlkXG4gICAgZWxzZSB7XG4gICAgICBib3VuZHMgPSBNYXRoLmNlaWwodmVydGljYWxJdGVtQ291bnQgLyBpdGVtc1BlclJvdykgKiBpdGVtSGVpZ2h0O1xuICAgICAgdmlzdWFsID0gYm91bmRzO1xuICAgIH1cblxuICAgIHJldHVybiB7IHZpc3VhbDogdmlzdWFsLCBib3VuZHM6IGJvdW5kcyB9O1xuICB9O1xuXG4gIHZhciBjYWxjdWxhdGVSb290Qm91bmRpbmdCb3hIZWlnaHQgPSBmdW5jdGlvbiBjYWxjdWxhdGVSb290Qm91bmRpbmdCb3hIZWlnaHQoXG4gICAgcm9vdFxuICApIHtcbiAgICB2YXIgaGVpZ2h0ID0gcm9vdC5yZWYubWVhc3VyZUhlaWdodCB8fCBudWxsO1xuICAgIHZhciBjYXBwZWRIZWlnaHQgPSBwYXJzZUludChyb290LnN0eWxlLm1heEhlaWdodCwgMTApIHx8IG51bGw7XG4gICAgdmFyIGZpeGVkSGVpZ2h0ID0gaGVpZ2h0ID09PSAwID8gbnVsbCA6IGhlaWdodDtcblxuICAgIHJldHVybiB7XG4gICAgICBjYXBwZWRIZWlnaHQ6IGNhcHBlZEhlaWdodCxcbiAgICAgIGZpeGVkSGVpZ2h0OiBmaXhlZEhlaWdodFxuICAgIH07XG4gIH07XG5cbiAgdmFyIGV4Y2VlZHNNYXhGaWxlcyA9IGZ1bmN0aW9uIGV4Y2VlZHNNYXhGaWxlcyhyb290LCBpdGVtcykge1xuICAgIHZhciBhbGxvd1JlcGxhY2UgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfUkVQTEFDRScpO1xuICAgIHZhciBhbGxvd011bHRpcGxlID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX01VTFRJUExFJyk7XG4gICAgdmFyIHRvdGFsSXRlbXMgPSByb290LnF1ZXJ5KCdHRVRfVE9UQUxfSVRFTVMnKTtcbiAgICB2YXIgbWF4SXRlbXMgPSByb290LnF1ZXJ5KCdHRVRfTUFYX0ZJTEVTJyk7XG5cbiAgICAvLyB0b3RhbCBhbW91bnQgb2YgaXRlbXMgYmVpbmcgZHJhZ2dlZFxuICAgIHZhciB0b3RhbEJyb3dzZUl0ZW1zID0gaXRlbXMubGVuZ3RoO1xuXG4gICAgLy8gaWYgZG9lcyBub3QgYWxsb3cgbXVsdGlwbGUgaXRlbXMgYW5kIGRyYWdnaW5nIG1vcmUgdGhhbiBvbmUgaXRlbVxuICAgIGlmICghYWxsb3dNdWx0aXBsZSAmJiB0b3RhbEJyb3dzZUl0ZW1zID4gMSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gbGltaXQgbWF4IGl0ZW1zIHRvIG9uZSBpZiBub3QgYWxsb3dlZCB0byBkcm9wIG11bHRpcGxlIGl0ZW1zXG4gICAgbWF4SXRlbXMgPSBhbGxvd011bHRpcGxlID8gbWF4SXRlbXMgOiBhbGxvd1JlcGxhY2UgPyBtYXhJdGVtcyA6IDE7XG5cbiAgICAvLyBubyBtb3JlIHJvb20/XG4gICAgdmFyIGhhc01heEl0ZW1zID0gaXNJbnQobWF4SXRlbXMpO1xuICAgIGlmIChoYXNNYXhJdGVtcyAmJiB0b3RhbEl0ZW1zICsgdG90YWxCcm93c2VJdGVtcyA+IG1heEl0ZW1zKSB7XG4gICAgICByb290LmRpc3BhdGNoKCdESURfVEhST1dfTUFYX0ZJTEVTJywge1xuICAgICAgICBzb3VyY2U6IGl0ZW1zLFxuICAgICAgICBlcnJvcjogY3JlYXRlUmVzcG9uc2UoJ3dhcm5pbmcnLCAwLCAnTWF4IGZpbGVzJylcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdmFyIGdldERyYWdJbmRleCA9IGZ1bmN0aW9uIGdldERyYWdJbmRleChsaXN0LCBjaGlsZHJlbiwgcG9zaXRpb24pIHtcbiAgICB2YXIgaXRlbUxpc3QgPSBsaXN0LmNoaWxkVmlld3NbMF07XG4gICAgcmV0dXJuIGdldEl0ZW1JbmRleEJ5UG9zaXRpb24oaXRlbUxpc3QsIGNoaWxkcmVuLCB7XG4gICAgICBsZWZ0OiBwb3NpdGlvbi5zY29wZUxlZnQgLSBpdGVtTGlzdC5yZWN0LmVsZW1lbnQubGVmdCxcbiAgICAgIHRvcDpcbiAgICAgICAgcG9zaXRpb24uc2NvcGVUb3AgLVxuICAgICAgICAobGlzdC5yZWN0Lm91dGVyLnRvcCArXG4gICAgICAgICAgbGlzdC5yZWN0LmVsZW1lbnQubWFyZ2luVG9wICtcbiAgICAgICAgICBsaXN0LnJlY3QuZWxlbWVudC5zY3JvbGxUb3ApXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBvciBkaXNhYmxlIGZpbGUgZHJvcCBmdW5jdGlvbmFsaXR5XG4gICAqL1xuICB2YXIgdG9nZ2xlRHJvcCA9IGZ1bmN0aW9uIHRvZ2dsZURyb3Aocm9vdCkge1xuICAgIHZhciBpc0FsbG93ZWQgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfRFJPUCcpO1xuICAgIHZhciBpc0Rpc2FibGVkID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJyk7XG4gICAgdmFyIGVuYWJsZWQgPSBpc0FsbG93ZWQgJiYgIWlzRGlzYWJsZWQ7XG4gICAgaWYgKGVuYWJsZWQgJiYgIXJvb3QucmVmLmhvcHBlcikge1xuICAgICAgdmFyIGhvcHBlciA9IGNyZWF0ZUhvcHBlcihcbiAgICAgICAgcm9vdC5lbGVtZW50LFxuICAgICAgICBmdW5jdGlvbihpdGVtcykge1xuICAgICAgICAgIC8vIHRoZXNlIGZpbGVzIGRvbid0IGZpdCBzbyBzdG9wIGhlcmVcbiAgICAgICAgICBpZiAoZXhjZWVkc01heEZpbGVzKHJvb3QsIGl0ZW1zKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgLy8gYWxsb3cgcXVpY2sgdmFsaWRhdGlvbiBvZiBkcm9wcGVkIGl0ZW1zXG4gICAgICAgICAgdmFyIGJlZm9yZURyb3BGaWxlID1cbiAgICAgICAgICAgIHJvb3QucXVlcnkoJ0dFVF9CRUZPUkVfRFJPUF9GSUxFJykgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBhbGwgaXRlbXMgc2hvdWxkIGJlIHZhbGlkYXRlZCBieSBhbGwgZmlsdGVycyBhcyB2YWxpZFxuICAgICAgICAgIHZhciBkcm9wVmFsaWRhdGlvbiA9IHJvb3QucXVlcnkoJ0dFVF9EUk9QX1ZBTElEQVRJT04nKTtcbiAgICAgICAgICByZXR1cm4gZHJvcFZhbGlkYXRpb25cbiAgICAgICAgICAgID8gaXRlbXMuZXZlcnkoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICBhcHBseUZpbHRlcnMoJ0FMTE9XX0hPUFBFUl9JVEVNJywgaXRlbSwge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeTogcm9vdC5xdWVyeVxuICAgICAgICAgICAgICAgICAgfSkuZXZlcnkoZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgPT09IHRydWU7XG4gICAgICAgICAgICAgICAgICB9KSAmJiBiZWZvcmVEcm9wRmlsZShpdGVtKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBmaWx0ZXJJdGVtczogZnVuY3Rpb24gZmlsdGVySXRlbXMoaXRlbXMpIHtcbiAgICAgICAgICAgIHZhciBpZ25vcmVkRmlsZXMgPSByb290LnF1ZXJ5KCdHRVRfSUdOT1JFRF9GSUxFUycpO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW1zLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgIGlmIChpc0ZpbGUoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWlnbm9yZWRGaWxlcy5pbmNsdWRlcyhpdGVtLm5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNhdGNoZXNEcm9wc09uUGFnZTogcm9vdC5xdWVyeSgnR0VUX0RST1BfT05fUEFHRScpLFxuICAgICAgICAgIHJlcXVpcmVzRHJvcE9uRWxlbWVudDogcm9vdC5xdWVyeSgnR0VUX0RST1BfT05fRUxFTUVOVCcpXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGhvcHBlci5vbmxvYWQgPSBmdW5jdGlvbihpdGVtcywgcG9zaXRpb24pIHtcbiAgICAgICAgLy8gZ2V0IGl0ZW0gY2hpbGRyZW4gZWxlbWVudHMgYW5kIHNvcnQgYmFzZWQgb24gbGlzdCBzb3J0XG4gICAgICAgIHZhciBsaXN0ID0gcm9vdC5yZWYubGlzdC5jaGlsZFZpZXdzWzBdO1xuICAgICAgICB2YXIgdmlzaWJsZUNoaWxkcmVuID0gbGlzdC5jaGlsZFZpZXdzLmZpbHRlcihmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgIHJldHVybiBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0O1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gcm9vdFxuICAgICAgICAgIC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpXG4gICAgICAgICAgLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlzaWJsZUNoaWxkcmVuLmZpbmQoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmlkID09PSBpdGVtLmlkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGdvXG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0FERF9JVEVNUycsIHtcbiAgICAgICAgICBpdGVtczogaXRlbXMsXG4gICAgICAgICAgaW5kZXg6IGdldERyYWdJbmRleChyb290LnJlZi5saXN0LCBjaGlsZHJlbiwgcG9zaXRpb24pLFxuICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBJbnRlcmFjdGlvbk1ldGhvZC5EUk9QXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9EUk9QJywgeyBwb3NpdGlvbjogcG9zaXRpb24gfSk7XG5cbiAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0VORF9EUkFHJywgeyBwb3NpdGlvbjogcG9zaXRpb24gfSk7XG4gICAgICB9O1xuXG4gICAgICBob3BwZXIub25kcmFnc3RhcnQgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICByb290LmRpc3BhdGNoKCdESURfU1RBUlRfRFJBRycsIHsgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xuICAgICAgfTtcblxuICAgICAgaG9wcGVyLm9uZHJhZyA9IGRlYm91bmNlKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9EUkFHJywgeyBwb3NpdGlvbjogcG9zaXRpb24gfSk7XG4gICAgICB9KTtcblxuICAgICAgaG9wcGVyLm9uZHJhZ2VuZCA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9FTkRfRFJBRycsIHsgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xuICAgICAgfTtcblxuICAgICAgcm9vdC5yZWYuaG9wcGVyID0gaG9wcGVyO1xuXG4gICAgICByb290LnJlZi5kcmlwID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcocm9vdC5jcmVhdGVDaGlsZFZpZXcoZHJpcCkpO1xuICAgIH0gZWxzZSBpZiAoIWVuYWJsZWQgJiYgcm9vdC5yZWYuaG9wcGVyKSB7XG4gICAgICByb290LnJlZi5ob3BwZXIuZGVzdHJveSgpO1xuICAgICAgcm9vdC5yZWYuaG9wcGVyID0gbnVsbDtcbiAgICAgIHJvb3QucmVtb3ZlQ2hpbGRWaWV3KHJvb3QucmVmLmRyaXApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgYnJvd3NlIGZ1bmN0aW9uYWxpdHlcbiAgICovXG4gIHZhciB0b2dnbGVCcm93c2UgPSBmdW5jdGlvbiB0b2dnbGVCcm93c2Uocm9vdCwgcHJvcHMpIHtcbiAgICB2YXIgaXNBbGxvd2VkID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX0JST1dTRScpO1xuICAgIHZhciBpc0Rpc2FibGVkID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJyk7XG4gICAgdmFyIGVuYWJsZWQgPSBpc0FsbG93ZWQgJiYgIWlzRGlzYWJsZWQ7XG4gICAgaWYgKGVuYWJsZWQgJiYgIXJvb3QucmVmLmJyb3dzZXIpIHtcbiAgICAgIHJvb3QucmVmLmJyb3dzZXIgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoXG4gICAgICAgICAgYnJvd3NlcixcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiBvbmxvYWQoaXRlbXMpIHtcbiAgICAgICAgICAgICAgLy8gdGhlc2UgZmlsZXMgZG9uJ3QgZml0IHNvIHN0b3AgaGVyZVxuICAgICAgICAgICAgICBpZiAoZXhjZWVkc01heEZpbGVzKHJvb3QsIGl0ZW1zKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgIC8vIGFkZCBpdGVtcyFcbiAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnQUREX0lURU1TJywge1xuICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgICAgICAgICAgICBpbmRleDogLTEsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IEludGVyYWN0aW9uTWV0aG9kLkJST1dTRVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApLFxuXG4gICAgICAgIDBcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICghZW5hYmxlZCAmJiByb290LnJlZi5icm93c2VyKSB7XG4gICAgICByb290LnJlbW92ZUNoaWxkVmlldyhyb290LnJlZi5icm93c2VyKTtcbiAgICAgIHJvb3QucmVmLmJyb3dzZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRW5hYmxlIG9yIGRpc2FibGUgcGFzdGUgZnVuY3Rpb25hbGl0eVxuICAgKi9cbiAgdmFyIHRvZ2dsZVBhc3RlID0gZnVuY3Rpb24gdG9nZ2xlUGFzdGUocm9vdCkge1xuICAgIHZhciBpc0FsbG93ZWQgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfUEFTVEUnKTtcbiAgICB2YXIgaXNEaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgIHZhciBlbmFibGVkID0gaXNBbGxvd2VkICYmICFpc0Rpc2FibGVkO1xuICAgIGlmIChlbmFibGVkICYmICFyb290LnJlZi5wYXN0ZXIpIHtcbiAgICAgIHJvb3QucmVmLnBhc3RlciA9IGNyZWF0ZVBhc3RlcigpO1xuICAgICAgcm9vdC5yZWYucGFzdGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ0FERF9JVEVNUycsIHtcbiAgICAgICAgICBpdGVtczogaXRlbXMsXG4gICAgICAgICAgaW5kZXg6IC0xLFxuICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBJbnRlcmFjdGlvbk1ldGhvZC5QQVNURVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICghZW5hYmxlZCAmJiByb290LnJlZi5wYXN0ZXIpIHtcbiAgICAgIHJvb3QucmVmLnBhc3Rlci5kZXN0cm95KCk7XG4gICAgICByb290LnJlZi5wYXN0ZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUm91dGUgYWN0aW9uc1xuICAgKi9cbiAgdmFyIHJvdXRlJDUgPSBjcmVhdGVSb3V0ZSh7XG4gICAgRElEX1NFVF9BTExPV19CUk9XU0U6IGZ1bmN0aW9uIERJRF9TRVRfQUxMT1dfQlJPV1NFKF9yZWY1KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY1LnJvb3QsXG4gICAgICAgIHByb3BzID0gX3JlZjUucHJvcHM7XG4gICAgICB0b2dnbGVCcm93c2Uocm9vdCwgcHJvcHMpO1xuICAgIH0sXG4gICAgRElEX1NFVF9BTExPV19EUk9QOiBmdW5jdGlvbiBESURfU0VUX0FMTE9XX0RST1AoX3JlZjYpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjYucm9vdDtcbiAgICAgIHRvZ2dsZURyb3Aocm9vdCk7XG4gICAgfSxcbiAgICBESURfU0VUX0FMTE9XX1BBU1RFOiBmdW5jdGlvbiBESURfU0VUX0FMTE9XX1BBU1RFKF9yZWY3KSB7XG4gICAgICB2YXIgcm9vdCA9IF9yZWY3LnJvb3Q7XG4gICAgICB0b2dnbGVQYXN0ZShyb290KTtcbiAgICB9LFxuICAgIERJRF9TRVRfRElTQUJMRUQ6IGZ1bmN0aW9uIERJRF9TRVRfRElTQUJMRUQoX3JlZjgpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjgucm9vdCxcbiAgICAgICAgcHJvcHMgPSBfcmVmOC5wcm9wcztcbiAgICAgIHRvZ2dsZURyb3Aocm9vdCk7XG4gICAgICB0b2dnbGVQYXN0ZShyb290KTtcbiAgICAgIHRvZ2dsZUJyb3dzZShyb290LCBwcm9wcyk7XG4gICAgICB2YXIgaXNEaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgICAgaWYgKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuZGlzYWJsZWQgPSAnZGlzYWJsZWQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZGVsZXRlIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRpc2FibGVkOyA8PSB0aGlzIGRvZXMgbm90IHdvcmsgb24gaU9TIDEwXG4gICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZhciByb290ID0gY3JlYXRlVmlldyh7XG4gICAgbmFtZTogJ3Jvb3QnLFxuICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoX3JlZjkpIHtcbiAgICAgIHZhciByb290ID0gX3JlZjkucm9vdDtcbiAgICAgIGlmIChyb290LnJlZi5tZWFzdXJlKSB7XG4gICAgICAgIHJvb3QucmVmLm1lYXN1cmVIZWlnaHQgPSByb290LnJlZi5tZWFzdXJlLm9mZnNldEhlaWdodDtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZTogY3JlYXRlJGUsXG4gICAgd3JpdGU6IHdyaXRlJDksXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShfcmVmMTApIHtcbiAgICAgIHZhciByb290ID0gX3JlZjEwLnJvb3Q7XG4gICAgICBpZiAocm9vdC5yZWYucGFzdGVyKSB7XG4gICAgICAgIHJvb3QucmVmLnBhc3Rlci5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgICBpZiAocm9vdC5yZWYuaG9wcGVyKSB7XG4gICAgICAgIHJvb3QucmVmLmhvcHBlci5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgcHJldmVudCk7XG4gICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZ2VzdHVyZXN0YXJ0JywgcHJldmVudCk7XG4gICAgfSxcbiAgICBtaXhpbnM6IHtcbiAgICAgIHN0eWxlczogWydoZWlnaHQnXVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gY3JlYXRlcyB0aGUgYXBwXG4gIHZhciBjcmVhdGVBcHAgPSBmdW5jdGlvbiBjcmVhdGVBcHAoKSB7XG4gICAgdmFyIGluaXRpYWxPcHRpb25zID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgLy8gbGV0IGVsZW1lbnRcbiAgICB2YXIgb3JpZ2luYWxFbGVtZW50ID0gbnVsbDtcblxuICAgIC8vIGdldCBkZWZhdWx0IG9wdGlvbnNcbiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSBnZXRPcHRpb25zKCk7XG5cbiAgICAvLyBjcmVhdGUgdGhlIGRhdGEgc3RvcmUsIHRoaXMgd2lsbCBjb250YWluIGFsbCBvdXIgYXBwIGluZm9cbiAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZShcbiAgICAgIC8vIGluaXRpYWwgc3RhdGUgKHNob3VsZCBiZSBzZXJpYWxpemFibGUpXG4gICAgICBjcmVhdGVJbml0aWFsU3RhdGUoZGVmYXVsdE9wdGlvbnMpLFxuXG4gICAgICAvLyBxdWVyaWVzXG4gICAgICBbcXVlcmllcywgY3JlYXRlT3B0aW9uUXVlcmllcyhkZWZhdWx0T3B0aW9ucyldLFxuXG4gICAgICAvLyBhY3Rpb24gaGFuZGxlcnNcbiAgICAgIFthY3Rpb25zLCBjcmVhdGVPcHRpb25BY3Rpb25zKGRlZmF1bHRPcHRpb25zKV1cbiAgICApO1xuXG4gICAgLy8gc2V0IGluaXRpYWwgb3B0aW9uc1xuICAgIHN0b3JlLmRpc3BhdGNoKCdTRVRfT1BUSU9OUycsIHsgb3B0aW9uczogaW5pdGlhbE9wdGlvbnMgfSk7XG5cbiAgICAvLyBraWNrIHRocmVhZCBpZiB2aXNpYmlsaXR5IGNoYW5nZXNcbiAgICB2YXIgdmlzaWJpbGl0eUhhbmRsZXIgPSBmdW5jdGlvbiB2aXNpYmlsaXR5SGFuZGxlcigpIHtcbiAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHJldHVybjtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKCdLSUNLJyk7XG4gICAgfTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgdmlzaWJpbGl0eUhhbmRsZXIpO1xuXG4gICAgLy8gcmUtcmVuZGVyIG9uIHdpbmRvdyByZXNpemUgc3RhcnQgYW5kIGZpbmlzaFxuICAgIHZhciByZXNpemVEb25lVGltZXIgPSBudWxsO1xuICAgIHZhciBpc1Jlc2l6aW5nID0gZmFsc2U7XG4gICAgdmFyIGlzUmVzaXppbmdIb3Jpem9udGFsbHkgPSBmYWxzZTtcbiAgICB2YXIgaW5pdGlhbFdpbmRvd1dpZHRoID0gbnVsbDtcbiAgICB2YXIgY3VycmVudFdpbmRvd1dpZHRoID0gbnVsbDtcbiAgICB2YXIgcmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoKSB7XG4gICAgICBpZiAoIWlzUmVzaXppbmcpIHtcbiAgICAgICAgaXNSZXNpemluZyA9IHRydWU7XG4gICAgICB9XG4gICAgICBjbGVhclRpbWVvdXQocmVzaXplRG9uZVRpbWVyKTtcbiAgICAgIHJlc2l6ZURvbmVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzUmVzaXppbmcgPSBmYWxzZTtcbiAgICAgICAgaW5pdGlhbFdpbmRvd1dpZHRoID0gbnVsbDtcbiAgICAgICAgY3VycmVudFdpbmRvd1dpZHRoID0gbnVsbDtcbiAgICAgICAgaWYgKGlzUmVzaXppbmdIb3Jpem9udGFsbHkpIHtcbiAgICAgICAgICBpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5ID0gZmFsc2U7XG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0RJRF9TVE9QX1JFU0laRScpO1xuICAgICAgICB9XG4gICAgICB9LCA1MDApO1xuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUhhbmRsZXIpO1xuXG4gICAgLy8gcmVuZGVyIGluaXRpYWwgdmlld1xuICAgIHZhciB2aWV3ID0gcm9vdChzdG9yZSwgeyBpZDogZ2V0VW5pcXVlSWQoKSB9KTtcblxuICAgIC8vXG4gICAgLy8gUFJJVkFURSBBUEkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgdmFyIGlzUmVzdGluZyA9IGZhbHNlO1xuICAgIHZhciBpc0hpZGRlbiA9IGZhbHNlO1xuXG4gICAgdmFyIHJlYWRXcml0ZUFwaSA9IHtcbiAgICAgIC8vIG5lY2Vzc2FyeSBmb3IgdXBkYXRlIGxvb3BcblxuICAgICAgLyoqXG4gICAgICAgKiBSZWFkcyBmcm9tIGRvbSAobmV2ZXIgY2FsbCBtYW51YWxseSlcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIF9yZWFkOiBmdW5jdGlvbiBfcmVhZCgpIHtcbiAgICAgICAgLy8gdGVzdCBpZiB3ZSdyZSByZXNpemluZyBob3Jpem9udGFsbHlcbiAgICAgICAgLy8gVE9ETzogc2VlIGlmIHdlIGNhbiBvcHRpbWl6ZSB0aGlzIGJ5IG1lYXN1cmluZyByb290IHJlY3RcbiAgICAgICAgaWYgKGlzUmVzaXppbmcpIHtcbiAgICAgICAgICBjdXJyZW50V2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICBpZiAoIWluaXRpYWxXaW5kb3dXaWR0aCkge1xuICAgICAgICAgICAgaW5pdGlhbFdpbmRvd1dpZHRoID0gY3VycmVudFdpbmRvd1dpZHRoO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5ICYmXG4gICAgICAgICAgICBjdXJyZW50V2luZG93V2lkdGggIT09IGluaXRpYWxXaW5kb3dXaWR0aFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0RJRF9TVEFSVF9SRVNJWkUnKTtcbiAgICAgICAgICAgIGlzUmVzaXppbmdIb3Jpem9udGFsbHkgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0hpZGRlbiAmJiBpc1Jlc3RpbmcpIHtcbiAgICAgICAgICAvLyB0ZXN0IGlmIGlzIG5vIGxvbmdlciBoaWRkZW5cbiAgICAgICAgICBpc1Jlc3RpbmcgPSB2aWV3LmVsZW1lbnQub2Zmc2V0UGFyZW50ID09PSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgcmVzdGluZywgbm8gbmVlZCB0byByZWFkIGFzIG51bWJlcnMgd2lsbCBzdGlsbCBhbGwgYmUgY29ycmVjdFxuICAgICAgICBpZiAoaXNSZXN0aW5nKSByZXR1cm47XG5cbiAgICAgICAgLy8gcmVhZCB2aWV3IGRhdGFcbiAgICAgICAgdmlldy5fcmVhZCgpO1xuXG4gICAgICAgIC8vIGlmIGlzIGhpZGRlbiB3ZSBuZWVkIHRvIGtub3cgc28gd2UgZXhpdCByZXN0IG1vZGUgd2hlbiByZXZlYWxlZFxuICAgICAgICBpc0hpZGRlbiA9IHZpZXcucmVjdC5lbGVtZW50LmhpZGRlbjtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogV3JpdGVzIHRvIGRvbSAobmV2ZXIgY2FsbCBtYW51YWxseSlcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cbiAgICAgIF93cml0ZTogZnVuY3Rpb24gX3dyaXRlKHRzKSB7XG4gICAgICAgIC8vIGdldCBhbGwgYWN0aW9ucyBmcm9tIHN0b3JlXG4gICAgICAgIHZhciBhY3Rpb25zID0gc3RvcmVcbiAgICAgICAgICAucHJvY2Vzc0FjdGlvblF1ZXVlKClcblxuICAgICAgICAgIC8vIGZpbHRlciBvdXQgc2V0IGFjdGlvbnMgKHRoZXNlIHdpbGwgYXV0b21hdGljYWxseSB0cmlnZ2VyIERJRF9TRVQpXG4gICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiAhL15TRVRfLy50ZXN0KGFjdGlvbi50eXBlKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBpZiB3YXMgaWRsaW5nIGFuZCBubyBhY3Rpb25zIHN0b3AgaGVyZVxuICAgICAgICBpZiAoaXNSZXN0aW5nICYmICFhY3Rpb25zLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIHNvbWUgYWN0aW9ucyBtaWdodCB0cmlnZ2VyIGV2ZW50c1xuICAgICAgICByb3V0ZUFjdGlvbnNUb0V2ZW50cyhhY3Rpb25zKTtcblxuICAgICAgICAvLyB1cGRhdGUgdGhlIHZpZXdcbiAgICAgICAgaXNSZXN0aW5nID0gdmlldy5fd3JpdGUodHMsIGFjdGlvbnMsIGlzUmVzaXppbmdIb3Jpem9udGFsbHkpO1xuXG4gICAgICAgIC8vIHdpbGwgY2xlYW4gdXAgYWxsIGFyY2hpdmVkIGl0ZW1zXG4gICAgICAgIHJlbW92ZVJlbGVhc2VkSXRlbXMoc3RvcmUucXVlcnkoJ0dFVF9JVEVNUycpKTtcblxuICAgICAgICAvLyBub3cgaWRsaW5nXG4gICAgICAgIGlmIChpc1Jlc3RpbmcpIHtcbiAgICAgICAgICBzdG9yZS5wcm9jZXNzRGlzcGF0Y2hRdWV1ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vXG4gICAgLy8gRVhQT1NFIEVWRU5UUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9cbiAgICB2YXIgY3JlYXRlRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVFdmVudChuYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAvLyBjcmVhdGUgZGVmYXVsdCBldmVudFxuICAgICAgICB2YXIgZXZlbnQgPSB7XG4gICAgICAgICAgdHlwZTogbmFtZVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIG5vIGRhdGEgdG8gYWRkXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIHJldHVybiBldmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvcHkgcmVsZXZhbnQgcHJvcHNcbiAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ2Vycm9yJykpIHtcbiAgICAgICAgICBldmVudC5lcnJvciA9IGRhdGEuZXJyb3IgPyBPYmplY3QuYXNzaWduKHt9LCBkYXRhLmVycm9yKSA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5zdGF0dXMpIHtcbiAgICAgICAgICBldmVudC5zdGF0dXMgPSBPYmplY3QuYXNzaWduKHt9LCBkYXRhLnN0YXR1cyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5maWxlKSB7XG4gICAgICAgICAgZXZlbnQub3V0cHV0ID0gZGF0YS5maWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb25seSBzb3VyY2UgaXMgYXZhaWxhYmxlLCBlbHNlIGFkZCBpdGVtIGlmIHBvc3NpYmxlXG4gICAgICAgIGlmIChkYXRhLnNvdXJjZSkge1xuICAgICAgICAgIGV2ZW50LmZpbGUgPSBkYXRhLnNvdXJjZTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLml0ZW0gfHwgZGF0YS5pZCkge1xuICAgICAgICAgIHZhciBpdGVtID0gZGF0YS5pdGVtID8gZGF0YS5pdGVtIDogc3RvcmUucXVlcnkoJ0dFVF9JVEVNJywgZGF0YS5pZCk7XG4gICAgICAgICAgZXZlbnQuZmlsZSA9IGl0ZW0gPyBjcmVhdGVJdGVtQVBJKGl0ZW0pIDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1hcCBhbGwgaXRlbXMgaW4gYSBwb3NzaWJsZSBpdGVtcyBhcnJheVxuICAgICAgICBpZiAoZGF0YS5pdGVtcykge1xuICAgICAgICAgIGV2ZW50Lml0ZW1zID0gZGF0YS5pdGVtcy5tYXAoY3JlYXRlSXRlbUFQSSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGlzIGlzIGEgcHJvZ3Jlc3MgZXZlbnQgYWRkIHRoZSBwcm9ncmVzcyBhbW91bnRcbiAgICAgICAgaWYgKC9wcm9ncmVzcy8udGVzdChuYW1lKSkge1xuICAgICAgICAgIGV2ZW50LnByb2dyZXNzID0gZGF0YS5wcm9ncmVzcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvcHkgcmVsZXZhbnQgcHJvcHNcbiAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ29yaWdpbicpICYmIGRhdGEuaGFzT3duUHJvcGVydHkoJ3RhcmdldCcpKSB7XG4gICAgICAgICAgZXZlbnQub3JpZ2luID0gZGF0YS5vcmlnaW47XG4gICAgICAgICAgZXZlbnQudGFyZ2V0ID0gZGF0YS50YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgZXZlbnRSb3V0ZXMgPSB7XG4gICAgICBESURfREVTVFJPWTogY3JlYXRlRXZlbnQoJ2Rlc3Ryb3knKSxcblxuICAgICAgRElEX0lOSVQ6IGNyZWF0ZUV2ZW50KCdpbml0JyksXG5cbiAgICAgIERJRF9USFJPV19NQVhfRklMRVM6IGNyZWF0ZUV2ZW50KCd3YXJuaW5nJyksXG5cbiAgICAgIERJRF9JTklUX0lURU06IGNyZWF0ZUV2ZW50KCdpbml0ZmlsZScpLFxuICAgICAgRElEX1NUQVJUX0lURU1fTE9BRDogY3JlYXRlRXZlbnQoJ2FkZGZpbGVzdGFydCcpLFxuICAgICAgRElEX1VQREFURV9JVEVNX0xPQURfUFJPR1JFU1M6IGNyZWF0ZUV2ZW50KCdhZGRmaWxlcHJvZ3Jlc3MnKSxcbiAgICAgIERJRF9MT0FEX0lURU06IGNyZWF0ZUV2ZW50KCdhZGRmaWxlJyksXG5cbiAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IFtjcmVhdGVFdmVudCgnZXJyb3InKSwgY3JlYXRlRXZlbnQoJ2FkZGZpbGUnKV0sXG5cbiAgICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IFtjcmVhdGVFdmVudCgnZXJyb3InKSwgY3JlYXRlRXZlbnQoJ2FkZGZpbGUnKV0sXG5cbiAgICAgIERJRF9USFJPV19JVEVNX1JFTU9WRV9FUlJPUjogW1xuICAgICAgICBjcmVhdGVFdmVudCgnZXJyb3InKSxcbiAgICAgICAgY3JlYXRlRXZlbnQoJ3JlbW92ZWZpbGUnKVxuICAgICAgXSxcblxuICAgICAgRElEX1BSRVBBUkVfT1VUUFVUOiBjcmVhdGVFdmVudCgncHJlcGFyZWZpbGUnKSxcblxuICAgICAgRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORzogY3JlYXRlRXZlbnQoJ3Byb2Nlc3NmaWxlc3RhcnQnKSxcbiAgICAgIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTOiBjcmVhdGVFdmVudCgncHJvY2Vzc2ZpbGVwcm9ncmVzcycpLFxuICAgICAgRElEX0FCT1JUX0lURU1fUFJPQ0VTU0lORzogY3JlYXRlRXZlbnQoJ3Byb2Nlc3NmaWxlYWJvcnQnKSxcbiAgICAgIERJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkc6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZScpLFxuICAgICAgRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lOR19BTEw6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZXMnKSxcbiAgICAgIERJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiBjcmVhdGVFdmVudCgncHJvY2Vzc2ZpbGVyZXZlcnQnKSxcblxuICAgICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUjogW1xuICAgICAgICBjcmVhdGVFdmVudCgnZXJyb3InKSxcbiAgICAgICAgY3JlYXRlRXZlbnQoJ3Byb2Nlc3NmaWxlJylcbiAgICAgIF0sXG5cbiAgICAgIERJRF9SRU1PVkVfSVRFTTogY3JlYXRlRXZlbnQoJ3JlbW92ZWZpbGUnKSxcblxuICAgICAgRElEX1VQREFURV9JVEVNUzogY3JlYXRlRXZlbnQoJ3VwZGF0ZWZpbGVzJyksXG5cbiAgICAgIERJRF9BQ1RJVkFURV9JVEVNOiBjcmVhdGVFdmVudCgnYWN0aXZhdGVmaWxlJyksXG5cbiAgICAgIERJRF9SRU9SREVSX0lURU1TOiBjcmVhdGVFdmVudCgncmVvcmRlcmZpbGVzJylcbiAgICB9O1xuXG4gICAgdmFyIGV4cG9zZUV2ZW50ID0gZnVuY3Rpb24gZXhwb3NlRXZlbnQoZXZlbnQpIHtcbiAgICAgIC8vIGNyZWF0ZSBldmVudCBvYmplY3QgdG8gYmUgZGlzcGF0Y2hlZFxuICAgICAgdmFyIGRldGFpbCA9IE9iamVjdC5hc3NpZ24oeyBwb25kOiBleHBvcnRzIH0sIGV2ZW50KTtcbiAgICAgIGRlbGV0ZSBkZXRhaWwudHlwZTtcbiAgICAgIHZpZXcuZWxlbWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoJ0ZpbGVQb25kOicgKyBldmVudC50eXBlLCB7XG4gICAgICAgICAgLy8gZXZlbnQgaW5mb1xuICAgICAgICAgIGRldGFpbDogZGV0YWlsLFxuXG4gICAgICAgICAgLy8gZXZlbnQgYmVoYXZpb3VyXG4gICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbXBvc2VkOiB0cnVlIC8vIHRyaWdnZXJzIGxpc3RlbmVycyBvdXRzaWRlIG9mIHNoYWRvdyByb290XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICAvLyBldmVudCBvYmplY3QgdG8gcGFyYW1zIHVzZWQgZm9yIGBvbigpYCBldmVudCBoYW5kbGVycyBhbmQgY2FsbGJhY2tzIGBvbmluaXQoKWBcbiAgICAgIHZhciBwYXJhbXMgPSBbXTtcblxuICAgICAgLy8gaWYgaXMgcG9zc2libGUgZXJyb3IgZXZlbnQsIG1ha2UgaXQgdGhlIGZpcnN0IHBhcmFtXG4gICAgICBpZiAoZXZlbnQuaGFzT3duUHJvcGVydHkoJ2Vycm9yJykpIHtcbiAgICAgICAgcGFyYW1zLnB1c2goZXZlbnQuZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICAvLyBmaWxlIGlzIGFsd2F5cyBzZWN0aW9uXG4gICAgICBpZiAoZXZlbnQuaGFzT3duUHJvcGVydHkoJ2ZpbGUnKSkge1xuICAgICAgICBwYXJhbXMucHVzaChldmVudC5maWxlKTtcbiAgICAgIH1cblxuICAgICAgLy8gYXBwZW5kIG90aGVyIHByb3BzXG4gICAgICB2YXIgZmlsdGVyZWQgPSBbJ3R5cGUnLCAnZXJyb3InLCAnZmlsZSddO1xuICAgICAgT2JqZWN0LmtleXMoZXZlbnQpXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuICFmaWx0ZXJlZC5pbmNsdWRlcyhrZXkpO1xuICAgICAgICB9KVxuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyYW1zLnB1c2goZXZlbnRba2V5XSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyBvbih0eXBlLCAoKSA9PiB7IH0pXG4gICAgICBleHBvcnRzLmZpcmUuYXBwbHkoZXhwb3J0cywgW2V2ZW50LnR5cGVdLmNvbmNhdChwYXJhbXMpKTtcblxuICAgICAgLy8gb25pbml0ID0gKCkgPT4ge31cbiAgICAgIHZhciBoYW5kbGVyID0gc3RvcmUucXVlcnkoJ0dFVF9PTicgKyBldmVudC50eXBlLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgaGFuZGxlci5hcHBseSh2b2lkIDAsIHBhcmFtcyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciByb3V0ZUFjdGlvbnNUb0V2ZW50cyA9IGZ1bmN0aW9uIHJvdXRlQWN0aW9uc1RvRXZlbnRzKGFjdGlvbnMpIHtcbiAgICAgIGlmICghYWN0aW9ucy5sZW5ndGgpIHJldHVybjtcbiAgICAgIGFjdGlvbnNcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gZXZlbnRSb3V0ZXNbYWN0aW9uLnR5cGVdO1xuICAgICAgICB9KVxuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICB2YXIgcm91dGVzID0gZXZlbnRSb3V0ZXNbYWN0aW9uLnR5cGVdO1xuICAgICAgICAgIChBcnJheS5pc0FycmF5KHJvdXRlcykgPyByb3V0ZXMgOiBbcm91dGVzXSkuZm9yRWFjaChmdW5jdGlvbihyb3V0ZSkge1xuICAgICAgICAgICAgLy8gdGhpcyBpc24ndCBmYW50YXN0aWMsIGJ1dCBiZWNhdXNlIG9mIHRoZSBzdGFja2luZyBvZiBzZXR0aW1lb3V0cyBwbHVnaW5zIGNhbiBoYW5kbGUgdGhlIGRpZF9sb2FkIGJlZm9yZSB0aGUgZGlkX2luaXRcbiAgICAgICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gJ0RJRF9JTklUX0lURU0nKSB7XG4gICAgICAgICAgICAgIGV4cG9zZUV2ZW50KHJvdXRlKGFjdGlvbi5kYXRhKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGV4cG9zZUV2ZW50KHJvdXRlKGFjdGlvbi5kYXRhKSk7XG4gICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy9cbiAgICAvLyBQVUJMSUMgQVBJIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL1xuICAgIHZhciBzZXRPcHRpb25zID0gZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ1NFVF9PUFRJT05TJywgeyBvcHRpb25zOiBvcHRpb25zIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0RmlsZSA9IGZ1bmN0aW9uIGdldEZpbGUocXVlcnkpIHtcbiAgICAgIHJldHVybiBzdG9yZS5xdWVyeSgnR0VUX0FDVElWRV9JVEVNJywgcXVlcnkpO1xuICAgIH07XG5cbiAgICB2YXIgcHJlcGFyZUZpbGUgPSBmdW5jdGlvbiBwcmVwYXJlRmlsZShxdWVyeSkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCgnUkVRVUVTVF9JVEVNX1BSRVBBUkUnLCB7XG4gICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoaXRlbSkge1xuICAgICAgICAgICAgcmVzb2x2ZShpdGVtKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIGZhaWx1cmUoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgYWRkRmlsZSA9IGZ1bmN0aW9uIGFkZEZpbGUoc291cmNlKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9XG4gICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGFkZEZpbGVzKFt7IHNvdXJjZTogc291cmNlLCBvcHRpb25zOiBvcHRpb25zIH1dLCB7XG4gICAgICAgICAgaW5kZXg6IG9wdGlvbnMuaW5kZXhcbiAgICAgICAgfSlcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihpdGVtcykge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoaXRlbXMgJiYgaXRlbXNbMF0pO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGlzRmlsZVBvbmRGaWxlID0gZnVuY3Rpb24gaXNGaWxlUG9uZEZpbGUob2JqKSB7XG4gICAgICByZXR1cm4gb2JqLmZpbGUgJiYgb2JqLmlkO1xuICAgIH07XG5cbiAgICB2YXIgcmVtb3ZlRmlsZSA9IGZ1bmN0aW9uIHJlbW92ZUZpbGUocXVlcnksIG9wdGlvbnMpIHtcbiAgICAgIC8vIGlmIG9ubHkgcGFzc2VkIG9wdGlvbnNcbiAgICAgIGlmICh0eXBlb2YgcXVlcnkgPT09ICdvYmplY3QnICYmICFpc0ZpbGVQb25kRmlsZShxdWVyeSkgJiYgIW9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IHF1ZXJ5O1xuICAgICAgICBxdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgLy8gcmVxdWVzdCBpdGVtIHJlbW92YWxcbiAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAnUkVNT1ZFX0lURU0nLFxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7IHF1ZXJ5OiBxdWVyeSB9KVxuICAgICAgKTtcblxuICAgICAgLy8gc2VlIGlmIGl0ZW0gaGFzIGJlZW4gcmVtb3ZlZFxuICAgICAgcmV0dXJuIHN0b3JlLnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU0nLCBxdWVyeSkgPT09IG51bGw7XG4gICAgfTtcblxuICAgIHZhciBhZGRGaWxlcyA9IGZ1bmN0aW9uIGFkZEZpbGVzKCkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDtcbiAgICAgICAgX2tleSA8IF9sZW47XG4gICAgICAgIF9rZXkrK1xuICAgICAgKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciBzb3VyY2VzID0gW107XG4gICAgICAgIHZhciBvcHRpb25zID0ge307XG5cbiAgICAgICAgLy8gdXNlciBwYXNzZWQgYSBzb3VyY2VzIGFycmF5XG4gICAgICAgIGlmIChpc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICAgICAgc291cmNlcy5wdXNoLmFwcGx5KHNvdXJjZXMsIGFyZ3NbMF0pO1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgYXJnc1sxXSB8fCB7fSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdXNlciBwYXNzZWQgc291cmNlcyBhcyBhcmd1bWVudHMsIGxhc3Qgb25lIG1pZ2h0IGJlIG9wdGlvbnMgb2JqZWN0XG4gICAgICAgICAgdmFyIGxhc3RBcmd1bWVudCA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgbGFzdEFyZ3VtZW50ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgIShsYXN0QXJndW1lbnQgaW5zdGFuY2VvZiBCbG9iKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCBhcmdzLnBvcCgpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBhZGQgcmVzdCB0byBzb3VyY2VzXG4gICAgICAgICAgc291cmNlcy5wdXNoLmFwcGx5KHNvdXJjZXMsIGFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0FERF9JVEVNUycsIHtcbiAgICAgICAgICBpdGVtczogc291cmNlcyxcbiAgICAgICAgICBpbmRleDogb3B0aW9ucy5pbmRleCxcbiAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogSW50ZXJhY3Rpb25NZXRob2QuQVBJLFxuICAgICAgICAgIHN1Y2Nlc3M6IHJlc29sdmUsXG4gICAgICAgICAgZmFpbHVyZTogcmVqZWN0XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRGaWxlcyA9IGZ1bmN0aW9uIGdldEZpbGVzKCkge1xuICAgICAgcmV0dXJuIHN0b3JlLnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJyk7XG4gICAgfTtcblxuICAgIHZhciBwcm9jZXNzRmlsZSA9IGZ1bmN0aW9uIHByb2Nlc3NGaWxlKHF1ZXJ5KSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKCdSRVFVRVNUX0lURU1fUFJPQ0VTU0lORycsIHtcbiAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhpdGVtKSB7XG4gICAgICAgICAgICByZXNvbHZlKGl0ZW0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gZmFpbHVyZShlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBwcmVwYXJlRmlsZXMgPSBmdW5jdGlvbiBwcmVwYXJlRmlsZXMoKSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwO1xuICAgICAgICBfa2V5MiA8IF9sZW4yO1xuICAgICAgICBfa2V5MisrXG4gICAgICApIHtcbiAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuICAgICAgdmFyIHF1ZXJpZXMgPSBBcnJheS5pc0FycmF5KGFyZ3NbMF0pID8gYXJnc1swXSA6IGFyZ3M7XG4gICAgICB2YXIgaXRlbXMgPSBxdWVyaWVzLmxlbmd0aCA/IHF1ZXJpZXMgOiBnZXRGaWxlcygpO1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGl0ZW1zLm1hcChwcmVwYXJlRmlsZSkpO1xuICAgIH07XG5cbiAgICB2YXIgcHJvY2Vzc0ZpbGVzID0gZnVuY3Rpb24gcHJvY2Vzc0ZpbGVzKCkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDtcbiAgICAgICAgX2tleTMgPCBfbGVuMztcbiAgICAgICAgX2tleTMrK1xuICAgICAgKSB7XG4gICAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgIH1cbiAgICAgIHZhciBxdWVyaWVzID0gQXJyYXkuaXNBcnJheShhcmdzWzBdKSA/IGFyZ3NbMF0gOiBhcmdzO1xuICAgICAgaWYgKCFxdWVyaWVzLmxlbmd0aCkge1xuICAgICAgICB2YXIgZmlsZXMgPSBnZXRGaWxlcygpLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgIGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLklETEUgJiZcbiAgICAgICAgICAgICAgaXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uTE9DQUxcbiAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgIGl0ZW0uc3RhdHVzICE9PSBJdGVtU3RhdHVzLlBST0NFU1NJTkcgJiZcbiAgICAgICAgICAgIGl0ZW0uc3RhdHVzICE9PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEUgJiZcbiAgICAgICAgICAgIGl0ZW0uc3RhdHVzICE9PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUkVWRVJUX0VSUk9SXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVzLm1hcChwcm9jZXNzRmlsZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHF1ZXJpZXMubWFwKHByb2Nlc3NGaWxlKSk7XG4gICAgfTtcblxuICAgIHZhciByZW1vdmVGaWxlcyA9IGZ1bmN0aW9uIHJlbW92ZUZpbGVzKCkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDtcbiAgICAgICAgX2tleTQgPCBfbGVuNDtcbiAgICAgICAgX2tleTQrK1xuICAgICAgKSB7XG4gICAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICAgIH1cblxuICAgICAgdmFyIHF1ZXJpZXMgPSBBcnJheS5pc0FycmF5KGFyZ3NbMF0pID8gYXJnc1swXSA6IGFyZ3M7XG5cbiAgICAgIHZhciBvcHRpb25zO1xuICAgICAgaWYgKHR5cGVvZiBxdWVyaWVzW3F1ZXJpZXMubGVuZ3RoIC0gMV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG9wdGlvbnMgPSBxdWVyaWVzLnBvcCgpO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICAgIG9wdGlvbnMgPSBhcmdzWzFdO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmlsZXMgPSBnZXRGaWxlcygpO1xuXG4gICAgICBpZiAoIXF1ZXJpZXMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgICAgZmlsZXMubWFwKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgIHJldHVybiByZW1vdmVGaWxlKGZpbGUsIG9wdGlvbnMpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgIC8vIHdoZW4gcmVtb3ZpbmcgYnkgaW5kZXggdGhlIGluZGV4ZXMgc2hpZnQgYWZ0ZXIgZWFjaCBmaWxlIHJlbW92YWwgc28gd2UgbmVlZCB0byBjb252ZXJ0IGluZGV4ZXMgdG8gaWRzXG4gICAgICB2YXIgbWFwcGVkUXVlcmllcyA9IHF1ZXJpZXNcbiAgICAgICAgLm1hcChmdW5jdGlvbihxdWVyeSkge1xuICAgICAgICAgIHJldHVybiBpc051bWJlcihxdWVyeSlcbiAgICAgICAgICAgID8gZmlsZXNbcXVlcnldXG4gICAgICAgICAgICAgID8gZmlsZXNbcXVlcnldLmlkXG4gICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICAgOiBxdWVyeTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbihxdWVyeSkge1xuICAgICAgICAgIHJldHVybiBxdWVyeTtcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBtYXBwZWRRdWVyaWVzLm1hcChmdW5jdGlvbihxKSB7XG4gICAgICAgIHJldHVybiByZW1vdmVGaWxlKHEsIG9wdGlvbnMpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBleHBvcnRzID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHt9LFxuXG4gICAgICBvbigpLFxuICAgICAge30sXG5cbiAgICAgIHJlYWRXcml0ZUFwaSxcbiAgICAgIHt9LFxuXG4gICAgICBjcmVhdGVPcHRpb25BUEkoc3RvcmUsIGRlZmF1bHRPcHRpb25zKSxcbiAgICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE92ZXJyaWRlIG9wdGlvbnMgZGVmaW5lZCBpbiBvcHRpb25zIG9iamVjdFxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgc2V0T3B0aW9uczogc2V0T3B0aW9ucyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZCB0aGUgZ2l2ZW4gZmlsZVxuICAgICAgICAgKiBAcGFyYW0gc291cmNlIC0gdGhlIHNvdXJjZSBvZiB0aGUgZmlsZSAoZWl0aGVyIGEgRmlsZSwgYmFzZTY0IGRhdGEgdXJpIG9yIHVybClcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBvYmplY3QsIHsgaW5kZXg6IDAgfVxuICAgICAgICAgKi9cbiAgICAgICAgYWRkRmlsZTogYWRkRmlsZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZCB0aGUgZ2l2ZW4gZmlsZXNcbiAgICAgICAgICogQHBhcmFtIHNvdXJjZXMgLSB0aGUgc291cmNlcyBvZiB0aGUgZmlsZXMgdG8gbG9hZFxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIG9iamVjdCwgeyBpbmRleDogMCB9XG4gICAgICAgICAqL1xuICAgICAgICBhZGRGaWxlczogYWRkRmlsZXMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGZpbGUgb2JqZWN0cyBtYXRjaGluZyB0aGUgZ2l2ZW4gcXVlcnlcbiAgICAgICAgICogQHBhcmFtIHF1ZXJ5IHsgc3RyaW5nLCBudW1iZXIsIG51bGwgfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RmlsZTogZ2V0RmlsZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBsb2FkIGZpbGUgd2l0aCBnaXZlbiBuYW1lXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSB7IHN0cmluZywgbnVtYmVyLCBudWxsICB9XG4gICAgICAgICAqL1xuICAgICAgICBwcm9jZXNzRmlsZTogcHJvY2Vzc0ZpbGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcXVlc3QgcHJlcGFyZSBvdXRwdXQgZm9yIGZpbGUgd2l0aCBnaXZlbiBuYW1lXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSB7IHN0cmluZywgbnVtYmVyLCBudWxsICB9XG4gICAgICAgICAqL1xuICAgICAgICBwcmVwYXJlRmlsZTogcHJlcGFyZUZpbGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgYSBmaWxlIGJ5IGl0cyBuYW1lXG4gICAgICAgICAqIEBwYXJhbSBxdWVyeSB7IHN0cmluZywgbnVtYmVyLCBudWxsICB9XG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVGaWxlOiByZW1vdmVGaWxlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlcyBhIGZpbGUgdG8gYSBuZXcgbG9jYXRpb24gaW4gdGhlIGZpbGVzIGxpc3RcbiAgICAgICAgICovXG4gICAgICAgIG1vdmVGaWxlOiBmdW5jdGlvbiBtb3ZlRmlsZShxdWVyeSwgaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ01PVkVfSVRFTScsIHsgcXVlcnk6IHF1ZXJ5LCBpbmRleDogaW5kZXggfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYWxsIGZpbGVzICh3cmFwcGVkIGluIHB1YmxpYyBhcGkpXG4gICAgICAgICAqL1xuICAgICAgICBnZXRGaWxlczogZ2V0RmlsZXMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXJ0cyB1cGxvYWRpbmcgYWxsIGZpbGVzXG4gICAgICAgICAqL1xuICAgICAgICBwcm9jZXNzRmlsZXM6IHByb2Nlc3NGaWxlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2xlYXJzIGFsbCBmaWxlcyBmcm9tIHRoZSBmaWxlcyBsaXN0XG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVGaWxlczogcmVtb3ZlRmlsZXMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXJ0cyBwcmVwYXJpbmcgb3V0cHV0IG9mIGFsbCBmaWxlc1xuICAgICAgICAgKi9cbiAgICAgICAgcHJlcGFyZUZpbGVzOiBwcmVwYXJlRmlsZXMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvcnQgbGlzdCBvZiBmaWxlc1xuICAgICAgICAgKi9cbiAgICAgICAgc29ydDogZnVuY3Rpb24gc29ydChjb21wYXJlKSB7XG4gICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdTT1JUJywgeyBjb21wYXJlOiBjb21wYXJlIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCcm93c2UgdGhlIGZpbGUgc3lzdGVtIGZvciBhIGZpbGVcbiAgICAgICAgICovXG4gICAgICAgIGJyb3dzZTogZnVuY3Rpb24gYnJvd3NlKCkge1xuICAgICAgICAgIC8vIG5lZWRzIHRvIGJlIHRyaWdnZXIgZGlyZWN0bHkgYXMgdXNlciBhY3Rpb24gbmVlZHMgdG8gYmUgdHJhY2VhYmxlIChpcyBub3QgdHJhY2VhYmxlIGluIHJlcXVlc3RBbmltYXRpb25GcmFtZSlcbiAgICAgICAgICB2YXIgaW5wdXQgPSB2aWV3LmVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1maWxlXScpO1xuICAgICAgICAgIGlmIChpbnB1dCkge1xuICAgICAgICAgICAgaW5wdXQuY2xpY2soKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3Ryb3lzIHRoZSBhcHBcbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgLy8gcmVxdWVzdCBkZXN0cnVjdGlvblxuICAgICAgICAgIGV4cG9ydHMuZmlyZSgnZGVzdHJveScsIHZpZXcuZWxlbWVudCk7XG5cbiAgICAgICAgICAvLyBzdG9wIGFjdGl2ZSBwcm9jZXNzZXMgKGZpbGUgdXBsb2FkcywgZmV0Y2hlcywgc3R1ZmYgbGlrZSB0aGF0KVxuICAgICAgICAgIC8vIGxvb3Agb3ZlciBpdGVtcyBhbmQgZGVwZW5kaW5nIG9uIHN0YXRlcyBjYWxsIGFib3J0IGZvciBvbmdvaW5nIHByb2Nlc3Nlc1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdBQk9SVF9BTEwnKTtcblxuICAgICAgICAgIC8vIGRlc3Ryb3kgdmlld1xuICAgICAgICAgIHZpZXcuX2Rlc3Ryb3koKTtcblxuICAgICAgICAgIC8vIHN0b3AgbGlzdGVuaW5nIHRvIHJlc2l6ZVxuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVIYW5kbGVyKTtcblxuICAgICAgICAgIC8vIHN0b3AgbGlzdGVuaW5nIHRvIHRoZSB2aXNpYmxpdHljaGFuZ2UgZXZlbnRcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgdmlzaWJpbGl0eUhhbmRsZXIpO1xuXG4gICAgICAgICAgLy8gZGlzcGF0Y2ggZGVzdHJveVxuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdESURfREVTVFJPWScpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnNlcnRzIHRoZSBwbHVnaW4gYmVmb3JlIHRoZSB0YXJnZXQgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiBpbnNlcnRCZWZvcmUkMShlbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGluc2VydEJlZm9yZSh2aWV3LmVsZW1lbnQsIGVsZW1lbnQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnNlcnRzIHRoZSBwbHVnaW4gYWZ0ZXIgdGhlIHRhcmdldCBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBpbnNlcnRBZnRlcjogZnVuY3Rpb24gaW5zZXJ0QWZ0ZXIkMShlbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGluc2VydEFmdGVyKHZpZXcuZWxlbWVudCwgZWxlbWVudCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFwcGVuZHMgdGhlIHBsdWdpbiB0byB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGFwcGVuZFRvOiBmdW5jdGlvbiBhcHBlbmRUbyhlbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQuYXBwZW5kQ2hpbGQodmlldy5lbGVtZW50KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVwbGFjZXMgYW4gZWxlbWVudCB3aXRoIHRoZSBhcHBcbiAgICAgICAgICovXG4gICAgICAgIHJlcGxhY2VFbGVtZW50OiBmdW5jdGlvbiByZXBsYWNlRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgICAgLy8gaW5zZXJ0IHRoZSBhcHAgYmVmb3JlIHRoZSBlbGVtZW50XG4gICAgICAgICAgaW5zZXJ0QmVmb3JlKHZpZXcuZWxlbWVudCwgZWxlbWVudCk7XG5cbiAgICAgICAgICAvLyByZW1vdmUgdGhlIG9yaWdpbmFsIGVsZW1lbnRcbiAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG5cbiAgICAgICAgICAvLyByZW1lbWJlciBvcmlnaW5hbCBlbGVtZW50XG4gICAgICAgICAgb3JpZ2luYWxFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVzdG9yZXMgdGhlIG9yaWdpbmFsIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIHJlc3RvcmVFbGVtZW50OiBmdW5jdGlvbiByZXN0b3JlRWxlbWVudCgpIHtcbiAgICAgICAgICBpZiAoIW9yaWdpbmFsRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBubyBlbGVtZW50IHRvIHJlc3RvcmVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZXN0b3JlIG9yaWdpbmFsIGVsZW1lbnRcbiAgICAgICAgICBpbnNlcnRBZnRlcihvcmlnaW5hbEVsZW1lbnQsIHZpZXcuZWxlbWVudCk7XG5cbiAgICAgICAgICAvLyByZW1vdmUgb3VyIGVsZW1lbnRcbiAgICAgICAgICB2aWV3LmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh2aWV3LmVsZW1lbnQpO1xuXG4gICAgICAgICAgLy8gcmVtb3ZlIHJlZmVyZW5jZVxuICAgICAgICAgIG9yaWdpbmFsRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYXBwIHJvb3QgaXMgYXR0YWNoZWQgdG8gZ2l2ZW4gZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgaXNBdHRhY2hlZFRvOiBmdW5jdGlvbiBpc0F0dGFjaGVkVG8oZWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiB2aWV3LmVsZW1lbnQgPT09IGVsZW1lbnQgfHwgb3JpZ2luYWxFbGVtZW50ID09PSBlbGVtZW50O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSByb290IGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGVsZW1lbnQ6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3LmVsZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHBvbmQgc3RhdHVzXG4gICAgICAgICAqL1xuICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdG9yZS5xdWVyeSgnR0VUX1NUQVRVUycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBEb25lIVxuICAgIHN0b3JlLmRpc3BhdGNoKCdESURfSU5JVCcpO1xuXG4gICAgLy8gY3JlYXRlIGFjdHVhbCBhcGkgb2JqZWN0XG4gICAgcmV0dXJuIGNyZWF0ZU9iamVjdChleHBvcnRzKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlQXBwT2JqZWN0ID0gZnVuY3Rpb24gY3JlYXRlQXBwT2JqZWN0KCkge1xuICAgIHZhciBjdXN0b21PcHRpb25zID1cbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgLy8gZGVmYXVsdCBvcHRpb25zXG4gICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge307XG4gICAgZm9yaW4oZ2V0T3B0aW9ucygpLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICBkZWZhdWx0T3B0aW9uc1trZXldID0gdmFsdWVbMF07XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgYXBwIG9wdGlvbnNcbiAgICB2YXIgYXBwID0gY3JlYXRlQXBwKFxuICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAge30sXG5cbiAgICAgICAgZGVmYXVsdE9wdGlvbnMsXG4gICAgICAgIHt9LFxuXG4gICAgICAgIGN1c3RvbU9wdGlvbnNcbiAgICAgIClcbiAgICApO1xuXG4gICAgLy8gcmV0dXJuIHRoZSBwbHVnaW4gaW5zdGFuY2VcbiAgICByZXR1cm4gYXBwO1xuICB9O1xuXG4gIHZhciBsb3dlckNhc2VGaXJzdExldHRlciA9IGZ1bmN0aW9uIGxvd2VyQ2FzZUZpcnN0TGV0dGVyKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG4gIH07XG5cbiAgdmFyIGF0dHJpYnV0ZU5hbWVUb1Byb3BlcnR5TmFtZSA9IGZ1bmN0aW9uIGF0dHJpYnV0ZU5hbWVUb1Byb3BlcnR5TmFtZShcbiAgICBhdHRyaWJ1dGVOYW1lXG4gICkge1xuICAgIHJldHVybiB0b0NhbWVscyhhdHRyaWJ1dGVOYW1lLnJlcGxhY2UoL15kYXRhLS8sICcnKSk7XG4gIH07XG5cbiAgdmFyIG1hcE9iamVjdCA9IGZ1bmN0aW9uIG1hcE9iamVjdChvYmplY3QsIHByb3BlcnR5TWFwKSB7XG4gICAgLy8gcmVtb3ZlIHVud2FudGVkXG4gICAgZm9yaW4ocHJvcGVydHlNYXAsIGZ1bmN0aW9uKHNlbGVjdG9yLCBtYXBwaW5nKSB7XG4gICAgICBmb3JpbihvYmplY3QsIGZ1bmN0aW9uKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgICAvLyBjcmVhdGUgcmVnZXhwIHNob3J0Y3V0XG4gICAgICAgIHZhciBzZWxlY3RvclJlZ0V4cCA9IG5ldyBSZWdFeHAoc2VsZWN0b3IpO1xuXG4gICAgICAgIC8vIHRlc3RzIGlmXG4gICAgICAgIHZhciBtYXRjaGVzID0gc2VsZWN0b3JSZWdFeHAudGVzdChwcm9wZXJ0eSk7XG5cbiAgICAgICAgLy8gbm8gbWF0Y2gsIHNraXBcbiAgICAgICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlcmUncyBhIG1hcHBpbmcsIHRoZSBvcmlnaW5hbCBwcm9wZXJ0eSBpcyBhbHdheXMgcmVtb3ZlZFxuICAgICAgICBkZWxldGUgb2JqZWN0W3Byb3BlcnR5XTtcblxuICAgICAgICAvLyBzaG91bGQgb25seSByZW1vdmUsIHdlIGRvbmUhXG4gICAgICAgIGlmIChtYXBwaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdmUgdmFsdWUgdG8gbmV3IHByb3BlcnR5XG4gICAgICAgIGlmIChpc1N0cmluZyhtYXBwaW5nKSkge1xuICAgICAgICAgIG9iamVjdFttYXBwaW5nXSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdmUgdG8gZ3JvdXBcbiAgICAgICAgdmFyIGdyb3VwID0gbWFwcGluZy5ncm91cDtcbiAgICAgICAgaWYgKGlzT2JqZWN0KG1hcHBpbmcpICYmICFvYmplY3RbZ3JvdXBdKSB7XG4gICAgICAgICAgb2JqZWN0W2dyb3VwXSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqZWN0W2dyb3VwXVtcbiAgICAgICAgICBsb3dlckNhc2VGaXJzdExldHRlcihwcm9wZXJ0eS5yZXBsYWNlKHNlbGVjdG9yUmVnRXhwLCAnJykpXG4gICAgICAgIF0gPSB2YWx1ZTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBkbyBzdWJtYXBwaW5nXG4gICAgICBpZiAobWFwcGluZy5tYXBwaW5nKSB7XG4gICAgICAgIG1hcE9iamVjdChvYmplY3RbbWFwcGluZy5ncm91cF0sIG1hcHBpbmcubWFwcGluZyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdldEF0dHJpYnV0ZXNBc09iamVjdCA9IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZXNBc09iamVjdChub2RlKSB7XG4gICAgdmFyIGF0dHJpYnV0ZU1hcHBpbmcgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAvLyB0dXJuIGF0dHJpYnV0ZXMgaW50byBvYmplY3RcbiAgICB2YXIgYXR0cmlidXRlcyA9IFtdO1xuICAgIGZvcmluKG5vZGUuYXR0cmlidXRlcywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgIGF0dHJpYnV0ZXMucHVzaChub2RlLmF0dHJpYnV0ZXNbaW5kZXhdKTtcbiAgICB9KTtcblxuICAgIHZhciBvdXRwdXQgPSBhdHRyaWJ1dGVzXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uKGF0dHJpYnV0ZSkge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlLm5hbWU7XG4gICAgICB9KVxuICAgICAgLnJlZHVjZShmdW5jdGlvbihvYmosIGF0dHJpYnV0ZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhdHRyKG5vZGUsIGF0dHJpYnV0ZS5uYW1lKTtcblxuICAgICAgICBvYmpbYXR0cmlidXRlTmFtZVRvUHJvcGVydHlOYW1lKGF0dHJpYnV0ZS5uYW1lKV0gPVxuICAgICAgICAgIHZhbHVlID09PSBhdHRyaWJ1dGUubmFtZSA/IHRydWUgOiB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sIHt9KTtcblxuICAgIC8vIGRvIG1hcHBpbmcgb2Ygb2JqZWN0IHByb3BlcnRpZXNcbiAgICBtYXBPYmplY3Qob3V0cHV0LCBhdHRyaWJ1dGVNYXBwaW5nKTtcblxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUFwcEF0RWxlbWVudCA9IGZ1bmN0aW9uIGNyZWF0ZUFwcEF0RWxlbWVudChlbGVtZW50KSB7XG4gICAgdmFyIG9wdGlvbnMgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgIC8vIGhvdyBhdHRyaWJ1dGVzIG9mIHRoZSBpbnB1dCBlbGVtZW50IGFyZSBtYXBwZWQgdG8gdGhlIG9wdGlvbnMgZm9yIHRoZSBwbHVnaW5cbiAgICB2YXIgYXR0cmlidXRlTWFwcGluZyA9IHtcbiAgICAgIC8vIHRyYW5zbGF0ZSB0byBvdGhlciBuYW1lXG4gICAgICAnXmNsYXNzJCc6ICdjbGFzc05hbWUnLFxuICAgICAgJ15tdWx0aXBsZSQnOiAnYWxsb3dNdWx0aXBsZScsXG4gICAgICAnXmNhcHR1cmUkJzogJ2NhcHR1cmVNZXRob2QnLFxuICAgICAgJ153ZWJraXRkaXJlY3RvcnkkJzogJ2FsbG93RGlyZWN0b3JpZXNPbmx5JyxcblxuICAgICAgLy8gZ3JvdXAgdW5kZXIgc2luZ2xlIHByb3BlcnR5XG4gICAgICAnXnNlcnZlcic6IHtcbiAgICAgICAgZ3JvdXA6ICdzZXJ2ZXInLFxuICAgICAgICBtYXBwaW5nOiB7XG4gICAgICAgICAgJ15wcm9jZXNzJzoge1xuICAgICAgICAgICAgZ3JvdXA6ICdwcm9jZXNzJ1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAnXnJldmVydCc6IHtcbiAgICAgICAgICAgIGdyb3VwOiAncmV2ZXJ0J1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAnXmZldGNoJzoge1xuICAgICAgICAgICAgZ3JvdXA6ICdmZXRjaCdcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgJ15yZXN0b3JlJzoge1xuICAgICAgICAgICAgZ3JvdXA6ICdyZXN0b3JlJ1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAnXmxvYWQnOiB7XG4gICAgICAgICAgICBncm91cDogJ2xvYWQnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvLyBkb24ndCBpbmNsdWRlIGluIG9iamVjdFxuICAgICAgJ150eXBlJCc6IGZhbHNlLFxuICAgICAgJ15maWxlcyQnOiBmYWxzZVxuICAgIH07XG5cbiAgICAvLyBhZGQgYWRkaXRpb25hbCBvcHRpb24gdHJhbnNsYXRvcnNcbiAgICBhcHBseUZpbHRlcnMoJ1NFVF9BVFRSSUJVVEVfVE9fT1BUSU9OX01BUCcsIGF0dHJpYnV0ZU1hcHBpbmcpO1xuXG4gICAgLy8gY3JlYXRlIGZpbmFsIG9wdGlvbnMgb2JqZWN0IGJ5IHNldHRpbmcgb3B0aW9ucyBvYmplY3QgYW5kIHRoZW4gb3ZlcnJpZGluZyBvcHRpb25zIHN1cHBsaWVkIG9uIGVsZW1lbnRcbiAgICB2YXIgbWVyZ2VkT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuXG4gICAgdmFyIGF0dHJpYnV0ZU9wdGlvbnMgPSBnZXRBdHRyaWJ1dGVzQXNPYmplY3QoXG4gICAgICBlbGVtZW50Lm5vZGVOYW1lID09PSAnRklFTERTRVQnXG4gICAgICAgID8gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPWZpbGVdJylcbiAgICAgICAgOiBlbGVtZW50LFxuICAgICAgYXR0cmlidXRlTWFwcGluZ1xuICAgICk7XG5cbiAgICAvLyBtZXJnZSB3aXRoIG9wdGlvbnMgb2JqZWN0XG4gICAgT2JqZWN0LmtleXMoYXR0cmlidXRlT3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmIChpc09iamVjdChhdHRyaWJ1dGVPcHRpb25zW2tleV0pKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QobWVyZ2VkT3B0aW9uc1trZXldKSkge1xuICAgICAgICAgIG1lcmdlZE9wdGlvbnNba2V5XSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24obWVyZ2VkT3B0aW9uc1trZXldLCBhdHRyaWJ1dGVPcHRpb25zW2tleV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVyZ2VkT3B0aW9uc1trZXldID0gYXR0cmlidXRlT3B0aW9uc1trZXldO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gaWYgcGFyZW50IGlzIGEgZmllbGRzZXQsIGdldCBmaWxlcyBmcm9tIHBhcmVudCBieSBzZWxlY3RpbmcgYWxsIGlucHV0IGZpZWxkcyB0aGF0IGFyZSBub3QgZmlsZSB1cGxvYWQgZmllbGRzXG4gICAgLy8gdGhlc2Ugd2lsbCB0aGVuIGJlIGF1dG9tYXRpY2FsbHkgc2V0IHRvIHRoZSBpbml0aWFsIGZpbGVzXG4gICAgbWVyZ2VkT3B0aW9ucy5maWxlcyA9IChvcHRpb25zLmZpbGVzIHx8IFtdKS5jb25jYXQoXG4gICAgICBBcnJheS5mcm9tKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQ6bm90KFt0eXBlPWZpbGVdKScpKS5tYXAoXG4gICAgICAgIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNvdXJjZTogaW5wdXQudmFsdWUsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgIHR5cGU6IGlucHV0LmRhdGFzZXQudHlwZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuXG4gICAgLy8gYnVpbGQgcGx1Z2luXG4gICAgdmFyIGFwcCA9IGNyZWF0ZUFwcE9iamVjdChtZXJnZWRPcHRpb25zKTtcblxuICAgIC8vIGFkZCBhbHJlYWR5IHNlbGVjdGVkIGZpbGVzXG4gICAgaWYgKGVsZW1lbnQuZmlsZXMpIHtcbiAgICAgIEFycmF5LmZyb20oZWxlbWVudC5maWxlcykuZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIGFwcC5hZGRGaWxlKGZpbGUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gcmVwbGFjZSB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICBhcHAucmVwbGFjZUVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAvLyBleHBvc2VcbiAgICByZXR1cm4gYXBwO1xuICB9O1xuXG4gIC8vIGlmIGFuIGVsZW1lbnQgaXMgcGFzc2VkLCB3ZSBjcmVhdGUgdGhlIGluc3RhbmNlIGF0IHRoYXQgZWxlbWVudCwgaWYgbm90LCB3ZSBqdXN0IGNyZWF0ZSBhbiB1cCBvYmplY3RcbiAgdmFyIGNyZWF0ZUFwcCQxID0gZnVuY3Rpb24gY3JlYXRlQXBwKCkge1xuICAgIHJldHVybiBpc05vZGUoYXJndW1lbnRzLmxlbmd0aCA8PSAwID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzBdKVxuICAgICAgPyBjcmVhdGVBcHBBdEVsZW1lbnQuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpXG4gICAgICA6IGNyZWF0ZUFwcE9iamVjdC5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgdmFyIFBSSVZBVEVfTUVUSE9EUyA9IFsnZmlyZScsICdfcmVhZCcsICdfd3JpdGUnXTtcblxuICB2YXIgY3JlYXRlQXBwQVBJID0gZnVuY3Rpb24gY3JlYXRlQXBwQVBJKGFwcCkge1xuICAgIHZhciBhcGkgPSB7fTtcblxuICAgIGNvcHlPYmplY3RQcm9wZXJ0aWVzVG9PYmplY3QoYXBwLCBhcGksIFBSSVZBVEVfTUVUSE9EUyk7XG5cbiAgICByZXR1cm4gYXBpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBwbGFjZWhvbGRlcnMgaW4gZ2l2ZW4gc3RyaW5nIHdpdGggcmVwbGFjZW1lbnRzXG4gICAqIEBwYXJhbSBzdHJpbmcgLSBcIkZvbyB7YmFyfVwiXCJcbiAgICogQHBhcmFtIHJlcGxhY2VtZW50cyAtIHsgXCJiYXJcIjogMTAgfVxuICAgKi9cbiAgdmFyIHJlcGxhY2VJblN0cmluZyA9IGZ1bmN0aW9uIHJlcGxhY2VJblN0cmluZyhzdHJpbmcsIHJlcGxhY2VtZW50cykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvKD86eyhbYS16QS1aXSspfSkvZywgZnVuY3Rpb24obWF0Y2gsIGdyb3VwKSB7XG4gICAgICByZXR1cm4gcmVwbGFjZW1lbnRzW2dyb3VwXTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlV29ya2VyID0gZnVuY3Rpb24gY3JlYXRlV29ya2VyKGZuKSB7XG4gICAgdmFyIHdvcmtlckJsb2IgPSBuZXcgQmxvYihbJygnLCBmbi50b1N0cmluZygpLCAnKSgpJ10sIHtcbiAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0J1xuICAgIH0pO1xuXG4gICAgdmFyIHdvcmtlclVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwod29ya2VyQmxvYik7XG4gICAgdmFyIHdvcmtlciA9IG5ldyBXb3JrZXIod29ya2VyVVJMKTtcblxuICAgIHJldHVybiB7XG4gICAgICB0cmFuc2ZlcjogZnVuY3Rpb24gdHJhbnNmZXIobWVzc2FnZSwgY2IpIHt9LFxuICAgICAgcG9zdDogZnVuY3Rpb24gcG9zdChtZXNzYWdlLCBjYiwgdHJhbnNmZXJMaXN0KSB7XG4gICAgICAgIHZhciBpZCA9IGdldFVuaXF1ZUlkKCk7XG5cbiAgICAgICAgd29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBpZiAoZS5kYXRhLmlkID09PSBpZCkge1xuICAgICAgICAgICAgY2IoZS5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICB0cmFuc2Zlckxpc3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB0ZXJtaW5hdGU6IGZ1bmN0aW9uIHRlcm1pbmF0ZSgpIHtcbiAgICAgICAgd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHdvcmtlclVSTCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICB2YXIgbG9hZEltYWdlID0gZnVuY3Rpb24gbG9hZEltYWdlKHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgfTtcbiAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24oZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9O1xuICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmVuYW1lRmlsZSA9IGZ1bmN0aW9uIHJlbmFtZUZpbGUoZmlsZSwgbmFtZSkge1xuICAgIHZhciByZW5hbWVkRmlsZSA9IGZpbGUuc2xpY2UoMCwgZmlsZS5zaXplLCBmaWxlLnR5cGUpO1xuICAgIHJlbmFtZWRGaWxlLmxhc3RNb2RpZmllZERhdGUgPSBmaWxlLmxhc3RNb2RpZmllZERhdGU7XG4gICAgcmVuYW1lZEZpbGUubmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIHJlbmFtZWRGaWxlO1xuICB9O1xuXG4gIHZhciBjb3B5RmlsZSA9IGZ1bmN0aW9uIGNvcHlGaWxlKGZpbGUpIHtcbiAgICByZXR1cm4gcmVuYW1lRmlsZShmaWxlLCBmaWxlLm5hbWUpO1xuICB9O1xuXG4gIC8vIGFscmVhZHkgcmVnaXN0ZXJlZCBwbHVnaW5zIChjYW4ndCByZWdpc3RlciB0d2ljZSlcbiAgdmFyIHJlZ2lzdGVyZWRQbHVnaW5zID0gW107XG5cbiAgLy8gcGFzcyB1dGlscyB0byBwbHVnaW5cbiAgdmFyIGNyZWF0ZUFwcFBsdWdpbiA9IGZ1bmN0aW9uIGNyZWF0ZUFwcFBsdWdpbihwbHVnaW4pIHtcbiAgICAvLyBhbHJlYWR5IHJlZ2lzdGVyZWRcbiAgICBpZiAocmVnaXN0ZXJlZFBsdWdpbnMuaW5jbHVkZXMocGx1Z2luKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHJlbWVtYmVyIHRoaXMgcGx1Z2luXG4gICAgcmVnaXN0ZXJlZFBsdWdpbnMucHVzaChwbHVnaW4pO1xuXG4gICAgLy8gc2V0dXAhXG4gICAgdmFyIHBsdWdpbk91dGxpbmUgPSBwbHVnaW4oe1xuICAgICAgYWRkRmlsdGVyOiBhZGRGaWx0ZXIsXG4gICAgICB1dGlsczoge1xuICAgICAgICBUeXBlOiBUeXBlLFxuICAgICAgICBmb3JpbjogZm9yaW4sXG4gICAgICAgIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgICAgICAgaXNGaWxlOiBpc0ZpbGUsXG4gICAgICAgIHRvTmF0dXJhbEZpbGVTaXplOiB0b05hdHVyYWxGaWxlU2l6ZSxcbiAgICAgICAgcmVwbGFjZUluU3RyaW5nOiByZXBsYWNlSW5TdHJpbmcsXG4gICAgICAgIGdldEV4dGVuc2lvbkZyb21GaWxlbmFtZTogZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lLFxuICAgICAgICBnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb246IGdldEZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbixcbiAgICAgICAgZ3Vlc3N0aW1hdGVNaW1lVHlwZTogZ3Vlc3N0aW1hdGVNaW1lVHlwZSxcbiAgICAgICAgZ2V0RmlsZUZyb21CbG9iOiBnZXRGaWxlRnJvbUJsb2IsXG4gICAgICAgIGdldEZpbGVuYW1lRnJvbVVSTDogZ2V0RmlsZW5hbWVGcm9tVVJMLFxuICAgICAgICBjcmVhdGVSb3V0ZTogY3JlYXRlUm91dGUsXG4gICAgICAgIGNyZWF0ZVdvcmtlcjogY3JlYXRlV29ya2VyLFxuICAgICAgICBjcmVhdGVWaWV3OiBjcmVhdGVWaWV3LFxuICAgICAgICBjcmVhdGVJdGVtQVBJOiBjcmVhdGVJdGVtQVBJLFxuICAgICAgICBsb2FkSW1hZ2U6IGxvYWRJbWFnZSxcbiAgICAgICAgY29weUZpbGU6IGNvcHlGaWxlLFxuICAgICAgICByZW5hbWVGaWxlOiByZW5hbWVGaWxlLFxuICAgICAgICBjcmVhdGVCbG9iOiBjcmVhdGVCbG9iLFxuICAgICAgICBhcHBseUZpbHRlckNoYWluOiBhcHBseUZpbHRlckNoYWluLFxuICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICBnZXROdW1lcmljQXNwZWN0UmF0aW9Gcm9tU3RyaW5nOiBnZXROdW1lcmljQXNwZWN0UmF0aW9Gcm9tU3RyaW5nXG4gICAgICB9LFxuXG4gICAgICB2aWV3czoge1xuICAgICAgICBmaWxlQWN0aW9uQnV0dG9uOiBmaWxlQWN0aW9uQnV0dG9uXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBhZGQgcGx1Z2luIG9wdGlvbnMgdG8gZGVmYXVsdCBvcHRpb25zXG4gICAgZXh0ZW5kRGVmYXVsdE9wdGlvbnMocGx1Z2luT3V0bGluZS5vcHRpb25zKTtcbiAgfTtcblxuICAvLyBmZWF0dXJlIGRldGVjdGlvbiB1c2VkIGJ5IHN1cHBvcnRlZCgpIG1ldGhvZFxuICB2YXIgaXNPcGVyYU1pbmkgPSBmdW5jdGlvbiBpc09wZXJhTWluaSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5vcGVyYW1pbmkpID09PSAnW29iamVjdCBPcGVyYU1pbmldJ1xuICAgICk7XG4gIH07XG4gIHZhciBoYXNQcm9taXNlcyA9IGZ1bmN0aW9uIGhhc1Byb21pc2VzKCkge1xuICAgIHJldHVybiAnUHJvbWlzZScgaW4gd2luZG93O1xuICB9O1xuICB2YXIgaGFzQmxvYlNsaWNlID0gZnVuY3Rpb24gaGFzQmxvYlNsaWNlKCkge1xuICAgIHJldHVybiAnc2xpY2UnIGluIEJsb2IucHJvdG90eXBlO1xuICB9O1xuICB2YXIgaGFzQ3JlYXRlT2JqZWN0VVJMID0gZnVuY3Rpb24gaGFzQ3JlYXRlT2JqZWN0VVJMKCkge1xuICAgIHJldHVybiAnVVJMJyBpbiB3aW5kb3cgJiYgJ2NyZWF0ZU9iamVjdFVSTCcgaW4gd2luZG93LlVSTDtcbiAgfTtcbiAgdmFyIGhhc1Zpc2liaWxpdHkgPSBmdW5jdGlvbiBoYXNWaXNpYmlsaXR5KCkge1xuICAgIHJldHVybiAndmlzaWJpbGl0eVN0YXRlJyBpbiBkb2N1bWVudDtcbiAgfTtcbiAgdmFyIGhhc1RpbWluZyA9IGZ1bmN0aW9uIGhhc1RpbWluZygpIHtcbiAgICByZXR1cm4gJ3BlcmZvcm1hbmNlJyBpbiB3aW5kb3c7XG4gIH07IC8vIGlPUyA4LnhcbiAgdmFyIGhhc0NTU1N1cHBvcnRzID0gZnVuY3Rpb24gaGFzQ1NTU3VwcG9ydHMoKSB7XG4gICAgcmV0dXJuICdzdXBwb3J0cycgaW4gKHdpbmRvdy5DU1MgfHwge30pO1xuICB9OyAvLyB1c2UgdG8gZGV0ZWN0IFNhZmFyaSA5K1xuICB2YXIgaXNJRTExID0gZnVuY3Rpb24gaXNJRTExKCkge1xuICAgIHJldHVybiAvTVNJRXxUcmlkZW50Ly50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgfTtcblxuICB2YXIgc3VwcG9ydGVkID0gKGZ1bmN0aW9uKCkge1xuICAgIC8vIFJ1bnMgaW1taWRpYXRlbHkgYW5kIHRoZW4gcmVtZW1iZXJzIHJlc3VsdCBmb3Igc3Vic2VxdWVudCBjYWxsc1xuICAgIHZhciBpc1N1cHBvcnRlZCA9XG4gICAgICAvLyBIYXMgdG8gYmUgYSBicm93c2VyXG4gICAgICBpc0Jyb3dzZXIoKSAmJlxuICAgICAgLy8gQ2FuJ3QgcnVuIG9uIE9wZXJhIE1pbmkgZHVlIHRvIGxhY2sgb2YgZXZlcnl0aGluZ1xuICAgICAgIWlzT3BlcmFNaW5pKCkgJiZcbiAgICAgIC8vIFJlcXVpcmUgdGhlc2UgQVBJcyB0byBmZWF0dXJlIGRldGVjdCBhIG1vZGVybiBicm93c2VyXG4gICAgICBoYXNWaXNpYmlsaXR5KCkgJiZcbiAgICAgIGhhc1Byb21pc2VzKCkgJiZcbiAgICAgIGhhc0Jsb2JTbGljZSgpICYmXG4gICAgICBoYXNDcmVhdGVPYmplY3RVUkwoKSAmJlxuICAgICAgaGFzVGltaW5nKCkgJiZcbiAgICAgIC8vIGRvZXNuJ3QgbmVlZCBDU1NTdXBwb3J0cyBidXQgaXMgYSBnb29kIHdheSB0byBkZXRlY3QgU2FmYXJpIDkrICh3ZSBkbyB3YW50IHRvIHN1cHBvcnQgSUUxMSB0aG91Z2gpXG4gICAgICAoaGFzQ1NTU3VwcG9ydHMoKSB8fCBpc0lFMTEoKSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXNTdXBwb3J0ZWQ7XG4gICAgfTtcbiAgfSkoKTtcblxuICAvKipcbiAgICogUGx1Z2luIGludGVybmFsIHN0YXRlIChvdmVyIGFsbCBpbnN0YW5jZXMpXG4gICAqL1xuICB2YXIgc3RhdGUgPSB7XG4gICAgLy8gYWN0aXZlIGFwcCBpbnN0YW5jZXMsIHVzZWQgdG8gcmVkcmF3IHRoZSBhcHBzIGFuZCB0byBmaW5kIHRoZSBsYXRlclxuICAgIGFwcHM6IFtdXG4gIH07XG5cbiAgLy8gcGx1Z2luIG5hbWVcbiAgdmFyIG5hbWUgPSAnZmlsZXBvbmQnO1xuXG4gIC8qKlxuICAgKiBQdWJsaWMgUGx1Z2luIG1ldGhvZHNcbiAgICovXG4gIHZhciBmbiA9IGZ1bmN0aW9uIGZuKCkge307XG4gIGV4cG9ydHMuU3RhdHVzID0ge307XG4gIGV4cG9ydHMuRmlsZVN0YXR1cyA9IHt9O1xuICBleHBvcnRzLkZpbGVPcmlnaW4gPSB7fTtcbiAgZXhwb3J0cy5PcHRpb25UeXBlcyA9IHt9O1xuICBleHBvcnRzLmNyZWF0ZSA9IGZuO1xuICBleHBvcnRzLmRlc3Ryb3kgPSBmbjtcbiAgZXhwb3J0cy5wYXJzZSA9IGZuO1xuICBleHBvcnRzLmZpbmQgPSBmbjtcbiAgZXhwb3J0cy5yZWdpc3RlclBsdWdpbiA9IGZuO1xuICBleHBvcnRzLmdldE9wdGlvbnMgPSBmbjtcbiAgZXhwb3J0cy5zZXRPcHRpb25zID0gZm47XG5cbiAgLy8gaWYgbm90IHN1cHBvcnRlZCwgbm8gQVBJXG4gIGlmIChzdXBwb3J0ZWQoKSkge1xuICAgIC8vIHN0YXJ0IHBhaW50ZXIgYW5kIGZpcmUgbG9hZCBldmVudFxuICAgIGNyZWF0ZVBhaW50ZXIoXG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgc3RhdGUuYXBwcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcCkge1xuICAgICAgICAgIHJldHVybiBhcHAuX3JlYWQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24odHMpIHtcbiAgICAgICAgc3RhdGUuYXBwcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcCkge1xuICAgICAgICAgIHJldHVybiBhcHAuX3dyaXRlKHRzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIC8vIGZpcmUgbG9hZGVkIGV2ZW50IHNvIHdlIGtub3cgd2hlbiBGaWxlUG9uZCBpcyBhdmFpbGFibGVcbiAgICB2YXIgZGlzcGF0Y2ggPSBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgIC8vIGxldCBvdGhlcnMga25vdyB3ZSBoYXZlIGFyZWEgcmVhZHlcbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIG5ldyBDdXN0b21FdmVudCgnRmlsZVBvbmQ6bG9hZGVkJywge1xuICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgc3VwcG9ydGVkOiBzdXBwb3J0ZWQsXG4gICAgICAgICAgICBjcmVhdGU6IGV4cG9ydHMuY3JlYXRlLFxuICAgICAgICAgICAgZGVzdHJveTogZXhwb3J0cy5kZXN0cm95LFxuICAgICAgICAgICAgcGFyc2U6IGV4cG9ydHMucGFyc2UsXG4gICAgICAgICAgICBmaW5kOiBleHBvcnRzLmZpbmQsXG4gICAgICAgICAgICByZWdpc3RlclBsdWdpbjogZXhwb3J0cy5yZWdpc3RlclBsdWdpbixcbiAgICAgICAgICAgIHNldE9wdGlvbnM6IGV4cG9ydHMuc2V0T3B0aW9uc1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIC8vIGNsZWFuIHVwIGV2ZW50XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZGlzcGF0Y2gpO1xuICAgIH07XG5cbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2xvYWRpbmcnKSB7XG4gICAgICAvLyBtb3ZlIHRvIGJhY2sgb2YgZXhlY3V0aW9uIHF1ZXVlLCBGaWxlUG9uZCBzaG91bGQgaGF2ZSBiZWVuIGV4cG9ydGVkIGJ5IHRoZW5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaCgpO1xuICAgICAgfSwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBkaXNwYXRjaCk7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlcyB0aGUgT3B0aW9uVHlwZXMgb2JqZWN0IGJhc2VkIG9uIHRoZSBjdXJyZW50IG9wdGlvbnNcbiAgICB2YXIgdXBkYXRlT3B0aW9uVHlwZXMgPSBmdW5jdGlvbiB1cGRhdGVPcHRpb25UeXBlcygpIHtcbiAgICAgIHJldHVybiBmb3JpbihnZXRPcHRpb25zKCksIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgZXhwb3J0cy5PcHRpb25UeXBlc1trZXldID0gdmFsdWVbMV07XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZXhwb3J0cy5TdGF0dXMgPSBPYmplY3QuYXNzaWduKHt9LCBTdGF0dXMpO1xuICAgIGV4cG9ydHMuRmlsZU9yaWdpbiA9IE9iamVjdC5hc3NpZ24oe30sIEZpbGVPcmlnaW4pO1xuICAgIGV4cG9ydHMuRmlsZVN0YXR1cyA9IE9iamVjdC5hc3NpZ24oe30sIEl0ZW1TdGF0dXMpO1xuXG4gICAgZXhwb3J0cy5PcHRpb25UeXBlcyA9IHt9O1xuICAgIHVwZGF0ZU9wdGlvblR5cGVzKCk7XG5cbiAgICAvLyBjcmVhdGUgbWV0aG9kLCBjcmVhdGVzIGFwcHMgYW5kIGFkZHMgdGhlbSB0byB0aGUgYXBwIGFycmF5XG4gICAgZXhwb3J0cy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgYXBwID0gY3JlYXRlQXBwJDEuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgYXBwLm9uKCdkZXN0cm95JywgZXhwb3J0cy5kZXN0cm95KTtcbiAgICAgIHN0YXRlLmFwcHMucHVzaChhcHApO1xuICAgICAgcmV0dXJuIGNyZWF0ZUFwcEFQSShhcHApO1xuICAgIH07XG5cbiAgICAvLyBkZXN0cm95cyBhcHBzIGFuZCByZW1vdmVzIHRoZW0gZnJvbSB0aGUgYXBwIGFycmF5XG4gICAgZXhwb3J0cy5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShob29rKSB7XG4gICAgICAvLyByZXR1cm5zIHRydWUgaWYgdGhlIGFwcCB3YXMgZGVzdHJveWVkIHN1Y2Nlc3NmdWxseVxuICAgICAgdmFyIGluZGV4VG9SZW1vdmUgPSBzdGF0ZS5hcHBzLmZpbmRJbmRleChmdW5jdGlvbihhcHApIHtcbiAgICAgICAgcmV0dXJuIGFwcC5pc0F0dGFjaGVkVG8oaG9vayk7XG4gICAgICB9KTtcbiAgICAgIGlmIChpbmRleFRvUmVtb3ZlID49IDApIHtcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gYXBwc1xuICAgICAgICB2YXIgYXBwID0gc3RhdGUuYXBwcy5zcGxpY2UoaW5kZXhUb1JlbW92ZSwgMSlbMF07XG5cbiAgICAgICAgLy8gcmVzdG9yZSBvcmlnaW5hbCBkb20gZWxlbWVudFxuICAgICAgICBhcHAucmVzdG9yZUVsZW1lbnQoKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvLyBwYXJzZXMgdGhlIGdpdmVuIGNvbnRleHQgZm9yIHBsdWdpbnMgKGRvZXMgbm90IGluY2x1ZGUgdGhlIGNvbnRleHQgZWxlbWVudCBpdHNlbGYpXG4gICAgZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlKGNvbnRleHQpIHtcbiAgICAgIC8vIGdldCBhbGwgcG9zc2libGUgaG9va3NcbiAgICAgIHZhciBtYXRjaGVkSG9va3MgPSBBcnJheS5mcm9tKGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBuYW1lKSk7XG5cbiAgICAgIC8vIGZpbHRlciBvdXQgYWxyZWFkeSBhY3RpdmUgaG9va3NcbiAgICAgIHZhciBuZXdIb29rcyA9IG1hdGNoZWRIb29rcy5maWx0ZXIoZnVuY3Rpb24obmV3SG9vaykge1xuICAgICAgICByZXR1cm4gIXN0YXRlLmFwcHMuZmluZChmdW5jdGlvbihhcHApIHtcbiAgICAgICAgICByZXR1cm4gYXBwLmlzQXR0YWNoZWRUbyhuZXdIb29rKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gY3JlYXRlIG5ldyBpbnN0YW5jZSBmb3IgZWFjaCBob29rXG4gICAgICByZXR1cm4gbmV3SG9va3MubWFwKGZ1bmN0aW9uKGhvb2spIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuY3JlYXRlKGhvb2spO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIHJldHVybnMgYW4gYXBwIGJhc2VkIG9uIHRoZSBnaXZlbiBlbGVtZW50IGhvb2tcbiAgICBleHBvcnRzLmZpbmQgPSBmdW5jdGlvbiBmaW5kKGhvb2spIHtcbiAgICAgIHZhciBhcHAgPSBzdGF0ZS5hcHBzLmZpbmQoZnVuY3Rpb24oYXBwKSB7XG4gICAgICAgIHJldHVybiBhcHAuaXNBdHRhY2hlZFRvKGhvb2spO1xuICAgICAgfSk7XG4gICAgICBpZiAoIWFwcCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVBcHBBUEkoYXBwKTtcbiAgICB9O1xuXG4gICAgLy8gYWRkcyBhIHBsdWdpbiBleHRlbnNpb25cbiAgICBleHBvcnRzLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4oKSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBsdWdpbnMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwO1xuICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgX2tleSsrXG4gICAgICApIHtcbiAgICAgICAgcGx1Z2luc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgLy8gcmVnaXN0ZXIgcGx1Z2luc1xuICAgICAgcGx1Z2lucy5mb3JFYWNoKGNyZWF0ZUFwcFBsdWdpbik7XG5cbiAgICAgIC8vIHVwZGF0ZSBPcHRpb25UeXBlcywgZWFjaCBwbHVnaW4gbWlnaHQgaGF2ZSBleHRlbmRlZCB0aGUgZGVmYXVsdCBvcHRpb25zXG4gICAgICB1cGRhdGVPcHRpb25UeXBlcygpO1xuICAgIH07XG5cbiAgICBleHBvcnRzLmdldE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRPcHRpb25zJDEoKSB7XG4gICAgICB2YXIgb3B0cyA9IHt9O1xuICAgICAgZm9yaW4oZ2V0T3B0aW9ucygpLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgIG9wdHNba2V5XSA9IHZhbHVlWzBdO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb3B0cztcbiAgICB9O1xuXG4gICAgZXhwb3J0cy5zZXRPcHRpb25zID0gZnVuY3Rpb24gc2V0T3B0aW9ucyQxKG9wdHMpIHtcbiAgICAgIGlmIChpc09iamVjdChvcHRzKSkge1xuICAgICAgICAvLyB1cGRhdGUgZXhpc3RpbmcgcGx1Z2luc1xuICAgICAgICBzdGF0ZS5hcHBzLmZvckVhY2goZnVuY3Rpb24oYXBwKSB7XG4gICAgICAgICAgYXBwLnNldE9wdGlvbnMob3B0cyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIG92ZXJyaWRlIGRlZmF1bHRzXG4gICAgICAgIHNldE9wdGlvbnMob3B0cyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHJldHVybiBuZXcgb3B0aW9uc1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZ2V0T3B0aW9ucygpO1xuICAgIH07XG4gIH1cblxuICBleHBvcnRzLnN1cHBvcnRlZCA9IHN1cHBvcnRlZDtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufSk7XG4iLCIvLyBwb2x5ZmlsbHNcbmltcG9ydCAnd2hhdHdnLWZldGNoJztcblxuLy8gcmVhY3RcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuLy8gaW1wb3J0IGNzcyB0byBtYWtlIHN1cmUgaXQgaXMgZ2VuZXJhdGVkIGluIHRoZSByZXN1bHRcbmltcG9ydCAnLi9jc3MvZGVmYXVsdC5sZXNzJztcblxuLy8gdGhlIG1vZHVsZVxuaW1wb3J0IE9wZW5TdGFkQ29tcG9uZW50SWRlYURldGFpbHMgZnJvbSAnLi9jb21wb25lbnQvaWRlYS1kZXRhaWxzLmpzeCc7XG5cbi8vIHJlbmRlciBlbGVtZW50c1xuT3BlblN0YWRDb21wb25lbnRJZGVhRGV0YWlscy5yZW5kZXJFbGVtZW50ID0gZnVuY3Rpb24gcmVuZGVyRWxlbWVudCggZWxlbSwgY29uZmlnICkge1xuICBsZXQgYXR0cmlidXRlcyA9IGVsZW0uYXR0cmlidXRlcztcblx0UmVhY3RET00ucmVuZGVyKCA8T3BlblN0YWRDb21wb25lbnRJZGVhRGV0YWlscyBhdHRyaWJ1dGVzPXthdHRyaWJ1dGVzfSBjb25maWc9e2NvbmZpZ30vPiwgZWxlbSlcbn1cblxuZXhwb3J0IHtcbiAgT3BlblN0YWRDb21wb25lbnRJZGVhRGV0YWlscyBhcyBkZWZhdWx0LFxuICBPcGVuU3RhZENvbXBvbmVudElkZWFEZXRhaWxzIGFzIElkZWFEZXRhaWxzLFxufTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnQgZnJvbSAnLi4vLi4vY29tcG9uZW50L2luZGV4LmpzeCc7XG5pbXBvcnQgT3BlblN0YWRDb21wb25lbnRMaWJzIGZyb20gJy4uLy4uL2xpYnMvaW5kZXguanN4JztcblxuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWb3RlQnV0dG9uIGV4dGVuZHMgT3BlblN0YWRDb21wb25lbnQge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cbiAgICBzdXBlcihwcm9wcywge1xuICAgICAgbmFtZTogJ2xpa2VidXR0b24nLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzE2NDk5NScsXG4gICAgICBjb2xvcjogJyNmZmYnLFxuICAgICAgdGV4dDogJ2xpa2UnLFxuICAgICAgb3BpbmlvbjogJ3llcycsXG5cdFx0fSk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdmFsdWU6IHRoaXMucHJvcHMudmFsdWUsXG4gICAgICBidXN5OiBmYWxzZSxcbiAgICB9XG5cbiAgfVxuXG5cdGNvbXBvbmVudERpZE1vdW50KHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgLy8gcmV0dXJuIGZyb20gYW5vbnltb3VzIGxvZ2luXG4gICAgbGV0IHZvdGVQZW5kaW5nID0gT3BlblN0YWRDb21wb25lbnRMaWJzLmxvY2FsU3RvcmFnZS5nZXQoJ29zYy1pZGVhcy1vbi1tYXAtdm90ZS1wZW5kaW5nJyk7XG4gICAgaWYgKHZvdGVQZW5kaW5nKSB7XG5cdFx0XHR0aGlzLmRvVm90ZSgpO1xuICAgICAgT3BlblN0YWRDb21wb25lbnRMaWJzLmxvY2FsU3RvcmFnZS5yZW1vdmUoJ29zYy1pZGVhcy1vbi1tYXAtdm90ZS1wZW5kaW5nJyk7XG5cdFx0fVxuICB9XG5cbiAgZG9Wb3RlKGUpIHtcblxuICAgIGlmIChlKSBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuYnVzeSkgcmV0dXJuO1xuICAgIHRoaXMuc2V0U3RhdGUoeyBidXN5OiB0cnVlIH0pO1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGxldCB1cmwgPSBgJHsgc2VsZi5jb25maWcuYXBpLnVybCB9L2FwaS9zaXRlLyR7IHNlbGYuY29uZmlnLnNpdGVJZCB9L3ZvdGVgO1xuICAgICAgbGV0IGhlYWRlcnMgPSBPcGVuU3RhZENvbXBvbmVudExpYnMuYXBpLmdldEhlYWRlcnMoc2VsZi5jb25maWcpO1xuXG4gICAgLy8gaWYgKCFzZWxmLmNvbmZpZy5hcGkuaXNVc2VyTG9nZ2VkSW4pIHVybCArPSAnP3VzZU9hdXRoPWFub255bW91cydcbiAgICBpZiAoISggc2VsZi5jb25maWcudXNlciAmJiBzZWxmLmNvbmZpZy51c2VyLnJvbGUgKSkge1xuICAgICAgT3BlblN0YWRDb21wb25lbnRMaWJzLmxvY2FsU3RvcmFnZS5zZXQoJ29zYy1pZGVhcy1vbi1tYXAtdm90ZS1wZW5kaW5nJywgdHJ1ZSApO1xuICAgICAgbGV0IGxvZ2luVXJsID0gICcvb2F1dGgvbG9naW4/cmV0dXJuVG89JyArIGVuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5sb2NhdGlvbi5ocmVmKSArICcmdXNlT2F1dGg9YW5vbnltb3VzJztcbiAgICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gbG9naW5Vcmw7XG4gICAgfVxuXG4gICAgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGlkZWFJZDogc2VsZi5wcm9wcy5pZGVhLmlkLFxuICAgICAgICBvcGluaW9uOiBzZWxmLmNvbmZpZy5vcGluaW9uLFxuICAgICAgfSlcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IEVycm9yKCdTdGVtbWVuIGlzIG5pZXQgZ2VsdWt0JylcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigganNvbiA9PiB7XG5cbiAgICAgICAgbGV0IGNoYW5nZSA9IGpzb24ubGVuZ3RoID8gMSA6IC0xO1xuICAgICAgICBsZXQgdmFsdWUgPSBzZWxmLnN0YXRlLnZhbHVlICsgY2hhbmdlO1xuICAgICAgICBzZWxmLnNldFN0YXRlKHsgdmFsdWUgfSlcblxuICAgICAgICBzZWxmLnByb3BzLmlkZWEudXNlclZvdGUgPSBqc29uLmxlbmd0aCAmJiBqc29uIHx8IG51bGw7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGJ1c3k6IGZhbHNlIH0pO1xuXG5cdFx0ICAgIHZhciBldmVudCA9IG5ldyB3aW5kb3cuQ3VzdG9tRXZlbnQoJ29zYy1pZGVhLWxpa2VkJywgeyBkZXRhaWw6IHsgaWRlYUlkOiBzZWxmLnByb3BzLmlkZWEuaWQsIGNoYW5nZSB9IH0pO1xuXHRcdCAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGFsZXJ0KGVyci5tZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgIFxuICB9XG5cblx0cmVuZGVyKCkge1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgbGV0IHZhbHVlID0gcGFyc2VJbnQoc2VsZi5zdGF0ZS52YWx1ZSkgfHwgMDtcblxuXHQgIGxldCB2YWx1ZTAwMCA9IHBhcnNlSW50KHZhbHVlLzEwMCkgfHwgMDtcblx0ICBsZXQgdmFsdWUwMCAgPSBwYXJzZUludCgoIHZhbHVlIC0gMTAwICogdmFsdWUwMDAgKS8xMCkgfHwgMDtcblx0ICBsZXQgdmFsdWUwICAgPSB2YWx1ZSAtIHZhbHVlMDAwICogMTAwIC0gdmFsdWUwMCAqIDEwO1xuXG4gICAgcmV0dXJuIChcblx0ICAgIDxkaXYgaWQ9e3NlbGYuaWR9IGNsYXNzTmFtZT17c2VsZi5wcm9wcy5jbGFzc05hbWUgfHwgJ29zYy12b3RlLWJ1dHRvbiBvc2MtbnVtYmVyLWJ1dHRvbid9IHJlZj17ZWwgPT4gKHNlbGYuaW5zdGFuY2UgPSBlbCl9PlxuXHRcdCAgICA8ZGl2IGNsYXNzTmFtZT1cIm9zYy1udW1iZXItcGxhdGVzXCIgc3R5bGU9e3sgY29sb3I6IHRoaXMuY29uZmlnLmNvbG9yLCBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuY29uZmlnLmJhY2tncm91bmRDb2xvciB9fT5cblx0XHRcdCAgICA8ZGl2IGlkPXtgJHt0aGlzLmNvbmZpZy5uYW1lfS1udW1iZXItcGxhdGUtMDAwYH0gY2xhc3NOYW1lPVwib3NjLW51bWJlci1wbGF0ZVwiPnt2YWx1ZTAwMH08L2Rpdj5cblx0XHRcdCAgICA8ZGl2IGlkPXtgJHt0aGlzLmNvbmZpZy5uYW1lfS1udW1iZXItcGxhdGUtMDBgfSBjbGFzc05hbWU9XCJvc2MtbnVtYmVyLXBsYXRlXCI+e3ZhbHVlMDB9PC9kaXY+XG5cdFx0XHQgICAgPGRpdiBpZD17YCR7dGhpcy5jb25maWcubmFtZX0tbnVtYmVyLXBsYXRlLTBgfSBjbGFzc05hbWU9XCJvc2MtbnVtYmVyLXBsYXRlXCI+e3ZhbHVlMH08L2Rpdj5cblx0XHQgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgb3NjLW51bWJlci1idXR0b24tdGV4dCAke3RoaXMuY29uZmlnLm5hbWV9LW5hbWUgJHt0aGlzLnByb3BzLmlkZWEudXNlclZvdGUgPyAnIG9zYy11c2VyLWhhcy12b3RlZCcgOiAnJ30gJHt0aGlzLnN0YXRlLmJ1c3kgPyAnIG9zYy1idXN5JyA6ICcnfWB9IHN0eWxlPXt7IGNvbG9yOiB0aGlzLmNvbmZpZy5jb2xvciwgYmFja2dyb3VuZENvbG9yOiB0aGlzLmNvbmZpZy5iYWNrZ3JvdW5kQ29sb3IgfX0gb25DbGljaz17IChlKSA9PiBzZWxmLmRvVm90ZShlKSB9PlxuXHRcdFx0ICAgIHtzZWxmLmNvbmZpZy50ZXh0fVxuXHRcdCAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvc2MtY2xlYXItYm90aFwiPjwvZGl2PlxuXHQgICAgPC9kaXY+XG4gICAgKTtcblxuICB9XG5cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=